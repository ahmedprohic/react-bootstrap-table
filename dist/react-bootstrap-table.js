!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactBootstrapTable=t(require("react"),require("react-dom")):e.ReactBootstrapTable=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=o(n),s=r(24),a=o(s),u=r(8);"undefined"!=typeof window&&(window.BootstrapTable=i["default"],window.TableHeaderColumn=a["default"],window.TableDataSet=u.TableDataSet),t["default"]={BootstrapTable:i["default"],TableHeaderColumn:a["default"],TableDataSet:u.TableDataSet},e.exports=t["default"]},function(t,r){t.exports=e},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={SORT_DESC:"desc",SORT_ASC:"asc",SIZE_PER_PAGE:10,NEXT_PAGE:">",LAST_PAGE:">>",PRE_PAGE:"<",FIRST_PAGE:"<<",ROW_SELECT_BG_COLOR:"",ROW_SELECT_NONE:"none",ROW_SELECT_SINGLE:"radio",ROW_SELECT_MULTI:"checkbox",CELL_EDIT_NONE:"none",CELL_EDIT_CLICK:"click",CELL_EDIT_DBCLICK:"dbclick",SIZE_PER_PAGE_LIST:[10,25,30,50],PAGINATION_SIZE:5,NO_DATA_TEXT:"There is no data to display",SHOW_ONLY_SELECT:"Show Selected Only",SHOW_ALL:"Show All",FILTER_DELAY:500,FILTER_TYPE:{TEXT:"TextFilter",SELECT:"SelectFilter",NUMBER:"NumberFilter",DATE:"DateFilter",CUSTOM:"CustomFilter"}},e.exports=t["default"]},function(e,t,r){var o,n;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o))e.push(r.apply(null,o));else if("object"===n)for(var s in o)i.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(o=[],n=function(){return r}.apply(t,o),!(void 0!==n&&(e.exports=n)))}()},function(e,r){e.exports=t},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=o(n),s=r(2),a=o(s),u=r(3),l=o(u);t["default"]={renderSortCaret:function(e){var t=document.createElement("span");t.className="order",e==a["default"].SORT_ASC&&(t.className+=" dropup");var r=document.createElement("span");return r.className="caret",r.style.margin="10px 5px",t.appendChild(r),t},renderReactSortCaret:function(e){var t=(0,l["default"])("order",{dropup:e==a["default"].SORT_ASC});return i["default"].createElement("span",{className:t},i["default"].createElement("span",{className:"caret",style:{margin:"10px 5px"}}))},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return r==o&&(o=t.clientWidth),document.body.removeChild(t),r-o}},e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),s=o(i),a=r(9),u=o(a);r(54);var l=r(10),p=o(l),c=function(e,t,r,o,i){if(e===!0||"string"==typeof e){var a=e===!0?"text":e;return s["default"].createElement("input",n({},t,{type:a,defaultValue:i,className:(o||"")+" form-control editor edit-text"}))}if(!e){var a=e===!0?"text":e;return s["default"].createElement("input",n({},t,{type:a,defaultValue:i,disabled:"disabled",className:(o||"")+" form-control editor edit-text"}))}if(e.type){if(e.style&&(t.style=e.style),t.className=(o||"")+" form-control editor edit-"+e.type+(e.className?" "+e.className:""),"select"===e.type){var l=[],c=e.options.values;if(Array.isArray(c)){var d;l=c.map(function(e,t){return d=r?r(e):e,s["default"].createElement("option",{key:"option"+t,value:e},d)})}return s["default"].createElement("select",n({},t,{defaultValue:i}),l)}if("textarea"===e.type){e.cols&&(t.cols=e.cols),e.rows&&(t.rows=e.rows);var f=t.onKeyDown,h=null;return f&&(t.onKeyDown=function(e){13!=e.keyCode&&f(e)},h=s["default"].createElement("butto",{className:"btn btn-info btn-xs textarea-save-btn",onClick:f},"save")),s["default"].createElement("div",null,s["default"].createElement("textarea",n({},t,{defaultValue:i})),h)}if("checkbox"===e.type){var y="true:false";e.options&&e.options.values&&(y=e.options.values),t.className=t.className.replace("form-control",""),t.className+=" checkbox pull-right";var v=!(!i||i.toString()!=y.split(":")[0]);return s["default"].createElement("input",n({},t,{type:"checkbox",value:y,defaultChecked:v}))}if("switch"===e.type){var m="true:false";t.className=t.className.replace("form-control",""),t.className+=" checkbox pull-right";var v=!(!i||i.toString()!=m.split(":")[0]);return s["default"].createElement(u["default"],{className:t.className,defaultChecked:v})}if("react-select"===e.type){var g="undefined"!=typeof e.options.multi?e.options.multi:!1;return s["default"].createElement(p["default"],{className:"pull-right",options:e.options.values,multi:g,simpleValue:!0})}return s["default"].createElement("input",n({},t,{type:a,defaultValue:i}))}return s["default"].createElement("input",n({},t,{type:"text",className:(o||"")+" form-control editor edit-text"}))};t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=(o(p),r(45)),d=l["default"].createFactory(c.ToastMessage.animation),f=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"notice",value:function(e,t,r){this.refs.toastr[e](t,r,{mode:"single",timeOut:5e3,extendedTimeOut:1e3,showAnimation:"animated  bounceIn",hideAnimation:"animated bounceOut"})}},{key:"render",value:function(){return l["default"].createElement(c.ToastContainer,{ref:"toastr",toastMessageFactory:d,id:"toast-container",className:"toast-top-right"})}}]),t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r,o){return r=r.toLowerCase(),e.sort(function(e,n){return o?o(e,n,r):r==p["default"].SORT_DESC?e[t]>n[t]?-1:e[t]<n[t]?1:0:e[t]<n[t]?-1:e[t]>n[t]?1:0}),e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(2),p=o(l),c=r(14).EventEmitter,d=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.data=e}return i(t,e),a(t,[{key:"setData",value:function(e){this.emit("change",e)}},{key:"clear",value:function(){this.data=null}},{key:"getData",value:function(){return this.data}}]),t}(c);t.TableDataSet=d;var f=function(){function e(t){n(this,e),this.data=t,this.colInfos=null,this.filteredData=null,this.isOnFilter=!1,this.filterObj=null,this.searchText=null,this.sortObj=null,this.pageObj={},this.selected=[],this.multiColumnSearch=!1,this.showOnlySelected=!1,this.remote=!1}return a(e,[{key:"setProps",value:function(e){this.keyField=e.keyField,this.enablePagination=e.isPagination,this.colInfos=e.colInfos,this.remote=e.remote,this.multiColumnSearch=e.multiColumnSearch}},{key:"setData",value:function(e){this.data=e,this.isOnFilter&&(null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this.sortObj&&this.sort(this.sortObj.order,this.sortObj.sortField)}},{key:"getSortInfo",value:function(){return this.sortObj}},{key:"setSelectedRowKey",value:function(e){this.selected=e}},{key:"getSelectedRowKeys",value:function(){return this.selected}},{key:"getCurrentDisplayData",value:function(){return this.isOnFilter?this.filteredData:this.data}},{key:"ignoreNonSelected",value:function(){var e=this;this.showOnlySelected=!this.showOnlySelected,this.showOnlySelected?(this.isOnFilter=!0,this.filteredData=this.data.filter(function(t){var r=e.selected.find(function(r){return t[e.keyField]===r});return"undefined"!=typeof r})):this.isOnFilter=!1}},{key:"sort",value:function(e,t){this.sortObj={order:e,sortField:t};var r=this.getCurrentDisplayData();if(!this.colInfos[t])return this;var o=this.colInfos[t].sortFunc;return r=s(r,t,e,o),this}},{key:"page",value:function(e,t){return this.pageObj.end=e*t-1,this.pageObj.start=this.pageObj.end-(t-1),this}},{key:"edit",value:function(e,t,r){var o=this.getCurrentDisplayData(),n=void 0;return this.enablePagination?(o[this.pageObj.start+t][r]=e,n=o[this.pageObj.start+t][this.keyField]):(o[t][r]=e,n=o[t][this.keyField]),this.isOnFilter&&(this.data.forEach(function(t){t[this.keyField]===n&&(t[r]=e)},this),null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this}},{key:"add",value:function(e){if(!e[this.keyField]||""===e[this.keyField].toString())throw this.keyField+" can't be empty value.";var t=this.getCurrentDisplayData();t.forEach(function(t){if(t[this.keyField].toString()===e[this.keyField].toString())throw this.keyField+" "+e[this.keyField]+" already exists"},this),t.push(e),this.isOnFilter&&this.data.push(e)}},{key:"remove",value:function(e){var t=this.getCurrentDisplayData(),r=t.filter(function(t){return-1==e.indexOf(t[this.keyField])},this);this.isOnFilter?(this.data=this.data.filter(function(t){return-1==e.indexOf(t[this.keyField])},this),this.filteredData=r):this.data=r}},{key:"filter",value:function(e){var t=this;0==Object.keys(e).length?(this.filteredData=null,this.isOnFilter=!1,this.filterObj=null):(this.filterObj=e,this.filteredData=this.data.filter(function(r){var o=!0,n=void 0;for(var i in e){var s=r[i];switch(e[i].type){case p["default"].FILTER_TYPE.NUMBER:n=e[i].value.number;break;case p["default"].FILTER_TYPE.CUSTOM:n="object"==typeof e[i].value?void 0:"string"==typeof e[i].value?e[i].value.toLowerCase():e[i].value;break;default:n="string"==typeof e[i].value?e[i].value.toLowerCase():e[i].value,void 0===n&&(n=e[i].toLowerCase())}if(t.colInfos[i]){var a=t.colInfos[i],u=a.format,l=a.filterFormatted,c=a.formatExtraData;l&&u&&(s=u(r[i],r,c))}switch(e[i].type){case p["default"].FILTER_TYPE.NUMBER:o=t.filterNumber(s,n,e[i].value.comparator);break;case p["default"].FILTER_TYPE.DATE:o=t.filterDate(s,n);break;case p["default"].FILTER_TYPE.CUSTOM:o=t.filterCustom(s,n,e[i].value);break;default:o=t.filterText(s,n)}if(!o)break}return o}),this.isOnFilter=!0)}},{key:"filterNumber",value:function(e,t,r){var o=!0;switch(r){case"=":e!=t&&(o=!1);break;case">":t>=e&&(o=!1);break;case">=":t>e&&(o=!1);break;case"<":e>=t&&(o=!1);break;case"<=":e>t&&(o=!1);break;case"!=":e==t&&(o=!1);break;default:console.error("Number comparator provided is not supported")}return o}},{key:"filterDate",value:function(e,t){return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()}},{key:"filterCustom",value:function(e,t,r){return null!=r&&"object"==typeof r?r.callback(e,r.callbackParameters):filterText(e,t)}},{key:"filterText",value:function(e,t){return-1!=e.toString().toLowerCase().indexOf(t)}},{key:"search",value:function(e){var t=this;if(""===e.trim())this.filteredData=null,this.isOnFilter=!1,this.searchText=null;else{this.searchText=e;var r=[];this.multiColumnSearch?r=e.split(" "):r.push(e),this.filteredData=this.data.filter(function(e){for(var o=Object.keys(e),n=!1,i=function(i){var s=o[i];return t.colInfos[s]&&e[s]&&(r.forEach(function(r){var o=r.toLowerCase(),i=e[s],a=t.colInfos[s],u=a.format,l=a.filterFormatted,p=a.formatExtraData,c=a.hidden;c||(l&&u&&(i=u(i,e,p)),-1!==i.toString().toLowerCase().indexOf(o)&&(n=!0))}),n)?"break":void 0},s=0;s<o.length;s++){var a=i(s);if("break"===a)break}return n}),this.isOnFilter=!0}}},{key:"getDataIgnoringPagination",value:function(){var e=this.getCurrentDisplayData();return e}},{key:"get",value:function(){var e=this.getCurrentDisplayData();if(0==e.length)return e;if(this.remote||!this.enablePagination)return e;for(var t=[],r=this.pageObj.start;r<=this.pageObj.end&&(t.push(e[r]),r+1!=e.length);r++);return t}},{key:"getKeyField",value:function(){return this.keyField}},{key:"getDataNum",value:function(){return this.getCurrentDisplayData().length}},{key:"isChangedPage",value:function(){return!(!this.pageObj.start||!this.pageObj.end)}},{key:"getAllRowkey",value:function(){return this.data.map(function(e){return e[this.keyField]},this)}}]),e}();t.TableDataStore=f},function(e,t,r){"use strict";e.exports=r(37)},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){return"object"==typeof e?JSON.stringify(e):e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=r(1),a=o(s),u=r(4),l=o(u),p=r(41),c=o(p),d=r(3),f=o(d),h=r(11),y=o(h),v=r(38),m=o(v),g=r(39),b=o(g),E=r(40),P=o(E),T=a["default"].PropTypes.oneOfType([a["default"].PropTypes.string,a["default"].PropTypes.node]),w=a["default"].createClass({displayName:"Select",propTypes:{addLabelText:a["default"].PropTypes.string,allowCreate:a["default"].PropTypes.bool,autoBlur:a["default"].PropTypes.bool,autofocus:a["default"].PropTypes.bool,backspaceRemoves:a["default"].PropTypes.bool,className:a["default"].PropTypes.string,clearAllText:T,clearValueText:T,clearable:a["default"].PropTypes.bool,delimiter:a["default"].PropTypes.string,disabled:a["default"].PropTypes.bool,escapeClearsValue:a["default"].PropTypes.bool,filterOption:a["default"].PropTypes.func,filterOptions:a["default"].PropTypes.any,ignoreAccents:a["default"].PropTypes.bool,ignoreCase:a["default"].PropTypes.bool,inputProps:a["default"].PropTypes.object,isLoading:a["default"].PropTypes.bool,labelKey:a["default"].PropTypes.string,matchPos:a["default"].PropTypes.string,matchProp:a["default"].PropTypes.string,menuBuffer:a["default"].PropTypes.number,menuContainerStyle:a["default"].PropTypes.object,menuStyle:a["default"].PropTypes.object,multi:a["default"].PropTypes.bool,name:a["default"].PropTypes.string,newOptionCreator:a["default"].PropTypes.func,noResultsText:T,onBlur:a["default"].PropTypes.func,onBlurResetsInput:a["default"].PropTypes.bool,onChange:a["default"].PropTypes.func,onClose:a["default"].PropTypes.func,onFocus:a["default"].PropTypes.func,onInputChange:a["default"].PropTypes.func,onMenuScrollToBottom:a["default"].PropTypes.func,onOpen:a["default"].PropTypes.func,onValueClick:a["default"].PropTypes.func,optionComponent:a["default"].PropTypes.func,optionRenderer:a["default"].PropTypes.func,options:a["default"].PropTypes.array,placeholder:T,required:a["default"].PropTypes.bool,scrollMenuIntoView:a["default"].PropTypes.bool,searchable:a["default"].PropTypes.bool,simpleValue:a["default"].PropTypes.bool,style:a["default"].PropTypes.object,tabIndex:a["default"].PropTypes.string,value:a["default"].PropTypes.any,valueComponent:a["default"].PropTypes.func,valueKey:a["default"].PropTypes.string,valueRenderer:a["default"].PropTypes.func,wrapperStyle:a["default"].PropTypes.object},statics:{Async:m["default"]},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',allowCreate:!1,backspaceRemoves:!0,clearable:!0,clearAllText:"Clear all",clearValueText:"Clear value",delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:!0,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,optionComponent:b["default"],placeholder:"Select...",required:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,valueComponent:P["default"],valueKey:"value"}},getInitialState:function(){return{inputValue:"",isFocused:!1,isLoading:!1,isOpen:!1,isPseudoFocused:!1,required:this.props.required&&this.handleRequired(this.props.value,this.props.multi)}},componentDidMount:function(){this.props.autofocus&&this.focus()},componentWillUpdate:function(e,t){if(t.isOpen!==this.state.isOpen){var r=t.isOpen?e.onOpen:e.onClose;r&&r()}},componentDidUpdate:function(e,t){if(this.refs.menu&&this.refs.focused&&this.state.isOpen&&!this.hasScrolledToOption){var r=l["default"].findDOMNode(this.refs.focused),o=l["default"].findDOMNode(this.refs.menu);o.scrollTop=r.offsetTop,this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(t.inputValue!==this.state.inputValue&&this.props.onInputChange&&this.props.onInputChange(this.state.inputValue),this._scrollToFocusedOptionOnUpdate&&this.refs.focused&&this.refs.menu){this._scrollToFocusedOptionOnUpdate=!1;var n=l["default"].findDOMNode(this.refs.focused),i=l["default"].findDOMNode(this.refs.menu),s=n.getBoundingClientRect(),a=i.getBoundingClientRect();(s.bottom>a.bottom||s.top<a.top)&&(i.scrollTop=n.offsetTop+n.clientHeight-i.offsetHeight)}if(this.props.scrollMenuIntoView&&this.refs.menuContainer){var u=this.refs.menuContainer.getBoundingClientRect();window.innerHeight<u.bottom+this.props.menuBuffer&&window.scrollTo(0,window.scrollY+u.bottom+this.props.menuBuffer-window.innerHeight)}e.disabled!==this.props.disabled&&this.setState({isFocused:!1})},focus:function(){this.refs.input&&this.refs.input.focus()},blurInput:function(){this.refs.input&&this.refs.input.blur()},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchEndClearValue:function(e){this.dragging||this.clearValue(e)},handleMouseDown:function(e){return this.props.disabled||"mousedown"===e.type&&0!==e.button?void 0:(e.stopPropagation(),e.preventDefault(),this.props.searchable?void(this.state.isFocused?this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=!0,this.focus())):(this.focus(),this.setState({isOpen:!this.state.isOpen})))},handleMouseDownOnArrow:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.closeMenu())},handleMouseDownOnMenu:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())},closeMenu:function(){this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:""}),this.hasScrolledToOption=!1},handleInputFocus:function(e){var t=this.state.isOpen||this._openAfterFocus;this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:t}),this._openAfterFocus=!1},handleInputBlur:function(e){if(!this.refs.menu||!document.activeElement.isEqualNode(this.refs.menu)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=""),this.setState(t)}},handleInputChange:function(e){this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:e.target.value})},handleKeyDown:function(e){if(!this.props.disabled){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue()));case 9:if(e.shiftKey||!this.state.isOpen)return;return void this.selectFocusedOption();case 13:if(!this.state.isOpen)return;e.stopPropagation(),this.selectFocusedOption();break;case 27:this.state.isOpen?this.closeMenu():this.props.clearable&&this.props.escapeClearsValue&&this.clearValue(e);break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}e.preventDefault()}},handleValueClick:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)},handleMenuScroll:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&!(t.scrollHeight-t.offsetHeight-t.scrollTop)&&this.props.onMenuScrollToBottom()}},handleRequired:function(e,t){return e?t?0===e.length:0===Object.keys(e).length:!0},getOptionLabel:function(e){return e[this.props.labelKey]},getValueArray:function(){var e=this.props.value;if(this.props.multi){if("string"==typeof e&&(e=e.split(this.props.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(this.expandValue).filter(function(e){return e})}var t=this.expandValue(e);return t?[t]:[]},expandValue:function(e){if("string"!=typeof e&&"number"!=typeof e)return e;var t=this.props,r=t.options,o=t.valueKey;if(r)for(var n=0;n<r.length;n++)if(r[n][o]===e)return r[n]},setValue:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.onChange){if(this.props.required){var r=this.handleRequired(e,this.props.multi);this.setState({required:r})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange(e)}},selectValue:function(e){this.hasScrolledToOption=!1,this.props.multi?(this.addValue(e),this.setState({inputValue:""})):(this.setValue(e),this.setState({isOpen:!1,inputValue:"",isPseudoFocused:this.state.isFocused}))},addValue:function(e){var t=this.getValueArray();this.setValue(t.concat(e))},popValue:function(){var e=this.getValueArray();e.length&&e[e.length-1].clearableValue!==!1&&this.setValue(e.slice(0,e.length-1))},removeValue:function(e){var t=this.getValueArray();this.setValue(t.filter(function(t){return t!==e})),this.focus()},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(null),this.setState({isOpen:!1,inputValue:""},this.focus))},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){var t=this._visibleOptions.filter(function(e){return!e.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||t["next"===e?0:t.length-1]});if(t.length){for(var r=-1,o=0;o<t.length;o++)if(this._focusedOption===t[o]){r=o;break}var n=t[0];"next"===e&&r>-1&&r<t.length-1?n=t[r+1]:"previous"===e&&(n=r>0?t[r-1]:t[t.length-1]),this.setState({focusedOption:n})}},selectFocusedOption:function(){return this._focusedOption?this.selectValue(this._focusedOption):void 0},renderLoading:function(){return this.props.isLoading?a["default"].createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},a["default"].createElement("span",{className:"Select-loading"})):void 0},renderValue:function(e,t){var r=this,o=this.props.valueRenderer||this.getOptionLabel,n=this.props.valueComponent;if(!e.length)return this.state.inputValue?null:a["default"].createElement("div",{className:"Select-placeholder"},this.props.placeholder);var i=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return a["default"].createElement(n,{disabled:r.props.disabled||e.clearableValue===!1,key:"value-"+t+"-"+e[r.props.valueKey],onClick:i,onRemove:r.removeValue,value:e},o(e))}):this.state.inputValue?void 0:(t&&(i=null),a["default"].createElement(n,{disabled:this.props.disabled,onClick:i,value:e[0]},o(e[0])))},renderInput:function(e){var t=(0,f["default"])("Select-input",this.props.inputProps.className);return this.props.disabled||!this.props.searchable?a["default"].createElement("div",i({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:"input",style:{border:0,width:1,display:"inline-block"}})):a["default"].createElement(c["default"],i({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,minWidth:"5",ref:"input",required:this.state.required,value:this.state.inputValue}))},renderClear:function(){return!this.props.clearable||!this.props.value||this.props.multi&&!this.props.value.length||this.props.disabled||this.props.isLoading?void 0:a["default"].createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},a["default"].createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}}))},renderArrow:function(){return a["default"].createElement("span",{className:"Select-arrow-zone",onMouseDown:this.handleMouseDownOnArrow},a["default"].createElement("span",{className:"Select-arrow",onMouseDown:this.handleMouseDownOnArrow}))},filterOptions:function(e){var t=this,r=this.state.inputValue,o=this.props.options||[];return"function"==typeof this.props.filterOptions?this.props.filterOptions.call(this,o,r,e):this.props.filterOptions?(this.props.ignoreAccents&&(r=(0,y["default"])(r)),this.props.ignoreCase&&(r=r.toLowerCase()),e&&(e=e.map(function(e){return e[t.props.valueKey]})),o.filter(function(o){if(e&&e.indexOf(o[t.props.valueKey])>-1)return!1;if(t.props.filterOption)return t.props.filterOption.call(t,o,r);if(!r)return!0;var n=String(o[t.props.valueKey]),i=String(o[t.props.labelKey]);return t.props.ignoreAccents&&("label"!==t.props.matchProp&&(n=(0,y["default"])(n)),"value"!==t.props.matchProp&&(i=(0,y["default"])(i))),t.props.ignoreCase&&("label"!==t.props.matchProp&&(n=n.toLowerCase()),"value"!==t.props.matchProp&&(i=i.toLowerCase())),"start"===t.props.matchPos?"label"!==t.props.matchProp&&n.substr(0,r.length)===r||"value"!==t.props.matchProp&&i.substr(0,r.length)===r:"label"!==t.props.matchProp&&n.indexOf(r)>=0||"value"!==t.props.matchProp&&i.indexOf(r)>=0})):o},renderMenu:function(e,t,r){var o=this;if(!e||!e.length)return this.props.noResultsText?a["default"].createElement("div",{className:"Select-noresults"},this.props.noResultsText):null;var n=function(){var n=o.props.optionComponent,i=o.props.optionRenderer||o.getOptionLabel;return{v:e.map(function(e,s){var u=t&&t.indexOf(e)>-1,l=e===r,p=l?"focused":null,c=(0,f["default"])({"Select-option":!0,"is-selected":u,"is-focused":l,"is-disabled":e.disabled});return a["default"].createElement(n,{className:c,isDisabled:e.disabled,isFocused:l,key:"option-"+s+"-"+e[o.props.valueKey],onSelect:o.selectValue,onFocus:o.focusOption,option:e,isSelected:u,ref:p},i(e))})}}();return"object"==typeof n?n.v:void 0},renderHiddenField:function(e){var t=this;if(this.props.name){var r=e.map(function(e){return n(e[t.props.valueKey])}).join(this.props.delimiter);return a["default"].createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:r,disabled:this.props.disabled})}},getFocusableOption:function(e){var t=this._visibleOptions;if(t.length){var r=this.state.focusedOption||e;if(r&&t.indexOf(r)>-1)return r;for(var o=0;o<t.length;o++)if(!t[o].disabled)return t[o]}},render:function(){var e=this.getValueArray(),t=this._visibleOptions=this.filterOptions(this.props.multi?e:null),r=this.state.isOpen;this.props.multi&&!t.length&&e.length&&!this.state.inputValue&&(r=!1);var o=this._focusedOption=this.getFocusableOption(e[0]),n=(0,f["default"])("Select",this.props.className,{"Select--multi":this.props.multi,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":e.length});return a["default"].createElement("div",{ref:"wrapper",className:n,style:this.props.wrapperStyle},this.renderHiddenField(e),a["default"].createElement("div",{ref:"control",className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},this.renderValue(e,r),this.renderInput(e),this.renderLoading(),this.renderClear(),this.renderArrow()),r?a["default"].createElement("div",{ref:"menuContainer",className:"Select-menu-outer",style:this.props.menuContainerStyle},a["default"].createElement("div",{ref:"menu",className:"Select-menu",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},this.renderMenu(t,this.props.multi?null:e,o))):null)}});t["default"]=w,e.exports=t["default"]},function(e,t){"use strict";var r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g
},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];e.exports=function(e){for(var t=0;t<r.length;t++)e=e.replace(r[t].letters,r[t].base);return e}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.jQuery=t.animation=void 0;var i=r(1),s=o(i),a=r(13),u=o(a),l=r(3),p=o(l),c=r(43),d=o(c),f=r(44),h=o(f),y={displayName:"ToastMessage",getDefaultProps:function(){var e={error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"};return{className:"toast",iconClassNames:e,titleClassName:"toast-title",messageClassName:"toast-message",tapToDismiss:!0,closeButton:!1}},handleOnClick:function(e){this.props.handleOnClick(e),this.props.tapToDismiss&&this.hideToast(!0)},_handle_close_button_click:function(e){e.stopPropagation(),this.hideToast(!0)},_handle_remove:function(){this.props.handleRemove(this.props.toastId)},_render_close_button:function(){return this.props.closeButton?s["default"].createElement("button",{className:"toast-close-button",role:"button",onClick:this._handle_close_button_click,dangerouslySetInnerHTML:{__html:"&times;"}}):!1},_render_title_element:function(){return this.props.title?s["default"].createElement("div",{className:this.props.titleClassName},this.props.title):!1},_render_message_element:function(){return this.props.message?s["default"].createElement("div",{className:this.props.messageClassName},this.props.message):!1},render:function(){var e=this.props.iconClassName||this.props.iconClassNames[this.props.type];return s["default"].createElement("div",{className:(0,p["default"])(this.props.className,e),style:this.props.style,onClick:this.handleOnClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._render_close_button(),this._render_title_element(),this._render_message_element())}},v=t.animation=s["default"].createClass((0,u["default"])(y,{displayName:{$set:"ToastMessage.animation"},mixins:{$set:[d["default"]]}})),m=t.jQuery=s["default"].createClass((0,u["default"])(y,{displayName:{$set:"ToastMessage.jQuery"},mixins:{$set:[h["default"]]}}));y.handleMouseEnter=n,y.handleMouseLeave=n,y.hideToast=n;var g=s["default"].createClass(y);g.animation=v,g.jQuery=m,t["default"]=g},function(e,t,r){e.exports=r(49)},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function n(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!n(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],s(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),l=r.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,n,s,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){function r(){l=!1,s.length?u=s.concat(u):p=-1,u.length&&o()}function o(){if(!l){var e=setTimeout(r);l=!0;for(var t=u.length;t;){for(s=u,u=[];++p<t;)s&&s[p].run();p=-1,t=u.length}s=null,l=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function i(){}var s,a=e.exports={},u=[],l=!1,p=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new n(e,t)),1!==u.length||l||setTimeout(o,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=r(23),y=o(h),v=r(19),m=o(v),g=r(33),b=o(g),E=r(34),P=o(E),T=r(22),w=o(T),O=r(8),C=r(26),_=o(C),S=r(17),k=function(e){function t(e){var r=this;if(n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._scrollHeader=function(e){r.refs.header.refs.container.scrollLeft=e.currentTarget.scrollLeft},this._adjustHeaderWidth=function(){var e=r.refs.header.refs.container.childNodes[0],t=r.refs.body.refs.container.childNodes[0];e.offsetWidth!==t.offsetWidth&&(e.style.width=t.offsetWidth+"px");var o=r.refs.body.getBodyHeaderDomProp();r.refs.header.fitHeader(o,r.refs.body.refs.container.scrollHeight>r.refs.body.refs.container.clientHeight)},this._attachCellEditFunc(),Array.isArray(this.props.data)){var o=this.props.data.slice();this.store=new O.TableDataStore(o)}else this.store=new O.TableDataStore(this.props.data.getData()),this.props.data.clear(),this.props.data.on("change",function(e){r.store.setData(e),r.setState({data:r.getTableData()})});if(this.initTable(this.props),this.filter&&!function(){var e=r;r.filter.on("onFilterChange",function(t){e.handleFilterData(t)})}(),this.props.selectRow&&this.props.selectRow.selected){var o=this.props.selectRow.selected.slice();this.store.setSelectedRowKey(o)}this.state={data:this.getTableData(),currPage:this.props.options.page||1,sizePerPage:this.props.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0],selectedRowKeys:this.store.getSelectedRowKeys()}}return i(t,e),s(t,[{key:"initTable",value:function(e){var t=this,r=e.keyField,o="string"==typeof r&&r.length;l["default"].Children.forEach(e.children,function(e){if(e.props.isKey){if(r)throw"Error. Multiple key column be detected in TableHeaderColumn.";r=e.props.dataField}e.props.filter&&(t.filter||(t.filter=new S.Filter),e.props.filter.emitter=t.filter)},this);var n=this.getColumnsDescription(e).reduce(function(e,t){return e[t.name]=t,e},{});if(!o&&!r)throw"Error. No any key column defined in TableHeaderColumn.\n            Use 'isKey={true}' to specify a unique column after version 0.5.4.";this.store.setProps({isPagination:e.pagination,keyField:r,colInfos:n,multiColumnSearch:e.multiColumnSearch,remote:this.isRemoteDataSource()})}},{key:"getTableData",value:function(){var e=[];if(this.props.options.sortName&&this.props.options.sortOrder&&this.store.sort(this.props.options.sortOrder,this.props.options.sortName),this.props.pagination){var t=void 0,r=void 0;this.store.isChangedPage()?(r=this.state.sizePerPage,t=this.state.currPage):(r=this.props.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0],t=this.props.options.page||1),e=this.store.page(t,r).get()}else e=this.store.get();return e}},{key:"getColumnsDescription",value:function(e){var t=e.children;return t.map(function(e,t){return{name:e.props.dataField,align:e.props.dataAlign,sort:e.props.dataSort,format:e.props.dataFormat,formatExtraData:e.props.formatExtraData,filterFormatted:e.props.filterFormatted,editable:e.props.editable,hidden:e.props.hidden,className:e.props.columnClassName,width:e.props.width,text:e.props.children,sortFunc:e.props.sortFunc,index:t}})}},{key:"componentWillReceiveProps",value:function(e){if(this.initTable(e),Array.isArray(e.data)){this.store.setData(e.data.slice());var t=this.refs.pagination,r=t&&t.getCurrentPage()||e.options.page||1,o=t&&t.getSizePerPage()||e.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0];r>Math.ceil(e.data.length/o)&&(r=1);var n=this.store.getSortInfo(),i=e.options.sortName||(n?n.sortField:void 0),s=e.options.sortOrder||(n?n.order:void 0);i&&s&&this.store.sort(s,i);var a=this.store.page(r,o).get();this.setState({data:a,currPage:r,sizePerPage:o})}if(e.selectRow&&e.selectRow.selected){var u=e.selectRow.selected.slice();this.store.setSelectedRowKey(u),this.setState({selectedRowKeys:u})}}},{key:"componentDidMount",value:function(){this._adjustHeaderWidth(),window.addEventListener("resize",this._adjustHeaderWidth),this.refs.body.refs.container.addEventListener("scroll",this._scrollHeader)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._adjustHeaderWidth),this.refs.body.refs.container.removeEventListener("scroll",this._scrollHeader),this.filter&&this.filter.removeAllListeners("onFilterChange")}},{key:"componentDidUpdate",value:function(){this._adjustHeaderWidth(),this._attachCellEditFunc(),this.props.options.afterTableComplete&&this.props.options.afterTableComplete()}},{key:"_attachCellEditFunc",value:function(){this.props.cellEdit&&(this.props.cellEdit.__onCompleteEdit__=this.handleEditCell.bind(this),this.props.cellEdit.mode!==f["default"].CELL_EDIT_NONE&&(this.props.selectRow.clickToSelect=!1))}},{key:"isRemoteDataSource",value:function(e){return(e||this.props).remote}},{key:"render",value:function(){var e=((0,c["default"])("react-bs-table"),this.props.children),t={height:this.props.height,maxHeight:this.props.maxHeight};Array.isArray(this.props.children)||(e=[this.props.children]);var r=this.getColumnsDescription(this.props),o=this.store.getSortInfo(),n=this.renderPagination(),i=this.renderToolBar(),s=this.renderTableFilter(r),a=this.isSelectAll();return l["default"].createElement("div",{className:"react-bs-container",ref:"table"},i,l["default"].createElement("div",{className:"react-bs-table-container",onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),style:t},l["default"].createElement(y["default"],{ref:"header",rowSelectType:this.props.selectRow.mode,hideSelectColumn:this.props.selectRow.hideSelectColumn,sortName:o?o.sortField:void 0,sortOrder:o?o.order:void 0,onSort:this.handleSort.bind(this),onSelectAllRow:this.handleSelectAllRow.bind(this),bordered:this.props.bordered,condensed:this.props.condensed,isFiltered:!!this.filter,tableID:this.props.tableID,isSelectAll:a},this.props.children),l["default"].createElement(m["default"],{height:this.props.height,maxHeight:this.props.maxHeight,ref:"body",data:this.state.data,columns:r,trClassName:this.props.trClassName,striped:this.props.striped,bordered:this.props.bordered,hover:this.props.hover,keyField:this.store.getKeyField(),condensed:this.props.condensed,selectRow:this.props.selectRow,cellEdit:this.props.cellEdit,selectedRowKeys:this.state.selectedRowKeys,onRowClick:this.handleRowClick.bind(this),onRowMouseOver:this.handleRowMouseOver.bind(this),onRowMouseOut:this.handleRowMouseOut.bind(this),onSelectRow:this.handleSelectRow.bind(this),noDataText:this.props.options.noDataText})),s,n)}},{key:"isSelectAll",value:function(){var e=this.store.getSelectedRowKeys(),t=this.store.getAllRowkey();return e.length!==t.length?0===e.length?!1:"indeterminate":!0}},{key:"cleanSelected",value:function(){this.store.setSelectedRowKey([]),this.setState({selectedRowKeys:[]})}},{key:"handleSort",value:function(e,t){this.props.options.onSortChange&&this.props.options.onSortChange(t,e,this.props);var r=this.store.sort(e,t).get();this.setState({data:r})}},{key:"handlePaginationData",value:function(e,t){var r=this.props.options.onPageChange;if(r&&r(e,t),!this.isRemoteDataSource()){var o=this.store.page(e,t).get();this.setState({data:o,currPage:e,sizePerPage:t})}}},{key:"handleMouseLeave",value:function(){this.props.options.onMouseLeave&&this.props.options.onMouseLeave()}},{key:"handleMouseEnter",value:function(){this.props.options.onMouseEnter&&this.props.options.onMouseEnter()}},{key:"handleRowMouseOut",value:function(e){this.props.options.onRowMouseOut&&this.props.options.onRowMouseOut(e)}},{key:"handleRowMouseOver",value:function(e){this.props.options.onRowMouseOver&&this.props.options.onRowMouseOver(e)}},{key:"handleRowClick",value:function(e){this.props.options.onRowClick&&this.props.options.onRowClick(e)}},{key:"handleSelectAllRow",value:function(e){var t=e.currentTarget.checked,r=[],o=!0;this.props.selectRow.onSelectAll&&(o=this.props.selectRow.onSelectAll(t,t?this.store.get():[])),"undefined"!=typeof o&&o===!1||(t&&(r=this.store.getAllRowkey()),this.store.setSelectedRowKey(r),this.setState({selectedRowKeys:r}))}},{key:"handleShowOnlySelected",value:function(){this.store.ignoreNonSelected();var e=void 0;e=this.props.pagination?this.store.page(1,this.state.sizePerPage).get():this.store.get(),this.setState({data:e,currPage:1})}},{key:"handleSelectRow",value:function(e,t){var r=this.store.getSelectedRowKeys(),o=e[this.store.getKeyField()],n=!0;this.props.selectRow.onSelect&&(n=this.props.selectRow.onSelect(e,t)),"undefined"!=typeof n&&n===!1||(this.props.selectRow.mode===f["default"].ROW_SELECT_SINGLE?r=t?[o]:[]:t?r.push(o):r=r.filter(function(e){return o!==e}),this.store.setSelectedRowKey(r),this.setState({selectedRowKeys:r}))}},{key:"handleEditCell",value:function(e,t,r){var o=void 0;l["default"].Children.forEach(this.props.children,function(e,t){return t==r?(o=e.props.dataField,!1):void 0});var n=this.store.edit(e,t,o).get();this.setState({data:n}),this.props.cellEdit.afterSaveCell&&this.props.cellEdit.afterSaveCell(this.state.data[t],o,e)}},{key:"handleAddRowBegin",value:function(){this.refs.body}},{key:"handleAddRow",value:function(e){var t=this,r=void 0,o=this.props.options.beforeInsertRow?this.props.options.beforeInsertRow(e):e;return Promise.resolve(o).then(function(o){e=o;try{t.store.add(e)}catch(n){return n}if(t.props.pagination){var i=t.state.sizePerPage,s=Math.ceil(t.store.getDataNum()/i);r=t.store.page(s,i).get(),t.setState({data:r,currPage:s})}else r=t.store.get(),t.setState({data:r});t.props.options.afterInsertRow&&t.props.options.afterInsertRow(e)}).then(function(e){if(e.ok)return e;throw e})["catch"](function(e){return e.json()})}},{key:"getSizePerPage",value:function(){return this.state.sizePerPage}},{key:"getCurrentPage",value:function(){return this.state.currPage}},{key:"handleDropRow",value:function(e){var t=this,r=e?e:this.store.getSelectedRowKeys();r&&r.length>0&&(this.props.options.handleConfirmDeleteRow?this.props.options.handleConfirmDeleteRow(function(){t.deleteRow(r)}):confirm("Are you sure want delete?")&&this.deleteRow(r))}},{key:"deleteRow",value:function(e){var t=void 0;if(this.store.remove(e),this.store.setSelectedRowKey([]),this.props.pagination){var r=this.state.sizePerPage,o=this.state.currPage,n=Math.ceil(this.store.getDataNum()/r);o>n&&(o=n),t=this.store.page(o,r).get(),this.setState({data:t,selectedRowKeys:this.store.getSelectedRowKeys(),currPage:o})}else t=this.store.get(),this.setState({data:t,selectedRowKeys:this.store.getSelectedRowKeys()});this.props.options.afterDeleteRow&&this.props.options.afterDeleteRow(e)}},{key:"handleFilterData",value:function(e){this.store.filter(e);var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage;t=this.store.page(1,r).get()}else t=this.store.get();this.props.options.afterColumnFilter&&this.props.options.afterColumnFilter(e,this.store.getDataIgnoringPagination()),this.setState({data:t,currPage:1})}},{key:"handleExportCSV",value:function(){var e=this.store.getDataIgnoringPagination(),t=[];this.props.children.map(function(e){e.props.hidden===!1&&t.push(e.props.dataField)}),(0,_["default"])(e,t,this.props.csvFileName)}},{key:"handleSearch",value:function(e){this.store.search(e);var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage;t=this.store.page(1,r).get()}else t=this.store.get();this.props.options.afterSearch&&this.props.options.afterSearch(e,this.store.getDataIgnoringPagination()),this.setState({data:t,currPage:1})}},{key:"renderPagination",value:function(){if(this.props.pagination){var e=void 0;return e=this.isRemoteDataSource()?this.props.fetchInfo.dataTotalSize:this.store.getDataNum(),l["default"].createElement("div",{className:"table-footer-pagination"},l["default"].createElement(b["default"],{ref:"pagination",currPage:this.state.currPage,changePage:this.handlePaginationData.bind(this),sizePerPage:this.state.sizePerPage,sizePerPageList:this.props.options.sizePerPageList||f["default"].SIZE_PER_PAGE_LIST,paginationSize:this.props.options.paginationSize||f["default"].PAGINATION_SIZE,remote:this.isRemoteDataSource(),dataSize:e,onSizePerPageList:this.props.options.onSizePerPageList,prePage:this.props.options.prePage||f["default"].PRE_PAGE,nextPage:this.props.options.nextPage||f["default"].NEXT_PAGE,firstPage:this.props.options.firstPage||f["default"].FIRST_PAGE,lastPage:this.props.options.lastPage||f["default"].LAST_PAGE}))}return null}},{key:"renderToolBar",value:function(){var e=this.props.selectRow&&this.props.selectRow.showOnlySelected;if(e||this.props.insertRow||this.props.deleteRow||this.props.search||this.props.exportCSV){var t=void 0;return t=Array.isArray(this.props.children)?this.props.children.map(function(e){var t=e.props;return{name:t.children,field:t.dataField,autoValue:t.autoValue||!1,editable:t.editable&&"function"==typeof t.editable?t.editable():t.editable,hiddenInPopup:t.hiddenInPopup,format:t.dataFormat?function(e){return t.dataFormat(e,null,t.formatExtraData).replace(/<.*?>/g,"")}:!1}}):[{name:this.props.children.props.children,field:this.props.children.props.dataField,editable:this.props.children.props.editable,hiddenInPopup:this.props.children.props.hiddenInPopup}],l["default"].createElement("div",{className:"tool-bar"},l["default"].createElement(P["default"],{clearSearch:this.props.options.clearSearch,enableInsert:this.props.insertRow,enableDelete:this.props.deleteRow,enableSearch:this.props.search,enableExportCSV:this.props.exportCSV,enableShowOnlySelected:e,columns:t,searchPlaceholder:this.props.searchPlaceholder,onAddRow:this.handleAddRow.bind(this),onAddRowBegin:this.handleAddRowBegin.bind(this),onDropRow:this.handleDropRow.bind(this),onSearch:this.handleSearch.bind(this),onExportCSV:this.handleExportCSV.bind(this),onShowOnlySelected:this.handleShowOnlySelected.bind(this)}))}return null}},{key:"renderTableFilter",value:function(e){return this.props.columnFilter?l["default"].createElement(w["default"],{columns:e,rowSelectType:this.props.selectRow.mode,onFilter:this.handleFilterData.bind(this)}):null}}]),t}(l["default"].Component);k.propTypes={keyField:l["default"].PropTypes.string,height:l["default"].PropTypes.string,maxHeight:l["default"].PropTypes.string,tableID:l["default"].PropTypes.string,data:l["default"].PropTypes.oneOfType([l["default"].PropTypes.array,l["default"].PropTypes.object]),remote:l["default"].PropTypes.bool,striped:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,hover:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,pagination:l["default"].PropTypes.bool,searchPlaceholder:l["default"].PropTypes.string,selectRow:l["default"].PropTypes.shape({mode:l["default"].PropTypes.oneOf([f["default"].ROW_SELECT_NONE,f["default"].ROW_SELECT_SINGLE,f["default"].ROW_SELECT_MULTI]),bgColor:l["default"].PropTypes.string,selected:l["default"].PropTypes.array,onSelect:l["default"].PropTypes.func,onSelectAll:l["default"].PropTypes.func,clickToSelect:l["default"].PropTypes.bool,hideSelectColumn:l["default"].PropTypes.bool,clickToSelectAndEditCell:l["default"].PropTypes.bool,showOnlySelected:l["default"].PropTypes.bool}),cellEdit:l["default"].PropTypes.shape({mode:l["default"].PropTypes.string,blurToSave:l["default"].PropTypes.bool,afterSaveCell:l["default"].PropTypes.func}),insertRow:l["default"].PropTypes.bool,deleteRow:l["default"].PropTypes.bool,search:l["default"].PropTypes.bool,columnFilter:l["default"].PropTypes.bool,trClassName:l["default"].PropTypes.any,options:l["default"].PropTypes.shape({beforeInsertRow:l["default"].PropTypes.func,clearSearch:l["default"].PropTypes.bool,sortName:l["default"].PropTypes.string,sortOrder:l["default"].PropTypes.string,afterTableComplete:l["default"].PropTypes.func,afterDeleteRow:l["default"].PropTypes.func,afterInsertRow:l["default"].PropTypes.func,afterSearch:l["default"].PropTypes.func,afterColumnFilter:l["default"].PropTypes.func,onRowClick:l["default"].PropTypes.func,page:l["default"].PropTypes.number,sizePerPageList:l["default"].PropTypes.array,sizePerPage:l["default"].PropTypes.number,paginationSize:l["default"].PropTypes.number,onSortChange:l["default"].PropTypes.func,onPageChange:l["default"].PropTypes.func,onSizePerPageList:l["default"].PropTypes.func,noDataText:l["default"].PropTypes.string,handleConfirmDeleteRow:l["default"].PropTypes.func,prePage:l["default"].PropTypes.string,nextPage:l["default"].PropTypes.string,firstPage:l["default"].PropTypes.string,lastPage:l["default"].PropTypes.string}),fetchInfo:l["default"].PropTypes.shape({dataTotalSize:l["default"].PropTypes.number}),exportCSV:l["default"].PropTypes.bool,csvFileName:l["default"].PropTypes.string},k.defaultProps={height:"100%",maxHeight:void 0,tableID:void 0,striped:!1,bordered:!0,hover:!1,condensed:!1,pagination:!1,searchPlaceholder:void 0,selectRow:{mode:f["default"].ROW_SELECT_NONE,bgColor:f["default"].ROW_SELECT_BG_COLOR,selected:[],onSelect:void 0,onSelectAll:void 0,clickToSelect:!1,hideSelectColumn:!1,clickToSelectAndEditCell:!1,showOnlySelected:!1},cellEdit:{mode:f["default"].CELL_EDIT_NONE,blurToSave:!1,afterSaveCell:void 0},insertRow:!1,deleteRow:!1,search:!1,multiColumnSearch:!1,columnFilter:!1,trClassName:"",options:{clearSearch:!1,sortName:void 0,sortOrder:void 0,afterTableComplete:void 0,afterDeleteRow:void 0,afterInsertRow:void 0,afterSearch:void 0,afterColumnFilter:void 0,onRowClick:void 0,onMouseLeave:void 0,onMouseEnter:void 0,onRowMouseOut:void 0,onRowMouseOver:void 0,page:void 0,sizePerPageList:f["default"].SIZE_PER_PAGE_LIST,sizePerPage:void 0,paginationSize:f["default"].PAGINATION_SIZE,onSizePerPageList:void 0,noDataText:void 0,handleConfirmDeleteRow:void 0,prePage:f["default"].PRE_PAGE,nextPage:f["default"].NEXT_PAGE,firstPage:f["default"].FIRST_PAGE,lastPage:f["default"].LAST_PAGE},fetchInfo:{dataTotalSize:0},exportCSV:!1,csvFileName:void 0},t["default"]=k,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(2),l=o(u),p=r(14).EventEmitter,c=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentFilter={}}return i(t,e),s(t,[{key:"handleFilter",value:function(e,t,r){var o=r||l["default"].FILTER_TYPE.CUSTOM;if(null!=t&&"object"==typeof t){var n=!0;for(var i in t)if(!t[i]||""===t[i]){n=!1;break}n?this.currentFilter[e]={value:t,type:o}:delete this.currentFilter[e]}else t&&""!==t.trim()?this.currentFilter[e]={value:t.trim(),type:o}:delete this.currentFilter[e];this.emit("onFilterChange",this.currentFilter)}}]),t}(p);t.Filter=c},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){
for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=(o(p),r(2)),d=(o(c),function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e={width:parseInt(this.props.width)?this.props.width:35};return l["default"].createElement("th",{style:e},l["default"].createElement("div",{className:"th-inner table-header-column"},this.props.children))}}]),t}(l["default"].Component));t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=r(5),f=o(d),h=r(25),y=o(h),v=r(20),m=o(v),g=r(21),b=o(g),E=r(3),P=o(E),T=function(e){return e&&"function"==typeof e},w=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={currEditCell:null},this.editing=!1}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.adjustBody()}},{key:"componentDidUpdate",value:function(){this.adjustBody()}},{key:"render",value:function(){var e=(0,P["default"])("table-container"),t=(0,P["default"])("table",{"table-striped":this.props.striped,"table-bordered":this.props.bordered,"table-hover":this.props.hover,"table-condensed":this.props.condensed}),r=this._isSelectRowDefined(),o=this.renderTableHeader(r),n=this.props.data.map(function(e,t){var o=this.props.columns.map(function(r,o){var n=e[r.name];if(this.editing&&r.name!==this.props.keyField&&r.editable&&null!=this.state.currEditCell&&this.state.currEditCell.rid==t&&this.state.currEditCell.cid==o){var i=r.format?function(t){return r.format(t,e,r.formatExtraData).replace(/<.*?>/g,"")}:!1;return l["default"].createElement(b["default"],{completeEdit:this.handleCompleteEditCell.bind(this),editable:T(r.editable)?r.editable(n,e,t,o):r.editable,format:r.format?i:!1,key:o,blurToSave:this.props.cellEdit.blurToSave,rowIndex:t,colIndex:o},n)}var s=T(r.className)?r.className(n,e,t,o):r.className;if("undefined"!=typeof r.format){var a=r.format(n,e,r.formatExtraData);return l["default"].isValidElement(a)||(a=l["default"].createElement("div",{dangerouslySetInnerHTML:{__html:a}})),l["default"].createElement(m["default"],{dataAlign:r.align,key:o,className:s,cellEdit:this.props.cellEdit,hidden:r.hidden,onEdit:this.handleEditCell.bind(this),width:r.width},a)}return l["default"].createElement(m["default"],{dataAlign:r.align,key:o,className:s,cellEdit:this.props.cellEdit,hidden:r.hidden,onEdit:this.handleEditCell.bind(this),width:r.width},n)},this),n=-1!=this.props.selectedRowKeys.indexOf(e[this.props.keyField]),i=r&&!this.props.selectRow.hideSelectColumn?this.renderSelectRowColumn(n):null,s=T(this.props.trClassName)?this.props.trClassName(e,t):this.props.trClassName;return l["default"].createElement(y["default"],{isSelected:n,key:t,className:s,selectRow:r?this.props.selectRow:void 0,enableCellEdit:this.props.cellEdit.mode!==c["default"].CELL_EDIT_NONE,onRowClick:this.handleRowClick.bind(this),onRowMouseOver:this.handleRowMouseOver.bind(this),onRowMouseOut:this.handleRowMouseOut.bind(this),onSelectRow:this.handleSelectRow.bind(this)},i,o)},this);0===n.length&&n.push(l["default"].createElement(y["default"],{key:"##table-empty##"},l["default"].createElement("td",{colSpan:this.props.columns.length+(r?1:0),className:"react-bs-table-no-data"},this.props.noDataText||c["default"].NO_DATA_TEXT))),this.editing=!1;var i=this.calculateContainerHeight().toString();return l["default"].createElement("div",{ref:"container",className:e,style:{height:i}},l["default"].createElement("table",{ref:"body",className:t},o,l["default"].createElement("tbody",null,n)))}},{key:"renderTableHeader",value:function(e){var t=null;if(e){var r={width:35,minWidth:35};t=this.props.selectRow.hideSelectColumn?null:l["default"].createElement("th",{style:r,key:-1})}var o=this.props.columns.map(function(e,t){var r=null==e.width?e.width:parseInt(e.width),o={display:e.hidden?"none":null,width:r,maxWidth:r},n=e.sort?f["default"].renderReactSortCaret(c["default"].SORT_DESC):null;return l["default"].createElement("th",{style:o,key:t,className:e.className},e.text,n)});return l["default"].createElement("thead",{ref:"header"},l["default"].createElement("tr",null,t,o))}},{key:"handleRowMouseOut",value:function(e){var t=this.props.data[e-1];this.props.onRowMouseOut(t)}},{key:"handleRowMouseOver",value:function(e){var t=this.props.data[e-1];this.props.onRowMouseOver(t)}},{key:"handleRowClick",value:function(e){var t,r;this.props.data.forEach(function(o,n){n==e-1&&(t=o[this.props.keyField],r=o)},this),this.props.onRowClick(r)}},{key:"handleSelectRow",value:function(e,t){var r,o;this.props.data.forEach(function(t,n){return n==e-1?(r=t[this.props.keyField],o=t,!1):void 0},this),this.props.onSelectRow(o,t)}},{key:"handleSelectRowColumChange",value:function(e){this.props.selectRow.clickToSelect&&this.props.selectRow.clickToSelectAndEditCell||this.handleSelectRow(e.currentTarget.parentElement.parentElement.rowIndex,e.currentTarget.checked)}},{key:"handleEditCell",value:function(e,t){this.editing=!0,this._isSelectRowDefined()&&(t--,this.props.selectRow.hideSelectColumn&&t++),e--;var r={currEditCell:{rid:e,cid:t}};this.props.selectRow.clickToSelectAndEditCell&&this.handleSelectRow(e+1,!0),this.setState(r)}},{key:"cancelEdit",value:function(){var e=this.state.currEditCell;e&&this.handleCompleteEditCell(null,e.rid,e.cid)}},{key:"handleCompleteEditCell",value:function(e,t,r){this.setState({currEditCell:null}),null!=e&&this.props.cellEdit.__onCompleteEdit__(e,t,r)}},{key:"renderSelectRowColumn",value:function(e){return this.props.selectRow.mode==c["default"].ROW_SELECT_SINGLE?l["default"].createElement(m["default"],null,l["default"].createElement("input",{type:"radio",name:"selection",checked:e,onChange:this.handleSelectRowColumChange.bind(this)})):l["default"].createElement(m["default"],null,l["default"].createElement("input",{type:"checkbox",checked:e,onChange:this.handleSelectRowColumChange.bind(this)}))}},{key:"getBodyHeaderDomProp",value:function(){for(var e=this.refs.header.childNodes[0].childNodes,t=[],r=0;r<e.length;r++)t.push({width:e[r].offsetWidth});return t}},{key:"adjustBody",value:function(){this.hardFixHeaderWidth(),this.props.condensed&&(this.refs.body.style.marginTop="-36px"),this.props.maxHeight&&parseInt(this.props.maxHeight)<this.refs.container.offsetHeight&&(this.refs.container.style.height=this.props.maxHeight-42+"px")}},{key:"hardFixHeaderWidth",value:function(){for(var e=this.refs.header.childNodes[0].childNodes,t=0;t<e.length;t++)e[t].style.width=e[t].offsetWidth+"px"}},{key:"calculateContainerHeight",value:function(){return"100%"==this.props.height?this.props.height:parseInt(this.props.height)-42}},{key:"_isSelectRowDefined",value:function(){return this.props.selectRow.mode===c["default"].ROW_SELECT_SINGLE||this.props.selectRow.mode===c["default"].ROW_SELECT_MULTI}}]),t}(l["default"].Component);w.propTypes={height:l["default"].PropTypes.string,data:l["default"].PropTypes.array,columns:l["default"].PropTypes.array,striped:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,hover:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,keyField:l["default"].PropTypes.string,selectedRowKeys:l["default"].PropTypes.array,onRowClick:l["default"].PropTypes.func,onSelectRow:l["default"].PropTypes.func,noDataText:l["default"].PropTypes.string},t["default"]=w,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(2),d=o(c),f=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props.children,o=this.props.width!==e.width||this.props.className!==e.className||this.props.hidden!==e.hidden||this.props.dataAlign!==e.dataAlign||typeof r!=typeof e.children||(""+this.props.onEdit).toString()!==(""+e.onEdit).toString();return o?o:(o="object"==typeof r&&null!==r?"checkbox"===r.props.type||"radio"===r.props.type?o||r.props.type!==e.children.props.type||r.props.checked!==e.children.props.checked:!0:o||r!==e.children,o?o:this.props.cellEdit&&e.cellEdit?o||this.props.cellEdit.mode!==e.cellEdit.mode:!1)}},{key:"handleCellEdit",value:function(e){if(this.props.cellEdit.mode==d["default"].CELL_EDIT_DBCLICK)if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var t=window.getSelection();t.removeAllRanges()}this.props.onEdit(e.currentTarget.parentElement.rowIndex,e.currentTarget.cellIndex)}},{key:"render",value:function(){var e=null==this.props.width?this.props.width:-1!==this.props.width.indexOf("%")?this.props.width:parseInt(this.props.width),t={textAlign:this.props.dataAlign,display:this.props.hidden?"none":null,width:e,maxWidth:e},r=this.props.className;this.props.width&&(r+=" col-md-"+e);var o={};return this.props.cellEdit&&(this.props.cellEdit.mode==d["default"].CELL_EDIT_CLICK?o.onClick=this.handleCellEdit.bind(this):this.props.cellEdit.mode==d["default"].CELL_EDIT_DBCLICK&&(o.onDoubleClick=this.handleCellEdit.bind(this))),p["default"].createElement("td",s({style:t,className:r},o),this.props.children)}}]),t}(p["default"].Component);f.propTypes={dataAlign:p["default"].PropTypes.string,hidden:p["default"].PropTypes.bool,className:p["default"].PropTypes.string},f.defaultProps={dataAlign:"left",hidden:!1,className:""},t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=(o(p),r(6)),d=o(c),f=r(7),h=o(f),y=r(3),v=o(y),m=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.timeouteClear=0,this.state={shakeEditor:!1}}return i(t,e),s(t,[{key:"handleKeyPress",value:function(e){if(13==e.keyCode){var t="checkbox"==e.currentTarget.type?this._getCheckBoxValue(e):e.currentTarget.value;if(!this.validator(t))return;this.props.completeEdit(t,this.props.rowIndex,this.props.colIndex)}else 27==e.keyCode&&this.props.completeEdit(null,this.props.rowIndex,this.props.colIndex)}},{key:"handleBlur",value:function(e){if(this.props.blurToSave){var t="checkbox"==e.currentTarget.type?this._getCheckBoxValue(e):e.currentTarget.value;if(!this.validator(t))return;this.props.completeEdit(t,this.props.rowIndex,this.props.colIndex)}}},{key:"validator",value:function(e){var t=this;if(t.props.editable.validator){var r=t.props.editable.validator(e);if(r!==!0){t.refs.notifier.notice("error",r,"Pressed ESC can cancel");var o=t.refs.inputRef;return t.clearTimeout(),t.setState({shakeEditor:!0}),t.timeouteClear=setTimeout(function(){t.setState({shakeEditor:!1})},300),o.focus(),!1}}return!0}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){0!=this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:"componentDidMount",value:function(){var e=this.refs.inputRef;e.focus()}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"render",value:function(){var e=this.props.editable,t=this.props.format,r={ref:"inputRef",onKeyDown:this.handleKeyPress.bind(this),onBlur:this.handleBlur.bind(this)};e.placeholder&&(r.placeholder=e.placeholder);var o=(0,v["default"])({animated:this.state.shakeEditor,shake:this.state.shakeEditor});return l["default"].createElement("td",{ref:"td",style:{position:"relative"}},(0,d["default"])(e,r,t,o,this.props.children||""),l["default"].createElement(h["default"],{ref:"notifier"}))}},{key:"_getCheckBoxValue",value:function(e){var t="",r=e.currentTarget.value.split(":");return t=e.currentTarget.checked?r[0]:r[1]}}]),t}(l["default"].Component);m.propTypes={completeEdit:l["default"].PropTypes.func,rowIndex:l["default"].PropTypes.number,colIndex:l["default"].PropTypes.number,blurToSave:l["default"].PropTypes.bool},t["default"]=m,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=r(3),f=o(d),h=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filterObj={}}return i(t,e),s(t,[{key:"handleKeyUp",value:function(e){""===e.currentTarget.value.trim()?delete this.filterObj[e.currentTarget.name]:this.filterObj[e.currentTarget.name]=e.currentTarget.value,this.props.onFilter(this.filterObj)}},{key:"render",value:function(){var e=(0,f["default"])("table",{"table-striped":this.props.striped,"table-condensed":this.props.condensed}),t=null;if(this.props.rowSelectType==c["default"].ROW_SELECT_SINGLE||this.props.rowSelectType==c["default"].ROW_SELECT_MULTI){var r={width:35,paddingLeft:0,paddingRight:0};t=l["default"].createElement("th",{style:r,key:-1},"Filter")}var o=this.props.columns.map(function(e){var t={display:e.hidden?"none":null,width:e.width};return l["default"].createElement("th",{key:e.name,style:t},l["default"].createElement("div",{className:"th-inner table-header-column"},l["default"].createElement("input",{size:"10",type:"text",placeholder:e.name,name:e.name,onKeyUp:this.handleKeyUp.bind(this)})))},this);return l["default"].createElement("table",{className:e,style:{marginTop:5}},l["default"].createElement("thead",null,l["default"].createElement("tr",{style:{borderBottomStyle:"hidden"}},t,o)))}}]),t}(l["default"].Component);h.propTypes={columns:l["default"].PropTypes.array,rowSelectType:l["default"].PropTypes.string,onFilter:l["default"].PropTypes.func},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(4),c=o(p),d=r(2),f=o(d),h=r(5),y=o(h),v=r(3),m=o(v),g=r(18),b=o(g),E=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.update(this.props.checked)}},{key:"componentWillReceiveProps",value:function(e){this.update(e.checked)}},{key:"update",value:function(e){c["default"].findDOMNode(this).indeterminate="indeterminate"===e}},{key:"render",value:function(){return l["default"].createElement("input",{className:"react-bs-select-all",type:"checkbox",checked:this.props.checked,onChange:this.props.onChange})}}]),t}(l["default"].Component),P=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.selectRowColumnWidth=null}return i(t,e),s(t,[{key:"render",value:function(){var e=(0,m["default"])("table-header"),t=(0,m["default"])("table","table-hover",{"table-bordered":this.props.bordered,"table-condensed":this.props.condensed}),r=this.props.hideSelectColumn?null:this.renderSelectRowHeader();return this._attachClearSortCaretFunc(),l["default"].createElement("div",{className:"table-header-wrapper"},l["default"].createElement("div",{ref:"container",className:e},l["default"].createElement("table",{className:t,id:this.props.tableID},l["default"].createElement("thead",null,l["default"].createElement("tr",{ref:"header"},r,this.props.children)))))}},{key:"renderSelectRowHeader",value:function(){return this.props.rowSelectType==f["default"].ROW_SELECT_SINGLE?l["default"].createElement(b["default"],{width:this.selectRowColumnWidth}):this.props.rowSelectType==f["default"].ROW_SELECT_MULTI?l["default"].createElement(b["default"],{width:this.selectRowColumnWidth},l["default"].createElement(E,{onChange:this.props.onSelectAllRow,checked:this.props.isSelectAll})):null}},{key:"_attachClearSortCaretFunc",value:function(){if(Array.isArray(this.props.children))for(var e=0;e<this.props.children.length;e++){var t=this.props.children[e].props.dataField,r=t===this.props.sortName?this.props.sortOrder:void 0;this.props.children[e]=l["default"].cloneElement(this.props.children[e],{key:e,onSort:this.props.onSort,sort:r})}else{var t=this.props.children.props.dataField,r=t===this.props.sortName?this.props.sortOrder:void 0;this.props.children=l["default"].cloneElement(this.props.children,{key:0,onSort:this.props.onSort,sort:r})}}},{key:"fitHeader",value:function(e,t){if(Array.isArray(this.props.children)){var r=this.props.rowSelectType!=f["default"].ROW_SELECT_SINGLE&&this.props.rowSelectType!=f["default"].ROW_SELECT_MULTI||this.props.hideSelectColumn?0:1;1==r&&(this.selectRowColumnWidth=e[0].width);for(var o=0;o<this.props.children.length;o++)this.props.children[o]=l["default"].cloneElement(this.props.children[o],{width:e[o+r].width+"px"})}else this.props.children=l["default"].cloneElement(this.props.children,{width:e[0].width+"px"});this.props.condensed&&!this.props.isFiltered&&(this.refs.container.style.height="36px"),this.forceUpdate(),t&&(this.refs.container.style.marginRight=y["default"].getScrollBarWidth()+"px")}}]),t}(l["default"].Component);P.propTypes={rowSelectType:l["default"].PropTypes.string,onSort:l["default"].PropTypes.func,onSelectAllRow:l["default"].PropTypes.func,sortName:l["default"].PropTypes.string,sortOrder:l["default"].PropTypes.string,hideSelectColumn:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,isFiltered:l["default"].PropTypes.bool,isSelectAll:l["default"].PropTypes.oneOf([!0,"indeterminate",!1])},P.defaultProps={},t["default"]=P,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(3),d=(o(c),r(2)),f=o(d),h=r(5),y=o(h),v=r(28),m=o(v),g=r(31),b=o(g),E=r(30),P=o(E),T=r(29),w=o(T),O=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleFilter=this.handleFilter.bind(this)}return i(t,e),a(t,[{key:"handleColumnClick",value:function(e){if(this.props.dataSort){var t=this.props.sort==f["default"].SORT_DESC?f["default"].SORT_ASC:f["default"].SORT_DESC;this.props.onSort(t,this.props.dataField)}}},{key:"handleFilter",value:function(e,t){this.props.filter.emitter.handleFilter(this.props.dataField,e,t)}},{key:"getFilters",value:function(){switch(this.props.filter.type){case f["default"].FILTER_TYPE.TEXT:return p["default"].createElement(b["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.SELECT:return p["default"].createElement(P["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.NUMBER:return p["default"].createElement(w["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.DATE:return p["default"].createElement(m["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.CUSTOM:return this.props.filter.getElement(this.handleFilter,this.props.filter.customFilterParameters)}}},{key:"componentDidMount",value:function(){this.refs.innerDiv.setAttribute("data-field",this.props.dataField)}},{key:"render",value:function(){var e=null==this.props.width?this.props.width:-1!==this.props.width.indexOf("%")?this.props.width:parseInt(this.props.width),t={textAlign:this.props.dataAlign,display:this.props.hidden?"none":null,width:e,maxWidth:e},r=this.props.dataSort?p["default"].createElement("span",{className:"order"},p["default"].createElement("span",{className:"dropdown"},p["default"].createElement("span",{className:"caret",style:{margin:"10px 0 10px 5px",color:"#ccc"}})),p["default"].createElement("span",{className:"dropup"},p["default"].createElement("span",{className:"caret",style:{margin:"10px 0",color:"#ccc"}}))):null,o=this.props.sort?y["default"].renderReactSortCaret(this.props.sort):r,n=this.props.className+" "+(this.props.dataSort?"sort-column":"");return p["default"].createElement("th",{ref:"header-col",className:n,style:t},p["default"].createElement("div",{ref:"innerDiv",className:"th-inner table-header-column",onClick:this.handleColumnClick.bind(this)},this.props.children,o),this.props.filter?this.getFilters():null)}}]),t}(p["default"].Component),C=[];for(var _ in f["default"].FILTER_TYPE)C.push(f["default"].FILTER_TYPE[_]);O.propTypes={dataField:p["default"].PropTypes.string,dataAlign:p["default"].PropTypes.string,dataSort:p["default"].PropTypes.bool,onSort:p["default"].PropTypes.func,dataFormat:p["default"].PropTypes.func,isKey:p["default"].PropTypes.bool,editable:p["default"].PropTypes.any,hidden:p["default"].PropTypes.bool,className:p["default"].PropTypes.string,width:p["default"].PropTypes.string,sortFunc:p["default"].PropTypes.func,columnClassName:p["default"].PropTypes.any,filterFormatted:p["default"].PropTypes.bool,sort:p["default"].PropTypes.string,formatExtraData:p["default"].PropTypes.any,filter:p["default"].PropTypes.shape({type:p["default"].PropTypes.oneOf(C),delay:p["default"].PropTypes.number,options:p["default"].PropTypes.oneOfType([p["default"].PropTypes.object,p["default"].PropTypes.arrayOf(p["default"].PropTypes.number)]),numberComparators:p["default"].PropTypes.arrayOf(p["default"].PropTypes.string),emitter:p["default"].PropTypes.object,placeholder:p["default"].PropTypes.string,getElement:p["default"].PropTypes.func,customFilterParameters:p["default"].PropTypes.object})},O.defaultProps={dataAlign:"left",dataSort:!1,dataFormat:void 0,isKey:!1,editable:!0,onSort:void 0,hidden:!1,className:"",width:null,sortFunc:void 0,columnClassName:"",filterFormatted:!1,sort:void 0,formatExtraData:void 0,filter:void 0},t["default"]=O,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(2),d=(o(c),function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.clickNum=0}return i(t,e),a(t,[{key:"rowClick",value:function(e){var t=this;"INPUT"!==e.target.tagName&&"SELECT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!function(){var r=e.currentTarget.rowIndex;t.props.selectRow&&(t.props.selectRow.clickToSelect?t.props.onSelectRow(r,!t.props.isSelected):t.props.selectRow.clickToSelectAndEditCell&&(t.clickNum++,setTimeout(function(){1===t.clickNum&&t.props.onSelectRow(r,!t.props.isSelected),t.clickNum=0},200))),t.props.onRowClick&&t.props.onRowClick(r)}()}},{key:"rowMouseOut",value:function(e){this.props.onRowMouseOut&&this.props.onRowMouseOut(e.currentTarget.rowIndex)}},{key:"rowMouseOver",value:function(e){this.props.onRowMouseOver&&this.props.onRowMouseOver(e.currentTarget.rowIndex)}},{key:"render",value:function(){this.clickNum=0;var e={style:{backgroundColor:this.props.isSelected?this.props.selectRow.bgColor:null},className:(this.props.isSelected&&this.props.selectRow.className?this.props.selectRow.className:"")+(this.props.className||"")};return this.props.selectRow&&(this.props.selectRow.clickToSelect||this.props.selectRow.clickToSelectAndEditCell)||this.props.onRowClick?p["default"].createElement("tr",s({},e,{onMouseOver:this.rowMouseOver.bind(this),onMouseOut:this.rowMouseOut.bind(this),onClick:this.rowClick.bind(this)}),this.props.children):p["default"].createElement("tr",e,this.props.children)}}]),t}(p["default"].Component));d.propTypes={isSelected:p["default"].PropTypes.bool,enableCellEdit:p["default"].PropTypes.bool,onRowClick:p["default"].PropTypes.func,onSelectRow:p["default"].PropTypes.func,onRowMouseOut:p["default"].PropTypes.func,onRowMouseOver:p["default"].PropTypes.func},d.defaultProps={onRowClick:void 0},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e,t){var r="";return 0===e.length?r:(r+=t.join(",")+"\n",e.map(function(e){t.map(function(o,n){var i="undefined"!=typeof e[o]?'"'+e[o]+'"':"";r+=i,n+1<t.length&&(r+=",")}),r+="\n"}),r)}if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"!=typeof window)var n=r(27),i=n.saveAs;var s=function(e,t,r){var n=o(e,t);"undefined"!=typeof window&&i(new Blob([n],{
type:"text/plain;charset=utf-8"}),r||"spreadsheet.csv")};t["default"]=s,e.exports=t["default"]},function(e,t,r){var o,n,i=i||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,r=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=e.webkitRequestFileSystem,u=e.requestFileSystem||a||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},p="application/octet-stream",c=0,d=500,f=function(t){var o=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,d)},h=function(e,t,r){t=[].concat(t);for(var o=t.length;o--;){var n=e["on"+t[o]];if("function"==typeof n)try{n.call(e,r||e)}catch(i){l(i)}}},y=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},v=function(t,l,d){d||(t=y(t));var v,m,g,b=this,E=t.type,P=!1,T=function(){h(b,"writestart progress write writeend".split(" "))},w=function(){if(m&&s&&"undefined"!=typeof FileReader){var o=new FileReader;return o.onloadend=function(){var e=o.result;m.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),b.readyState=b.DONE,T()},o.readAsDataURL(t),void(b.readyState=b.INIT)}if(!P&&v||(v=r().createObjectURL(t)),m)m.location.href=v;else{var n=e.open(v,"_blank");void 0==n&&s&&(e.location.href=v)}b.readyState=b.DONE,T(),f(v)},O=function(e){return function(){return b.readyState!==b.DONE?e.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return b.readyState=b.INIT,l||(l="download"),n?(v=r().createObjectURL(t),o.href=v,o.download=l,void setTimeout(function(){i(o),T(),f(v),b.readyState=b.DONE})):(e.chrome&&E&&E!==p&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,p),P=!0),a&&"download"!==l&&(l+=".download"),(E===p||a)&&(m=e),u?(c+=t.size,void u(e.TEMPORARY,c,O(function(e){e.root.getDirectory("saved",C,O(function(e){var r=function(){e.getFile(l,C,O(function(e){e.createWriter(O(function(r){r.onwriteend=function(t){m.location.href=e.toURL(),b.readyState=b.DONE,h(b,"writeend",t),f(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){r["on"+e]=b["on"+e]}),r.write(t),b.abort=function(){r.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),w)}),w)};e.getFile(l,{create:!1},O(function(e){e.remove(),r()}),O(function(e){e.code===e.NOT_FOUND_ERR?r():w()}))}),w)}),w)):void w())},m=v.prototype,g=function(e,t,r){return new v(e,t,r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return r||(e=y(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(m.abort=function(){var e=this;e.readyState=e.DONE,h(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=i:null!==r(55)&&null!=r(56)&&(o=[],n=function(){return i}.apply(t,o),!(void 0!==n&&(e.exports=n)))},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this)}return i(t,e),s(t,[{key:"setDefaultDate",value:function(){var e="";if(this.props.defaultValue){var t=new Date(this.props.defaultValue);e=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}return e}},{key:"filter",value:function(e){var t=e.target.value;t?this.props.filterHandler(new Date(t),c["default"].FILTER_TYPE.DATE):this.props.filterHandler(null,c["default"].FILTER_TYPE.DATE)}},{key:"componentDidMount",value:function(){var e=this.refs.inputDate.defaultValue;e&&this.props.filterHandler(new Date(e),c["default"].FILTER_TYPE.DATE)}},{key:"render",value:function(){return l["default"].createElement("input",{ref:"inputDate",className:"filter date-filter form-control",type:"date",onChange:this.filter,defaultValue:this.setDefaultDate()})}}]),t}(l["default"].Component);d.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,defaultValue:l["default"].PropTypes.object,columnName:l["default"].PropTypes.string},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=["=",">",">=","<","<=","!="],y=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.numberComparators=this.props.numberComparators||h,this.state={isPlaceholderSelected:void 0==this.props.defaultValue||void 0==this.props.defaultValue.number||this.props.options&&-1==this.props.options.indexOf(this.props.defaultValue.number)},this.onChangeNumber=this.onChangeNumber.bind(this),this.onChangeNumberSet=this.onChangeNumberSet.bind(this),this.onChangeComparator=this.onChangeComparator.bind(this)}return i(t,e),s(t,[{key:"onChangeNumber",value:function(e){if(""!==this.refs.numberFilterComparator.value){this.timeout&&clearTimeout(this.timeout);var t=this,r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler({number:r,comparator:t.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)},t.props.delay)}}},{key:"onChangeNumberSet",value:function(e){this.setState({isPlaceholderSelected:""===e.target.value}),""!==this.refs.numberFilterComparator.value&&this.props.filterHandler({number:e.target.value,comparator:this.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"onChangeComparator",value:function(e){""!==this.refs.numberFilter.value&&this.props.filterHandler({number:this.refs.numberFilter.value,comparator:e.target.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"getComparatorOptions",value:function(){var e=[];e.push(l["default"].createElement("option",{key:"-1"}));for(var t=0;t<this.numberComparators.length;t++)e.push(l["default"].createElement("option",{key:t,value:this.numberComparators[t]},this.numberComparators[t]));return e}},{key:"getNumberOptions",value:function(){var e=[],t=this.props.options;e.push(l["default"].createElement("option",{key:"-1",value:""},this.props.placeholder||"Select "+this.props.columnName+"..."));for(var r=0;r<t.length;r++)e.push(l["default"].createElement("option",{key:r,value:t[r]},t[r]));return e}},{key:"componentDidMount",value:function(){this.refs.numberFilterComparator.value&&this.refs.numberFilter.value&&this.props.filterHandler({number:this.refs.numberFilter.value,comparator:this.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"render",value:function(){var e=(0,c["default"])("select-filter","number-filter-input","form-control",{"placeholder-selected":this.state.isPlaceholderSelected});return l["default"].createElement("div",{className:"filter number-filter"},l["default"].createElement("select",{ref:"numberFilterComparator",className:"number-filter-comparator form-control",onChange:this.onChangeComparator,defaultValue:this.props.defaultValue?this.props.defaultValue.comparator:""},this.getComparatorOptions()),this.props.options?l["default"].createElement("select",{ref:"numberFilter",className:e,onChange:this.onChangeNumberSet,defaultValue:this.props.defaultValue?this.props.defaultValue.number:""},this.getNumberOptions()):l["default"].createElement("input",{ref:"numberFilter",type:"number",className:"number-filter-input form-control",placeholder:this.props.placeholder||"Enter "+this.props.columnName+"...",onChange:this.onChangeNumber,defaultValue:this.props.defaultValue?this.props.defaultValue.number:""}))}}]),t}(l["default"].Component);y.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,options:l["default"].PropTypes.arrayOf(l["default"].PropTypes.number),defaultValue:l["default"].PropTypes.shape({number:l["default"].PropTypes.number,comparator:l["default"].PropTypes.oneOf(h)}),delay:l["default"].PropTypes.number,numberComparators:function(e,t){if(e[t])for(var r=0;r<e[t].length;r++){for(var o=!1,n=0;n<h.length;n++)if(h[n]===e[t][r]){o=!0;break}if(!o)return new Error("Number comparator provided is not supported. Use only "+h)}},placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},y.defaultProps={delay:f["default"].FILTER_DELAY},t["default"]=y,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this),this.state={isPlaceholderSelected:void 0==this.props.defaultValue||!this.props.options.hasOwnProperty(this.props.defaultValue)}}return i(t,e),s(t,[{key:"filter",value:function(e){this.setState({isPlaceholderSelected:""===e.target.value}),this.props.filterHandler(e.target.value,f["default"].FILTER_TYPE.SELECT)}},{key:"getOptions",value:function(){var e=[],t=this.props.options;return e.push(l["default"].createElement("option",{key:"-1",value:""},this.props.placeholder||"Select "+this.props.columnName+"...")),Object.keys(t).map(function(r){e.push(l["default"].createElement("option",{key:r,value:r},t[r]))}),e}},{key:"componentDidMount",value:function(){this.refs.selectInput.value&&this.props.filterHandler(this.refs.selectInput.value,f["default"].FILTER_TYPE.SELECT)}},{key:"render",value:function(){var e=(0,c["default"])("filter","select-filter","form-control",{"placeholder-selected":this.state.isPlaceholderSelected});return l["default"].createElement("select",{ref:"selectInput",className:e,onChange:this.filter,defaultValue:void 0!=this.props.defaultValue?this.props.defaultValue:""},this.getOptions())}}]),t}(l["default"].Component);h.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,options:l["default"].PropTypes.object.isRequired,placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this),this.timeout=null}return i(t,e),s(t,[{key:"filter",value:function(e){this.timeout&&clearTimeout(this.timeout);var t=this,r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler(r,c["default"].FILTER_TYPE.TEXT)},t.props.delay)}},{key:"componentDidMount",value:function(){this.refs.inputText.defaultValue&&this.props.filterHandler(this.refs.inputText.defaultValue,c["default"].FILTER_TYPE.TEXT)}},{key:"render",value:function(){return l["default"].createElement("input",{ref:"inputText",className:"filter text-filter form-control",type:"text",onChange:this.filter,placeholder:this.props.placeholder||"Enter "+this.props.columnName+"...",defaultValue:this.props.defaultValue?this.props.defaultValue:""})}}]),t}(l["default"].Component);d.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,defaultValue:l["default"].PropTypes.string,delay:l["default"].PropTypes.number,placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},d.defaultProps={delay:c["default"].FILTER_DELAY},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),s(t,[{key:"pageBtnClick",value:function(e){e.preventDefault(),this.props.changePage(e.currentTarget.text)}},{key:"render",value:function(){var e=(0,c["default"])({active:this.props.active,disabled:this.props.disable,hidden:this.props.hidden});return l["default"].createElement("li",{className:e},l["default"].createElement("a",{href:"#",onClick:this.pageBtnClick.bind(this)},this.props.children))}}]),t}(l["default"].Component);d.propTypes={changePage:l["default"].PropTypes.func,active:l["default"].PropTypes.bool,disable:l["default"].PropTypes.bool},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(32),c=o(p),d=r(2),f=o(d),h=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"changePage",value:function(e){e=e==this.props.prePage?this.props.currPage-1<1?1:this.props.currPage-1:e==this.props.nextPage?this.props.currPage+1>this.totalPages?this.totalPages:this.props.currPage+1:e==this.props.lastPage?this.totalPages:e==this.props.firstPage?1:parseInt(e),e!=this.props.currPage&&this.props.changePage(e,this.props.sizePerPage)}},{key:"changeSizePerPage",value:function(e){e.preventDefault();var t=parseInt(e.currentTarget.text),r=this.props.currPage;t!=this.props.sizePerPage&&(this.totalPages=Math.ceil(this.props.dataSize/t),r>this.totalPages&&(r=this.totalPages),this.props.changePage(r,t),this.props.onSizePerPageList&&this.props.onSizePerPageList(t))}},{key:"render",value:function(){var e=this;this.totalPages=Math.ceil(this.props.dataSize/this.props.sizePerPage);var t=this.makePage(),r={"float":"right",marginTop:"0px"},o=this.props.sizePerPageList.map(function(t){return l["default"].createElement("li",{key:t,role:"presentation"},l["default"].createElement("a",{role:"menuitem",tabIndex:"-1",href:"#",onClick:e.changeSizePerPage.bind(e)},t))});return l["default"].createElement("div",{className:"row",style:{marginTop:15}},this.props.sizePerPageList.length>1?l["default"].createElement("div",null,l["default"].createElement("div",{className:"col-md-6"},l["default"].createElement("div",{className:"dropdown"},l["default"].createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"pageDropDown","data-toggle":"dropdown","aria-expanded":"true"},this.props.sizePerPage,l["default"].createElement("span",null," ",l["default"].createElement("span",{className:"caret"}))),l["default"].createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"pageDropDown"},o))),l["default"].createElement("div",{className:"col-md-6"},l["default"].createElement("ul",{className:"pagination",style:r},t))):l["default"].createElement("div",{className:"col-md-12"},l["default"].createElement("ul",{className:"pagination",style:r},t)))}},{key:"makePage",value:function(){var e=this.getPages();return e.map(function(e){var t=e===this.props.currPage,r=!1,o=!1;return 1!=this.props.currPage||e!==this.props.firstPage&&e!==this.props.prePage||(r=!0,o=!0),this.props.currPage!=this.totalPages||e!==this.props.nextPage&&e!==this.props.lastPage||(r=!0,o=!0),l["default"].createElement(c["default"],{changePage:this.changePage.bind(this),active:t,disable:r,hidden:o,key:e},e)},this)}},{key:"getPages",value:function(){var e=1,t=this.totalPages;e=Math.max(this.props.currPage-Math.floor(this.props.paginationSize/2),1),t=e+this.props.paginationSize-1,t>this.totalPages&&(t=this.totalPages,e=t-this.props.paginationSize+1);var r;r=1!=e&&this.totalPages>this.props.paginationSize?[this.props.firstPage,this.props.prePage]:this.totalPages>1?[this.props.prePage]:[];for(var o=e;t>=o;o++)o>0&&r.push(o);return t!=this.totalPages?(r.push(this.props.nextPage),r.push(this.props.lastPage)):this.totalPages>1&&r.push(this.props.nextPage),r}},{key:"getCurrentPage",value:function(){return this.props.currPage}},{key:"getSizePerPage",value:function(){return this.props.sizePerPage}}]),t}(l["default"].Component);h.propTypes={currPage:l["default"].PropTypes.number,sizePerPage:l["default"].PropTypes.number,dataSize:l["default"].PropTypes.number,changePage:l["default"].PropTypes.func,sizePerPageList:l["default"].PropTypes.array,paginationSize:l["default"].PropTypes.number,remote:l["default"].PropTypes.bool,onSizePerPageList:l["default"].PropTypes.func,prePage:l["default"].PropTypes.string},h.defaultProps={sizePerPage:f["default"].SIZE_PER_PAGE},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=r(6),y=o(h),v=r(7),m=o(v),g=r(9),b=(o(g),function(e){function t(e){var r=this;n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleShowOnlyToggle=function(e){r.setState({showSelected:!r.state.showSelected}),r.props.onShowOnlySelected()},this.handleClearBtnClick=function(){r.refs.seachInput.value="",r.props.onSearch("")},this.timeouteClear=0,this.state={isInsertRowTrigger:!0,validateState:null,shakeEditor:!1,showSelected:!1}}return i(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:"checkAndParseForm",value:function(){var e,t,r=this,o={},n=!0,i={};return this.props.columns.forEach(function(r,s){if(r.autoValue)e="function"==typeof r.autoValue?r.autoValue():"autovalue-"+(new Date).getTime();else{var a=this.refs[r.field+s];if(e="undefined"!=typeof a?a.value:!0,r.editable&&"checkbox"==r.editable.type){var u=a.value.split(":");e=a.checked?u[0]:u[1]}r.editable&&r.editable.validator&&(t=r.editable.validator(e),t!==!0&&(n=!1,i[r.field]=t))}o[r.field]=e},this),n?o:(r.clearTimeout(),this.setState({validateState:i,shakeEditor:!0}),r.refs.notifier.notice("error","Form validate errors, please checking!","Pressed ESC can cancel"),r.timeouteClear=setTimeout(function(){r.setState({shakeEditor:!1})},300),null)}},{key:"handleSaveBtnClick",value:function(e){var t=this,r=this.checkAndParseForm();r&&this.props.onAddRow(r).then(function(e){var r="";try{e.errors.map(function(e){r+=e.message+". "})}catch(o){console.log(o),r+=e.toString()}if(e){var n=t;n.refs.notifier.notice("error",r,"Pressed ESC can cancel"),n.clearTimeout(),n.setState({shakeEditor:!0,validateState:"this is hack for prevent bootstrap modal hide"}),n.timeouteClear=setTimeout(function(){n.setState({shakeEditor:!1})},300)}else t.setState({validateState:null,shakeEditor:!1},function(){document.querySelector(".modal").click()}),t.refs.form.reset()})}},{key:"handleDropRowBtnClick",value:function(e){this.props.onDropRow()}},{key:"handleCloseBtn",value:function(e){this.refs.warning.style.display="none"}},{key:"handleKeyUp",value:function(e){this.props.onSearch(e.currentTarget.value)}},{key:"handleExportCSV",value:function(){this.props.onExportCSV()}},{key:"render",value:function(){var e="bs-table-modal-sm"+(new Date).getTime(),t=this.props.enableInsert?l["default"].createElement("button",{type:"button",onClick:this.props.onAddRowBegin,className:"btn btn-info react-bs-table-add-btn","data-toggle":"modal","data-target":"."+e},l["default"].createElement("i",{className:"glyphicon glyphicon-plus"})," New"):null,r=this.props.enableDelete?l["default"].createElement("button",{type:"button",className:"btn btn-warning react-bs-table-del-btn","data-toggle":"tooltip","data-placement":"right",title:"Drop selected row",onClick:this.handleDropRowBtnClick.bind(this)},l["default"].createElement("i",{className:"glyphicon glyphicon-trash"})," Delete"):null,o=this.renderSearchPanel(),n=this.props.enableShowOnlySelected?l["default"].createElement("button",{type:"button",onClick:this.handleShowOnlyToggle.bind(this),className:"btn btn-primary","data-toggle":"button","aria-pressed":"false"},this.state.showSelected?f["default"].SHOW_ALL:f["default"].SHOW_ONLY_SELECT):null,i=this.props.enableInsert?this.renderInsertRowModal(e):null,s=this.props.enableExportCSV?l["default"].createElement("button",{type:"button",className:"btn btn-success",onClick:this.handleExportCSV.bind(this)},l["default"].createElement("i",{className:"glyphicon glyphicon-export"})," Export to CSV"):null;return l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-8"},l["default"].createElement("div",{className:"btn-group btn-group-sm",role:"group"},s,t,r,n)),l["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-4"},o),l["default"].createElement(m["default"],{ref:"notifier"}),i)}},{key:"renderSearchPanel",value:function(){if(this.props.enableSearch){var e="form-group form-group-sm",t=null;return this.props.clearSearch&&(t=l["default"].createElement("span",{className:"input-group-btn"},l["default"].createElement("button",{className:"btn btn-default",type:"button",onClick:this.handleClearBtnClick},"Clear")),e="form-group form-group-sm input-group input-group-sm"),l["default"].createElement("div",{className:e},l["default"].createElement("input",{ref:"seachInput",className:"form-control",type:"text",placeholder:this.props.searchPlaceholder?this.props.searchPlaceholder:"Search",onKeyUp:this.handleKeyUp.bind(this)}),t)}return null}},{key:"renderInsertRowModal",value:function(e){var t=this.state.validateState||{},r=this.props.columns.map(function(e,r){var o=e.editable,n=e.format,i={ref:e.field+r,placeholder:o.placeholder?o.placeholder:e.name};if(e.autoValue)return null;var s=t[e.field]?l["default"].createElement("span",{className:"help-block bg-danger"},t[e.field]):null,a={display:e.hiddenInPopup?"none":"block"};return l["default"].createElement("div",{className:"form-group",key:e.field,style:a},l["default"].createElement("label",null,e.name),(0,y["default"])(o,i,n,""),s)}),o=(0,c["default"])("modal","fade",e,{"in":this.state.shakeEditor||this.state.validateState}),n=(0,c["default"])("modal-dialog","modal-sm",{animated:this.state.shakeEditor,shake:this.state.shakeEditor});return l["default"].createElement("div",{ref:"modal",className:o,tabIndex:"-1",role:"dialog"},l["default"].createElement("div",{className:n},l["default"].createElement("div",{className:"modal-content"},l["default"].createElement("div",{className:"modal-header"},l["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l["default"].createElement("span",{"aria-hidden":"true"},"×")),l["default"].createElement("h4",{className:"modal-title"},"New Record")),l["default"].createElement("div",{className:"modal-body"},l["default"].createElement("form",{ref:"form"},r)),l["default"].createElement("div",{className:"modal-footer"},l["default"].createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close"),l["default"].createElement("button",{type:"button",className:"btn btn-info",onClick:this.handleSaveBtnClick.bind(this)},"Save")))))}}]),t}(l["default"].Component));b.propTypes={onAddRow:l["default"].PropTypes.func,onDropRow:l["default"].PropTypes.func,onShowOnlySelected:l["default"].PropTypes.func,enableInsert:l["default"].PropTypes.bool,enableDelete:l["default"].PropTypes.bool,enableSearch:l["default"].PropTypes.bool,enableShowOnlySelected:l["default"].PropTypes.bool,columns:l["default"].PropTypes.array,searchPlaceholder:l["default"].PropTypes.string,clearSearch:l["default"].PropTypes.bool},b.defaultProps={enableInsert:!1,enableDelete:!1,enableSearch:!1,enableShowOnlySelected:!1,clearSearch:!1},t["default"]=b,e.exports=t["default"]},function(e,t,r){t=e.exports=r(36)(),t.push([e.id,'.rc-switch{position:relative;display:inline-block;box-sizing:border-box;width:44px;height:22px;line-height:20px;vertical-align:middle;border-radius:20px 20px;border:1px solid #ccc;background-color:#ccc;cursor:pointer;transition:all .3s cubic-bezier(.35,0,.25,1)}.rc-switch-inner{color:#fff;font-size:12px;position:absolute;left:24px}.rc-switch:after{position:absolute;width:18px;height:18px;left:2px;top:1px;border-radius:50% 50%;background-color:#fff;content:" ";cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.26);-webkit-transform:scale(1);transform:scale(1);transition:left .3s cubic-bezier(.35,0,.25,1);-webkit-animation-timing-function:cubic-bezier(.35,0,.25,1);animation-timing-function:cubic-bezier(.35,0,.25,1);-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-name:rcSwitchOff;animation-name:rcSwitchOff}.rc-switch:hover:after{-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-name:rcSwitchOn;animation-name:rcSwitchOn}.rc-switch-checked{border:1px solid #87d068;background-color:#87d068}.rc-switch-checked .rc-switch-inner{left:6px}.rc-switch-checked:after{left:22px}.rc-switch-disabled{cursor:no-drop;background:#ccc;border-color:#ccc}.rc-switch-disabled:after{background:#9e9e9e;-webkit-animation-name:none;animation-name:none;cursor:no-drop}.rc-switch-disabled:hover:after{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-name:none;animation-name:none}.rc-switch-label{display:inline-block;line-height:20px;font-size:14px;padding-left:10px;vertical-align:middle;white-space:normal;pointer-events:none;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}@-webkit-keyframes rcSwitchOn{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.25);transform:scale(1.25)}to{-webkit-transform:scale(1.1);transform:scale(1.1)}}@keyframes rcSwitchOn{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.25);transform:scale(1.25)}to{-webkit-transform:scale(1.1);transform:scale(1.1)}}@-webkit-keyframes rcSwitchOff{0%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes rcSwitchOff{0%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}',""]);
},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(o[i]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&o[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(e,t,r){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(){}var i=r(1),s=r(3),a=i.createClass({displayName:"Switch",propTypes:{className:i.PropTypes.string,prefixCls:i.PropTypes.string,disabled:i.PropTypes.bool,style:i.PropTypes.object,checkedChildren:i.PropTypes.any,unCheckedChildren:i.PropTypes.any,onChange:i.PropTypes.func},getDefaultProps:function(){return{prefixCls:"rc-switch",style:{},checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1,onChange:n}},getInitialState:function(){var e=this.props,t=!1;return t="checked"in e?!!e.checked:!!e.defaultChecked,{checked:t}},componentWillReceiveProps:function(e){"checked"in e&&this.setState({checked:!!e.checked})},toggle:function(){var e=!this.state.checked;"checked"in this.props||this.setState({checked:e}),this.props.onChange(e)},render:function(){var e,t=this.props,r=t.className,a=t.prefixCls,u=t.disabled,l=t.style,p=t.checkedChildren,c=t.unCheckedChildren,d=this.state.checked,f=s((e={},o(e,r,!!r),o(e,a,!0),o(e,a+"-checked",d),o(e,a+"-disabled",u),e));return i.createElement("span",{className:f,onClick:u?n:this.toggle,style:l},i.createElement("span",{className:a+"-inner"},d?p:c))}});e.exports=a},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){return e&&"object"!=typeof e&&(e={}),e?e:null}function i(e,t,r){e&&(e[t]=r)}function s(e,t){if(e)for(var r=t.length;r>=0;--r){var o=t.slice(0,r);if(e[o]&&(t===o||e[o].complete))return e[o]}}function a(e,t){return e&&"function"==typeof e.then?e.then(function(e){t(null,e)},function(e){t(e)}):void 0}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l=r(1),p=o(l),c=r(10),d=o(c),f=r(11),h=o(f),y=0,v=p["default"].PropTypes.oneOfType([p["default"].PropTypes.string,p["default"].PropTypes.node]),m=p["default"].createClass({displayName:"Async",propTypes:{cache:p["default"].PropTypes.any,ignoreAccents:p["default"].PropTypes.bool,ignoreCase:p["default"].PropTypes.bool,isLoading:p["default"].PropTypes.bool,loadOptions:p["default"].PropTypes.func.isRequired,loadingPlaceholder:p["default"].PropTypes.string,minimumInput:p["default"].PropTypes.number,noResultsText:p["default"].PropTypes.string,placeholder:v,searchPromptText:p["default"].PropTypes.string,searchingText:p["default"].PropTypes.string},getDefaultProps:function(){return{cache:!0,ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",minimumInput:0,searchingText:"Searching...",searchPromptText:"Type to search"}},getInitialState:function(){return{cache:n(this.props.cache),isLoading:!1,options:[]}},componentWillMount:function(){this._lastInput=""},componentDidMount:function(){this.loadOptions("")},componentWillReceiveProps:function(e){e.cache!==this.props.cache&&this.setState({cache:n(e.cache)})},focus:function(){this.refs.select.focus()},resetState:function(){this._currentRequestId=-1,this.setState({isLoading:!1,options:[]})},getResponseHandler:function(e){var t=this,r=this._currentRequestId=y++;return function(o,n){if(o)throw o;t.isMounted()&&(i(t.state.cache,e,n),r===t._currentRequestId&&t.setState({isLoading:!1,options:n&&n.options||[]}))}},loadOptions:function(e){if(this.props.ignoreAccents&&(e=(0,h["default"])(e)),this.props.ignoreCase&&(e=e.toLowerCase()),this._lastInput=e,e.length<this.props.minimumInput)return this.resetState();var t=s(this.state.cache,e);if(t)return this.setState({options:t.options});this.setState({isLoading:!0});var r=this.getResponseHandler(e);return a(this.props.loadOptions(e,r),r)},render:function(){var e=this.props.noResultsText,t=this.state,r=t.isLoading,o=t.options;this.props.isLoading&&(r=!0);var n=r?this.props.loadingPlaceholder:this.props.placeholder;return o.length||(this._lastInput.length<this.props.minimumInput&&(e=this.props.searchPromptText),r&&(e=this.props.searchingText)),p["default"].createElement(d["default"],u({},this.props,{ref:"select",isLoading:r,noResultsText:e,onInputChange:this.loadOptions,options:o,placeholder:n}))}});e.exports=m},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),i=o(n),s=r(3),a=o(s),u=i["default"].createClass({displayName:"Option",propTypes:{children:i["default"].PropTypes.node,className:i["default"].PropTypes.string,isDisabled:i["default"].PropTypes.bool,isFocused:i["default"].PropTypes.bool,isSelected:i["default"].PropTypes.bool,onFocus:i["default"].PropTypes.func,onSelect:i["default"].PropTypes.func,onUnfocus:i["default"].PropTypes.func,option:i["default"].PropTypes.object.isRequired},blockEvent:function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},handleMouseDown:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)},handleMouseEnter:function(e){this.onFocus(e)},handleMouseMove:function(e){this.onFocus(e)},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},onFocus:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)},render:function(){var e=this.props.option,t=(0,a["default"])(this.props.className,e.className);return e.disabled?i["default"].createElement("div",{className:t,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):i["default"].createElement("div",{className:t,style:e.style,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,title:e.title},this.props.children)}});e.exports=u},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),i=o(n),s=r(3),a=o(s),u=i["default"].createClass({displayName:"Value",propTypes:{children:i["default"].PropTypes.node,disabled:i["default"].PropTypes.bool,onClick:i["default"].PropTypes.func,onRemove:i["default"].PropTypes.func,value:i["default"].PropTypes.object.isRequired},handleMouseDown:function(e){return"mousedown"!==e.type||0===e.button?this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation()):void 0},onRemove:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)},handleTouchEndRemove:function(e){this.dragging||this.onRemove(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},renderRemoveIcon:function(){return!this.props.disabled&&this.props.onRemove?i["default"].createElement("span",{className:"Select-value-icon",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×"):void 0},renderLabel:function(){var e="Select-value-label";return this.props.onClick||this.props.value.href?i["default"].createElement("a",{className:e,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):i["default"].createElement("span",{className:e},this.props.children)},render:function(){return i["default"].createElement("div",{className:(0,a["default"])("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}});e.exports=u},function(e,t,r){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(1),i={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},s="undefined"!=typeof window?function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}().bind(window):void 0,a=n.createClass({displayName:"AutosizeInput",propTypes:{value:n.PropTypes.any,defaultValue:n.PropTypes.any,onChange:n.PropTypes.func,style:n.PropTypes.object,className:n.PropTypes.string,minWidth:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),inputStyle:n.PropTypes.object,inputClassName:n.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.queueUpdateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(this.refs.input),t=this.refs.sizer;if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,this.props.placeholder){var r=this.refs.placeholderSizer;r.style.fontSize=e.fontSize,r.style.fontFamily=e.fontFamily,r.style.fontWeight=e.fontWeight,r.style.fontStyle=e.fontStyle,r.style.letterSpacing=e.letterSpacing}}},queueUpdateInputWidth:function(){s(this.updateInputWidth)},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.scrollWidth){var e=void 0;e=this.props.placeholder?Math.max(this.refs.sizer.scrollWidth,this.refs.placeholderSizer.scrollWidth)+2:this.refs.sizer.scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},select:function(){this.refs.input.select()},render:function(){var e=(this.props.defaultValue||this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),t=this.props.style||{};t.display||(t.display="inline-block");var r=o({},this.props.inputStyle);r.width=this.state.inputWidth,r.boxSizing="content-box";var s=this.props.placeholder?n.createElement("div",{ref:"placeholderSizer",style:i},this.props.placeholder):null;return n.createElement("div",{className:this.props.className,style:t},n.createElement("input",o({},this.props,{ref:"input",className:this.props.inputClassName,style:r})),n.createElement("div",{ref:"sizer",style:i,dangerouslySetInnerHTML:{__html:e}}),s)}});e.exports=a},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var p=r(1),c=o(p),d=r(13),f=o(d),h=r(12),y=o(h),v=function(e){function t(){var e,r,o,n;i(this,t);for(var a=arguments.length,u=Array(a),l=0;a>l;l++)u[l]=arguments[l];return r=o=s(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={toasts:[],toastId:0,previousMessage:null},n=r,s(o,n)}return a(t,e),l(t,[{key:"error",value:function(e,t,r){this._notify(this.props.toastType.error,e,t,r)}},{key:"info",value:function(e,t,r){this._notify(this.props.toastType.info,e,t,r)}},{key:"success",value:function(e,t,r){this._notify(this.props.toastType.success,e,t,r)}},{key:"warning",value:function(e,t,r){this._notify(this.props.toastType.warning,e,t,r)}},{key:"clear",value:function(){var e=this;Object.keys(this.refs).forEach(function(t){e.refs[t].hideToast(!1)})}},{key:"_notify",value:function(e,t,r){var o=this,i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];if(!this.props.preventDuplicates||this.state.previousMessage!==t){var s=this.state.toastId++,a=s,u=(0,f["default"])(i,{$merge:{type:e,title:r,message:t,toastId:a,key:s,ref:"toasts__"+s,handleOnClick:function(e){return"function"==typeof i.handleOnClick&&i.handleOnClick(),o._handle_toast_on_click(e)},handleRemove:this._handle_toast_remove.bind(this)}}),l=n({},""+(this.props.newestOnTop?"$unshift":"$push"),[u]),p=(0,f["default"])(this.state,{toasts:l,previousMessage:{$set:t}});this.setState(p)}}},{key:"_handle_toast_on_click",value:function(e){this.props.onClick(e),e.defaultPrevented||(e.preventDefault(),e.stopPropagation())}},{key:"_handle_toast_remove",value:function(e){var t=this,r=""+(this.props.newestOnTop?"reduceRight":"reduce");this.state.toasts[r](function(r,o,n){return r||o.toastId!==e?!1:(t.setState((0,f["default"])(t.state,{toasts:{$splice:[[n,1]]}})),!0)},!1)}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",u({},this.props,{"aria-live":"polite",role:"alert"}),this.state.toasts.map(function(t){return e.props.toastMessageFactory(t)}))}}]),t}(p.Component);v.propTypes={toastType:p.PropTypes.shape({error:p.PropTypes.string,info:p.PropTypes.string,success:p.PropTypes.string,warning:p.PropTypes.string}).isRequired,id:p.PropTypes.string.isRequired,toastMessageFactory:p.PropTypes.func.isRequired,preventDuplicates:p.PropTypes.bool.isRequired,newestOnTop:p.PropTypes.bool.isRequired,onClick:p.PropTypes.func.isRequired},v.defaultProps={toastType:{error:"error",info:"info",success:"success",warning:"warning"},id:"toast-container",toastMessageFactory:c["default"].createFactory(y["default"]),preventDuplicates:!1,newestOnTop:!0,onClick:function(){}},t["default"]=v},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(48),i=o(n),s=r(4),a=o(s),u=r(46),l=o(u),p=17,c=Object.prototype.toString;t["default"]={getDefaultProps:function(){return{transition:null,showAnimation:"animated bounceIn",hideAnimation:"animated bounceOut",timeOut:5e3,extendedTimeOut:1e3}},componentWillMount:function(){this.classNameQueue=[],this.isHiding=!1,this.intervalId=null},componentDidMount:function(){var e=this;this._is_mounted=!0,this._show();var t=a["default"].findDOMNode(this),r=function o(){e.isHiding&&(e._set_is_hiding(!1),i["default"].removeEndEventListener(t,o),e._handle_remove())};i["default"].addEndEventListener(t,r),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},componentWillUnmount:function(){this._is_mounted=!1,this.intervalId&&clearTimeout(this.intervalId)},_set_transition:function(e){var t=e?"leave":"enter",r=a["default"].findDOMNode(this),o=this.props.transition+"-"+t,n=o+"-active",s=function u(e){if(!e||e.target===r){var t=(0,l["default"])(r);t.remove(o),t.remove(n),i["default"].removeEndEventListener(r,u)}};i["default"].addEndEventListener(r,s),(0,l["default"])(r).add(o),this._queue_class(n)},_clear_transition:function(e){var t=a["default"].findDOMNode(this),r=e?"leave":"enter",o=this.props.transition+"-"+r,n=o+"-active",i=(0,l["default"])(t);i.remove(o),i.remove(n)},_set_animation:function(e){var t=a["default"].findDOMNode(this),r=this._get_animation_classes(e),o=function n(e){e&&e.target!==t||(r.forEach(function(e){return(0,l["default"])(t).remove(e)}),i["default"].removeEndEventListener(t,n))};i["default"].addEndEventListener(t,o),r.forEach(function(e){return(0,l["default"])(t).add(e)})},_get_animation_classes:function(e){var t=e?this.props.hideAnimation:this.props.showAnimation;return"[object Array]"===c.call(t)?t:"string"==typeof t?t.split(" "):void 0},_clear_animation:function(e){var t=a["default"].findDOMNode(this),r=this._get_animation_classes(e);r.forEach(function(e){return(0,l["default"])(t).remove(e)})},_queue_class:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this._flush_class_name_queue,p))},_flush_class_name_queue:function(){var e=this;this._is_mounted&&!function(){var t=a["default"].findDOMNode(e);e.classNameQueue.forEach(function(e){return(0,l["default"])(t).add(e)})}(),this.classNameQueue.length=0,this.timeout=null},_show:function(){this.props.transition?this._set_transition():this.props.showAnimation&&this._set_animation()},handleMouseEnter:function(){clearTimeout(this.intervalId),this._set_interval_id(null),this.isHiding&&(this._set_is_hiding(!1),this.props.hideAnimation?this._clear_animation(!0):this.props.transition&&this._clear_transition(!0))},handleMouseLeave:function(){!this.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.isHiding||null===this.intervalId&&!e||(this._set_is_hiding(!0),this.props.transition?this._set_transition(!0):this.props.hideAnimation?this._set_animation(!0):this._handle_remove())},_set_interval_id:function(e){this.intervalId=e},_set_is_hiding:function(e){this.isHiding=e}}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){e[t.showMethod]({duration:t.showDuration,easing:t.showEasing})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=o(i);t["default"]={getDefaultProps:function(){return{style:{display:"none"},showMethod:"fadeIn",showDuration:300,showEasing:"swing",hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",timeOut:5e3,extendedTimeOut:1e3}},getInitialState:function(){return{intervalId:null,isHiding:!1}},componentDidMount:function(){n(this._get_$_node(),this.props),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},handleMouseEnter:function(){clearTimeout(this.state.intervalId),this._set_interval_id(null),this._set_is_hiding(!1),n(this._get_$_node().stop(!0,!0),this.props)},handleMouseLeave:function(){!this.state.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.state.isHiding||null===this.state.intervalId&&!e||(this.setState({isHiding:!0}),this._get_$_node()[this.props.hideMethod]({duration:this.props.hideDuration,easing:this.props.hideEasing,complete:this._handle_remove}))},_get_$_node:function(){return jQuery(s["default"].findDOMNode(this))},_set_interval_id:function(e){this.setState({intervalId:e})},_set_is_hiding:function(e){this.setState({isHiding:e})}}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ToastMessage=t.ToastContainer=void 0;var n=r(42),i=o(n),s=r(12),a=o(s);t.ToastContainer=i["default"],t.ToastMessage=a["default"]},function(e,t){function r(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,o=e.length;o>r;r++)if(e[r]===t)return r;return-1}function o(e){if(!(this instanceof o))return new o(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new o(e)},o.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var o=t.className.split(" ");return r(o,e)>-1?o:(o.push(e),t.className=o.join(" "),o)}},o.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var o=t.className.split(" "),n=r(o,e);return n>-1&&o.splice(n,1),t.className=o.join(" "),o}},o.prototype.has=function(e){var t=this.el;if(t){var o=t.className.split(" ");return r(o,e)>-1}},o.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))}},function(e,t){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(e),o=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i){var s=Object(i);for(var a in s)o.call(s,a)&&(r[a]=s[a])}}return r}e.exports=r},function(e,t,r){"use strict";function o(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var r in a){var o=a[r];for(var n in o)if(n in t){u.push(o[n]);break}}}function n(e,t,r){e.addEventListener(t,r,!1)}function i(e,t,r){e.removeEventListener(t,r,!1)}var s=r(50),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},u=[];s.canUseDOM&&o();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(r){n(e,r,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(r){i(e,r,t)})}};e.exports=l},function(e,t,r){(function(t){"use strict";function o(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function n(e,r,o){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected target of %s to be an array; got %s.",o,e):u(!1);var n=r[o];Array.isArray(n)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",o,n):u(!1)}function i(e,r){if("object"!=typeof r?"production"!==t.env.NODE_ENV?u(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",v.join(", "),f):u(!1):void 0,l.call(r,f))return 1!==Object.keys(r).length?"production"!==t.env.NODE_ENV?u(!1,"Cannot have more than one key in an object with %s",f):u(!1):void 0,r[f];var a=o(e);if(l.call(r,h)){var g=r[h];g&&"object"==typeof g?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): %s expects a spec of type 'object'; got %s",h,g):u(!1),a&&"object"==typeof a?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): %s expects a target of type 'object'; got %s",h,a):u(!1),s(a,r[h])}l.call(r,p)&&(n(e,r,p),r[p].forEach(function(e){a.push(e)})),l.call(r,c)&&(n(e,r,c),r[c].forEach(function(e){a.unshift(e)})),l.call(r,d)&&(Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"Expected %s target to be an array; got %s",d,e):u(!1),Array.isArray(r[d])?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,r[d]):u(!1),r[d].forEach(function(e){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,r[d]):u(!1),a.splice.apply(a,e)})),l.call(r,y)&&("function"!=typeof r[y]?"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be a function; got %s.",y,r[y]):u(!1):void 0,a=r[y](a));for(var b in r)m.hasOwnProperty(b)&&m[b]||(a[b]=i(e[b],r[b]));return a}var s=r(47),a=r(52),u=r(51),l={}.hasOwnProperty,p=a({$push:null}),c=a({$unshift:null}),d=a({$splice:null}),f=a({$set:null}),h=a({$merge:null}),y=a({$apply:null}),v=[p,c,d,f,h,y],m={};v.forEach(function(e){m[e]=!0}),e.exports=i}).call(t,r(15))},function(e,t){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,r){(function(t){"use strict";function r(e,r,o,n,i,s,a,u){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,n,i,s,a,u],c=0;l=new Error(r.replace(/%s/g,function(){return p[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=r}).call(t,r(15))},function(e,t){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,r){function o(e,t){for(var r=0;r<e.length;r++){var o=e[r],n=f[o.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](o.parts[i]);for(;i<o.parts.length;i++)n.parts.push(l(o.parts[i],t))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(l(o.parts[i],t));f[o.id]={id:o.id,refs:1,parts:s}}}}function n(e){for(var t=[],r={},o=0;o<e.length;o++){var n=e[o],i=n[0],s=n[1],a=n[2],u=n[3],l={css:s,media:a,sourceMap:u};r[i]?r[i].parts.push(l):t.push(r[i]={id:i,parts:[l]})}return t}function i(e,t){var r=v(),o=b[b.length-1];if("top"===e.insertAt)o?o.nextSibling?r.insertBefore(t,o.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var r,o,n;if(t.singleton){var i=g++;r=m||(m=a(t)),o=p.bind(null,r,i,!1),n=p.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=u(t),o=d.bind(null,r),n=function(){s(r),r.href&&URL.revokeObjectURL(r.href)}):(r=a(t),o=c.bind(null,r),n=function(){s(r)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}function p(e,t,r,o){var n=r?"":o.css;if(e.styleSheet)e.styleSheet.cssText=E(t,n);else{var i=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function c(e,t){var r=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function d(e,t){var r=t.css,o=(t.media,t.sourceMap);o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var n=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(n),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},y=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=y()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=n(e);return o(r,t),function(e){for(var i=[],s=0;s<r.length;s++){var a=r[s],u=f[a.id];u.refs--,i.push(u)}if(e){var l=n(e);o(l,t)}for(var s=0;s<i.length;s++){var u=i[s];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete f[u.id]}}}};var E=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var o=r(35);"string"==typeof o&&(o=[[e.id,o,""]]);r(53)(o,{});o.locals&&(e.exports=o.locals)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9yZWFjdC1ib290c3RyYXAtdGFibGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGFlZTcxOGUyNDAwYzM4MjhhYjBmIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiUmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiYW1kXCI6XCJyZWFjdFwifSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jbGFzc25hbWVzL2luZGV4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdERPTVwiLFwiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIixcImNvbW1vbmpzXCI6XCJyZWFjdC1kb21cIixcImFtZFwiOlwicmVhY3QtZG9tXCJ9Iiwid2VicGFjazovLy8uL3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL3NyYy9FZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvVGFibGVEYXRhU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zd2l0Y2gvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L2xpYi9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL3V0aWxzL3N0cmlwRGlhY3JpdGljcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRvYXN0ci9saWIvVG9hc3RNZXNzYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtdG9hc3RyL34vcmVhY3QtYWRkb25zLXVwZGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9vdHN0cmFwVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU2VsZWN0Um93SGVhZGVyQ29sdW1uLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUJvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlQ29sdW1uLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUVkaXRDb2x1bW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlRmlsdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUhlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGFibGVIZWFkZXJDb2x1bW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlUm93LmpzIiwid2VicGFjazovLy8uL3NyYy9jc3ZfZXhwb3J0X3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGVzYXZlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlsdGVycy9EYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9maWx0ZXJzL051bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlsdGVycy9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbHRlcnMvVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnaW5hdGlvbi9QYWdlQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdpbmF0aW9uL1BhZ2luYXRpb25MaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy90b29sYmFyL1Rvb2xCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zd2l0Y2gvYXNzZXRzL2luZGV4LmNzcyIsIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL34vcmMtc3dpdGNoL2xpYi9Td2l0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL0FzeW5jLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L2xpYi9PcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL1ZhbHVlLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L34vcmVhY3QtaW5wdXQtYXV0b3NpemUvbGliL0F1dG9zaXplSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0Q29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdE1lc3NhZ2UvYW5pbWF0aW9uTWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0TWVzc2FnZS9qUXVlcnlNaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRvYXN0ci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvfi9lbGVtZW50LWNsYXNzL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QvbGliL09iamVjdC5hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC9saWIvUmVhY3RUcmFuc2l0aW9uRXZlbnRzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3QvbGliL3VwZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0L34vZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0L34vZmJqcy9saWIva2V5T2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL34vcmMtc3dpdGNoL2Fzc2V0cy9pbmRleC5jc3M/N2M5NCIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX0Jvb3RzdHJhcFRhYmxlIiwiX0Jvb3RzdHJhcFRhYmxlMiIsIl9UYWJsZUhlYWRlckNvbHVtbiIsIl9UYWJsZUhlYWRlckNvbHVtbjIiLCJfc3RvcmVUYWJsZURhdGFTdG9yZSIsIndpbmRvdyIsIkJvb3RzdHJhcFRhYmxlIiwiVGFibGVIZWFkZXJDb2x1bW4iLCJUYWJsZURhdGFTZXQiLCJTT1JUX0RFU0MiLCJTT1JUX0FTQyIsIlNJWkVfUEVSX1BBR0UiLCJORVhUX1BBR0UiLCJMQVNUX1BBR0UiLCJQUkVfUEFHRSIsIkZJUlNUX1BBR0UiLCJST1dfU0VMRUNUX0JHX0NPTE9SIiwiUk9XX1NFTEVDVF9OT05FIiwiUk9XX1NFTEVDVF9TSU5HTEUiLCJST1dfU0VMRUNUX01VTFRJIiwiQ0VMTF9FRElUX05PTkUiLCJDRUxMX0VESVRfQ0xJQ0siLCJDRUxMX0VESVRfREJDTElDSyIsIlNJWkVfUEVSX1BBR0VfTElTVCIsIlBBR0lOQVRJT05fU0laRSIsIk5PX0RBVEFfVEVYVCIsIlNIT1dfT05MWV9TRUxFQ1QiLCJTSE9XX0FMTCIsIkZJTFRFUl9ERUxBWSIsIkZJTFRFUl9UWVBFIiwiVEVYVCIsIlNFTEVDVCIsIk5VTUJFUiIsIkRBVEUiLCJDVVNUT00iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJjbGFzc05hbWVzIiwiY2xhc3NlcyIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmciLCJhcmdUeXBlIiwicHVzaCIsIkFycmF5IiwiaXNBcnJheSIsImFwcGx5Iiwia2V5IiwiaGFzT3duIiwiam9pbiIsImhhc093blByb3BlcnR5IiwidW5kZWZpbmVkIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9Db25zdCIsIl9Db25zdDIiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsInJlbmRlclNvcnRDYXJldCIsIm9yZGVyIiwid3JhcCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVyIiwic3R5bGUiLCJtYXJnaW4iLCJhcHBlbmRDaGlsZCIsInJlbmRlclJlYWN0U29ydENhcmV0Iiwib3JkZXJDbGFzcyIsImRyb3B1cCIsImdldFNjcm9sbEJhcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJvdXRlciIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInZpc2liaWxpdHkiLCJvdmVyZmxvdyIsImJvZHkiLCJ3MSIsIm9mZnNldFdpZHRoIiwidzIiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJwcm90b3R5cGUiLCJfcmNTd2l0Y2giLCJfcmNTd2l0Y2gyIiwiX3JlYWN0U2VsZWN0IiwiX3JlYWN0U2VsZWN0MiIsIkVkaXRvciIsImVkaXRhYmxlIiwiYXR0ciIsImZvcm1hdCIsImVkaXRvckNsYXNzIiwiZGVmYXVsdFZhbHVlIiwidHlwZSIsImRpc2FibGVkIiwib3B0aW9ucyIsInZhbHVlcyIsInJvd1ZhbHVlIiwibWFwIiwiZCIsImNvbHMiLCJyb3dzIiwia2V5VXBIYW5kbGVyIiwib25LZXlEb3duIiwic2F2ZUJ0biIsImUiLCJrZXlDb2RlIiwib25DbGljayIsIl92YWx1ZXMiLCJyZXBsYWNlIiwiY2hlY2tlZCIsInRvU3RyaW5nIiwic3BsaXQiLCJkZWZhdWx0Q2hlY2tlZCIsIl92YWx1ZXMyIiwibXVsdGlPcHQiLCJtdWx0aSIsInNpbXBsZVZhbHVlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2dldCIsIl94IiwiX3gyIiwiX3gzIiwiX2FnYWluIiwib2JqZWN0IiwicHJvcGVydHkiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldHRlciIsImdldCIsInBhcmVudCIsImdldFByb3RvdHlwZU9mIiwiX3JlYWN0VG9hc3RyIiwiVG9hc3RyTWVzc2FnZUZhY3RvcnkiLCJjcmVhdGVGYWN0b3J5IiwiVG9hc3RNZXNzYWdlIiwiYW5pbWF0aW9uIiwiTm90aWZpY2F0aW9uIiwiX1JlYWN0JENvbXBvbmVudCIsIm1zZyIsInRpdGxlIiwicmVmcyIsInRvYXN0ciIsIm1vZGUiLCJ0aW1lT3V0IiwiZXh0ZW5kZWRUaW1lT3V0Iiwic2hvd0FuaW1hdGlvbiIsImhpZGVBbmltYXRpb24iLCJUb2FzdENvbnRhaW5lciIsInJlZiIsInRvYXN0TWVzc2FnZUZhY3RvcnkiLCJDb21wb25lbnQiLCJfc29ydCIsImFyciIsInNvcnRGaWVsZCIsInNvcnRGdW5jIiwidG9Mb3dlckNhc2UiLCJzb3J0IiwiYSIsImIiLCJFdmVudEVtaXR0ZXIiLCJfRXZlbnRFbWl0dGVyIiwiZGF0YSIsImVtaXQiLCJUYWJsZURhdGFTdG9yZSIsImNvbEluZm9zIiwiZmlsdGVyZWREYXRhIiwiaXNPbkZpbHRlciIsImZpbHRlck9iaiIsInNlYXJjaFRleHQiLCJzb3J0T2JqIiwicGFnZU9iaiIsInNlbGVjdGVkIiwibXVsdGlDb2x1bW5TZWFyY2giLCJzaG93T25seVNlbGVjdGVkIiwicmVtb3RlIiwia2V5RmllbGQiLCJlbmFibGVQYWdpbmF0aW9uIiwiaXNQYWdpbmF0aW9uIiwiZmlsdGVyIiwic2VhcmNoIiwic2VsZWN0ZWRSb3dLZXlzIiwiX3RoaXMiLCJyb3ciLCJyZXN1bHQiLCJmaW5kIiwieCIsImN1cnJlbnREaXNwbGF5RGF0YSIsImdldEN1cnJlbnREaXNwbGF5RGF0YSIsIl9wYWdlIiwic2l6ZVBlclBhZ2UiLCJlbmQiLCJzdGFydCIsIm5ld1ZhbCIsInJvd0luZGV4IiwiZmllbGROYW1lIiwicm93S2V5Q2FjaGUiLCJmb3JFYWNoIiwibmV3T2JqIiwicm93S2V5IiwiaW5kZXhPZiIsIl90aGlzMiIsImtleXMiLCJ2YWxpZCIsImZpbHRlclZhbCIsInRhcmdldFZhbCIsIm51bWJlciIsIl9jb2xJbmZvcyRrZXkiLCJmaWx0ZXJGb3JtYXR0ZWQiLCJmb3JtYXRFeHRyYURhdGEiLCJmaWx0ZXJOdW1iZXIiLCJjb21wYXJhdG9yIiwiZmlsdGVyRGF0ZSIsImZpbHRlckN1c3RvbSIsImZpbHRlclRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImNhbGxiYWNrSW5mbyIsImNhbGxiYWNrIiwiY2FsbGJhY2tQYXJhbWV0ZXJzIiwiX3RoaXMzIiwidHJpbSIsInNlYXJjaFRleHRBcnJheSIsIl9sb29wIiwidGV4dCIsIl9jb2xJbmZvcyRrZXkyIiwiaGlkZGVuIiwiX3JldCIsIl9kYXRhIiwic3RyaW5naWZ5VmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwiX3JlYWN0RG9tIiwiX3JlYWN0RG9tMiIsIl9yZWFjdElucHV0QXV0b3NpemUiLCJfcmVhY3RJbnB1dEF1dG9zaXplMiIsIl91dGlsc1N0cmlwRGlhY3JpdGljcyIsIl91dGlsc1N0cmlwRGlhY3JpdGljczIiLCJfQXN5bmMiLCJfQXN5bmMyIiwiX09wdGlvbiIsIl9PcHRpb24yIiwiX1ZhbHVlIiwiX1ZhbHVlMiIsInN0cmluZ09yTm9kZSIsIlByb3BUeXBlcyIsIm9uZU9mVHlwZSIsInN0cmluZyIsIm5vZGUiLCJTZWxlY3QiLCJjcmVhdGVDbGFzcyIsImRpc3BsYXlOYW1lIiwicHJvcFR5cGVzIiwiYWRkTGFiZWxUZXh0IiwiYWxsb3dDcmVhdGUiLCJib29sIiwiYXV0b0JsdXIiLCJhdXRvZm9jdXMiLCJiYWNrc3BhY2VSZW1vdmVzIiwiY2xlYXJBbGxUZXh0IiwiY2xlYXJWYWx1ZVRleHQiLCJjbGVhcmFibGUiLCJkZWxpbWl0ZXIiLCJlc2NhcGVDbGVhcnNWYWx1ZSIsImZpbHRlck9wdGlvbiIsImZ1bmMiLCJmaWx0ZXJPcHRpb25zIiwiYW55IiwiaWdub3JlQWNjZW50cyIsImlnbm9yZUNhc2UiLCJpbnB1dFByb3BzIiwiaXNMb2FkaW5nIiwibGFiZWxLZXkiLCJtYXRjaFBvcyIsIm1hdGNoUHJvcCIsIm1lbnVCdWZmZXIiLCJtZW51Q29udGFpbmVyU3R5bGUiLCJtZW51U3R5bGUiLCJuYW1lIiwibmV3T3B0aW9uQ3JlYXRvciIsIm5vUmVzdWx0c1RleHQiLCJvbkJsdXIiLCJvbkJsdXJSZXNldHNJbnB1dCIsIm9uQ2hhbmdlIiwib25DbG9zZSIsIm9uRm9jdXMiLCJvbklucHV0Q2hhbmdlIiwib25NZW51U2Nyb2xsVG9Cb3R0b20iLCJvbk9wZW4iLCJvblZhbHVlQ2xpY2siLCJvcHRpb25Db21wb25lbnQiLCJvcHRpb25SZW5kZXJlciIsImFycmF5IiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsInNjcm9sbE1lbnVJbnRvVmlldyIsInNlYXJjaGFibGUiLCJ0YWJJbmRleCIsInZhbHVlQ29tcG9uZW50IiwidmFsdWVLZXkiLCJ2YWx1ZVJlbmRlcmVyIiwid3JhcHBlclN0eWxlIiwic3RhdGljcyIsIkFzeW5jIiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwiaW5wdXRWYWx1ZSIsImlzRm9jdXNlZCIsImlzT3BlbiIsImlzUHNldWRvRm9jdXNlZCIsImhhbmRsZVJlcXVpcmVkIiwiY29tcG9uZW50RGlkTW91bnQiLCJmb2N1cyIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJzdGF0ZSIsImhhbmRsZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJtZW51IiwiZm9jdXNlZCIsImhhc1Njcm9sbGVkVG9PcHRpb24iLCJmb2N1c2VkT3B0aW9uTm9kZSIsImZpbmRET01Ob2RlIiwibWVudU5vZGUiLCJzY3JvbGxUb3AiLCJvZmZzZXRUb3AiLCJfc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUiLCJmb2N1c2VkRE9NIiwibWVudURPTSIsImZvY3VzZWRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWVudVJlY3QiLCJib3R0b20iLCJjbGllbnRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJtZW51Q29udGFpbmVyIiwibWVudUNvbnRhaW5lclJlY3QiLCJpbm5lckhlaWdodCIsInNjcm9sbFRvIiwic2Nyb2xsWSIsInNldFN0YXRlIiwiaW5wdXQiLCJibHVySW5wdXQiLCJibHVyIiwiaGFuZGxlVG91Y2hNb3ZlIiwiZXZlbnQiLCJkcmFnZ2luZyIsImhhbmRsZVRvdWNoU3RhcnQiLCJoYW5kbGVUb3VjaEVuZCIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZSIsImNsZWFyVmFsdWUiLCJidXR0b24iLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIl9vcGVuQWZ0ZXJGb2N1cyIsImhhbmRsZU1vdXNlRG93bk9uQXJyb3ciLCJjbG9zZU1lbnUiLCJoYW5kbGVNb3VzZURvd25Pbk1lbnUiLCJoYW5kbGVJbnB1dEZvY3VzIiwiaGFuZGxlSW5wdXRCbHVyIiwiYWN0aXZlRWxlbWVudCIsImlzRXF1YWxOb2RlIiwib25CbHVycmVkU3RhdGUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImhhbmRsZUtleURvd24iLCJwb3BWYWx1ZSIsInNoaWZ0S2V5Iiwic2VsZWN0Rm9jdXNlZE9wdGlvbiIsImZvY3VzUHJldmlvdXNPcHRpb24iLCJmb2N1c05leHRPcHRpb24iLCJoYW5kbGVWYWx1ZUNsaWNrIiwib3B0aW9uIiwiaGFuZGxlTWVudVNjcm9sbCIsInNjcm9sbEhlaWdodCIsImdldE9wdGlvbkxhYmVsIiwib3AiLCJnZXRWYWx1ZUFycmF5IiwiZXhwYW5kVmFsdWUiLCJleHBhbmRlZFZhbHVlIiwiX3Byb3BzIiwic2V0VmFsdWUiLCJzZWxlY3RWYWx1ZSIsImFkZFZhbHVlIiwidmFsdWVBcnJheSIsImNvbmNhdCIsImNsZWFyYWJsZVZhbHVlIiwic2xpY2UiLCJyZW1vdmVWYWx1ZSIsImZvY3VzT3B0aW9uIiwiZm9jdXNlZE9wdGlvbiIsImZvY3VzQWRqYWNlbnRPcHRpb24iLCJkaXIiLCJfdmlzaWJsZU9wdGlvbnMiLCJfZm9jdXNlZE9wdGlvbiIsImZvY3VzZWRJbmRleCIsInJlbmRlckxvYWRpbmciLCJhcmlhLWhpZGRlbiIsInJlbmRlclZhbHVlIiwicmVuZGVyTGFiZWwiLCJWYWx1ZUNvbXBvbmVudCIsIm9uUmVtb3ZlIiwicmVuZGVySW5wdXQiLCJib3JkZXIiLCJkaXNwbGF5IiwibWluV2lkdGgiLCJyZW5kZXJDbGVhciIsImFyaWEtbGFiZWwiLCJvbk1vdXNlRG93biIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwicmVuZGVyQXJyb3ciLCJleGNsdWRlT3B0aW9ucyIsImZpbHRlclZhbHVlIiwidmFsdWVUZXN0IiwiU3RyaW5nIiwibGFiZWxUZXN0Iiwic3Vic3RyIiwicmVuZGVyTWVudSIsIl90aGlzNCIsIk9wdGlvbiIsInYiLCJpc1NlbGVjdGVkIiwib3B0aW9uUmVmIiwib3B0aW9uQ2xhc3MiLCJTZWxlY3Qtb3B0aW9uIiwiaXMtc2VsZWN0ZWQiLCJpcy1mb2N1c2VkIiwiaXMtZGlzYWJsZWQiLCJpc0Rpc2FibGVkIiwib25TZWxlY3QiLCJyZW5kZXJIaWRkZW5GaWVsZCIsIl90aGlzNSIsImdldEZvY3VzYWJsZU9wdGlvbiIsInNlbGVjdGVkT3B0aW9uIiwicmVuZGVyIiwiU2VsZWN0LS1tdWx0aSIsImlzLWxvYWRpbmciLCJpcy1vcGVuIiwiaXMtcHNldWRvLWZvY3VzZWQiLCJpcy1zZWFyY2hhYmxlIiwiaGFzLXZhbHVlIiwib25TY3JvbGwiLCJiYXNlIiwibGV0dGVycyIsInN0ciIsIm5vb3AiLCJqUXVlcnkiLCJfcmVhY3RBZGRvbnNVcGRhdGUiLCJfcmVhY3RBZGRvbnNVcGRhdGUyIiwiX2FuaW1hdGlvbk1peGluIiwiX2FuaW1hdGlvbk1peGluMiIsIl9qUXVlcnlNaXhpbiIsIl9qUXVlcnlNaXhpbjIiLCJUb2FzdE1lc3NhZ2VTcGVjIiwiaWNvbkNsYXNzTmFtZXMiLCJpbmZvIiwic3VjY2VzcyIsIndhcm5pbmciLCJ0aXRsZUNsYXNzTmFtZSIsIm1lc3NhZ2VDbGFzc05hbWUiLCJ0YXBUb0Rpc21pc3MiLCJjbG9zZUJ1dHRvbiIsImhhbmRsZU9uQ2xpY2siLCJoaWRlVG9hc3QiLCJfaGFuZGxlX2Nsb3NlX2J1dHRvbl9jbGljayIsIl9oYW5kbGVfcmVtb3ZlIiwiaGFuZGxlUmVtb3ZlIiwidG9hc3RJZCIsIl9yZW5kZXJfY2xvc2VfYnV0dG9uIiwicm9sZSIsIl9yZW5kZXJfdGl0bGVfZWxlbWVudCIsIl9yZW5kZXJfbWVzc2FnZV9lbGVtZW50IiwibWVzc2FnZSIsImljb25DbGFzc05hbWUiLCJvbk1vdXNlRW50ZXIiLCJoYW5kbGVNb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiaGFuZGxlTW91c2VMZWF2ZSIsIiRzZXQiLCJtaXhpbnMiLCJfZXZlbnRzIiwiX21heExpc3RlbmVycyIsImlzRnVuY3Rpb24iLCJpc051bWJlciIsImlzT2JqZWN0IiwiaXNVbmRlZmluZWQiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwic2V0TWF4TGlzdGVuZXJzIiwibiIsImlzTmFOIiwiZXIiLCJsZW4iLCJhcmdzIiwibGlzdGVuZXJzIiwiRXJyb3IiLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwibmV3TGlzdGVuZXIiLCJ3YXJuZWQiLCJ0cmFjZSIsIm9uIiwib25jZSIsImciLCJyZW1vdmVMaXN0ZW5lciIsImZpcmVkIiwibGlzdCIsInNwbGljZSIsInJlbW92ZUFsbExpc3RlbmVycyIsInJldCIsImxpc3RlbmVyQ291bnQiLCJldmxpc3RlbmVyIiwiZW1pdHRlciIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicnVuIiwiY2xlYXJUaW1lb3V0IiwiSXRlbSIsImZ1biIsInByb2Nlc3MiLCJuZXh0VGljayIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib2ZmIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJfVGFibGVIZWFkZXIiLCJfVGFibGVIZWFkZXIyIiwiX1RhYmxlQm9keSIsIl9UYWJsZUJvZHkyIiwiX3BhZ2luYXRpb25QYWdpbmF0aW9uTGlzdCIsIl9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QyIiwiX3Rvb2xiYXJUb29sQmFyIiwiX3Rvb2xiYXJUb29sQmFyMiIsIl9UYWJsZUZpbHRlciIsIl9UYWJsZUZpbHRlcjIiLCJfY3N2X2V4cG9ydF91dGlsIiwiX2Nzdl9leHBvcnRfdXRpbDIiLCJfRmlsdGVyIiwiX3Njcm9sbEhlYWRlciIsImhlYWRlciIsImNvbnRhaW5lciIsInNjcm9sbExlZnQiLCJjdXJyZW50VGFyZ2V0IiwiX2FkanVzdEhlYWRlcldpZHRoIiwidGFibGVIZWFkZXJEb20iLCJjaGlsZE5vZGVzIiwidGFibGVCb2R5RG9tIiwiaGVhZGVyUHJvcHMiLCJnZXRCb2R5SGVhZGVyRG9tUHJvcCIsImZpdEhlYWRlciIsIl9hdHRhY2hDZWxsRWRpdEZ1bmMiLCJjb3B5Iiwic3RvcmUiLCJnZXREYXRhIiwiY2xlYXIiLCJzZXREYXRhIiwiZ2V0VGFibGVEYXRhIiwiaW5pdFRhYmxlIiwic2VsZiIsImN1cnJlbnRGaWx0ZXIiLCJoYW5kbGVGaWx0ZXJEYXRhIiwic2VsZWN0Um93Iiwic2V0U2VsZWN0ZWRSb3dLZXkiLCJjdXJyUGFnZSIsInBhZ2UiLCJnZXRTZWxlY3RlZFJvd0tleXMiLCJpc0tleUZpZWxkRGVmaW5lZCIsIkNoaWxkcmVuIiwiY2hpbGRyZW4iLCJjb2x1bW4iLCJpc0tleSIsImRhdGFGaWVsZCIsIkZpbHRlciIsImdldENvbHVtbnNEZXNjcmlwdGlvbiIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwic2V0UHJvcHMiLCJwYWdpbmF0aW9uIiwiaXNSZW1vdGVEYXRhU291cmNlIiwic29ydE5hbWUiLCJzb3J0T3JkZXIiLCJpc0NoYW5nZWRQYWdlIiwiX3JlZiIsImFsaWduIiwiZGF0YUFsaWduIiwiZGF0YVNvcnQiLCJkYXRhRm9ybWF0IiwiY29sdW1uQ2xhc3NOYW1lIiwiaW5kZXgiLCJwYWdpbmF0aW9uRG9tIiwiZ2V0Q3VycmVudFBhZ2UiLCJnZXRTaXplUGVyUGFnZSIsIk1hdGgiLCJjZWlsIiwic29ydEluZm8iLCJnZXRTb3J0SW5mbyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWZ0ZXJUYWJsZUNvbXBsZXRlIiwiY2VsbEVkaXQiLCJfX29uQ29tcGxldGVFZGl0X18iLCJoYW5kbGVFZGl0Q2VsbCIsImJpbmQiLCJjbGlja1RvU2VsZWN0IiwiY2hpbGRyZW5zIiwibWF4SGVpZ2h0IiwiY29sdW1ucyIsInJlbmRlclBhZ2luYXRpb24iLCJ0b29sQmFyIiwicmVuZGVyVG9vbEJhciIsInRhYmxlRmlsdGVyIiwicmVuZGVyVGFibGVGaWx0ZXIiLCJpc1NlbGVjdEFsbCIsInJvd1NlbGVjdFR5cGUiLCJoaWRlU2VsZWN0Q29sdW1uIiwib25Tb3J0IiwiaGFuZGxlU29ydCIsIm9uU2VsZWN0QWxsUm93IiwiaGFuZGxlU2VsZWN0QWxsUm93IiwiYm9yZGVyZWQiLCJjb25kZW5zZWQiLCJpc0ZpbHRlcmVkIiwidGFibGVJRCIsInRyQ2xhc3NOYW1lIiwic3RyaXBlZCIsImhvdmVyIiwiZ2V0S2V5RmllbGQiLCJvblJvd0NsaWNrIiwiaGFuZGxlUm93Q2xpY2siLCJvblJvd01vdXNlT3ZlciIsImhhbmRsZVJvd01vdXNlT3ZlciIsIm9uUm93TW91c2VPdXQiLCJoYW5kbGVSb3dNb3VzZU91dCIsIm9uU2VsZWN0Um93IiwiaGFuZGxlU2VsZWN0Um93Iiwibm9EYXRhVGV4dCIsImRlZmF1bHRTZWxlY3RSb3dLZXlzIiwiYWxsUm93S2V5cyIsImdldEFsbFJvd2tleSIsIm9uU29ydENoYW5nZSIsIm9uUGFnZUNoYW5nZSIsIm9uU2VsZWN0QWxsIiwiaWdub3JlTm9uU2VsZWN0ZWQiLCJjdXJyU2VsZWN0ZWQiLCJjb2xJbmRleCIsImVkaXQiLCJhZnRlclNhdmVDZWxsIiwiYmVmb3JlUHJvbWlzZSIsImJlZm9yZUluc2VydFJvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImFkZCIsImN1cnJMYXN0UGFnZSIsImdldERhdGFOdW0iLCJhZnRlckluc2VydFJvdyIsInIiLCJvayIsImpzb24iLCJyb3dLZXlzIiwidGhhdCIsImRyb3BSb3dLZXlzIiwiaGFuZGxlQ29uZmlybURlbGV0ZVJvdyIsImRlbGV0ZVJvdyIsImNvbmZpcm0iLCJyZW1vdmUiLCJhZnRlckRlbGV0ZVJvdyIsImFmdGVyQ29sdW1uRmlsdGVyIiwiZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbiIsImNzdkZpbGVOYW1lIiwiYWZ0ZXJTZWFyY2giLCJkYXRhU2l6ZSIsImZldGNoSW5mbyIsImRhdGFUb3RhbFNpemUiLCJjaGFuZ2VQYWdlIiwiaGFuZGxlUGFnaW5hdGlvbkRhdGEiLCJzaXplUGVyUGFnZUxpc3QiLCJwYWdpbmF0aW9uU2l6ZSIsIm9uU2l6ZVBlclBhZ2VMaXN0IiwicHJlUGFnZSIsIm5leHRQYWdlIiwiZmlyc3RQYWdlIiwibGFzdFBhZ2UiLCJlbmFibGVTaG93T25seVNlbGVjdGVkIiwiaW5zZXJ0Um93IiwiZXhwb3J0Q1NWIiwiZmllbGQiLCJhdXRvVmFsdWUiLCJoaWRkZW5JblBvcHVwIiwiY2xlYXJTZWFyY2giLCJlbmFibGVJbnNlcnQiLCJlbmFibGVEZWxldGUiLCJlbmFibGVTZWFyY2giLCJlbmFibGVFeHBvcnRDU1YiLCJzZWFyY2hQbGFjZWhvbGRlciIsIm9uQWRkUm93IiwiaGFuZGxlQWRkUm93Iiwib25BZGRSb3dCZWdpbiIsImhhbmRsZUFkZFJvd0JlZ2luIiwib25Ecm9wUm93IiwiaGFuZGxlRHJvcFJvdyIsIm9uU2VhcmNoIiwiaGFuZGxlU2VhcmNoIiwib25FeHBvcnRDU1YiLCJoYW5kbGVFeHBvcnRDU1YiLCJvblNob3dPbmx5U2VsZWN0ZWQiLCJoYW5kbGVTaG93T25seVNlbGVjdGVkIiwiY29sdW1uRmlsdGVyIiwib25GaWx0ZXIiLCJzaGFwZSIsIm9uZU9mIiwiYmdDb2xvciIsImNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCIsImJsdXJUb1NhdmUiLCJkZWZhdWx0UHJvcHMiLCJmaWx0ZXJUeXBlIiwiaGFzVmFsdWUiLCJwcm9wIiwiU2VsZWN0Um93SGVhZGVyQ29sdW1uIiwidGhTdHlsZSIsInBhcnNlSW50IiwiX3V0aWwiLCJfdXRpbDIiLCJfVGFibGVSb3ciLCJfVGFibGVSb3cyIiwiX1RhYmxlQ29sdW1uIiwiX1RhYmxlQ29sdW1uMiIsIl9UYWJsZUVkaXRDb2x1bW4iLCJfVGFibGVFZGl0Q29sdW1uMiIsImlzRnVuIiwiVGFibGVCb2R5IiwiY3VyckVkaXRDZWxsIiwiZWRpdGluZyIsImFkanVzdEJvZHkiLCJjb250YWluZXJDbGFzc2VzIiwidGFibGVDbGFzc2VzIiwidGFibGUtc3RyaXBlZCIsInRhYmxlLWJvcmRlcmVkIiwidGFibGUtaG92ZXIiLCJ0YWJsZS1jb25kZW5zZWQiLCJpc1NlbGVjdFJvd0RlZmluZWQiLCJfaXNTZWxlY3RSb3dEZWZpbmVkIiwidGFibGVIZWFkZXIiLCJyZW5kZXJUYWJsZUhlYWRlciIsInRhYmxlUm93cyIsInRhYmxlQ29sdW1ucyIsImZpZWxkVmFsdWUiLCJyaWQiLCJjaWQiLCJjb21wbGV0ZUVkaXQiLCJoYW5kbGVDb21wbGV0ZUVkaXRDZWxsIiwidGRDbGFzc05hbWUiLCJmb3JtYXR0ZWRWYWx1ZSIsImlzVmFsaWRFbGVtZW50Iiwib25FZGl0Iiwic2VsZWN0Um93Q29sdW1uIiwicmVuZGVyU2VsZWN0Um93Q29sdW1uIiwiZW5hYmxlQ2VsbEVkaXQiLCJjb2xTcGFuIiwiY2FsY3VsYXRlQ29udGFpbmVySGVpZ2h0Iiwic2VsZWN0Um93SGVhZGVyIiwidGhlYWRlciIsIm1heFdpZHRoIiwic29ydENhZXJ0IiwidGFyZ2V0Um93Iiwic2VsZWN0ZWRSb3ciLCJwYXJlbnRFbGVtZW50IiwiY29sdW1uSW5kZXgiLCJzdGF0ZU9iaiIsImhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlIiwiaGVhZGVycyIsImhlYWRlckRvbVByb3BzIiwiaGFyZEZpeEhlYWRlcldpZHRoIiwibWFyZ2luVG9wIiwiVGFibGVDb2x1bW4iLCJzaG91bGRVcGRhdGVkIiwic2VsZWN0aW9uIiwiZW1wdHkiLCJnZXRTZWxlY3Rpb24iLCJzZWwiLCJyZW1vdmVBbGxSYW5nZXMiLCJjZWxsSW5kZXgiLCJ0ZFN0eWxlIiwidGV4dEFsaWduIiwiY2xhc3NuYW1lIiwib3B0cyIsImhhbmRsZUNlbGxFZGl0Iiwib25Eb3VibGVDbGljayIsIl9FZGl0b3IiLCJfRWRpdG9yMiIsIl9Ob3RpZmljYXRpb25KcyIsIl9Ob3RpZmljYXRpb25KczIiLCJUYWJsZUVkaXRDb2x1bW4iLCJ0aW1lb3V0ZUNsZWFyIiwic2hha2VFZGl0b3IiLCJfZ2V0Q2hlY2tCb3hWYWx1ZSIsInZhbGlkYXRvciIsInRzIiwibm90aWZpZXIiLCJub3RpY2UiLCJpbnB1dFJlZiIsIl9jbGVhclRpbWVvdXQiLCJoYW5kbGVLZXlQcmVzcyIsImhhbmRsZUJsdXIiLCJhbmltYXRlZCIsInNoYWtlIiwiVGFibGVGaWx0ZXIiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsImZpbHRlckZpZWxkIiwic2l6ZSIsIm9uS2V5VXAiLCJoYW5kbGVLZXlVcCIsImJvcmRlckJvdHRvbVN0eWxlIiwiX1NlbGVjdFJvd0hlYWRlckNvbHVtbiIsIl9TZWxlY3RSb3dIZWFkZXJDb2x1bW4yIiwiQ2hlY2tib3giLCJ1cGRhdGUiLCJpbmRldGVybWluYXRlIiwiVGFibGVIZWFkZXIiLCJfUmVhY3QkQ29tcG9uZW50MiIsInNlbGVjdFJvd0NvbHVtbldpZHRoIiwic2VsZWN0Um93SGVhZGVyQ29sIiwicmVuZGVyU2VsZWN0Um93SGVhZGVyIiwiX2F0dGFjaENsZWFyU29ydENhcmV0RnVuYyIsImNsb25lRWxlbWVudCIsImlzVmVydGljYWxTY3JvbGxCYXIiLCJzdGFydFBvc2l0aW9uIiwiZm9yY2VVcGRhdGUiLCJtYXJnaW5SaWdodCIsIl9maWx0ZXJzRGF0ZSIsIl9maWx0ZXJzRGF0ZTIiLCJfZmlsdGVyc1RleHQiLCJfZmlsdGVyc1RleHQyIiwiX2ZpbHRlcnNTZWxlY3QiLCJfZmlsdGVyc1NlbGVjdDIiLCJfZmlsdGVyc051bWJlciIsIl9maWx0ZXJzTnVtYmVyMiIsImhhbmRsZUZpbHRlciIsImNvbHVtbk5hbWUiLCJmaWx0ZXJIYW5kbGVyIiwiZ2V0RWxlbWVudCIsImN1c3RvbUZpbHRlclBhcmFtZXRlcnMiLCJpbm5lckRpdiIsInNldEF0dHJpYnV0ZSIsImRlZmF1bHRDYXJldCIsImNvbG9yIiwic29ydENhcmV0IiwiaGFuZGxlQ29sdW1uQ2xpY2siLCJnZXRGaWx0ZXJzIiwiZmlsdGVyVHlwZUFycmF5IiwiZGVsYXkiLCJhcnJheU9mIiwibnVtYmVyQ29tcGFyYXRvcnMiLCJUYWJsZVJvdyIsImNsaWNrTnVtIiwidGFnTmFtZSIsInRyQ3NzIiwiYmFja2dyb3VuZENvbG9yIiwib25Nb3VzZU92ZXIiLCJyb3dNb3VzZU92ZXIiLCJvbk1vdXNlT3V0Iiwicm93TW91c2VPdXQiLCJyb3dDbGljayIsImRhdGFTdHJpbmciLCJjb2wiLCJjZWxsIiwiZmlsZXNhdmVyIiwic2F2ZUFzIiwiZmlsZW5hbWUiLCJCbG9iIiwidmlldyIsIm5hdmlnYXRvciIsInRlc3QiLCJ1c2VyQWdlbnQiLCJkb2MiLCJnZXRfVVJMIiwiVVJMIiwid2Via2l0VVJMIiwic2F2ZV9saW5rIiwiY3JlYXRlRWxlbWVudE5TIiwiY2FuX3VzZV9zYXZlX2xpbmsiLCJjbGljayIsIk1vdXNlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiaXNfc2FmYXJpIiwid2Via2l0X3JlcV9mcyIsIndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtIiwicmVxX2ZzIiwicmVxdWVzdEZpbGVTeXN0ZW0iLCJtb3pSZXF1ZXN0RmlsZVN5c3RlbSIsInRocm93X291dHNpZGUiLCJleCIsInNldEltbWVkaWF0ZSIsImZvcmNlX3NhdmVhYmxlX3R5cGUiLCJmc19taW5fc2l6ZSIsImFyYml0cmFyeV9yZXZva2VfdGltZW91dCIsInJldm9rZSIsImZpbGUiLCJyZXZva2VyIiwicmV2b2tlT2JqZWN0VVJMIiwiY2hyb21lIiwiZGlzcGF0Y2giLCJldmVudF90eXBlcyIsImF1dG9fYm9tIiwiYmxvYiIsIkZpbGVTYXZlciIsIm5vX2F1dG9fYm9tIiwib2JqZWN0X3VybCIsInRhcmdldF92aWV3IiwiYmxvYl9jaGFuZ2VkIiwiZGlzcGF0Y2hfYWxsIiwiZnNfZXJyb3IiLCJGaWxlUmVhZGVyIiwicmVhZGVyIiwib25sb2FkZW5kIiwiYmFzZTY0RGF0YSIsImxvY2F0aW9uIiwiaHJlZiIsInJlYWR5U3RhdGUiLCJET05FIiwicmVhZEFzRGF0YVVSTCIsIklOSVQiLCJjcmVhdGVPYmplY3RVUkwiLCJuZXdfdGFiIiwib3BlbiIsImFib3J0YWJsZSIsImNyZWF0ZV9pZl9ub3RfZm91bmQiLCJleGNsdXNpdmUiLCJkb3dubG9hZCIsIndlYmtpdFNsaWNlIiwiVEVNUE9SQVJZIiwiZnMiLCJnZXREaXJlY3RvcnkiLCJzYXZlIiwiZ2V0RmlsZSIsImNyZWF0ZVdyaXRlciIsIndyaXRlciIsIm9ud3JpdGVlbmQiLCJ0b1VSTCIsIm9uZXJyb3IiLCJjb2RlIiwiQUJPUlRfRVJSIiwid3JpdGUiLCJhYm9ydCIsIldSSVRJTkciLCJOT1RfRk9VTkRfRVJSIiwiRlNfcHJvdG8iLCJtc1NhdmVPck9wZW5CbG9iIiwib253cml0ZXN0YXJ0Iiwib25wcm9ncmVzcyIsIm9ud3JpdGUiLCJvbmFib3J0IiwiY29udGVudCIsIkRhdGVGaWx0ZXIiLCJkZWZhdWx0RGF0ZSIsIkRhdGUiLCJkYXRlVmFsdWUiLCJpbnB1dERhdGUiLCJzZXREZWZhdWx0RGF0ZSIsImlzUmVxdWlyZWQiLCJsZWdhbENvbXBhcmF0b3JzIiwiTnVtYmVyRmlsdGVyIiwiaXNQbGFjZWhvbGRlclNlbGVjdGVkIiwib25DaGFuZ2VOdW1iZXIiLCJvbkNoYW5nZU51bWJlclNldCIsIm9uQ2hhbmdlQ29tcGFyYXRvciIsIm51bWJlckZpbHRlckNvbXBhcmF0b3IiLCJudW1iZXJGaWx0ZXIiLCJvcHRpb25UYWdzIiwic2VsZWN0Q2xhc3MiLCJwbGFjZWhvbGRlci1zZWxlY3RlZCIsImdldENvbXBhcmF0b3JPcHRpb25zIiwiZ2V0TnVtYmVyT3B0aW9ucyIsInByb3BOYW1lIiwiY29tcGFyYXRvcklzVmFsaWQiLCJqIiwiU2VsZWN0RmlsdGVyIiwic2VsZWN0SW5wdXQiLCJnZXRPcHRpb25zIiwiVGV4dEZpbHRlciIsImlucHV0VGV4dCIsIlBhZ2VCdXR0b24iLCJhY3RpdmUiLCJkaXNhYmxlIiwicGFnZUJ0bkNsaWNrIiwiX1BhZ2VCdXR0b25KcyIsIl9QYWdlQnV0dG9uSnMyIiwiUGFnaW5hdGlvbkxpc3QiLCJ0b3RhbFBhZ2VzIiwic2VsZWN0U2l6ZSIsInBhZ2VCdG5zIiwibWFrZVBhZ2UiLCJwYWdlTGlzdFN0eWxlIiwiZmxvYXQiLCJjaGFuZ2VTaXplUGVyUGFnZSIsImRhdGEtdG9nZ2xlIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtbGFiZWxsZWRieSIsInBhZ2VzIiwiZ2V0UGFnZXMiLCJpc0FjdGl2ZSIsInN0YXJ0UGFnZSIsImVuZFBhZ2UiLCJtYXgiLCJmbG9vciIsIlRvb2xCYXIiLCJoYW5kbGVTaG93T25seVRvZ2dsZSIsInNob3dTZWxlY3RlZCIsImhhbmRsZUNsZWFyQnRuQ2xpY2siLCJzZWFjaElucHV0IiwiaXNJbnNlcnRSb3dUcmlnZ2VyIiwidmFsaWRhdGVTdGF0ZSIsInRlbXBWYWx1ZSIsInRlbXBNc2ciLCJpc1ZhbGlkIiwiZ2V0VGltZSIsImRvbSIsImNoZWNrQW5kUGFyc2VGb3JtIiwiZXJyb3JzIiwibG9nIiwicXVlcnlTZWxlY3RvciIsImZvcm0iLCJyZXNldCIsIm1vZGFsQ2xhc3NOYW1lIiwiaW5zZXJ0QnRuIiwiZGF0YS10YXJnZXQiLCJkZWxldGVCdG4iLCJkYXRhLXBsYWNlbWVudCIsImhhbmRsZURyb3BSb3dCdG5DbGljayIsInNlYXJjaFRleHRJbnB1dCIsInJlbmRlclNlYXJjaFBhbmVsIiwic2hvd1NlbGVjdGVkT25seUJ0biIsImFyaWEtcHJlc3NlZCIsIm1vZGFsIiwicmVuZGVySW5zZXJ0Um93TW9kYWwiLCJjbGVhckJ0biIsImlucHV0RmllbGQiLCJtb2RhbENsYXNzIiwiaW4iLCJkaWFsb2dDbGFzcyIsImRhdGEtZGlzbWlzcyIsImhhbmRsZVNhdmVCdG5DbGljayIsIml0ZW0iLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIl9kZWZpbmVQcm9wZXJ0eSIsIlJlYWN0IiwiU3dpdGNoIiwicHJlZml4Q2xzIiwiY2hlY2tlZENoaWxkcmVuIiwidW5DaGVja2VkQ2hpbGRyZW4iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwidG9nZ2xlIiwiX2NsYXNzTmFtZXMiLCJzd2l0Y2hDbGFzc05hbWUiLCJpbml0Q2FjaGUiLCJjYWNoZSIsInVwZGF0ZUNhY2hlIiwiZ2V0RnJvbUNhY2hlIiwiY2FjaGVLZXkiLCJjb21wbGV0ZSIsInRoZW5Qcm9taXNlIiwicHJvbWlzZSIsImVyciIsIl9TZWxlY3QiLCJfU2VsZWN0MiIsInJlcXVlc3RJZCIsImxvYWRPcHRpb25zIiwibG9hZGluZ1BsYWNlaG9sZGVyIiwibWluaW11bUlucHV0Iiwic2VhcmNoUHJvbXB0VGV4dCIsInNlYXJjaGluZ1RleHQiLCJjb21wb25lbnRXaWxsTW91bnQiLCJfbGFzdElucHV0Iiwic2VsZWN0IiwicmVzZXRTdGF0ZSIsIl9jdXJyZW50UmVxdWVzdElkIiwiZ2V0UmVzcG9uc2VIYW5kbGVyIiwiX3JlcXVlc3RJZCIsImlzTW91bnRlZCIsImNhY2hlUmVzdWx0IiwicmVzcG9uc2VIYW5kbGVyIiwiX3N0YXRlIiwib25VbmZvY3VzIiwiYmxvY2tFdmVudCIsImhhbmRsZU1vdXNlTW92ZSIsIm9uTW91c2VNb3ZlIiwiVmFsdWUiLCJoYW5kbGVUb3VjaEVuZFJlbW92ZSIsInJlbmRlclJlbW92ZUljb24iLCJzaXplclN0eWxlIiwid2hpdGVTcGFjZSIsIm5leHRGcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkF1dG9zaXplSW5wdXQiLCJpbnB1dFN0eWxlIiwiaW5wdXRDbGFzc05hbWUiLCJpbnB1dFdpZHRoIiwiY29weUlucHV0U3R5bGVzIiwidXBkYXRlSW5wdXRXaWR0aCIsInF1ZXVlVXBkYXRlSW5wdXRXaWR0aCIsImdldENvbXB1dGVkU3R5bGUiLCJ3aWR0aE5vZGUiLCJzaXplciIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJmb250U3R5bGUiLCJsZXR0ZXJTcGFjaW5nIiwicGxhY2Vob2xkZXJOb2RlIiwicGxhY2Vob2xkZXJTaXplciIsInNjcm9sbFdpZHRoIiwibmV3SW5wdXRXaWR0aCIsImdldElucHV0IiwiZXNjYXBlZFZhbHVlIiwiYm94U2l6aW5nIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9Ub2FzdE1lc3NhZ2UiLCJfVG9hc3RNZXNzYWdlMiIsIl9Db21wb25lbnQiLCJfT2JqZWN0JGdldFByb3RvdHlwZU8iLCJfdGVtcCIsIl9sZW4iLCJfa2V5IiwidG9hc3RzIiwicHJldmlvdXNNZXNzYWdlIiwib3B0aW9uc092ZXJyaWRlIiwiX25vdGlmeSIsInRvYXN0VHlwZSIsInByZXZlbnREdXBsaWNhdGVzIiwibmV3VG9hc3QiLCIkbWVyZ2UiLCJfaGFuZGxlX3RvYXN0X29uX2NsaWNrIiwiX2hhbmRsZV90b2FzdF9yZW1vdmUiLCJ0b2FzdE9wZXJhdGlvbiIsIm5ld2VzdE9uVG9wIiwiZGVmYXVsdFByZXZlbnRlZCIsIm9wZXJhdGlvbk5hbWUiLCJmb3VuZCIsInRvYXN0IiwiJHNwbGljZSIsImFyaWEtbGl2ZSIsIl9SZWFjdFRyYW5zaXRpb25FdmVudHMiLCJfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMiIsIl9lbGVtZW50Q2xhc3MiLCJfZWxlbWVudENsYXNzMiIsIlRJQ0siLCJ0cmFuc2l0aW9uIiwiY2xhc3NOYW1lUXVldWUiLCJpc0hpZGluZyIsImludGVydmFsSWQiLCJfaXNfbW91bnRlZCIsIl9zaG93Iiwib25IaWRlQ29tcGxldGUiLCJfc2V0X2lzX2hpZGluZyIsInJlbW92ZUVuZEV2ZW50TGlzdGVuZXIiLCJhZGRFbmRFdmVudExpc3RlbmVyIiwiX3NldF9pbnRlcnZhbF9pZCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiX3NldF90cmFuc2l0aW9uIiwiaGlkZSIsImFuaW1hdGlvblR5cGUiLCJhY3RpdmVDbGFzc05hbWUiLCJlbmRMaXN0ZW5lciIsImNsYXNzTGlzdCIsIl9xdWV1ZV9jbGFzcyIsIl9jbGVhcl90cmFuc2l0aW9uIiwiX3NldF9hbmltYXRpb24iLCJhbmltYXRpb25zIiwiX2dldF9hbmltYXRpb25fY2xhc3NlcyIsImFuaW0iLCJfY2xlYXJfYW5pbWF0aW9uIiwiX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUiLCJvdmVycmlkZSIsImNhbGxfc2hvd19tZXRob2QiLCIkbm9kZSIsInNob3dNZXRob2QiLCJkdXJhdGlvbiIsInNob3dEdXJhdGlvbiIsImVhc2luZyIsInNob3dFYXNpbmciLCJoaWRlTWV0aG9kIiwiaGlkZUR1cmF0aW9uIiwiaGlkZUVhc2luZyIsIl9nZXRfJF9ub2RlIiwic3RvcCIsIl9Ub2FzdENvbnRhaW5lciIsIl9Ub2FzdENvbnRhaW5lcjIiLCJFbGVtZW50Q2xhc3MiLCJub2RlVHlwZSIsImVsIiwiaWR4IiwiaGFzIiwic291cmNlcyIsInRvIiwibmV4dEluZGV4IiwibmV4dFNvdXJjZSIsImZyb20iLCJkZXRlY3RFdmVudHMiLCJ0ZXN0RWwiLCJFVkVOVF9OQU1FX01BUCIsImFuaW1hdGlvbmVuZCIsInRyYW5zaXRpb25lbmQiLCJiYXNlRXZlbnROYW1lIiwiYmFzZUV2ZW50cyIsInN0eWxlTmFtZSIsImVuZEV2ZW50cyIsImV2ZW50TmFtZSIsImV2ZW50TGlzdGVuZXIiLCJFeGVjdXRpb25FbnZpcm9ubWVudCIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJtc1RyYW5zaXRpb24iLCJXZWJraXRBbmltYXRpb24iLCJNb3pBbmltYXRpb24iLCJPQW5pbWF0aW9uIiwibXNBbmltYXRpb24iLCJjYW5Vc2VET00iLCJSZWFjdFRyYW5zaXRpb25FdmVudHMiLCJlbmRFdmVudCIsInNoYWxsb3dDb3B5IiwiaW52YXJpYW50QXJyYXlDYXNlIiwic3BlYyIsImNvbW1hbmQiLCJOT0RFX0VOViIsImludmFyaWFudCIsInNwZWNWYWx1ZSIsIkFMTF9DT01NQU5EU19MSVNUIiwiQ09NTUFORF9TRVQiLCJuZXh0VmFsdWUiLCJDT01NQU5EX01FUkdFIiwibWVyZ2VPYmoiLCJDT01NQU5EX1BVU0giLCJDT01NQU5EX1VOU0hJRlQiLCJ1bnNoaWZ0IiwiQ09NTUFORF9TUExJQ0UiLCJDT01NQU5EX0FQUExZIiwiayIsIkFMTF9DT01NQU5EU19TRVQiLCJrZXlPZiIsIiRwdXNoIiwiJHVuc2hpZnQiLCIkYXBwbHkiLCJjYW5Vc2VXb3JrZXJzIiwiV29ya2VyIiwiY2FuVXNlRXZlbnRMaXN0ZW5lcnMiLCJhdHRhY2hFdmVudCIsImNhblVzZVZpZXdwb3J0Iiwic2NyZWVuIiwiaXNJbldvcmtlciIsImNvbmRpdGlvbiIsImYiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwib25lS2V5T2JqIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJ0b2EiLCJ1cGRhdGVMaW5rIiwiYXBwbHlUb1RhZyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwicmVwbGFjZVRleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9sZFNyYyIsIm1lbW9pemUiLCJmbiIsIm1lbW8iLCJpc09sZElFIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJCb29sZWFuIiwibG9jYWxzIiwiX193ZWJwYWNrX2FtZF9vcHRpb25zX18iXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVBQUEsZ0JBQUFDLFFBQ0FBLE9BQUFELFFBQUFELEVBQUFHLFFBQUEsU0FBQUEsUUFBQSxjQUNBLGtCQUFBQyxnQkFBQUMsSUFDQUQsUUFBQSxxQkFBQUosR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxvQkFBQUQsRUFBQUcsUUFBQSxTQUFBQSxRQUFBLGNBRUFKLEVBQUEsb0JBQUFDLEVBQUFELEVBQUEsTUFBQUEsRUFBQSxXQUNDTyxLQUFBLFNBQUFDLEVBQUFDLEdBQ0QsTUNBZ0IsVUFBVUMsR0NOMUIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFWLE9BR0EsSUFBQUMsR0FBQVUsRUFBQUQsSUFDQVYsV0FDQVksR0FBQUYsRUFDQUcsUUFBQSxFQVVBLE9BTkFMLEdBQUFFLEdBQUFJLEtBQUFiLEVBQUFELFFBQUFDLElBQUFELFFBQUFTLEdBR0FSLEVBQUFZLFFBQUEsRUFHQVosRUFBQUQsUUF2QkEsR0FBQVcsS0FxQ0EsT0FUQUYsR0FBQU0sRUFBQVAsRUFHQUMsRUFBQU8sRUFBQUwsRUFHQUYsRUFBQVEsRUFBQSxHQUdBUixFQUFBLEtEZ0JNLFNBQVNSLEVBQVFELEVBQVNTLEdBRS9CLFlBTUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FKekZHLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxHQUtULElBQUlDLEdBQWtCaEIsRUVoRUksSUZrRXRCaUIsRUFBbUJSLEVBQXVCTyxHQUUxQ0UsRUFBcUJsQixFRW5FSSxJRnFFekJtQixFQUFzQlYsRUFBdUJTLEdBRTdDRSxFQUF1QnBCLEVFdEVELEVBRU4sb0JBQVhxQixVQUNSQSxPQUFPQyxlQUFjTCxFQUFBLFdBQ3JCSSxPQUFPRSxrQkFBaUJKLEVBQUEsV0FDeEJFLE9BQU9HLGFBQVlKLEVBQUFJLGNGd0VwQmpDLEVBQVEsWUVyRVArQixlQUFjTCxFQUFBLFdBQ2RNLGtCQUFpQkosRUFBQSxXQUNqQkssYUFBWUosRUFBQUksY0Z3RWJoQyxFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEdHeEZ2QkMsRUFBQUQsUUFBQU0sR0g4Rk0sU0FBU0wsRUFBUUQsR0FFdEIsWUFFQXNCLFFBQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxJQUVUeEIsRUFBUSxZSXBHUGtDLFVBQVcsT0FDWEMsU0FBVSxNQUNWQyxjQUFlLEdBQ2ZDLFVBQVcsSUFDWEMsVUFBVyxLQUNYQyxTQUFVLElBQ1ZDLFdBQVksS0FDWkMsb0JBQXFCLEdBQ3JCQyxnQkFBaUIsT0FDakJDLGtCQUFtQixRQUNuQkMsaUJBQWtCLFdBQ2xCQyxlQUFnQixPQUNoQkMsZ0JBQWlCLFFBQ2pCQyxrQkFBbUIsVUFDbkJDLG9CQUFxQixHQUFJLEdBQUksR0FBSSxJQUNqQ0MsZ0JBQWlCLEVBQ2pCQyxhQUFjLDhCQUNkQyxpQkFBa0IscUJBQ2xCQyxTQUFVLFdBQ1ZDLGFBQWMsSUFDZEMsYUFDRUMsS0FBTSxhQUNOQyxPQUFRLGVBQ1JDLE9BQVEsZUFDUkMsS0FBTSxhQUNOQyxPQUFRLGlCSndHWDFELEVBQU9ELFFBQVVBLEVBQVEsWUFJcEIsU0FBU0MsRUFBUUQsRUFBU1MsR0t0SWhDLEdBQUFtRCxHQUFBQzs7Ozs7Q0FPQSxXQUNBLFlBSUEsU0FBQUMsS0FHQSxPQUZBQyxNQUVBQyxFQUFBLEVBQWlCQSxFQUFBQyxVQUFBQyxPQUFzQkYsSUFBQSxDQUN2QyxHQUFBRyxHQUFBRixVQUFBRCxFQUNBLElBQUFHLEVBQUEsQ0FFQSxHQUFBQyxTQUFBRCxFQUVBLGVBQUFDLEdBQUEsV0FBQUEsRUFDQUwsRUFBQU0sS0FBQUYsT0FDSSxJQUFBRyxNQUFBQyxRQUFBSixHQUNKSixFQUFBTSxLQUFBUCxFQUFBVSxNQUFBLEtBQUFMLFFBQ0ksZUFBQUMsRUFDSixPQUFBSyxLQUFBTixHQUNBTyxFQUFBNUQsS0FBQXFELEVBQUFNLElBQUFOLEVBQUFNLElBQ0FWLEVBQUFNLEtBQUFJLElBTUEsTUFBQVYsR0FBQVksS0FBQSxLQXhCQSxHQUFBRCxNQUFnQkUsY0EyQmhCLG9CQUFBM0UsTUFBQUQsUUFDQUMsRUFBQUQsUUFBQThELEdBR0FGLEtBQUFDLEVBQUEsV0FDQSxNQUFBQyxJQUNHVSxNQUFBeEUsRUFBQTRELEtBQUFpQixTQUFBaEIsSUFBQTVELEVBQUFELFFBQUE2RCxTTGlKRyxTQUFTNUQsRUFBUUQsR001THZCQyxFQUFBRCxRQUFBTyxHTmtNTSxTQUFTTixFQUFRRCxFQUFTUyxHQUUvQixZQU1BLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBSnpGRyxPQUFPQyxlQUFldkIsRUFBUyxjQUM3QndCLE9BQU8sR0FLVCxJQUFJc0QsR0FBU3JFLEVPNU1JLEdQOE1ic0UsRUFBVTdELEVBQXVCNEQsR0FFakNFLEVBQVN2RSxFTy9NSSxHUGlOYndFLEVBQVUvRCxFQUF1QjhELEdBRWpDRSxFQUFjekUsRU9sTkUsR1BvTmhCMEUsRUFBZWpFLEVBQXVCZ0UsRUFFMUNsRixHQUFRLFlPbk5Qb0YsZ0JBQWUsU0FBQ0MsR0FDZCxHQUFJQyxHQUFPQyxTQUFTQyxjQUFjLE9BQ2xDRixHQUFLRyxVQUFZLFFBQ2RKLEdBQVNKLEVBQUEsV0FBTTlDLFdBQVVtRCxFQUFLRyxXQUFhLFVBQzlDLElBQUlDLEdBQVFILFNBQVNDLGNBQWMsT0FJbkMsT0FIQUUsR0FBTUQsVUFBWSxRQUNsQkMsRUFBTUMsTUFBTUMsT0FBUyxXQUNyQk4sRUFBS08sWUFBWUgsR0FDVkosR0FHVFEscUJBQW9CLFNBQUNULEdBQ25CLEdBQUlVLElBQWEsRUFBQVosRUFBQSxZQUFTLFNBQ3hCYSxPQUFVWCxHQUFTSixFQUFBLFdBQU05QyxVQUUzQixPQUNFNEMsR0FBQSxXQUFBUyxjUHFOQyxRT3JOS0MsVUFBV00sR0FDZmhCLEVBQUEsV0FBQVMsY0FBQSxRQUFNQyxVQUFVLFFBQVFFLE9BQVFDLE9BQVEsZ0JBSzlDSyxrQkFBaUIsV0FDZixHQUFJUCxHQUFRSCxTQUFTQyxjQUFjLElBQ25DRSxHQUFNQyxNQUFNTyxNQUFRLE9BQ3BCUixFQUFNQyxNQUFNUSxPQUFTLE9BRXJCLElBQUlDLEdBQVFiLFNBQVNDLGNBQWMsTUFDbkNZLEdBQU1ULE1BQU1VLFNBQVcsV0FDdkJELEVBQU1ULE1BQU1XLElBQU0sTUFDbEJGLEVBQU1ULE1BQU1ZLEtBQU8sTUFDbkJILEVBQU1ULE1BQU1hLFdBQWEsU0FDekJKLEVBQU1ULE1BQU1PLE1BQVEsUUFDcEJFLEVBQU1ULE1BQU1RLE9BQVMsUUFDckJDLEVBQU1ULE1BQU1jLFNBQVcsU0FDdkJMLEVBQU1QLFlBQWFILEdBRW5CSCxTQUFTbUIsS0FBS2IsWUFBYU8sRUFDM0IsSUFBSU8sR0FBS2pCLEVBQU1rQixXQUNmUixHQUFNVCxNQUFNYyxTQUFXLFFBQ3ZCLElBQUlJLEdBQUtuQixFQUFNa0IsV0FLZixPQUpJRCxJQUFNRSxJQUFJQSxFQUFLVCxFQUFNVSxhQUV6QnZCLFNBQVNtQixLQUFLSyxZQUFhWCxHQUVuQk8sRUFBS0UsSVB5TmhCNUcsRUFBT0QsUUFBVUEsRUFBUSxZQUlwQixTQUFTQyxFQUFRRCxFQUFTUyxHQUUvQixZQVFBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBTnpGRyxPQUFPQyxlQUFldkIsRUFBUyxjQUMzQndCLE9BQU8sR0FHWCxJQUFJd0YsR0FBVzFGLE9BQU8yRixRQUFVLFNBQVVDLEdBQVUsSUFBSyxHQUFJbEQsR0FBSSxFQUFHQSxFQUFJQyxVQUFVQyxPQUFRRixJQUFLLENBQUUsR0FBSW1ELEdBQVNsRCxVQUFVRCxFQUFJLEtBQUssR0FBSVMsS0FBTzBDLEdBQWM3RixPQUFPOEYsVUFBVXhDLGVBQWU5RCxLQUFLcUcsRUFBUTFDLEtBQVF5QyxFQUFPekMsR0FBTzBDLEVBQU8xQyxJQUFZLE1BQU95QyxJQUluUHBDLEVBQVNyRSxFUTNSSSxHUjZSYnNFLEVBQVU3RCxFQUF1QjRELEdBRWpDdUMsRUFBWTVHLEVROVJFLEdSZ1NkNkcsRUFBYXBHLEVBQXVCbUcsRUFFeEM1RyxHUWpTTSxHUm1TTixJQUFJOEcsR0FBZTlHLEVRbFNELElSb1NkK0csRUFBZ0J0RyxFQUF1QnFHLEdRbFN4Q0UsRUFBUyxTQUFVQyxFQUFVQyxFQUFNQyxFQUFRQyxFQUFhQyxHQUd4RCxHQUFJSixLQUFhLEdBQTRCLGdCQUFiQSxHQUF1QixDQUNuRCxHQUFJSyxHQUFPTCxLQUFhLEVBQU8sT0FBU0EsQ0FDeEMsT0FDSTNDLEdBQUEsV0FBQVMsY0FBQSxRQUFBd0IsS0FBV1csR0FBTUksS0FBTUEsRUFBTUQsYUFBY0EsRUFDMUJyQyxXQUFZb0MsR0FBYSxJQUFJLG9DQUUvQyxJQUFLSCxFQUFVLENBQ2xCLEdBQUlLLEdBQU9MLEtBQWEsRUFBTyxPQUFTQSxDQUN4QyxPQUNJM0MsR0FBQSxXQUFBUyxjQUFBLFFBQUF3QixLQUFXVyxHQUFNSSxLQUFNQSxFQUFNRCxhQUFjQSxFQUFjRSxTQUFTLFdBQ2pEdkMsV0FBWW9DLEdBQWEsSUFBSSxvQ0FFL0MsR0FBSUgsRUFBU0ssS0FBTSxDQVV0QixHQVJBTCxFQUFTL0IsUUFBVWdDLEVBQUtoQyxNQUFRK0IsRUFBUy9CLE9BR3pDZ0MsRUFBS2xDLFdBQWFvQyxHQUFlLElBQzdCLDZCQUNBSCxFQUFTSyxNQUNSTCxFQUFTakMsVUFBYSxJQUFNaUMsRUFBU2pDLFVBQWEsSUFFakMsV0FBbEJpQyxFQUFTSyxLQUFtQixDQUM1QixHQUFJRSxNQUFjQyxFQUFTUixFQUFTTyxRQUFRQyxNQUM1QyxJQUFJNUQsTUFBTUMsUUFBUTJELEdBQVMsQ0FDdkIsR0FBSUMsRUFDSkYsR0FBVUMsRUFBT0UsSUFBSSxTQUFVQyxFQUFHckUsR0FFOUIsTUFEQW1FLEdBQVdQLEVBQVNBLEVBQU9TLEdBQUtBLEVBRTVCdEQsRUFBQSxXQUFBUyxjUmlTQyxVUWpTT2YsSUFBSyxTQUFTVCxFQUFHeEMsTUFBTzZHLEdBQUlGLEtBSWhELE1BQ0lwRCxHQUFBLFdBQUFTLGNSbVNDLFNBQ0F3QixLUXBTV1csR0FBTUcsYUFBY0EsSUFBZUcsR0FFaEQsR0FBc0IsYUFBbEJQLEVBQVNLLEtBQXFCLENBRXJDTCxFQUFTWSxPQUFTWCxFQUFLVyxLQUFPWixFQUFTWSxNQUN2Q1osRUFBU2EsT0FBU1osRUFBS1ksS0FBT2IsRUFBU2EsS0FDdkMsSUFBSUMsR0FBZWIsRUFBS2MsVUFBV0MsRUFBVSxJQVU3QyxPQVRJRixLQUNBYixFQUFLYyxVQUFZLFNBQVVFLEdBQ04sSUFBYkEsRUFBRUMsU0FDRkosRUFBYUcsSUFHckJELEVBQVUzRCxFQUFBLFdBQUFTLGNSeVNMLFNRelNZQyxVQUFVLHdDQUF3Q29ELFFBQVNMLEdSMlN2RSxTUXZTTHpELEVBQUEsV0FBQVMsY1I0U0MsTUFDQSxLUTVTR1QsRUFBQSxXQUFBUyxjQUFBLFdBQUF3QixLQUFjVyxHQUFNRyxhQUFjQSxLQUNqQ1ksR0FJTixHQUFzQixhQUFsQmhCLEVBQVNLLEtBQXFCLENBQ3JDLEdBQUllLEdBQVMsWUFDVHBCLEdBQVNPLFNBQVdQLEVBQVNPLFFBQVFDLFNBRXJDWSxFQUFTcEIsRUFBU08sUUFBUUMsUUFFOUJQLEVBQUtsQyxVQUFZa0MsRUFBS2xDLFVBQVVzRCxRQUFRLGVBQWdCLElBQ3hEcEIsRUFBS2xDLFdBQWEsc0JBRWxCLElBQUl1RCxNQUFVbEIsR0FBZ0JBLEVBQWFtQixZQUFjSCxFQUFPSSxNQUFNLEtBQUssR0FFM0UsT0FDSW5FLEdBQUEsV0FBQVMsY0FBQSxRQUFBd0IsS0FBV1csR0FBTUksS0FBSyxXQUFXdkcsTUFBT3NILEVBQVFLLGVBQWdCSCxLQUVqRSxHQUFzQixXQUFsQnRCLEVBQVNLLEtBQW1CLENBQ25DLEdBQUlxQixHQUFTLFlBQ2J6QixHQUFLbEMsVUFBWWtDLEVBQUtsQyxVQUFVc0QsUUFBUSxlQUFnQixJQUN4RHBCLEVBQUtsQyxXQUFhLHNCQUNsQixJQUFJdUQsTUFBVWxCLEdBQWdCQSxFQUFhbUIsWUFBY0csRUFBT0YsTUFBTSxLQUFLLEdBQzNFLE9BQ0luRSxHQUFBLFdBQUFTLGNBQUE4QixFQUFBLFlBQVE3QixVQUFXa0MsRUFBS2xDLFVBQVcwRCxlQUFnQkgsSUFFcEQsR0FBc0IsaUJBQWxCdEIsRUFBU0ssS0FBeUIsQ0FDekMsR0FBSXNCLEdBQTZDLG1CQUEzQjNCLEdBQVNPLFFBQVFxQixNQUF3QjVCLEVBQVNPLFFBQVFxQixPQUFRLENBQ3hGLE9BQ0l2RSxHQUFBLFdBQUFTLGNBQUFnQyxFQUFBLFlBQVEvQixVQUFVLGFBQWF3QyxRQUFTUCxFQUFTTyxRQUFRQyxPQUFRb0IsTUFBT0QsRUFBVUUsYUFBYSxJQUduRyxNQUNJeEUsR0FBQSxXQUFBUyxjQUFBLFFBQUF3QixLQUFXVyxHQUFNSSxLQUFNQSxFQUFNRCxhQUFjQSxLQUt2RCxNQUNJL0MsR0FBQSxXQUFBUyxjQUFBLFFBQUF3QixLQUFXVyxHQUFNSSxLQUFLLE9BQU90QyxXQUFZb0MsR0FBYSxJQUFJLG9DUnNTakU3SCxHQUFRLFdRbFNNeUgsRVJtU2R4SCxFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDN0J3QixPQUFPLEdBR1QsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRVNqYUksR1RtYWJzRSxFQUFVN0QsRUFBdUI0RCxHQUVqQ0UsRUFBU3ZFLEVTcGFJLEdUd2Fia0wsR0FGVXpLLEVBQXVCOEQsR0FFbEJ2RSxFU25hYixLQUdIbUwsRUFBcUI3RyxFQUFBLFdBQU04RyxjQUFjRixFQUFBRyxhQUFhQyxXQUVwREMsRUFBWSxTQUFBQyxHVHFhZixRU3JhR0QsS1RzYUR4QyxFQUFnQm5KLEtTdGFmMkwsR1R3YURwQixFQUFLdEosT0FBT29LLGVTeGFYTSxFQUFZNUUsV0FBQSxjQUFBL0csTUFBQW1FLE1BQUFuRSxLQUFBNEQsV1RnY2YsTUE3QkEyRixHU25hR29DLEVBQVlDLEdUMmFmM0IsRVMzYUcwQixJVDRhRHZILElBQUssU0FHTGpELE1TN2FHLFNBQUN1RyxFQUFLbUUsRUFBSUMsR0FDZDlMLEtBQUsrTCxLQUFLQyxPQUFPdEUsR0FDYm1FLEVBQUlDLEdBQ0ZHLEtBQUssU0FDTEMsUUFBUyxJQUNUQyxnQkFBaUIsSUFDakJDLGNBQWUscUJBQ2ZDLGNBQWUsMEJUZ2JwQmpJLElBQUssU0FDTGpELE1TN2FHLFdBQ0osTUFDSXVELEdBQUEsV0FBQVMsY0FBQW1HLEVBQUFnQixnQkFBZ0JDLElBQUksU0FBU0Msb0JBQXFCakIsRUFDakNoTCxHQUFHLGtCQUFtQjZFLFVBQVUsd0JBaEJuRHVHLEdBQXFCakgsRUFBQSxXQUFNK0gsVVRtY2hDOU0sR0FBUSxXUzlhTWdNLEVUK2FkL0wsRUFBT0QsUUFBVUEsRUFBUSxZQUlwQixTQUFTQyxFQUFRRCxFQUFTUyxHQUUvQixZQVVBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBRXpGLFFBQVNxSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlILFdBQVUsaUVBQW9FRyxHQUFlRCxHQUFTekMsVUFBWTlGLE9BQU95SSxPQUFPRCxHQUFjQSxFQUFXMUMsV0FBYTRDLGFBQWV4SSxNQUFPcUksRUFBVUksWUFBWSxFQUFPQyxVQUFVLEVBQU1DLGNBQWMsS0FBZUwsSUFBWXhJLE9BQU84SSxlQUFpQjlJLE9BQU84SSxlQUFlUCxFQUFVQyxHQUFjRCxFQUFTUSxVQUFZUCxHVWhlbGUsUUFBU2lELEdBQU1DLEVBQUtDLEVBQVc1SCxFQUFPNkgsR0FjcEMsTUFiQTdILEdBQVFBLEVBQU04SCxjQUNkSCxFQUFJSSxLQUFLLFNBQUNDLEVBQUdDLEdBQ1gsTUFBSUosR0FDS0EsRUFBU0csRUFBR0MsRUFBR2pJLEdBRWxCQSxHQUFTSixFQUFBLFdBQU0vQyxVQUNWbUwsRUFBRUosR0FBYUssRUFBRUwsR0FBYSxHQUFPSSxFQUFFSixHQUFhSyxFQUFFTCxHQUFjLEVBQUksRUFFeEVJLEVBQUVKLEdBQWFLLEVBQUVMLEdBQWEsR0FBT0ksRUFBRUosR0FBYUssRUFBRUwsR0FBYyxFQUFJLElBSzlFRCxFVnNjUjFMLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxHQUdULElBQUk4SSxHQUFlLFdBQWUsUUFBU0MsR0FBaUJyRCxFQUFRc0QsR0FBUyxJQUFLLEdBQUl4RyxHQUFJLEVBQUdBLEVBQUl3RyxFQUFNdEcsT0FBUUYsSUFBSyxDQUFFLEdBQUl5RyxHQUFhRCxFQUFNeEcsRUFBSXlHLEdBQVdSLFdBQWFRLEVBQVdSLGFBQWMsRUFBT1EsRUFBV04sY0FBZSxFQUFVLFNBQVdNLEtBQVlBLEVBQVdQLFVBQVcsR0FBTTVJLE9BQU9DLGVBQWUyRixFQUFRdUQsRUFBV2hHLElBQUtnRyxJQUFpQixNQUFPLFVBQVVmLEVBQWFnQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUgsRUFBaUJiLEVBQVl0QyxVQUFXc0QsR0FBaUJDLEdBQWFKLEVBQWlCYixFQUFhaUIsR0FBcUJqQixNQUU3aEJrQixFQUFPLFNBQWFDLEVBQUlDLEVBQUtDLEdBQXFDLElBQTlCLEdBQUlDLElBQVMsRUFBd0JBLEdBQVEsQ0FBRSxHQUFJQyxHQUFTSixFQUFJSyxFQUFXSixFQUFLSyxFQUFXSixDQUFLQyxJQUFTLEVBQXNCLE9BQVhDLElBQWlCQSxFQUFTRyxTQUFTaEUsVUFBVyxJQUFJaUUsR0FBTy9KLE9BQU9nSyx5QkFBeUJMLEVBQVFDLEVBQVcsSUFBYXJHLFNBQVR3RyxFQUFKLENBQTRPLEdBQUksU0FBV0EsR0FBUSxNQUFPQSxHQUFLN0osS0FBZ0IsSUFBSStKLEdBQVNGLEVBQUtHLEdBQUssSUFBZTNHLFNBQVgwRyxFQUF3QixNQUFvQixPQUFPQSxHQUFPekssS0FBS3FLLEdBQS9WLEdBQUlNLEdBQVNuSyxPQUFPb0ssZUFBZVQsRUFBUyxJQUFlLE9BQVhRLEVBQW1CLE1BQTJCWixHQUFLWSxFQUFRWCxFQUFNSSxFQUFVSCxFQUFNSSxFQUFVSCxHQUFTLEVBQU1LLEVBQU9JLEVBQVM1RyxTQVF4Y0csRUFBU3ZFLEVVcmVJLEdWdWVid0UsRUFBVS9ELEVBQXVCOEQsR1V0ZWxDdUksRUFBZTlNLEVBQVEsSUFBVThNLGFBbUJ4QnRMLEVBQVksU0FBQXVMLEdBQ1osUUFEQXZMLEdBQ0N3TCxHVjJlVGpFLEVBQWdCbkosS1U1ZVI0QixHQUVUMkksRUFBQXRKLE9BQUFvSyxlQUZTekosRUFBWW1GLFdBQUEsY0FBQS9HLE1BQUFTLEtBQUFULEtBRWZvTixHQUNOcE4sS0FBS29OLEtBQU9BLEVWZ2dCYixNQTFCQTdELEdVemVVM0gsRUFBWXVMLEdWa2Z0QmxELEVVbGZVckksSVZtZlJ3QyxJQUFLLFVBQ0xqRCxNVTllSSxTQUFDaU0sR0FDTnBOLEtBQUtxTixLQUFLLFNBQVVELE1WaWZuQmhKLElBQUssUUFDTGpELE1VL2VFLFdBQ0huQixLQUFLb04sS0FBTyxRVmtmWGhKLElBQUssVUFDTGpELE1VaGZJLFdBQ0wsTUFBT25CLE1BQUtvTixTQWZIeEwsR0FBcUJzTCxFVnNnQmpDdk4sR0FBUWlDLGFBQWVBLENBRXZCLElVcmZZMEwsR0FBYyxXQUVkLFFBRkFBLEdBRUNGLEdWcWZUakUsRUFBZ0JuSixLVXZmUnNOLEdBR1R0TixLQUFLb04sS0FBT0EsRUFDWnBOLEtBQUt1TixTQUFXLEtBQ2hCdk4sS0FBS3dOLGFBQWUsS0FDcEJ4TixLQUFLeU4sWUFBYSxFQUNsQnpOLEtBQUswTixVQUFZLEtBQ2pCMU4sS0FBSzJOLFdBQWEsS0FDbEIzTixLQUFLNE4sUUFBVSxLQUNmNU4sS0FBSzZOLFdBQ0w3TixLQUFLOE4sWUFDTDlOLEtBQUsrTixtQkFBb0IsRUFDekIvTixLQUFLZ08sa0JBQW1CLEVBQ3hCaE8sS0FBS2lPLFFBQVMsRVZnNUJmLE1BdlpBaEUsR1V2Z0JVcUQsSVZ3Z0JSbEosSUFBSyxXQUNMakQsTVV4ZkssU0FBQ2dKLEdBQ1BuSyxLQUFLa08sU0FBVy9ELEVBQU0rRCxTQUN0QmxPLEtBQUttTyxpQkFBbUJoRSxFQUFNaUUsYUFDOUJwTyxLQUFLdU4sU0FBV3BELEVBQU1vRCxTQUN0QnZOLEtBQUtpTyxPQUFTOUQsRUFBTThELE9BQ3BCak8sS0FBSytOLGtCQUFvQjVELEVBQU00RCxxQlYyZjlCM0osSUFBSyxVQUNMakQsTVV6ZkksU0FBQ2lNLEdBQ05wTixLQUFLb04sS0FBT0EsRUFDUnBOLEtBQUt5TixhQUNILE9BQVN6TixLQUFLME4sV0FBVzFOLEtBQUtxTyxPQUFPck8sS0FBSzBOLFdBQzFDLE9BQVMxTixLQUFLMk4sWUFBWTNOLEtBQUtzTyxPQUFPdE8sS0FBSzJOLGFBRTdDM04sS0FBSzROLFNBQ1A1TixLQUFLK00sS0FBSy9NLEtBQUs0TixRQUFRNUksTUFBT2hGLEtBQUs0TixRQUFRaEIsY1Y2ZjVDeEksSUFBSyxjQUNMakQsTVUxZlEsV0FDVCxNQUFPbkIsTUFBSzROLFdWNmZYeEosSUFBSyxvQkFDTGpELE1VM2ZjLFNBQUNvTixHQUNoQnZPLEtBQUs4TixTQUFXUyxLVjhmZm5LLElBQUsscUJBQ0xqRCxNVTVmZSxXQUNoQixNQUFPbkIsTUFBSzhOLFlWK2ZYMUosSUFBSyx3QkFDTGpELE1VN2ZrQixXQUNuQixNQUFJbkIsTUFBS3lOLFdBQW1Cek4sS0FBS3dOLGFBQ3JCeE4sS0FBS29OLFFWK2ZoQmhKLElBQUssb0JBQ0xqRCxNVTdmYyxXVjhmWixHQUFJcU4sR0FBUXhPLElVN2ZmQSxNQUFLZ08sa0JBQW9CaE8sS0FBS2dPLGlCQUMzQmhPLEtBQUtnTyxrQkFDTmhPLEtBQUt5TixZQUFhLEVBQ2xCek4sS0FBS3dOLGFBQWV4TixLQUFLb04sS0FBS2lCLE9BQVEsU0FBQUksR0FDcEMsR0FBSUMsR0FBU0YsRUFBS1YsU0FBU2EsS0FBSyxTQUFBQyxHVmdnQjNCLE1VaGdCZ0NILEdBQUlELEVBQUtOLFlBQWNVLEdBQzVELE9BQXlCLG1CQUFYRixNQUdoQjFPLEtBQUt5TixZQUFhLEtWcWdCbkJySixJQUFLLE9BQ0xqRCxNVWxnQkMsU0FBQzZELEVBQU80SCxHQUNWNU0sS0FBSzROLFNBQ0g1SSxNQUFPQSxFQUNQNEgsVUFBV0EsRUFHYixJQUFJaUMsR0FBcUI3TyxLQUFLOE8sdUJBQzlCLEtBQUk5TyxLQUFLdU4sU0FBU1gsR0FBWSxNQUFPNU0sS1ZvZ0JsQyxJVWxnQks2TSxHQUFhN00sS0FBS3VOLFNBQVNYLEdBQTNCQyxRQUdSLE9BRkFnQyxHQUFxQm5DLEVBQU1tQyxFQUFvQmpDLEVBQVc1SCxFQUFPNkgsR0FFMUQ3TSxRVnNnQk5vRSxJQUFLLE9BQ0xqRCxNVXBnQkMsU0FBQzROLEVBQU1DLEdBR1QsTUFGQWhQLE1BQUs2TixRQUFRb0IsSUFBTUYsRUFBT0MsRUFBYyxFQUN4Q2hQLEtBQUs2TixRQUFRcUIsTUFBUWxQLEtBQUs2TixRQUFRb0IsS0FBT0QsRUFBYyxHQUNoRGhQLFFWdWdCTm9FLElBQUssT0FDTGpELE1VcmdCQyxTQUFDZ08sRUFBUUMsRUFBVUMsR0FDckIsR0FBSVIsR0FBcUI3TyxLQUFLOE8sd0JBQzFCUSxFQUFXOUssTUFpQmYsT0FoQkt4RSxNQUFLbU8sa0JBSVJVLEVBQW1CN08sS0FBSzZOLFFBQVFxQixNQUFRRSxHQUFVQyxHQUFhRixFQUMvREcsRUFBY1QsRUFBbUI3TyxLQUFLNk4sUUFBUXFCLE1BQVFFLEdBQVVwUCxLQUFLa08sWUFKckVXLEVBQW1CTyxHQUFVQyxHQUFhRixFQUMxQ0csRUFBY1QsRUFBbUJPLEdBQVVwUCxLQUFLa08sV0FLOUNsTyxLQUFLeU4sYUFDUHpOLEtBQUtvTixLQUFLbUMsUUFBUSxTQUFVZCxHQUN0QkEsRUFBSXpPLEtBQUtrTyxZQUFjb0IsSUFDekJiLEVBQUlZLEdBQWFGLElBRWxCblAsTUFDQyxPQUFTQSxLQUFLME4sV0FBVzFOLEtBQUtxTyxPQUFPck8sS0FBSzBOLFdBQzFDLE9BQVMxTixLQUFLMk4sWUFBWTNOLEtBQUtzTyxPQUFPdE8sS0FBSzJOLGFBRTFDM04sUVZ3Z0JOb0UsSUFBSyxNQUNMakQsTVV0Z0JBLFNBQUNxTyxHQUNGLElBQUtBLEVBQU94UCxLQUFLa08sV0FBa0QsS0FBckNzQixFQUFPeFAsS0FBS2tPLFVBQVV0RixXQUNsRCxLQUFNNUksTUFBS2tPLFNBQVcsd0JBRXhCLElBQUlXLEdBQXFCN08sS0FBSzhPLHVCQUM5QkQsR0FBbUJVLFFBQVEsU0FBVWQsR0FDbkMsR0FBSUEsRUFBSXpPLEtBQUtrTyxVQUFVdEYsYUFBZTRHLEVBQU94UCxLQUFLa08sVUFBVXRGLFdBQzFELEtBQU01SSxNQUFLa08sU0FBVyxJQUFNc0IsRUFBT3hQLEtBQUtrTyxVQUFZLG1CQUVyRGxPLE1BRUg2TyxFQUFtQjdLLEtBQUt3TCxHQUNwQnhQLEtBQUt5TixZQUNQek4sS0FBS29OLEtBQUtwSixLQUFLd0wsTVYwZ0JoQnBMLElBQUssU0FDTGpELE1VdmdCRyxTQUFDc08sR0FDTCxHQUFJWixHQUFxQjdPLEtBQUs4Tyx3QkFDMUJKLEVBQVNHLEVBQW1CUixPQUFPLFNBQVVJLEdBQy9DLE1BQTZDLElBQXRDZ0IsRUFBT0MsUUFBUWpCLEVBQUl6TyxLQUFLa08sWUFDOUJsTyxLQUVDQSxNQUFLeU4sWUFDUHpOLEtBQUtvTixLQUFPcE4sS0FBS29OLEtBQUtpQixPQUFPLFNBQVVJLEdBQ3JDLE1BQTZDLElBQXRDZ0IsRUFBT0MsUUFBUWpCLEVBQUl6TyxLQUFLa08sWUFDOUJsTyxNQUNIQSxLQUFLd04sYUFBZWtCLEdBRXBCMU8sS0FBS29OLEtBQU9zQixLVjJnQmJ0SyxJQUFLLFNBQ0xqRCxNVXhnQkcsU0FBQ3VNLEdWeWdCRixHQUFJaUMsR0FBUzNQLElVeGdCcUIsSUFBakNpQixPQUFPMk8sS0FBS2xDLEdBQVc3SixRQUN6QjdELEtBQUt3TixhQUFlLEtBQ3BCeE4sS0FBS3lOLFlBQWEsRUFDbEJ6TixLQUFLME4sVUFBWSxPQUVqQjFOLEtBQUswTixVQUFZQSxFQUNqQjFOLEtBQUt3TixhQUFleE4sS0FBS29OLEtBQUtpQixPQUFRLFNBQUFJLEdBQ3BDLEdBQUlvQixJQUFRLEVBQ1JDLEVBQVN0TCxNQUNiLEtBQUssR0FBSUosS0FBT3NKLEdBQVcsQ0FDekIsR0FBSXFDLEdBQVl0QixFQUFJckssRUFFcEIsUUFBUXNKLEVBQVV0SixHQUFLc0QsTUFDckIsSUFBSzlDLEdBQUEsV0FBTTNCLFlBQVlHLE9BRXJCME0sRUFBWXBDLEVBQVV0SixHQUFLakQsTUFBTTZPLE1BQ2pDLE1BRUYsS0FBS3BMLEdBQUEsV0FBTTNCLFlBQVlLLE9BRXJCd00sRUFBNkMsZ0JBQXpCcEMsR0FBVXRKLEdBQUtqRCxNQUMvQnFELE9BQ2lDLGdCQUF6QmtKLEdBQVV0SixHQUFLakQsTUFBc0J1TSxFQUFVdEosR0FBS2pELE1BQU0yTCxjQUFnQlksRUFBVXRKLEdBQUtqRCxLQUNyRyxNQUVGLFNBQ0UyTyxFQUE2QyxnQkFBekJwQyxHQUFVdEosR0FBS2pELE1BQXNCdU0sRUFBVXRKLEdBQUtqRCxNQUFNMkwsY0FBZ0JZLEVBQVV0SixHQUFLakQsTUFDM0ZxRCxTQUFkc0wsSUFFRkEsRUFBWXBDLEVBQVV0SixHQUFLMEksZUFNakMsR0FBSTZDLEVBQUtwQyxTQUFTbkosR0FBTSxDVjBnQm5CLEdBQUk2TCxHVXpnQjhDTixFQUFLcEMsU0FBU25KLEdBQTNEbUQsRUFBTTBJLEVBQU4xSSxPQUFRMkksRUFBZUQsRUFBZkMsZ0JBQWlCQyxFQUFlRixFQUFmRSxlQUM5QkQsSUFBbUIzSSxJQUNwQndJLEVBQVl4SSxFQUFPa0gsRUFBSXJLLEdBQU1xSyxFQUFLMEIsSUFJdEMsT0FBUXpDLEVBQVV0SixHQUFLc0QsTUFDckIsSUFBSzlDLEdBQUEsV0FBTTNCLFlBQVlHLE9BRXJCeU0sRUFBUUYsRUFBS1MsYUFBYUwsRUFBV0QsRUFBV3BDLEVBQVV0SixHQUFLakQsTUFBTWtQLFdBQ3JFLE1BRUYsS0FBS3pMLEdBQUEsV0FBTTNCLFlBQVlJLEtBRXJCd00sRUFBUUYsRUFBS1csV0FBV1AsRUFBV0QsRUFDbkMsTUFFRixLQUFLbEwsR0FBQSxXQUFNM0IsWUFBWUssT0FFckJ1TSxFQUFRRixFQUFLWSxhQUFhUixFQUFXRCxFQUFXcEMsRUFBVXRKLEdBQUtqRCxNQUMvRCxNQUVGLFNBQ0UwTyxFQUFRRixFQUFLYSxXQUFXVCxFQUFXRCxHQUl2QyxJQUFLRCxFQUNILE1BR0osTUFBT0EsS0FFVDdQLEtBQUt5TixZQUFhLE1Wa2hCbkJySixJQUFLLGVBQ0xqRCxNVS9nQlMsU0FBQzRPLEVBQVdELEVBQVdPLEdBQ2pDLEdBQUlSLElBQVEsQ0FDWixRQUFRUSxHQUNOLElBQUssSUFFQ04sR0FBYUQsSUFDZkQsR0FBUSxFQUVWLE1BRUYsS0FBSyxJQUVjQyxHQUFiQyxJQUNGRixHQUFRLEVBRVYsTUFFRixLQUFLLEtBRWFDLEVBQVpDLElBQ0ZGLEdBQVEsRUFFVixNQUVGLEtBQUssSUFFQ0UsR0FBYUQsSUFDZkQsR0FBUSxFQUVWLE1BRUYsS0FBSyxLQUVDRSxFQUFZRCxJQUNkRCxHQUFRLEVBRVYsTUFFRixLQUFLLEtBRUNFLEdBQWFELElBQ2ZELEdBQVEsRUFFVixNQUVGLFNBRUVZLFFBQVFDLE1BQU0sK0NBSWxCLE1BQU9iLE1Wa2hCTnpMLElBQUssYUFDTGpELE1VaGhCTyxTQUFDNE8sRUFBV0QsR0FDcEIsTUFBUUMsR0FBVVksV0FBYWIsRUFBVWEsV0FDckNaLEVBQVVhLFlBQWNkLEVBQVVjLFlBQ2xDYixFQUFVYyxlQUFpQmYsRUFBVWUsaUJWaWhCeEN6TSxJQUFLLGVBQ0xqRCxNVS9nQlMsU0FBQzRPLEVBQVdELEVBQVdnQixHQUNqQyxNQUFvQixPQUFoQkEsR0FBZ0QsZ0JBQWpCQSxHQUMxQkEsRUFBYUMsU0FBU2hCLEVBQVdlLEVBQWFFLG9CQUdoRFIsV0FBV1QsRUFBV0QsTVZraEI1QjFMLElBQUssYUFDTGpELE1VaGhCTyxTQUFDNE8sRUFBV0QsR0FDcEIsTUFBNkQsSUFBekRDLEVBQVVuSCxXQUFXa0UsY0FBYzRDLFFBQVFJLE1WdWhCOUMxTCxJQUFLLFNBQ0xqRCxNVWpoQkcsU0FBQ3dNLEdWa2hCRixHQUFJc0QsR0FBU2pSLElVamhCaEIsSUFBMEIsS0FBdEIyTixFQUFXdUQsT0FDYmxSLEtBQUt3TixhQUFlLEtBQ3BCeE4sS0FBS3lOLFlBQWEsRUFDbEJ6TixLQUFLMk4sV0FBYSxTQUNiLENBQ0wzTixLQUFLMk4sV0FBYUEsQ0FDbEIsSUFBSXdELEtBRUFuUixNQUFLK04sa0JBQ0xvRCxFQUFrQnhELEVBQVc5RSxNQUFNLEtBRW5Dc0ksRUFBZ0JuTixLQUFLMkosR0FHekIzTixLQUFLd04sYUFBZXhOLEtBQUtvTixLQUFLaUIsT0FBUSxTQUFBSSxHQUlsQyxJQUFJLEdBSEFtQixHQUFPM08sT0FBTzJPLEtBQUtuQixHQUNuQm9CLEdBQVEsRVZzaEJQdUIsRUFBUSxTVXBoQkx6TixHQUNOLEdBQUlTLEdBQU13TCxFQUFLak0sRUFDZixPQUFJc04sR0FBSzFELFNBQVNuSixJQUFRcUssRUFBSXJLLEtBQzVCK00sRUFBZ0I1QixRQUFTLFNBQUE4QixHQUN2QixHQUFJdkIsR0FBWXVCLEVBQUt2RSxjQUNqQmlELEVBQVl0QixFQUFJckssR1ZxaEJma04sRVVwaEJ3REwsRUFBSzFELFNBQVNuSixHQUFuRW1ELEVBQU0rSixFQUFOL0osT0FBUTJJLEVBQWVvQixFQUFmcEIsZ0JBQWlCQyxFQUFlbUIsRUFBZm5CLGdCQUFpQm9CLEVBQU1ELEVBQU5DLE1BQzdDQSxLQUNBckIsR0FBbUIzSSxJQUNwQndJLEVBQVl4SSxFQUFPd0ksRUFBV3RCLEVBQUswQixJQUV5QixLQUExREosRUFBVW5ILFdBQVdrRSxjQUFjNEMsUUFBUUksS0FDN0NELEdBQVEsTUFJVkEsR0FBTyxRQWRiLFFBRk1sTSxFQUFFLEVBQUdBLEVBQUVpTSxFQUFLL0wsT0FBUUYsSUFBSyxDVjhpQjlCLEdBQUk2TixHQUFPSixFVTlpQk56TixFVmdqQkwsSUFBYSxVQUFUNk4sRVVoaUJRLE1BR2YsTUFBTzNCLEtBRVg3UCxLQUFLeU4sWUFBYSxNVm1pQm5CckosSUFBSyw0QkFDTGpELE1VaGlCc0IsV0FDdkIsR0FBSXNRLEdBQVF6UixLQUFLOE8sdUJBQ2pCLE9BQU8yQyxNVm1pQk5yTixJQUFLLE1BQ0xqRCxNVWppQkEsV0FDRCxHQUFJc1EsR0FBUXpSLEtBQUs4Tyx1QkFFakIsSUFBb0IsR0FBaEIyQyxFQUFNNU4sT0FBYSxNQUFPNE4sRUFFOUIsSUFBSXpSLEtBQUtpTyxTQUFXak8sS0FBS21PLGlCQUN2QixNQUFPc0QsRUFHUCxLQUFLLEdBREQvQyxNQUNLL0ssRUFBSTNELEtBQUs2TixRQUFRcUIsTUFBT3ZMLEdBQUszRCxLQUFLNk4sUUFBUW9CLE1BQ2pEUCxFQUFPMUssS0FBS3lOLEVBQU05TixJQUNkQSxFQUFJLEdBQUs4TixFQUFNNU4sUUFGbUNGLEtBSXhELE1BQU8rSyxNVnFpQlJ0SyxJQUFLLGNBQ0xqRCxNVWxpQlEsV0FDVCxNQUFPbkIsTUFBS2tPLFlWcWlCWDlKLElBQUssYUFDTGpELE1VbmlCTyxXQUNSLE1BQU9uQixNQUFLOE8sd0JBQXdCakwsVVZzaUJuQ08sSUFBSyxnQkFDTGpELE1VcGlCVSxXQUNYLFNBQU9uQixLQUFLNk4sUUFBUXFCLFFBQVNsUCxLQUFLNk4sUUFBUW9CLFFWdWlCekM3SyxJQUFLLGVBQ0xqRCxNVXJpQlMsV0FDVixNQUFPbkIsTUFBS29OLEtBQUtyRixJQUFJLFNBQVUwRyxHQUM3QixNQUFPQSxHQUFJek8sS0FBS2tPLFdBQ2ZsTyxVQXJYTXNOLElWaTZCWjNOLEdBQVEyTixlQUFpQkEsR0FNcEIsU0FBUzFOLEVBQVFELEVBQVNTLEdXOThCaEMsWUFFQVIsR0FBQUQsUUFBQVMsRUFBQSxLWG85Qk0sU0FBU1IsRUFBUUQsRUFBU1MsR1l0OUJoQyxZQVFBLFNBQUFTLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQWtDN0UsUUFBQTRRLEdBQUF2USxHQUNBLHNCQUFBQSxHQUNBd1EsS0FBQUMsVUFBQXpRLEdBRUFBLEVBNUNBRixPQUFBQyxlQUFBdkIsRUFBQSxjQUNBd0IsT0FBQSxHQUdBLElBQUF3RixHQUFBMUYsT0FBQTJGLFFBQUEsU0FBQUMsR0FBbUQsT0FBQWxELEdBQUEsRUFBZ0JBLEVBQUFDLFVBQUFDLE9BQXNCRixJQUFBLENBQU8sR0FBQW1ELEdBQUFsRCxVQUFBRCxFQUEyQixRQUFBUyxLQUFBMEMsR0FBMEI3RixPQUFBOEYsVUFBQXhDLGVBQUE5RCxLQUFBcUcsRUFBQTFDLEtBQXlEeUMsRUFBQXpDLEdBQUEwQyxFQUFBMUMsSUFBaUMsTUFBQXlDLElBSS9PcEMsRUFBQXJFLEVBQUEsR0FFQXNFLEVBQUE3RCxFQUFBNEQsR0FFQW9OLEVBQUF6UixFQUFBLEdBRUEwUixFQUFBalIsRUFBQWdSLEdBRUFFLEVBQUEzUixFQUFBLElBRUE0UixFQUFBblIsRUFBQWtSLEdBRUFsTixFQUFBekUsRUFBQSxHQUVBMEUsRUFBQWpFLEVBQUFnRSxHQUVBb04sRUFBQTdSLEVBQUEsSUFFQThSLEVBQUFyUixFQUFBb1IsR0FFQUUsRUFBQS9SLEVBQUEsSUFFQWdTLEVBQUF2UixFQUFBc1IsR0FFQUUsRUFBQWpTLEVBQUEsSUFFQWtTLEVBQUF6UixFQUFBd1IsR0FFQUUsRUFBQW5TLEVBQUEsSUFFQW9TLEVBQUEzUixFQUFBMFIsR0FVQUUsRUFBQS9OLEVBQUEsV0FBQWdPLFVBQUFDLFdBQUFqTyxFQUFBLFdBQUFnTyxVQUFBRSxPQUFBbE8sRUFBQSxXQUFBZ08sVUFBQUcsT0FFQUMsRUFBQXBPLEVBQUEsV0FBQXFPLGFBRUFDLFlBQUEsU0FFQUMsV0FDQUMsYUFBQXhPLEVBQUEsV0FBQWdPLFVBQUFFLE9BQ0FPLFlBQUF6TyxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBQyxTQUFBM08sRUFBQSxXQUFBZ08sVUFBQVUsS0FDQUUsVUFBQTVPLEVBQUEsV0FBQWdPLFVBQUFVLEtBQ0FHLGlCQUFBN08sRUFBQSxXQUFBZ08sVUFBQVUsS0FDQWhPLFVBQUFWLEVBQUEsV0FBQWdPLFVBQUFFLE9BQ0FZLGFBQUFmLEVBQ0FnQixlQUFBaEIsRUFDQWlCLFVBQUFoUCxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBTyxVQUFBalAsRUFBQSxXQUFBZ08sVUFBQUUsT0FDQWpMLFNBQUFqRCxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBUSxrQkFBQWxQLEVBQUEsV0FBQWdPLFVBQUFVLEtBQ0FTLGFBQUFuUCxFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQUMsY0FBQXJQLEVBQUEsV0FBQWdPLFVBQUFzQixJQUNBQyxjQUFBdlAsRUFBQSxXQUFBZ08sVUFBQVUsS0FDQWMsV0FBQXhQLEVBQUEsV0FBQWdPLFVBQUFVLEtBQ0FlLFdBQUF6UCxFQUFBLFdBQUFnTyxVQUFBOUgsT0FDQXdKLFVBQUExUCxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBaUIsU0FBQTNQLEVBQUEsV0FBQWdPLFVBQUFFLE9BQ0EwQixTQUFBNVAsRUFBQSxXQUFBZ08sVUFBQUUsT0FDQTJCLFVBQUE3UCxFQUFBLFdBQUFnTyxVQUFBRSxPQUNBNEIsV0FBQTlQLEVBQUEsV0FBQWdPLFVBQUExQyxPQUNBeUUsbUJBQUEvUCxFQUFBLFdBQUFnTyxVQUFBOUgsT0FDQThKLFVBQUFoUSxFQUFBLFdBQUFnTyxVQUFBOUgsT0FDQTNCLE1BQUF2RSxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBdUIsS0FBQWpRLEVBQUEsV0FBQWdPLFVBQUFFLE9BQ0FnQyxpQkFBQWxRLEVBQUEsV0FBQWdPLFVBQUFvQixLQUNBZSxjQUFBcEMsRUFDQXFDLE9BQUFwUSxFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQWlCLGtCQUFBclEsRUFBQSxXQUFBZ08sVUFBQVUsS0FDQTRCLFNBQUF0USxFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQW1CLFFBQUF2USxFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQW9CLFFBQUF4USxFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQXFCLGNBQUF6USxFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQXNCLHFCQUFBMVEsRUFBQSxXQUFBZ08sVUFBQW9CLEtBQ0F1QixPQUFBM1EsRUFBQSxXQUFBZ08sVUFBQW9CLEtBQ0F3QixhQUFBNVEsRUFBQSxXQUFBZ08sVUFBQW9CLEtBQ0F5QixnQkFBQTdRLEVBQUEsV0FBQWdPLFVBQUFvQixLQUNBMEIsZUFBQTlRLEVBQUEsV0FBQWdPLFVBQUFvQixLQUNBbE0sUUFBQWxELEVBQUEsV0FBQWdPLFVBQUErQyxNQUNBQyxZQUFBakQsRUFDQWtELFNBQUFqUixFQUFBLFdBQUFnTyxVQUFBVSxLQUNBd0MsbUJBQUFsUixFQUFBLFdBQUFnTyxVQUFBVSxLQUNBeUMsV0FBQW5SLEVBQUEsV0FBQWdPLFVBQUFVLEtBQ0FsSyxZQUFBeEUsRUFBQSxXQUFBZ08sVUFBQVUsS0FDQTlOLE1BQUFaLEVBQUEsV0FBQWdPLFVBQUE5SCxPQUNBa0wsU0FBQXBSLEVBQUEsV0FBQWdPLFVBQUFFLE9BQ0F6UixNQUFBdUQsRUFBQSxXQUFBZ08sVUFBQXNCLElBQ0ErQixlQUFBclIsRUFBQSxXQUFBZ08sVUFBQW9CLEtBQ0FrQyxTQUFBdFIsRUFBQSxXQUFBZ08sVUFBQUUsT0FDQXFELGNBQUF2UixFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQW9DLGFBQUF4UixFQUFBLFdBQUFnTyxVQUFBOUgsUUFHQXVMLFNBQVdDLE1BQUFoRSxFQUFBLFlBRVhpRSxnQkFBQSxXQUNBLE9BQ0FuRCxhQUFBLGlCQUNBQyxhQUFBLEVBQ0FJLGtCQUFBLEVBQ0FHLFdBQUEsRUFDQUYsYUFBQSxZQUNBQyxlQUFBLGNBQ0FFLFVBQUEsSUFDQWhNLFVBQUEsRUFDQWlNLG1CQUFBLEVBQ0FHLGVBQUEsRUFDQUUsZUFBQSxFQUNBQyxZQUFBLEVBQ0FDLGNBQ0FDLFdBQUEsRUFDQUMsU0FBQSxRQUNBQyxTQUFBLE1BQ0FDLFVBQUEsTUFDQUMsV0FBQSxFQUNBdkwsT0FBQSxFQUNBNEwsY0FBQSxtQkFDQUUsbUJBQUEsRUFDQVEsZ0JBQUFqRCxFQUFBLFdBQ0FvRCxZQUFBLFlBQ0FDLFVBQUEsRUFDQUMsb0JBQUEsRUFDQUMsWUFBQSxFQUNBM00sYUFBQSxFQUNBNk0sZUFBQXZELEVBQUEsV0FDQXdELFNBQUEsVUFJQU0sZ0JBQUEsV0FDQSxPQUNBQyxXQUFBLEdBQ0FDLFdBQUEsRUFDQXBDLFdBQUEsRUFDQXFDLFFBQUEsRUFDQUMsaUJBQUEsRUFDQWYsU0FBQTNWLEtBQUFtSyxNQUFBd0wsVUFBQTNWLEtBQUEyVyxlQUFBM1csS0FBQW1LLE1BQUFoSixNQUFBbkIsS0FBQW1LLE1BQUFsQixTQUlBMk4sa0JBQUEsV0FDQTVXLEtBQUFtSyxNQUFBbUosV0FDQXRULEtBQUE2VyxTQUlBQyxvQkFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFBLEVBQUFQLFNBQUF6VyxLQUFBaVgsTUFBQVIsT0FBQSxDQUNBLEdBQUFTLEdBQUFGLEVBQUFQLE9BQUFNLEVBQUExQixPQUFBMEIsRUFBQTlCLE9BQ0FpQyxVQUlBQyxtQkFBQSxTQUFBQyxFQUFBQyxHQUVBLEdBQUFyWCxLQUFBK0wsS0FBQXVMLE1BQUF0WCxLQUFBK0wsS0FBQXdMLFNBQUF2WCxLQUFBaVgsTUFBQVIsU0FBQXpXLEtBQUF3WCxvQkFBQSxDQUNBLEdBQUFDLEdBQUEzRixFQUFBLFdBQUE0RixZQUFBMVgsS0FBQStMLEtBQUF3TCxTQUNBSSxFQUFBN0YsRUFBQSxXQUFBNEYsWUFBQTFYLEtBQUErTCxLQUFBdUwsS0FDQUssR0FBQUMsVUFBQUgsRUFBQUksVUFDQTdYLEtBQUF3WCxxQkFBQSxNQUNHeFgsTUFBQWlYLE1BQUFSLFNBQ0h6VyxLQUFBd1gscUJBQUEsRUFNQSxJQUhBSCxFQUFBZCxhQUFBdlcsS0FBQWlYLE1BQUFWLFlBQUF2VyxLQUFBbUssTUFBQWdMLGVBQ0FuVixLQUFBbUssTUFBQWdMLGNBQUFuVixLQUFBaVgsTUFBQVYsWUFFQXZXLEtBQUE4WCxnQ0FBQTlYLEtBQUErTCxLQUFBd0wsU0FBQXZYLEtBQUErTCxLQUFBdUwsS0FBQSxDQUNBdFgsS0FBQThYLGdDQUFBLENBQ0EsSUFBQUMsR0FBQWpHLEVBQUEsV0FBQTRGLFlBQUExWCxLQUFBK0wsS0FBQXdMLFNBQ0FTLEVBQUFsRyxFQUFBLFdBQUE0RixZQUFBMVgsS0FBQStMLEtBQUF1TCxNQUNBVyxFQUFBRixFQUFBRyx3QkFDQUMsRUFBQUgsRUFBQUUseUJBQ0FELEVBQUFHLE9BQUFELEVBQUFDLFFBQUFILEVBQUFoUyxJQUFBa1MsRUFBQWxTLE9BQ0ErUixFQUFBSixVQUFBRyxFQUFBRixVQUFBRSxFQUFBTSxhQUFBTCxFQUFBTSxjQUdBLEdBQUF0WSxLQUFBbUssTUFBQXlMLG9CQUFBNVYsS0FBQStMLEtBQUF3TSxjQUFBLENBQ0EsR0FBQUMsR0FBQXhZLEtBQUErTCxLQUFBd00sY0FBQUwsdUJBQ0F6VyxRQUFBZ1gsWUFBQUQsRUFBQUosT0FBQXBZLEtBQUFtSyxNQUFBcUssWUFDQS9TLE9BQUFpWCxTQUFBLEVBQUFqWCxPQUFBa1gsUUFBQUgsRUFBQUosT0FBQXBZLEtBQUFtSyxNQUFBcUssV0FBQS9TLE9BQUFnWCxhQUdBckIsRUFBQXpQLFdBQUEzSCxLQUFBbUssTUFBQXhDLFVBQ0EzSCxLQUFBNFksVUFBa0JwQyxXQUFBLEtBSWxCSyxNQUFBLFdBQ0E3VyxLQUFBK0wsS0FBQThNLE9BQ0E3WSxLQUFBK0wsS0FBQThNLE1BQUFoQyxTQUdBaUMsVUFBQSxXQUNBOVksS0FBQStMLEtBQUE4TSxPQUNBN1ksS0FBQStMLEtBQUE4TSxNQUFBRSxRQUdBQyxnQkFBQSxTQUFBQyxHQUVBalosS0FBQWtaLFVBQUEsR0FHQUMsaUJBQUEsU0FBQUYsR0FFQWpaLEtBQUFrWixVQUFBLEdBR0FFLGVBQUEsU0FBQUgsR0FHQWpaLEtBQUFrWixVQUdBbFosS0FBQXFaLGdCQUFBSixJQUdBSyx5QkFBQSxTQUFBTCxHQUdBalosS0FBQWtaLFVBR0FsWixLQUFBdVosV0FBQU4sSUFHQUksZ0JBQUEsU0FBQUosR0FHQSxNQUFBalosTUFBQW1LLE1BQUF4QyxVQUFBLGNBQUFzUixFQUFBdlIsTUFBQSxJQUFBdVIsRUFBQU8sT0FBQSxRQUtBUCxFQUFBUSxrQkFDQVIsRUFBQVMsaUJBR0ExWixLQUFBbUssTUFBQTBMLGdCQU9BN1YsS0FBQWlYLE1BQUFULFVBRUF4VyxLQUFBNFksVUFDQW5DLFFBQUEsRUFDQUMsaUJBQUEsS0FJQTFXLEtBQUEyWixpQkFBQSxFQUNBM1osS0FBQTZXLFdBZkE3VyxLQUFBNlcsUUFDQTdXLEtBQUE0WSxVQUNBbkMsUUFBQXpXLEtBQUFpWCxNQUFBUixZQWlCQW1ELHVCQUFBLFNBQUFYLEdBR0FqWixLQUFBbUssTUFBQXhDLFVBQUEsY0FBQXNSLEVBQUF2UixNQUFBLElBQUF1UixFQUFBTyxRQUlBeFosS0FBQWlYLE1BQUFSLFNBSUF3QyxFQUFBUSxrQkFDQVIsRUFBQVMsaUJBRUExWixLQUFBNlosY0FHQUMsc0JBQUEsU0FBQWIsR0FHQWpaLEtBQUFtSyxNQUFBeEMsVUFBQSxjQUFBc1IsRUFBQXZSLE1BQUEsSUFBQXVSLEVBQUFPLFNBR0FQLEVBQUFRLGtCQUNBUixFQUFBUyxpQkFFQTFaLEtBQUEyWixpQkFBQSxFQUNBM1osS0FBQTZXLFVBR0FnRCxVQUFBLFdBQ0E3WixLQUFBNFksVUFDQW5DLFFBQUEsRUFDQUMsZ0JBQUExVyxLQUFBaVgsTUFBQVQsWUFBQXhXLEtBQUFtSyxNQUFBbEIsTUFDQXNOLFdBQUEsS0FFQXZXLEtBQUF3WCxxQkFBQSxHQUdBdUMsaUJBQUEsU0FBQWQsR0FDQSxHQUFBeEMsR0FBQXpXLEtBQUFpWCxNQUFBUixRQUFBelcsS0FBQTJaLGVBQ0EzWixNQUFBbUssTUFBQStLLFNBQ0FsVixLQUFBbUssTUFBQStLLFFBQUErRCxHQUVBalosS0FBQTRZLFVBQ0FwQyxXQUFBLEVBQ0FDLFdBRUF6VyxLQUFBMlosaUJBQUEsR0FHQUssZ0JBQUEsU0FBQWYsR0FDQSxJQUFBalosS0FBQStMLEtBQUF1TCxPQUFBcFMsU0FBQStVLGNBQUFDLFlBQUFsYSxLQUFBK0wsS0FBQXVMLE1BQUEsQ0FJQXRYLEtBQUFtSyxNQUFBMkssUUFDQTlVLEtBQUFtSyxNQUFBMkssT0FBQW1FLEVBRUEsSUFBQWtCLElBQ0EzRCxXQUFBLEVBQ0FDLFFBQUEsRUFDQUMsaUJBQUEsRUFFQTFXLE1BQUFtSyxNQUFBNEssb0JBQ0FvRixFQUFBNUQsV0FBQSxJQUVBdlcsS0FBQTRZLFNBQUF1QixLQUdBQyxrQkFBQSxTQUFBbkIsR0FDQWpaLEtBQUE0WSxVQUNBbkMsUUFBQSxFQUNBQyxpQkFBQSxFQUNBSCxXQUFBMEMsRUFBQXBTLE9BQUExRixTQUlBa1osY0FBQSxTQUFBcEIsR0FDQSxJQUFBalosS0FBQW1LLE1BQUF4QyxTQUFBLENBQ0EsT0FBQXNSLEVBQUExUSxTQUNBLE9BTUEsYUFKQXZJLEtBQUFpWCxNQUFBVixZQUFBdlcsS0FBQW1LLE1BQUFvSixtQkFDQTBGLEVBQUFTLGlCQUNBMVosS0FBQXNhLFlBR0EsUUFFQSxHQUFBckIsRUFBQXNCLFdBQUF2YSxLQUFBaVgsTUFBQVIsT0FDQSxNQUdBLFlBREF6VyxNQUFBd2EscUJBRUEsU0FFQSxJQUFBeGEsS0FBQWlYLE1BQUFSLE9BQUEsTUFDQXdDLEdBQUFRLGtCQUNBelosS0FBQXdhLHFCQUNBLE1BQ0EsU0FFQXhhLEtBQUFpWCxNQUFBUixPQUNBelcsS0FBQTZaLFlBQ0s3WixLQUFBbUssTUFBQXVKLFdBQUExVCxLQUFBbUssTUFBQXlKLG1CQUNMNVQsS0FBQXVaLFdBQUFOLEVBRUEsTUFDQSxTQUVBalosS0FBQXlhLHFCQUNBLE1BQ0EsU0FFQXphLEtBQUEwYSxpQkFDQSxNQVVBLFNBQ0EsT0FFQXpCLEVBQUFTLG1CQUdBaUIsaUJBQUEsU0FBQUMsRUFBQTNCLEdBQ0FqWixLQUFBbUssTUFBQW1MLGNBQ0F0VixLQUFBbUssTUFBQW1MLGFBQUFzRixFQUFBM0IsSUFHQTRCLGlCQUFBLFNBQUE1QixHQUNBLEdBQUFqWixLQUFBbUssTUFBQWlMLHFCQUFBLENBQ0EsR0FBQXZPLEdBQUFvUyxFQUFBcFMsTUFFQUEsR0FBQWlVLGFBQUFqVSxFQUFBeVIsZ0JBQUF6UixFQUFBaVUsYUFBQWpVLEVBQUF5UixhQUFBelIsRUFBQStRLFlBQ0E1WCxLQUFBbUssTUFBQWlMLHlCQUlBdUIsZUFBQSxTQUFBeFYsRUFBQThILEdBQ0EsTUFBQTlILEdBQ0E4SCxFQUFBLElBQUE5SCxFQUFBMEMsT0FBQSxJQUFBNUMsT0FBQTJPLEtBQUF6TyxHQUFBMEMsUUFEQSxHQUlBa1gsZUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFoYixLQUFBbUssTUFBQWtLLFdBR0E0RyxjQUFBLFdBQ0EsR0FBQTlaLEdBQUFuQixLQUFBbUssTUFBQWhKLEtBQ0EsSUFBQW5CLEtBQUFtSyxNQUFBbEIsTUFBQSxDQUVBLEdBREEsZ0JBQUE5SCxTQUFBMEgsTUFBQTdJLEtBQUFtSyxNQUFBd0osYUFDQTFQLE1BQUFDLFFBQUEvQyxHQUFBLENBQ0EsVUFBQUEsR0FBQXFELFNBQUFyRCxFQUFBLFFBQ0FBLE9BRUEsTUFBQUEsR0FBQTRHLElBQUEvSCxLQUFBa2IsYUFBQTdNLE9BQUEsU0FBQTFLLEdBQ0EsTUFBQUEsS0FHQSxHQUFBd1gsR0FBQW5iLEtBQUFrYixZQUFBL1osRUFDQSxPQUFBZ2EsV0FHQUQsWUFBQSxTQUFBL1osR0FDQSxtQkFBQUEsSUFBQSxnQkFBQUEsR0FBQSxNQUFBQSxFQUNBLElBQUFpYSxHQUFBcGIsS0FBQW1LLE1BQ0F2QyxFQUFBd1QsRUFBQXhULFFBQ0FvTyxFQUFBb0YsRUFBQXBGLFFBRUEsSUFBQXBPLEVBQ0EsT0FBQWpFLEdBQUEsRUFBaUJBLEVBQUFpRSxFQUFBL0QsT0FBb0JGLElBQ3JDLEdBQUFpRSxFQUFBakUsR0FBQXFTLEtBQUE3VSxFQUFBLE1BQUF5RyxHQUFBakUsSUFJQTBYLFNBQUEsU0FBQWxhLEdBQ0EsR0FBQXFOLEdBQUF4TyxJQUtBLElBSEFBLEtBQUFtSyxNQUFBa0osVUFDQXJULEtBQUE4WSxZQUVBOVksS0FBQW1LLE1BQUE2SyxTQUFBLENBQ0EsR0FBQWhWLEtBQUFtSyxNQUFBd0wsU0FBQSxDQUNBLEdBQUFBLEdBQUEzVixLQUFBMlcsZUFBQXhWLEVBQUFuQixLQUFBbUssTUFBQWxCLE1BQ0FqSixNQUFBNFksVUFBa0JqRCxhQUVsQjNWLEtBQUFtSyxNQUFBakIsYUFBQS9ILElBQ0FBLEVBQUFuQixLQUFBbUssTUFBQWxCLE1BQUE5SCxFQUFBNEcsSUFBQSxTQUFBcEUsR0FDQSxNQUFBQSxHQUFBNkssRUFBQXJFLE1BQUE2TCxZQUNJMVIsS0FBQXRFLEtBQUFtSyxNQUFBd0osV0FBQXhTLEVBQUFuQixLQUFBbUssTUFBQTZMLFdBRUpoVyxLQUFBbUssTUFBQTZLLFNBQUE3VCxLQUdBbWEsWUFBQSxTQUFBbmEsR0FDQW5CLEtBQUF3WCxxQkFBQSxFQUNBeFgsS0FBQW1LLE1BQUFsQixPQUNBakosS0FBQXViLFNBQUFwYSxHQUNBbkIsS0FBQTRZLFVBQ0FyQyxXQUFBLE9BR0F2VyxLQUFBcWIsU0FBQWxhLEdBQ0FuQixLQUFBNFksVUFDQW5DLFFBQUEsRUFDQUYsV0FBQSxHQUNBRyxnQkFBQTFXLEtBQUFpWCxNQUFBVCxjQUtBK0UsU0FBQSxTQUFBcGEsR0FDQSxHQUFBcWEsR0FBQXhiLEtBQUFpYixlQUNBamIsTUFBQXFiLFNBQUFHLEVBQUFDLE9BQUF0YSxLQUdBbVosU0FBQSxXQUNBLEdBQUFrQixHQUFBeGIsS0FBQWliLGVBQ0FPLEdBQUEzWCxRQUNBMlgsSUFBQTNYLE9BQUEsR0FBQTZYLGtCQUFBLEdBQ0ExYixLQUFBcWIsU0FBQUcsRUFBQUcsTUFBQSxFQUFBSCxFQUFBM1gsT0FBQSxLQUdBK1gsWUFBQSxTQUFBemEsR0FDQSxHQUFBcWEsR0FBQXhiLEtBQUFpYixlQUNBamIsTUFBQXFiLFNBQUFHLEVBQUFuTixPQUFBLFNBQUExSyxHQUNBLE1BQUFBLEtBQUF4QyxLQUVBbkIsS0FBQTZXLFNBR0EwQyxXQUFBLFNBQUFOLEdBR0FBLEdBQUEsY0FBQUEsRUFBQXZSLE1BQUEsSUFBQXVSLEVBQUFPLFNBR0FQLEVBQUFRLGtCQUNBUixFQUFBUyxpQkFDQTFaLEtBQUFxYixTQUFBLE1BQ0FyYixLQUFBNFksVUFDQW5DLFFBQUEsRUFDQUYsV0FBQSxJQUNHdlcsS0FBQTZXLFNBR0hnRixZQUFBLFNBQUFqQixHQUNBNWEsS0FBQTRZLFVBQ0FrRCxjQUFBbEIsS0FJQUYsZ0JBQUEsV0FDQTFhLEtBQUErYixvQkFBQSxTQUdBdEIsb0JBQUEsV0FDQXphLEtBQUErYixvQkFBQSxhQUdBQSxvQkFBQSxTQUFBQyxHQUNBLEdBQUFwVSxHQUFBNUgsS0FBQWljLGdCQUFBNU4sT0FBQSxTQUFBMUssR0FDQSxPQUFBQSxFQUFBZ0UsVUFHQSxJQURBM0gsS0FBQThYLGdDQUFBLEdBQ0E5WCxLQUFBaVgsTUFBQVIsT0FNQSxXQUxBelcsTUFBQTRZLFVBQ0FuQyxRQUFBLEVBQ0FGLFdBQUEsR0FDQXVGLGNBQUE5YixLQUFBa2MsZ0JBQUF0VSxFQUFBLFNBQUFvVSxFQUFBLEVBQUFwVSxFQUFBL0QsT0FBQSxJQUlBLElBQUErRCxFQUFBL0QsT0FBQSxDQUVBLE9BREFzWSxHQUFBLEdBQ0F4WSxFQUFBLEVBQWlCQSxFQUFBaUUsRUFBQS9ELE9BQW9CRixJQUNyQyxHQUFBM0QsS0FBQWtjLGlCQUFBdFUsRUFBQWpFLEdBQUEsQ0FDQXdZLEVBQUF4WSxDQUNBLE9BR0EsR0FBQW1ZLEdBQUFsVSxFQUFBLEVBQ0EsVUFBQW9VLEdBQUFHLEVBQUEsSUFBQUEsRUFBQXZVLEVBQUEvRCxPQUFBLEVBQ0FpWSxFQUFBbFUsRUFBQXVVLEVBQUEsR0FDRyxhQUFBSCxJQUVIRixFQURBSyxFQUFBLEVBQ0F2VSxFQUFBdVUsRUFBQSxHQUVBdlUsSUFBQS9ELE9BQUEsSUFHQTdELEtBQUE0WSxVQUNBa0Qsb0JBSUF0QixvQkFBQSxXQUlBLE1BQUF4YSxNQUFBa2MsZUFDQWxjLEtBQUFzYixZQUFBdGIsS0FBQWtjLGdCQURBLFFBS0FFLGNBQUEsV0FDQSxNQUFBcGMsTUFBQW1LLE1BQUFpSyxVQUNBMVAsRUFBQSxXQUFBUyxjQUNBLFFBQ0lDLFVBQUEsc0JBQUFpWCxjQUFBLFFBQ0ozWCxFQUFBLFdBQUFTLGNBQUEsUUFBNkNDLFVBQUEsb0JBSjdDLFFBUUFrWCxZQUFBLFNBQUFkLEVBQUEvRSxHQUNBLEdBQUE5RyxHQUFBM1AsS0FFQXVjLEVBQUF2YyxLQUFBbUssTUFBQThMLGVBQUFqVyxLQUFBK2EsZUFDQXlCLEVBQUF4YyxLQUFBbUssTUFBQTRMLGNBQ0EsS0FBQXlGLEVBQUEzWCxPQUNBLE1BQUE3RCxNQUFBaVgsTUFBQVYsV0FJQSxLQUpBN1IsRUFBQSxXQUFBUyxjQUNBLE9BQ0tDLFVBQUEsc0JBQ0xwRixLQUFBbUssTUFBQXVMLFlBR0EsSUFBQWxOLEdBQUF4SSxLQUFBbUssTUFBQW1MLGFBQUF0VixLQUFBMmEsaUJBQUEsSUFDQSxPQUFBM2EsTUFBQW1LLE1BQUFsQixNQUNBdVMsRUFBQXpULElBQUEsU0FBQTVHLEVBQUF3QyxHQUNBLE1BQUFlLEdBQUEsV0FBQVMsY0FDQXFYLEdBRUE3VSxTQUFBZ0ksRUFBQXhGLE1BQUF4QyxVQUFBeEcsRUFBQXVhLGtCQUFBLEVBQ0F0WCxJQUFBLFNBQUFULEVBQUEsSUFBQXhDLEVBQUF3TyxFQUFBeEYsTUFBQTZMLFVBQ0F4TixVQUNBaVUsU0FBQTlNLEVBQUFpTSxZQUNBemEsU0FFQW9iLEVBQUFwYixNQUdHbkIsS0FBQWlYLE1BQUFWLFdBQUEsUUFDSEUsSUFBQWpPLEVBQUEsTUFDQTlELEVBQUEsV0FBQVMsY0FDQXFYLEdBRUE3VSxTQUFBM0gsS0FBQW1LLE1BQUF4QyxTQUNBYSxVQUNBckgsTUFBQXFhLEVBQUEsSUFFQWUsRUFBQWYsRUFBQSxPQUtBa0IsWUFBQSxTQUFBbEIsR0FDQSxHQUFBcFcsSUFBQSxFQUFBTixFQUFBLDJCQUFBOUUsS0FBQW1LLE1BQUFnSyxXQUFBL08sVUFDQSxPQUFBcEYsTUFBQW1LLE1BQUF4QyxXQUFBM0gsS0FBQW1LLE1BQUEwTCxXQUNBblIsRUFBQSxXQUFBUyxjQUFBLE1BQUF3QixLQUE2RDNHLEtBQUFtSyxNQUFBZ0ssWUFDN0QvTyxZQUNBMFEsU0FBQTlWLEtBQUFtSyxNQUFBMkwsVUFBQSxFQUNBaEIsT0FBQTlVLEtBQUFnYSxnQkFDQTlFLFFBQUFsVixLQUFBK1osaUJBQ0F4TixJQUFBLFFBQ0FqSCxPQUFZcVgsT0FBQSxFQUFBOVcsTUFBQSxFQUFBK1csUUFBQSxtQkFFWmxZLEVBQUEsV0FBQVMsY0FBQTZNLEVBQUEsV0FBQXJMLEtBQXNGM0csS0FBQW1LLE1BQUFnSyxZQUN0Ri9PLFlBQ0EwUSxTQUFBOVYsS0FBQW1LLE1BQUEyTCxTQUNBaEIsT0FBQTlVLEtBQUFnYSxnQkFDQWhGLFNBQUFoVixLQUFBb2Esa0JBQ0FsRixRQUFBbFYsS0FBQStaLGlCQUNBOEMsU0FBQSxJQUNBdFEsSUFBQSxRQUNBb0osU0FBQTNWLEtBQUFpWCxNQUFBdEIsU0FDQXhVLE1BQUFuQixLQUFBaVgsTUFBQVYsZUFJQXVHLFlBQUEsV0FDQSxPQUFBOWMsS0FBQW1LLE1BQUF1SixZQUFBMVQsS0FBQW1LLE1BQUFoSixPQUFBbkIsS0FBQW1LLE1BQUFsQixRQUFBakosS0FBQW1LLE1BQUFoSixNQUFBMEMsUUFBQTdELEtBQUFtSyxNQUFBeEMsVUFBQTNILEtBQUFtSyxNQUFBaUssVUFBQSxPQUNBMVAsRUFBQSxXQUFBUyxjQUNBLFFBQ0lDLFVBQUEsb0JBQUEwRyxNQUFBOUwsS0FBQW1LLE1BQUFsQixNQUFBakosS0FBQW1LLE1BQUFxSixhQUFBeFQsS0FBQW1LLE1BQUFzSixlQUNKc0osYUFBQS9jLEtBQUFtSyxNQUFBbEIsTUFBQWpKLEtBQUFtSyxNQUFBcUosYUFBQXhULEtBQUFtSyxNQUFBc0osZUFDQXVKLFlBQUFoZCxLQUFBdVosV0FDQTBELGFBQUFqZCxLQUFBbVosaUJBQ0ErRCxZQUFBbGQsS0FBQWdaLGdCQUNBbUUsV0FBQW5kLEtBQUFzWiwwQkFDQTVVLEVBQUEsV0FBQVMsY0FBQSxRQUE2Q0MsVUFBQSxlQUFBZ1kseUJBQXNEQyxPQUFBLGVBSW5HQyxZQUFBLFdBQ0EsTUFBQTVZLEdBQUEsV0FBQVMsY0FDQSxRQUNJQyxVQUFBLG9CQUFBNFgsWUFBQWhkLEtBQUE0Wix3QkFDSmxWLEVBQUEsV0FBQVMsY0FBQSxRQUE2Q0MsVUFBQSxlQUFBNFgsWUFBQWhkLEtBQUE0WiwyQkFJN0M3RixjQUFBLFNBQUF3SixHQUNBLEdBQUF0TSxHQUFBalIsS0FFQXdkLEVBQUF4ZCxLQUFBaVgsTUFBQVYsV0FDQTNPLEVBQUE1SCxLQUFBbUssTUFBQXZDLFdBQ0EseUJBQUE1SCxNQUFBbUssTUFBQTRKLGNBQ0EvVCxLQUFBbUssTUFBQTRKLGNBQUF0VCxLQUFBVCxLQUFBNEgsRUFBQTRWLEVBQUFELEdBQ0d2ZCxLQUFBbUssTUFBQTRKLGVBQ0gvVCxLQUFBbUssTUFBQThKLGdCQUNBdUosR0FBQSxFQUFBdEwsRUFBQSxZQUFBc0wsSUFFQXhkLEtBQUFtSyxNQUFBK0osYUFDQXNKLElBQUExUSxlQUVBeVEsUUFBQXhWLElBQUEsU0FBQXBFLEdBQ0EsTUFBQUEsR0FBQXNOLEVBQUE5RyxNQUFBNkwsYUFFQXBPLEVBQUF5RyxPQUFBLFNBQUF1TSxHQUNBLEdBQUEyQyxLQUFBN04sUUFBQWtMLEVBQUEzSixFQUFBOUcsTUFBQTZMLFdBQUEsV0FDQSxJQUFBL0UsRUFBQTlHLE1BQUEwSixhQUFBLE1BQUE1QyxHQUFBOUcsTUFBQTBKLGFBQUFwVCxLQUFBd1EsRUFBQTJKLEVBQUE0QyxFQUNBLEtBQUFBLEVBQUEsUUFDQSxJQUFBQyxHQUFBQyxPQUFBOUMsRUFBQTNKLEVBQUE5RyxNQUFBNkwsV0FDQTJILEVBQUFELE9BQUE5QyxFQUFBM0osRUFBQTlHLE1BQUFrSyxVQVNBLE9BUkFwRCxHQUFBOUcsTUFBQThKLGdCQUNBLFVBQUFoRCxFQUFBOUcsTUFBQW9LLFlBQUFrSixHQUFBLEVBQUF2TCxFQUFBLFlBQUF1TCxJQUNBLFVBQUF4TSxFQUFBOUcsTUFBQW9LLFlBQUFvSixHQUFBLEVBQUF6TCxFQUFBLFlBQUF5TCxLQUVBMU0sRUFBQTlHLE1BQUErSixhQUNBLFVBQUFqRCxFQUFBOUcsTUFBQW9LLFlBQUFrSixJQUFBM1EsZUFDQSxVQUFBbUUsRUFBQTlHLE1BQUFvSyxZQUFBb0osSUFBQTdRLGdCQUVBLFVBQUFtRSxFQUFBOUcsTUFBQW1LLFNBQUEsVUFBQXJELEVBQUE5RyxNQUFBb0ssV0FBQWtKLEVBQUFHLE9BQUEsRUFBQUosRUFBQTNaLFVBQUEyWixHQUFBLFVBQUF2TSxFQUFBOUcsTUFBQW9LLFdBQUFvSixFQUFBQyxPQUFBLEVBQUFKLEVBQUEzWixVQUFBMlosRUFBQSxVQUFBdk0sRUFBQTlHLE1BQUFvSyxXQUFBa0osRUFBQS9OLFFBQUE4TixJQUFBLGFBQUF2TSxFQUFBOUcsTUFBQW9LLFdBQUFvSixFQUFBak8sUUFBQThOLElBQUEsS0FHQTVWLEdBSUFpVyxXQUFBLFNBQUFqVyxFQUFBNFQsRUFBQU0sR0FDQSxHQUFBZ0MsR0FBQTlkLElBRUEsS0FBQTRILE1BQUEvRCxPQXFDRyxNQUFBN0QsTUFBQW1LLE1BQUEwSyxjQUNIblEsRUFBQSxXQUFBUyxjQUNBLE9BQ0tDLFVBQUEsb0JBQ0xwRixLQUFBbUssTUFBQTBLLGVBR0EsSUEzQ0EsSUFBQXJELEdBQUEsV0FDQSxHQUFBdU0sR0FBQUQsRUFBQTNULE1BQUFvTCxnQkFDQWdILEVBQUF1QixFQUFBM1QsTUFBQXFMLGdCQUFBc0ksRUFBQS9DLGNBRUEsUUFDQWlELEVBQUFwVyxFQUFBRyxJQUFBLFNBQUE2UyxFQUFBalgsR0FDQSxHQUFBc2EsR0FBQXpDLEtBQUE5TCxRQUFBa0wsR0FBQSxHQUNBcEUsRUFBQW9FLElBQUFrQixFQUNBb0MsRUFBQTFILEVBQUEsZUFDQTJILEdBQUEsRUFBQXJaLEVBQUEsYUFDQXNaLGlCQUFBLEVBQ0FDLGNBQUFKLEVBQ0FLLGFBQUE5SCxFQUNBK0gsY0FBQTNELEVBQUFqVCxVQUdBLE9BQUFqRCxHQUFBLFdBQUFTLGNBQ0E0WSxHQUVBM1ksVUFBQStZLEVBQ0FLLFdBQUE1RCxFQUFBalQsU0FDQTZPLFlBQ0FwUyxJQUFBLFVBQUFULEVBQUEsSUFBQWlYLEVBQUFrRCxFQUFBM1QsTUFBQTZMLFVBQ0F5SSxTQUFBWCxFQUFBeEMsWUFDQXBHLFFBQUE0SSxFQUFBakMsWUFDQWpCLFNBQ0FxRCxhQUNBMVIsSUFBQTJSLEdBRUEzQixFQUFBM0IsU0FNQSx1QkFBQXBKLEtBQUF3TSxFQUFBLFFBWUFVLGtCQUFBLFNBQUFsRCxHQUNBLEdBQUFtRCxHQUFBM2UsSUFFQSxJQUFBQSxLQUFBbUssTUFBQXdLLEtBQUEsQ0FDQSxHQUFBeFQsR0FBQXFhLEVBQUF6VCxJQUFBLFNBQUFwRSxHQUNBLE1BQUErTixHQUFBL04sRUFBQWdiLEVBQUF4VSxNQUFBNkwsYUFDRzFSLEtBQUF0RSxLQUFBbUssTUFBQXdKLFVBQ0gsT0FBQWpQLEdBQUEsV0FBQVMsY0FBQSxTQUFvRHVDLEtBQUEsU0FBQTZFLElBQUEsUUFBQW9JLEtBQUEzVSxLQUFBbUssTUFBQXdLLEtBQUF4VCxRQUFBd0csU0FBQTNILEtBQUFtSyxNQUFBeEMsYUFHcERpWCxtQkFBQSxTQUFBQyxHQUNBLEdBQUFqWCxHQUFBNUgsS0FBQWljLGVBQ0EsSUFBQXJVLEVBQUEvRCxPQUFBLENBQ0EsR0FBQWlZLEdBQUE5YixLQUFBaVgsTUFBQTZFLGVBQUErQyxDQUNBLElBQUEvQyxHQUFBbFUsRUFBQThILFFBQUFvTSxHQUFBLFNBQUFBLEVBQ0EsUUFBQW5ZLEdBQUEsRUFBaUJBLEVBQUFpRSxFQUFBL0QsT0FBb0JGLElBQ3JDLElBQUFpRSxFQUFBakUsR0FBQWdFLFNBQUEsTUFBQUMsR0FBQWpFLEtBSUFtYixPQUFBLFdBQ0EsR0FBQXRELEdBQUF4YixLQUFBaWIsZ0JBQ0FyVCxFQUFBNUgsS0FBQWljLGdCQUFBamMsS0FBQStULGNBQUEvVCxLQUFBbUssTUFBQWxCLE1BQUF1UyxFQUFBLE1BQ0EvRSxFQUFBelcsS0FBQWlYLE1BQUFSLE1BQ0F6VyxNQUFBbUssTUFBQWxCLFFBQUFyQixFQUFBL0QsUUFBQTJYLEVBQUEzWCxTQUFBN0QsS0FBQWlYLE1BQUFWLGFBQUFFLEdBQUEsRUFDQSxJQUFBcUYsR0FBQTliLEtBQUFrYyxlQUFBbGMsS0FBQTRlLG1CQUFBcEQsRUFBQSxJQUNBcFcsR0FBQSxFQUFBTixFQUFBLHFCQUFBOUUsS0FBQW1LLE1BQUEvRSxXQUNBMlosZ0JBQUEvZSxLQUFBbUssTUFBQWxCLE1BQ0FzVixjQUFBdmUsS0FBQW1LLE1BQUF4QyxTQUNBMlcsYUFBQXRlLEtBQUFpWCxNQUFBVCxVQUNBd0ksYUFBQWhmLEtBQUFtSyxNQUFBaUssVUFDQTZLLFVBQUF4SSxFQUNBeUksb0JBQUFsZixLQUFBaVgsTUFBQVAsZ0JBQ0F5SSxnQkFBQW5mLEtBQUFtSyxNQUFBMEwsV0FDQXVKLFlBQUE1RCxFQUFBM1gsUUFFQSxPQUFBYSxHQUFBLFdBQUFTLGNBQ0EsT0FDSW9ILElBQUEsVUFBQW5ILFlBQUFFLE1BQUF0RixLQUFBbUssTUFBQStMLGNBQ0psVyxLQUFBMGUsa0JBQUFsRCxHQUNBOVcsRUFBQSxXQUFBUyxjQUNBLE9BQ0tvSCxJQUFBLFVBQ0xuSCxVQUFBLGlCQUNBRSxNQUFBdEYsS0FBQW1LLE1BQUE3RSxNQUNBOEMsVUFBQXBJLEtBQUFxYSxjQUNBMkMsWUFBQWhkLEtBQUFxWixnQkFDQThELFdBQUFuZCxLQUFBb1osZUFDQTZELGFBQUFqZCxLQUFBbVosaUJBQ0ErRCxZQUFBbGQsS0FBQWdaLGlCQUNBaFosS0FBQXNjLFlBQUFkLEVBQUEvRSxHQUNBelcsS0FBQTBjLFlBQUFsQixHQUNBeGIsS0FBQW9jLGdCQUNBcGMsS0FBQThjLGNBQ0E5YyxLQUFBc2QsZUFFQTdHLEVBQUEvUixFQUFBLFdBQUFTLGNBQ0EsT0FDS29ILElBQUEsZ0JBQUFuSCxVQUFBLG9CQUFBRSxNQUFBdEYsS0FBQW1LLE1BQUFzSyxvQkFDTC9QLEVBQUEsV0FBQVMsY0FDQSxPQUNNb0gsSUFBQSxPQUFBbkgsVUFBQSxjQUNORSxNQUFBdEYsS0FBQW1LLE1BQUF1SyxVQUNBMkssU0FBQXJmLEtBQUE2YSxpQkFDQW1DLFlBQUFoZCxLQUFBOFosdUJBQ0E5WixLQUFBNmQsV0FBQWpXLEVBQUE1SCxLQUFBbUssTUFBQWxCLE1BQUEsS0FBQXVTLEVBQUFNLEtBRUEsUUFNQW5jLEdBQUEsV0FBQW1ULEVBQ0FsVCxFQUFBRCxVQUFBLFlaNDlCTSxTQUFTQyxFQUFRRCxHYTV5RHZCLFlBRUEsSUFBQW9JLEtBQVl1WCxLQUFBLElBQUFDLFFBQUEsb05BQStPRCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsS0FBQUMsUUFBQSwwQkFBc0RELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLEtBQUFDLFFBQUEsb0JBQWdERCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsSUFBQUMsUUFBQSw4REFBeUZELEtBQUEsSUFBQUMsUUFBQSxnRkFBMkdELEtBQUEsSUFBQUMsUUFBQSw0RkFBdUhELEtBQUEsS0FBQUMsUUFBQSxvQkFBZ0RELEtBQUEsS0FBQUMsUUFBQSxvQkFBZ0RELEtBQUEsSUFBQUMsUUFBQSw0TEFBdU5ELEtBQUEsSUFBQUMsUUFBQSw0Q0FBdUVELEtBQUEsSUFBQUMsUUFBQSxrR0FBNkhELEtBQUEsSUFBQUMsUUFBQSw0RkFBdUhELEtBQUEsSUFBQUMsUUFBQSxnSUFBMkpELEtBQUEsSUFBQUMsUUFBQSxzQ0FBaUVELEtBQUEsSUFBQUMsUUFBQSw0RkFBdUhELEtBQUEsSUFBQUMsUUFBQSxvSEFBK0lELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLElBQUFDLFFBQUEsd0RBQW1GRCxLQUFBLElBQUFDLFFBQUEsd0dBQW1JRCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxJQUFBQyxRQUFBLDBRQUFxU0QsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxJQUFBQyxRQUFBLG9FQUErRkQsS0FBQSxJQUFBQyxRQUFBLDRDQUF1RUQsS0FBQSxJQUFBQyxRQUFBLDhHQUF5SUQsS0FBQSxJQUFBQyxRQUFBLDhHQUF5SUQsS0FBQSxJQUFBQyxRQUFBLGtHQUE2SEQsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLElBQUFDLFFBQUE7R0FBK09ELEtBQUEsSUFBQUMsUUFBQSx3REFBbUZELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxJQUFBQyxRQUFBLG9FQUErRkQsS0FBQSxJQUFBQyxRQUFBLHNDQUFpRUQsS0FBQSxJQUFBQyxRQUFBLGtHQUE2SEQsS0FBQSxJQUFBQyxRQUFBLDRGQUF1SEQsS0FBQSxJQUFBQyxRQUFBLDBOQUFxUEQsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLEtBQUFDLFFBQUEsMEJBQXNERCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxLQUFBQyxRQUFBLG9CQUFnREQsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLElBQUFDLFFBQUEsOERBQXlGRCxLQUFBLElBQUFDLFFBQUEsc0ZBQWlIRCxLQUFBLElBQUFDLFFBQUEsNEZBQXVIRCxLQUFBLEtBQUFDLFFBQUEsb0JBQWdERCxLQUFBLElBQUFDLFFBQUEsa01BQTZORCxLQUFBLElBQUFDLFFBQUEsNENBQXVFRCxLQUFBLElBQUFDLFFBQUEsa0dBQTZIRCxLQUFBLElBQUFDLFFBQUEsa0dBQTZIRCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsSUFBQUMsUUFBQSxnSUFBMkpELEtBQUEsSUFBQUMsUUFBQSw0Q0FBdUVELEtBQUEsSUFBQUMsUUFBQSw0RkFBdUhELEtBQUEsSUFBQUMsUUFBQSwwSEFBcUpELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxJQUFBQyxRQUFBLHdEQUFtRkQsS0FBQSxJQUFBQyxRQUFBLDhHQUF5SUQsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLElBQUFDLFFBQUEsMFFBQXFTRCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxLQUFBQyxRQUFBLGNBQTBDRCxLQUFBLElBQUFDLFFBQUEsb0VBQStGRCxLQUFBLElBQUFDLFFBQUEsNENBQXVFRCxLQUFBLElBQUFDLFFBQUEsOEdBQXlJRCxLQUFBLElBQUFDLFFBQUEsb0hBQStJRCxLQUFBLElBQUFDLFFBQUEsd0dBQW1JRCxLQUFBLEtBQUFDLFFBQUEsY0FBMENELEtBQUEsSUFBQUMsUUFBQSxvTkFBK09ELEtBQUEsSUFBQUMsUUFBQSx3REFBbUZELEtBQUEsS0FBQUMsUUFBQSxjQUEwQ0QsS0FBQSxJQUFBQyxRQUFBLDBFQUFxR0QsS0FBQSxJQUFBQyxRQUFBLHNDQUFpRUQsS0FBQSxJQUFBQyxRQUFBLHdHQUFtSUQsS0FBQSxJQUFBQyxRQUFBLDJGQUVyNVAzZixHQUFBRCxRQUFBLFNBQUE2ZixHQUNBLE9BQUE3YixHQUFBLEVBQWdCQSxFQUFBb0UsRUFBQWxFLE9BQWdCRixJQUNoQzZiLElBQUE5VyxRQUFBWCxFQUFBcEUsR0FBQTRiLFFBQUF4WCxFQUFBcEUsR0FBQTJiLEtBRUEsT0FBQUUsS2JtekRNLFNBQVM1ZixFQUFRRCxFQUFTUyxHYzN6RGhDLFlBMkJBLFNBQUFTLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBMmUsTUEzQkF4ZSxPQUFBQyxlQUFBdkIsRUFBQSxjQUNBd0IsT0FBQSxJQUVBeEIsRUFBQStmLE9BQUEvZixFQUFBK0wsVUFBQWxILE1BRUEsSUFBQUMsR0FBQXJFLEVBQUEsR0FFQXNFLEVBQUE3RCxFQUFBNEQsR0FFQWtiLEVBQUF2ZixFQUFBLElBRUF3ZixFQUFBL2UsRUFBQThlLEdBRUE5YSxFQUFBekUsRUFBQSxHQUVBMEUsRUFBQWpFLEVBQUFnRSxHQUVBZ2IsRUFBQXpmLEVBQUEsSUFFQTBmLEVBQUFqZixFQUFBZ2YsR0FFQUUsRUFBQTNmLEVBQUEsSUFFQTRmLEVBQUFuZixFQUFBa2YsR0FNQUUsR0FDQWpOLFlBQUEsZUFFQXFELGdCQUFBLFdBQ0EsR0FBQTZKLElBQ0F4UCxNQUFBLGNBQ0F5UCxLQUFBLGFBQ0FDLFFBQUEsZ0JBQ0FDLFFBQUEsZ0JBR0EsUUFDQWpiLFVBQUEsUUFDQThhLGlCQUNBSSxlQUFBLGNBQ0FDLGlCQUFBLGdCQUNBQyxjQUFBLEVBQ0FDLGFBQUEsSUFHQUMsY0FBQSxTQUFBekgsR0FDQWpaLEtBQUFtSyxNQUFBdVcsY0FBQXpILEdBQ0FqWixLQUFBbUssTUFBQXFXLGNBQ0F4Z0IsS0FBQTJnQixXQUFBLElBR0FDLDJCQUFBLFNBQUEzSCxHQUNBQSxFQUFBUSxrQkFDQXpaLEtBQUEyZ0IsV0FBQSxJQUVBRSxlQUFBLFdBQ0E3Z0IsS0FBQW1LLE1BQUEyVyxhQUFBOWdCLEtBQUFtSyxNQUFBNFcsVUFFQUMscUJBQUEsV0FDQSxNQUFBaGhCLE1BQUFtSyxNQUFBc1csWUFBQS9iLGFBQUFTLGNBQUEsVUFDQUMsVUFBQSxxQkFBQTZiLEtBQUEsU0FDQXpZLFFBQUF4SSxLQUFBNGdCLDJCQUNBeEQseUJBQWdDQyxPQUFBLGNBQzNCLEdBRUw2RCxzQkFBQSxXQUNBLE1BQUFsaEIsTUFBQW1LLE1BQUEyQixNQUFBcEgsYUFBQVMsY0FDQSxPQUNPQyxVQUFBcEYsS0FBQW1LLE1BQUFtVyxnQkFDUHRnQixLQUFBbUssTUFBQTJCLFFBQ0EsR0FFQXFWLHdCQUFBLFdBQ0EsTUFBQW5oQixNQUFBbUssTUFBQWlYLFFBQUExYyxhQUFBUyxjQUNBLE9BQ09DLFVBQUFwRixLQUFBbUssTUFBQW9XLGtCQUNQdmdCLEtBQUFtSyxNQUFBaVgsVUFDQSxHQUVBdEMsT0FBQSxXQUNBLEdBQUF1QyxHQUFBcmhCLEtBQUFtSyxNQUFBa1gsZUFBQXJoQixLQUFBbUssTUFBQStWLGVBQUFsZ0IsS0FBQW1LLE1BQUF6QyxLQUVBLE9BQUFoRCxjQUFBUyxjQUNBLE9BRUFDLFdBQUEsRUFBQU4sY0FBQTlFLEtBQUFtSyxNQUFBL0UsVUFBQWljLEdBQ0EvYixNQUFBdEYsS0FBQW1LLE1BQUE3RSxNQUNBa0QsUUFBQXhJLEtBQUEwZ0IsY0FDQVksYUFBQXRoQixLQUFBdWhCLGlCQUNBQyxhQUFBeGhCLEtBQUF5aEIsa0JBRUF6aEIsS0FBQWdoQix1QkFDQWhoQixLQUFBa2hCLHdCQUNBbGhCLEtBQUFtaEIsNkJBS0F6VixFQUFBL0wsRUFBQStMLFVBQUFoSCxhQUFBcU8sYUFBQSxFQUFBNk0sY0FBQUssR0FDQWpOLGFBQWdCME8sS0FBQSwwQkFDaEJDLFFBQVdELE1BQUE1QixrQkFHWEosRUFBQS9mLEVBQUErZixPQUFBaGIsYUFBQXFPLGFBQUEsRUFBQTZNLGNBQUFLLEdBQ0FqTixhQUFnQjBPLEtBQUEsdUJBQ2hCQyxRQUFXRCxNQUFBMUIsaUJBTVhDLEdBQUFzQixpQkFBQTlCLEVBQ0FRLEVBQUF3QixpQkFBQWhDLEVBQ0FRLEVBQUFVLFVBQUFsQixDQUVBLElBQUFoVSxHQUFBL0csYUFBQXFPLFlBQUFrTixFQUVBeFUsR0FBQUMsWUFDQUQsRUFBQWlVLFNBRUEvZixhQUFBOEwsR2RpMERNLFNBQVM3TCxFQUFRRCxFQUFTUyxHZS83RGhDUixFQUFBRCxRQUFBUyxFQUFBLEtmcThETSxTQUFTUixFQUFRRCxHZ0JoN0R2QixRQUFBdU4sS0FDQWxOLEtBQUE0aEIsUUFBQTVoQixLQUFBNGhCLFlBQ0E1aEIsS0FBQTZoQixjQUFBN2hCLEtBQUE2aEIsZUFBQXJkLE9Bb1FBLFFBQUFzZCxHQUFBaGUsR0FDQSx3QkFBQUEsR0FHQSxRQUFBaWUsR0FBQWplLEdBQ0Esc0JBQUFBLEdBR0EsUUFBQWtlLEdBQUFsZSxHQUNBLHNCQUFBQSxJQUFBLE9BQUFBLEVBR0EsUUFBQW1lLEdBQUFuZSxHQUNBLGdCQUFBQSxFQS9RQWxFLEVBQUFELFFBQUF1TixFQUdBQSxpQkFFQUEsRUFBQW5HLFVBQUE2YSxRQUFBcGQsT0FDQTBJLEVBQUFuRyxVQUFBOGEsY0FBQXJkLE9BSUEwSSxFQUFBZ1Ysb0JBQUEsR0FJQWhWLEVBQUFuRyxVQUFBb2IsZ0JBQUEsU0FBQUMsR0FDQSxJQUFBTCxFQUFBSyxJQUFBLEVBQUFBLEdBQUFDLE1BQUFELEdBQ0EsS0FBQTlZLFdBQUEsOEJBRUEsT0FEQXRKLE1BQUE2aEIsY0FBQU8sRUFDQXBpQixNQUdBa04sRUFBQW5HLFVBQUFzRyxLQUFBLFNBQUEzRixHQUNBLEdBQUE0YSxHQUFBcEwsRUFBQXFMLEVBQUFDLEVBQUE3ZSxFQUFBOGUsQ0FNQSxJQUpBemlCLEtBQUE0aEIsVUFDQTVoQixLQUFBNGhCLFlBR0EsVUFBQWxhLEtBQ0ExSCxLQUFBNGhCLFFBQUFsUixPQUNBc1IsRUFBQWhpQixLQUFBNGhCLFFBQUFsUixTQUFBMVEsS0FBQTRoQixRQUFBbFIsTUFBQTdNLFFBQUEsQ0FFQSxHQURBeWUsRUFBQTFlLFVBQUEsR0FDQTBlLFlBQUFJLE9BQ0EsS0FBQUosRUFFQSxNQUFBaFosV0FBQSx3Q0FNQSxHQUZBNE4sRUFBQWxYLEtBQUE0aEIsUUFBQWxhLEdBRUF1YSxFQUFBL0ssR0FDQSxRQUVBLElBQUE0SyxFQUFBNUssR0FDQSxPQUFBdFQsVUFBQUMsUUFFQSxPQUNBcVQsRUFBQXpXLEtBQUFULEtBQ0EsTUFDQSxRQUNBa1gsRUFBQXpXLEtBQUFULEtBQUE0RCxVQUFBLEdBQ0EsTUFDQSxRQUNBc1QsRUFBQXpXLEtBQUFULEtBQUE0RCxVQUFBLEdBQUFBLFVBQUEsR0FDQSxNQUVBLFNBQ0E0ZSxFQUFBdmUsTUFBQThDLFVBQUE0VSxNQUFBbGIsS0FBQW1ELFVBQUEsR0FDQXNULEVBQUEvUyxNQUFBbkUsS0FBQXdpQixPQUVHLElBQUFSLEVBQUE5SyxHQUlILElBSEFzTCxFQUFBdmUsTUFBQThDLFVBQUE0VSxNQUFBbGIsS0FBQW1ELFVBQUEsR0FDQTZlLEVBQUF2TCxFQUFBeUUsUUFDQTRHLEVBQUFFLEVBQUE1ZSxPQUNBRixFQUFBLEVBQWU0ZSxFQUFBNWUsRUFBU0EsSUFDeEI4ZSxFQUFBOWUsR0FBQVEsTUFBQW5FLEtBQUF3aUIsRUFHQSxXQUdBdFYsRUFBQW5HLFVBQUE0YixZQUFBLFNBQUFqYixFQUFBa2IsR0FDQSxHQUFBbGlCLEVBRUEsS0FBQW9oQixFQUFBYyxHQUNBLEtBQUF0WixXQUFBLDhCQTJDQSxPQXpDQXRKLE1BQUE0aEIsVUFDQTVoQixLQUFBNGhCLFlBSUE1aEIsS0FBQTRoQixRQUFBaUIsYUFDQTdpQixLQUFBcU4sS0FBQSxjQUFBM0YsRUFDQW9hLEVBQUFjLFlBQ0FBLGNBRUE1aUIsS0FBQTRoQixRQUFBbGEsR0FHQXNhLEVBQUFoaUIsS0FBQTRoQixRQUFBbGEsSUFFQTFILEtBQUE0aEIsUUFBQWxhLEdBQUExRCxLQUFBNGUsR0FHQTVpQixLQUFBNGhCLFFBQUFsYSxJQUFBMUgsS0FBQTRoQixRQUFBbGEsR0FBQWtiLEdBTkE1aUIsS0FBQTRoQixRQUFBbGEsR0FBQWtiLEVBU0FaLEVBQUFoaUIsS0FBQTRoQixRQUFBbGEsTUFBQTFILEtBQUE0aEIsUUFBQWxhLEdBQUFvYixTQUlBcGlCLEVBSEF1aEIsRUFBQWppQixLQUFBNmhCLGVBR0EzVSxFQUFBZ1Ysb0JBRkFsaUIsS0FBQTZoQixjQUtBbmhCLEtBQUEsR0FBQVYsS0FBQTRoQixRQUFBbGEsR0FBQTdELE9BQUFuRCxJQUNBVixLQUFBNGhCLFFBQUFsYSxHQUFBb2IsUUFBQSxFQUNBclMsUUFBQUMsTUFBQSxtSUFHQTFRLEtBQUE0aEIsUUFBQWxhLEdBQUE3RCxRQUNBLGtCQUFBNE0sU0FBQXNTLE9BRUF0UyxRQUFBc1MsVUFLQS9pQixNQUdBa04sRUFBQW5HLFVBQUFpYyxHQUFBOVYsRUFBQW5HLFVBQUE0YixZQUVBelYsRUFBQW5HLFVBQUFrYyxLQUFBLFNBQUF2YixFQUFBa2IsR0FNQSxRQUFBTSxLQUNBbGpCLEtBQUFtakIsZUFBQXpiLEVBQUF3YixHQUVBRSxJQUNBQSxHQUFBLEVBQ0FSLEVBQUF6ZSxNQUFBbkUsS0FBQTRELFlBVkEsSUFBQWtlLEVBQUFjLEdBQ0EsS0FBQXRaLFdBQUEsOEJBRUEsSUFBQThaLElBQUEsQ0FjQSxPQUhBRixHQUFBTixXQUNBNWlCLEtBQUFnakIsR0FBQXRiLEVBQUF3YixHQUVBbGpCLE1BSUFrTixFQUFBbkcsVUFBQW9jLGVBQUEsU0FBQXpiLEVBQUFrYixHQUNBLEdBQUFTLEdBQUFyZCxFQUFBbkMsRUFBQUYsQ0FFQSxLQUFBbWUsRUFBQWMsR0FDQSxLQUFBdFosV0FBQSw4QkFFQSxLQUFBdEosS0FBQTRoQixVQUFBNWhCLEtBQUE0aEIsUUFBQWxhLEdBQ0EsTUFBQTFILEtBTUEsSUFKQXFqQixFQUFBcmpCLEtBQUE0aEIsUUFBQWxhLEdBQ0E3RCxFQUFBd2YsRUFBQXhmLE9BQ0FtQyxFQUFBLEdBRUFxZCxJQUFBVCxHQUNBZCxFQUFBdUIsRUFBQVQsV0FBQVMsRUFBQVQsbUJBQ0E1aUIsTUFBQTRoQixRQUFBbGEsR0FDQTFILEtBQUE0aEIsUUFBQXVCLGdCQUNBbmpCLEtBQUFxTixLQUFBLGlCQUFBM0YsRUFBQWtiLE9BRUcsSUFBQVosRUFBQXFCLEdBQUEsQ0FDSCxJQUFBMWYsRUFBQUUsRUFBb0JGLEtBQUEsR0FDcEIsR0FBQTBmLEVBQUExZixLQUFBaWYsR0FDQVMsRUFBQTFmLEdBQUFpZixVQUFBUyxFQUFBMWYsR0FBQWlmLGFBQUEsQ0FDQTVjLEVBQUFyQyxDQUNBLE9BSUEsS0FBQXFDLEVBQ0EsTUFBQWhHLEtBRUEsS0FBQXFqQixFQUFBeGYsUUFDQXdmLEVBQUF4ZixPQUFBLFFBQ0E3RCxNQUFBNGhCLFFBQUFsYSxJQUVBMmIsRUFBQUMsT0FBQXRkLEVBQUEsR0FHQWhHLEtBQUE0aEIsUUFBQXVCLGdCQUNBbmpCLEtBQUFxTixLQUFBLGlCQUFBM0YsRUFBQWtiLEdBR0EsTUFBQTVpQixPQUdBa04sRUFBQW5HLFVBQUF3YyxtQkFBQSxTQUFBN2IsR0FDQSxHQUFBdEQsR0FBQXFlLENBRUEsS0FBQXppQixLQUFBNGhCLFFBQ0EsTUFBQTVoQixLQUdBLEtBQUFBLEtBQUE0aEIsUUFBQXVCLGVBS0EsTUFKQSxLQUFBdmYsVUFBQUMsT0FDQTdELEtBQUE0aEIsV0FDQTVoQixLQUFBNGhCLFFBQUFsYSxVQUNBMUgsTUFBQTRoQixRQUFBbGEsR0FDQTFILElBSUEsUUFBQTRELFVBQUFDLE9BQUEsQ0FDQSxJQUFBTyxJQUFBcEUsTUFBQTRoQixRQUNBLG1CQUFBeGQsR0FDQXBFLEtBQUF1akIsbUJBQUFuZixFQUlBLE9BRkFwRSxNQUFBdWpCLG1CQUFBLGtCQUNBdmpCLEtBQUE0aEIsV0FDQTVoQixLQUtBLEdBRkF5aUIsRUFBQXppQixLQUFBNGhCLFFBQUFsYSxHQUVBb2EsRUFBQVcsR0FDQXppQixLQUFBbWpCLGVBQUF6YixFQUFBK2EsT0FDRyxJQUFBQSxFQUVILEtBQUFBLEVBQUE1ZSxRQUNBN0QsS0FBQW1qQixlQUFBemIsRUFBQSthLElBQUE1ZSxPQUFBLEdBSUEsY0FGQTdELE1BQUE0aEIsUUFBQWxhLEdBRUExSCxNQUdBa04sRUFBQW5HLFVBQUEwYixVQUFBLFNBQUEvYSxHQUNBLEdBQUE4YixFQU9BLE9BSEFBLEdBSEF4akIsS0FBQTRoQixTQUFBNWhCLEtBQUE0aEIsUUFBQWxhLEdBRUFvYSxFQUFBOWhCLEtBQUE0aEIsUUFBQWxhLEtBQ0ExSCxLQUFBNGhCLFFBQUFsYSxJQUVBMUgsS0FBQTRoQixRQUFBbGEsR0FBQWlVLFlBSUF6TyxFQUFBbkcsVUFBQTBjLGNBQUEsU0FBQS9iLEdBQ0EsR0FBQTFILEtBQUE0aEIsUUFBQSxDQUNBLEdBQUE4QixHQUFBMWpCLEtBQUE0aEIsUUFBQWxhLEVBRUEsSUFBQW9hLEVBQUE0QixHQUNBLFFBQ0EsSUFBQUEsRUFDQSxNQUFBQSxHQUFBN2YsT0FFQSxVQUdBcUosRUFBQXVXLGNBQUEsU0FBQUUsRUFBQWpjLEdBQ0EsTUFBQWljLEdBQUFGLGNBQUEvYixLaEI2OURNLFNBQVM5SCxFQUFRRCxHaUI3dUV2QixRQUFBaWtCLEtBQ0FDLEdBQUEsRUFDQUMsRUFBQWpnQixPQUNBa2dCLEVBQUFELEVBQUFySSxPQUFBc0ksR0FFQUMsRUFBQSxHQUVBRCxFQUFBbGdCLFFBQ0FvZ0IsSUFJQSxRQUFBQSxLQUNBLElBQUFKLEVBQUEsQ0FHQSxHQUFBSyxHQUFBQyxXQUFBUCxFQUNBQyxJQUFBLENBR0EsS0FEQSxHQUFBdEIsR0FBQXdCLEVBQUFsZ0IsT0FDQTBlLEdBQUEsQ0FHQSxJQUZBdUIsRUFBQUMsRUFDQUEsT0FDQUMsRUFBQXpCLEdBQ0F1QixHQUNBQSxFQUFBRSxHQUFBSSxLQUdBSixHQUFBLEdBQ0F6QixFQUFBd0IsRUFBQWxnQixPQUVBaWdCLEVBQUEsS0FDQUQsR0FBQSxFQUNBUSxhQUFBSCxJQWlCQSxRQUFBSSxHQUFBQyxFQUFBOU8sR0FDQXpWLEtBQUF1a0IsTUFDQXZrQixLQUFBeVYsUUFZQSxRQUFBZ0ssTUF0RUEsR0FHQXFFLEdBSEFVLEVBQUE1a0IsRUFBQUQsV0FDQW9rQixLQUNBRixHQUFBLEVBRUFHLEVBQUEsRUFzQ0FRLEdBQUFDLFNBQUEsU0FBQUYsR0FDQSxHQUFBL0IsR0FBQSxHQUFBdmUsT0FBQUwsVUFBQUMsT0FBQSxFQUNBLElBQUFELFVBQUFDLE9BQUEsRUFDQSxPQUFBRixHQUFBLEVBQXVCQSxFQUFBQyxVQUFBQyxPQUFzQkYsSUFDN0M2ZSxFQUFBN2UsRUFBQSxHQUFBQyxVQUFBRCxFQUdBb2dCLEdBQUEvZixLQUFBLEdBQUFzZ0IsR0FBQUMsRUFBQS9CLElBQ0EsSUFBQXVCLEVBQUFsZ0IsUUFBQWdnQixHQUNBTSxXQUFBRixFQUFBLElBU0FLLEVBQUF2ZCxVQUFBcWQsSUFBQSxXQUNBcGtCLEtBQUF1a0IsSUFBQXBnQixNQUFBLEtBQUFuRSxLQUFBeVYsUUFFQStPLEVBQUExWSxNQUFBLFVBQ0EwWSxFQUFBRSxTQUFBLEVBQ0FGLEVBQUFHLE9BQ0FILEVBQUFJLFFBQ0FKLEVBQUFLLFFBQUEsR0FDQUwsRUFBQU0sWUFJQU4sRUFBQXhCLEdBQUF2RCxFQUNBK0UsRUFBQTdCLFlBQUFsRCxFQUNBK0UsRUFBQXZCLEtBQUF4RCxFQUNBK0UsRUFBQU8sSUFBQXRGLEVBQ0ErRSxFQUFBckIsZUFBQTFELEVBQ0ErRSxFQUFBakIsbUJBQUE5RCxFQUNBK0UsRUFBQW5YLEtBQUFvUyxFQUVBK0UsRUFBQVEsUUFBQSxTQUFBclEsR0FDQSxTQUFBK04sT0FBQSxxQ0FHQThCLEVBQUFTLElBQUEsV0FBMkIsV0FDM0JULEVBQUFVLE1BQUEsU0FBQWxKLEdBQ0EsU0FBQTBHLE9BQUEsbUNBRUE4QixFQUFBVyxNQUFBLFdBQTRCLFdqQjR2RXRCLFNBQVN2bEIsRUFBUUQsRUFBU1MsR0FFL0IsWUFVQSxTQUFTUyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQUV6RixRQUFTcUksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJSCxXQUFVLGlFQUFvRUcsR0FBZUQsR0FBU3pDLFVBQVk5RixPQUFPeUksT0FBT0QsR0FBY0EsRUFBVzFDLFdBQWE0QyxhQUFleEksTUFBT3FJLEVBQVVJLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWVMLElBQVl4SSxPQUFPOEksZUFBaUI5SSxPQUFPOEksZUFBZVAsRUFBVUMsR0FBY0QsRUFBU1EsVUFBWVAsR0FaamV4SSxPQUFPQyxlQUFldkIsRUFBUyxjQUMzQndCLE9BQU8sR0FHWCxJQUFJOEksR0FBZSxXQUFlLFFBQVNDLEdBQWlCckQsRUFBUXNELEdBQVMsSUFBSyxHQUFJeEcsR0FBSSxFQUFHQSxFQUFJd0csRUFBTXRHLE9BQVFGLElBQUssQ0FBRSxHQUFJeUcsR0FBYUQsRUFBTXhHLEVBQUl5RyxHQUFXUixXQUFhUSxFQUFXUixhQUFjLEVBQU9RLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU01SSxPQUFPQyxlQUFlMkYsRUFBUXVELEVBQVdoRyxJQUFLZ0csSUFBaUIsTUFBTyxVQUFVZixFQUFhZ0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCYixFQUFZdEMsVUFBV3NELEdBQWlCQyxHQUFhSixFQUFpQmIsRUFBYWlCLEdBQXFCakIsTUFFN2hCa0IsRUFBTyxTQUFhQyxFQUFJQyxFQUFLQyxHQUFxQyxJQUE5QixHQUFJQyxJQUFTLEVBQXdCQSxHQUFRLENBQUUsR0FBSUMsR0FBU0osRUFBSUssRUFBV0osRUFBS0ssRUFBV0osQ0FBS0MsSUFBUyxFQUFzQixPQUFYQyxJQUFpQkEsRUFBU0csU0FBU2hFLFVBQVcsSUFBSWlFLEdBQU8vSixPQUFPZ0sseUJBQXlCTCxFQUFRQyxFQUFXLElBQWFyRyxTQUFUd0csRUFBSixDQUE0TyxHQUFJLFNBQVdBLEdBQVEsTUFBT0EsR0FBSzdKLEtBQWdCLElBQUkrSixHQUFTRixFQUFLRyxHQUFLLElBQWUzRyxTQUFYMEcsRUFBd0IsTUFBb0IsT0FBT0EsR0FBT3pLLEtBQUtxSyxHQUEvVixHQUFJTSxHQUFTbkssT0FBT29LLGVBQWVULEVBQVMsSUFBZSxPQUFYUSxFQUFtQixNQUEyQlosR0FBS1ksRUFBUVgsRUFBTUksRUFBVUgsRUFBTUksRUFBVUgsR0FBUyxFQUFNSyxFQUFPSSxFQUFTNUcsU0FReGNDLEVBQVNyRSxFa0J4MkVJLEdsQjAyRWJzRSxFQUFVN0QsRUFBdUI0RCxHQUVqQ0ksRUFBY3pFLEVrQjMyRUUsR2xCNjJFaEIwRSxFQUFlakUsRUFBdUJnRSxHQUV0Q0YsRUFBU3ZFLEVrQjkyRUksR2xCZzNFYndFLEVBQVUvRCxFQUF1QjhELEdBRWpDeWdCLEVBQWVobEIsRWtCajNFSSxJbEJtM0VuQmlsQixFQUFnQnhrQixFQUF1QnVrQixHQUV2Q0UsRUFBYWxsQixFa0JwM0VJLElsQnMzRWpCbWxCLEVBQWMxa0IsRUFBdUJ5a0IsR0FFckNFLEVBQTRCcGxCLEVrQnYzRU4sSWxCeTNFdEJxbEIsRUFBNkI1a0IsRUFBdUIya0IsR0FFcERFLEVBQWtCdGxCLEVrQjEzRUgsSWxCNDNFZnVsQixFQUFtQjlrQixFQUF1QjZrQixHQUUxQ0UsRUFBZXhsQixFa0I3M0VJLElsQiszRW5CeWxCLEVBQWdCaGxCLEVBQXVCK2tCLEdBRXZDcGtCLEVBQXVCcEIsRWtCaDRFQyxHbEJrNEV4QjBsQixFQUFtQjFsQixFa0JqNEVGLElsQm00RWpCMmxCLEVBQW9CbGxCLEVBQXVCaWxCLEdBRTNDRSxFQUFVNWxCLEVrQnA0RU0sSUFFZnNCLEVBQWMsU0FBQWtLLEdBRUwsUUFGVGxLLEdBRVV5SSxHbEJzNEVQLEdBQUlxRSxHQUFReE8sSWtCajRFYixJbEJtNEVDbUosRUFBZ0JuSixLa0IxNEVuQjBCLEdBR0U2SSxFQUFBdEosT0FBQW9LLGVBSEYzSixFQUFjcUYsV0FBQSxjQUFBL0csTUFBQVMsS0FBQVQsS0FHTm1LLEdsQjI0RUxuSyxLa0I1dURMaW1CLGNBQWdCLFNBQUMzZCxHQUNia0csRUFBS3pDLEtBQUttYSxPQUFPbmEsS0FBS29hLFVBQVVDLFdBQWE5ZCxFQUFFK2QsY0FBY0QsWWxCK3VENURwbUIsS2tCNXVETHNtQixtQkFBcUIsV0FDakIsR0FBSUMsR0FBaUIvWCxFQUFLekMsS0FBS21hLE9BQU9uYSxLQUFLb2EsVUFBVUssV0FBVyxHQUM1REMsRUFBZWpZLEVBQUt6QyxLQUFLMUYsS0FBSzBGLEtBQUtvYSxVQUFVSyxXQUFXLEVBQ3hERCxHQUFlaGdCLGNBQWdCa2dCLEVBQWFsZ0IsY0FDNUNnZ0IsRUFBZWpoQixNQUFNTyxNQUFRNGdCLEVBQWFsZ0IsWUFBYyxLQUU1RCxJQUFNbWdCLEdBQWNsWSxFQUFLekMsS0FBSzFGLEtBQUtzZ0Isc0JBQ25DblksR0FBS3pDLEtBQUttYSxPQUFPVSxVQUFVRixFQUN2QmxZLEVBQUt6QyxLQUFLMUYsS0FBSzBGLEtBQUtvYSxVQUFVckwsYUFBZXRNLEVBQUt6QyxLQUFLMUYsS0FBSzBGLEtBQUtvYSxVQUFVOU4sZUF6cUIvRXJZLEtBQUs2bUIsc0JBRUE1aUIsTUFBTUMsUUFBUWxFLEtBQUttSyxNQUFNaUQsTUFTdkIsQ0FDSCxHQUFJMFosR0FBTzltQixLQUFLbUssTUFBTWlELEtBQUt1TyxPQUMzQjNiLE1BQUsrbUIsTUFBUSxHQUFBdmxCLEdBQUE4TCxlQUFtQndaLE9BVmhDOW1CLE1BQUsrbUIsTUFBUSxHQUFBdmxCLEdBQUE4TCxlQUFtQnROLEtBQUttSyxNQUFNaUQsS0FBSzRaLFdBQ2hEaG5CLEtBQUttSyxNQUFNaUQsS0FBSzZaLFFBQ2hCam5CLEtBQUttSyxNQUFNaUQsS0FBSzRWLEdBQUcsU0FBVSxTQUFDNVYsR0FDMUJvQixFQUFLdVksTUFBTUcsUUFBUTlaLEdBQ25Cb0IsRUFBS29LLFVBQ0R4TCxLQUFNb0IsRUFBSzJZLGtCQWlCdkIsSUFUQW5uQixLQUFLb25CLFVBQVVwbkIsS0FBS21LLE9BRWhCbkssS0FBS3FPLFNsQnc1RUosV2tCdjVFRCxHQUFNZ1osR0FBSTdZLENBQ1ZBLEdBQUtILE9BQU8yVSxHQUFHLGlCQUFrQixTQUFDc0UsR0FDOUJELEVBQUtFLGlCQUFpQkQsUUFJMUJ0bkIsS0FBS21LLE1BQU1xZCxXQUFheG5CLEtBQUttSyxNQUFNcWQsVUFBVTFaLFNBQVUsQ0FDdkQsR0FBSWdaLEdBQU85bUIsS0FBS21LLE1BQU1xZCxVQUFVMVosU0FBUzZOLE9BQ3pDM2IsTUFBSyttQixNQUFNVSxrQkFBa0JYLEdBR2pDOW1CLEtBQUtpWCxPQUNEN0osS0FBTXBOLEtBQUttbkIsZUFDWE8sU0FBVTFuQixLQUFLbUssTUFBTXZDLFFBQVErZixNQUFRLEVBQ3JDM1ksWUFBYWhQLEtBQUttSyxNQUFNdkMsUUFBUW9ILGFBQWVwSyxFQUFBLFdBQU1qQyxtQkFBbUIsR0FDeEU0TCxnQkFBaUJ2TyxLQUFLK21CLE1BQU1hLHNCbEJzakduQyxNQXh0QkFyZSxHa0JyNEVDN0gsRUFBY2tLLEdsQm84RWYzQixFa0JwOEVDdkksSWxCcThFRzBDLElBQUssWUFDTGpELE1rQjM1RUksU0FBQ2dKLEdsQjQ1RUQsR0FBSXdGLEdBQVMzUCxLa0IzNUVia08sRUFBWS9ELEVBQVorRCxTQUVDMlosRUFBd0MsZ0JBQWIzWixJQUF5QkEsRUFBU3JLLE1BQ25FYSxHQUFBLFdBQU1vakIsU0FBU3ZZLFFBQVFwRixFQUFNNGQsU0FBVSxTQUFBQyxHQUNuQyxHQUFJQSxFQUFPN2QsTUFBTThkLE1BQU8sQ0FDcEIsR0FBSS9aLEVBQ0EsS0FBTSw4REFFVkEsR0FBVzhaLEVBQU83ZCxNQUFNK2QsVUFFeEJGLEVBQU83ZCxNQUFNa0UsU0FFUnNCLEVBQUt0QixTQUVOc0IsRUFBS3RCLE9BQVMsR0FBQTJYLEdBQUFtQyxRQUdsQkgsRUFBTzdkLE1BQU1rRSxPQUFPc1YsUUFBVWhVLEVBQUt0QixTQUV4Q3JPLEtBRUgsSUFBSXVOLEdBQVd2TixLQUFLb29CLHNCQUFzQmplLEdBQU9rZSxPQUFPLFNBQUNDLEVBQU1DLEdBRTNELE1BREFELEdBQUtDLEVBQUs1VCxNQUFRNFQsRUFDWEQsTUFHWCxLQUFLVCxJQUFzQjNaLEVBQ3ZCLDZJQUdKbE8sTUFBSyttQixNQUFNeUIsVUFDUHBhLGFBQWNqRSxFQUFNc2UsV0FDcEJ2YSxTQUFVQSxFQUNWWCxTQUFVQSxFQUNWUSxrQkFBbUI1RCxFQUFNNEQsa0JBQ3pCRSxPQUFRak8sS0FBSzBvQiwwQmxCKzVFaEJ0a0IsSUFBSyxlQUNMakQsTWtCNTVFTyxXQUNSLEdBQUl1TixLQUtKLElBSEkxTyxLQUFLbUssTUFBTXZDLFFBQVErZ0IsVUFBWTNvQixLQUFLbUssTUFBTXZDLFFBQVFnaEIsV0FDbEQ1b0IsS0FBSyttQixNQUFNaGEsS0FBSy9NLEtBQUttSyxNQUFNdkMsUUFBUWdoQixVQUFXNW9CLEtBQUttSyxNQUFNdkMsUUFBUStnQixVQUVqRTNvQixLQUFLbUssTUFBTXNlLFdBQVksQ0FDdkIsR0FBSWQsR0FBSW5qQixPQUFFd0ssRUFBV3hLLE1BQ2pCeEUsTUFBSyttQixNQUFNOEIsaUJBQ1g3WixFQUFjaFAsS0FBS2lYLE1BQU1qSSxZQUN6QjJZLEVBQU8zbkIsS0FBS2lYLE1BQU15USxXQUVsQjFZLEVBQWNoUCxLQUFLbUssTUFBTXZDLFFBQVFvSCxhQUFlcEssRUFBQSxXQUFNakMsbUJBQW1CLEdBQ3pFZ2xCLEVBQU8zbkIsS0FBS21LLE1BQU12QyxRQUFRK2YsTUFBUSxHQUV0Q2paLEVBQVMxTyxLQUFLK21CLE1BQU1ZLEtBQUtBLEVBQU0zWSxHQUFhN0QsVUFFNUN1RCxHQUFTMU8sS0FBSyttQixNQUFNNWIsS0FFeEIsT0FBT3VELE1sQis1RU50SyxJQUFLLHdCQUNMakQsTWtCNzVFZ0IsU0FBQzJuQixHbEI4NUViLEdrQjk1RWVmLEdBQUZlLEVBQUVmLFFBQ3BCLE9BQU9BLEdBQVNoZ0IsSUFBSSxTQUFDaWdCLEVBQVFya0IsR0FDekIsT0FDSWdSLEtBQU1xVCxFQUFPN2QsTUFBTStkLFVBQ25CYSxNQUFPZixFQUFPN2QsTUFBTTZlLFVBQ3BCamMsS0FBTWliLEVBQU83ZCxNQUFNOGUsU0FDbkIxaEIsT0FBUXlnQixFQUFPN2QsTUFBTStlLFdBQ3JCL1ksZ0JBQWlCNlgsRUFBTzdkLE1BQU1nRyxnQkFDOUJELGdCQUFpQjhYLEVBQU83ZCxNQUFNK0YsZ0JBQzlCN0ksU0FBVTJnQixFQUFPN2QsTUFBTTlDLFNBQ3ZCa0ssT0FBUXlXLEVBQU83ZCxNQUFNb0gsT0FDckJuTSxVQUFXNGlCLEVBQU83ZCxNQUFNZ2YsZ0JBQ3hCdGpCLE1BQU9taUIsRUFBTzdkLE1BQU10RSxNQUNwQndMLEtBQU0yVyxFQUFPN2QsTUFBTTRkLFNBQ25CbGIsU0FBVW1iLEVBQU83ZCxNQUFNMEMsU0FDdkJ1YyxNQUFPemxCLFFsQm82RWRTLElBQUssNEJBQ0xqRCxNa0JoNkVvQixTQUFDNFYsR0FFdEIsR0FEQS9XLEtBQUtvbkIsVUFBVXJRLEdBQ1g5UyxNQUFNQyxRQUFRNlMsRUFBVTNKLE1BQU8sQ0FDL0JwTixLQUFLK21CLE1BQU1HLFFBQVFuUSxFQUFVM0osS0FBS3VPLFFBQ2xDLElBQUkwTixHQUFnQnJwQixLQUFLK0wsS0FBSzBjLFdBQzFCZCxFQUFPMEIsR0FBaUJBLEVBQWNDLGtCQUFvQnZTLEVBQVVuUCxRQUFRK2YsTUFBUSxFQUNwRjNZLEVBQWNxYSxHQUFpQkEsRUFBY0Usa0JBQW9CeFMsRUFBVW5QLFFBQVFvSCxhQUFlcEssRUFBQSxXQUFNakMsbUJBQW1CLEVBRTNIZ2xCLEdBQU82QixLQUFLQyxLQUFLMVMsRUFBVTNKLEtBQUt2SixPQUFTbUwsS0FBYzJZLEVBQU8sRUFDbEUsSUFBSStCLEdBQVcxcEIsS0FBSyttQixNQUFNNEMsY0FDdEIvYyxFQUFZbUssRUFBVW5QLFFBQVErZ0IsV0FBYWUsRUFBV0EsRUFBUzljLFVBQVlwSSxRQUMzRW9rQixFQUFZN1IsRUFBVW5QLFFBQVFnaEIsWUFBY2MsRUFBV0EsRUFBUzFrQixNQUFRUixPQUN4RW9JLElBQWFnYyxHQUFXNW9CLEtBQUsrbUIsTUFBTWhhLEtBQUs2YixFQUFXaGMsRUFDdkQsSUFBSVEsR0FBT3BOLEtBQUsrbUIsTUFBTVksS0FBS0EsRUFBTTNZLEdBQWE3RCxLQUM5Q25MLE1BQUs0WSxVQUNEeEwsS0FBTUEsRUFDTnNhLFNBQVVDLEVBQ1YzWSxZQUFhQSxJQUdyQixHQUFJK0gsRUFBVXlRLFdBQWF6USxFQUFVeVEsVUFBVTFaLFNBQVUsQ0FFckQsR0FBSWdaLEdBQU8vUCxFQUFVeVEsVUFBVTFaLFNBQVM2TixPQUN4QzNiLE1BQUsrbUIsTUFBTVUsa0JBQWtCWCxHQUM3QjltQixLQUFLNFksVUFDRHJLLGdCQUFpQnVZLFFsQnE2RXhCMWlCLElBQUssb0JBQ0xqRCxNa0JqNkVZLFdBQ2JuQixLQUFLc21CLHFCQUNMN2tCLE9BQU9tb0IsaUJBQWlCLFNBQVU1cEIsS0FBS3NtQixvQkFDdkN0bUIsS0FBSytMLEtBQUsxRixLQUFLMEYsS0FBS29hLFVBQVV5RCxpQkFBaUIsU0FBVTVwQixLQUFLaW1CLGtCbEJvNkU3RDdoQixJQUFLLHVCQUNMakQsTWtCbDZFZSxXQUNoQk0sT0FBT29vQixvQkFBb0IsU0FBVTdwQixLQUFLc21CLG9CQUMxQ3RtQixLQUFLK0wsS0FBSzFGLEtBQUswRixLQUFLb2EsVUFBVTBELG9CQUFvQixTQUFVN3BCLEtBQUtpbUIsZUFDN0RqbUIsS0FBS3FPLFFBQ0xyTyxLQUFLcU8sT0FBT2tWLG1CQUFtQixxQmxCczZFbENuZixJQUFLLHFCQUNMakQsTWtCbjZFYSxXQUNkbkIsS0FBS3NtQixxQkFDTHRtQixLQUFLNm1CLHNCQUNEN21CLEtBQUttSyxNQUFNdkMsUUFBUWtpQixvQkFDbkI5cEIsS0FBS21LLE1BQU12QyxRQUFRa2lCLHdCbEJxNkV0QjFsQixJQUFLLHNCQUNMakQsTWtCbjZFYyxXQUNYbkIsS0FBS21LLE1BQU00ZixXQUNYL3BCLEtBQUttSyxNQUFNNGYsU0FBU0MsbUJBQXFCaHFCLEtBQUtpcUIsZUFBZUMsS0FBS2xxQixNQUM5REEsS0FBS21LLE1BQU00ZixTQUFTOWQsT0FBU3JILEVBQUEsV0FBTXBDLGlCQUNuQ3hDLEtBQUttSyxNQUFNcWQsVUFBVTJDLGVBQWdCLE9sQjg2RTVDL2xCLElBQUsscUJBQ0xqRCxNa0JwNkVhLFNBQUNnSixHQUNmLE9BQVFBLEdBQVNuSyxLQUFLbUssT0FBTzhELFVsQnU2RTVCN0osSUFBSyxTQUNMakQsTWtCcjZFQyxXQUVGLEdBQ0lpcEIsS0FEYSxFQUFBdGxCLEVBQUEsWUFBUyxrQkFDVjlFLEtBQUttSyxNQUFNNGQsVUFDdkJ6aUIsR0FDQVEsT0FBUTlGLEtBQUttSyxNQUFNckUsT0FDbkJ1a0IsVUFBV3JxQixLQUFLbUssTUFBTWtnQixVQUVyQnBtQixPQUFNQyxRQUFRbEUsS0FBS21LLE1BQU00ZCxZQUMxQnFDLEdBQWFwcUIsS0FBS21LLE1BQU00ZCxVQUU1QixJQUFJdUMsR0FBVXRxQixLQUFLb29CLHNCQUFzQnBvQixLQUFLbUssT0FDMUN1ZixFQUFXMXBCLEtBQUsrbUIsTUFBTTRDLGNBQ3RCbEIsRUFBYXpvQixLQUFLdXFCLG1CQUNsQkMsRUFBVXhxQixLQUFLeXFCLGdCQUNmQyxFQUFjMXFCLEtBQUsycUIsa0JBQWtCTCxHQUNyQ00sRUFBYzVxQixLQUFLNHFCLGFBQ3ZCLE9BQ0lsbUIsR0FBQSxXQUFBUyxjbEJxNkVLLE9rQnI2RUFDLFVBQVUscUJBQXFCbUgsSUFBSSxTQUNuQ2llLEVBQ0Q5bEIsRUFBQSxXQUFBUyxjbEJ1NkVLLE9rQnY2RUFDLFVBQVUsMkJBQ1ZrYyxhQUFjdGhCLEtBQUt1aEIsaUJBQWlCMkksS0FBS2xxQixNQUN6Q3doQixhQUFjeGhCLEtBQUt5aEIsaUJBQWlCeUksS0FBS2xxQixNQUN6Q3NGLE1BQU9BLEdBQ1JaLEVBQUEsV0FBQVMsY2xCeTZFS2tnQixFQUFjLFlrQng2RWY5WSxJQUFJLFNBQ0pzZSxjQUFlN3FCLEtBQUttSyxNQUFNcWQsVUFBVXZiLEtBQ3BDNmUsaUJBQWtCOXFCLEtBQUttSyxNQUFNcWQsVUFBVXNELGlCQUN2Q25DLFNBQVVlLEVBQVdBLEVBQVM5YyxVQUFZcEksT0FDMUNva0IsVUFBV2MsRUFBV0EsRUFBUzFrQixNQUFRUixPQUN2Q3VtQixPQUFRL3FCLEtBQUtnckIsV0FBV2QsS0FBS2xxQixNQUM3QmlyQixlQUFnQmpyQixLQUFLa3JCLG1CQUFtQmhCLEtBQUtscUIsTUFDN0NtckIsU0FBVW5yQixLQUFLbUssTUFBTWdoQixTQUNyQkMsVUFBV3ByQixLQUFLbUssTUFBTWloQixVQUN0QkMsYUFBWXJyQixLQUFLcU8sT0FDakJpZCxRQUFTdHJCLEtBQUttSyxNQUFNbWhCLFFBQ3BCVixZQUFhQSxHQUNaNXFCLEtBQUttSyxNQUFNNGQsVUFFaEJyakIsRUFBQSxXQUFBUyxjQUFBb2dCLEVBQUEsWUFDSXpmLE9BQVE5RixLQUFLbUssTUFBTXJFLE9BQ25CdWtCLFVBQVdycUIsS0FBS21LLE1BQU1rZ0IsVUFDdEI5ZCxJQUFJLE9BQ0phLEtBQU1wTixLQUFLaVgsTUFBTTdKLEtBQ2pCa2QsUUFBU0EsRUFDVGlCLFlBQWF2ckIsS0FBS21LLE1BQU1vaEIsWUFDeEJDLFFBQVN4ckIsS0FBS21LLE1BQU1xaEIsUUFDcEJMLFNBQVVuckIsS0FBS21LLE1BQU1naEIsU0FDckJNLE1BQU96ckIsS0FBS21LLE1BQU1zaEIsTUFDbEJ2ZCxTQUFVbE8sS0FBSyttQixNQUFNMkUsY0FDckJOLFVBQVdwckIsS0FBS21LLE1BQU1paEIsVUFDdEI1RCxVQUFXeG5CLEtBQUttSyxNQUFNcWQsVUFDdEJ1QyxTQUFVL3BCLEtBQUttSyxNQUFNNGYsU0FDckJ4YixnQkFBaUJ2TyxLQUFLaVgsTUFBTTFJLGdCQUM1Qm9kLFdBQVkzckIsS0FBSzRyQixlQUFlMUIsS0FBS2xxQixNQUNyQzZyQixlQUFnQjdyQixLQUFLOHJCLG1CQUFtQjVCLEtBQUtscUIsTUFDN0MrckIsY0FBZS9yQixLQUFLZ3NCLGtCQUFrQjlCLEtBQUtscUIsTUFDM0Npc0IsWUFBYWpzQixLQUFLa3NCLGdCQUFnQmhDLEtBQUtscUIsTUFDdkNtc0IsV0FBWW5zQixLQUFLbUssTUFBTXZDLFFBQVF1a0IsY0FHdEN6QixFQUNBakMsTWxCODZFUnJrQixJQUFLLGNBQ0xqRCxNa0IxNkVNLFdBQ1AsR0FBSWlyQixHQUF1QnBzQixLQUFLK21CLE1BQU1hLHFCQUNsQ3lFLEVBQWFyc0IsS0FBSyttQixNQUFNdUYsY0FDNUIsT0FBSUYsR0FBcUJ2b0IsU0FBV3dvQixFQUFXeG9CLE9BQ0osSUFBaEN1b0IsRUFBcUJ2b0IsUUFBZSxFQUFRLGlCQUU1QyxLbEI4NkVWTyxJQUFLLGdCQUNMakQsTWtCMzZFUSxXQUNUbkIsS0FBSyttQixNQUFNVSxzQkFDWHpuQixLQUFLNFksVUFDRHJLLHdCbEIrNkVIbkssSUFBSyxhQUNMakQsTWtCNTZFSyxTQUFDNkQsRUFBTzRILEdBQ1Y1TSxLQUFLbUssTUFBTXZDLFFBQVEya0IsY0FDbkJ2c0IsS0FBS21LLE1BQU12QyxRQUFRMmtCLGFBQWEzZixFQUFXNUgsRUFBT2hGLEtBQUttSyxNQUczRCxJQUFJdUUsR0FBUzFPLEtBQUsrbUIsTUFBTWhhLEtBQUsvSCxFQUFPNEgsR0FBV3pCLEtBQy9DbkwsTUFBSzRZLFVBQ0R4TCxLQUFNc0IsT2xCZzdFVHRLLElBQUssdUJBQ0xqRCxNa0I3NkVlLFNBQUN3bUIsRUFBTTNZLEdsQjg2RWxCLEdrQjc2RUV3ZCxHQUFnQnhzQixLQUFLbUssTUFBTXZDLFFBQTNCNGtCLFlBS1AsSUFKSUEsR0FDQUEsRUFBYTdFLEVBQU0zWSxJQUduQmhQLEtBQUswb0IscUJBQVQsQ0FJQSxHQUFJaGEsR0FBUzFPLEtBQUsrbUIsTUFBTVksS0FBS0EsRUFBTTNZLEdBQWE3RCxLQUNoRG5MLE1BQUs0WSxVQUNEeEwsS0FBTXNCLEVBQ05nWixTQUFVQyxFQUNWM1ksb0JsQms3RUg1SyxJQUFLLG1CQUNMakQsTWtCLzZFVyxXQUNSbkIsS0FBS21LLE1BQU12QyxRQUFRNFosY0FDbkJ4aEIsS0FBS21LLE1BQU12QyxRQUFRNFosa0JsQm03RXRCcGQsSUFBSyxtQkFDTGpELE1rQmg3RVcsV0FDUm5CLEtBQUttSyxNQUFNdkMsUUFBUTBaLGNBQ25CdGhCLEtBQUttSyxNQUFNdkMsUUFBUTBaLGtCbEJvN0V0QmxkLElBQUssb0JBQ0xqRCxNa0JqN0VZLFNBQUNzTixHQUNWek8sS0FBS21LLE1BQU12QyxRQUFRbWtCLGVBQ25CL3JCLEtBQUttSyxNQUFNdkMsUUFBUW1rQixjQUFjdGQsTWxCcTdFcENySyxJQUFLLHFCQUNMakQsTWtCbDdFYSxTQUFDc04sR0FDWHpPLEtBQUttSyxNQUFNdkMsUUFBUWlrQixnQkFDbkI3ckIsS0FBS21LLE1BQU12QyxRQUFRaWtCLGVBQWVwZCxNbEJzN0VyQ3JLLElBQUssaUJBQ0xqRCxNa0JuN0VTLFNBQUNzTixHQUNQek8sS0FBS21LLE1BQU12QyxRQUFRK2pCLFlBQ25CM3JCLEtBQUttSyxNQUFNdkMsUUFBUStqQixXQUFXbGQsTWxCdTdFakNySyxJQUFLLHFCQUNMakQsTWtCcDdFYSxTQUFDbUgsR0FDZixHQUFJMlYsR0FBYTNWLEVBQUUrZCxjQUFjMWQsUUFDN0I0RixLQUNBRyxHQUFTLENBQ1QxTyxNQUFLbUssTUFBTXFkLFVBQVVpRixjQUNyQi9kLEVBQVMxTyxLQUFLbUssTUFBTXFkLFVBQVVpRixZQUFZeE8sRUFDdENBLEVBQWFqZSxLQUFLK21CLE1BQU01YixXQUdWLG1CQUFYdUQsSUFBMEJBLEtBQVcsSUFDeEN1UCxJQUNBMVAsRUFBa0J2TyxLQUFLK21CLE1BQU11RixnQkFHakN0c0IsS0FBSyttQixNQUFNVSxrQkFBa0JsWixHQUM3QnZPLEtBQUs0WSxVQUNEckssZ0JBQWlCQSxRbEJ3N0V4Qm5LLElBQUsseUJBQ0xqRCxNa0JwN0VpQixXQUNsQm5CLEtBQUsrbUIsTUFBTTJGLG1CQUNYLElBQUloZSxHQUFNbEssTUFFTmtLLEdBREExTyxLQUFLbUssTUFBTXNlLFdBQ0Z6b0IsS0FBSyttQixNQUFNWSxLQUFLLEVBQUczbkIsS0FBS2lYLE1BQU1qSSxhQUFhN0QsTUFFM0NuTCxLQUFLK21CLE1BQU01YixNQUV4Qm5MLEtBQUs0WSxVQUNEeEwsS0FBTXNCLEVBQ05nWixTQUFVLE9sQnc3RWJ0akIsSUFBSyxrQkFDTGpELE1rQnI3RVUsU0FBQ3NOLEVBQUt3UCxHQUNqQixHQUFJME8sR0FBZTNzQixLQUFLK21CLE1BQU1hLHFCQUMxQm5ZLEVBQVNoQixFQUFJek8sS0FBSyttQixNQUFNMkUsZUFDeEJoZCxHQUFTLENBQ1QxTyxNQUFLbUssTUFBTXFkLFVBQVUvSSxXQUNyQi9QLEVBQVMxTyxLQUFLbUssTUFBTXFkLFVBQVUvSSxTQUFTaFEsRUFBS3dQLElBRzFCLG1CQUFYdlAsSUFBMEJBLEtBQVcsSUFDeEMxTyxLQUFLbUssTUFBTXFkLFVBQVV2YixPQUFTckgsRUFBQSxXQUFNdEMsa0JBQ3BDcXFCLEVBQWUxTyxHQUFjeE8sTUFFekJ3TyxFQUNBME8sRUFBYTNvQixLQUFLeUwsR0FFbEJrZCxFQUFlQSxFQUFhdGUsT0FBTyxTQUFVakssR0FDekMsTUFBT3FMLEtBQVdyTCxJQUs5QnBFLEtBQUsrbUIsTUFBTVUsa0JBQWtCa0YsR0FDN0Izc0IsS0FBSzRZLFVBQ0RySyxnQkFBaUJvZSxRbEIwN0V4QnZvQixJQUFLLGlCQUNMakQsTWtCdDdFUyxTQUFDZ08sRUFBUUMsRUFBVXdkLEdBQzdCLEdBQUl2ZCxHQUFTN0ssTUFDYkUsR0FBQSxXQUFNb2pCLFNBQVN2WSxRQUFRdlAsS0FBS21LLE1BQU00ZCxTQUFVLFNBQVVDLEVBQVFya0IsR0FDMUQsTUFBSUEsSUFBS2lwQixHQUNMdmQsRUFBWTJZLEVBQU83ZCxNQUFNK2QsV0FDbEIsR0FGWCxRQU1KLElBQUl4WixHQUFTMU8sS0FBSyttQixNQUFNOEYsS0FBSzFkLEVBQVFDLEVBQVVDLEdBQVdsRSxLQUMxRG5MLE1BQUs0WSxVQUNEeEwsS0FBTXNCLElBR04xTyxLQUFLbUssTUFBTTRmLFNBQVMrQyxlQUNwQjlzQixLQUFLbUssTUFBTTRmLFNBQVMrQyxjQUFjOXNCLEtBQUtpWCxNQUFNN0osS0FBS2dDLEdBQVdDLEVBQVdGLE1sQjA3RTNFL0ssSUFBSyxvQkFDTGpELE1rQnY3RVksV0FDVG5CLEtBQUsrTCxLQUFLMUYsUWxCNDdFYmpDLElBQUssZUFDTGpELE1rQng3RU8sU0FBQ3FPLEdsQnk3RUosR0FBSXlCLEdBQVNqUixLa0J4N0VGME8sRUFBTWxLLE9BQ2xCdW9CLEVBQWdCL3NCLEtBQUttSyxNQUFNdkMsUUFBUW9sQixnQkFBa0JodEIsS0FBS21LLE1BQU12QyxRQUFRb2xCLGdCQUFnQnhkLEdBQVVBLENBSXRHLE9BQU95ZCxTQUFRQyxRQUFRSCxHQUFlSSxLQUFLLFNBQUN0aEIsR0FDeEMyRCxFQUFTM0QsQ0FDVCxLQUNJb0YsRUFBSzhWLE1BQU1xRyxJQUFJNWQsR0FDakIsTUFBT2xILEdBQ0wsTUFBT0EsR0FHWCxHQUFJMkksRUFBSzlHLE1BQU1zZSxXQUFZLENsQjY3RWxCLEdrQjM3RUd6WixHQUFnQmlDLEVBQUtnRyxNQUFyQmpJLFlBQ0ZxZSxFQUFlN0QsS0FBS0MsS0FBS3hZLEVBQUs4VixNQUFNdUcsYUFBZXRlLEVBQ3pETixHQUFTdUMsRUFBSzhWLE1BQU1ZLEtBQUswRixFQUFjcmUsR0FBYTdELE1BQ3BEOEYsRUFBSzJILFVBQ0R4TCxLQUFNc0IsRUFDTmdaLFNBQVUyRixRQUdkM2UsR0FBU3VDLEVBQUs4VixNQUFNNWIsTUFDcEI4RixFQUFLMkgsVUFDRHhMLEtBQU1zQixHQUlWdUMsR0FBSzlHLE1BQU12QyxRQUFRMmxCLGdCQUNuQnRjLEVBQUs5RyxNQUFNdkMsUUFBUTJsQixlQUFlL2QsS0FHdkMyZCxLQUFLLFNBQUNLLEdBQ0wsR0FBS0EsRUFBRUMsR0FHSCxNQUFPRCxFQUZQLE1BQU1BLEtBSVosU0FBTyxTQUFDbGxCLEdBQ04sTUFBT0EsR0FBRW9sQixZbEIrN0VadHBCLElBQUssaUJBQ0xqRCxNa0IzN0VTLFdBQ1YsTUFBT25CLE1BQUtpWCxNQUFNakksZWxCODdFakI1SyxJQUFLLGlCQUNMakQsTWtCNTdFUyxXQUNWLE1BQU9uQixNQUFLaVgsTUFBTXlRLFlsQis3RWpCdGpCLElBQUssZ0JBQ0xqRCxNa0I3N0VRLFNBQUN3c0IsR0FDVixHQUFJQyxHQUFPNXRCLEtBQ1A2dEIsRUFBY0YsRUFBVUEsRUFBVTN0QixLQUFLK21CLE1BQU1hLG9CQUU3Q2lHLElBQWVBLEVBQVlocUIsT0FBUyxJQUNoQzdELEtBQUttSyxNQUFNdkMsUUFBUWttQix1QkFDbkI5dEIsS0FBS21LLE1BQU12QyxRQUFRa21CLHVCQUNmLFdBQ0lGLEVBQUtHLFVBQVVGLEtBR2hCRyxRQUFRLDhCQUNmaHVCLEtBQUsrdEIsVUFBVUYsT2xCZzhFdEJ6cEIsSUFBSyxZQUNMakQsTWtCNTdFSSxTQUFDMHNCLEdBRU4sR0FBSW5mLEdBQU1sSyxNQUlWLElBSEF4RSxLQUFLK21CLE1BQU1rSCxPQUFPSixHQUNsQjd0QixLQUFLK21CLE1BQU1VLHNCQUVQem5CLEtBQUttSyxNQUFNc2UsV0FBWSxDbEI2N0VsQixHa0I1N0VHelosR0FBZ0JoUCxLQUFLaVgsTUFBckJqSSxZQUNGMFksRUFBYTFuQixLQUFLaVgsTUFBbEJ5USxTQUNGMkYsRUFBZTdELEtBQUtDLEtBQUt6cEIsS0FBSyttQixNQUFNdUcsYUFBZXRlLEVBQ25EMFksR0FBVzJGLElBQ1gzRixFQUFXMkYsR0FDZjNlLEVBQVMxTyxLQUFLK21CLE1BQU1ZLEtBQUtELEVBQVUxWSxHQUFhN0QsTUFDaERuTCxLQUFLNFksVUFDRHhMLEtBQU1zQixFQUNOSCxnQkFBaUJ2TyxLQUFLK21CLE1BQU1hLHFCQUM1QkYsaUJBR0poWixHQUFTMU8sS0FBSyttQixNQUFNNWIsTUFDcEJuTCxLQUFLNFksVUFDRHhMLEtBQU1zQixFQUNOSCxnQkFBaUJ2TyxLQUFLK21CLE1BQU1hLHNCQUdoQzVuQixNQUFLbUssTUFBTXZDLFFBQVFzbUIsZ0JBQ25CbHVCLEtBQUttSyxNQUFNdkMsUUFBUXNtQixlQUFlTCxNbEJnOEVyQ3pwQixJQUFLLG1CQUNMakQsTWtCNTdFVyxTQUFDdU0sR0FDYjFOLEtBQUsrbUIsTUFBTTFZLE9BQU9YLEVBQ2xCLElBQUlnQixHQUFNbEssTUFDVixJQUFJeEUsS0FBS21LLE1BQU1zZSxXQUFZLENsQjY3RWxCLEdrQjU3RUd6WixHQUFnQmhQLEtBQUtpWCxNQUFyQmpJLFdBQ1JOLEdBQVMxTyxLQUFLK21CLE1BQU1ZLEtBQUssRUFBRzNZLEdBQWE3RCxVQUV6Q3VELEdBQVMxTyxLQUFLK21CLE1BQU01YixLQUVwQm5MLE1BQUttSyxNQUFNdkMsUUFBUXVtQixtQkFDbkJudUIsS0FBS21LLE1BQU12QyxRQUFRdW1CLGtCQUFrQnpnQixFQUNqQzFOLEtBQUsrbUIsTUFBTXFILDZCQUNuQnB1QixLQUFLNFksVUFDRHhMLEtBQU1zQixFQUNOZ1osU0FBVSxPbEIrN0VidGpCLElBQUssa0JBQ0xqRCxNa0I1N0VVLFdBQ1gsR0FBSXVOLEdBQVMxTyxLQUFLK21CLE1BQU1xSCw0QkFDcEJ4ZSxJQUNKNVAsTUFBS21LLE1BQU00ZCxTQUFTaGdCLElBQUksU0FBVWlnQixHQUMxQkEsRUFBTzdkLE1BQU1vSCxVQUFXLEdBQ3hCM0IsRUFBSzVMLEtBQUtna0IsRUFBTzdkLE1BQU0rZCxjQUcvQixFQUFBbkMsRUFBQSxZQUFVclgsRUFBUWtCLEVBQU01UCxLQUFLbUssTUFBTWtrQixnQmxCKzdFbENqcUIsSUFBSyxlQUNMakQsTWtCNzdFTyxTQUFDd00sR0FDVDNOLEtBQUsrbUIsTUFBTXpZLE9BQU9YLEVBQ2xCLElBQUllLEdBQU1sSyxNQUNWLElBQUl4RSxLQUFLbUssTUFBTXNlLFdBQVksQ2xCODdFbEIsR2tCNzdFR3paLEdBQWdCaFAsS0FBS2lYLE1BQXJCakksV0FDUk4sR0FBUzFPLEtBQUsrbUIsTUFBTVksS0FBSyxFQUFHM1ksR0FBYTdELFVBRXpDdUQsR0FBUzFPLEtBQUsrbUIsTUFBTTViLEtBRXBCbkwsTUFBS21LLE1BQU12QyxRQUFRMG1CLGFBQ25CdHVCLEtBQUttSyxNQUFNdkMsUUFBUTBtQixZQUFZM2dCLEVBQVkzTixLQUFLK21CLE1BQU1xSCw2QkFDMURwdUIsS0FBSzRZLFVBQ0R4TCxLQUFNc0IsRUFDTmdaLFNBQVUsT2xCaThFYnRqQixJQUFLLG1CQUNMakQsTWtCOTdFVyxXQUNaLEdBQUluQixLQUFLbUssTUFBTXNlLFdBQVksQ0FDdkIsR0FBSThGLEdBQVEvcEIsTUFNWixPQUpJK3BCLEdBREF2dUIsS0FBSzBvQixxQkFDTTFvQixLQUFLbUssTUFBTXFrQixVQUFVQyxjQUVyQnp1QixLQUFLK21CLE1BQU11RyxhQUd0QjVvQixFQUFBLFdBQUFTLGNsQjg3RUssT2tCOTdFQUMsVUFBVSwyQkFDWFYsRUFBQSxXQUFBUyxjQUFBc2dCLEVBQUEsWUFDSWxaLElBQUksYUFDSm1iLFNBQVcxbkIsS0FBS2lYLE1BQU15USxTQUN0QmdILFdBQVkxdUIsS0FBSzJ1QixxQkFBcUJ6RSxLQUFLbHFCLE1BQzNDZ1AsWUFBY2hQLEtBQUtpWCxNQUFNakksWUFDekI0ZixnQkFBaUI1dUIsS0FBS21LLE1BQU12QyxRQUFRZ25CLGlCQUFtQmhxQixFQUFBLFdBQU1qQyxtQkFDN0Rrc0IsZUFBZ0I3dUIsS0FBS21LLE1BQU12QyxRQUFRaW5CLGdCQUFrQmpxQixFQUFBLFdBQU1oQyxnQkFDM0RxTCxPQUFRak8sS0FBSzBvQixxQkFDYjZGLFNBQVVBLEVBQ1ZPLGtCQUFtQjl1QixLQUFLbUssTUFBTXZDLFFBQVFrbkIsa0JBQ3RDQyxRQUFTL3VCLEtBQUttSyxNQUFNdkMsUUFBUW1uQixTQUFXbnFCLEVBQUEsV0FBTTFDLFNBQzdDOHNCLFNBQVVodkIsS0FBS21LLE1BQU12QyxRQUFRb25CLFVBQVlwcUIsRUFBQSxXQUFNNUMsVUFDL0NpdEIsVUFBV2p2QixLQUFLbUssTUFBTXZDLFFBQVFxbkIsV0FBYXJxQixFQUFBLFdBQU16QyxXQUNqRCtzQixTQUFVbHZCLEtBQUttSyxNQUFNdkMsUUFBUXNuQixVQUFZdHFCLEVBQUEsV0FBTTNDLGFBSy9ELE1BQU8sU2xCaThFTm1DLElBQUssZ0JBQ0xqRCxNa0IvN0VRLFdBQ1QsR0FBSWd1QixHQUF5Qm52QixLQUFLbUssTUFBTXFkLFdBQWF4bkIsS0FBS21LLE1BQU1xZCxVQUFVeFosZ0JBQzFFLElBQUltaEIsR0FDR252QixLQUFLbUssTUFBTWlsQixXQUNYcHZCLEtBQUttSyxNQUFNNGpCLFdBQ1gvdEIsS0FBS21LLE1BQU1tRSxRQUNYdE8sS0FBS21LLE1BQU1rbEIsVUFBVyxDQUN6QixHQUFJL0UsR0FBTzlsQixNQXlCWCxPQXZCSThsQixHQURBcm1CLE1BQU1DLFFBQVFsRSxLQUFLbUssTUFBTTRkLFVBQ2YvbkIsS0FBS21LLE1BQU00ZCxTQUFTaGdCLElBQUksU0FBVWlnQixHQUN4QyxHQUFJN2QsR0FBUTZkLEVBQU83ZCxLQUNuQixRQUNJd0ssS0FBTXhLLEVBQU00ZCxTQUNadUgsTUFBT25sQixFQUFNK2QsVUFFYnFILFVBQVdwbEIsRUFBTW9sQixZQUFhLEVBRTlCbG9CLFNBQVU4QyxFQUFNOUMsVUFBdUMsa0JBQW5COEMsR0FBTTlDLFNBQTJCOEMsRUFBTTlDLFdBQWE4QyxFQUFNOUMsU0FDOUZtb0IsY0FBZXJsQixFQUFNcWxCLGNBQ3JCam9CLE9BQVE0QyxFQUFNK2UsV0FBYSxTQUFVL25CLEdBQ2pDLE1BQU9nSixHQUFNK2UsV0FBVy9uQixFQUFPLEtBQU1nSixFQUFNZ0csaUJBQWlCekgsUUFBUSxTQUFVLE1BQzlFLE9BS1JpTSxLQUFNM1UsS0FBS21LLE1BQU00ZCxTQUFTNWQsTUFBTTRkLFNBQ2hDdUgsTUFBT3R2QixLQUFLbUssTUFBTTRkLFNBQVM1ZCxNQUFNK2QsVUFDakM3Z0IsU0FBVXJILEtBQUttSyxNQUFNNGQsU0FBUzVkLE1BQU05QyxTQUNwQ21vQixjQUFleHZCLEtBQUttSyxNQUFNNGQsU0FBUzVkLE1BQU1xbEIsZ0JBSTdDOXFCLEVBQUEsV0FBQVMsY2xCMjdFSyxPa0IzN0VBQyxVQUFVLFlBQ1hWLEVBQUEsV0FBQVMsY0FBQXdnQixFQUFBLFlBQ0k4SixZQUFhenZCLEtBQUttSyxNQUFNdkMsUUFBUTZuQixZQUNoQ0MsYUFBYzF2QixLQUFLbUssTUFBTWlsQixVQUN6Qk8sYUFBYzN2QixLQUFLbUssTUFBTTRqQixVQUN6QjZCLGFBQWM1dkIsS0FBS21LLE1BQU1tRSxPQUN6QnVoQixnQkFBaUI3dkIsS0FBS21LLE1BQU1rbEIsVUFDNUJGLHVCQUF3QkEsRUFDeEI3RSxRQUFTQSxFQUNUd0Ysa0JBQW1COXZCLEtBQUttSyxNQUFNMmxCLGtCQUM5QkMsU0FBVS92QixLQUFLZ3dCLGFBQWE5RixLQUFLbHFCLE1BQ2pDaXdCLGNBQWVqd0IsS0FBS2t3QixrQkFBa0JoRyxLQUFLbHFCLE1BQzNDbXdCLFVBQVdud0IsS0FBS293QixjQUFjbEcsS0FBS2xxQixNQUNuQ3F3QixTQUFVcndCLEtBQUtzd0IsYUFBYXBHLEtBQUtscUIsTUFDakN1d0IsWUFBYXZ3QixLQUFLd3dCLGdCQUFnQnRHLEtBQUtscUIsTUFDdkN5d0IsbUJBQW9CendCLEtBQUswd0IsdUJBQXVCeEcsS0FBS2xxQixTQUtqRSxNQUFPLFNsQis3RVZvRSxJQUFLLG9CQUNMakQsTWtCNTdFWSxTQUFDbXBCLEdBQ2QsTUFBSXRxQixNQUFLbUssTUFBTXdtQixhQUVQanNCLEVBQUEsV0FBQVMsY0FBQTBnQixFQUFBLFlBQWF5RSxRQUFTQSxFQUNUTyxjQUFlN3FCLEtBQUttSyxNQUFNcWQsVUFBVXZiLEtBQ3BDMmtCLFNBQVU1d0IsS0FBS3VuQixpQkFBaUIyQyxLQUFLbHFCLFFBRy9DLFNBOXBCYjBCLEdBQXVCZ0QsRUFBQSxXQUFNK0gsVUFrckJuQy9LLEdBQWV1UixXQUNYL0UsU0FBVXhKLEVBQUEsV0FBTWdPLFVBQVVFLE9BQzFCOU0sT0FBUXBCLEVBQUEsV0FBTWdPLFVBQVVFLE9BQ3hCeVgsVUFBVzNsQixFQUFBLFdBQU1nTyxVQUFVRSxPQUMzQjBZLFFBQVM1bUIsRUFBQSxXQUFNZ08sVUFBVUUsT0FDekJ4RixLQUFNMUksRUFBQSxXQUFNZ08sVUFBVUMsV0FBV2pPLEVBQUEsV0FBTWdPLFVBQVUrQyxNQUFPL1EsRUFBQSxXQUFNZ08sVUFBVTlILFNBQ3hFcUQsT0FBUXZKLEVBQUEsV0FBTWdPLFVBQVVVLEtBQ3hCb1ksUUFBUzltQixFQUFBLFdBQU1nTyxVQUFVVSxLQUN6QitYLFNBQVV6bUIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDMUJxWSxNQUFPL21CLEVBQUEsV0FBTWdPLFVBQVVVLEtBQ3ZCZ1ksVUFBVzFtQixFQUFBLFdBQU1nTyxVQUFVVSxLQUMzQnFWLFdBQVkvakIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDNUIwYyxrQkFBbUJwckIsRUFBQSxXQUFNZ08sVUFBVUUsT0FDbkM0VSxVQUFXOWlCLEVBQUEsV0FBTWdPLFVBQVVtZSxPQUN2QjVrQixLQUFNdkgsRUFBQSxXQUFNZ08sVUFBVW9lLE9BQ2xCbHNCLEVBQUEsV0FBTXZDLGdCQUNOdUMsRUFBQSxXQUFNdEMsa0JBQ05zQyxFQUFBLFdBQU1yQyxtQkFFVnd1QixRQUFTcnNCLEVBQUEsV0FBTWdPLFVBQVVFLE9BQ3pCOUUsU0FBVXBKLEVBQUEsV0FBTWdPLFVBQVUrQyxNQUMxQmdKLFNBQVUvWixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDMUIyWSxZQUFhL25CLEVBQUEsV0FBTWdPLFVBQVVvQixLQUM3QnFXLGNBQWV6bEIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDL0IwWCxpQkFBa0JwbUIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDbEM0ZCx5QkFBMEJ0c0IsRUFBQSxXQUFNZ08sVUFBVVUsS0FDMUNwRixpQkFBa0J0SixFQUFBLFdBQU1nTyxVQUFVVSxPQUV0QzJXLFNBQVVybEIsRUFBQSxXQUFNZ08sVUFBVW1lLE9BQ3RCNWtCLEtBQU12SCxFQUFBLFdBQU1nTyxVQUFVRSxPQUN0QnFlLFdBQVl2c0IsRUFBQSxXQUFNZ08sVUFBVVUsS0FDNUIwWixjQUFlcG9CLEVBQUEsV0FBTWdPLFVBQVVvQixPQUVuQ3NiLFVBQVcxcUIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDM0IyYSxVQUFXcnBCLEVBQUEsV0FBTWdPLFVBQVVVLEtBQzNCOUUsT0FBUTVKLEVBQUEsV0FBTWdPLFVBQVVVLEtBQ3hCdWQsYUFBY2pzQixFQUFBLFdBQU1nTyxVQUFVVSxLQUM5Qm1ZLFlBQWE3bUIsRUFBQSxXQUFNZ08sVUFBVXNCLElBQzdCcE0sUUFBU2xELEVBQUEsV0FBTWdPLFVBQVVtZSxPQUNyQjdELGdCQUFpQnRvQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDakMyYixZQUFhL3FCLEVBQUEsV0FBTWdPLFVBQVVVLEtBQzdCdVYsU0FBVWprQixFQUFBLFdBQU1nTyxVQUFVRSxPQUMxQmdXLFVBQVdsa0IsRUFBQSxXQUFNZ08sVUFBVUUsT0FDM0JrWCxtQkFBb0JwbEIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQ3BDb2EsZUFBZ0J4cEIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQ2hDeVosZUFBZ0I3b0IsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQ2hDd2EsWUFBYTVwQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDN0JxYSxrQkFBbUJ6cEIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQ25DNlgsV0FBWWpuQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDNUI2VCxLQUFNampCLEVBQUEsV0FBTWdPLFVBQVUxQyxPQUN0QjRlLGdCQUFpQmxxQixFQUFBLFdBQU1nTyxVQUFVK0MsTUFDakN6RyxZQUFhdEssRUFBQSxXQUFNZ08sVUFBVTFDLE9BQzdCNmUsZUFBZ0JucUIsRUFBQSxXQUFNZ08sVUFBVTFDLE9BQ2hDdWMsYUFBYzduQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDOUIwWSxhQUFjOW5CLEVBQUEsV0FBTWdPLFVBQVVvQixLQUM5QmdiLGtCQUFtQnBxQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDbkNxWSxXQUFZem5CLEVBQUEsV0FBTWdPLFVBQVVFLE9BQzVCa2IsdUJBQXdCcHBCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUN4Q2liLFFBQVNycUIsRUFBQSxXQUFNZ08sVUFBVUUsT0FDekJvYyxTQUFVdHFCLEVBQUEsV0FBTWdPLFVBQVVFLE9BQzFCcWMsVUFBV3ZxQixFQUFBLFdBQU1nTyxVQUFVRSxPQUMzQnNjLFNBQVV4cUIsRUFBQSxXQUFNZ08sVUFBVUUsU0FFOUI0YixVQUFXOXBCLEVBQUEsV0FBTWdPLFVBQVVtZSxPQUN2QnBDLGNBQWUvcEIsRUFBQSxXQUFNZ08sVUFBVTFDLFNBRW5DcWYsVUFBVzNxQixFQUFBLFdBQU1nTyxVQUFVVSxLQUMzQmliLFlBQWEzcEIsRUFBQSxXQUFNZ08sVUFBVUUsUUFHakNsUixFQUFld3ZCLGNBQ1hwckIsT0FBUSxPQUNSdWtCLFVBQVc3bEIsT0FDWDhtQixRQUFTOW1CLE9BQ1RnbkIsU0FBUyxFQUNUTCxVQUFVLEVBQ1ZNLE9BQU8sRUFDUEwsV0FBVyxFQUNYM0MsWUFBWSxFQUNacUgsa0JBQW1CdHJCLE9BQ25CZ2pCLFdBQ0l2YixLQUFNckgsRUFBQSxXQUFNdkMsZ0JBQ1owdUIsUUFBU25zQixFQUFBLFdBQU14QyxvQkFDZjBMLFlBQ0EyUSxTQUFVamEsT0FDVmlvQixZQUFham9CLE9BQ2IybEIsZUFBZSxFQUNmVyxrQkFBa0IsRUFDbEJrRywwQkFBMEIsRUFDMUJoakIsa0JBQWtCLEdBRXRCK2IsVUFDSTlkLEtBQU1ySCxFQUFBLFdBQU1wQyxlQUNaeXVCLFlBQVksRUFDWm5FLGNBQWV0b0IsUUFFbkI0cUIsV0FBVyxFQUNYckIsV0FBVyxFQUNYemYsUUFBUSxFQUNSUCxtQkFBbUIsRUFDbkI0aUIsY0FBYyxFQUNkcEYsWUFBYSxHQUNiM2pCLFNBQ0k2bkIsYUFBYSxFQUNiOUcsU0FBVW5rQixPQUNWb2tCLFVBQVdwa0IsT0FDWHNsQixtQkFBb0J0bEIsT0FDcEIwcEIsZUFBZ0IxcEIsT0FDaEIrb0IsZUFBZ0Ivb0IsT0FDaEI4cEIsWUFBYTlwQixPQUNiMnBCLGtCQUFtQjNwQixPQUNuQm1uQixXQUFZbm5CLE9BQ1pnZCxhQUFjaGQsT0FDZDhjLGFBQWM5YyxPQUNkdW5CLGNBQWV2bkIsT0FDZnFuQixlQUFnQnJuQixPQUNoQm1qQixLQUFNbmpCLE9BQ05vcUIsZ0JBQWlCaHFCLEVBQUEsV0FBTWpDLG1CQUN2QnFNLFlBQWF4SyxPQUNicXFCLGVBQWdCanFCLEVBQUEsV0FBTWhDLGdCQUN0QmtzQixrQkFBbUJ0cUIsT0FDbkIybkIsV0FBWTNuQixPQUNac3BCLHVCQUF3QnRwQixPQUN4QnVxQixRQUFTbnFCLEVBQUEsV0FBTTFDLFNBQ2Y4c0IsU0FBVXBxQixFQUFBLFdBQU01QyxVQUNoQml0QixVQUFXcnFCLEVBQUEsV0FBTXpDLFdBQ2pCK3NCLFNBQVV0cUIsRUFBQSxXQUFNM0MsV0FFcEJ1c0IsV0FDSUMsY0FBZSxHQUVuQlksV0FBVyxFQUNYaEIsWUFBYTdwQixRbEI2NkVoQjdFLEVBQVEsV2tCMTZFTStCLEVsQjI2RWQ5QixFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDM0J3QixPQUFPLEdBR1gsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjRyxFQUFTdkUsRW1CdHdHSSxHbkJ3d0did0UsRUFBVS9ELEVBQXVCOEQsR21CdndHbEN1SSxFQUFlOU0sRUFBUSxJQUFVOE0sYUFFeEJpYixFQUFNLFNBQUFoYixHQUNKLFFBREZnYixHQUNHL2EsR25CNHdHUGpFLEVBQWdCbkosS21CN3dHWm1vQixHQUVMNWQsRUFBQXRKLE9BQUFvSyxlQUZLOGMsRUFBTXBoQixXQUFBLGNBQUEvRyxNQUFBUyxLQUFBVCxLQUVMb04sR0FDTnBOLEtBQUtzbkIsaUJuQnl5R1IsTUFsQ0EvZCxHbUIxd0dRNGUsRUFBTWhiLEduQm14R2RsRCxFbUJueEdRa2UsSW5Cb3hHSi9qQixJQUFLLGVBQ0xqRCxNbUIvd0dPLFNBQUMrbUIsRUFBVy9tQixFQUFPdUcsR0FDM0IsR0FBTXlwQixHQUFhenBCLEdBQVE5QyxFQUFBLFdBQU0zQixZQUFZSyxNQUU3QyxJQUFhLE1BQVRuQyxHQUFrQyxnQkFBVkEsR0FBb0IsQ0FFNUMsR0FBSWl3QixJQUFXLENBQ2YsS0FBSyxHQUFJQyxLQUFRbHdCLEdBQ2IsSUFBS0EsRUFBTWt3QixJQUF5QixLQUFoQmx3QixFQUFNa3dCLEdBQWMsQ0FDcENELEdBQVcsQ0FDWCxPQUlQQSxFQUFZcHhCLEtBQUtzbkIsY0FBY1ksSUFBYy9tQixNQUFPQSxFQUFPdUcsS0FBTXlwQixTQUFxQm54QixNQUFLc25CLGNBQWNZLE9BQ2xHL21CLElBQTBCLEtBQWpCQSxFQUFNK1AsT0FHdkJsUixLQUFLc25CLGNBQWNZLElBQWMvbUIsTUFBT0EsRUFBTStQLE9BQVF4SixLQUFNeXBCLFNBRnJEbnhCLE1BQUtzbkIsY0FBY1ksRUFJOUJsb0IsTUFBS3FOLEtBQUssaUJBQWtCck4sS0FBS3NuQixtQkF6QjVCYSxHQUFlamIsRW5CK3lHM0J2TixHQUFRd29CLE9BQVNBLEdBSVosU0FBU3ZvQixFQUFRRCxFQUFTUyxHQUUvQixZQVVBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBRXpGLFFBQVNxSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlILFdBQVUsaUVBQW9FRyxHQUFlRCxHQUFTekMsVUFBWTlGLE9BQU95SSxPQUFPRCxHQUFjQSxFQUFXMUMsV0FBYTRDLGFBQWV4SSxNQUFPcUksRUFBVUksWUFBWSxFQUFPQyxVQUFVLEVBQU1DLGNBQWMsS0FBZUwsSUFBWXhJLE9BQU84SSxlQUFpQjlJLE9BQU84SSxlQUFlUCxFQUFVQyxHQUFjRCxFQUFTUSxVQUFZUCxHQVpqZXhJLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxHQUdULElBQUk4SSxHQUFlLFdBQWUsUUFBU0MsR0FBaUJyRCxFQUFRc0Q7QUFBUyxJQUFLLEdBQUl4RyxHQUFJLEVBQUdBLEVBQUl3RyxFQUFNdEcsT0FBUUYsSUFBSyxDQUFFLEdBQUl5RyxHQUFhRCxFQUFNeEcsRUFBSXlHLEdBQVdSLFdBQWFRLEVBQVdSLGFBQWMsRUFBT1EsRUFBV04sY0FBZSxFQUFVLFNBQVdNLEtBQVlBLEVBQVdQLFVBQVcsR0FBTTVJLE9BQU9DLGVBQWUyRixFQUFRdUQsRUFBV2hHLElBQUtnRyxJQUFpQixNQUFPLFVBQVVmLEVBQWFnQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUgsRUFBaUJiLEVBQVl0QyxVQUFXc0QsR0FBaUJDLEdBQWFKLEVBQWlCYixFQUFhaUIsR0FBcUJqQixNQUU3aEJrQixFQUFPLFNBQWFDLEVBQUlDLEVBQUtDLEdBQXFDLElBQTlCLEdBQUlDLElBQVMsRUFBd0JBLEdBQVEsQ0FBRSxHQUFJQyxHQUFTSixFQUFJSyxFQUFXSixFQUFLSyxFQUFXSixDQUFLQyxJQUFTLEVBQXNCLE9BQVhDLElBQWlCQSxFQUFTRyxTQUFTaEUsVUFBVyxJQUFJaUUsR0FBTy9KLE9BQU9nSyx5QkFBeUJMLEVBQVFDLEVBQVcsSUFBYXJHLFNBQVR3RyxFQUFKLENBQTRPLEdBQUksU0FBV0EsR0FBUSxNQUFPQSxHQUFLN0osS0FBZ0IsSUFBSStKLEdBQVNGLEVBQUtHLEdBQUssSUFBZTNHLFNBQVgwRyxFQUF3QixNQUFvQixPQUFPQSxHQUFPekssS0FBS3FLLEdBQS9WLEdBQUlNLEdBQVNuSyxPQUFPb0ssZUFBZVQsRUFBUyxJQUFlLE9BQVhRLEVBQW1CLE1BQTJCWixHQUFLWSxFQUFRWCxFQUFNSSxFQUFVSCxFQUFNSSxFQUFVSCxHQUFTLEVBQU1LLEVBQU9JLEVBQVM1RyxTQVF4Y0MsRUFBU3JFLEVvQngwR0ksR3BCMDBHYnNFLEVBQVU3RCxFQUF1QjRELEdBRWpDSSxFQUFjekUsRW9CMzBHRSxHcEIrMEdoQnVFLEdBRmU5RCxFQUF1QmdFLEdBRTdCekUsRW9COTBHSSxJQUVaa3hCLEdwQjgwR1N6d0IsRUFBdUI4RCxHb0I5MEdYLFNBQUFpSCxHcEJtMUd4QixRb0JuMUdHMGxCLEtwQm8xR0Rub0IsRUFBZ0JuSixLb0JwMUdmc3hCLEdwQnMxR0QvbUIsRUFBS3RKLE9BQU9vSyxlb0J0MUdYaW1CLEVBQXFCdnFCLFdBQUEsY0FBQS9HLE1BQUFtRSxNQUFBbkUsS0FBQTRELFdwQjQyR3hCLE1BM0JBMkYsR29CajFHRytuQixFQUFxQjFsQixHcEJ5MUd4QjNCLEVvQnoxR0dxbkIsSXBCMDFHRGx0QixJQUFLLFNBQ0xqRCxNb0J6MUdHLFdBQ0osR0FBSW93QixJQUNGMXJCLE1BQU8yckIsU0FBU3h4QixLQUFLbUssTUFBTXRFLE9BQU83RixLQUFLbUssTUFBTXRFLE1BQU0sR0FHckQsT0FDRW5CLEdBQUEsV0FBQVMsY3BCeTFHRyxNb0J6MUdDRyxNQUFPaXNCLEdBQ1Q3c0IsRUFBQSxXQUFBUyxjcEIyMUdHLE9vQjMxR0VDLFVBQVUsZ0NBQ1pwRixLQUFLbUssTUFBTTRkLGVBVmhCdUosR0FBOEI1c0IsRUFBQSxXQUFNK0gsV3BCKzJHekM5TSxHQUFRLFdvQjkxR00yeEIsRXBCKzFHZDF4QixFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDN0J3QixPQUFPLEdBR1QsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRXFCMTRHSSxHckI0NEdic0UsRUFBVTdELEVBQXVCNEQsR0FFakNFLEVBQVN2RSxFcUI3NEdJLEdyQis0R2J3RSxFQUFVL0QsRUFBdUI4RCxHQUVqQzhzQixFQUFRcnhCLEVxQmg1R0ksR3JCazVHWnN4QixFQUFTN3dCLEVBQXVCNHdCLEdBRWhDRSxFQUFZdnhCLEVxQm41R0ksSXJCcTVHaEJ3eEIsRUFBYS93QixFQUF1Qjh3QixHQUVwQ0UsRUFBZXp4QixFcUJ0NUdJLElyQnc1R25CMHhCLEVBQWdCanhCLEVBQXVCZ3hCLEdBRXZDRSxFQUFtQjN4QixFcUJ6NUdJLElyQjI1R3ZCNHhCLEVBQW9CbnhCLEVBQXVCa3hCLEdBRTNDbHRCLEVBQWN6RSxFcUI1NUdFLEdyQjg1R2hCMEUsRUFBZWpFLEVBQXVCZ0UsR3FCNTVHdkNvdEIsRUFBTSxTQUFTbnhCLEdBQ2pCLE1BQU9BLElBQW1CLGtCQUFOQSxJQUdoQm94QixFQUFTLFNBQUF0bUIsR0FFRixRQUZQc21CLEdBRVEvbkIsR3JCZzZHVGhCLEVBQWdCbkosS3FCbDZHZmt5QixHQUdGM25CLEVBQUF0SixPQUFBb0ssZUFIRTZtQixFQUFTbnJCLFdBQUEsY0FBQS9HLE1BQUFTLEtBQUFULEtBR0xtSyxHQUNObkssS0FBS2lYLE9BQ0hrYixhQUFjLE1BRWhCbnlCLEtBQUtveUIsU0FBVSxFckI4dEhoQixNQXRVQTdvQixHcUIvNUdHMm9CLEVBQVN0bUIsR3JCMjZHWjNCLEVxQjM2R0dpb0IsSXJCNDZHRDl0QixJQUFLLG9CQUNMakQsTXFCbjZHYyxXQUNmbkIsS0FBS3F5QixnQnJCczZHSmp1QixJQUFLLHFCQUNMakQsTXFCcDZHZSxXQUNoQm5CLEtBQUtxeUIsZ0JyQnU2R0pqdUIsSUFBSyxTQUNMakQsTXFCcjZHRyxXQUNKLEdBQUlteEIsSUFBbUIsRUFBQXh0QixFQUFBLFlBQVMsbUJBRTVCeXRCLEdBQWUsRUFBQXp0QixFQUFBLFlBQVMsU0FDMUIwdEIsZ0JBQWlCeHlCLEtBQUttSyxNQUFNcWhCLFFBQzVCaUgsaUJBQWtCenlCLEtBQUttSyxNQUFNZ2hCLFNBQzdCdUgsY0FBZTF5QixLQUFLbUssTUFBTXNoQixNQUMxQmtILGtCQUFtQjN5QixLQUFLbUssTUFBTWloQixZQUc1QndILEVBQXFCNXlCLEtBQUs2eUIsc0JBQzFCQyxFQUFjOXlCLEtBQUsreUIsa0JBQWtCSCxHQUVyQ0ksRUFBWWh6QixLQUFLbUssTUFBTWlELEtBQUtyRixJQUFJLFNBQVNxRixFQUFNb2dCLEdBQ2pELEdBQUl5RixHQUFlanpCLEtBQUttSyxNQUFNbWdCLFFBQVF2aUIsSUFBSSxTQUFTaWdCLEVBQVFya0IsR0FDekQsR0FBSXV2QixHQUFhOWxCLEVBQUs0YSxFQUFPclQsS0FDN0IsSUFBRzNVLEtBQUtveUIsU0FDTnBLLEVBQU9yVCxPQUFTM1UsS0FBS21LLE1BQU0rRCxVQUMzQjhaLEVBQU8zZ0IsVUFDb0IsTUFBM0JySCxLQUFLaVgsTUFBTWtiLGNBQ1hueUIsS0FBS2lYLE1BQU1rYixhQUFhZ0IsS0FBTzNGLEdBQy9CeHRCLEtBQUtpWCxNQUFNa2IsYUFBYWlCLEtBQU96dkIsRUFBRSxDQUMvQixHQUFJNEQsR0FBT3lnQixFQUFPemdCLE9BQU8sU0FBU3BHLEdBQ2hDLE1BQU82bUIsR0FBT3pnQixPQUFPcEcsRUFBT2lNLEVBQU00YSxFQUFPN1gsaUJBQWlCekgsUUFBUSxTQUFTLE1BQzNFLENBRUosT0FDSWhFLEdBQUEsV0FBQVMsY3JCazZHQzZzQixFQUFrQixZcUJsNkdGcUIsYUFBY3J6QixLQUFLc3pCLHVCQUF1QnBKLEtBQUtscUIsTUFFL0NxSCxTQUFVNHFCLEVBQU1qSyxFQUFPM2dCLFVBQVUyZ0IsRUFBTzNnQixTQUFTNnJCLEVBQVc5bEIsRUFBS29nQixFQUFFN3BCLEdBQUdxa0IsRUFBTzNnQixTQUM3RUUsT0FBUXlnQixFQUFPemdCLE9BQU9BLEdBQU8sRUFDN0JuRCxJQUFLVCxFQUNMc3RCLFdBQVlqeEIsS0FBS21LLE1BQU00ZixTQUFTa0gsV0FDaEM3aEIsU0FBVW9lLEVBQ1ZaLFNBQVVqcEIsR0FDeEJ1dkIsR0FLUCxHQUFJSyxHQUFZdEIsRUFBTWpLLEVBQU81aUIsV0FBVzRpQixFQUFPNWlCLFVBQVU4dEIsRUFBVzlsQixFQUFLb2dCLEVBQUU3cEIsR0FBR3FrQixFQUFPNWlCLFNBRXJGLElBQTRCLG1CQUFsQjRpQixHQUFPemdCLE9BQXVCLENBQ3RDLEdBQUlpc0IsR0FBaUJ4TCxFQUFPemdCLE9BQU8yckIsRUFBWTlsQixFQUFNNGEsRUFBTzdYLGdCQUk1RCxPQUhLekwsR0FBQSxXQUFNK3VCLGVBQWVELEtBQ3hCQSxFQUFpQjl1QixFQUFBLFdBQUFTLGNBQUEsT0FBS2lZLHlCQUEwQkMsT0FBUW1XLE1BR3hEOXVCLEVBQUEsV0FBQVMsY3JCazZHRzJzQixFQUFjLFlxQmw2R0o5SSxVQUFXaEIsRUFBT2UsTUFDbEIza0IsSUFBS1QsRUFDTHlCLFVBQVdtdUIsRUFDWHhKLFNBQVUvcEIsS0FBS21LLE1BQU00ZixTQUNyQnhZLE9BQVF5VyxFQUFPelcsT0FDZm1pQixPQUFRMXpCLEtBQUtpcUIsZUFBZUMsS0FBS2xxQixNQUNqQzZGLE1BQU9taUIsRUFBT25pQixPQUN4QjJ0QixHQUlMLE1BQ0U5dUIsR0FBQSxXQUFBUyxjckJrNkdHMnNCLEVBQWMsWXFCbDZHSjlJLFVBQVdoQixFQUFPZSxNQUNsQjNrQixJQUFLVCxFQUNMeUIsVUFBV211QixFQUNYeEosU0FBVS9wQixLQUFLbUssTUFBTTRmLFNBQ3JCeFksT0FBUXlXLEVBQU96VyxPQUNmbWlCLE9BQVExekIsS0FBS2lxQixlQUFlQyxLQUFLbHFCLE1BQ2pDNkYsTUFBT21pQixFQUFPbmlCLE9BQ3hCcXRCLElBS1JsekIsTUFDQzhOLEVBQTRFLElBQWpFOU4sS0FBS21LLE1BQU1vRSxnQkFBZ0JtQixRQUFRdEMsRUFBS3BOLEtBQUttSyxNQUFNK0QsV0FDOUR5bEIsRUFBa0JmLElBQXVCNXlCLEtBQUttSyxNQUFNcWQsVUFBVXNELGlCQUMxQzlxQixLQUFLNHpCLHNCQUFzQjlsQixHQUFVLEtBRXpEeWQsRUFBWTBHLEVBQU1qeUIsS0FBS21LLE1BQU1vaEIsYUFBYXZyQixLQUFLbUssTUFBTW9oQixZQUFZbmUsRUFBS29nQixHQUFHeHRCLEtBQUttSyxNQUFNb2hCLFdBQ3hGLE9BQ0U3bUIsR0FBQSxXQUFBUyxjckJpNkdHeXNCLEVBQVcsWXFCajZHSjNULFdBQVluUSxFQUFVMUosSUFBS29wQixFQUFHcG9CLFVBQVdtbUIsRUFDakQvRCxVQUFXb0wsRUFBbUI1eUIsS0FBS21LLE1BQU1xZCxVQUFVaGpCLE9BQ25EcXZCLGVBQWdCN3pCLEtBQUttSyxNQUFNNGYsU0FBUzlkLE9BQVNySCxFQUFBLFdBQU1wQyxlQUNuRG1wQixXQUFZM3JCLEtBQUs0ckIsZUFBZTFCLEtBQUtscUIsTUFDckM2ckIsZUFBZ0I3ckIsS0FBSzhyQixtQkFBbUI1QixLQUFLbHFCLE1BQzdDK3JCLGNBQWUvckIsS0FBS2dzQixrQkFBa0I5QixLQUFLbHFCLE1BQzNDaXNCLFlBQWFqc0IsS0FBS2tzQixnQkFBZ0JoQyxLQUFLbHFCLE9BQ3RDMnpCLEVBQ0FWLElBR0pqekIsS0FFcUIsS0FBckJnekIsRUFBVW52QixRQUNYbXZCLEVBQVVodkIsS0FDVlUsRUFBQSxXQUFBUyxjckJpNkdLeXNCLEVBQVcsWXFCajZHTnh0QixJQUFJLG1CQUNaTSxFQUFBLFdBQUFTLGNyQm02R0ssTXFCbjZHRDJ1QixRQUFTOXpCLEtBQUttSyxNQUFNbWdCLFFBQVF6bUIsUUFBUSt1QixFQUFtQixFQUFFLEdBQ3pEeHRCLFVBQVUsMEJBQ1RwRixLQUFLbUssTUFBTWdpQixZQUFZdm5CLEVBQUEsV0FBTS9CLGdCQUt0QzdDLEtBQUtveUIsU0FBVSxDQUVmLElBQUl0c0IsR0FBUzlGLEtBQUsrekIsMkJBQTJCbnJCLFVBRTdDLE9BQ0VsRSxHQUFBLFdBQUFTLGNyQm82R0csT3FCcDZHRW9ILElBQUksWUFBWW5ILFVBQVdrdEIsRUFBa0JodEIsT0FBUVEsT0FBUUEsSUFDaEVwQixFQUFBLFdBQUFTLGNyQnM2R0csU3FCdDZHSW9ILElBQUksT0FBT25ILFVBQVdtdEIsR0FDMUJPLEVBQ0RwdUIsRUFBQSxXQUFBUyxjckJ3NkdHLFFBQ0EsS3FCeDZHQTZ0QixRckIrNkdSNXVCLElBQUssb0JBQ0xqRCxNcUJ6NkdjLFNBQUN5eEIsR0FDaEIsR0FBSW9CLEdBQWtCLElBRXRCLElBQUdwQixFQUFtQixDQUNwQixHQUFJdHRCLElBQ0ZPLE1BQU0sR0FDTmdYLFNBQVMsR0FFWG1YLEdBQWtCaDBCLEtBQUttSyxNQUFNcWQsVUFBVXNELGlCQUFpQixLQUFNcG1CLEVBQUEsV0FBQVMsY0FBQSxNQUFJRyxNQUFPQSxFQUFPbEIsSUFBSyxLQUV2RixHQUFJNnZCLEdBQVVqMEIsS0FBS21LLE1BQU1tZ0IsUUFBUXZpQixJQUFJLFNBQVNpZ0IsRUFBUXJrQixHQUNwRCxHQUFJa0MsR0FBd0IsTUFBaEJtaUIsRUFBT25pQixNQUFjbWlCLEVBQU9uaUIsTUFBTTJyQixTQUFTeEosRUFBT25pQixPQUMxRFAsR0FDRnNYLFFBQVNvTCxFQUFPelcsT0FBTyxPQUFPLEtBQzlCMUwsTUFBT0EsRUFDUHF1QixTQUFVcnVCLEdBR1JzdUIsRUFBWW5NLEVBQU9qYixLQUFNMmtCLEVBQUEsV0FBS2pzQixxQkFBcUJiLEVBQUEsV0FBTS9DLFdBQVksSUFDekUsT0FBUTZDLEdBQUEsV0FBQVMsY3JCMDZHSCxNcUIxNkdPRyxNQUFPQSxFQUFPbEIsSUFBS1QsRUFBR3lCLFVBQVc0aUIsRUFBTzVpQixXQUFZNGlCLEVBQU8zVyxLQUFNOGlCLElBRy9FLE9BQ0V6dkIsR0FBQSxXQUFBUyxjckI4NkdHLFNxQjk2R0lvSCxJQUFJLFVBQ1Q3SCxFQUFBLFdBQUFTLGNyQmc3R0csS0FDQSxLcUJqN0dFNnVCLEVBQWlCQyxPckJ3N0d6Qjd2QixJQUFLLG9CQUNMakQsTXFCcDdHYyxTQUFDaU8sR0FDaEIsR0FBTWdsQixHQUFZcDBCLEtBQUttSyxNQUFNaUQsS0FBS2dDLEVBQVMsRUFDM0NwUCxNQUFLbUssTUFBTTRoQixjQUFjcUksTXJCdTdHeEJod0IsSUFBSyxxQkFDTGpELE1xQnI3R2UsU0FBQ2lPLEdBQ2pCLEdBQU1nbEIsR0FBWXAwQixLQUFLbUssTUFBTWlELEtBQUtnQyxFQUFTLEVBQzNDcFAsTUFBS21LLE1BQU0waEIsZUFBZXVJLE1yQnc3R3pCaHdCLElBQUssaUJBQ0xqRCxNcUJ0N0dXLFNBQUNpTyxHQUNiLEdBQUloTCxHQUFLaXdCLENBQ1RyMEIsTUFBS21LLE1BQU1pRCxLQUFLbUMsUUFBUSxTQUFTZCxFQUFLOUssR0FDakNBLEdBQUt5TCxFQUFTLElBQ2ZoTCxFQUFNcUssRUFBSXpPLEtBQUttSyxNQUFNK0QsVUFDckJtbUIsRUFBYzVsQixJQUVmek8sTUFDSEEsS0FBS21LLE1BQU13aEIsV0FBVzBJLE1yQnk3R3JCandCLElBQUssa0JBQ0xqRCxNcUJ2N0dZLFNBQUNpTyxFQUFVNk8sR0FDeEIsR0FBSTdaLEdBQUtpd0IsQ0FDVHIwQixNQUFLbUssTUFBTWlELEtBQUttQyxRQUFRLFNBQVNkLEVBQUs5SyxHQUNwQyxNQUFHQSxJQUFLeUwsRUFBUyxHQUNmaEwsRUFBTXFLLEVBQUl6TyxLQUFLbUssTUFBTStELFVBQ3JCbW1CLEVBQWM1bEIsR0FDUCxHQUhULFFBS0N6TyxNQUNIQSxLQUFLbUssTUFBTThoQixZQUFZb0ksRUFBYXBXLE1yQjA3R25DN1osSUFBSyw2QkFDTGpELE1xQng3R3VCLFNBQUNtSCxHQUNyQnRJLEtBQUttSyxNQUFNcWQsVUFBVTJDLGVBQWtCbnFCLEtBQUttSyxNQUFNcWQsVUFBVXdKLDBCQUM5RGh4QixLQUFLa3NCLGdCQUNINWpCLEVBQUUrZCxjQUFjaU8sY0FBY0EsY0FBY2xsQixTQUFVOUcsRUFBRStkLGNBQWMxZCxZckIyN0d6RXZFLElBQUssaUJBQ0xqRCxNcUJ4N0dXLFNBQUNpTyxFQUFVbWxCLEdBQ3ZCdjBCLEtBQUtveUIsU0FBVSxFQUNacHlCLEtBQUs2eUIsd0JBQ04wQixJQUNHdjBCLEtBQUttSyxNQUFNcWQsVUFBVXNELGtCQUN0QnlKLEtBRUpubEIsR0FDQSxJQUFJb2xCLElBQ0ZyQyxjQUNFZ0IsSUFBSy9qQixFQUNMZ2tCLElBQUttQixHQUlOdjBCLE1BQUttSyxNQUFNcWQsVUFBVXdKLDBCQUN0Qmh4QixLQUFLa3NCLGdCQUFnQjljLEVBQVMsR0FBRyxHQUVuQ3BQLEtBQUs0WSxTQUFTNGIsTXJCMDdHYnB3QixJQUFLLGFBQ0xqRCxNcUJ4N0dPLFdBQ1IsR0FBSWd4QixHQUFhbnlCLEtBQUtpWCxNQUFNa2IsWUFDekJBLElBQ0RueUIsS0FBS3N6Qix1QkFBdUIsS0FBS25CLEVBQWFnQixJQUFJaEIsRUFBYWlCLFFyQjQ3R2hFaHZCLElBQUsseUJBQ0xqRCxNcUJ6N0dtQixTQUFDZ08sRUFBUUMsRUFBVW1sQixHQUN2Q3YwQixLQUFLNFksVUFBVXVaLGFBQWMsT0FDMUIsTUFBUWhqQixHQUNUblAsS0FBS21LLE1BQU00ZixTQUFTQyxtQkFBbUI3YSxFQUFRQyxFQUFVbWxCLE1yQjI3RzFEbndCLElBQUssd0JBQ0xqRCxNcUJ6N0drQixTQUFDMk0sR0FDcEIsTUFBRzlOLE1BQUttSyxNQUFNcWQsVUFBVXZiLE1BQVFySCxFQUFBLFdBQU10QyxrQkFDNUJvQyxFQUFBLFdBQUFTLGNyQjA3R0gyc0IsRUFBYyxXQUNkLEtxQjM3R2dCcHRCLEVBQUEsV0FBQVMsY0FBQSxTQUFPdUMsS0FBSyxRQUFRaU4sS0FBSyxZQUFZaE0sUUFBU21GLEVBQVVrSCxTQUFVaFYsS0FBS3kwQiwyQkFBMkJ2SyxLQUFLbHFCLFNBRXBIMEUsRUFBQSxXQUFBUyxjckI4N0dIMnNCLEVBQWMsV0FDZCxLcUIvN0dpQnB0QixFQUFBLFdBQUFTLGNBQUEsU0FBT3VDLEtBQUssV0FBV2lCLFFBQVNtRixFQUFVa0gsU0FBVWhWLEtBQUt5MEIsMkJBQTJCdkssS0FBS2xxQixZckJxOEdoSG9FLElBQUssdUJBQ0xqRCxNcUJsOEdpQixXQUdsQixJQUFJLEdBRkF1ekIsR0FBVTEwQixLQUFLK0wsS0FBS21hLE9BQU9NLFdBQVcsR0FBR0EsV0FDekNtTyxLQUNJaHhCLEVBQUUsRUFBRUEsRUFBRSt3QixFQUFRN3dCLE9BQU9GLElBQzNCZ3hCLEVBQWUzd0IsTUFDYjZCLE1BQU02dUIsRUFBUS93QixHQUFHNEMsYUFHckIsT0FBT291QixNckJxOEdOdndCLElBQUssYUFDTGpELE1xQm44R08sV0FDUm5CLEtBQUs0MEIscUJBQ0Y1MEIsS0FBS21LLE1BQU1paEIsWUFDWnByQixLQUFLK0wsS0FBSzFGLEtBQUtmLE1BQU11dkIsVUFBWSxTQUdoQzcwQixLQUFLbUssTUFBTWtnQixXQUNabUgsU0FBU3h4QixLQUFLbUssTUFBTWtnQixXQUFhcnFCLEtBQUsrTCxLQUFLb2EsVUFBVTdOLGVBQ3JEdFksS0FBSytMLEtBQUtvYSxVQUFVN2dCLE1BQU1RLE9BQVU5RixLQUFLbUssTUFBTWtnQixVQUFZLEdBQU0sU3JCczhHbEVqbUIsSUFBSyxxQkFDTGpELE1xQm44R2UsV0FFaEIsSUFBSSxHQURBdXpCLEdBQVUxMEIsS0FBSytMLEtBQUttYSxPQUFPTSxXQUFXLEdBQUdBLFdBQ3JDN2lCLEVBQUUsRUFBRUEsRUFBRSt3QixFQUFRN3dCLE9BQU9GLElBQzNCK3dCLEVBQVEvd0IsR0FBRzJCLE1BQU1PLE1BQVE2dUIsRUFBUS93QixHQUFHNEMsWUFBYyxRckJ1OEduRG5DLElBQUssMkJBQ0xqRCxNcUJwOEdxQixXQUN0QixNQUF3QixRQUFyQm5CLEtBQUttSyxNQUFNckUsT0FBeUI5RixLQUFLbUssTUFBTXJFLE9BRXpDMHJCLFNBQVN4eEIsS0FBS21LLE1BQU1yRSxRQUFVLE1yQnU4R3RDMUIsSUFBSyxzQkFDTGpELE1xQnA4R2dCLFdBQ2pCLE1BQU9uQixNQUFLbUssTUFBTXFkLFVBQVV2YixPQUFTckgsRUFBQSxXQUFNdEMsbUJBQ3JDdEMsS0FBS21LLE1BQU1xZCxVQUFVdmIsT0FBU3JILEVBQUEsV0FBTXJDLHFCQTlSeEMydkIsR0FBa0J4dEIsRUFBQSxXQUFNK0gsVUFpUzlCeWxCLEdBQVVqZixXQUNSbk4sT0FBUXBCLEVBQUEsV0FBTWdPLFVBQVVFLE9BQ3hCeEYsS0FBTTFJLEVBQUEsV0FBTWdPLFVBQVUrQyxNQUN0QjZVLFFBQVM1bEIsRUFBQSxXQUFNZ08sVUFBVStDLE1BQ3pCK1YsUUFBUzltQixFQUFBLFdBQU1nTyxVQUFVVSxLQUN6QitYLFNBQVV6bUIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDMUJxWSxNQUFPL21CLEVBQUEsV0FBTWdPLFVBQVVVLEtBQ3ZCZ1ksVUFBVzFtQixFQUFBLFdBQU1nTyxVQUFVVSxLQUMzQmxGLFNBQVV4SixFQUFBLFdBQU1nTyxVQUFVRSxPQUMxQnJFLGdCQUFpQjdKLEVBQUEsV0FBTWdPLFVBQVUrQyxNQUNqQ2tXLFdBQVlqbkIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQzVCbVksWUFBYXZuQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDN0JxWSxXQUFZem5CLEVBQUEsV0FBTWdPLFVBQVVFLFFyQnk4RzdCalQsRUFBUSxXcUJ2OEdNdXlCLEVyQnc4R2R0eUIsRUFBT0QsUUFBVUEsRUFBUSxZQUlwQixTQUFTQyxFQUFRRCxFQUFTUyxHQUUvQixZQVlBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBRXpGLFFBQVNxSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlILFdBQVUsaUVBQW9FRyxHQUFlRCxHQUFTekMsVUFBWTlGLE9BQU95SSxPQUFPRCxHQUFjQSxFQUFXMUMsV0FBYTRDLGFBQWV4SSxNQUFPcUksRUFBVUksWUFBWSxFQUFPQyxVQUFVLEVBQU1DLGNBQWMsS0FBZUwsSUFBWXhJLE9BQU84SSxlQUFpQjlJLE9BQU84SSxlQUFlUCxFQUFVQyxHQUFjRCxFQUFTUSxVQUFZUCxHQWRqZXhJLE9BQU9DLGVBQWV2QixFQUFTLGNBQzNCd0IsT0FBTyxHQUdYLElBQUl3RixHQUFXMUYsT0FBTzJGLFFBQVUsU0FBVUMsR0FBVSxJQUFLLEdBQUlsRCxHQUFJLEVBQUdBLEVBQUlDLFVBQVVDLE9BQVFGLElBQUssQ0FBRSxHQUFJbUQsR0FBU2xELFVBQVVELEVBQUksS0FBSyxHQUFJUyxLQUFPMEMsR0FBYzdGLE9BQU84RixVQUFVeEMsZUFBZTlELEtBQUtxRyxFQUFRMUMsS0FBUXlDLEVBQU96QyxHQUFPMEMsRUFBTzFDLElBQVksTUFBT3lDLElBRW5Qb0QsRUFBZSxXQUFlLFFBQVNDLEdBQWlCckQsRUFBUXNELEdBQVMsSUFBSyxHQUFJeEcsR0FBSSxFQUFHQSxFQUFJd0csRUFBTXRHLE9BQVFGLElBQUssQ0FBRSxHQUFJeUcsR0FBYUQsRUFBTXhHLEVBQUl5RyxHQUFXUixXQUFhUSxFQUFXUixhQUFjLEVBQU9RLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU01SSxPQUFPQyxlQUFlMkYsRUFBUXVELEVBQVdoRyxJQUFLZ0csSUFBaUIsTUFBTyxVQUFVZixFQUFhZ0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCYixFQUFZdEMsVUFBV3NELEdBQWlCQyxHQUFhSixFQUFpQmIsRUFBYWlCLEdBQXFCakIsTUFFN2hCa0IsRUFBTyxTQUFhQyxFQUFJQyxFQUFLQyxHQUFxQyxJQUE5QixHQUFJQyxJQUFTLEVBQXdCQSxHQUFRLENBQUUsR0FBSUMsR0FBU0osRUFBSUssRUFBV0osRUFBS0ssRUFBV0osQ0FBS0MsSUFBUyxFQUFzQixPQUFYQyxJQUFpQkEsRUFBU0csU0FBU2hFLFVBQVcsSUFBSWlFLEdBQU8vSixPQUFPZ0sseUJBQXlCTCxFQUFRQyxFQUFXLElBQWFyRyxTQUFUd0csRUFBSixDQUE0TyxHQUFJLFNBQVdBLEdBQVEsTUFBT0EsR0FBSzdKLEtBQWdCLElBQUkrSixHQUFTRixFQUFLRyxHQUFLLElBQWUzRyxTQUFYMEcsRUFBd0IsTUFBb0IsT0FBT0EsR0FBT3pLLEtBQUtxSyxHQUEvVixHQUFJTSxHQUFTbkssT0FBT29LLGVBQWVULEVBQVMsSUFBZSxPQUFYUSxFQUFtQixNQUEyQlosR0FBS1ksRUFBUVgsRUFBTUksRUFBVUgsRUFBTUksRUFBVUgsR0FBUyxFQUFNSyxFQUFPSSxFQUFTNUcsU0FReGNDLEVBQVNyRSxFc0IzeEhJLEd0QjZ4SGJzRSxFQUFVN0QsRUFBdUI0RCxHQUVqQ0UsRUFBU3ZFLEVzQjl4SEksR3RCZ3lIYndFLEVBQVUvRCxFQUF1QjhELEdzQjl4SGhDbXdCLEVBQVcsU0FBQWxwQixHQUVGLFFBRlRrcEIsR0FFVTNxQixHdEJreUhQaEIsRUFBZ0JuSixLc0JweUhuQjgwQixHQUdFdnFCLEVBQUF0SixPQUFBb0ssZUFIRnlwQixFQUFXL3RCLFdBQUEsY0FBQS9HLE1BQUFTLEtBQUFULEtBR0htSyxHdEJpM0hULE1BbkZBWixHc0JqeUhDdXJCLEVBQVdscEIsR3RCeXlIWjNCLEVzQnp5SEM2cUIsSXRCMHlIRzF3QixJQUFLLHdCQUNMakQsTXNCcnlIZ0IsU0FBQzRWLEVBQVdDLEd0QnN5SHhCLEdzQnJ5SEcrUSxHQUFhL25CLEtBQUttSyxNQUFsQjRkLFNBQ0pnTixFQUFnQi8wQixLQUFLbUssTUFBTXRFLFFBQVVrUixFQUFVbFIsT0FDNUM3RixLQUFLbUssTUFBTS9FLFlBQWMyUixFQUFVM1IsV0FDbkNwRixLQUFLbUssTUFBTW9ILFNBQVd3RixFQUFVeEYsUUFDaEN2UixLQUFLbUssTUFBTTZlLFlBQWNqUyxFQUFVaVMsaUJBQzVCakIsVUFBb0JoUixHQUFVZ1IsV0FDcEMsR0FBSy9uQixLQUFLbUssTUFBTXVwQixRQUFROXFCLGNBQWdCLEdBQUttTyxFQUFVMmMsUUFBUTlxQixVQUV2RSxPQUFJbXNCLEdBQ09BLEdBS0hBLEVBRmdCLGdCQUFiaE4sSUFBc0MsT0FBYkEsRUFDSixhQUF4QkEsRUFBUzVkLE1BQU16QyxNQUErQyxVQUF4QnFnQixFQUFTNWQsTUFBTXpDLEtBQ3JDcXRCLEdBQ1poTixFQUFTNWQsTUFBTXpDLE9BQVNxUCxFQUFVZ1IsU0FBUzVkLE1BQU16QyxNQUNqRHFnQixFQUFTNWQsTUFBTXhCLFVBQVlvTyxFQUFVZ1IsU0FBUzVkLE1BQU14QixTQUV4QyxFQUdKb3NCLEdBQWlCaE4sSUFBYWhSLEVBQVVnUixTQUd4RGdOLEVBQ09BLEVBR0wvMEIsS0FBS21LLE1BQU00ZixVQUFZaFQsRUFBVWdULFNBRzVCZ0wsR0FDQS8wQixLQUFLbUssTUFBTTRmLFNBQVM5ZCxPQUFTOEssRUFBVWdULFNBQVM5ZCxNQUhoRCxNdEJxeUhWN0gsSUFBSyxpQkFDTGpELE1zQi94SFMsU0FBQ21ILEdBQ1gsR0FBSXRJLEtBQUttSyxNQUFNNGYsU0FBUzlkLE1BQVFySCxFQUFBLFdBQU1sQyxrQkFDbEMsR0FBSXdDLFNBQVM4dkIsV0FBYTl2QixTQUFTOHZCLFVBQVVDLE1BQ3pDL3ZCLFNBQVM4dkIsVUFBVUMsWUFDaEIsSUFBSXh6QixPQUFPeXpCLGFBQWMsQ0FDNUIsR0FBSUMsR0FBTTF6QixPQUFPeXpCLGNBQ2pCQyxHQUFJQyxrQkFHWnAxQixLQUFLbUssTUFBTXVwQixPQUNQcHJCLEVBQUUrZCxjQUFjaU8sY0FBY2xsQixTQUM5QjlHLEVBQUUrZCxjQUFjZ1AsY3RCZ3lIbkJqeEIsSUFBSyxTQUNMakQsTXNCOXhIQyxXQUNGLEdBQUkwRSxHQUE0QixNQUFwQjdGLEtBQUttSyxNQUFNdEUsTUFDbkI3RixLQUFLbUssTUFBTXRFLE1BQTBDLEtBQWxDN0YsS0FBS21LLE1BQU10RSxNQUFNNkosUUFBUSxLQUFjMVAsS0FBS21LLE1BQU10RSxNQUFRMnJCLFNBQVN4eEIsS0FBS21LLE1BQU10RSxPQUNqR3l2QixHQUNBQyxVQUFXdjFCLEtBQUttSyxNQUFNNmUsVUFDdEJwTSxRQUFTNWMsS0FBS21LLE1BQU1vSCxPQUFTLE9BQVMsS0FDdEMxTCxNQUFPQSxFQUNQcXVCLFNBQVVydUIsR0FFVjJ2QixFQUFZeDFCLEtBQUttSyxNQUFNL0UsU0FDdkJwRixNQUFLbUssTUFBTXRFLFFBQ1gydkIsR0FBYSxXQUFhM3ZCLEVBSTlCLElBQUk0dkIsS0FRSixPQVBJejFCLE1BQUttSyxNQUFNNGYsV0FDUC9wQixLQUFLbUssTUFBTTRmLFNBQVM5ZCxNQUFRckgsRUFBQSxXQUFNbkMsZ0JBQ2xDZ3pCLEVBQUtqdEIsUUFBVXhJLEtBQUswMUIsZUFBZXhMLEtBQUtscUIsTUFDakNBLEtBQUttSyxNQUFNNGYsU0FBUzlkLE1BQVFySCxFQUFBLFdBQU1sQyxvQkFDekMreUIsRUFBS0UsY0FBZ0IzMUIsS0FBSzAxQixlQUFleEwsS0FBS2xxQixRQUlsRDBFLEVBQUEsV0FBQVMsY3RCNHhISyxLQUNBd0IsR3NCN3hIRHJCLE1BQU9nd0IsRUFBU2x3QixVQUFXb3dCLEdBQWVDLEdBQ3pDejFCLEtBQUttSyxNQUFNNGQsY0FsRnRCK00sR0FBb0Jwd0IsRUFBQSxXQUFNK0gsVUF1RmhDcW9CLEdBQVk3aEIsV0FDUitWLFVBQVd0a0IsRUFBQSxXQUFNZ08sVUFBVUUsT0FDM0JyQixPQUFRN00sRUFBQSxXQUFNZ08sVUFBVVUsS0FDeEJoTyxVQUFXVixFQUFBLFdBQU1nTyxVQUFVRSxRQUcvQmtpQixFQUFZNUQsY0FDUmxJLFVBQVcsT0FDWHpYLFFBQVEsRUFDUm5NLFVBQVcsSXRCa3lIZHpGLEVBQVEsV3NCaHlITW0xQixFdEJpeUhkbDFCLEVBQU9ELFFBQVVBLEVBQVEsWUFJcEIsU0FBU0MsRUFBUUQsRUFBU1MsR0FFL0IsWUFVQSxTQUFTUyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQUV6RixRQUFTcUksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJSCxXQUFVLGlFQUFvRUcsR0FBZUQsR0FBU3pDLFVBQVk5RixPQUFPeUksT0FBT0QsR0FBY0EsRUFBVzFDLFdBQWE0QyxhQUFleEksTUFBT3FJLEVBQVVJLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWVMLElBQVl4SSxPQUFPOEksZUFBaUI5SSxPQUFPOEksZUFBZVAsRUFBVUMsR0FBY0QsRUFBU1EsVUFBWVAsR0FaamV4SSxPQUFPQyxlQUFldkIsRUFBUyxjQUMzQndCLE9BQU8sR0FHWCxJQUFJOEksR0FBZSxXQUFlLFFBQVNDLEdBQWlCckQsRUFBUXNELEdBQVMsSUFBSyxHQUFJeEcsR0FBSSxFQUFHQSxFQUFJd0csRUFBTXRHLE9BQVFGLElBQUssQ0FBRSxHQUFJeUcsR0FBYUQsRUFBTXhHLEVBQUl5RyxHQUFXUixXQUFhUSxFQUFXUixhQUFjLEVBQU9RLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU01SSxPQUFPQyxlQUFlMkYsRUFBUXVELEVBQVdoRyxJQUFLZ0csSUFBaUIsTUFBTyxVQUFVZixFQUFhZ0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCYixFQUFZdEMsVUFBV3NELEdBQWlCQyxHQUFhSixFQUFpQmIsRUFBYWlCLEdBQXFCakIsTUFFN2hCa0IsRUFBTyxTQUFhQyxFQUFJQyxFQUFLQyxHQUFxQyxJQUE5QixHQUFJQyxJQUFTLEVBQXdCQSxHQUFRLENBQUUsR0FBSUMsR0FBU0osRUFBSUssRUFBV0osRUFBS0ssRUFBV0osQ0FBS0MsSUFBUyxFQUFzQixPQUFYQyxJQUFpQkEsRUFBU0csU0FBU2hFLFVBQVcsSUFBSWlFLEdBQU8vSixPQUFPZ0sseUJBQXlCTCxFQUFRQyxFQUFXLElBQWFyRyxTQUFUd0csRUFBSixDQUE0TyxHQUFJLFNBQVdBLEdBQVEsTUFBT0EsR0FBSzdKLEtBQWdCLElBQUkrSixHQUFTRixFQUFLRyxHQUFLLElBQWUzRyxTQUFYMEcsRUFBd0IsTUFBb0IsT0FBT0EsR0FBT3pLLEtBQUtxSyxHQUEvVixHQUFJTSxHQUFTbkssT0FBT29LLGVBQWVULEVBQVMsSUFBZSxPQUFYUSxFQUFtQixNQUEyQlosR0FBS1ksRUFBUVgsRUFBTUksRUFBVUgsRUFBTUksRUFBVUgsR0FBUyxFQUFNSyxFQUFPSSxFQUFTNUcsU0FReGNDLEVBQVNyRSxFdUI1NUhJLEd2Qjg1SGJzRSxFQUFVN0QsRUFBdUI0RCxHQUVqQ0UsRUFBU3ZFLEV1Qi81SEksR3ZCbTZIYncxQixHQUZVLzBCLEVBQXVCOEQsR0FFdkJ2RSxFdUJsNkhJLEl2Qm82SGR5MUIsRUFBV2gxQixFQUF1QiswQixHQUVsQ0UsRUFBa0IxMUIsRXVCcjZIRixHdkJ1NkhoQjIxQixFQUFtQmwxQixFQUF1QmkxQixHQUUxQ2p4QixFQUFjekUsRXVCeDZIRSxHdkIwNkhoQjBFLEVBQWVqRSxFQUF1QmdFLEd1Qng2SHJDbXhCLEVBQWUsU0FBQXBxQixHQUNOLFFBRFRvcUIsR0FDVTdyQixHdkI2NkhQaEIsRUFBZ0JuSixLdUI5NkhuQmcyQixHQUVFenJCLEVBQUF0SixPQUFBb0ssZUFGRjJxQixFQUFlanZCLFdBQUEsY0FBQS9HLE1BQUFTLEtBQUFULEtBRVBtSyxHQUNObkssS0FBS2kyQixjQUFjLEVBQ25CajJCLEtBQUtpWCxPQUNEaWYsYUFBWSxHdkI4aEluQixNQXhIQTNzQixHdUIzNkhDeXNCLEVBQWVwcUIsR3ZCdTdIaEIzQixFdUJ2N0hDK3JCLEl2Qnc3SEc1eEIsSUFBSyxpQkFDTGpELE11Qmg3SE8sU0FBQ21ILEdBQ2IsR0FBaUIsSUFBYkEsRUFBRUMsUUFBZSxDQUNuQixHQUFJcEgsR0FBZ0MsWUFBeEJtSCxFQUFFK2QsY0FBYzNlLEtBQ2QxSCxLQUFLbTJCLGtCQUFrQjd0QixHQUFHQSxFQUFFK2QsY0FBY2xsQixLQUV4RCxLQUFJbkIsS0FBS28yQixVQUFVajFCLEdBQ2YsTUFFSm5CLE1BQUttSyxNQUFNa3BCLGFBQ1RseUIsRUFBT25CLEtBQUttSyxNQUFNaUYsU0FBVXBQLEtBQUttSyxNQUFNeWlCLGNBQ3JCLEtBQWJ0a0IsRUFBRUMsU0FDVHZJLEtBQUttSyxNQUFNa3BCLGFBQ1QsS0FBTXJ6QixLQUFLbUssTUFBTWlGLFNBQVVwUCxLQUFLbUssTUFBTXlpQixhdkJrN0hyQ3hvQixJQUFLLGFBQ0xqRCxNdUIvNkhHLFNBQUNtSCxHQUNULEdBQUd0SSxLQUFLbUssTUFBTThtQixXQUFXLENBQ3ZCLEdBQUk5dkIsR0FBZ0MsWUFBeEJtSCxFQUFFK2QsY0FBYzNlLEtBQ2QxSCxLQUFLbTJCLGtCQUFrQjd0QixHQUFHQSxFQUFFK2QsY0FBY2xsQixLQUN4RCxLQUFJbkIsS0FBS28yQixVQUFVajFCLEdBQ2YsTUFFSm5CLE1BQUttSyxNQUFNa3BCLGFBQ1BseUIsRUFBT25CLEtBQUttSyxNQUFNaUYsU0FBVXBQLEtBQUttSyxNQUFNeWlCLGN2Qmk3SHhDeG9CLElBQUssWUFDTGpELE11Qi82SEUsU0FBQ0EsR0FDTixHQUFJazFCLEdBQUdyMkIsSUFDUCxJQUFHcTJCLEVBQUdsc0IsTUFBTTlDLFNBQVMrdUIsVUFBVSxDQUMzQixHQUFJdm1CLEdBQU13bUIsRUFBR2xzQixNQUFNOUMsU0FBUyt1QixVQUFVajFCLEVBQ3RDLElBQUcwTyxLQUFRLEVBQUssQ0FDWndtQixFQUFHdHFCLEtBQUt1cUIsU0FBU0MsT0FBTyxRQUFRMW1CLEVBQU0seUJBQ3RDLElBQUlnSixHQUFRd2QsRUFBR3RxQixLQUFLeXFCLFFBTXBCLE9BSkFILEdBQUdoUyxlQUNIZ1MsRUFBR3pkLFVBQVVzZCxhQUFZLElBQ3pCRyxFQUFHSixjQUFjOVIsV0FBVyxXQUFXa1MsRUFBR3pkLFVBQVVzZCxhQUFZLEtBQVUsS0FDMUVyZCxFQUFNaEMsU0FDQyxHQUdmLE9BQU8sS3ZCbzdISnpTLElBQUssZUFDTGpELE1BQU8sU0FBV3MxQixHQUNkLFFBQVNwUyxLQUNMLE1BQU9vUyxHQUFjdHlCLE1BQU1uRSxLQUFNNEQsV0FPckMsTUFKQXlnQixHQUFhemIsU0FBVyxXQUNwQixNQUFPNnRCLEdBQWM3dEIsWUFHbEJ5YixHdUIzN0hOLFdBQ2UsR0FBcEJya0IsS0FBS2kyQixnQkFDSjVSLGFBQWFya0IsS0FBS2kyQixlQUNsQmoyQixLQUFLaTJCLGNBQWMsT3ZCZzhIcEI3eEIsSUFBSyxvQkFDTGpELE11Qjk3SFUsV0FDYixHQUFJMFgsR0FBUTdZLEtBQUsrTCxLQUFLeXFCLFFBRXRCM2QsR0FBTWhDLFd2Qmk4SEh6UyxJQUFLLHVCQUNMakQsTXVCLzdIYSxXQUNsQm5CLEtBQUtxa0Isa0J2Qms4SEFqZ0IsSUFBSyxTQUNMakQsTXVCaDhIRCxXQUNKLEdBQUlrRyxHQUFTckgsS0FBS21LLE1BQU05QyxTQUNwQkUsRUFBT3ZILEtBQUttSyxNQUFNNUMsT0FDbEJELEdBQ0lpRixJQUFJLFdBQ0puRSxVQUFVcEksS0FBSzAyQixlQUFleE0sS0FBS2xxQixNQUNuQzhVLE9BQU85VSxLQUFLMjJCLFdBQVd6TSxLQUFLbHFCLE1BR2hDcUgsR0FBU3FPLGNBQWNwTyxFQUFLb08sWUFBWXJPLEVBQVNxTyxZQUVyRCxJQUFJbE8sSUFBWSxFQUFBMUMsRUFBQSxhQUFVOHhCLFNBQVc1MkIsS0FBS2lYLE1BQU1pZixZQUFZVyxNQUFRNzJCLEtBQUtpWCxNQUFNaWYsYUFDL0UsT0FDSXh4QixHQUFBLFdBQUFTLGN2Qmc4SFMsTXVCaDhITG9ILElBQUksS0FBS2pILE9BQVFVLFNBQVMsY0FDekIsRUFBQTZ2QixFQUFBLFlBQU94dUIsRUFBU0MsRUFBS0MsRUFBT0MsRUFBWXhILEtBQUttSyxNQUFNNGQsVUFBVSxJQUM5RHJqQixFQUFBLFdBQUFTLGNBQUE0d0IsRUFBQSxZQUFVeHBCLElBQUksaUJ2QnE4SGpCbkksSUFBSyxvQkFDTGpELE11Qmo4SFUsU0FBQ21ILEdBQ2hCLEdBQUluSCxHQUFRLEdBQ1IwRyxFQUFTUyxFQUFFK2QsY0FBY2xsQixNQUFNMEgsTUFBTSxJQUV6QyxPQURBMUgsR0FBUW1ILEVBQUUrZCxjQUFjMWQsUUFBUWQsRUFBTyxHQUFHQSxFQUFPLE9BN0YvQ211QixHQUF3QnR4QixFQUFBLFdBQU0rSCxVQWtHcEN1cEIsR0FBZ0IvaUIsV0FDZG9nQixhQUFjM3VCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUM5QjFFLFNBQVUxSyxFQUFBLFdBQU1nTyxVQUFVMUMsT0FDMUI0YyxTQUFVbG9CLEVBQUEsV0FBTWdPLFVBQVUxQyxPQUMxQmloQixXQUFZdnNCLEVBQUEsV0FBTWdPLFVBQVVVLE12QnU4SDdCelQsRUFBUSxXdUJuOEhNcTJCLEV2Qm84SGRwMkIsRUFBT0QsUUFBVUEsRUFBUSxZQUlwQixTQUFTQyxFQUFRRCxFQUFTUyxHQUUvQixZQVVBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBRXpGLFFBQVNxSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlILFdBQVUsaUVBQW9FRyxHQUFlRCxHQUFTekMsVUFBWTlGLE9BQU95SSxPQUFPRCxHQUFjQSxFQUFXMUMsV0FBYTRDLGFBQWV4SSxNQUFPcUksRUFBVUksWUFBWSxFQUFPQyxVQUFVLEVBQU1DLGNBQWMsS0FBZUwsSUFBWXhJLE9BQU84SSxlQUFpQjlJLE9BQU84SSxlQUFlUCxFQUFVQyxHQUFjRCxFQUFTUSxVQUFZUCxHQVpqZXhJLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxHQUdULElBQUk4SSxHQUFlLFdBQWUsUUFBU0MsR0FBaUJyRCxFQUFRc0QsR0FBUyxJQUFLLEdBQUl4RyxHQUFJLEVBQUdBLEVBQUl3RyxFQUFNdEcsT0FBUUYsSUFBSyxDQUFFLEdBQUl5RyxHQUFhRCxFQUFNeEcsRUFBSXlHLEdBQVdSLFdBQWFRLEVBQVdSLGFBQWMsRUFBT1EsRUFBV04sY0FBZSxFQUFVLFNBQVdNLEtBQVlBLEVBQVdQLFVBQVcsR0FBTTVJLE9BQU9DLGVBQWUyRixFQUFRdUQsRUFBV2hHLElBQUtnRyxJQUFpQixNQUFPLFVBQVVmLEVBQWFnQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUgsRUFBaUJiLEVBQVl0QyxVQUFXc0QsR0FBaUJDLEdBQWFKLEVBQWlCYixFQUFhaUIsR0FBcUJqQixNQUU3aEJrQixFQUFPLFNBQWFDLEVBQUlDLEVBQUtDLEdBQXFDLElBQTlCLEdBQUlDLElBQVMsRUFBd0JBLEdBQVEsQ0FBRSxHQUFJQyxHQUFTSixFQUFJSyxFQUFXSixFQUFLSyxFQUFXSixDQUFLQyxJQUFTLEVBQXNCLE9BQVhDLElBQWlCQSxFQUFTRyxTQUFTaEUsVUFBVyxJQUFJaUUsR0FBTy9KLE9BQU9nSyx5QkFBeUJMLEVBQVFDLEVBQVcsSUFBYXJHLFNBQVR3RyxFQUFKLENBQTRPLEdBQUksU0FBV0EsR0FBUSxNQUFPQSxHQUFLN0osS0FBZ0IsSUFBSStKLEdBQVNGLEVBQUtHLEdBQUssSUFBZTNHLFNBQVgwRyxFQUF3QixNQUFvQixPQUFPQSxHQUFPekssS0FBS3FLLEdBQS9WLEdBQUlNLEdBQVNuSyxPQUFPb0ssZUFBZVQsRUFBUyxJQUFlLE9BQVhRLEVBQW1CLE1BQTJCWixHQUFLWSxFQUFRWCxFQUFNSSxFQUFVSCxFQUFNSSxFQUFVSCxHQUFTLEVBQU1LLEVBQU9JLEVBQVM1RyxTQVF4Y0MsRUFBU3JFLEV3QjFrSUksR3hCNGtJYnNFLEVBQVU3RCxFQUF1QjRELEdBRWpDRSxFQUFTdkUsRXdCN2tJSSxHeEIra0lid0UsRUFBVS9ELEVBQXVCOEQsR0FFakNFLEVBQWN6RSxFd0JobElFLEd4QmtsSWhCMEUsRUFBZWpFLEVBQXVCZ0UsR3dCaGxJckNpeUIsRUFBVyxTQUFBbHJCLEdBRUosUUFGUGtyQixHQUVRM3NCLEd4Qm9sSVRoQixFQUFnQm5KLEt3QnRsSWY4MkIsR0FHRnZzQixFQUFBdEosT0FBQW9LLGVBSEV5ckIsRUFBVy92QixXQUFBLGNBQUEvRyxNQUFBUyxLQUFBVCxLQUdQbUssR0FDTm5LLEtBQUswTixheEJvcElOLE1BckVBbkUsR3dCbmxJR3V0QixFQUFXbHJCLEd4QjRsSWQzQixFd0I1bElHNnNCLEl4QjZsSUQxeUIsSUFBSyxjQUNMakQsTXdCdmxJUSxTQUFDbUgsR0FDMEIsS0FBakNBLEVBQUUrZCxjQUFjbGxCLE1BQU0rUCxhQUNoQmxSLE1BQUswTixVQUFVcEYsRUFBRStkLGNBQWMxUixNQUV0QzNVLEtBQUswTixVQUFVcEYsRUFBRStkLGNBQWMxUixNQUFRck0sRUFBRStkLGNBQWNsbEIsTUFFekRuQixLQUFLbUssTUFBTXltQixTQUFTNXdCLEtBQUswTixjeEJ1bEl4QnRKLElBQUssU0FDTGpELE13QnJsSUcsV0FDSixHQUFJb3hCLElBQWUsRUFBQXp0QixFQUFBLFlBQVMsU0FDMUIwdEIsZ0JBQWlCeHlCLEtBQUttSyxNQUFNcWhCLFFBQzVCbUgsa0JBQW1CM3lCLEtBQUttSyxNQUFNaWhCLFlBRTVCNEksRUFBa0IsSUFFdEIsSUFBR2gwQixLQUFLbUssTUFBTTBnQixlQUFpQmptQixFQUFBLFdBQU10QyxtQkFDakN0QyxLQUFLbUssTUFBTTBnQixlQUFpQmptQixFQUFBLFdBQU1yQyxpQkFBaUIsQ0FDckQsR0FBSStDLElBQ0ZPLE1BQU0sR0FDTmt4QixZQUFhLEVBQ2JDLGFBQWMsRUFFaEJoRCxHQUFtQnR2QixFQUFBLFdBQUFTLGN4QnFsSWQsTXdCcmxJa0JHLE1BQU9BLEVBQU9sQixJQUFLLEl4QnVsSXJDLFV3QnJsSVAsR0FBSTZ5QixHQUFjajNCLEtBQUttSyxNQUFNbWdCLFFBQVF2aUIsSUFBSSxTQUFTaWdCLEdBQ2hELEdBQUl1SixJQUNGM1UsUUFBU29MLEVBQU96VyxPQUFPLE9BQU8sS0FDOUIxTCxNQUFPbWlCLEVBQU9uaUIsTUFFaEIsT0FDRW5CLEdBQUEsV0FBQVMsY3hCd2xJRyxNd0J4bElDZixJQUFLNGpCLEVBQU9yVCxLQUFNclAsTUFBT2lzQixHQUMzQjdzQixFQUFBLFdBQUFTLGN4QjBsSUcsT3dCMWxJRUMsVUFBVSxnQ0FDYlYsRUFBQSxXQUFBUyxjQUFBLFNBQU8reEIsS0FBSyxLQUFLeHZCLEtBQUssT0FBT2dPLFlBQWFzUyxFQUFPclQsS0FBTUEsS0FBTXFULEVBQU9yVCxLQUFNd2lCLFFBQVNuM0IsS0FBS28zQixZQUFZbE4sS0FBS2xxQixXQUk5R0EsS0FDSCxPQUNFMEUsR0FBQSxXQUFBUyxjeEIwbElHLFN3QjFsSUlDLFVBQVdtdEIsRUFBY2p0QixPQUFRdXZCLFVBQVUsSUFDaERud0IsRUFBQSxXQUFBUyxjeEI0bElHLFFBQ0EsS3dCNWxJRFQsRUFBQSxXQUFBUyxjeEI4bElHLE13QjlsSUNHLE9BQVEreEIsa0JBQW1CLFdBQzVCckQsRUFBaUJpRCxTQWpEeEJILEdBQW9CcHlCLEVBQUEsV0FBTStILFVBd0RoQ3FxQixHQUFZN2pCLFdBQ1ZxWCxRQUFTNWxCLEVBQUEsV0FBTWdPLFVBQVUrQyxNQUN6Qm9WLGNBQWVubUIsRUFBQSxXQUFNZ08sVUFBVUUsT0FDL0JnZSxTQUFVbHNCLEVBQUEsV0FBTWdPLFVBQVVvQixNeEJxbUkzQm5VLEVBQVEsV3dCbm1JTW0zQixFeEJvbUlkbDNCLEVBQU9ELFFBQVVBLEVBQVEsWUFJcEIsU0FBU0MsRUFBUUQsRUFBU1MsR0FFL0IsWUFVQSxTQUFTUyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQUV6RixRQUFTcUksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJSCxXQUFVLGlFQUFvRUcsR0FBZUQsR0FBU3pDLFVBQVk5RixPQUFPeUksT0FBT0QsR0FBY0EsRUFBVzFDLFdBQWE0QyxhQUFleEksTUFBT3FJLEVBQVVJLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWVMLElBQVl4SSxPQUFPOEksZUFBaUI5SSxPQUFPOEksZUFBZVAsRUFBVUMsR0FBY0QsRUFBU1EsVUFBWVAsR0FaamV4SSxPQUFPQyxlQUFldkIsRUFBUyxjQUM3QndCLE9BQU8sR0FHVCxJQUFJOEksR0FBZSxXQUFlLFFBQVNDLEdBQWlCckQsRUFBUXNELEdBQVMsSUFBSyxHQUFJeEcsR0FBSSxFQUFHQSxFQUFJd0csRUFBTXRHLE9BQVFGLElBQUssQ0FBRSxHQUFJeUcsR0FBYUQsRUFBTXhHLEVBQUl5RyxHQUFXUixXQUFhUSxFQUFXUixhQUFjLEVBQU9RLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU01SSxPQUFPQyxlQUFlMkYsRUFBUXVELEVBQVdoRyxJQUFLZ0csSUFBaUIsTUFBTyxVQUFVZixFQUFhZ0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCYixFQUFZdEMsVUFBV3NELEdBQWlCQyxHQUFhSixFQUFpQmIsRUFBYWlCLEdBQXFCakIsTUFFN2hCa0IsRUFBTyxTQUFhQyxFQUFJQyxFQUFLQyxHQUFxQyxJQUE5QixHQUFJQyxJQUFTLEVBQXdCQSxHQUFRLENBQUUsR0FBSUMsR0FBU0osRUFBSUssRUFBV0osRUFBS0ssRUFBV0osQ0FBS0MsSUFBUyxFQUFzQixPQUFYQyxJQUFpQkEsRUFBU0csU0FBU2hFLFVBQVcsSUFBSWlFLEdBQU8vSixPQUFPZ0sseUJBQXlCTCxFQUFRQyxFQUFXLElBQWFyRyxTQUFUd0csRUFBSixDQUE0TyxHQUFJLFNBQVdBLEdBQVEsTUFBT0EsR0FBSzdKLEtBQWdCLElBQUkrSixHQUFTRixFQUFLRyxHQUFLLElBQWUzRyxTQUFYMEcsRUFBd0IsTUFBb0IsT0FBT0EsR0FBT3pLLEtBQUtxSyxHQUEvVixHQUFJTSxHQUFTbkssT0FBT29LLGVBQWVULEVBQVMsSUFBZSxPQUFYUSxFQUFtQixNQUEyQlosR0FBS1ksRUFBUVgsRUFBTUksRUFBVUgsRUFBTUksRUFBVUgsR0FBUyxFQUFNSyxFQUFPSSxFQUFTNUcsU0FReGNDLEVBQVNyRSxFeUIzcklJLEd6QjZySWJzRSxFQUFVN0QsRUFBdUI0RCxHQUVqQ29OLEVBQVl6UixFeUI5cklJLEd6QmdzSWhCMFIsRUFBYWpSLEVBQXVCZ1IsR0FFcENsTixFQUFTdkUsRXlCanNJSSxHekJtc0lid0UsRUFBVS9ELEVBQXVCOEQsR0FFakM4c0IsRUFBUXJ4QixFeUJwc0lJLEd6QnNzSVpzeEIsRUFBUzd3QixFQUF1QjR3QixHQUVoQzVzQixFQUFjekUsRXlCdnNJRSxHekJ5c0loQjBFLEVBQWVqRSxFQUF1QmdFLEdBRXRDeXlCLEVBQXlCbDNCLEV5QjFzSUksSXpCNHNJN0JtM0IsRUFBMEIxMkIsRUFBdUJ5MkIsR3lCMXNJaERFLEVBQVEsU0FBQTVyQixHekIrc0lYLFF5Qi9zSUc0ckIsS3pCZ3RJRHJ1QixFQUFnQm5KLEt5Qmh0SWZ3M0IsR3pCa3RJRGp0QixFQUFLdEosT0FBT29LLGV5Qmx0SVhtc0IsRUFBUXp3QixXQUFBLGNBQUEvRyxNQUFBbUUsTUFBQW5FLEtBQUE0RCxXekIydUlYLE1BOUJBMkYsR3lCN3NJR2l1QixFQUFRNXJCLEd6QnF0SVgzQixFeUJydElHdXRCLEl6QnN0SURwekIsSUFBSyxvQkFDTGpELE15QnR0SWMsV0FBS25CLEtBQUt5M0IsT0FBT3ozQixLQUFLbUssTUFBTXhCLFl6QjB0STFDdkUsSUFBSyw0QkFDTGpELE15QjF0SXNCLFNBQUNnSixHQUFTbkssS0FBS3kzQixPQUFPdHRCLEVBQU14QixZekI4dElsRHZFLElBQUssU0FDTGpELE15Qjl0SUcsU0FBQ3dILEdBQ0xtSixFQUFBLFdBQVM0RixZQUFZMVgsTUFBTTAzQixjQUE0QixrQkFBWi91QixLekJpdUkxQ3ZFLElBQUssU0FDTGpELE15Qi90SUcsV0FDSixNQUFPdUQsR0FBQSxXQUFBUyxjQUFBLFNBQU9DLFVBQVUsc0JBQXNCc0MsS0FBSyxXQUFXaUIsUUFBUzNJLEtBQUttSyxNQUFNeEIsUUFBU3FNLFNBQVVoVixLQUFLbUssTUFBTTZLLGVBUjlHd2lCLEdBQWlCOXlCLEVBQUEsV0FBTStILFdBWXZCa3JCLEVBQVcsU0FBQUMsR0FFSixRQUZQRCxHQUVReHRCLEd6Qm91SVRoQixFQUFnQm5KLEt5QnR1SWYyM0IsR0FHRnB0QixFQUFBdEosT0FBQW9LLGVBSEVzc0IsRUFBVzV3QixXQUFBLGNBQUEvRyxNQUFBUyxLQUFBVCxLQUdQbUssR0FDTm5LLEtBQUs2M0IscUJBQXVCLEt6QjR6STdCLE1BN0ZBdHVCLEd5Qm51SUdvdUIsRUFBV0MsR3pCNHVJZDN0QixFeUI1dUlHMHRCLEl6QjZ1SUR2ekIsSUFBSyxTQUNMakQsTXlCdnVJRyxXQUNKLEdBQUlteEIsSUFBbUIsRUFBQXh0QixFQUFBLFlBQVMsZ0JBQzVCeXRCLEdBQWUsRUFBQXp0QixFQUFBLFlBQVMsUUFBUyxlQUNqQzJ0QixpQkFBa0J6eUIsS0FBS21LLE1BQU1naEIsU0FDN0J3SCxrQkFBbUIzeUIsS0FBS21LLE1BQU1paEIsWUFFOUIwTSxFQUFxQjkzQixLQUFLbUssTUFBTTJnQixpQkFBaUIsS0FBSzlxQixLQUFLKzNCLHVCQUcvRCxPQUZBLzNCLE1BQUtnNEIsNEJBR0h0ekIsRUFBQSxXQUFBUyxjekJ1dUlHLE95QnZ1SUVDLFVBQVUsd0JBQ2JWLEVBQUEsV0FBQVMsY3pCeXVJRyxPeUJ6dUlFb0gsSUFBSSxZQUFZbkgsVUFBV2t0QixHQUM5QjV0QixFQUFBLFdBQUFTLGN6QjJ1SUcsU3lCM3VJSUMsVUFBV210QixFQUFjaHlCLEdBQUlQLEtBQUttSyxNQUFNbWhCLFNBQzdDNW1CLEVBQUEsV0FBQVMsY3pCNnVJRyxRQUNBLEt5Qjd1SURULEVBQUEsV0FBQVMsY3pCK3VJRyxNeUIvdUlDb0gsSUFBSSxVQUNMdXJCLEVBQ0E5M0IsS0FBS21LLE1BQU00ZCxpQnpCd3ZJdkIzakIsSUFBSyx3QkFDTGpELE15Qmh2SWtCLFdBQ25CLE1BQUduQixNQUFLbUssTUFBTTBnQixlQUFpQmptQixFQUFBLFdBQU10QyxrQkFDM0JvQyxFQUFBLFdBQUFTLGNBQUFveUIsRUFBQSxZQUF1QjF4QixNQUFPN0YsS0FBSzYzQix1QkFDcEM3M0IsS0FBS21LLE1BQU0wZ0IsZUFBaUJqbUIsRUFBQSxXQUFNckMsaUJBQ2pDbUMsRUFBQSxXQUFBUyxjekJpdklIb3lCLEVBQXdCLFl5Qmp2SUUxeEIsTUFBTzdGLEtBQUs2M0Isc0JBQ3ZDbnpCLEVBQUEsV0FBQVMsY0FBQ3F5QixHQUFTeGlCLFNBQVVoVixLQUFLbUssTUFBTThnQixlQUFnQnRpQixRQUFTM0ksS0FBS21LLE1BQU15Z0IsZUFJaEUsUXpCcXZJUnhtQixJQUFLLDRCQUNMakQsTXlCbHZJc0IsV0FDdkIsR0FBRzhDLE1BQU1DLFFBQVFsRSxLQUFLbUssTUFBTTRkLFVBQzFCLElBQUksR0FBSXBrQixHQUFFLEVBQUVBLEVBQUUzRCxLQUFLbUssTUFBTTRkLFNBQVNsa0IsT0FBT0YsSUFBSSxDQUMzQyxHQUFNMnJCLEdBQVF0dkIsS0FBS21LLE1BQU00ZCxTQUFTcGtCLEdBQUd3RyxNQUFNK2QsVUFDckNuYixFQUFPdWlCLElBQVV0dkIsS0FBS21LLE1BQU13ZSxTQUFXM29CLEtBQUttSyxNQUFNeWUsVUFBWXBrQixNQUNwRXhFLE1BQUttSyxNQUFNNGQsU0FBU3BrQixHQUNsQmUsRUFBQSxXQUFNdXpCLGFBQWFqNEIsS0FBS21LLE1BQU00ZCxTQUFTcGtCLElBQ25DUyxJQUFLVCxFQUFHb25CLE9BQVEvcUIsS0FBS21LLE1BQU00Z0IsT0FBUWhlLGFBRXRDLENBQ0wsR0FBTXVpQixHQUFRdHZCLEtBQUttSyxNQUFNNGQsU0FBUzVkLE1BQU0rZCxVQUNsQ25iLEVBQU91aUIsSUFBVXR2QixLQUFLbUssTUFBTXdlLFNBQVczb0IsS0FBS21LLE1BQU15ZSxVQUFZcGtCLE1BQ3BFeEUsTUFBS21LLE1BQU00ZCxTQUNUcmpCLEVBQUEsV0FBTXV6QixhQUFhajRCLEtBQUttSyxNQUFNNGQsVUFBVzNqQixJQUFLLEVBQUcybUIsT0FBUS9xQixLQUFLbUssTUFBTTRnQixPQUFRaGUsYXpCbXZJL0UzSSxJQUFLLFlBQ0xqRCxNeUJodklNLFNBQUN1bEIsRUFBYXdSLEdBQ3JCLEdBQUdqMEIsTUFBTUMsUUFBUWxFLEtBQUttSyxNQUFNNGQsVUFBVSxDQUNwQyxHQUFJb1EsR0FBaUJuNEIsS0FBS21LLE1BQU0wZ0IsZUFBaUJqbUIsRUFBQSxXQUFNdEMsbUJBQy9CdEMsS0FBS21LLE1BQU0wZ0IsZUFBaUJqbUIsRUFBQSxXQUFNckMsa0JBQXNCdkMsS0FBS21LLE1BQU0yZ0IsaUJBQXFCLEVBQUYsQ0FDMUYsSUFBakJxTixJQUNEbjRCLEtBQUs2M0IscUJBQXVCblIsRUFBWSxHQUFHN2dCLE1BQzdDLEtBQUksR0FBSWxDLEdBQUUsRUFBRUEsRUFBRTNELEtBQUttSyxNQUFNNGQsU0FBU2xrQixPQUFPRixJQUN2QzNELEtBQUttSyxNQUFNNGQsU0FBU3BrQixHQUNsQmUsRUFBQSxXQUFNdXpCLGFBQWFqNEIsS0FBS21LLE1BQU00ZCxTQUFTcGtCLElBQUtrQyxNQUFPNmdCLEVBQVkvaUIsRUFBRXcwQixHQUFldHlCLE1BQU0sV0FHMUY3RixNQUFLbUssTUFBTTRkLFNBQ1RyakIsRUFBQSxXQUFNdXpCLGFBQWFqNEIsS0FBS21LLE1BQU00ZCxVQUFXbGlCLE1BQU82Z0IsRUFBWSxHQUFHN2dCLE1BQU0sTUFFdEU3RixNQUFLbUssTUFBTWloQixZQUFjcHJCLEtBQUttSyxNQUFNa2hCLGFBQ3JDcnJCLEtBQUsrTCxLQUFLb2EsVUFBVTdnQixNQUFNUSxPQUFTLFFBRXJDOUYsS0FBS280QixjQUNGRixJQUNEbDRCLEtBQUsrTCxLQUFLb2EsVUFBVTdnQixNQUFNK3lCLFlBQWMzRyxFQUFBLFdBQUs5ckIsb0JBQXNCLFVBakZuRSt4QixHQUFvQmp6QixFQUFBLFdBQU0rSCxVQW9GaENrckIsR0FBWTFrQixXQUNWNFgsY0FBZW5tQixFQUFBLFdBQU1nTyxVQUFVRSxPQUMvQm1ZLE9BQVFybUIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQ3hCbVgsZUFBZ0J2bUIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQ2hDNlUsU0FBVWprQixFQUFBLFdBQU1nTyxVQUFVRSxPQUMxQmdXLFVBQVdsa0IsRUFBQSxXQUFNZ08sVUFBVUUsT0FDM0JrWSxpQkFBa0JwbUIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDbEMrWCxTQUFVem1CLEVBQUEsV0FBTWdPLFVBQVVVLEtBQzFCZ1ksVUFBVzFtQixFQUFBLFdBQU1nTyxVQUFVVSxLQUMzQmlZLFdBQVkzbUIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDNUJ3WCxZQUFhbG1CLEVBQUEsV0FBTWdPLFVBQVVvZSxRQUFPLEVBQU0saUJBQWlCLEtBRzdENkcsRUFBWXpHLGdCekJndklYdnhCLEVBQVEsV3lCOXVJTWc0QixFekIrdUlkLzNCLEVBQU9ELFFBQVVBLEVBQVEsWUFJcEIsU0FBU0MsRUFBUUQsRUFBU1MsR0FFL0IsWUFZQSxTQUFTUyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQUV6RixRQUFTcUksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJSCxXQUFVLGlFQUFvRUcsR0FBZUQsR0FBU3pDLFVBQVk5RixPQUFPeUksT0FBT0QsR0FBY0EsRUFBVzFDLFdBQWE0QyxhQUFleEksTUFBT3FJLEVBQVVJLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWVMLElBQVl4SSxPQUFPOEksZUFBaUI5SSxPQUFPOEksZUFBZVAsRUFBVUMsR0FBY0QsRUFBU1EsVUFBWVAsR0FkamV4SSxPQUFPQyxlQUFldkIsRUFBUyxjQUMzQndCLE9BQU8sR0FHWCxJQUFJd0YsR0FBVzFGLE9BQU8yRixRQUFVLFNBQVVDLEdBQVUsSUFBSyxHQUFJbEQsR0FBSSxFQUFHQSxFQUFJQyxVQUFVQyxPQUFRRixJQUFLLENBQUUsR0FBSW1ELEdBQVNsRCxVQUFVRCxFQUFJLEtBQUssR0FBSVMsS0FBTzBDLEdBQWM3RixPQUFPOEYsVUFBVXhDLGVBQWU5RCxLQUFLcUcsRUFBUTFDLEtBQVF5QyxFQUFPekMsR0FBTzBDLEVBQU8xQyxJQUFZLE1BQU95QyxJQUVuUG9ELEVBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRTBCNzNJSSxHMUIrM0lic0UsRUFBVTdELEVBQXVCNEQsR0FFakNJLEVBQWN6RSxFMEJoNElFLEcxQm80SWhCdUUsR0FGZTlELEVBQXVCZ0UsR0FFN0J6RSxFMEJuNElJLEkxQnE0SWJ3RSxFQUFVL0QsRUFBdUI4RCxHQUVqQzhzQixFQUFRcnhCLEUwQnQ0SUksRzFCdzRJWnN4QixFQUFTN3dCLEVBQXVCNHdCLEdBRWhDNkcsRUFBZWw0QixFMEJ6NElHLEkxQjI0SWxCbTRCLEVBQWdCMTNCLEVBQXVCeTNCLEdBRXZDRSxFQUFlcDRCLEUwQjU0SUcsSTFCODRJbEJxNEIsRUFBZ0I1M0IsRUFBdUIyM0IsR0FFdkNFLEVBQWlCdDRCLEUwQi80SUcsSTFCaTVJcEJ1NEIsRUFBa0I5M0IsRUFBdUI2M0IsR0FFekNFLEVBQWlCeDRCLEUwQmw1SUcsSTFCbzVJcEJ5NEIsRUFBa0JoNEIsRUFBdUIrM0IsRzBCbDVJeENqM0IsRUFBaUIsU0FBQWlLLEdBRVIsUUFGVGpLLEdBRVV3SSxHMUJzNUlQaEIsRUFBZ0JuSixLMEJ4NUluQjJCLEdBR0U0SSxFQUFBdEosT0FBQW9LLGVBSEYxSixFQUFpQm9GLFdBQUEsY0FBQS9HLE1BQUFTLEtBQUFULEtBR1RtSyxHQUNObkssS0FBSzg0QixhQUFlOTRCLEtBQUs4NEIsYUFBYTVPLEtBQUtscUIsTTFCby9JOUMsTUFuR0F1SixHMEJyNUlDNUgsRUFBaUJpSyxHMUI4NUlsQjNCLEUwQjk1SUN0SSxJMUIrNUlHeUMsSUFBSyxvQkFDTGpELE0wQno1SVksU0FBQ21ILEdBQ2QsR0FBS3RJLEtBQUttSyxNQUFNOGUsU0FBaEIsQ0FDQSxHQUFJamtCLEdBQVFoRixLQUFLbUssTUFBTTRDLE1BQVFuSSxFQUFBLFdBQU0vQyxVQUFZK0MsRUFBQSxXQUFNOUMsU0FBVzhDLEVBQUEsV0FBTS9DLFNBQ3hFN0IsTUFBS21LLE1BQU00Z0IsT0FBTy9sQixFQUFPaEYsS0FBS21LLE1BQU0rZCxlMUI0NUluQzlqQixJQUFLLGVBQ0xqRCxNMEIxNUlPLFNBQUNBLEVBQU91RyxHQUNoQjFILEtBQUttSyxNQUFNa0UsT0FBT3NWLFFBQVFtVixhQUFhOTRCLEtBQUttSyxNQUFNK2QsVUFBVy9tQixFQUFPdUcsTTFCNjVJbkV0RCxJQUFLLGFBQ0xqRCxNMEIzNUlLLFdBQ04sT0FBUW5CLEtBQUttSyxNQUFNa0UsT0FBTzNHLE1BQ3RCLElBQUs5QyxHQUFBLFdBQU0zQixZQUFZQyxLQUVuQixNQUFPd0IsR0FBQSxXQUFBUyxjQUFBc3pCLEVBQUEsV0FBQTl4QixLQUFnQjNHLEtBQUttSyxNQUFNa0UsUUFBUTBxQixXQUFZLzRCLEtBQUttSyxNQUFNNGQsU0FDdkJpUixjQUFlaDVCLEtBQUs4NEIsZUFFbEUsS0FBS2wwQixHQUFBLFdBQU0zQixZQUFZRSxPQUVuQixNQUFPdUIsR0FBQSxXQUFBUyxjQUFBd3pCLEVBQUEsV0FBQWh5QixLQUFrQjNHLEtBQUttSyxNQUFNa0UsUUFBUTBxQixXQUFZLzRCLEtBQUttSyxNQUFNNGQsU0FDdkJpUixjQUFlaDVCLEtBQUs4NEIsZUFFcEUsS0FBS2wwQixHQUFBLFdBQU0zQixZQUFZRyxPQUVuQixNQUFPc0IsR0FBQSxXQUFBUyxjQUFBMHpCLEVBQUEsV0FBQWx5QixLQUFrQjNHLEtBQUttSyxNQUFNa0UsUUFBUTBxQixXQUFZLzRCLEtBQUttSyxNQUFNNGQsU0FDdkJpUixjQUFlaDVCLEtBQUs4NEIsZUFFcEUsS0FBS2wwQixHQUFBLFdBQU0zQixZQUFZSSxLQUVuQixNQUFPcUIsR0FBQSxXQUFBUyxjQUFBb3pCLEVBQUEsV0FBQTV4QixLQUFnQjNHLEtBQUttSyxNQUFNa0UsUUFBUTBxQixXQUFZLzRCLEtBQUttSyxNQUFNNGQsU0FDdkJpUixjQUFlaDVCLEtBQUs4NEIsZUFFbEUsS0FBS2wwQixHQUFBLFdBQU0zQixZQUFZSyxPQUVuQixNQUFPdEQsTUFBS21LLE1BQU1rRSxPQUFPNHFCLFdBQVdqNUIsS0FBSzg0QixhQUFjOTRCLEtBQUttSyxNQUFNa0UsT0FBTzZxQiw0QjFCZzZJaEY5MEIsSUFBSyxvQkFDTGpELE0wQjU1SVksV0FDYm5CLEtBQUsrTCxLQUFLb3RCLFNBQVNDLGFBQWEsYUFBY3A1QixLQUFLbUssTUFBTStkLGMxQis1SXhEOWpCLElBQUssU0FDTGpELE0wQjc1SUMsV0FDRixHQUFJMEUsR0FBNEIsTUFBcEI3RixLQUFLbUssTUFBTXRFLE1BQ25CN0YsS0FBS21LLE1BQU10RSxNQUEwQyxLQUFsQzdGLEtBQUttSyxNQUFNdEUsTUFBTTZKLFFBQVEsS0FBYzFQLEtBQUttSyxNQUFNdEUsTUFBUTJyQixTQUFTeHhCLEtBQUttSyxNQUFNdEUsT0FDakcwckIsR0FDQWdFLFVBQVd2MUIsS0FBS21LLE1BQU02ZSxVQUN0QnBNLFFBQVM1YyxLQUFLbUssTUFBTW9ILE9BQVMsT0FBUyxLQUN0QzFMLE1BQU9BLEVBQ1BxdUIsU0FBVXJ1QixHQUdSd3pCLEVBQWlCcjVCLEtBQUttSyxNQUFNOGUsU0FDOUJ2a0IsRUFBQSxXQUFBUyxjMUI0NUlLLFEwQjU1SUNDLFVBQVUsU0FDcEJWLEVBQUEsV0FBQVMsYzFCODVJYSxRMEI5NUlQQyxVQUFVLFlBQ2RWLEVBQUEsV0FBQVMsY0FBQSxRQUFNQyxVQUFVLFFBQVFFLE9BQVFDLE9BQVEsa0JBQW1CK3pCLE1BQU8sV0FFcEU1MEIsRUFBQSxXQUFBUyxjMUJnNklhLFEwQmg2SVBDLFVBQVUsVUFDZFYsRUFBQSxXQUFBUyxjQUFBLFFBQU1DLFVBQVUsUUFBUUUsT0FBUUMsT0FBUSxTQUFVK3pCLE1BQU8sWUFOYixLQVV4Q0MsRUFBWXY1QixLQUFLbUssTUFBTTRDLEtBQU8ya0IsRUFBQSxXQUFLanNCLHFCQUFxQnpGLEtBQUttSyxNQUFNNEMsTUFBUXNzQixFQUU3RTMxQixFQUFVMUQsS0FBS21LLE1BQU0vRSxVQUFZLEtBQU9wRixLQUFLbUssTUFBTThlLFNBQVcsY0FBZ0IsR0FDbEYsT0FDSXZrQixHQUFBLFdBQUFTLGMxQmc2SUssTTBCaDZJRG9ILElBQUksYUFBYW5ILFVBQVcxQixFQUFTNEIsTUFBT2lzQixHQUM1QzdzQixFQUFBLFdBQUFTLGMxQms2SUssTzBCbDZJQW9ILElBQUksV0FBV25ILFVBQVUsK0JBQ3pCb0QsUUFBU3hJLEtBQUt3NUIsa0JBQWtCdFAsS0FBS2xxQixPQUNyQ0EsS0FBS21LLE1BQU00ZCxTQUFVd1IsR0FFekJ2NUIsS0FBS21LLE1BQU1rRSxPQUFTck8sS0FBS3k1QixhQUFlLFVBL0VuRDkzQixHQUEwQitDLEVBQUEsV0FBTStILFdBcUZsQ2l0QixJQUNKLEtBQUssR0FBSXQxQixLQUFPUSxHQUFBLFdBQU0zQixZQUNsQnkyQixFQUFnQjExQixLQUFLWSxFQUFBLFdBQU0zQixZQUFZbUIsR0FHM0N6QyxHQUFrQnNSLFdBQ2RpVixVQUFXeGpCLEVBQUEsV0FBTWdPLFVBQVVFLE9BQzNCb1csVUFBV3RrQixFQUFBLFdBQU1nTyxVQUFVRSxPQUMzQnFXLFNBQVV2a0IsRUFBQSxXQUFNZ08sVUFBVVUsS0FDMUIyWCxPQUFRcm1CLEVBQUEsV0FBTWdPLFVBQVVvQixLQUN4Qm9WLFdBQVl4a0IsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQzVCbVUsTUFBT3ZqQixFQUFBLFdBQU1nTyxVQUFVVSxLQUN2Qi9MLFNBQVUzQyxFQUFBLFdBQU1nTyxVQUFVc0IsSUFDMUJ6QyxPQUFRN00sRUFBQSxXQUFNZ08sVUFBVVUsS0FDeEJoTyxVQUFXVixFQUFBLFdBQU1nTyxVQUFVRSxPQUMzQi9NLE1BQU9uQixFQUFBLFdBQU1nTyxVQUFVRSxPQUN2Qi9GLFNBQVVuSSxFQUFBLFdBQU1nTyxVQUFVb0IsS0FDMUJxVixnQkFBaUJ6a0IsRUFBQSxXQUFNZ08sVUFBVXNCLElBQ2pDOUQsZ0JBQWlCeEwsRUFBQSxXQUFNZ08sVUFBVVUsS0FDakNyRyxLQUFNckksRUFBQSxXQUFNZ08sVUFBVUUsT0FDdEJ6QyxnQkFBaUJ6TCxFQUFBLFdBQU1nTyxVQUFVc0IsSUFDakMzRixPQUFRM0osRUFBQSxXQUFNZ08sVUFBVW1lLE9BQ3BCbnBCLEtBQU1oRCxFQUFBLFdBQU1nTyxVQUFVb2UsTUFBTTRJLEdBQzVCQyxNQUFPajFCLEVBQUEsV0FBTWdPLFVBQVUxQyxPQUN2QnBJLFFBQVNsRCxFQUFBLFdBQU1nTyxVQUFVQyxXQUNyQmpPLEVBQUEsV0FBTWdPLFVBQVU5SCxPQUNoQmxHLEVBQUEsV0FBTWdPLFVBQVVrbkIsUUFBUWwxQixFQUFBLFdBQU1nTyxVQUFVMUMsVUFFNUM2cEIsa0JBQW1CbjFCLEVBQUEsV0FBTWdPLFVBQVVrbkIsUUFBUWwxQixFQUFBLFdBQU1nTyxVQUFVRSxRQUMzRCtRLFFBQVNqZixFQUFBLFdBQU1nTyxVQUFVOUgsT0FDekI4SyxZQUFhaFIsRUFBQSxXQUFNZ08sVUFBVUUsT0FDN0JxbUIsV0FBWXYwQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDNUJvbEIsdUJBQXdCeDBCLEVBQUEsV0FBTWdPLFVBQVU5SCxVQUloRGpKLEVBQWtCdXZCLGNBQ2RsSSxVQUFXLE9BQ1hDLFVBQVUsRUFDVkMsV0FBWTFrQixPQUNaeWpCLE9BQU8sRUFDUDVnQixVQUFVLEVBQ1YwakIsT0FBUXZtQixPQUNSK00sUUFBUSxFQUNSbk0sVUFBVyxHQUNYUyxNQUFPLEtBQ1BnSCxTQUFVckksT0FDVjJrQixnQkFBaUIsR0FDakJqWixpQkFBaUIsRUFDakJuRCxLQUFNdkksT0FDTjJMLGdCQUFpQjNMLE9BQ2pCNkosT0FBUTdKLFExQnc2SVg3RSxFQUFRLFcwQnI2SU1nQyxFMUJzNklkL0IsRUFBT0QsUUFBVUEsRUFBUSxZQUlwQixTQUFTQyxFQUFRRCxFQUFTUyxHQUUvQixZQVlBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBRXpGLFFBQVNxSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlILFdBQVUsaUVBQW9FRyxHQUFlRCxHQUFTekMsVUFBWTlGLE9BQU95SSxPQUFPRCxHQUFjQSxFQUFXMUMsV0FBYTRDLGFBQWV4SSxNQUFPcUksRUFBVUksWUFBWSxFQUFPQyxVQUFVLEVBQU1DLGNBQWMsS0FBZUwsSUFBWXhJLE9BQU84SSxlQUFpQjlJLE9BQU84SSxlQUFlUCxFQUFVQyxHQUFjRCxFQUFTUSxVQUFZUCxHQWRqZXhJLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxHQUdULElBQUl3RixHQUFXMUYsT0FBTzJGLFFBQVUsU0FBVUMsR0FBVSxJQUFLLEdBQUlsRCxHQUFJLEVBQUdBLEVBQUlDLFVBQVVDLE9BQVFGLElBQUssQ0FBRSxHQUFJbUQsR0FBU2xELFVBQVVELEVBQUksS0FBSyxHQUFJUyxLQUFPMEMsR0FBYzdGLE9BQU84RixVQUFVeEMsZUFBZTlELEtBQUtxRyxFQUFRMUMsS0FBUXlDLEVBQU96QyxHQUFPMEMsRUFBTzFDLElBQVksTUFBT3lDLElBRW5Qb0QsRUFBZSxXQUFlLFFBQVNDLEdBQWlCckQsRUFBUXNELEdBQVMsSUFBSyxHQUFJeEcsR0FBSSxFQUFHQSxFQUFJd0csRUFBTXRHLE9BQVFGLElBQUssQ0FBRSxHQUFJeUcsR0FBYUQsRUFBTXhHLEVBQUl5RyxHQUFXUixXQUFhUSxFQUFXUixhQUFjLEVBQU9RLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU01SSxPQUFPQyxlQUFlMkYsRUFBUXVELEVBQVdoRyxJQUFLZ0csSUFBaUIsTUFBTyxVQUFVZixFQUFhZ0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCYixFQUFZdEMsVUFBV3NELEdBQWlCQyxHQUFhSixFQUFpQmIsRUFBYWlCLEdBQXFCakIsTUFFN2hCa0IsRUFBTyxTQUFhQyxFQUFJQyxFQUFLQyxHQUFxQyxJQUE5QixHQUFJQyxJQUFTLEVBQXdCQSxHQUFRLENBQUUsR0FBSUMsR0FBU0osRUFBSUssRUFBV0osRUFBS0ssRUFBV0osQ0FBS0MsSUFBUyxFQUFzQixPQUFYQyxJQUFpQkEsRUFBU0csU0FBU2hFLFVBQVcsSUFBSWlFLEdBQU8vSixPQUFPZ0sseUJBQXlCTCxFQUFRQyxFQUFXLElBQWFyRyxTQUFUd0csRUFBSixDQUE0TyxHQUFJLFNBQVdBLEdBQVEsTUFBT0EsR0FBSzdKLEtBQWdCLElBQUkrSixHQUFTRixFQUFLRyxHQUFLLElBQWUzRyxTQUFYMEcsRUFBd0IsTUFBb0IsT0FBT0EsR0FBT3pLLEtBQUtxSyxHQUEvVixHQUFJTSxHQUFTbkssT0FBT29LLGVBQWVULEVBQVMsSUFBZSxPQUFYUSxFQUFtQixNQUEyQlosR0FBS1ksRUFBUVgsRUFBTUksRUFBVUgsRUFBTUksRUFBVUgsR0FBUyxFQUFNSyxFQUFPSSxFQUFTNUcsU0FReGNDLEVBQVNyRSxFMkJsbEpJLEczQm9sSmJzRSxFQUFVN0QsRUFBdUI0RCxHQUVqQ0UsRUFBU3ZFLEUyQnJsSkksR0FFWjA1QixHM0JxbEpTajVCLEVBQXVCOEQsRzJCcmxKeEIsU0FBQWlILEdBRUQsUUFGUGt1QixHQUVRM3ZCLEczQnlsSlRoQixFQUFnQm5KLEsyQjNsSmY4NUIsR0FHRnZ2QixFQUFBdEosT0FBQW9LLGVBSEV5dUIsRUFBUS95QixXQUFBLGNBQUEvRyxNQUFBUyxLQUFBVCxLQUdKbUssR0FDTm5LLEtBQUsrNUIsU0FBVyxFM0JzcUpqQixNQWxGQXh3QixHMkJ4bEpHdXdCLEVBQVFsdUIsRzNCaW1KWDNCLEUyQmptSkc2dkIsSTNCa21KRDExQixJQUFLLFdBQ0xqRCxNMkI1bEpLLFNBQUNtSCxHM0I2bEpKLEdBQUlrRyxHQUFReE8sSTJCNWxKUyxXQUFyQnNJLEVBQUV6QixPQUFPbXpCLFNBQ2EsV0FBckIxeEIsRUFBRXpCLE9BQU9tekIsU0FDWSxhQUFyQjF4QixFQUFFekIsT0FBT216QixVM0I2bEpSLFcyQjVsSkgsR0FBTTVxQixHQUFXOUcsRUFBRStkLGNBQWNqWCxRQUM3QlosR0FBS3JFLE1BQU1xZCxZQUNQaFosRUFBS3JFLE1BQU1xZCxVQUFVMkMsY0FDdkIzYixFQUFLckUsTUFBTThoQixZQUFZN2MsR0FBV1osRUFBS3JFLE1BQU04VCxZQUNwQ3pQLEVBQUtyRSxNQUFNcWQsVUFBVXdKLDJCQUM5QnhpQixFQUFLdXJCLFdBS0w1VixXQUFXLFdBQ1ksSUFBbEIzVixFQUFLdXJCLFVBQ052ckIsRUFBS3JFLE1BQU04aEIsWUFBWTdjLEdBQVdaLEVBQUtyRSxNQUFNOFQsWUFFL0N6UCxFQUFLdXJCLFNBQVcsR0FDZixPQUdMdnJCLEVBQUtyRSxNQUFNd2hCLFlBQVluZCxFQUFLckUsTUFBTXdoQixXQUFXdmMsUzNCa21KbERoTCxJQUFLLGNBQ0xqRCxNMkIvbEpRLFNBQUNtSCxHQUNOdEksS0FBS21LLE1BQU00aEIsZUFDYi9yQixLQUFLbUssTUFBTTRoQixjQUFjempCLEVBQUUrZCxjQUFjalgsYTNCbW1KMUNoTCxJQUFLLGVBQ0xqRCxNMkJobUpTLFNBQUNtSCxHQUNQdEksS0FBS21LLE1BQU0waEIsZ0JBQ2I3ckIsS0FBS21LLE1BQU0waEIsZUFBZXZqQixFQUFFK2QsY0FBY2pYLGEzQm9tSjNDaEwsSUFBSyxTQUNMakQsTTJCam1KRyxXQUNKbkIsS0FBSys1QixTQUFXLENBQ2hCLElBQUlFLElBQ0YzMEIsT0FDRTQwQixnQkFBaUJsNkIsS0FBS21LLE1BQU04VCxXQUFXamUsS0FBS21LLE1BQU1xZCxVQUFVdUosUUFBUSxNQUV0RTNyQixXQUFXcEYsS0FBS21LLE1BQU04VCxZQUFjamUsS0FBS21LLE1BQU1xZCxVQUFVcGlCLFVBQVlwRixLQUFLbUssTUFBTXFkLFVBQVVwaUIsVUFBWSxLQUFPcEYsS0FBS21LLE1BQU0vRSxXQUFXLElBR3JJLE9BQUdwRixNQUFLbUssTUFBTXFkLFlBQWN4bkIsS0FBS21LLE1BQU1xZCxVQUFVMkMsZUFDL0NucUIsS0FBS21LLE1BQU1xZCxVQUFVd0osMkJBQTZCaHhCLEtBQUttSyxNQUFNd2hCLFdBRTNEam5CLEVBQUEsV0FBQVMsYzNCZ21KRyxLQUNBd0IsSzJCam1KS3N6QixHQUNKRSxZQUFhbjZCLEtBQUtvNkIsYUFBYWxRLEtBQUtscUIsTUFDcENxNkIsV0FBWXI2QixLQUFLczZCLFlBQVlwUSxLQUFLbHFCLE1BQ2xDd0ksUUFBU3hJLEtBQUt1NkIsU0FBU3JRLEtBQUtscUIsUUFBUUEsS0FBS21LLE1BQU00ZCxVQUluRHJqQixFQUFBLFdBQUFTLGMzQmttSkcsSzJCbG1KSzgwQixFQUFRajZCLEtBQUttSyxNQUFNNGQsY0FoRTdCK1IsR0FBaUJwMUIsRUFBQSxXQUFNK0gsV0FxRTdCcXRCLEdBQVM3bUIsV0FDUGdMLFdBQVl2WixFQUFBLFdBQU1nTyxVQUFVVSxLQUM1QnlnQixlQUFnQm52QixFQUFBLFdBQU1nTyxVQUFVVSxLQUNoQ3VZLFdBQVlqbkIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQzVCbVksWUFBYXZuQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FDN0JpWSxjQUFlcm5CLEVBQUEsV0FBTWdPLFVBQVVvQixLQUMvQitYLGVBQWdCbm5CLEVBQUEsV0FBTWdPLFVBQVVvQixNQUVsQ2dtQixFQUFTNUksY0FDUHZGLFdBQVlubkIsUTNCMG1KYjdFLEVBQVEsVzJCeG1KTW02QixFM0J5bUpkbDZCLEVBQU9ELFFBQVVBLEVBQVEsWUFJcEIsU0FBU0MsRUFBUUQsRUFBU1MsR0FFL0IsWTRCN3JKRCxTQUFTd0ksR0FBU3dFLEVBQU13QyxHQUN0QixHQUFJNHFCLEdBQWEsRUFDakIsT0FBb0IsS0FBaEJwdEIsRUFBS3ZKLE9BQXFCMjJCLEdBRTlCQSxHQUFjNXFCLEVBQUt0TCxLQUFLLEtBQU8sS0FFL0I4SSxFQUFLckYsSUFBSSxTQUFTMEcsR0FDaEJtQixFQUFLN0gsSUFBSSxTQUFTMHlCLEVBQUs5MkIsR0FDckIsR0FBSSsyQixHQUEyQixtQkFBYmpzQixHQUFJZ3NCLEdBQXdCLElBQUloc0IsRUFBSWdzQixHQUFLLElBQU8sRUFDbEVELElBQWNFLEVBQ1YvMkIsRUFBRSxFQUFJaU0sRUFBSy9MLFNBQ2IyMkIsR0FBYyxPQUdsQkEsR0FBYyxPQUdUQSxHQXRCVCxHNUJvc0pDdjVCLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxJNEJyc0pXLG1CQUFYTSxRQUNSLEdBQUlrNUIsR0FBWXY2QixFQUFRLElBQ3BCdzZCLEVBQVNELEVBQVVDLE1BdUJ6QixJQUFJdkwsR0FBWSxTQUFTamlCLEVBQU13QyxFQUFNaXJCLEdBQ25DLEdBQUlMLEdBQWE1eEIsRUFBU3dFLEVBQU13QyxFQUNWLG9CQUFYbk8sU0FDVG01QixFQUFRLEdBQUlFLE9BQU1OO0FBQWM5eUIsS0FBTSw2QkFBOEJtekIsR0FBWSxtQjVCMHNKbkZsN0IsR0FBUSxXNEJyc0pNMHZCLEU1QnNzSmR6dkIsRUFBT0QsUUFBVUEsRUFBUSxZQUlwQixTQUFTQyxFQUFRRCxFQUFTUyxHQUUvQixHQUFJbUQsR0FBOEJDLEU2Qi90Si9CbzNCLEVBQVNBLEdBQVcsU0FBU0csR0FDaEMsWUFFQSxJQUF5QixtQkFBZEMsYUFBNkIsZUFBZUMsS0FBS0QsVUFBVUUsV0FBdEUsQ0FHQSxHQUNHQyxHQUFNSixFQUFLNzFCLFNBRVhrMkIsRUFBVSxXQUNYLE1BQU9MLEdBQUtNLEtBQU9OLEVBQUtPLFdBQWFQLEdBRXBDUSxFQUFZSixFQUFJSyxnQkFBZ0IsK0JBQWdDLEtBQ2hFQyxFQUFvQixZQUFjRixHQUNsQ0csRUFBUSxTQUFTN29CLEdBQ2xCLEdBQUlvRyxHQUFRLEdBQUkwaUIsWUFBVyxRQUMzQjlvQixHQUFLK29CLGNBQWMzaUIsSUFFbEI0aUIsRUFBWSwyQkFBMkJaLEtBQUtELFVBQVVFLFdBQ3REWSxFQUFnQmYsRUFBS2dCLHdCQUNyQkMsRUFBU2pCLEVBQUtrQixtQkFBcUJILEdBQWlCZixFQUFLbUIscUJBQ3pEQyxFQUFnQixTQUFTQyxJQUN6QnJCLEVBQUtzQixjQUFnQnRCLEVBQUs1VyxZQUFZLFdBQ3RDLEtBQU1pWSxJQUNKLElBRUZFLEVBQXNCLDJCQUN0QkMsRUFBYyxFQUlkQyxFQUEyQixJQUMzQkMsRUFBUyxTQUFTQyxHQUNuQixHQUFJQyxHQUFVLFdBQ08sZ0JBQVRELEdBQ1Z0QixJQUFVd0IsZ0JBQWdCRixHQUUxQkEsRUFBS3pPLFNBR0g4TSxHQUFLOEIsT0FDUkYsSUFFQXhZLFdBQVd3WSxFQUFTSCxJQUdwQk0sRUFBVyxTQUFTbkMsRUFBV29DLEVBQWE5akIsR0FDN0M4akIsS0FBaUJ0aEIsT0FBT3NoQixFQUV4QixLQURBLEdBQUlwNUIsR0FBSW81QixFQUFZbDVCLE9BQ2JGLEtBQUssQ0FDWCxHQUFJaWYsR0FBVytYLEVBQVUsS0FBT29DLEVBQVlwNUIsR0FDNUMsSUFBd0Isa0JBQWJpZixHQUNWLElBQ0NBLEVBQVNuaUIsS0FBS2s2QixFQUFXMWhCLEdBQVMwaEIsR0FDakMsTUFBT3lCLEdBQ1JELEVBQWNDLE1BS2hCWSxFQUFXLFNBQVNDLEdBRXJCLE1BQUksNkVBQTZFaEMsS0FBS2dDLEVBQUt2MUIsTUFDbkYsR0FBSW96QixPQUFNLFNBQVVtQyxJQUFRdjFCLEtBQU11MUIsRUFBS3YxQixPQUV4Q3UxQixHQUVOQyxFQUFZLFNBQVNELEVBQU10b0IsRUFBTXdvQixHQUM3QkEsSUFDSkYsRUFBT0QsRUFBU0MsR0FHakIsSUFJR0csR0FDQUMsRUE0Q0ExaEIsRUFoREFnZixFQUFZMzZCLEtBQ1owSCxFQUFPdTFCLEVBQUt2MUIsS0FDWjQxQixHQUFlLEVBR2ZDLEVBQWUsV0FDaEJULEVBQVNuQyxFQUFXLHFDQUFxQzl4QixNQUFNLE9BRzlEMjBCLEVBQVcsV0FDWixHQUFJSCxHQUFleEIsR0FBbUMsbUJBQWY0QixZQUE0QixDQUVsRSxHQUFJQyxHQUFTLEdBQUlELFdBU2pCLE9BUkFDLEdBQU9DLFVBQVksV0FDbEIsR0FBSUMsR0FBYUYsRUFBT2h2QixNQUN4QjJ1QixHQUFZUSxTQUFTQyxLQUFPLHVCQUF5QkYsRUFBV2ppQixNQUFNaWlCLEVBQVd0dkIsT0FBTyxTQUN4RnFzQixFQUFVb0QsV0FBYXBELEVBQVVxRCxLQUNqQ1QsS0FFREcsRUFBT08sY0FBY2hCLFFBQ3JCdEMsRUFBVW9ELFdBQWFwRCxFQUFVdUQsTUFPbEMsSUFISVosR0FBaUJGLElBQ3BCQSxFQUFhaEMsSUFBVStDLGdCQUFnQmxCLElBRXBDSSxFQUNIQSxFQUFZUSxTQUFTQyxLQUFPVixNQUN0QixDQUNOLEdBQUlnQixHQUFVckQsRUFBS3NELEtBQUtqQixFQUFZLFNBQ3JCNTRCLFNBQVg0NUIsR0FBd0J2QyxJQUUzQmQsRUFBSzhDLFNBQVNDLEtBQU9WLEdBR3ZCekMsRUFBVW9ELFdBQWFwRCxFQUFVcUQsS0FDakNULElBQ0FkLEVBQU9XLElBRU5rQixFQUFZLFNBQVN4cUIsR0FDdEIsTUFBTyxZQUNOLE1BQUk2bUIsR0FBVW9ELGFBQWVwRCxFQUFVcUQsS0FDL0JscUIsRUFBSzNQLE1BQU1uRSxLQUFNNEQsV0FEekIsU0FLQTI2QixHQUF1QjcwQixRQUFRLEVBQU04MEIsV0FBVyxFQU9uRCxPQUpBN0QsR0FBVW9ELFdBQWFwRCxFQUFVdUQsS0FDNUJ2cEIsSUFDSkEsRUFBTyxZQUVKOG1CLEdBQ0gyQixFQUFhaEMsSUFBVStDLGdCQUFnQmxCLEdBQ3ZDMUIsRUFBVXVDLEtBQU9WLEVBQ2pCN0IsRUFBVWtELFNBQVc5cEIsTUFDckJ3UCxZQUFXLFdBQ1Z1WCxFQUFNSCxHQUNOZ0MsSUFDQWQsRUFBT1csR0FDUHpDLEVBQVVvRCxXQUFhcEQsRUFBVXFELFNBUy9CakQsRUFBSzhCLFFBQVVuMUIsR0FBUUEsSUFBUzQwQixJQUNuQzNnQixFQUFRc2hCLEVBQUt0aEIsT0FBU3NoQixFQUFLeUIsWUFDM0J6QixFQUFPdGhCLEVBQU1sYixLQUFLdzhCLEVBQU0sRUFBR0EsRUFBSy9GLEtBQU1vRixHQUN0Q2dCLEdBQWUsR0FLWnhCLEdBQTBCLGFBQVRubkIsSUFDcEJBLEdBQVEsY0FFTGpOLElBQVM0MEIsR0FBdUJSLEtBQ25DdUIsRUFBY3RDLEdBRVZpQixHQUlMTyxHQUFlVSxFQUFLL0YsU0FDcEI4RSxHQUFPakIsRUFBSzRELFVBQVdwQyxFQUFhK0IsRUFBVSxTQUFTTSxHQUN0REEsRUFBR24vQixLQUFLby9CLGFBQWEsUUFBU04sRUFBcUJELEVBQVUsU0FBU3RpQixHQUNyRSxHQUFJOGlCLEdBQU8sV0FDVjlpQixFQUFJK2lCLFFBQVFwcUIsRUFBTTRwQixFQUFxQkQsRUFBVSxTQUFTNUIsR0FDekRBLEVBQUtzQyxhQUFhVixFQUFVLFNBQVNXLEdBQ3BDQSxFQUFPQyxXQUFhLFNBQVNqbUIsR0FDNUJva0IsRUFBWVEsU0FBU0MsS0FBT3BCLEVBQUt5QyxRQUNqQ3hFLEVBQVVvRCxXQUFhcEQsRUFBVXFELEtBQ2pDbEIsRUFBU25DLEVBQVcsV0FBWTFoQixHQUNoQ3dqQixFQUFPQyxJQUVSdUMsRUFBT0csUUFBVSxXQUNoQixHQUFJMXVCLEdBQVF1dUIsRUFBT3Z1QixLQUNmQSxHQUFNMnVCLE9BQVMzdUIsRUFBTTR1QixXQUN4QjlCLEtBR0Ysa0NBQWtDMzBCLE1BQU0sS0FBSzBHLFFBQVEsU0FBUzBKLEdBQzdEZ21CLEVBQU8sS0FBT2htQixHQUFTMGhCLEVBQVUsS0FBTzFoQixLQUV6Q2dtQixFQUFPTSxNQUFNdEMsR0FDYnRDLEVBQVU2RSxNQUFRLFdBQ2pCUCxFQUFPTyxRQUNQN0UsRUFBVW9ELFdBQWFwRCxFQUFVcUQsTUFFbENyRCxFQUFVb0QsV0FBYXBELEVBQVU4RSxVQUM5QmpDLEtBQ0RBLEdBRUx4aEIsR0FBSStpQixRQUFRcHFCLEdBQU9qTCxRQUFRLEdBQVE0MEIsRUFBVSxTQUFTNUIsR0FFckRBLEVBQUt6TyxTQUNMNlEsTUFDR1IsRUFBVSxTQUFTbEMsR0FDbEJBLEVBQUdpRCxPQUFTakQsRUFBR3NELGNBQ2xCWixJQUVBdEIsU0FHQ0EsS0FDREEsUUE3Q0hBLE9BK0NBbUMsRUFBV3pDLEVBQVVuMkIsVUFDckI2ekIsRUFBUyxTQUFTcUMsRUFBTXRvQixFQUFNd29CLEdBQy9CLE1BQU8sSUFBSUQsR0FBVUQsRUFBTXRvQixFQUFNd29CLEdBSW5DLE9BQXlCLG1CQUFkbkMsWUFBNkJBLFVBQVU0RSxpQkFDMUMsU0FBUzNDLEVBQU10b0IsRUFBTXdvQixHQUkzQixNQUhLQSxLQUNKRixFQUFPRCxFQUFTQyxJQUVWakMsVUFBVTRFLGlCQUFpQjNDLEVBQU10b0IsR0FBUSxjQUlsRGdyQixFQUFTSCxNQUFRLFdBQ2hCLEdBQUk3RSxHQUFZMzZCLElBQ2hCMjZCLEdBQVVvRCxXQUFhcEQsRUFBVXFELEtBQ2pDbEIsRUFBU25DLEVBQVcsVUFFckJnRixFQUFTNUIsV0FBYTRCLEVBQVN6QixLQUFPLEVBQ3RDeUIsRUFBU0YsUUFBVSxFQUNuQkUsRUFBUzNCLEtBQU8sRUFFaEIyQixFQUFTanZCLE1BQ1RpdkIsRUFBU0UsYUFDVEYsRUFBU0csV0FDVEgsRUFBU0ksUUFDVEosRUFBU0ssUUFDVEwsRUFBU1AsUUFDVE8sRUFBU1QsV0FDUixLQUVNdEUsS0FFWSxtQkFBVHZULE9BQXdCQSxNQUNiLG1CQUFYNWxCLFNBQTBCQSxTQUNqQytDLFFBQUt5N0IsUUFNYSxvQkFBWHJnQyxJQUEwQkEsRUFBT0QsUUFDMUNDLEVBQU9ELFFBQVFpN0IsT0FBU0EsRUFDOEIsT0FBWHg2QixFQUFBLEtBQW1DLE1BQWRBLEVBQUEsTUFDaEVtRCxLQUFTQyxFQUFFLFdBQ1QsTUFBT28zQixJQUNSejJCLE1BQUF4RSxFQUFBNEQsS0FBQWlCLFNBQUFoQixJQUFBNUQsRUFBQUQsUUFBQTZELE03QjJ1SkcsU0FBUzVELEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDM0J3QixPQUFPLEdBR1gsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRThCemdLSSxHOUIyZ0tic0UsRUFBVTdELEVBQXVCNEQsR0FFakNFLEVBQVN2RSxFOEI1Z0tJLEc5QjhnS2J3RSxFQUFVL0QsRUFBdUI4RCxHOEI1Z0toQ3U3QixFQUFVLFNBQUF0MEIsR0FDRCxRQURUczBCLEdBQ1UvMUIsRzlCaWhLUGhCLEVBQWdCbkosSzhCbGhLbkJrZ0MsR0FFRTMxQixFQUFBdEosT0FBQW9LLGVBRkY2MEIsRUFBVW41QixXQUFBLGNBQUEvRyxNQUFBUyxLQUFBVCxLQUVGbUssR0FDTm5LLEtBQUtxTyxPQUFTck8sS0FBS3FPLE9BQU82YixLQUFLbHFCLE05QjZqS2xDLE1BakRBdUosRzhCL2dLQzIyQixFQUFVdDBCLEc5QndoS1gzQixFOEJ4aEtDaTJCLEk5QnloS0c5N0IsSUFBSyxpQkFDTGpELE04QnBoS1MsV0FDVixHQUFJZy9CLEdBQWUsRUFDbkIsSUFBSW5nQyxLQUFLbUssTUFBTTFDLGFBQWMsQ0FFekIsR0FBTUEsR0FBZSxHQUFJMjRCLE1BQUtwZ0MsS0FBS21LLE1BQU0xQyxhQUN6QzA0QixHQUFpQjE0QixFQUFhb0osY0FBYSxLQUFLLEtBQU9wSixFQUFhbUosV0FBYSxJQUFJK0ssTUFBTSxJQUFHLEtBQUssSUFBTWxVLEVBQWFrSixXQUFXZ0wsTUFBTSxJQUUzSSxNQUFPd2tCLE05QnVoS04vN0IsSUFBSyxTQUNMakQsTThCcmhLQyxTQUFDOFgsR0FDSCxHQUFNb25CLEdBQVlwbkIsRUFBTXBTLE9BQU8xRixLQUMzQmsvQixHQUNBcmdDLEtBQUttSyxNQUFNNnVCLGNBQWMsR0FBSW9ILE1BQUtDLEdBQVl6N0IsRUFBQSxXQUFNM0IsWUFBWUksTUFFaEVyRCxLQUFLbUssTUFBTTZ1QixjQUFjLEtBQU1wMEIsRUFBQSxXQUFNM0IsWUFBWUksUzlCeWhLcERlLElBQUssb0JBQ0xqRCxNOEJ0aEtZLFdBQ2IsR0FBTWsvQixHQUFZcmdDLEtBQUsrTCxLQUFLdTBCLFVBQVU3NEIsWUFDbEM0NEIsSUFDQXJnQyxLQUFLbUssTUFBTTZ1QixjQUFjLEdBQUlvSCxNQUFLQyxHQUFZejdCLEVBQUEsV0FBTTNCLFlBQVlJLFM5QjBoS25FZSxJQUFLLFNBQ0xqRCxNOEJ2aEtDLFdBQ0YsTUFDSXVELEdBQUEsV0FBQVMsY0FBQSxTQUFPb0gsSUFBSSxZQUNKbkgsVUFBVSxrQ0FDVnNDLEtBQUssT0FDTHNOLFNBQVVoVixLQUFLcU8sT0FDZjVHLGFBQWN6SCxLQUFLdWdDLHVCQXRDaENMLEdBQW1CeDdCLEVBQUEsV0FBTStILFVBMkMvQnl6QixHQUFXanRCLFdBQ1ArbEIsY0FBZXQwQixFQUFBLFdBQU1nTyxVQUFVb0IsS0FBSzBzQixXQUNwQy80QixhQUFjL0MsRUFBQSxXQUFNZ08sVUFBVTlILE9BQzlCbXVCLFdBQVlyMEIsRUFBQSxXQUFNZ08sVUFBVUUsUTlCNmhLL0JqVCxFQUFRLFc4QjFoS011Z0MsRTlCMmhLZHRnQyxFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDM0J3QixPQUFPLEdBR1gsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRStCcm1LSSxHL0J1bUtic0UsRUFBVTdELEVBQXVCNEQsR0FFakNJLEVBQWN6RSxFK0J4bUtFLEcvQjBtS2hCMEUsRUFBZWpFLEVBQXVCZ0UsR0FFdENGLEVBQVN2RSxFK0IzbUtJLEcvQjZtS2J3RSxFQUFVL0QsRUFBdUI4RCxHK0IzbUtoQzg3QixHQUFvQixJQUFLLElBQUssS0FBTSxJQUFLLEtBQU0sTUFFL0NDLEVBQVksU0FBQTkwQixHQUNILFFBRFQ4MEIsR0FDVXYyQixHL0JnbktQaEIsRUFBZ0JuSixLK0JqbktuQjBnQyxHQUVFbjJCLEVBQUF0SixPQUFBb0ssZUFGRnExQixFQUFZMzVCLFdBQUEsY0FBQS9HLE1BQUFTLEtBQUFULEtBRUptSyxHQUNObkssS0FBSzY1QixrQkFBb0I3NUIsS0FBS21LLE1BQU0wdkIsbUJBQXFCNEcsRUFDekR6Z0MsS0FBS2lYLE9BQ0QwcEIsc0JBQW1EbjhCLFFBQTNCeEUsS0FBS21LLE1BQU0xQyxjQUN1QmpELFFBQWxDeEUsS0FBS21LLE1BQU0xQyxhQUFhdUksUUFDdkJoUSxLQUFLbUssTUFBTXZDLFNBQXlFLElBQTlENUgsS0FBS21LLE1BQU12QyxRQUFROEgsUUFBUTFQLEtBQUttSyxNQUFNMUMsYUFBYXVJLFNBRXRHaFEsS0FBSzRnQyxlQUFpQjVnQyxLQUFLNGdDLGVBQWUxVyxLQUFLbHFCLE1BQy9DQSxLQUFLNmdDLGtCQUFvQjdnQyxLQUFLNmdDLGtCQUFrQjNXLEtBQUtscUIsTUFDckRBLEtBQUs4Z0MsbUJBQXFCOWdDLEtBQUs4Z0MsbUJBQW1CNVcsS0FBS2xxQixNL0I2dEsxRCxNQTFIQXVKLEcrQjltS0NtM0IsRUFBWTkwQixHL0I2bktiM0IsRStCN25LQ3kyQixJL0I4bktHdDhCLElBQUssaUJBQ0xqRCxNK0JqbktTLFNBQUM4WCxHQUNYLEdBQStDLEtBQTNDalosS0FBSytMLEtBQUtnMUIsdUJBQXVCNS9CLE1BQXJDLENBR0luQixLQUFLa2tCLFNBQ0xHLGFBQWFya0IsS0FBS2trQixRQUV0QixJQUFNbUQsR0FBT3JuQixLQUNQd2QsRUFBY3ZFLEVBQU1wUyxPQUFPMUYsS0FDakNuQixNQUFLa2tCLFFBQVVDLFdBQVcsV0FDdEJrRCxFQUFLbGQsTUFBTTZ1QixlQUFlaHBCLE9BQVF3TixFQUFhbk4sV0FBWWdYLEVBQUt0YixLQUFLZzFCLHVCQUF1QjUvQixPQUN4RnlELEVBQUEsV0FBTTNCLFlBQVlHLFNBQ3ZCaWtCLEVBQUtsZCxNQUFNd3ZCLFcvQm1uS2J2MUIsSUFBSyxvQkFDTGpELE0rQmpuS1ksU0FBQzhYLEdBQ2RqWixLQUFLNFksVUFBVStuQixzQkFBK0MsS0FBdkIxbkIsRUFBTXBTLE9BQU8xRixRQUNMLEtBQTNDbkIsS0FBSytMLEtBQUtnMUIsdUJBQXVCNS9CLE9BR3JDbkIsS0FBS21LLE1BQU02dUIsZUFBZWhwQixPQUFRaUosRUFBTXBTLE9BQU8xRixNQUFPa1AsV0FBWXJRLEtBQUsrTCxLQUFLZzFCLHVCQUF1QjUvQixPQUMvRnlELEVBQUEsV0FBTTNCLFlBQVlHLFcvQm1uS3JCZ0IsSUFBSyxxQkFDTGpELE0rQmpuS2EsU0FBQzhYLEdBQ3NCLEtBQWpDalosS0FBSytMLEtBQUtpMUIsYUFBYTcvQixPQUczQm5CLEtBQUttSyxNQUFNNnVCLGVBQWVocEIsT0FBUWhRLEtBQUsrTCxLQUFLaTFCLGFBQWE3L0IsTUFBT2tQLFdBQVk0SSxFQUFNcFMsT0FBTzFGLE9BQ3JGeUQsRUFBQSxXQUFNM0IsWUFBWUcsVy9CbW5LckJnQixJQUFLLHVCQUNMakQsTStCam5LZSxXQUNoQixHQUFJOC9CLEtBQ0pBLEdBQVdqOUIsS0FBS1UsRUFBQSxXQUFBUyxjQUFBLFVBQVFmLElBQUksT0FDNUIsS0FBSyxHQUFJVCxHQUFJLEVBQUdBLEVBQUkzRCxLQUFLNjVCLGtCQUFrQmgyQixPQUFRRixJQUMvQ3M5QixFQUFXajlCLEtBQUtVLEVBQUEsV0FBQVMsYy9Ca25LUCxVK0JsbktlZixJQUFLVCxFQUFHeEMsTUFBT25CLEtBQUs2NUIsa0JBQWtCbDJCLElBQUszRCxLQUFLNjVCLGtCQUFrQmwyQixJQUU5RixPQUFPczlCLE0vQnduS043OEIsSUFBSyxtQkFDTGpELE0rQnRuS1csV0FDWixHQUFJOC9CLE1BQ0VyNUIsRUFBVTVILEtBQUttSyxNQUFNdkMsT0FFM0JxNUIsR0FBV2o5QixLQUFLVSxFQUFBLFdBQUFTLGMvQnVuS1AsVStCdm5LZWYsSUFBSSxLQUFLakQsTUFBTSxJQUFJbkIsS0FBS21LLE1BQU11TCxhQUFXLFVBQWMxVixLQUFLbUssTUFBTTR1QixXQUFVLE9BQ3BHLEtBQUssR0FBSXAxQixHQUFJLEVBQUdBLEVBQUlpRSxFQUFRL0QsT0FBUUYsSUFDaENzOUIsRUFBV2o5QixLQUFLVSxFQUFBLFdBQUFTLGMvQjJuS1AsVStCM25LZWYsSUFBS1QsRUFBR3hDLE1BQU95RyxFQUFRakUsSUFBS2lFLEVBQVFqRSxJQUVoRSxPQUFPczlCLE0vQmlvS043OEIsSUFBSyxvQkFDTGpELE0rQi9uS1ksV0FDVG5CLEtBQUsrTCxLQUFLZzFCLHVCQUF1QjUvQixPQUFTbkIsS0FBSytMLEtBQUtpMUIsYUFBYTcvQixPQUNqRW5CLEtBQUttSyxNQUFNNnVCLGVBQWVocEIsT0FBUWhRLEtBQUsrTCxLQUFLaTFCLGFBQWE3L0IsTUFDckRrUCxXQUFZclEsS0FBSytMLEtBQUtnMUIsdUJBQXVCNS9CLE9BQzdDeUQsRUFBQSxXQUFNM0IsWUFBWUcsVy9Ca29LekJnQixJQUFLLFNBQ0xqRCxNK0IvbktDLFdBQ0YsR0FBSSsvQixJQUFjLEVBQUFwOEIsRUFBQSxZQUFTLGdCQUFpQixzQkFBdUIsZ0JBQzdDcThCLHVCQUF3Qm5oQyxLQUFLaVgsTUFBTTBwQix1QkFFekQsT0FDSWo4QixHQUFBLFdBQUFTLGMvQjhuS0ssTytCOW5LQUMsVUFBVSx3QkFDWFYsRUFBQSxXQUFBUyxjL0Jnb0tLLFUrQmhvS0dvSCxJQUFJLHlCQUNKbkgsVUFBVSx3Q0FDVjRQLFNBQVVoVixLQUFLOGdDLG1CQUNmcjVCLGFBQWV6SCxLQUFLbUssTUFBTTFDLGFBQWdCekgsS0FBS21LLE1BQU0xQyxhQUFhNEksV0FBYSxJQUNsRnJRLEtBQUtvaEMsd0JBRVJwaEMsS0FBS21LLE1BQU12QyxRQUFXbEQsRUFBQSxXQUFBUyxjL0Jrb0tuQixVK0Jsb0syQm9ILElBQUksZUFDSm5ILFVBQVc4N0IsRUFDWGxzQixTQUFVaFYsS0FBSzZnQyxrQkFDZnA1QixhQUFlekgsS0FBS21LLE1BQU0xQyxhQUN0QnpILEtBQUttSyxNQUFNMUMsYUFBYXVJLE9BQ3hCLElBQ1BoUSxLQUFLcWhDLG9CQUdWMzhCLEVBQUEsV0FBQVMsY0FBQSxTQUFPb0gsSUFBSSxlQUNKN0UsS0FBSyxTQUNMdEMsVUFBVSxtQ0FDVnNRLFlBQWExVixLQUFLbUssTUFBTXVMLGFBQVcsU0FBYTFWLEtBQUttSyxNQUFNNHVCLFdBQVUsTUFDckUvakIsU0FBVWhWLEtBQUs0Z0MsZUFDZm41QixhQUFlekgsS0FBS21LLE1BQU0xQyxhQUNyQnpILEtBQUttSyxNQUFNMUMsYUFBYXVJLE9BQ3hCLFVBdEc5QzB3QixHQUFxQmg4QixFQUFBLFdBQU0rSCxVQTRHakNpMEIsR0FBYXp0QixXQUNUK2xCLGNBQWV0MEIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQUswc0IsV0FDcEM1NEIsUUFBU2xELEVBQUEsV0FBTWdPLFVBQVVrbkIsUUFBUWwxQixFQUFBLFdBQU1nTyxVQUFVMUMsUUFDakR2SSxhQUFjL0MsRUFBQSxXQUFNZ08sVUFBVW1lLE9BQzFCN2dCLE9BQVF0TCxFQUFBLFdBQU1nTyxVQUFVMUMsT0FDeEJLLFdBQVkzTCxFQUFBLFdBQU1nTyxVQUFVb2UsTUFBTTJQLEtBRXRDOUcsTUFBT2oxQixFQUFBLFdBQU1nTyxVQUFVMUMsT0FDdkI2cEIsa0JBQW1CLFNBQVMxdkIsRUFBT20zQixHQUMvQixHQUFLbjNCLEVBQU1tM0IsR0FHWCxJQUFLLEdBQUkzOUIsR0FBSSxFQUFHQSxFQUFJd0csRUFBTW0zQixHQUFVejlCLE9BQVFGLElBQUssQ0FFN0MsSUFBSyxHQURENDlCLElBQW9CLEVBQ2ZDLEVBQUksRUFBR0EsRUFBSWYsRUFBaUI1OEIsT0FBUTI5QixJQUN6QyxHQUFJZixFQUFpQmUsS0FBT3IzQixFQUFNbTNCLEdBQVUzOUIsR0FBSSxDQUM1QzQ5QixHQUFvQixDQUNwQixPQUdSLElBQUtBLEVBQ0QsTUFBTyxJQUFJN2UsT0FBSyx5REFBMEQrZCxLQUl0Ri9xQixZQUFhaFIsRUFBQSxXQUFNZ08sVUFBVUUsT0FDN0JtbUIsV0FBWXIwQixFQUFBLFdBQU1nTyxVQUFVRSxRQUdoQzh0QixFQUFheFAsY0FDVHlJLE1BQU8vMEIsRUFBQSxXQUFNNUIsYy9Cb29LaEJyRCxFQUFRLFcrQmpvS00rZ0MsRS9Ca29LZDlnQyxFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDOUJ3QixPQUFPLEdBR1IsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRWdDM3lLSSxHaEM2eUtic0UsRUFBVTdELEVBQXVCNEQsR0FFakNJLEVBQWN6RSxFZ0M5eUtFLEdoQ2d6S2hCMEUsRUFBZWpFLEVBQXVCZ0UsR0FFdENGLEVBQVN2RSxFZ0NqektJLEdoQ216S2J3RSxFQUFVL0QsRUFBdUI4RCxHZ0NqektoQzg4QixFQUFZLFNBQUE3MUIsR0FDTixRQURONjFCLEdBQ090M0IsR2hDc3pLVmhCLEVBQWdCbkosS2dDdnpLYnloQyxHQUVKbDNCLEVBQUF0SixPQUFBb0ssZUFGSW8yQixFQUFZMTZCLFdBQUEsY0FBQS9HLE1BQUFTLEtBQUFULEtBRVZtSyxHQUNObkssS0FBS3FPLE9BQVNyTyxLQUFLcU8sT0FBTzZiLEtBQUtscUIsTUFDL0JBLEtBQUtpWCxPQUNKMHBCLHNCQUFtRG44QixRQUEzQnhFLEtBQUttSyxNQUFNMUMsZUFDNUJ6SCxLQUFLbUssTUFBTXZDLFFBQVFyRCxlQUFldkUsS0FBS21LLE1BQU0xQyxlaEMwMktyRCxNQTVEQThCLEdnQ3B6S0lrNEIsRUFBWTcxQixHaENnMEtoQjNCLEVnQ2gwS0l3M0IsSWhDaTBLSHI5QixJQUFLLFNBQ0xqRCxNZ0N4ektJLFNBQUM4WCxHQUNOalosS0FBSzRZLFVBQVUrbkIsc0JBQStDLEtBQXZCMW5CLEVBQU1wUyxPQUFPMUYsUUFDcERuQixLQUFLbUssTUFBTTZ1QixjQUFjL2YsRUFBTXBTLE9BQU8xRixNQUFPeUQsRUFBQSxXQUFNM0IsWUFBWUUsV2hDMnpLOURpQixJQUFLLGFBQ0xqRCxNZ0N6ektRLFdBQ1QsR0FBSTgvQixNQUNFcjVCLEVBQVU1SCxLQUFLbUssTUFBTXZDLE9BSzNCLE9BSkFxNUIsR0FBV2o5QixLQUFLVSxFQUFBLFdBQUFTLGNoQzB6S2IsVWdDMXpLcUJmLElBQUksS0FBS2pELE1BQU0sSUFBSW5CLEtBQUttSyxNQUFNdUwsYUFBVyxVQUFjMVYsS0FBS21LLE1BQU00dUIsV0FBVSxRQUNwRzkzQixPQUFPMk8sS0FBS2hJLEdBQVNHLElBQUksU0FBQzNELEdBQ3pCNjhCLEVBQVdqOUIsS0FBS1UsRUFBQSxXQUFBUyxjaEM4ektiLFVnQzl6S3FCZixJQUFLQSxFQUFLakQsTUFBT2lELEdBQU13RCxFQUFReEQsT0FFakQ2OEIsS2hDbzBLTjc4QixJQUFLLG9CQUNMakQsTWdDbDBLZSxXQUNabkIsS0FBSytMLEtBQUsyMUIsWUFBWXZnQyxPQUN6Qm5CLEtBQUttSyxNQUFNNnVCLGNBQWNoNUIsS0FBSytMLEtBQUsyMUIsWUFBWXZnQyxNQUFPeUQsRUFBQSxXQUFNM0IsWUFBWUUsV2hDczBLeEVpQixJQUFLLFNBQ0xqRCxNZ0NuMEtJLFdBQ0wsR0FBSSsvQixJQUFjLEVBQUFwOEIsRUFBQSxZQUFTLFNBQVUsZ0JBQWlCLGdCQUNoRHE4Qix1QkFBd0JuaEMsS0FBS2lYLE1BQU0wcEIsdUJBRXpDLE9BQ0NqOEIsR0FBQSxXQUFBUyxjaENrMEtFLFVnQ2wwS01vSCxJQUFJLGNBQ1ZuSCxVQUFXODdCLEVBQ1hsc0IsU0FBVWhWLEtBQUtxTyxPQUNmNUcsYUFBMENqRCxRQUEzQnhFLEtBQUttSyxNQUFNMUMsYUFBNkJ6SCxLQUFLbUssTUFBTTFDLGFBQWUsSUFDakZ6SCxLQUFLMmhDLGtCQXhDSkYsR0FBcUIvOEIsRUFBQSxXQUFNK0gsVUE4Q2pDZzFCLEdBQWF4dUIsV0FDWitsQixjQUFldDBCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUFLMHNCLFdBQ3BDNTRCLFFBQVNsRCxFQUFBLFdBQU1nTyxVQUFVOUgsT0FBTzQxQixXQUNoQzlxQixZQUFhaFIsRUFBQSxXQUFNZ08sVUFBVUUsT0FDN0JtbUIsV0FBWXIwQixFQUFBLFdBQU1nTyxVQUFVRSxRaEMwMEs1QmpULEVBQVEsV2dDdjBLTThoQyxFaEN3MEtkN2hDLEVBQU9ELFFBQVVBLEVBQVEsWUFJcEIsU0FBU0MsRUFBUUQsRUFBU1MsR0FFL0IsWUFVQSxTQUFTUyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQUV6RixRQUFTcUksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJSCxXQUFVLGlFQUFvRUcsR0FBZUQsR0FBU3pDLFVBQVk5RixPQUFPeUksT0FBT0QsR0FBY0EsRUFBVzFDLFdBQWE0QyxhQUFleEksTUFBT3FJLEVBQVVJLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWVMLElBQVl4SSxPQUFPOEksZUFBaUI5SSxPQUFPOEksZUFBZVAsRUFBVUMsR0FBY0QsRUFBU1EsVUFBWVAsR0FaamV4SSxPQUFPQyxlQUFldkIsRUFBUyxjQUM5QndCLE9BQU8sR0FHUixJQUFJOEksR0FBZSxXQUFlLFFBQVNDLEdBQWlCckQsRUFBUXNELEdBQVMsSUFBSyxHQUFJeEcsR0FBSSxFQUFHQSxFQUFJd0csRUFBTXRHLE9BQVFGLElBQUssQ0FBRSxHQUFJeUcsR0FBYUQsRUFBTXhHLEVBQUl5RyxHQUFXUixXQUFhUSxFQUFXUixhQUFjLEVBQU9RLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU01SSxPQUFPQyxlQUFlMkYsRUFBUXVELEVBQVdoRyxJQUFLZ0csSUFBaUIsTUFBTyxVQUFVZixFQUFhZ0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCYixFQUFZdEMsVUFBV3NELEdBQWlCQyxHQUFhSixFQUFpQmIsRUFBYWlCLEdBQXFCakIsTUFFN2hCa0IsRUFBTyxTQUFhQyxFQUFJQyxFQUFLQyxHQUFxQyxJQUE5QixHQUFJQyxJQUFTLEVBQXdCQSxHQUFRLENBQUUsR0FBSUMsR0FBU0osRUFBSUssRUFBV0osRUFBS0ssRUFBV0osQ0FBS0MsSUFBUyxFQUFzQixPQUFYQyxJQUFpQkEsRUFBU0csU0FBU2hFLFVBQVcsSUFBSWlFLEdBQU8vSixPQUFPZ0sseUJBQXlCTCxFQUFRQyxFQUFXLElBQWFyRyxTQUFUd0csRUFBSixDQUE0TyxHQUFJLFNBQVdBLEdBQVEsTUFBT0EsR0FBSzdKLEtBQWdCLElBQUkrSixHQUFTRixFQUFLRyxHQUFLLElBQWUzRyxTQUFYMEcsRUFBd0IsTUFBb0IsT0FBT0EsR0FBT3pLLEtBQUtxSyxHQUEvVixHQUFJTSxHQUFTbkssT0FBT29LLGVBQWVULEVBQVMsSUFBZSxPQUFYUSxFQUFtQixNQUEyQlosR0FBS1ksRUFBUVgsRUFBTUksRUFBVUgsRUFBTUksRUFBVUgsR0FBUyxFQUFNSyxFQUFPSSxFQUFTNUcsU0FReGNDLEVBQVNyRSxFaUN2NUtJLEdqQ3k1S2JzRSxFQUFVN0QsRUFBdUI0RCxHQUVqQ0UsRUFBU3ZFLEVpQzE1S0ksR2pDNDVLYndFLEVBQVUvRCxFQUF1QjhELEdpQzE1S2hDaTlCLEVBQVUsU0FBQWgyQixHQUNKLFFBRE5nMkIsR0FDT3ozQixHakMrNUtWaEIsRUFBZ0JuSixLaUNoNktiNGhDLEdBRUpyM0IsRUFBQXRKLE9BQUFvSyxlQUZJdTJCLEVBQVU3NkIsV0FBQSxjQUFBL0csTUFBQVMsS0FBQVQsS0FFUm1LLEdBQ05uSyxLQUFLcU8sT0FBU3JPLEtBQUtxTyxPQUFPNmIsS0FBS2xxQixNQUMvQkEsS0FBS2trQixRQUFVLEtqQ2s4S2YsTUF6Q0EzYSxHaUM3NUtJcTRCLEVBQVVoMkIsR2pDdTZLZDNCLEVpQ3Y2S0kyM0IsSWpDdzZLSHg5QixJQUFLLFNBQ0xqRCxNaUNsNktJLFNBQUM4WCxHQUNGalosS0FBS2trQixTQUNSRyxhQUFhcmtCLEtBQUtra0IsUUFFbkIsSUFBTW1ELEdBQU9ybkIsS0FDUHdkLEVBQWN2RSxFQUFNcFMsT0FBTzFGLEtBQ2pDbkIsTUFBS2trQixRQUFVQyxXQUFXLFdBQ3pCa0QsRUFBS2xkLE1BQU02dUIsY0FBY3hiLEVBQWE1WSxFQUFBLFdBQU0zQixZQUFZQyxPQUN0RG1rQixFQUFLbGQsTUFBTXd2QixVakNxNktidjFCLElBQUssb0JBQ0xqRCxNaUNuNktlLFdBQ1puQixLQUFLK0wsS0FBSzgxQixVQUFVcDZCLGNBQ3ZCekgsS0FBS21LLE1BQU02dUIsY0FBY2g1QixLQUFLK0wsS0FBSzgxQixVQUFVcDZCLGFBQWM3QyxFQUFBLFdBQU0zQixZQUFZQyxTakN1Nks3RWtCLElBQUssU0FDTGpELE1pQ3A2S0ksV0FDTCxNQUNDdUQsR0FBQSxXQUFBUyxjQUFBLFNBQU9vSCxJQUFJLFlBQ1BuSCxVQUFVLGtDQUNWc0MsS0FBSyxPQUNMc04sU0FBVWhWLEtBQUtxTyxPQUNmcUgsWUFBYTFWLEtBQUttSyxNQUFNdUwsYUFBVyxTQUFhMVYsS0FBS21LLE1BQU00dUIsV0FBVSxNQUNyRXR4QixhQUFlekgsS0FBS21LLE1BQU0xQyxhQUFnQnpILEtBQUttSyxNQUFNMUMsYUFBZSxTQS9CckVtNkIsR0FBbUJsOUIsRUFBQSxXQUFNK0gsVUFvQy9CbTFCLEdBQVczdUIsV0FDVitsQixjQUFldDBCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUFLMHNCLFdBQ3BDLzRCLGFBQWMvQyxFQUFBLFdBQU1nTyxVQUFVRSxPQUM5QittQixNQUFPajFCLEVBQUEsV0FBTWdPLFVBQVUxQyxPQUN2QjBGLFlBQWFoUixFQUFBLFdBQU1nTyxVQUFVRSxPQUM3Qm1tQixXQUFZcjBCLEVBQUEsV0FBTWdPLFVBQVVFLFFBRzdCZ3ZCLEVBQVcxUSxjQUNWeUksTUFBTy8wQixFQUFBLFdBQU01QixjakMwNktickQsRUFBUSxXaUN2NktNaWlDLEVqQ3c2S2RoaUMsRUFBT0QsUUFBVUEsRUFBUSxZQUlwQixTQUFTQyxFQUFRRCxFQUFTUyxHQUUvQixZQVVBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVdGLEdBRXpGLFFBQVNxSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlILFdBQVUsaUVBQW9FRyxHQUFlRCxHQUFTekMsVUFBWTlGLE9BQU95SSxPQUFPRCxHQUFjQSxFQUFXMUMsV0FBYTRDLGFBQWV4SSxNQUFPcUksRUFBVUksWUFBWSxFQUFPQyxVQUFVLEVBQU1DLGNBQWMsS0FBZUwsSUFBWXhJLE9BQU84SSxlQUFpQjlJLE9BQU84SSxlQUFlUCxFQUFVQyxHQUFjRCxFQUFTUSxVQUFZUCxHQVpqZXhJLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxHQUdULElBQUk4SSxHQUFlLFdBQWUsUUFBU0MsR0FBaUJyRCxFQUFRc0QsR0FBUyxJQUFLLEdBQUl4RyxHQUFJLEVBQUdBLEVBQUl3RyxFQUFNdEcsT0FBUUYsSUFBSyxDQUFFLEdBQUl5RyxHQUFhRCxFQUFNeEcsRUFBSXlHLEdBQVdSLFdBQWFRLEVBQVdSLGFBQWMsRUFBT1EsRUFBV04sY0FBZSxFQUFVLFNBQVdNLEtBQVlBLEVBQVdQLFVBQVcsR0FBTTVJLE9BQU9DLGVBQWUyRixFQUFRdUQsRUFBV2hHLElBQUtnRyxJQUFpQixNQUFPLFVBQVVmLEVBQWFnQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUgsRUFBaUJiLEVBQVl0QyxVQUFXc0QsR0FBaUJDLEdBQWFKLEVBQWlCYixFQUFhaUIsR0FBcUJqQixNQUU3aEJrQixFQUFPLFNBQWFDLEVBQUlDLEVBQUtDLEdBQXFDLElBQTlCLEdBQUlDLElBQVMsRUFBd0JBLEdBQVEsQ0FBRSxHQUFJQyxHQUFTSixFQUFJSyxFQUFXSixFQUFLSyxFQUFXSixDQUFLQyxJQUFTLEVBQXNCLE9BQVhDLElBQWlCQSxFQUFTRyxTQUFTaEUsVUFBVyxJQUFJaUUsR0FBTy9KLE9BQU9nSyx5QkFBeUJMLEVBQVFDLEVBQVcsSUFBYXJHLFNBQVR3RyxFQUFKLENBQTRPLEdBQUksU0FBV0EsR0FBUSxNQUFPQSxHQUFLN0osS0FBZ0IsSUFBSStKLEdBQVNGLEVBQUtHLEdBQUssSUFBZTNHLFNBQVgwRyxFQUF3QixNQUFvQixPQUFPQSxHQUFPekssS0FBS3FLLEdBQS9WLEdBQUlNLEdBQVNuSyxPQUFPb0ssZUFBZVQsRUFBUyxJQUFlLE9BQVhRLEVBQW1CLE1BQTJCWixHQUFLWSxFQUFRWCxFQUFNSSxFQUFVSCxFQUFNSSxFQUFVSCxHQUFTLEVBQU1LLEVBQU9JLEVBQVM1RyxTQVF4Y0MsRUFBU3JFLEVrQ2ovS0ksR2xDbS9LYnNFLEVBQVU3RCxFQUF1QjRELEdBRWpDSSxFQUFjekUsRWtDcC9LRSxHbENzL0toQjBFLEVBQWVqRSxFQUF1QmdFLEdrQ3AvS3JDaTlCLEVBQVUsU0FBQWwyQixHQUVILFFBRlBrMkIsR0FFUTMzQixHbEN3L0tUaEIsRUFBZ0JuSixLa0MxL0tmOGhDLEdBR0p2M0IsRUFBQXRKLE9BQUFvSyxlQUhJeTJCLEVBQVUvNkIsV0FBQSxjQUFBL0csTUFBQVMsS0FBQVQsS0FHUm1LLEdsQ3NoTEwsTUFsQ0FaLEdrQ3YvS0d1NEIsRUFBVWwyQixHbEMrL0tiM0IsRWtDLy9LRzYzQixJbENnZ0xEMTlCLElBQUssZUFDTGpELE1rQzMvS1MsU0FBQ21ILEdBQ1hBLEVBQUVvUixpQkFDRjFaLEtBQUttSyxNQUFNdWtCLFdBQVdwbUIsRUFBRStkLGNBQWNoVixTbEM4L0tyQ2pOLElBQUssU0FDTGpELE1rQzUvS0csV0FDSixHQUFJdUMsSUFBVSxFQUFBb0IsRUFBQSxhQUNWaTlCLE9BQVUvaEMsS0FBS21LLE1BQU00M0IsT0FDckJwNkIsU0FBWTNILEtBQUttSyxNQUFNNjNCLFFBQ3ZCendCLE9BQVV2UixLQUFLbUssTUFBTW9ILFFBRXpCLE9BQ0k3TSxHQUFBLFdBQUFTLGNsQzQvS0MsTWtDNS9LR0MsVUFBVzFCLEdBQVNnQixFQUFBLFdBQUFTLGNsQysvS3JCLEtrQy8vS3dCMjRCLEtBQUssSUFBSXQxQixRQUFTeEksS0FBS2lpQyxhQUFhL1gsS0FBS2xxQixPQUFRQSxLQUFLbUssTUFBTTRkLGVBbEJ6RitaLEdBQW1CcDlCLEVBQUEsV0FBTStILFVBc0IvQnExQixHQUFXN3VCLFdBQ1R5YixXQUFZaHFCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUM1Qml1QixPQUFRcjlCLEVBQUEsV0FBTWdPLFVBQVVVLEtBQ3hCNHVCLFFBQVN0OUIsRUFBQSxXQUFNZ08sVUFBVVUsTWxDeWdMMUJ6VCxFQUFRLFdrQ3RnTE1taUMsRWxDdWdMZGxpQyxFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDN0J3QixPQUFPLEdBR1QsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRW1DNWpMSSxHbkM4akxic0UsRUFBVTdELEVBQXVCNEQsR0FFakN5OUIsRUFBZ0I5aEMsRW1DL2pMRSxJbkNpa0xsQitoQyxFQUFpQnRoQyxFQUF1QnFoQyxHQUV4Q3Y5QixFQUFTdkUsRW1DbGtMSSxHbkNva0xid0UsRUFBVS9ELEVBQXVCOEQsR21DbGtMaEN5OUIsRUFBYyxTQUFBeDJCLEduQ3VrTGpCLFFtQ3ZrTEd3MkIsS25Dd2tMRGo1QixFQUFnQm5KLEttQ3hrTGZvaUMsR25DMGtMRDczQixFQUFLdEosT0FBT29LLGVtQzFrTFgrMkIsRUFBY3I3QixXQUFBLGNBQUEvRyxNQUFBbUUsTUFBQW5FLEtBQUE0RCxXbkNnd0xqQixNQTNMQTJGLEdtQ3JrTEc2NEIsRUFBY3gyQixHbkM2a0xqQjNCLEVtQzdrTEdtNEIsSW5DOGtMRGgrQixJQUFLLGFBQ0xqRCxNbUM3a0xPLFNBQUN3bUIsR0FFUEEsRUFERUEsR0FBUTNuQixLQUFLbUssTUFBTTRrQixRQUNkL3VCLEtBQUttSyxNQUFNdWQsU0FBVyxFQUFJLEVBQUksRUFBSTFuQixLQUFLbUssTUFBTXVkLFNBQVcsRUFDdERDLEdBQVEzbkIsS0FBS21LLE1BQU02a0IsU0FDckJodkIsS0FBS21LLE1BQU11ZCxTQUFXLEVBQUkxbkIsS0FBS3FpQyxXQUFhcmlDLEtBQUtxaUMsV0FBYXJpQyxLQUFLbUssTUFBTXVkLFNBQVcsRUFDbEZDLEdBQVEzbkIsS0FBS21LLE1BQU0ra0IsU0FDckJsdkIsS0FBS3FpQyxXQUNIMWEsR0FBUTNuQixLQUFLbUssTUFBTThrQixVQUNyQixFQUVBdUMsU0FBUzdKLEdBR2RBLEdBQVEzbkIsS0FBS21LLE1BQU11ZCxVQUNyQjFuQixLQUFLbUssTUFBTXVrQixXQUFXL0csRUFBTTNuQixLQUFLbUssTUFBTTZFLGdCbkNpbEx4QzVLLElBQUssb0JBQ0xqRCxNbUM5a0xjLFNBQUNtSCxHQUNoQkEsRUFBRW9SLGdCQUVGLElBQU00b0IsR0FBYTlRLFNBQVNscEIsRUFBRStkLGNBQWNoVixNQUN0Q3FXLEVBQWExbkIsS0FBS21LLE1BQWxCdWQsUUFDRjRhLElBQWN0aUMsS0FBS21LLE1BQU02RSxjQUMzQmhQLEtBQUtxaUMsV0FBYTdZLEtBQUtDLEtBQUt6cEIsS0FBS21LLE1BQU1va0IsU0FBVytULEdBQzlDNWEsRUFBVzFuQixLQUFLcWlDLGFBQ2xCM2EsRUFBVzFuQixLQUFLcWlDLFlBRWxCcmlDLEtBQUttSyxNQUFNdWtCLFdBQVdoSCxFQUFVNGEsR0FDN0J0aUMsS0FBS21LLE1BQU0ya0IsbUJBQ1o5dUIsS0FBS21LLE1BQU0ya0Isa0JBQWtCd1QsT25DbWxMaENsK0IsSUFBSyxTQUNMakQsTW1DL2tMRyxXbkNnbExELEdBQUlxTixHQUFReE8sSW1DL2tMZkEsTUFBS3FpQyxXQUFhN1ksS0FBS0MsS0FBS3pwQixLQUFLbUssTUFBTW9rQixTQUFXdnVCLEtBQUttSyxNQUFNNkUsWUFDN0QsSUFBSXV6QixHQUFXdmlDLEtBQUt3aUMsV0FDaEJDLEdBQ0ZDLFFBQU8sUUFDUDdOLFVBQVcsT0FHVGpHLEVBQWtCNXVCLEtBQUttSyxNQUFNeWtCLGdCQUFnQjdtQixJQUFJLFNBQUNpSCxHQUNwRCxNQUNFdEssR0FBQSxXQUFBUyxjbkNpbExHLE1tQ2psTENmLElBQUs0SyxFQUFhaVMsS0FBSyxnQkFDekJ2YyxFQUFBLFdBQUFTLGNuQ21sTEcsS21DbmxMQThiLEtBQUssV0FBV25MLFNBQVMsS0FBS2dvQixLQUFLLElBQUl0MUIsUUFBU2dHLEVBQUttMEIsa0JBQWtCelksS0FBSTFiLElBQVNRLEtBSzdGLE9BQ0V0SyxHQUFBLFdBQUFTLGNuQ3FsTEcsT21DcmxMRUMsVUFBVSxNQUFNRSxPQUFTdXZCLFVBQVcsS0FFckM3MEIsS0FBS21LLE1BQU15a0IsZ0JBQWdCL3FCLE9BQVMsRUFDbENhLEVBQUEsV0FBQVMsY25DcWxMRCxNQUNBLEttQ3JsTEdULEVBQUEsV0FBQVMsY25DdWxMRCxPbUN2bExNQyxVQUFVLFlBQ1hWLEVBQUEsV0FBQVMsY25DeWxMSCxPbUN6bExRQyxVQUFVLFlBQ2JWLEVBQUEsV0FBQVMsY25DMmxMSCxVbUMzbExXQyxVQUFVLGtDQUFrQ3NDLEtBQUssU0FBU25ILEdBQUcsZUFBZXFpQyxjQUFZLFdBQ3hGQyxnQkFBYyxRQUNuQjdpQyxLQUFLbUssTUFBTTZFLFlBQ1p0SyxFQUFBLFdBQUFTLGNuQzZsTEgsT0FDQSxLbUM3bExNLElBQ0RULEVBQUEsV0FBQVMsY0FBQSxRQUFNQyxVQUFVLFlBR3BCVixFQUFBLFdBQUFTLGNuQytsTEgsTW1DL2xMT0MsVUFBVSxnQkFBZ0I2YixLQUFLLE9BQU82aEIsa0JBQWdCLGdCQUN2RGxVLEtBSVBscUIsRUFBQSxXQUFBUyxjbkNpbUxILE9tQ2ptTFFDLFVBQVUsWUFDYlYsRUFBQSxXQUFBUyxjbkNtbUxILE1tQ25tTE9DLFVBQVUsYUFBYUUsTUFBT205QixHQUMvQkYsS0FJVDc5QixFQUFBLFdBQUFTLGNuQ29tTEQsT21DcG1MTUMsVUFBVSxhQUNiVixFQUFBLFdBQUFTLGNuQ3NtTEQsTW1DdG1MS0MsVUFBVSxhQUFhRSxNQUFPbTlCLEdBQy9CRixRbkM2bUxabitCLElBQUssV0FDTGpELE1tQ3RtTEssV0FDTixHQUFJNGhDLEdBQVEvaUMsS0FBS2dqQyxVQUNqQixPQUFPRCxHQUFNaDdCLElBQUksU0FBVTRmLEdBQ3pCLEdBQUlzYixHQUFXdGIsSUFBUzNuQixLQUFLbUssTUFBTXVkLFNBQy9CL2YsR0FBVyxFQUNYNEosR0FBUyxDQVdiLE9BVjBCLElBQXZCdlIsS0FBS21LLE1BQU11ZCxVQUNYQyxJQUFTM25CLEtBQUttSyxNQUFNOGtCLFdBQWF0SCxJQUFTM25CLEtBQUttSyxNQUFNNGtCLFVBQ3BEcG5CLEdBQVcsRUFDWDRKLEdBQVMsR0FFVnZSLEtBQUttSyxNQUFNdWQsVUFBWTFuQixLQUFLcWlDLFlBQzVCMWEsSUFBUzNuQixLQUFLbUssTUFBTTZrQixVQUFZckgsSUFBUzNuQixLQUFLbUssTUFBTStrQixXQUNuRHZuQixHQUFXLEVBQ1g0SixHQUFTLEdBR1g3TSxFQUFBLFdBQUFTLGNuQ29tTEdnOUIsRUFBZSxZbUNwbUxOelQsV0FBWTF1QixLQUFLMHVCLFdBQVd4RSxLQUFLbHFCLE1BQU8raEMsT0FBUWtCLEVBQVVqQixRQUFTcjZCLEVBQVU0SixPQUFRQSxFQUFRbk4sSUFBS3VqQixHQUFPQSxJQUV0SDNuQixTbkN5bUxGb0UsSUFBSyxXQUNMakQsTW1Ddm1MSyxXQUNOLEdBQUkraEMsR0FBWSxFQUFHQyxFQUFVbmpDLEtBQUtxaUMsVUFFbENhLEdBQVkxWixLQUFLNFosSUFBSXBqQyxLQUFLbUssTUFBTXVkLFNBQVc4QixLQUFLNlosTUFBTXJqQyxLQUFLbUssTUFBTTBrQixlQUFpQixHQUFJLEdBQ3RGc1UsRUFBVUQsRUFBWWxqQyxLQUFLbUssTUFBTTBrQixlQUFpQixFQUU5Q3NVLEVBQVVuakMsS0FBS3FpQyxhQUNqQmMsRUFBVW5qQyxLQUFLcWlDLFdBQ2ZhLEVBQVlDLEVBQVVuakMsS0FBS21LLE1BQU0wa0IsZUFBaUIsRUFFcEQsSUFBSWtVLEVBRUZBLEdBRGMsR0FBYkcsR0FBa0JsakMsS0FBS3FpQyxXQUFhcmlDLEtBQUttSyxNQUFNMGtCLGdCQUN2Qzd1QixLQUFLbUssTUFBTThrQixVQUFXanZCLEtBQUttSyxNQUFNNGtCLFNBQ2pDL3VCLEtBQUtxaUMsV0FBYSxHQUNsQnJpQyxLQUFLbUssTUFBTTRrQixXQUt0QixLQUFLLEdBQUlwckIsR0FBSXUvQixFQUFnQkMsR0FBTHgvQixFQUFjQSxJQUNoQ0EsRUFBSSxHQUFFby9CLEVBQU0vK0IsS0FBS0wsRUFRdkIsT0FOSXcvQixJQUFXbmpDLEtBQUtxaUMsWUFDbEJVLEVBQU0vK0IsS0FBS2hFLEtBQUttSyxNQUFNNmtCLFVBQ3RCK1QsRUFBTS8rQixLQUFLaEUsS0FBS21LLE1BQU0ra0IsV0FDYmx2QixLQUFLcWlDLFdBQWEsR0FDM0JVLEVBQU0vK0IsS0FBS2hFLEtBQUttSyxNQUFNNmtCLFVBRWpCK1QsS25DMG1MTjMrQixJQUFLLGlCQUNMakQsTW1DeG1MVyxXQUNaLE1BQU9uQixNQUFLbUssTUFBTXVkLFluQzJtTGpCdGpCLElBQUssaUJBQ0xqRCxNbUN6bUxXLFdBQ1osTUFBT25CLE1BQUttSyxNQUFNNkUsZ0JBbkpoQm96QixHQUF1QjE5QixFQUFBLFdBQU0rSCxVQXNKbkMyMUIsR0FBZW52QixXQUNieVUsU0FBVWhqQixFQUFBLFdBQU1nTyxVQUFVMUMsT0FDMUJoQixZQUFhdEssRUFBQSxXQUFNZ08sVUFBVTFDLE9BQzdCdWUsU0FBVTdwQixFQUFBLFdBQU1nTyxVQUFVMUMsT0FDMUIwZSxXQUFZaHFCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUM1QjhhLGdCQUFpQmxxQixFQUFBLFdBQU1nTyxVQUFVK0MsTUFDakNvWixlQUFnQm5xQixFQUFBLFdBQU1nTyxVQUFVMUMsT0FDaEMvQixPQUFRdkosRUFBQSxXQUFNZ08sVUFBVVUsS0FDeEIwYixrQkFBbUJwcUIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQ25DaWIsUUFBU3JxQixFQUFBLFdBQU1nTyxVQUFVRSxRQUczQnd2QixFQUFlbFIsY0FDYmxpQixZQUFhcEssRUFBQSxXQUFNN0MsZW5DZ25McEJwQyxFQUFRLFdtQzdtTE15aUMsRW5DOG1MZHhpQyxFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdBRS9CLFlBVUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU3FJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSUgsV0FBVSxpRUFBb0VHLEdBQWVELEdBQVN6QyxVQUFZOUYsT0FBT3lJLE9BQU9ELEdBQWNBLEVBQVcxQyxXQUFhNEMsYUFBZXhJLE1BQU9xSSxFQUFVSSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlTCxJQUFZeEksT0FBTzhJLGVBQWlCOUksT0FBTzhJLGVBQWVQLEVBQVVDLEdBQWNELEVBQVNRLFVBQVlQLEdBWmpleEksT0FBT0MsZUFBZXZCLEVBQVMsY0FDM0J3QixPQUFPLEdBR1gsSUFBSThJLEdBQWUsV0FBZSxRQUFTQyxHQUFpQnJELEVBQVFzRCxHQUFTLElBQUssR0FBSXhHLEdBQUksRUFBR0EsRUFBSXdHLEVBQU10RyxPQUFRRixJQUFLLENBQUUsR0FBSXlHLEdBQWFELEVBQU14RyxFQUFJeUcsR0FBV1IsV0FBYVEsRUFBV1IsYUFBYyxFQUFPUSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNNUksT0FBT0MsZUFBZTJGLEVBQVF1RCxFQUFXaEcsSUFBS2dHLElBQWlCLE1BQU8sVUFBVWYsRUFBYWdCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmIsRUFBWXRDLFVBQVdzRCxHQUFpQkMsR0FBYUosRUFBaUJiLEVBQWFpQixHQUFxQmpCLE1BRTdoQmtCLEVBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUlDLEdBQVNKLEVBQUlLLEVBQVdKLEVBQUtLLEVBQVdKLENBQUtDLElBQVMsRUFBc0IsT0FBWEMsSUFBaUJBLEVBQVNHLFNBQVNoRSxVQUFXLElBQUlpRSxHQUFPL0osT0FBT2dLLHlCQUF5QkwsRUFBUUMsRUFBVyxJQUFhckcsU0FBVHdHLEVBQUosQ0FBNE8sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SixLQUFnQixJQUFJK0osR0FBU0YsRUFBS0csR0FBSyxJQUFlM0csU0FBWDBHLEVBQXdCLE1BQW9CLE9BQU9BLEdBQU96SyxLQUFLcUssR0FBL1YsR0FBSU0sR0FBU25LLE9BQU9vSyxlQUFlVCxFQUFTLElBQWUsT0FBWFEsRUFBbUIsTUFBMkJaLEdBQUtZLEVBQVFYLEVBQU1JLEVBQVVILEVBQU1JLEVBQVVILEdBQVMsRUFBTUssRUFBT0ksRUFBUzVHLFNBUXhjQyxFQUFTckUsRW9DOXlMSSxHcENnekxic0UsRUFBVTdELEVBQXVCNEQsR0FFakNJLEVBQWN6RSxFb0NqekxFLEdwQ216TGhCMEUsRUFBZWpFLEVBQXVCZ0UsR0FFdENGLEVBQVN2RSxFb0NwekxJLEdwQ3N6TGJ3RSxFQUFVL0QsRUFBdUI4RCxHQUVqQ2l4QixFQUFVeDFCLEVvQ3Z6TEksR3BDeXpMZHkxQixFQUFXaDFCLEVBQXVCKzBCLEdBRWxDRSxFQUFrQjExQixFb0MxekxGLEdwQzR6TGhCMjFCLEVBQW1CbDFCLEVBQXVCaTFCLEdBRTFDOXVCLEVBQVk1RyxFb0M3ekxFLEdBRWJrakMsR3BDNnpMWXppQyxFQUF1Qm1HLEdvQzd6TDVCLFNBQUE0RSxHQUVFLFFBRlQwM0IsR0FFVW41QixHcENpMExQLEdBQUlxRSxHQUFReE8sSUFFWm1KLEdBQWdCbkosS29DcjBMbkJzakMsR0FHRS80QixFQUFBdEosT0FBQW9LLGVBSEZpNEIsRUFBT3Y4QixXQUFBLGNBQUEvRyxNQUFBUyxLQUFBVCxLQUdDbUssR3BDczBMTG5LLEtvQzN0TEx1akMscUJBQXVCLFNBQUFqN0IsR0FDbkJrRyxFQUFLb0ssVUFDRDRxQixjQUFlaDFCLEVBQUt5SSxNQUFNdXNCLGVBRTlCaDFCLEVBQUtyRSxNQUFNc21CLHNCcEM4dExWendCLEtvQzNzTEx5akMsb0JBQXNCLFdBQ2xCajFCLEVBQUt6QyxLQUFLMjNCLFdBQVd2aUMsTUFBUSxHQUM3QnFOLEVBQUtyRSxNQUFNa21CLFNBQVMsS0FuSXBCcndCLEtBQUtpMkIsY0FBZ0IsRUFDckJqMkIsS0FBS2lYLE9BQ0Qwc0Isb0JBQW9CLEVBQ3BCQyxjQUFlLEtBQ2YxTixhQUFhLEVBQ2JzTixjQUFjLEdwQ3FxTXJCLE1BOVdBajZCLEdvQ2gwTEMrNUIsRUFBTzEzQixHcEM4MUxSM0IsRW9DOTFMQ3E1QixJcEMrMUxHbC9CLElBQUssdUJBQ0xqRCxNb0NuMUxlLFdBQ2hCbkIsS0FBS3FrQixrQnBDczFMSmpnQixJQUFLLGVBQ0xqRCxNQUFPLFNBQVdzMUIsR0FDZCxRQUFTcFMsS0FDTCxNQUFPb1MsR0FBY3R5QixNQUFNbkUsS0FBTTRELFdBT3JDLE1BSkF5Z0IsR0FBYXpiLFNBQVcsV0FDcEIsTUFBTzZ0QixHQUFjN3RCLFlBR2xCeWIsR29DNzFMSixXQUNKcmtCLEtBQUtpMkIsZ0JBQ0w1UixhQUFhcmtCLEtBQUtpMkIsZUFDbEJqMkIsS0FBS2kyQixjQUFnQixPcENrMkx4Qjd4QixJQUFLLG9CQUNMakQsTW9DLzFMWSxXQUNiLEdBQTRDMGlDLEdBQVdDLEVBQW5Eek4sRUFBS3IyQixLQUFNd1AsS0FBYXUwQixHQUFVLEVBQTBCSCxJQTRCaEUsT0EzQkE1akMsTUFBS21LLE1BQU1tZ0IsUUFBUS9hLFFBQVEsU0FBVXlZLEVBQVFya0IsR0FDekMsR0FBSXFrQixFQUFPdUgsVUFDUHNVLEVBQXVDLGtCQUFwQjdiLEdBQU91SCxVQUEwQnZILEVBQU91SCxZQUFlLGNBQWUsR0FBSTZRLE9BQU80RCxjQUNqRyxDQUNILEdBQUlDLEdBQU1qa0MsS0FBSytMLEtBQUtpYyxFQUFPc0gsTUFBUTNyQixFQU1uQyxJQUpJa2dDLEVBRGdCLG1CQUFSSSxHQUNJQSxFQUFJOWlDLE9BRUosRUFFWjZtQixFQUFPM2dCLFVBQW9DLFlBQXhCMmdCLEVBQU8zZ0IsU0FBU0ssS0FBb0IsQ0FDdkQsR0FBSUcsR0FBU284QixFQUFJOWlDLE1BQU0wSCxNQUFNLElBQzdCZzdCLEdBQVlJLEVBQUl0N0IsUUFBVWQsRUFBTyxHQUFLQSxFQUFPLEdBRzdDbWdCLEVBQU8zZ0IsVUFBWTJnQixFQUFPM2dCLFNBQVMrdUIsWUFDbkMwTixFQUFVOWIsRUFBTzNnQixTQUFTK3VCLFVBQVV5TixHQUNoQ0MsS0FBWSxJQUNaQyxHQUFVLEVBQ1ZILEVBQWM1YixFQUFPc0gsT0FBU3dVLElBSzFDdDBCLEVBQU93WSxFQUFPc0gsT0FBU3VVLEdBQ3hCN2pDLE1BRUMrakMsRUFDT3YwQixHQUVQNm1CLEVBQUdoUyxlQUVIcmtCLEtBQUs0WSxVQUFVZ3JCLGNBQWVBLEVBQWUxTixhQUFhLElBRTFERyxFQUFHdHFCLEtBQUt1cUIsU0FBU0MsT0FBTyxRQUFTLHlDQUEwQywwQkFFM0VGLEVBQUdKLGNBQWdCOVIsV0FBVyxXQUMxQmtTLEVBQUd6ZCxVQUFVc2QsYUFBYSxLQUMzQixLQUNJLFNwQ3UyTFY5eEIsSUFBSyxxQkFDTGpELE1vQ3AyTGEsU0FBQ21ILEdwQ3EyTFYsR0FBSXFILEdBQVMzUCxLb0NwMkxkd1AsRUFBU3hQLEtBQUtra0MsbUJBQ2IxMEIsSUFHTHhQLEtBQUttSyxNQUFNNGxCLFNBQVN2Z0IsR0FBUTJkLEtBQUssU0FBQ3RoQixHQUU5QixHQUFJdVYsR0FBVSxFQUNkLEtBQ0l2VixFQUFJczRCLE9BQU9wOEIsSUFBSSxTQUFDMkksR0FDWjBRLEdBQVkxUSxFQUFNMFEsUUFBVSxPQUVsQyxNQUFPZ2IsR0FDTDNyQixRQUFRMnpCLElBQUloSSxHQUNaaGIsR0FBV3ZWLEVBQUlqRCxXQUVuQixHQUFJaUQsRUFBSyxDQUNMLEdBQUl3cUIsR0FBRTFtQixDQUNOMG1CLEdBQUd0cUIsS0FBS3VxQixTQUFTQyxPQUFPLFFBQVNuVixFQUFTLDBCQUMxQ2lWLEVBQUdoUyxlQUVIZ1MsRUFBR3pkLFVBQVVzZCxhQUFhLEVBQU0wTixjQUFlLGtEQUUvQ3ZOLEVBQUdKLGNBQWdCOVIsV0FBVyxXQUMxQmtTLEVBQUd6ZCxVQUFVc2QsYUFBYSxLQUMzQixTQUdIdm1CLEdBQUtpSixVQUNEZ3JCLGNBQWUsS0FDZjFOLGFBQWEsR0FDZCxXQUNDaHhCLFNBQVNtL0IsY0FBYyxVQUFlM0ksVUFHMUMvckIsRUFBSzVELEtBQUt1NEIsS0FBS0MsYXBDNDJMdEJuZ0MsSUFBSyx3QkFDTGpELE1vQ2gyTGdCLFNBQUNtSCxHQUNsQnRJLEtBQUttSyxNQUFNZ21CLGVwQ20yTFYvckIsSUFBSyxpQkFDTGpELE1vQ2oyTFMsU0FBQ21ILEdBQ1h0SSxLQUFLK0wsS0FBS3NVLFFBQVEvYSxNQUFNc1gsUUFBVSxVcENvMkxqQ3hZLElBQUssY0FDTGpELE1vQ2wyTE0sU0FBQ21ILEdBQ1J0SSxLQUFLbUssTUFBTWttQixTQUFTL25CLEVBQUUrZCxjQUFjbGxCLFVwQ3EyTG5DaUQsSUFBSyxrQkFDTGpELE1vQ24yTFUsV0FDWG5CLEtBQUttSyxNQUFNb21CLGlCcENzMkxWbnNCLElBQUssU0FDTGpELE1vQy8xTEMsV0FDRixHQUFJcWpDLEdBQWlCLHFCQUFzQixHQUFJcEUsT0FBTzRELFVBQ2xEUyxFQUFZemtDLEtBQUttSyxNQUFNdWxCLGFBQ3ZCaHJCLEVBQUEsV0FBQVMsY3BDKzFMSyxVb0MvMUxHdUMsS0FBSyxTQUFTYyxRQUFTeEksS0FBS21LLE1BQU04bEIsY0FBZTdxQixVQUFVLHNDQUMzRHc5QixjQUFZLFFBQVE4QixjQUFhLElBQUlGLEdBQ3pDOS9CLEVBQUEsV0FBQVMsY0FBQSxLQUFHQyxVQUFVLDZCcENpMkxaLFFvQ2oyTDJELEtBRWhFdS9CLEVBQVkza0MsS0FBS21LLE1BQU13bEIsYUFDdkJqckIsRUFBQSxXQUFBUyxjcENrMkxLLFVvQ2wyTEd1QyxLQUFLLFNBQVN0QyxVQUFVLHlDQUF5Q3c5QixjQUFZLFVBQzdFZ0MsaUJBQWUsUUFBUTk0QixNQUFNLG9CQUM3QnRELFFBQVN4SSxLQUFLNmtDLHNCQUFzQjNhLEtBQUtscUIsT0FDN0MwRSxFQUFBLFdBQUFTLGNBQUEsS0FBR0MsVUFBVSw4QnBDbzJMWixXb0NuMkxPLEtBRVowL0IsRUFBa0I5a0MsS0FBSytrQyxvQkFFdkJDLEVBQXNCaGxDLEtBQUttSyxNQUFNZ2xCLHVCQUNqQ3pxQixFQUFBLFdBQUFTLGNwQ28yTEssVW9DcDJMR3VDLEtBQUssU0FBU2MsUUFBU3hJLEtBQUt1akMscUJBQXFCclosS0FBS2xxQixNQUFPb0YsVUFBVSxrQkFDdkV3OUIsY0FBWSxTQUFTcUMsZUFBYSxTQUNwQ2psQyxLQUFLaVgsTUFBTXVzQixhQUFlNStCLEVBQUEsV0FBTTdCLFNBQVc2QixFQUFBLFdBQU05QixrQkFDM0MsS0FFWm9pQyxFQUFRbGxDLEtBQUttSyxNQUFNdWxCLGFBQWUxdkIsS0FBS21sQyxxQkFBcUJYLEdBQWtCLEtBTTlFblYsRUFBWXJ2QixLQUFLbUssTUFBTTBsQixnQkFDdkJuckIsRUFBQSxXQUFBUyxjcENxMkxLLFVvQ3IyTEd1QyxLQUFLLFNBQVN0QyxVQUFVLGtCQUFrQm9ELFFBQVN4SSxLQUFLd3dCLGdCQUFnQnRHLEtBQUtscUIsT0FDakYwRSxFQUFBLFdBQUFTLGNBQUEsS0FBR0MsVUFBVSwrQnBDdTJMWixrQm9DdjJMdUUsSUFFaEYsT0FDSVYsR0FBQSxXQUFBUyxjcEN3MkxLLE9vQ3gyTEFDLFVBQVUsT0FDWFYsRUFBQSxXQUFBUyxjcEMwMkxLLE9vQzEyTEFDLFVBQVUsd0NBQ1hWLEVBQUEsV0FBQVMsY3BDNDJMSyxPb0M1MkxBQyxVQUFVLHlCQUF5QjZiLEtBQUssU0FDeENvTyxFQUNBb1YsRUFDQUUsRUFDQUssSUFHVHRnQyxFQUFBLFdBQUFTLGNwQzgyTEssT29DOTJMQUMsVUFBVSx3Q0FDVjAvQixHQUVMcGdDLEVBQUEsV0FBQVMsY0FBQTR3QixFQUFBLFlBQVV4cEIsSUFBSSxhQUNiMjRCLE1wQ20zTFI5Z0MsSUFBSyxvQkFDTGpELE1vQy8yTFksV0FDYixHQUFJbkIsS0FBS21LLE1BQU15bEIsYUFBYyxDQUN6QixHQUFJbnNCLEdBQWEsMkJBQ2IyaEMsRUFBVyxJQWNmLE9BYklwbEMsTUFBS21LLE1BQU1zbEIsY0FDWDJWLEVBQ0kxZ0MsRUFBQSxXQUFBUyxjcEMrMkxLLFFvQy8yTENDLFVBQVUsbUJBQ3hCVixFQUFBLFdBQUFTLGNwQ2kzTGlCLFVvQ2gzTGJDLFVBQVUsa0JBQ1ZzQyxLQUFLLFNBQ0xjLFFBQVV4SSxLQUFLeWpDLHFCcENtM0xGLFVvQy8yTGJoZ0MsRUFBYSx1REFJYmlCLEVBQUEsV0FBQVMsY3BDazNMSyxPb0NsM0xBQyxVQUFXM0IsR0FDWmlCLEVBQUEsV0FBQVMsY0FBQSxTQUFPb0gsSUFBSSxhQUFhbkgsVUFBVSxlQUFlc0MsS0FBSyxPQUMvQ2dPLFlBQWExVixLQUFLbUssTUFBTTJsQixrQkFBa0I5dkIsS0FBS21LLE1BQU0ybEIsa0JBQWtCLFNBQ3ZFcUgsUUFBU24zQixLQUFLbzNCLFlBQVlsTixLQUFLbHFCLFFBQ3BDb2xDLEdBSVYsTUFBTyxTcENzM0xWaGhDLElBQUssdUJBQ0xqRCxNb0NuM0xlLFNBQUNxakMsR0FDakIsR0FBSVosR0FBZ0I1akMsS0FBS2lYLE1BQU0yc0Isa0JBQzNCeUIsRUFBYXJsQyxLQUFLbUssTUFBTW1nQixRQUFRdmlCLElBQUksU0FBVWlnQixFQUFRcmtCLEdBQ3RELEdBQUkwRCxHQUFXMmdCLEVBQU8zZ0IsU0FDbEJFLEVBQVN5Z0IsRUFBT3pnQixPQUNoQkQsR0FBUWlGLElBQUt5YixFQUFPc0gsTUFBUTNyQixFQUFHK1IsWUFBYXJPLEVBQVNxTyxZQUFjck8sRUFBU3FPLFlBQWNzUyxFQUFPclQsS0FFckcsSUFBSXFULEVBQU91SCxVQUNQLE1BQU8sS0FFWCxJQUFJN2UsR0FBUWt6QixFQUFjNWIsRUFBT3NILE9BQzdCNXFCLEVBQUEsV0FBQVMsY3BDbzNMSyxRb0NwM0xDQyxVQUFVLHdCQUF3QncrQixFQUFjNWIsRUFBT3NILFFBQWtCLEtBSS9FaHFCLEdBQVNzWCxRQUFTb0wsRUFBT3dILGNBQWdCLE9BQVMsUUFDdEQsT0FDSTlxQixHQUFBLFdBQUFTLGNwQ3UzTEssT29DdjNMQUMsVUFBVSxhQUFhaEIsSUFBSzRqQixFQUFPc0gsTUFBT2hxQixNQUFPQSxHQUNsRFosRUFBQSxXQUFBUyxjcEN5M0xLLFFBQ0EsS29DMTNMRzZpQixFQUFPclQsT0FDZCxFQUFBa2hCLEVBQUEsWUFBT3h1QixFQUFVQyxFQUFNQyxFQUFRLElBQy9CbUosS0FJVDQwQixHQUFhLEVBQUF4Z0MsRUFBQSxZQUFTLFFBQVMsT0FBUTAvQixHQUN2Q2UsS0FBTXZsQyxLQUFLaVgsTUFBTWlmLGFBQWVsMkIsS0FBS2lYLE1BQU0yc0IsZ0JBRTNDNEIsR0FBYyxFQUFBMWdDLEVBQUEsWUFBUyxlQUFnQixZQUN2Qzh4QixTQUFZNTJCLEtBQUtpWCxNQUFNaWYsWUFDdkJXLE1BQVM3MkIsS0FBS2lYLE1BQU1pZixhQUV4QixPQUNJeHhCLEdBQUEsV0FBQVMsY3BDMjNMSyxPb0MzM0xBb0gsSUFBSSxRQUFRbkgsVUFBV2tnQyxFQUFZeHZCLFNBQVMsS0FBS21MLEtBQUssVUFDdkR2YyxFQUFBLFdBQUFTLGNwQzYzTEssT29DNzNMQUMsVUFBV29nQyxHQUNaOWdDLEVBQUEsV0FBQVMsY3BDKzNMSyxPb0MvM0xBQyxVQUFVLGlCQUNYVixFQUFBLFdBQUFTLGNwQ2k0TEssT29DajRMQUMsVUFBVSxnQkFDWFYsRUFBQSxXQUFBUyxjcENtNExLLFVvQ240TEd1QyxLQUFLLFNBQVN0QyxVQUFVLFFBQVFxZ0MsZUFBYSxRQUFRMW9CLGFBQVcsU0FBUXJZLEVBQUEsV0FBQVMsY3BDczRMdkUsUW9DcjRMTGtYLGNBQVksUXBDdzRMUCxNb0N2NExUM1gsRUFBQSxXQUFBUyxjcEMyNExLLE1vQzM0TERDLFVBQVUsZXBDNjRMVCxlb0MzNExUVixFQUFBLFdBQUFTLGNwQys0TEssT29DLzRMQUMsVUFBVSxjQUNYVixFQUFBLFdBQUFTLGNwQ2k1TEssUW9DajVMQ29ILElBQUksUUFDTDg0QixJQUdUM2dDLEVBQUEsV0FBQVMsY3BDbTVMSyxPb0NuNUxBQyxVQUFVLGdCQUNYVixFQUFBLFdBQUFTLGNwQ3E1TEssVW9DcjVMR3VDLEtBQUssU0FBU3RDLFVBQVUsa0JBQWtCcWdDLGVBQWEsU3BDdTVMMUQsU29DdDVMTC9nQyxFQUFBLFdBQUFTLGNwQ3k1TEssVW9DejVMR3VDLEtBQUssU0FBU3RDLFVBQVUsZUFBZW9ELFFBQVN4SSxLQUFLMGxDLG1CQUFtQnhiLEtBQUtscUIsT3BDMjVMaEYsZ0JvQ3JxTTNCc2pDLEdBQWdCNStCLEVBQUEsV0FBTStILFdBb1I1QjYyQixHQUFRcndCLFdBQ0o4YyxTQUFVcnJCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUMxQnFjLFVBQVd6ckIsRUFBQSxXQUFNZ08sVUFBVW9CLEtBQzNCMmMsbUJBQW9CL3JCLEVBQUEsV0FBTWdPLFVBQVVvQixLQUNwQzRiLGFBQWNockIsRUFBQSxXQUFNZ08sVUFBVVUsS0FDOUJ1YyxhQUFjanJCLEVBQUEsV0FBTWdPLFVBQVVVLEtBQzlCd2MsYUFBY2xyQixFQUFBLFdBQU1nTyxVQUFVVSxLQUM5QitiLHVCQUF3QnpxQixFQUFBLFdBQU1nTyxVQUFVVSxLQUN4Q2tYLFFBQVM1bEIsRUFBQSxXQUFNZ08sVUFBVStDLE1BQ3pCcWEsa0JBQW1CcHJCLEVBQUEsV0FBTWdPLFVBQVVFLE9BQ25DNmMsWUFBYS9xQixFQUFBLFdBQU1nTyxVQUFVVSxNQUdqQ2t3QixFQUFRcFMsY0FDSnhCLGNBQWMsRUFDZEMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RULHdCQUF3QixFQUN4Qk0sYUFBYSxHcEMrNUxoQjl2QixFQUFRLFdvQzc1TE0yakMsRXBDODVMZDFqQyxFQUFPRCxRQUFVQSxFQUFRLFlBSXBCLFNBQVNDLEVBQVFELEVBQVNTLEdxQ2p0TWhDVCxFQUFBQyxFQUFBRCxRQUFBUyxFQUFBLE1BS0FULEVBQUFxRSxNQUFBcEUsRUFBQVcsR0FBQSxndkVBQXl3RTtFckMwdE1ud0UsU0FBU1gsRUFBUUQsR3NDMXRNdkJDLEVBQUFELFFBQUEsV0FDQSxHQUFBMGpCLEtBMENBLE9BdkNBQSxHQUFBemEsU0FBQSxXQUVBLE9BREE4RixNQUNBL0ssRUFBQSxFQUFnQkEsRUFBQTNELEtBQUE2RCxPQUFpQkYsSUFBQSxDQUNqQyxHQUFBZ2lDLEdBQUEzbEMsS0FBQTJELEVBQ0FnaUMsR0FBQSxHQUNBajNCLEVBQUExSyxLQUFBLFVBQUEyaEMsRUFBQSxPQUF3Q0EsRUFBQSxRQUV4Q2ozQixFQUFBMUssS0FBQTJoQyxFQUFBLElBR0EsTUFBQWozQixHQUFBcEssS0FBQSxLQUlBK2UsRUFBQTFmLEVBQUEsU0FBQXhELEVBQUF5bEMsR0FDQSxnQkFBQXpsQyxLQUNBQSxJQUFBLEtBQUFBLEVBQUEsS0FFQSxRQURBMGxDLE1BQ0FsaUMsRUFBQSxFQUFnQkEsRUFBQTNELEtBQUE2RCxPQUFpQkYsSUFBQSxDQUNqQyxHQUFBcEQsR0FBQVAsS0FBQTJELEdBQUEsRUFDQSxpQkFBQXBELEtBQ0FzbEMsRUFBQXRsQyxJQUFBLEdBRUEsSUFBQW9ELEVBQUEsRUFBWUEsRUFBQXhELEVBQUEwRCxPQUFvQkYsSUFBQSxDQUNoQyxHQUFBZ2lDLEdBQUF4bEMsRUFBQXdELEVBS0EsaUJBQUFnaUMsR0FBQSxJQUFBRSxFQUFBRixFQUFBLE1BQ0FDLElBQUFELEVBQUEsR0FDQUEsRUFBQSxHQUFBQyxFQUNLQSxJQUNMRCxFQUFBLE9BQUFBLEVBQUEsYUFBQUMsRUFBQSxLQUVBdmlCLEVBQUFyZixLQUFBMmhDLE1BSUF0aUIsSXRDdXVNTSxTQUFTempCLEVBQVFELEVBQVNTLEd1Q3Z4TWhDLFlBRUEsU0FBQTBsQyxHQUFBaGxDLEVBQUFzRCxFQUFBakQsR0FBbU0sTUFBeEppRCxLQUFBdEQsR0FBa0JHLE9BQUFDLGVBQUFKLEVBQUFzRCxHQUFrQ2pELFFBQUF5SSxZQUFBLEVBQUFFLGNBQUEsRUFBQUQsVUFBQSxJQUFnRi9JLEVBQUFzRCxHQUFBakQsRUFBb0JMLEVBS25NLFFBQUEyZSxNQUhBLEdBQUFzbUIsR0FBQTNsQyxFQUFBLEdBQ0FxRCxFQUFBckQsRUFBQSxHQUlBNGxDLEVBQUFELEVBQUFoekIsYUFDQUMsWUFBQSxTQUVBQyxXQUNBN04sVUFBQTJnQyxFQUFBcnpCLFVBQUFFLE9BQ0FxekIsVUFBQUYsRUFBQXJ6QixVQUFBRSxPQUNBakwsU0FBQW8rQixFQUFBcnpCLFVBQUFVLEtBQ0E5TixNQUFBeWdDLEVBQUFyekIsVUFBQTlILE9BQ0FzN0IsZ0JBQUFILEVBQUFyekIsVUFBQXNCLElBQ0FteUIsa0JBQUFKLEVBQUFyekIsVUFBQXNCLElBQ0FnQixTQUFBK3dCLEVBQUFyekIsVUFBQW9CLE1BRUF1QyxnQkFBQSxXQUNBLE9BQ0E0dkIsVUFBQSxZQUNBM2dDLFNBQ0E0Z0MsZ0JBQUEsS0FDQUMsa0JBQUEsS0FDQS9nQyxVQUFBLEdBQ0EwRCxnQkFBQSxFQUNBa00sU0FBQXlLLElBR0FuSixnQkFBQSxXQUNBLEdBQUFuTSxHQUFBbkssS0FBQW1LLE1BQ0F4QixHQUFBLENBTUEsT0FKQUEsR0FEQSxXQUFBd0IsS0FDQUEsRUFBQXhCLFVBRUF3QixFQUFBckIsZ0JBR0FILFlBR0F5OUIsMEJBQUEsU0FBQXJ2QixHQUNBLFdBQUFBLElBQ0EvVyxLQUFBNFksVUFDQWpRLFVBQUFvTyxFQUFBcE8sV0FJQTA5QixPQUFBLFdBQ0EsR0FBQTE5QixJQUFBM0ksS0FBQWlYLE1BQUF0TyxPQUNBLFlBQUEzSSxNQUFBbUssT0FDQW5LLEtBQUE0WSxVQUNBalEsWUFHQTNJLEtBQUFtSyxNQUFBNkssU0FBQXJNLElBRUFtVyxPQUFBLFdBQ0EsR0FBQXduQixHQUVBbHJCLEVBQUFwYixLQUFBbUssTUFDQS9FLEVBQUFnVyxFQUFBaFcsVUFDQTZnQyxFQUFBN3FCLEVBQUE2cUIsVUFDQXQrQixFQUFBeVQsRUFBQXpULFNBQ0FyQyxFQUFBOFYsRUFBQTlWLE1BQ0E0Z0MsRUFBQTlxQixFQUFBOHFCLGdCQUNBQyxFQUFBL3FCLEVBQUErcUIsa0JBRUF4OUIsRUFBQTNJLEtBQUFpWCxNQUFBdE8sUUFDQTQ5QixFQUFBOWlDLEdBQUE2aUMsS0FBc0RSLEVBQUFRLEVBQUFsaEMsT0FBQTBnQyxFQUFBUSxFQUFBTCxHQUFBLEdBQUFILEVBQUFRLEVBQUFMLEVBQUEsV0FBQXQ5QixHQUFBbTlCLEVBQUFRLEVBQUFMLEVBQUEsWUFBQXQrQixHQUFBMitCLEdBQ3RELE9BQUFQLEdBQUE1Z0MsY0FDQSxRQUNPQyxVQUFBbWhDLEVBQ1AvOUIsUUFBQWIsRUFBQThYLEVBQUF6ZixLQUFBcW1DLE9BQ0EvZ0MsU0FDQXlnQyxFQUFBNWdDLGNBQ0EsUUFDU0MsVUFBQTZnQyxFQUFBLFVBQ1R0OUIsRUFBQXU5QixFQUFBQyxNQU1Bdm1DLEdBQUFELFFBQUFxbUMsR3ZDNnhNTSxTQUFTcG1DLEVBQVFELEVBQVNTLEd3Q3AzTWhDLFlBSUEsU0FBQVMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBZ0I3RSxRQUFBMGxDLEdBQUFDLEdBSUEsTUFIQUEsSUFBQSxnQkFBQUEsS0FDQUEsTUFFQUEsSUFBQSxLQUdBLFFBQUFDLEdBQUFELEVBQUE1dEIsRUFBQXpMLEdBQ0FxNUIsSUFDQUEsRUFBQTV0QixHQUFBekwsR0FHQSxRQUFBdTVCLEdBQUFGLEVBQUE1dEIsR0FDQSxHQUFBNHRCLEVBQ0EsT0FBQTlpQyxHQUFBa1YsRUFBQWhWLE9BQTJCRixHQUFBLElBQVFBLEVBQUEsQ0FDbkMsR0FBQWlqQyxHQUFBL3RCLEVBQUE4QyxNQUFBLEVBQUFoWSxFQUNBLElBQUE4aUMsRUFBQUcsS0FBQS90QixJQUFBK3RCLEdBQUFILEVBQUFHLEdBQUFDLFVBQ0EsTUFBQUosR0FBQUcsSUFLQSxRQUFBRSxHQUFBQyxFQUFBaDJCLEdBQ0EsTUFBQWcyQixJQUFBLGtCQUFBQSxHQUFBNVosS0FDQTRaLEVBQUE1WixLQUFBLFNBQUEvZixHQUNBMkQsRUFBQSxLQUFBM0QsSUFDRSxTQUFBNDVCLEdBQ0ZqMkIsRUFBQWkyQixLQUpBLE9BekNBLEdBQUFyZ0MsR0FBQTFGLE9BQUEyRixRQUFBLFNBQUFDLEdBQW1ELE9BQUFsRCxHQUFBLEVBQWdCQSxFQUFBQyxVQUFBQyxPQUFzQkYsSUFBQSxDQUFPLEdBQUFtRCxHQUFBbEQsVUFBQUQsRUFBMkIsUUFBQVMsS0FBQTBDLEdBQTBCN0YsT0FBQThGLFVBQUF4QyxlQUFBOUQsS0FBQXFHLEVBQUExQyxLQUF5RHlDLEVBQUF6QyxHQUFBMEMsRUFBQTFDLElBQWlDLE1BQUF5QyxJQUkvT3BDLEVBQUFyRSxFQUFBLEdBRUFzRSxFQUFBN0QsRUFBQTRELEdBRUF3aUMsRUFBQTdtQyxFQUFBLElBRUE4bUMsRUFBQXJtQyxFQUFBb21DLEdBRUFoMUIsRUFBQTdSLEVBQUEsSUFFQThSLEVBQUFyUixFQUFBb1IsR0FFQWsxQixFQUFBLEVBaUNBMTBCLEVBQUEvTixFQUFBLFdBQUFnTyxVQUFBQyxXQUFBak8sRUFBQSxXQUFBZ08sVUFBQUUsT0FBQWxPLEVBQUEsV0FBQWdPLFVBQUFHLE9BRUF1RCxFQUFBMVIsRUFBQSxXQUFBcU8sYUFDQUMsWUFBQSxRQUVBQyxXQUNBd3pCLE1BQUEvaEMsRUFBQSxXQUFBZ08sVUFBQXNCLElBQ0FDLGNBQUF2UCxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBYyxXQUFBeFAsRUFBQSxXQUFBZ08sVUFBQVUsS0FDQWdCLFVBQUExUCxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBZzBCLFlBQUExaUMsRUFBQSxXQUFBZ08sVUFBQW9CLEtBQUEwc0IsV0FDQTZHLG1CQUFBM2lDLEVBQUEsV0FBQWdPLFVBQUFFLE9BQ0EwMEIsYUFBQTVpQyxFQUFBLFdBQUFnTyxVQUFBMUMsT0FDQTZFLGNBQUFuUSxFQUFBLFdBQUFnTyxVQUFBRSxPQUNBOEMsWUFBQWpELEVBQ0E4MEIsaUJBQUE3aUMsRUFBQSxXQUFBZ08sVUFBQUUsT0FDQTQwQixjQUFBOWlDLEVBQUEsV0FBQWdPLFVBQUFFLFFBRUF5RCxnQkFBQSxXQUNBLE9BQ0Fvd0IsT0FBQSxFQUNBeHlCLGVBQUEsRUFDQUMsWUFBQSxFQUNBbXpCLG1CQUFBLGFBQ0FDLGFBQUEsRUFDQUUsY0FBQSxlQUNBRCxpQkFBQSxtQkFHQWp4QixnQkFBQSxXQUNBLE9BQ0Ftd0IsTUFBQUQsRUFBQXhtQyxLQUFBbUssTUFBQXM4QixPQUNBcnlCLFdBQUEsRUFDQXhNLGFBR0E2L0IsbUJBQUEsV0FDQXpuQyxLQUFBMG5DLFdBQUEsSUFFQTl3QixrQkFBQSxXQUNBNVcsS0FBQW9uQyxZQUFBLEtBRUFoQiwwQkFBQSxTQUFBcnZCLEdBQ0FBLEVBQUEwdkIsUUFBQXptQyxLQUFBbUssTUFBQXM4QixPQUNBem1DLEtBQUE0WSxVQUNBNnRCLE1BQUFELEVBQUF6dkIsRUFBQTB2QixVQUlBNXZCLE1BQUEsV0FDQTdXLEtBQUErTCxLQUFBNDdCLE9BQUE5d0IsU0FFQSt3QixXQUFBLFdBQ0E1bkMsS0FBQTZuQyxrQkFBQSxHQUNBN25DLEtBQUE0WSxVQUNBeEUsV0FBQSxFQUNBeE0sY0FHQWtnQyxtQkFBQSxTQUFBanZCLEdBQ0EsR0FBQXJLLEdBQUF4TyxLQUVBK25DLEVBQUEvbkMsS0FBQTZuQyxrQkFBQVYsR0FDQSxpQkFBQUgsRUFBQTU1QixHQUNBLEdBQUE0NUIsRUFBQSxLQUFBQSxFQUNBeDRCLEdBQUF3NUIsY0FDQXRCLEVBQUFsNEIsRUFBQXlJLE1BQUF3dkIsTUFBQTV0QixFQUFBekwsR0FDQTI2QixJQUFBdjVCLEVBQUFxNUIsbUJBQ0FyNUIsRUFBQW9LLFVBQ0F4RSxXQUFBLEVBQ0F4TSxRQUFBd0YsS0FBQXhGLGlCQUlBdy9CLFlBQUEsU0FBQXZ1QixHQUlBLEdBSEE3WSxLQUFBbUssTUFBQThKLGdCQUFBNEUsR0FBQSxFQUFBM0csRUFBQSxZQUFBMkcsSUFDQTdZLEtBQUFtSyxNQUFBK0osYUFBQTJFLElBQUEvTCxlQUNBOU0sS0FBQTBuQyxXQUFBN3VCLEVBQ0FBLEVBQUFoVixPQUFBN0QsS0FBQW1LLE1BQUFtOUIsYUFDQSxNQUFBdG5DLE1BQUE0bkMsWUFFQSxJQUFBSyxHQUFBdEIsRUFBQTNtQyxLQUFBaVgsTUFBQXd2QixNQUFBNXRCLEVBQ0EsSUFBQW92QixFQUNBLE1BQUFqb0MsTUFBQTRZLFVBQ0FoUixRQUFBcWdDLEVBQUFyZ0MsU0FHQTVILE1BQUE0WSxVQUNBeEUsV0FBQSxHQUVBLElBQUE4ekIsR0FBQWxvQyxLQUFBOG5DLG1CQUFBanZCLEVBQ0EsT0FBQWl1QixHQUFBOW1DLEtBQUFtSyxNQUFBaTlCLFlBQUF2dUIsRUFBQXF2QixPQUVBcHBCLE9BQUEsV0FDQSxHQUFBakssR0FBQTdVLEtBQUFtSyxNQUFBMEssY0FDQXN6QixFQUFBbm9DLEtBQUFpWCxNQUNBN0MsRUFBQSt6QixFQUFBL3pCLFVBQ0F4TSxFQUFBdWdDLEVBQUF2Z0MsT0FFQTVILE1BQUFtSyxNQUFBaUssZUFBQSxFQUNBLElBQUFzQixHQUFBdEIsRUFBQXBVLEtBQUFtSyxNQUFBazlCLG1CQUFBcm5DLEtBQUFtSyxNQUFBdUwsV0FLQSxPQUpBOU4sR0FBQS9ELFNBQ0E3RCxLQUFBMG5DLFdBQUE3akMsT0FBQTdELEtBQUFtSyxNQUFBbTlCLGVBQUF6eUIsRUFBQTdVLEtBQUFtSyxNQUFBbzlCLGtCQUNBbnpCLElBQUFTLEVBQUE3VSxLQUFBbUssTUFBQXE5QixnQkFFQTlpQyxFQUFBLFdBQUFTLGNBQUEraEMsRUFBQSxXQUFBdmdDLEtBQTBFM0csS0FBQW1LLE9BQzFFb0MsSUFBQSxTQUNBNkgsWUFDQVMsZ0JBQ0FNLGNBQUFuVixLQUFBb25DLFlBQ0F4L0IsVUFDQThOLG1CQUtBOVYsR0FBQUQsUUFBQXlXLEd4QzAzTU0sU0FBU3hXLEVBQVFELEVBQVNTLEd5Q2ppTmhDLFlBRUEsU0FBQVMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLEdBQUEyRCxHQUFBckUsRUFBQSxHQUVBc0UsRUFBQTdELEVBQUE0RCxHQUVBSSxFQUFBekUsRUFBQSxHQUVBMEUsRUFBQWpFLEVBQUFnRSxHQUVBa1osRUFBQXJaLEVBQUEsV0FBQXFPLGFBQ0FDLFlBQUEsU0FFQUMsV0FDQThVLFNBQUFyakIsRUFBQSxXQUFBZ08sVUFBQUcsS0FDQXpOLFVBQUFWLEVBQUEsV0FBQWdPLFVBQUFFLE9BQ0E0TCxXQUFBOVosRUFBQSxXQUFBZ08sVUFBQVUsS0FDQW9ELFVBQUE5UixFQUFBLFdBQUFnTyxVQUFBVSxLQUNBNkssV0FBQXZaLEVBQUEsV0FBQWdPLFVBQUFVLEtBQ0E4QixRQUFBeFEsRUFBQSxXQUFBZ08sVUFBQW9CLEtBQ0EySyxTQUFBL1osRUFBQSxXQUFBZ08sVUFBQW9CLEtBQ0FzMEIsVUFBQTFqQyxFQUFBLFdBQUFnTyxVQUFBb0IsS0FDQThHLE9BQUFsVyxFQUFBLFdBQUFnTyxVQUFBOUgsT0FBQTQxQixZQUVBNkgsV0FBQSxTQUFBcHZCLEdBQ0FBLEVBQUFTLGlCQUNBVCxFQUFBUSxrQkFDQSxNQUFBUixFQUFBcFMsT0FBQW16QixTQUFBLFFBQUEvZ0IsR0FBQXBTLFNBR0FvUyxFQUFBcFMsY0FDQXBGLE9BQUE0OEIsS0FBQXBsQixFQUFBcFMsT0FBQWkzQixLQUFBN2tCLEVBQUFwUyxlQUVBcEYsT0FBQW84QixTQUFBQyxLQUFBN2tCLEVBQUFwUyxPQUFBaTNCLE9BSUF6a0IsZ0JBQUEsU0FBQUosR0FDQUEsRUFBQVMsaUJBQ0FULEVBQUFRLGtCQUNBelosS0FBQW1LLE1BQUFzVSxTQUFBemUsS0FBQW1LLE1BQUF5USxPQUFBM0IsSUFHQXNJLGlCQUFBLFNBQUF0SSxHQUNBalosS0FBQWtWLFFBQUErRCxJQUdBcXZCLGdCQUFBLFNBQUFydkIsR0FDQWpaLEtBQUFrVixRQUFBK0QsSUFHQUcsZUFBQSxTQUFBSCxHQUdBalosS0FBQWtaLFVBRUFsWixLQUFBcVosZ0JBQUFKLElBR0FELGdCQUFBLFNBQUFDLEdBRUFqWixLQUFBa1osVUFBQSxHQUdBQyxpQkFBQSxTQUFBRixHQUVBalosS0FBQWtaLFVBQUEsR0FHQWhFLFFBQUEsU0FBQStELEdBQ0FqWixLQUFBbUssTUFBQXFNLFdBQ0F4VyxLQUFBbUssTUFBQStLLFFBQUFsVixLQUFBbUssTUFBQXlRLE9BQUEzQixJQUdBNkYsT0FBQSxXQUNBLEdBQUFsRSxHQUFBNWEsS0FBQW1LLE1BQUF5USxPQUVBeFYsR0FBQSxFQUFBTixFQUFBLFlBQUE5RSxLQUFBbUssTUFBQS9FLFVBQUF3VixFQUFBeFYsVUFFQSxPQUFBd1YsR0FBQWpULFNBQUFqRCxFQUFBLFdBQUFTLGNBQ0EsT0FDSUMsWUFDSjRYLFlBQUFoZCxLQUFBcW9DLFdBQ0E3L0IsUUFBQXhJLEtBQUFxb0MsWUFDQXJvQyxLQUFBbUssTUFBQTRkLFVBQ0FyakIsRUFBQSxXQUFBUyxjQUNBLE9BQ0lDLFlBQ0pFLE1BQUFzVixFQUFBdFYsTUFDQTBYLFlBQUFoZCxLQUFBcVosZ0JBQ0FpSSxhQUFBdGhCLEtBQUF1aEIsaUJBQ0FnbkIsWUFBQXZvQyxLQUFBc29DLGdCQUNBcnJCLGFBQUFqZCxLQUFBbVosaUJBQ0ErRCxZQUFBbGQsS0FBQWdaLGdCQUNBbUUsV0FBQW5kLEtBQUFvWixlQUNBdE4sTUFBQThPLEVBQUE5TyxPQUNBOUwsS0FBQW1LLE1BQUE0ZCxZQUtBbm9CLEdBQUFELFFBQUFvZSxHekN1aU5NLFNBQVNuZSxFQUFRRCxFQUFTUyxHMEM5b05oQyxZQUVBLFNBQUFTLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxHQUFBMkQsR0FBQXJFLEVBQUEsR0FFQXNFLEVBQUE3RCxFQUFBNEQsR0FFQUksRUFBQXpFLEVBQUEsR0FFQTBFLEVBQUFqRSxFQUFBZ0UsR0FFQTJqQyxFQUFBOWpDLEVBQUEsV0FBQXFPLGFBRUFDLFlBQUEsUUFFQUMsV0FDQThVLFNBQUFyakIsRUFBQSxXQUFBZ08sVUFBQUcsS0FDQWxMLFNBQUFqRCxFQUFBLFdBQUFnTyxVQUFBVSxLQUNBNUssUUFBQTlELEVBQUEsV0FBQWdPLFVBQUFvQixLQUNBMkksU0FBQS9YLEVBQUEsV0FBQWdPLFVBQUFvQixLQUNBM1MsTUFBQXVELEVBQUEsV0FBQWdPLFVBQUE5SCxPQUFBNDFCLFlBR0FubkIsZ0JBQUEsU0FBQUosR0FDQSxvQkFBQUEsRUFBQXZSLE1BQUEsSUFBQXVSLEVBQUFPLE9BR0F4WixLQUFBbUssTUFBQTNCLFNBQ0F5USxFQUFBUSxzQkFDQXpaLE1BQUFtSyxNQUFBM0IsUUFBQXhJLEtBQUFtSyxNQUFBaEosTUFBQThYLFNBR0FqWixLQUFBbUssTUFBQWhKLE1BQUEyOEIsTUFDQTdrQixFQUFBUSxtQkFUQSxRQWFBZ0QsU0FBQSxTQUFBeEQsR0FDQUEsRUFBQVMsaUJBQ0FULEVBQUFRLGtCQUNBelosS0FBQW1LLE1BQUFzUyxTQUFBemMsS0FBQW1LLE1BQUFoSixRQUdBc25DLHFCQUFBLFNBQUF4dkIsR0FHQWpaLEtBQUFrWixVQUdBbFosS0FBQXljLFNBQUF4RCxJQUdBRCxnQkFBQSxTQUFBQyxHQUVBalosS0FBQWtaLFVBQUEsR0FHQUMsaUJBQUEsU0FBQUYsR0FFQWpaLEtBQUFrWixVQUFBLEdBR0F3dkIsaUJBQUEsV0FDQSxPQUFBMW9DLEtBQUFtSyxNQUFBeEMsVUFBQTNILEtBQUFtSyxNQUFBc1MsU0FDQS9YLEVBQUEsV0FBQVMsY0FDQSxRQUNJQyxVQUFBLG9CQUNKNFgsWUFBQWhkLEtBQUF5YyxTQUNBVSxXQUFBbmQsS0FBQXlvQyxxQkFDQXhyQixhQUFBamQsS0FBQW1aLGlCQUNBK0QsWUFBQWxkLEtBQUFnWixpQkFDQSxLQVJBLFFBWUF1RCxZQUFBLFdBQ0EsR0FBQW5YLEdBQUEsb0JBQ0EsT0FBQXBGLE1BQUFtSyxNQUFBM0IsU0FBQXhJLEtBQUFtSyxNQUFBaEosTUFBQTI4QixLQUFBcDVCLEVBQUEsV0FBQVMsY0FDQSxLQUNJQyxZQUFBMDRCLEtBQUE5OUIsS0FBQW1LLE1BQUFoSixNQUFBMjhCLEtBQUFqM0IsT0FBQTdHLEtBQUFtSyxNQUFBaEosTUFBQTBGLE9BQUFtVyxZQUFBaGQsS0FBQXFaLGdCQUFBOEQsV0FBQW5kLEtBQUFxWixpQkFDSnJaLEtBQUFtSyxNQUFBNGQsVUFDQXJqQixFQUFBLFdBQUFTLGNBQ0EsUUFDSUMsYUFDSnBGLEtBQUFtSyxNQUFBNGQsV0FJQWpKLE9BQUEsV0FDQSxNQUFBcGEsR0FBQSxXQUFBUyxjQUNBLE9BQ0lDLFdBQUEsRUFBQU4sRUFBQSwyQkFBQTlFLEtBQUFtSyxNQUFBaEosTUFBQWlFLFdBQ0pFLE1BQUF0RixLQUFBbUssTUFBQWhKLE1BQUFtRSxNQUNBd0csTUFBQTlMLEtBQUFtSyxNQUFBaEosTUFBQTJLLE9BRUE5TCxLQUFBMG9DLG1CQUNBMW9DLEtBQUF1YyxpQkFNQTNjLEdBQUFELFFBQUE2b0MsRzFDb3BOTSxTQUFTNW9DLEVBQVFELEVBQVNTLEcyQzN2TmhDLFlBRUEsSUFBQXVHLEdBQUExRixPQUFBMkYsUUFBQSxTQUFBQyxHQUFtRCxPQUFBbEQsR0FBQSxFQUFnQkEsRUFBQUMsVUFBQUMsT0FBc0JGLElBQUEsQ0FBTyxHQUFBbUQsR0FBQWxELFVBQUFELEVBQTJCLFFBQUFTLEtBQUEwQyxHQUEwQjdGLE9BQUE4RixVQUFBeEMsZUFBQTlELEtBQUFxRyxFQUFBMUMsS0FBeUR5QyxFQUFBekMsR0FBQTBDLEVBQUExQyxJQUFpQyxNQUFBeUMsSUFFL09rL0IsRUFBQTNsQyxFQUFBLEdBRUF1b0MsR0FBa0IzaUMsU0FBQSxXQUFBRyxXQUFBLFNBQUFMLE9BQUEsRUFBQUQsTUFBQSxFQUFBTyxTQUFBLFNBQUF3aUMsV0FBQSxVQUVsQkMsRUFBQSxtQkFBQXBuQyxRQUFBLFdBQ0EsTUFBQUEsUUFBQXFuQyx1QkFBQXJuQyxPQUFBc25DLDZCQUFBdG5DLE9BQUF1bkMsMEJBQUEsU0FBQWo0QixHQUNBdFAsT0FBQTBpQixXQUFBcFQsRUFBQSxZQUVDbVosS0FBQXpvQixRQUFBK0MsT0FFRHlrQyxFQUFBbEQsRUFBQWh6QixhQUNBQyxZQUFBLGdCQUVBQyxXQUNBOVIsTUFBQTRrQyxFQUFBcnpCLFVBQUFzQixJQUNBdk0sYUFBQXMrQixFQUFBcnpCLFVBQUFzQixJQUNBZ0IsU0FBQSt3QixFQUFBcnpCLFVBQUFvQixLQUNBeE8sTUFBQXlnQyxFQUFBcnpCLFVBQUE5SCxPQUNBeEYsVUFBQTJnQyxFQUFBcnpCLFVBQUFFLE9BQ0FpSyxTQUFBa3BCLEVBQUFyekIsVUFBQUMsV0FDQW96QixFQUFBcnpCLFVBQUExQyxPQUFBKzFCLEVBQUFyekIsVUFBQUUsU0FDQXMyQixXQUFBbkQsRUFBQXJ6QixVQUFBOUgsT0FDQXUrQixlQUFBcEQsRUFBQXJ6QixVQUFBRSxRQUVBeUQsZ0JBQUEsV0FDQSxPQUNBd0csU0FBQSxJQUdBdkcsZ0JBQUEsV0FDQSxPQUNBOHlCLFdBQUFwcEMsS0FBQW1LLE1BQUEwUyxXQUdBakcsa0JBQUEsV0FDQTVXLEtBQUFxcEMsa0JBQ0FycEMsS0FBQXNwQyxvQkFFQW55QixtQkFBQSxXQUNBblgsS0FBQXVwQyx5QkFFQUYsZ0JBQUEsV0FDQSxHQUFBcnBDLEtBQUFnb0MsYUFBQXZtQyxPQUFBK25DLGlCQUFBLENBR0EsR0FBQU4sR0FBQXpuQyxPQUFBK25DLGlCQUFBeHBDLEtBQUErTCxLQUFBOE0sT0FDQTR3QixFQUFBenBDLEtBQUErTCxLQUFBMjlCLEtBTUEsSUFMQUQsRUFBQW5rQyxNQUFBcWtDLFNBQUFULEVBQUFTLFNBQ0FGLEVBQUFua0MsTUFBQXNrQyxXQUFBVixFQUFBVSxXQUNBSCxFQUFBbmtDLE1BQUF1a0MsV0FBQVgsRUFBQVcsV0FDQUosRUFBQW5rQyxNQUFBd2tDLFVBQUFaLEVBQUFZLFVBQ0FMLEVBQUFua0MsTUFBQXlrQyxjQUFBYixFQUFBYSxjQUNBL3BDLEtBQUFtSyxNQUFBdUwsWUFBQSxDQUNBLEdBQUFzMEIsR0FBQWhxQyxLQUFBK0wsS0FBQWsrQixnQkFDQUQsR0FBQTFrQyxNQUFBcWtDLFNBQUFULEVBQUFTLFNBQ0FLLEVBQUExa0MsTUFBQXNrQyxXQUFBVixFQUFBVSxXQUNBSSxFQUFBMWtDLE1BQUF1a0MsV0FBQVgsRUFBQVcsV0FDQUcsRUFBQTFrQyxNQUFBd2tDLFVBQUFaLEVBQUFZLFVBQ0FFLEVBQUExa0MsTUFBQXlrQyxjQUFBYixFQUFBYSxpQkFHQVIsc0JBQUEsV0FDQVYsRUFBQTdvQyxLQUFBc3BDLG1CQUVBQSxpQkFBQSxXQUNBLEdBQUF0cEMsS0FBQWdvQyxhQUFBLG1CQUFBaG9DLE1BQUErTCxLQUFBMjlCLE1BQUFRLFlBQUEsQ0FHQSxHQUFBQyxHQUFBM2xDLE1BRUEybEMsR0FEQW5xQyxLQUFBbUssTUFBQXVMLFlBQ0E4VCxLQUFBNFosSUFBQXBqQyxLQUFBK0wsS0FBQTI5QixNQUFBUSxZQUFBbHFDLEtBQUErTCxLQUFBaytCLGlCQUFBQyxhQUFBLEVBRUFscUMsS0FBQStMLEtBQUEyOUIsTUFBQVEsWUFBQSxFQUVBQyxFQUFBbnFDLEtBQUFtSyxNQUFBMFMsV0FDQXN0QixFQUFBbnFDLEtBQUFtSyxNQUFBMFMsVUFFQXN0QixJQUFBbnFDLEtBQUFpWCxNQUFBbXlCLFlBQ0FwcEMsS0FBQTRZLFVBQ0F3d0IsV0FBQWUsTUFJQUMsU0FBQSxXQUNBLE1BQUFwcUMsTUFBQStMLEtBQUE4TSxPQUVBaEMsTUFBQSxXQUNBN1csS0FBQStMLEtBQUE4TSxNQUFBaEMsU0FFQWtDLEtBQUEsV0FDQS9ZLEtBQUErTCxLQUFBOE0sTUFBQUUsUUFFQTR1QixPQUFBLFdBQ0EzbkMsS0FBQStMLEtBQUE4TSxNQUFBOHVCLFVBRUE3b0IsT0FBQSxXQUNBLEdBQUF1ckIsSUFBQXJxQyxLQUFBbUssTUFBQTFDLGNBQUF6SCxLQUFBbUssTUFBQWhKLE9BQUEsSUFBQXVILFFBQUEsZUFBOEZBLFFBQUEsZUFBd0JBLFFBQUEsY0FBdUJBLFFBQUEsY0FDN0l3TixFQUFBbFcsS0FBQW1LLE1BQUE3RSxTQUNBNFEsR0FBQTBHLFVBQUExRyxFQUFBMEcsUUFBQSxlQUNBLElBQUFzc0IsR0FBQXZpQyxLQUE4QjNHLEtBQUFtSyxNQUFBKytCLFdBQzlCQSxHQUFBcmpDLE1BQUE3RixLQUFBaVgsTUFBQW15QixXQUNBRixFQUFBb0IsVUFBQSxhQUNBLElBQUE1MEIsR0FBQTFWLEtBQUFtSyxNQUFBdUwsWUFBQXF3QixFQUFBNWdDLGNBQ0EsT0FDSW9ILElBQUEsbUJBQUFqSCxNQUFBcWpDLEdBQ0ozb0MsS0FBQW1LLE1BQUF1TCxhQUNBLElBQ0EsT0FBQXF3QixHQUFBNWdDLGNBQ0EsT0FDSUMsVUFBQXBGLEtBQUFtSyxNQUFBL0UsVUFBQUUsTUFBQTRRLEdBQ0o2dkIsRUFBQTVnQyxjQUFBLFFBQUF3QixLQUEyQzNHLEtBQUFtSyxPQUFlb0MsSUFBQSxRQUFBbkgsVUFBQXBGLEtBQUFtSyxNQUFBZy9CLGVBQUE3akMsTUFBQTRqQyxLQUMxRG5ELEVBQUE1Z0MsY0FBQSxPQUErQm9ILElBQUEsUUFBQWpILE1BQUFxakMsRUFBQXZyQix5QkFBNERDLE9BQUFndEIsS0FDM0YzMEIsS0FLQTlWLEdBQUFELFFBQUFzcEMsRzNDaXdOTSxTQUFTcnBDLEVBQVFELEVBQVNTLEc0QzEzTmhDLFlBc0JBLFNBQUFTLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBZ2xDLEdBQUFobEMsRUFBQXNELEVBQUFqRCxHQUFtTSxNQUF4SmlELEtBQUF0RCxHQUFrQkcsT0FBQUMsZUFBQUosRUFBQXNELEdBQWtDakQsUUFBQXlJLFlBQUEsRUFBQUUsY0FBQSxFQUFBRCxVQUFBLElBQWdGL0ksRUFBQXNELEdBQUFqRCxFQUFvQkwsRUFFbk0sUUFBQXFJLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBRTNGLFFBQUFpaEMsR0FBQWxqQixFQUFBNW1CLEdBQWlELElBQUE0bUIsRUFBYSxTQUFBbWpCLGdCQUFBLDREQUF5RixRQUFBL3BDLEdBQUEsZ0JBQUFBLElBQUEsa0JBQUFBLEdBQUE0bUIsRUFBQTVtQixFQUV2SixRQUFBOEksR0FBQUMsRUFBQUMsR0FBMEMscUJBQUFBLElBQUEsT0FBQUEsRUFBK0QsU0FBQUgsV0FBQSxpRUFBQUcsR0FBdUdELEdBQUF6QyxVQUFBOUYsT0FBQXlJLE9BQUFELEtBQUExQyxXQUF5RTRDLGFBQWV4SSxNQUFBcUksRUFBQUksWUFBQSxFQUFBQyxVQUFBLEVBQUFDLGNBQUEsS0FBNkVMLElBQUF4SSxPQUFBOEksZUFBQTlJLE9BQUE4SSxlQUFBUCxFQUFBQyxHQUFBRCxFQUFBUSxVQUFBUCxHQTVCclgsR0FBQTlDLEdBQUExRixPQUFBMkYsUUFBQSxTQUFBQyxHQUFtRCxPQUFBbEQsR0FBQSxFQUFnQkEsRUFBQUMsVUFBQUMsT0FBc0JGLElBQUEsQ0FBTyxHQUFBbUQsR0FBQWxELFVBQUFELEVBQTJCLFFBQUFTLEtBQUEwQyxHQUEwQjdGLE9BQUE4RixVQUFBeEMsZUFBQTlELEtBQUFxRyxFQUFBMUMsS0FBeUR5QyxFQUFBekMsR0FBQTBDLEVBQUExQyxJQUFpQyxNQUFBeUMsSUFFL09vRCxFQUFBLFdBQWdDLFFBQUFDLEdBQUFyRCxFQUFBc0QsR0FBMkMsT0FBQXhHLEdBQUEsRUFBZ0JBLEVBQUF3RyxFQUFBdEcsT0FBa0JGLElBQUEsQ0FBTyxHQUFBeUcsR0FBQUQsRUFBQXhHLEVBQTJCeUcsR0FBQVIsV0FBQVEsRUFBQVIsYUFBQSxFQUF3RFEsRUFBQU4sY0FBQSxFQUFnQyxTQUFBTSxPQUFBUCxVQUFBLEdBQXVENUksT0FBQUMsZUFBQTJGLEVBQUF1RCxFQUFBaEcsSUFBQWdHLElBQStELGdCQUFBZixFQUFBZ0IsRUFBQUMsR0FBMkwsTUFBbElELElBQUFILEVBQUFiLEVBQUF0QyxVQUFBc0QsR0FBcUVDLEdBQUFKLEVBQUFiLEVBQUFpQixHQUE2RGpCLEtBRXhoQnBJLFFBQUFDLGVBQUF2QixFQUFBLGNBQ0F3QixPQUFBLEdBR0EsSUFBQXNELEdBQUFyRSxFQUFBLEdBRUFzRSxFQUFBN0QsRUFBQTRELEdBRUFrYixFQUFBdmYsRUFBQSxJQUVBd2YsRUFBQS9lLEVBQUE4ZSxHQUVBOHFCLEVBQUFycUMsRUFBQSxJQUVBc3FDLEVBQUE3cEMsRUFBQTRwQyxHQVlBbitCLEVBQUEsU0FBQXErQixHQUdBLFFBQUFyK0IsS0FDQSxHQUFBcytCLEdBRUFDLEVBQUFyOEIsRUFBQWdELENBRUFySSxHQUFBbkosS0FBQXNNLEVBRUEsUUFBQXcrQixHQUFBbG5DLFVBQUFDLE9BQUEyZSxFQUFBdmUsTUFBQTZtQyxHQUFBQyxFQUFBLEVBQW1FRCxFQUFBQyxFQUFhQSxJQUNoRnZvQixFQUFBdW9CLEdBQUFubkMsVUFBQW1uQyxFQUdBLE9BQUFGLEdBQUFyOEIsRUFBQSs3QixFQUFBdnFDLE1BQUE0cUMsRUFBQTNwQyxPQUFBb0ssZUFBQWlCLElBQUE3TCxLQUFBMEQsTUFBQXltQyxHQUFBNXFDLE1BQUF5YixPQUFBK0csS0FBQWhVLEVBQUF5SSxPQUNBK3pCLFVBQ0FqcUIsUUFBQSxFQUNBa3FCLGdCQUFBLE1BSEF6NUIsRUFJS3E1QixFQUFBTixFQUFBLzdCLEVBQUFnRCxHQWdITCxNQWpJQWpJLEdBQUErQyxFQUFBcStCLEdBb0JBMWdDLEVBQUFxQyxJQUNBbEksSUFBQSxRQUNBakQsTUFBQSxTQUFBaWdCLEVBQUF0VixFQUFBby9CLEdBQ0FsckMsS0FBQW1yQyxRQUFBbnJDLEtBQUFtSyxNQUFBaWhDLFVBQUExNkIsTUFBQTBRLEVBQUF0VixFQUFBby9CLE1BR0E5bUMsSUFBQSxPQUNBakQsTUFBQSxTQUFBaWdCLEVBQUF0VixFQUFBby9CLEdBQ0FsckMsS0FBQW1yQyxRQUFBbnJDLEtBQUFtSyxNQUFBaWhDLFVBQUFqckIsS0FBQWlCLEVBQUF0VixFQUFBby9CLE1BR0E5bUMsSUFBQSxVQUNBakQsTUFBQSxTQUFBaWdCLEVBQUF0VixFQUFBby9CLEdBQ0FsckMsS0FBQW1yQyxRQUFBbnJDLEtBQUFtSyxNQUFBaWhDLFVBQUFockIsUUFBQWdCLEVBQUF0VixFQUFBby9CLE1BR0E5bUMsSUFBQSxVQUNBakQsTUFBQSxTQUFBaWdCLEVBQUF0VixFQUFBby9CLEdBQ0FsckMsS0FBQW1yQyxRQUFBbnJDLEtBQUFtSyxNQUFBaWhDLFVBQUEvcUIsUUFBQWUsRUFBQXRWLEVBQUFvL0IsTUFHQTltQyxJQUFBLFFBQ0FqRCxNQUFBLFdBQ0EsR0FBQXdPLEdBQUEzUCxJQUVBaUIsUUFBQTJPLEtBQUE1UCxLQUFBK0wsTUFBQXdELFFBQUEsU0FBQW5MLEdBQ0F1TCxFQUFBNUQsS0FBQTNILEdBQUF1YyxXQUFBLFFBSUF2YyxJQUFBLFVBQ0FqRCxNQUFBLFNBQUF1RyxFQUFBMFosRUFBQXRWLEdBQ0EsR0FBQW1GLEdBQUFqUixLQUVBa3JDLEVBQUF0bkMsVUFBQUMsUUFBQSxHQUFBVyxTQUFBWixVQUFBLE1BQW9GQSxVQUFBLEVBRXBGLEtBQUE1RCxLQUFBbUssTUFBQWtoQyxtQkFDQXJyQyxLQUFBaVgsTUFBQWcwQixrQkFBQTdwQixFQURBLENBS0EsR0FBQWhkLEdBQUFwRSxLQUFBaVgsTUFBQThKLFVBQ0FBLEVBQUEzYyxFQUNBa25DLEdBQUEsRUFBQTFyQixjQUFBc3JCLEdBQ0FLLFFBQ0E3akMsT0FDQW9FLFFBQ0FzVixVQUNBTCxVQUNBM2MsTUFDQW1JLElBQUEsV0FBQW5JLEVBQ0FzYyxjQUFBLFNBQUFwWSxHQUlBLE1BSEEsa0JBQUE0aUMsR0FBQXhxQixlQUNBd3FCLEVBQUF4cUIsZ0JBRUF6UCxFQUFBdTZCLHVCQUFBbGpDLElBRUF3WSxhQUFBOWdCLEtBQUF5ckMscUJBQUF2aEIsS0FBQWxxQixTQUdBMHJDLEVBQUE1RixLQUE2QyxJQUFBOWxDLEtBQUFtSyxNQUFBd2hDLFlBQUEscUJBQUFMLElBRTdDdDBCLEdBQUEsRUFBQTRJLGNBQUE1ZixLQUFBaVgsT0FDQSt6QixPQUFBVSxFQUNBVCxpQkFBMEJ2cEIsS0FBQU4sSUFFMUJwaEIsTUFBQTRZLFNBQUE1QixPQUdBNVMsSUFBQSx5QkFDQWpELE1BQUEsU0FBQThYLEdBQ0FqWixLQUFBbUssTUFBQTNCLFFBQUF5USxHQUNBQSxFQUFBMnlCLG1CQUdBM3lCLEVBQUFTLGlCQUNBVCxFQUFBUSxzQkFHQXJWLElBQUEsdUJBQ0FqRCxNQUFBLFNBQUE0ZixHQUNBLEdBQUFqRCxHQUFBOWQsS0FFQTZyQyxFQUFBLElBQUE3ckMsS0FBQW1LLE1BQUF3aEMsWUFBQSx1QkFDQTNyQyxNQUFBaVgsTUFBQSt6QixPQUFBYSxHQUFBLFNBQUFDLEVBQUFDLEVBQUEzaUIsR0FDQSxNQUFBMGlCLElBQUFDLEVBQUFockIsYUFDQSxHQUVBakQsRUFBQWxGLFVBQUEsRUFBQWdILGNBQUE5QixFQUFBN0csT0FDQSt6QixRQUFtQmdCLFVBQUE1aUIsRUFBQSxTQUVuQixLQUNPLE1BR1BobEIsSUFBQSxTQUNBakQsTUFBQSxXQUNBLEdBQUF3ZCxHQUFBM2UsSUFFQSxPQUFBMEUsY0FBQVMsY0FDQSxNQUNBd0IsS0FBbUIzRyxLQUFBbUssT0FBZThoQyxZQUFBLFNBQUFockIsS0FBQSxVQUNsQ2poQixLQUFBaVgsTUFBQSt6QixPQUFBampDLElBQUEsU0FBQWdrQyxHQUNBLE1BQUFwdEIsR0FBQXhVLE1BQUFxQyxvQkFBQXUvQixVQU1Bei9CLEdBQ0M3SCxFQUFBZ0ksVUFFREgsR0FBQTJHLFdBQ0FtNEIsVUFBQTNtQyxFQUFBaU8sVUFBQW1lLE9BQ0FuZ0IsTUFBQWpNLEVBQUFpTyxVQUFBRSxPQUNBdU4sS0FBQTFiLEVBQUFpTyxVQUFBRSxPQUNBd04sUUFBQTNiLEVBQUFpTyxVQUFBRSxPQUNBeU4sUUFBQTViLEVBQUFpTyxVQUFBRSxTQUNHNHRCLFdBQ0hqZ0MsR0FBQWtFLEVBQUFpTyxVQUFBRSxPQUFBNHRCLFdBQ0FoMEIsb0JBQUEvSCxFQUFBaU8sVUFBQW9CLEtBQUEwc0IsV0FDQTZLLGtCQUFBNW1DLEVBQUFpTyxVQUFBVSxLQUFBb3RCLFdBQ0FtTCxZQUFBbG5DLEVBQUFpTyxVQUFBVSxLQUFBb3RCLFdBQ0FoNEIsUUFBQS9ELEVBQUFpTyxVQUFBb0IsS0FBQTBzQixZQUVBbDBCLEVBQUE0a0IsY0FDQWthLFdBQ0ExNkIsTUFBQSxRQUNBeVAsS0FBQSxPQUNBQyxRQUFBLFVBQ0FDLFFBQUEsV0FFQTlmLEdBQUEsa0JBQ0FpTSxvQkFBQTlILGFBQUE4RyxjQUFBay9CLGNBQ0FXLG1CQUFBLEVBQ0FNLGFBQUEsRUFDQW5qQyxRQUFBLGNBRUE3SSxhQUFBMk0sRzVDZzROTSxTQUFTMU0sRUFBUUQsRUFBU1MsRzZDL2pPaEMsWUFrQkEsU0FBQVMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBaEI3RUcsT0FBQUMsZUFBQXZCLEVBQUEsY0FDQXdCLE9BQUEsR0FHQSxJQUFBK3FDLEdBQUE5ckMsRUFBQSxJQUVBK3JDLEVBQUF0ckMsRUFBQXFyQyxHQUVBcjZCLEVBQUF6UixFQUFBLEdBRUEwUixFQUFBalIsRUFBQWdSLEdBRUF1NkIsRUFBQWhzQyxFQUFBLElBRUFpc0MsRUFBQXhyQyxFQUFBdXJDLEdBSUFFLEVBQUEsR0FDQTFqQyxFQUFBM0gsT0FBQThGLFVBQUE2QixRQUNBakosZUFDQTBXLGdCQUFBLFdBQ0EsT0FDQWsyQixXQUFBLEtBQ0FuZ0MsY0FBQSxvQkFDQUMsY0FBQSxxQkFDQUgsUUFBQSxJQUNBQyxnQkFBQSxNQUdBczdCLG1CQUFBLFdBQ0F6bkMsS0FBQXdzQyxrQkFDQXhzQyxLQUFBeXNDLFVBQUEsRUFDQXpzQyxLQUFBMHNDLFdBQUEsTUFFQTkxQixrQkFBQSxXQUNBLEdBQUFwSSxHQUFBeE8sSUFFQUEsTUFBQTJzQyxhQUFBLEVBQ0Ezc0MsS0FBQTRzQyxPQUNBLElBQUEvNUIsR0FBQWYsYUFBQTRGLFlBQUExWCxNQUVBNnNDLEVBQUEsUUFBQUEsS0FDQXIrQixFQUFBaStCLFdBQ0FqK0IsRUFBQXMrQixnQkFBQSxHQUNBWCxhQUFBWSx1QkFBQWw2QixFQUFBZzZCLEdBQ0FyK0IsRUFBQXFTLGtCQUdBc3JCLGNBQUFhLG9CQUFBbjZCLEVBQUFnNkIsR0FFQTdzQyxLQUFBbUssTUFBQStCLFFBQUEsR0FDQWxNLEtBQUFpdEMsaUJBQUE5b0IsV0FBQW5rQixLQUFBMmdCLFVBQUEzZ0IsS0FBQW1LLE1BQUErQixXQUdBZ2hDLHFCQUFBLFdBQ0FsdEMsS0FBQTJzQyxhQUFBLEVBQ0Ezc0MsS0FBQTBzQyxZQUNBcm9CLGFBQUFya0IsS0FBQTBzQyxhQUdBUyxnQkFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUEsZ0JBQ0F2NkIsRUFBQWYsYUFBQTRGLFlBQUExWCxNQUNBb0YsRUFBQXBGLEtBQUFtSyxNQUFBb2lDLFdBQUEsSUFBQWMsRUFDQUMsRUFBQWxvQyxFQUFBLFVBRUFtb0MsRUFBQSxRQUFBQSxHQUFBamxDLEdBQ0EsSUFBQUEsS0FBQXpCLFNBQUFnTSxFQUFBLENBSUEsR0FBQTI2QixJQUFBLEVBQUFuQixjQUFBeDVCLEVBQ0EyNkIsR0FBQXZmLE9BQUE3b0IsR0FDQW9vQyxFQUFBdmYsT0FBQXFmLEdBRUFuQixhQUFBWSx1QkFBQWw2QixFQUFBMDZCLElBR0FwQixjQUFBYSxvQkFBQW42QixFQUFBMDZCLElBRUEsRUFBQWxCLGNBQUF4NUIsR0FBQXVhLElBQUFob0IsR0FHQXBGLEtBQUF5dEMsYUFBQUgsSUFFQUksa0JBQUEsU0FBQU4sR0FDQSxHQUFBdjZCLEdBQUFmLGFBQUE0RixZQUFBMVgsTUFDQXF0QyxFQUFBRCxFQUFBLGdCQUNBaG9DLEVBQUFwRixLQUFBbUssTUFBQW9pQyxXQUFBLElBQUFjLEVBQ0FDLEVBQUFsb0MsRUFBQSxVQUVBb29DLEdBQUEsRUFBQW5CLGNBQUF4NUIsRUFDQTI2QixHQUFBdmYsT0FBQTdvQixHQUNBb29DLEVBQUF2ZixPQUFBcWYsSUFFQUssZUFBQSxTQUFBUCxHQUNBLEdBQUF2NkIsR0FBQWYsYUFBQTRGLFlBQUExWCxNQUNBNHRDLEVBQUE1dEMsS0FBQTZ0Qyx1QkFBQVQsR0FDQUcsRUFBQSxRQUFBQSxHQUFBamxDLEdBQ0FBLEtBQUF6QixTQUFBZ00sSUFJQSs2QixFQUFBcitCLFFBQUEsU0FBQXUrQixHQUNBLFNBQUF6QixjQUFBeDVCLEdBQUFvYixPQUFBNmYsS0FHQTNCLGFBQUFZLHVCQUFBbDZCLEVBQUEwNkIsSUFHQXBCLGNBQUFhLG9CQUFBbjZCLEVBQUEwNkIsR0FFQUssRUFBQXIrQixRQUFBLFNBQUF1K0IsR0FDQSxTQUFBekIsY0FBQXg1QixHQUFBdWEsSUFBQTBnQixNQUdBRCx1QkFBQSxTQUFBVCxHQUNBLEdBQUFRLEdBQUFSLEVBQUFwdEMsS0FBQW1LLE1BQUFrQyxjQUFBck0sS0FBQW1LLE1BQUFpQyxhQUNBLDBCQUFBeEQsRUFBQW5JLEtBQUFtdEMsR0FDQUEsRUFDSyxnQkFBQUEsR0FDTEEsRUFBQS9rQyxNQUFBLEtBREssUUFJTGtsQyxpQkFBQSxTQUFBWCxHQUNBLEdBQUF2NkIsR0FBQWYsYUFBQTRGLFlBQUExWCxNQUNBNHRDLEVBQUE1dEMsS0FBQTZ0Qyx1QkFBQVQsRUFDQVEsR0FBQXIrQixRQUFBLFNBQUE3RCxHQUNBLFNBQUEyZ0MsY0FBQXg1QixHQUFBb2IsT0FBQXZpQixNQUdBK2hDLGFBQUEsU0FBQXJvQyxHQUNBcEYsS0FBQXdzQyxlQUFBeG9DLEtBQUFvQixHQUVBcEYsS0FBQWtrQixVQUNBbGtCLEtBQUFra0IsUUFBQUMsV0FBQW5rQixLQUFBZ3VDLHdCQUFBMUIsS0FHQTBCLHdCQUFBLFdBQ0EsR0FBQXIrQixHQUFBM1AsSUFFQUEsTUFBQTJzQyxjQUNBLFdBQ0EsR0FBQTk1QixHQUFBZixhQUFBNEYsWUFBQS9ILEVBQ0FBLEdBQUE2OEIsZUFBQWo5QixRQUFBLFNBQUFuSyxHQUNBLFNBQUFpbkMsY0FBQXg1QixHQUFBdWEsSUFBQWhvQixRQUlBcEYsS0FBQXdzQyxlQUFBM29DLE9BQUEsRUFDQTdELEtBQUFra0IsUUFBQSxNQUVBMG9CLE1BQUEsV0FDQTVzQyxLQUFBbUssTUFBQW9pQyxXQUNBdnNDLEtBQUFtdEMsa0JBQ0tudEMsS0FBQW1LLE1BQUFpQyxlQUNMcE0sS0FBQTJ0QyxrQkFHQXBzQixpQkFBQSxXQUNBOEMsYUFBQXJrQixLQUFBMHNDLFlBQ0Exc0MsS0FBQWl0QyxpQkFBQSxNQUNBanRDLEtBQUF5c0MsV0FDQXpzQyxLQUFBOHNDLGdCQUFBLEdBRUE5c0MsS0FBQW1LLE1BQUFrQyxjQUNBck0sS0FBQSt0QyxrQkFBQSxHQUNPL3RDLEtBQUFtSyxNQUFBb2lDLFlBQ1B2c0MsS0FBQTB0QyxtQkFBQSxLQUlBanNCLGlCQUFBLFlBQ0F6aEIsS0FBQXlzQyxXQUFBenNDLEtBQUFtSyxNQUFBK0IsUUFBQSxHQUFBbE0sS0FBQW1LLE1BQUFnQyxnQkFBQSxJQUNBbk0sS0FBQWl0QyxpQkFBQTlvQixXQUFBbmtCLEtBQUEyZ0IsVUFBQTNnQixLQUFBbUssTUFBQWdDLG1CQUdBd1UsVUFBQSxTQUFBc3RCLEdBQ0FqdUMsS0FBQXlzQyxVQUFBLE9BQUF6c0MsS0FBQTBzQyxhQUFBdUIsSUFJQWp1QyxLQUFBOHNDLGdCQUFBLEdBQ0E5c0MsS0FBQW1LLE1BQUFvaUMsV0FDQXZzQyxLQUFBbXRDLGlCQUFBLEdBQ0tudEMsS0FBQW1LLE1BQUFrQyxjQUNMck0sS0FBQTJ0QyxnQkFBQSxHQUVBM3RDLEtBQUE2Z0IsbUJBR0Fvc0IsaUJBQUEsU0FBQVAsR0FDQTFzQyxLQUFBMHNDLGNBRUFJLGVBQUEsU0FBQUwsR0FDQXpzQyxLQUFBeXNDLGM3Q3VrT00sU0FBUzdzQyxFQUFRRCxFQUFTUyxHOEM3d09oQyxZQVVBLFNBQUFTLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBb3RDLEdBQUFDLEVBQUFoa0MsR0FDQWdrQyxFQUFBaGtDLEVBQUFpa0MsYUFDQUMsU0FBQWxrQyxFQUFBbWtDLGFBQ0FDLE9BQUFwa0MsRUFBQXFrQyxhQWJBdnRDLE9BQUFDLGVBQUF2QixFQUFBLGNBQ0F3QixPQUFBLEdBR0EsSUFBQTBRLEdBQUF6UixFQUFBLEdBRUEwUixFQUFBalIsRUFBQWdSLEVBV0FsUyxlQUNBMFcsZ0JBQUEsV0FDQSxPQUNBL1EsT0FDQXNYLFFBQUEsUUFFQXd4QixXQUFBLFNBQ0FFLGFBQUEsSUFDQUUsV0FBQSxRQUNBQyxXQUFBLFVBQ0FDLGFBQUEsSUFDQUMsV0FBQSxRQUVBemlDLFFBQUEsSUFDQUMsZ0JBQUEsTUFHQW1LLGdCQUFBLFdBQ0EsT0FDQW8yQixXQUFBLEtBQ0FELFVBQUEsSUFHQTcxQixrQkFBQSxXQUNBczNCLEVBQUFsdUMsS0FBQTR1QyxjQUFBNXVDLEtBQUFtSyxPQUNBbkssS0FBQW1LLE1BQUErQixRQUFBLEdBQ0FsTSxLQUFBaXRDLGlCQUFBOW9CLFdBQUFua0IsS0FBQTJnQixVQUFBM2dCLEtBQUFtSyxNQUFBK0IsV0FHQXFWLGlCQUFBLFdBQ0E4QyxhQUFBcmtCLEtBQUFpWCxNQUFBeTFCLFlBQ0Exc0MsS0FBQWl0QyxpQkFBQSxNQUNBanRDLEtBQUE4c0MsZ0JBQUEsR0FFQW9CLEVBQUFsdUMsS0FBQTR1QyxjQUFBQyxNQUFBLE1BQUE3dUMsS0FBQW1LLFFBRUFzWCxpQkFBQSxZQUNBemhCLEtBQUFpWCxNQUFBdzFCLFdBQUF6c0MsS0FBQW1LLE1BQUErQixRQUFBLEdBQUFsTSxLQUFBbUssTUFBQWdDLGdCQUFBLElBQ0FuTSxLQUFBaXRDLGlCQUFBOW9CLFdBQUFua0IsS0FBQTJnQixVQUFBM2dCLEtBQUFtSyxNQUFBZ0MsbUJBR0F3VSxVQUFBLFNBQUFzdEIsR0FDQWp1QyxLQUFBaVgsTUFBQXcxQixVQUFBLE9BQUF6c0MsS0FBQWlYLE1BQUF5MUIsYUFBQXVCLElBR0FqdUMsS0FBQTRZLFVBQW1CNnpCLFVBQUEsSUFFbkJ6c0MsS0FBQTR1QyxjQUFBNXVDLEtBQUFtSyxNQUFBc2tDLGFBQ0FKLFNBQUFydUMsS0FBQW1LLE1BQUF1a0MsYUFDQUgsT0FBQXZ1QyxLQUFBbUssTUFBQXdrQyxXQUNBOUgsU0FBQTdtQyxLQUFBNmdCLG1CQUdBK3RCLFlBQUEsV0FFQSxNQUFBbHZCLFFBQUE1TixhQUFBNEYsWUFBQTFYLFFBR0FpdEMsaUJBQUEsU0FBQVAsR0FDQTFzQyxLQUFBNFksVUFDQTh6QixnQkFHQUksZUFBQSxTQUFBTCxHQUNBenNDLEtBQUE0WSxVQUNBNnpCLGdCOUNzeE9NLFNBQVM3c0MsRUFBUUQsRUFBU1MsRytDMTJPaEMsWUFlQSxTQUFBUyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FiN0VHLE9BQUFDLGVBQUF2QixFQUFBLGNBQ0F3QixPQUFBLElBRUF4QixFQUFBOEwsYUFBQTlMLEVBQUEyTSxlQUFBOUgsTUFFQSxJQUFBc3FDLEdBQUExdUMsRUFBQSxJQUVBMnVDLEVBQUFsdUMsRUFBQWl1QyxHQUVBckUsRUFBQXJxQyxFQUFBLElBRUFzcUMsRUFBQTdwQyxFQUFBNHBDLEVBSUE5cUMsR0FBQTJNLGVBQUF5aUMsYUFDQXB2QyxFQUFBOEwsYUFBQWkvQixjL0NnM09NLFNBQVM5cUMsRUFBUUQsR2dEOTNPdkIsUUFBQStQLEdBQUEvQyxFQUFBMGtCLEdBQ0EsR0FBQTFrQixFQUFBK0MsUUFBQSxNQUFBL0MsR0FBQStDLFFBQUEyaEIsRUFDQSxRQUFBMXRCLEdBQUEsRUFBQTRlLEVBQUE1VixFQUFBOUksT0FBbUMwZSxFQUFBNWUsRUFBU0EsSUFDNUMsR0FBQWdKLEVBQUFoSixLQUFBMHRCLEVBQUEsTUFBQTF0QixFQUNBLFVBR0EsUUFBQXFyQyxHQUFBdlosR0FDQSxLQUFBejFCLGVBQUFndkMsSUFBQSxVQUFBQSxHQUFBdlosRUFFQUEsV0FHQUEsRUFBQXdaLFdBQUF4WixHQUE2QnlaLEdBQUF6WixJQUU3QnoxQixLQUFBeTFCLE9BQ0F6MUIsS0FBQWt2QyxHQUFBelosRUFBQXlaLElBQUFocUMsU0FBQW1CLEtBQ0EsZ0JBQUFyRyxNQUFBa3ZDLEtBQUFsdkMsS0FBQWt2QyxHQUFBaHFDLFNBQUFtL0IsY0FBQXJrQyxLQUFBa3ZDLEtBckJBdHZDLEVBQUFELFFBQUEsU0FBQTgxQixHQUNBLFVBQUF1WixHQUFBdlosSUF1QkF1WixFQUFBam9DLFVBQUFxbUIsSUFBQSxTQUFBaG9CLEdBQ0EsR0FBQThwQyxHQUFBbHZDLEtBQUFrdkMsRUFDQSxJQUFBQSxFQUFBLENBQ0EsUUFBQUEsRUFBQTlwQyxVQUFBLE1BQUE4cEMsR0FBQTlwQyxXQUNBLElBQUExQixHQUFBd3JDLEVBQUE5cEMsVUFBQXlELE1BQUEsSUFDQSxPQUFBNkcsR0FBQWhNLEVBQUEwQixHQUFBLEdBQUExQixHQUNBQSxFQUFBTSxLQUFBb0IsR0FDQThwQyxFQUFBOXBDLFVBQUExQixFQUFBWSxLQUFBLEtBQ0FaLEtBR0FzckMsRUFBQWpvQyxVQUFBa25CLE9BQUEsU0FBQTdvQixHQUNBLEdBQUE4cEMsR0FBQWx2QyxLQUFBa3ZDLEVBQ0EsSUFBQUEsR0FDQSxLQUFBQSxFQUFBOXBDLFVBQUEsQ0FDQSxHQUFBMUIsR0FBQXdyQyxFQUFBOXBDLFVBQUF5RCxNQUFBLEtBQ0FzbUMsRUFBQXovQixFQUFBaE0sRUFBQTBCLEVBR0EsT0FGQStwQyxHQUFBLElBQUF6ckMsRUFBQTRmLE9BQUE2ckIsRUFBQSxHQUNBRCxFQUFBOXBDLFVBQUExQixFQUFBWSxLQUFBLEtBQ0FaLElBR0FzckMsRUFBQWpvQyxVQUFBcW9DLElBQUEsU0FBQWhxQyxHQUNBLEdBQUE4cEMsR0FBQWx2QyxLQUFBa3ZDLEVBQ0EsSUFBQUEsRUFBQSxDQUNBLEdBQUF4ckMsR0FBQXdyQyxFQUFBOXBDLFVBQUF5RCxNQUFBLElBQ0EsT0FBQTZHLEdBQUFoTSxFQUFBMEIsR0FBQSxLQUdBNHBDLEVBQUFqb0MsVUFBQXMvQixPQUFBLFNBQUFqaEMsR0FDQSxHQUFBOHBDLEdBQUFsdkMsS0FBQWt2QyxFQUNBQSxLQUNBbHZDLEtBQUFvdkMsSUFBQWhxQyxHQUFBcEYsS0FBQWl1QixPQUFBN29CLEdBQ0FwRixLQUFBb3RCLElBQUFob0IsTWhEMDRPTSxTQUFTeEYsRUFBUUQsR2lEdDdPdkIsWUFFQSxTQUFBaUgsR0FBQUMsRUFBQXdvQyxHQUNBLFNBQUF4b0MsRUFDQSxTQUFBeUMsV0FBQSxtREFNQSxRQUhBZ21DLEdBQUFydUMsT0FBQTRGLEdBQ0F0QyxFQUFBdEQsT0FBQThGLFVBQUF4QyxlQUVBZ3JDLEVBQUEsRUFBeUJBLEVBQUEzckMsVUFBQUMsT0FBOEIwckMsSUFBQSxDQUN2RCxHQUFBQyxHQUFBNXJDLFVBQUEyckMsRUFDQSxVQUFBQyxFQUFBLENBSUEsR0FBQUMsR0FBQXh1QyxPQUFBdXVDLEVBT0EsUUFBQXByQyxLQUFBcXJDLEdBQ0FsckMsRUFBQTlELEtBQUFndkMsRUFBQXJyQyxLQUNBa3JDLEVBQUFsckMsR0FBQXFyQyxFQUFBcnJDLEtBS0EsTUFBQWtyQyxHQUdBMXZDLEVBQUFELFFBQUFpSCxHakR5OE9NLFNBQVNoSCxFQUFRRCxFQUFTUyxHa0Q1K09oQyxZQTZCQSxTQUFBc3ZDLEtBQ0EsR0FBQUMsR0FBQXpxQyxTQUFBQyxjQUFBLE9BQ0FHLEVBQUFxcUMsRUFBQXJxQyxLQU9BLG1CQUFBN0QsZUFDQW11QyxHQUFBQyxhQUFBbmtDLFVBR0EsbUJBQUFqSyxlQUNBbXVDLEdBQUFFLGNBQUF2RCxVQUdBLFFBQUF3RCxLQUFBSCxHQUFBLENBQ0EsR0FBQUksR0FBQUosRUFBQUcsRUFDQSxRQUFBRSxLQUFBRCxHQUNBLEdBQUFDLElBQUEzcUMsR0FBQSxDQUNBNHFDLEVBQUFsc0MsS0FBQWdzQyxFQUFBQyxHQUNBLFNBZUEsUUFBQXJtQixHQUFBL1csRUFBQXM5QixFQUFBQyxHQUNBdjlCLEVBQUErVyxpQkFBQXVtQixFQUFBQyxHQUFBLEdBR0EsUUFBQXZtQixHQUFBaFgsRUFBQXM5QixFQUFBQyxHQUNBdjlCLEVBQUFnWCxvQkFBQXNtQixFQUFBQyxHQUFBLEdBckVBLEdBQUFDLEdBQUFqd0MsRUFBQSxJQU9Bd3ZDLEdBQ0FFLGVBQ0F2RCxXQUFBLGdCQUNBK0QsaUJBQUEsc0JBQ0FDLGNBQUEsbUJBQ0FDLFlBQUEsaUJBQ0FDLGFBQUEsbUJBR0FaLGNBQ0Fua0MsVUFBQSxlQUNBZ2xDLGdCQUFBLHFCQUNBQyxhQUFBLGtCQUNBQyxXQUFBLGdCQUNBQyxZQUFBLG1CQUlBWCxJQThCQUcsR0FBQVMsV0FDQXBCLEdBZ0JBLElBQUFxQixJQUNBL0Qsb0JBQUEsU0FBQW42QixFQUFBdTlCLEdBQ0EsV0FBQUYsRUFBQXJzQyxXQUdBcEMsUUFBQTBpQixXQUFBaXNCLEVBQUEsT0FHQUYsR0FBQTNnQyxRQUFBLFNBQUF5aEMsR0FDQXBuQixFQUFBL1csRUFBQW0rQixFQUFBWixNQUlBckQsdUJBQUEsU0FBQWw2QixFQUFBdTlCLEdBQ0EsSUFBQUYsRUFBQXJzQyxRQUdBcXNDLEVBQUEzZ0MsUUFBQSxTQUFBeWhDLEdBQ0FubkIsRUFBQWhYLEVBQUFtK0IsRUFBQVosTUFLQXh3QyxHQUFBRCxRQUFBb3hDLEdsRDYvT00sU0FBU254QyxFQUFRRCxFQUFTUyxJbUR6bVBoQyxTQUFBb2tCLEdBYUEsWUFPQSxTQUFBeXNCLEdBQUFyaUMsR0FDQSxNQUFBM0ssT0FBQUMsUUFBQTBLLEdBQ0FBLEVBQUE2TSxTQUNHN00sR0FBQSxnQkFBQUEsR0FDSGhJLEVBQUEsR0FBQWdJLEdBQUFqRixZQUFBaUYsR0FFQUEsRUFtQkEsUUFBQXNpQyxHQUFBL3ZDLEVBQUFnd0MsRUFBQUMsR0FDQW50QyxNQUFBQyxRQUFBL0MsR0FBbUlxRCxPQUFuSSxlQUFBZ2dCLEVBQUFHLElBQUEwc0IsU0FBQUMsR0FBQSw0REFBbUlGLEVBQUFqd0MsR0FBQW13QyxHQUFBLEVBQ25JLElBQUFDLEdBQUFKLEVBQUFDLEVBQ0FudEMsT0FBQUMsUUFBQXF0QyxHQUFxSS9zQyxPQUFySSxlQUFBZ2dCLEVBQUFHLElBQUEwc0IsU0FBQUMsR0FBQSw2R0FBcUlGLEVBQUFHLEdBQUFELEdBQUEsR0FHckksUUFBQTdaLEdBQUF0MkIsRUFBQWd3QyxHQUdBLEdBRkEsZ0JBQUFBLEdBQUEsZUFBQTNzQixFQUFBRyxJQUFBMHNCLFNBQUFDLEdBQUEsdUhBQWdORSxFQUFBbHRDLEtBQUEsTUFBQW10QyxHQUFBSCxHQUFBLEdBQUE5c0MsT0FFaE5ELEVBQUE5RCxLQUFBMHdDLEVBQUFNLEdBR0EsTUFGQSxLQUFBeHdDLE9BQUEyTyxLQUFBdWhDLEdBQUF0dEMsT0FBQSxlQUFBMmdCLEVBQUFHLElBQUEwc0IsU0FBQUMsR0FBQSx1REFBQUcsR0FBQUgsR0FBQSxHQUFBOXNDLE9BRUEyc0MsRUFBQU0sRUFHQSxJQUFBQyxHQUFBVCxFQUFBOXZDLEVBRUEsSUFBQW9ELEVBQUE5RCxLQUFBMHdDLEVBQUFRLEdBQUEsQ0FDQSxHQUFBQyxHQUFBVCxFQUFBUSxFQUNBQyxJQUFBLGdCQUFBQSxHQUEySnB0QyxPQUEzSixlQUFBZ2dCLEVBQUFHLElBQUEwc0IsU0FBQUMsR0FBQSx5REFBMkpLLEVBQUFDLEdBQUFOLEdBQUEsR0FDM0pJLEdBQUEsZ0JBQUFBLEdBQStKbHRDLE9BQS9KLGVBQUFnZ0IsRUFBQUcsSUFBQTBzQixTQUFBQyxHQUFBLDJEQUErSkssRUFBQUQsR0FBQUosR0FBQSxHQUMvSjFxQyxFQUFBOHFDLEVBQUFQLEVBQUFRLElBR0FwdEMsRUFBQTlELEtBQUEwd0MsRUFBQVUsS0FDQVgsRUFBQS92QyxFQUFBZ3dDLEVBQUFVLEdBQ0FWLEVBQUFVLEdBQUF0aUMsUUFBQSxTQUFBbzJCLEdBQ0ErTCxFQUFBMXRDLEtBQUEyaEMsTUFJQXBoQyxFQUFBOUQsS0FBQTB3QyxFQUFBVyxLQUNBWixFQUFBL3ZDLEVBQUFnd0MsRUFBQVcsR0FDQVgsRUFBQVcsR0FBQXZpQyxRQUFBLFNBQUFvMkIsR0FDQStMLEVBQUFLLFFBQUFwTSxNQUlBcGhDLEVBQUE5RCxLQUFBMHdDLEVBQUFhLEtBQ0EvdEMsTUFBQUMsUUFBQS9DLEdBQXdIcUQsT0FBeEgsZUFBQWdnQixFQUFBRyxJQUFBMHNCLFNBQUFDLEdBQUEsOENBQXdIVSxFQUFBN3dDLEdBQUFtd0MsR0FBQSxHQUN4SHJ0QyxNQUFBQyxRQUFBaXRDLEVBQUFhLElBQTRKeHRDLE9BQTVKLGVBQUFnZ0IsRUFBQUcsSUFBQTBzQixTQUFBQyxHQUFBLHdIQUE0SlUsRUFBQWIsRUFBQWEsSUFBQVYsR0FBQSxHQUM1SkgsRUFBQWEsR0FBQXppQyxRQUFBLFNBQUFpVCxHQUNBdmUsTUFBQUMsUUFBQXNlLEdBQThJaGUsT0FBOUksZUFBQWdnQixFQUFBRyxJQUFBMHNCLFNBQUFDLEdBQUEsd0hBQThJVSxFQUFBYixFQUFBYSxJQUFBVixHQUFBLEdBQzlJSSxFQUFBcHVCLE9BQUFuZixNQUFBdXRDLEVBQUFsdkIsTUFJQWplLEVBQUE5RCxLQUFBMHdDLEVBQUFjLEtBQ0Esa0JBQUFkLEdBQUFjLEdBQUEsZUFBQXp0QixFQUFBRyxJQUFBMHNCLFNBQUFDLEdBQUEsNERBQTRKVyxFQUFBZCxFQUFBYyxJQUFBWCxHQUFBLEdBQUE5c0MsT0FDNUprdEMsRUFBQVAsRUFBQWMsR0FBQVAsR0FHQSxRQUFBUSxLQUFBZixHQUNBZ0IsRUFBQTV0QyxlQUFBMnRDLElBQUFDLEVBQUFELEtBQ0FSLEVBQUFRLEdBQUF6YSxFQUFBdDJCLEVBQUErd0MsR0FBQWYsRUFBQWUsSUFJQSxPQUFBUixHQXhGQSxHQUFBOXFDLEdBQUF4RyxFQUFBLElBQ0FneUMsRUFBQWh5QyxFQUFBLElBQ0FreEMsRUFBQWx4QyxFQUFBLElBQ0FtRSxLQUF3QkEsZUFZeEJzdEMsRUFBQU8sR0FBMEJDLE1BQUEsT0FDMUJQLEVBQUFNLEdBQTZCRSxTQUFBLE9BQzdCTixFQUFBSSxHQUE0QnBHLFFBQUEsT0FDNUJ5RixFQUFBVyxHQUF5QjF3QixLQUFBLE9BQ3pCaXdCLEVBQUFTLEdBQTJCN0csT0FBQSxPQUMzQjBHLEVBQUFHLEdBQTJCRyxPQUFBLE9BRTNCZixHQUFBSyxFQUFBQyxFQUFBRSxFQUFBUCxFQUFBRSxFQUFBTSxHQUVBRSxJQUVBWCxHQUFBamlDLFFBQUEsU0FBQTZoQyxHQUNBZSxFQUFBZixJQUFBLElBZ0VBeHhDLEVBQUFELFFBQUE4M0IsSW5ENG1QOEJoM0IsS0FBS2QsRUFBU1MsRUFBb0IsTUFJMUQsU0FBU1IsRUFBUUQsR29EL3NQdkIsWUFFQSxJQUFBbXhDLEtBQUEsbUJBQUFydkMsaUJBQUF5RCxXQUFBekQsT0FBQXlELFNBQUFDLGVBUUFrckMsR0FFQVMsWUFFQTBCLGNBQUEsbUJBQUFDLFFBRUFDLHFCQUFBNUIsTUFBQXJ2QyxPQUFBbW9CLG1CQUFBbm9CLE9BQUFreEMsYUFFQUMsZUFBQTlCLEtBQUFydkMsT0FBQW94QyxPQUVBQyxZQUFBaEMsRUFJQWx4QyxHQUFBRCxRQUFBMHdDLEdwRGd1UE0sU0FBU3p3QyxFQUFRRCxFQUFTUyxJcURud1BoQyxTQUFBb2tCLEdBV0EsWUFhQSxTQUFBOHNCLEdBQUF5QixFQUFBeHJDLEVBQUF5RixFQUFBQyxFQUFBdE0sRUFBQXFILEVBQUFNLEVBQUEwcUMsR0FDQSxrQkFBQXh1QixFQUFBRyxJQUFBMHNCLFVBQ0E3c0MsU0FBQStDLEVBQ0EsU0FBQW1iLE9BQUEsK0NBSUEsS0FBQXF3QixFQUFBLENBQ0EsR0FBQXJpQyxFQUNBLElBQUFsTSxTQUFBK0MsRUFDQW1KLEVBQUEsR0FBQWdTLE9BQUEscUlBQ0ssQ0FDTCxHQUFBRixJQUFBeFYsRUFBQUMsRUFBQXRNLEVBQUFxSCxFQUFBTSxFQUFBMHFDLEdBQ0FDLEVBQUEsQ0FDQXZpQyxHQUFBLEdBQUFnUyxPQUFBbmIsRUFBQW1CLFFBQUEsaUJBQ0EsTUFBQThaLEdBQUF5d0IsUUFFQXZpQyxFQUFBaUUsS0FBQSxzQkFJQSxLQURBakUsR0FBQXdpQyxZQUFBLEVBQ0F4aUMsR0FJQTlRLEVBQUFELFFBQUEyeEMsSXJEc3dQOEI3d0MsS0FBS2QsRUFBU1MsRUFBb0IsTUFJMUQsU0FBU1IsRUFBUUQsR3NEdHlQdkIsWUFFQSxJQUFBeXlDLEdBQUEsU0FBQWUsR0FDQSxHQUFBL3VDLEVBQ0EsS0FBQUEsSUFBQSt1QyxHQUNBLEdBQUFBLEVBQUE1dUMsZUFBQUgsR0FHQSxNQUFBQSxFQUVBLGFBR0F4RSxHQUFBRCxRQUFBeXlDLEd0RGkwUE0sU0FBU3h5QyxFQUFRRCxFQUFTUyxHdUR0eVBoQyxRQUFBZ3pDLEdBQUFDLEVBQUF6ckMsR0FDQSxPQUFBakUsR0FBQSxFQUFlQSxFQUFBMHZDLEVBQUF4dkMsT0FBbUJGLElBQUEsQ0FDbEMsR0FBQWdpQyxHQUFBME4sRUFBQTF2QyxHQUNBMnZDLEVBQUFDLEVBQUE1TixFQUFBcGxDLEdBQ0EsSUFBQSt5QyxFQUFBLENBQ0FBLEVBQUF2bkMsTUFDQSxRQUFBeTFCLEdBQUEsRUFBaUJBLEVBQUE4UixFQUFBRSxNQUFBM3ZDLE9BQTJCMjlCLElBQzVDOFIsRUFBQUUsTUFBQWhTLEdBQUFtRSxFQUFBNk4sTUFBQWhTLEdBRUEsTUFBUUEsRUFBQW1FLEVBQUE2TixNQUFBM3ZDLE9BQXVCMjlCLElBQy9COFIsRUFBQUUsTUFBQXh2QyxLQUFBeXZDLEVBQUE5TixFQUFBNk4sTUFBQWhTLEdBQUE1NUIsUUFFRyxDQUVILE9BREE0ckMsTUFDQWhTLEVBQUEsRUFBaUJBLEVBQUFtRSxFQUFBNk4sTUFBQTN2QyxPQUF1QjI5QixJQUN4Q2dTLEVBQUF4dkMsS0FBQXl2QyxFQUFBOU4sRUFBQTZOLE1BQUFoUyxHQUFBNTVCLEdBRUEyckMsR0FBQTVOLEVBQUFwbEMsS0FBMkJBLEdBQUFvbEMsRUFBQXBsQyxHQUFBd0wsS0FBQSxFQUFBeW5DLFdBSzNCLFFBQUFFLEdBQUFyd0IsR0FHQSxPQUZBZ3dCLE1BQ0FNLEtBQ0Fod0MsRUFBQSxFQUFlQSxFQUFBMGYsRUFBQXhmLE9BQWlCRixJQUFBLENBQ2hDLEdBQUFnaUMsR0FBQXRpQixFQUFBMWYsR0FDQXBELEVBQUFvbEMsRUFBQSxHQUNBaU8sRUFBQWpPLEVBQUEsR0FDQWtPLEVBQUFsTyxFQUFBLEdBQ0FtTyxFQUFBbk8sRUFBQSxHQUNBb08sR0FBY0gsTUFBQUMsUUFBQUMsWUFDZEgsR0FBQXB6QyxHQUdBb3pDLEVBQUFwekMsR0FBQWl6QyxNQUFBeHZDLEtBQUErdkMsR0FGQVYsRUFBQXJ2QyxLQUFBMnZDLEVBQUFwekMsSUFBZ0NBLEtBQUFpekMsT0FBQU8sS0FJaEMsTUFBQVYsR0FHQSxRQUFBVyxHQUFBcHNDLEVBQUFxc0MsR0FDQSxHQUFBQyxHQUFBQyxJQUNBQyxFQUFBQyxJQUFBeHdDLE9BQUEsRUFDQSxZQUFBK0QsRUFBQTBzQyxTQUNBRixFQUVHQSxFQUFBRyxZQUNITCxFQUFBTSxhQUFBUCxFQUFBRyxFQUFBRyxhQUVBTCxFQUFBMXVDLFlBQUF5dUMsR0FKQUMsRUFBQU0sYUFBQVAsRUFBQUMsRUFBQU8sWUFNQUosRUFBQXJ3QyxLQUFBaXdDLE9BQ0UsZUFBQXJzQyxFQUFBMHNDLFNBR0YsU0FBQTV4QixPQUFBLHFFQUZBd3hCLEdBQUExdUMsWUFBQXl1QyxJQU1BLFFBQUFTLEdBQUFULEdBQ0FBLEVBQUFVLFdBQUFqdUMsWUFBQXV0QyxFQUNBLElBQUE5RSxHQUFBa0YsRUFBQTNrQyxRQUFBdWtDLEVBQ0E5RSxJQUFBLEdBQ0FrRixFQUFBL3dCLE9BQUE2ckIsRUFBQSxHQUlBLFFBQUF5RixHQUFBaHRDLEdBQ0EsR0FBQXFzQyxHQUFBL3VDLFNBQUFDLGNBQUEsUUFHQSxPQUZBOHVDLEdBQUF2c0MsS0FBQSxXQUNBc3NDLEVBQUFwc0MsRUFBQXFzQyxHQUNBQSxFQUdBLFFBQUFZLEdBQUFqdEMsR0FDQSxHQUFBa3RDLEdBQUE1dkMsU0FBQUMsY0FBQSxPQUdBLE9BRkEydkMsR0FBQUMsSUFBQSxhQUNBZixFQUFBcHNDLEVBQUFrdEMsR0FDQUEsRUFHQSxRQUFBckIsR0FBQTN5QyxFQUFBOEcsR0FDQSxHQUFBcXNDLEdBQUF4YyxFQUFBeEosQ0FFQSxJQUFBcm1CLEVBQUFvdEMsVUFBQSxDQUNBLEdBQUFDLEdBQUFDLEdBQ0FqQixHQUFBa0IsTUFBQVAsRUFBQWh0QyxJQUNBNnZCLEVBQUEyZCxFQUFBbHJCLEtBQUEsS0FBQStwQixFQUFBZ0IsR0FBQSxHQUNBaG5CLEVBQUFtbkIsRUFBQWxyQixLQUFBLEtBQUErcEIsRUFBQWdCLEdBQUEsT0FDRW4wQyxHQUFBZ3pDLFdBQ0Ysa0JBQUF6WSxNQUNBLGtCQUFBQSxLQUFBOEMsaUJBQ0Esa0JBQUE5QyxLQUFBdUIsaUJBQ0Esa0JBQUE5QixPQUNBLGtCQUFBdWEsT0FDQXBCLEVBQUFZLEVBQUFqdEMsR0FDQTZ2QixFQUFBNmQsRUFBQXByQixLQUFBLEtBQUErcEIsR0FDQWhtQixFQUFBLFdBQ0F5bUIsRUFBQVQsR0FDQUEsRUFBQW5XLE1BQ0F6QyxJQUFBdUIsZ0JBQUFxWCxFQUFBblcsU0FHQW1XLEVBQUFXLEVBQUFodEMsR0FDQTZ2QixFQUFBOGQsRUFBQXJyQixLQUFBLEtBQUErcEIsR0FDQWhtQixFQUFBLFdBQ0F5bUIsRUFBQVQsSUFNQSxPQUZBeGMsR0FBQTMyQixHQUVBLFNBQUEwTyxHQUNBLEdBQUFBLEVBQUEsQ0FDQSxHQUFBQSxFQUFBb2tDLE1BQUE5eUMsRUFBQTh5QyxLQUFBcGtDLEVBQUFxa0MsUUFBQS95QyxFQUFBK3lDLE9BQUFya0MsRUFBQXNrQyxZQUFBaHpDLEVBQUFnekMsVUFDQSxNQUNBcmMsR0FBQTMyQixFQUFBME8sT0FFQXllLE1BY0EsUUFBQW1uQixHQUFBbkIsRUFBQTdxQixFQUFBNkUsRUFBQW50QixHQUNBLEdBQUE4eUMsR0FBQTNsQixFQUFBLEdBQUFudEIsRUFBQTh5QyxHQUVBLElBQUFLLEVBQUF1QixXQUNBdkIsRUFBQXVCLFdBQUFDLFFBQUFDLEVBQUF0c0IsRUFBQXdxQixPQUNFLENBQ0YsR0FBQStCLEdBQUF6d0MsU0FBQTB3QyxlQUFBaEMsR0FDQXB0QixFQUFBeXRCLEVBQUF6dEIsVUFDQUEsR0FBQTRDLElBQUE2cUIsRUFBQXZ0QyxZQUFBOGYsRUFBQTRDLElBQ0E1QyxFQUFBM2lCLE9BQ0Fvd0MsRUFBQU8sYUFBQW1CLEVBQUFudkIsRUFBQTRDLElBRUE2cUIsRUFBQXp1QyxZQUFBbXdDLElBS0EsUUFBQUosR0FBQXRCLEVBQUFuekMsR0FDQSxHQUFBOHlDLEdBQUE5eUMsRUFBQTh5QyxJQUNBQyxFQUFBL3lDLEVBQUEreUMsS0FDQS95QyxHQUFBZ3pDLFNBTUEsSUFKQUQsR0FDQUksRUFBQTdhLGFBQUEsUUFBQXlhLEdBR0FJLEVBQUF1QixXQUNBdkIsRUFBQXVCLFdBQUFDLFFBQUE3QixNQUNFLENBQ0YsS0FBQUssRUFBQVEsWUFDQVIsRUFBQXZ0QyxZQUFBdXRDLEVBQUFRLFdBRUFSLEdBQUF6dUMsWUFBQU4sU0FBQTB3QyxlQUFBaEMsS0FJQSxRQUFBMEIsR0FBQVIsRUFBQWgwQyxHQUNBLEdBQUE4eUMsR0FBQTl5QyxFQUFBOHlDLElBRUFFLEdBREFoekMsRUFBQSt5QyxNQUNBL3lDLEVBQUFnekMsVUFFQUEsS0FFQUYsR0FBQSx1REFBdUR5QixLQUFBUSxTQUFBQyxtQkFBQW5rQyxLQUFBQyxVQUFBa2lDLE1BQUEsTUFHdkQsSUFBQTdXLEdBQUEsR0FBQW5DLE9BQUE4WSxJQUE2QmxzQyxLQUFBLGFBRTdCcXVDLEVBQUFqQixFQUFBaFgsSUFFQWdYLEdBQUFoWCxLQUFBekMsSUFBQThDLGdCQUFBbEIsR0FFQThZLEdBQ0ExYSxJQUFBdUIsZ0JBQUFtWixHQWxQQSxHQUFBeEMsTUFDQXlDLEVBQUEsU0FBQUMsR0FDQSxHQUFBQyxFQUNBLG1CQUVBLE1BREEsbUJBQUFBLE9BQUFELEVBQUE5eEMsTUFBQW5FLEtBQUE0RCxZQUNBc3lDLElBR0FDLEVBQUFILEVBQUEsV0FDQSxxQkFBQS9hLEtBQUF4NUIsT0FBQXU1QixVQUFBRSxVQUFBcHVCLGlCQUVBcW5DLEVBQUE2QixFQUFBLFdBQ0EsTUFBQTl3QyxVQUFBZ3ZDLE1BQUFodkMsU0FBQWt4QyxxQkFBQSxhQUVBakIsRUFBQSxLQUNBRCxFQUFBLEVBQ0FiLElBRUF6MEMsR0FBQUQsUUFBQSxTQUFBMGpCLEVBQUF6YixHQUtBQSxRQUdBLG1CQUFBQSxHQUFBb3RDLFlBQUFwdEMsRUFBQW90QyxVQUFBbUIsS0FHQSxtQkFBQXZ1QyxHQUFBMHNDLFdBQUExc0MsRUFBQTBzQyxTQUFBLFNBRUEsSUFBQWpCLEdBQUFLLEVBQUFyd0IsRUFHQSxPQUZBK3ZCLEdBQUFDLEVBQUF6ckMsR0FFQSxTQUFBeXVDLEdBRUEsT0FEQUMsTUFDQTN5QyxFQUFBLEVBQWdCQSxFQUFBMHZDLEVBQUF4dkMsT0FBbUJGLElBQUEsQ0FDbkMsR0FBQWdpQyxHQUFBME4sRUFBQTF2QyxHQUNBMnZDLEVBQUFDLEVBQUE1TixFQUFBcGxDLEdBQ0EreUMsR0FBQXZuQyxPQUNBdXFDLEVBQUF0eUMsS0FBQXN2QyxHQUVBLEdBQUErQyxFQUFBLENBQ0EsR0FBQTFDLEdBQUFELEVBQUEyQyxFQUNBakQsR0FBQU8sRUFBQS9yQyxHQUVBLE9BQUFqRSxHQUFBLEVBQWdCQSxFQUFBMnlDLEVBQUF6eUMsT0FBc0JGLElBQUEsQ0FDdEMsR0FBQTJ2QyxHQUFBZ0QsRUFBQTN5QyxFQUNBLFFBQUEydkMsRUFBQXZuQyxLQUFBLENBQ0EsT0FBQXkxQixHQUFBLEVBQWtCQSxFQUFBOFIsRUFBQUUsTUFBQTN2QyxPQUEyQjI5QixJQUM3QzhSLEVBQUFFLE1BQUFoUyxXQUNBK1IsR0FBQUQsRUFBQS95QyxPQWlJQSxJQUFBbTFDLEdBQUEsV0FDQSxHQUFBYSxLQUVBLGlCQUFBbnRCLEVBQUFvdEIsR0FFQSxNQURBRCxHQUFBbnRCLEdBQUFvdEIsRUFDQUQsRUFBQWxvQyxPQUFBb29DLFNBQUFueUMsS0FBQSxXdkRvNlBNLFNBQVMxRSxFQUFRRCxFQUFTUyxHd0Q5bFFoQyxHQUFBNi9CLEdBQUE3L0IsRUFBQSxHQUNBLGlCQUFBNi9CLFNBQUFyZ0MsRUFBQVcsR0FBQTAvQixFQUFBLEtBRUE3L0IsR0FBQSxJQUFBNi9CLEtBQ0FBLEdBQUF5VyxTQUFBOTJDLEVBQUFELFFBQUFzZ0MsRUFBQXlXLFN4RG9uUU0sU0FBUzkyQyxFQUFRRCxHeUQzblF2QkMsRUFBQUQsUUFBQSxXQUE2QixTQUFBK2lCLE9BQUEsb0N6RGtvUXZCLFNBQVM5aUIsRUFBUUQsSTBEbG9RdkIsU0FBQWczQyxHQUFBLzJDLEVBQUFELFFBQUFnM0MsSTFEc29ROEJsMkMsS0FBS2QiLCJmaWxlIjoicmVhY3QtYm9vdHN0cmFwLXRhYmxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIiwgXCJyZWFjdC1kb21cIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiUmVhY3RCb290c3RyYXBUYWJsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJSZWFjdEJvb3RzdHJhcFRhYmxlXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RcIl0sIHJvb3RbXCJSZWFjdERPTVwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X18pIHtcbnJldHVybiBcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb25cbiAqKi8iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiLCBcInJlYWN0LWRvbVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJSZWFjdEJvb3RzdHJhcFRhYmxlXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlYWN0Qm9vdHN0cmFwVGFibGVcIl0gPSBmYWN0b3J5KHJvb3RbXCJSZWFjdFwiXSwgcm9vdFtcIlJlYWN0RE9NXCJdKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9Cb290c3RyYXBUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0dmFyIF9Cb290c3RyYXBUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb290c3RyYXBUYWJsZSk7XG5cdFxuXHR2YXIgX1RhYmxlSGVhZGVyQ29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHR2YXIgX1RhYmxlSGVhZGVyQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlSGVhZGVyQ29sdW1uKTtcblx0XG5cdHZhciBfc3RvcmVUYWJsZURhdGFTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICB3aW5kb3cuQm9vdHN0cmFwVGFibGUgPSBfQm9vdHN0cmFwVGFibGUyWydkZWZhdWx0J107XG5cdCAgd2luZG93LlRhYmxlSGVhZGVyQ29sdW1uID0gX1RhYmxlSGVhZGVyQ29sdW1uMlsnZGVmYXVsdCddO1xuXHQgIHdpbmRvdy5UYWJsZURhdGFTZXQgPSBfc3RvcmVUYWJsZURhdGFTdG9yZS5UYWJsZURhdGFTZXQ7XG5cdH1cblx0ZXhwb3J0c1snZGVmYXVsdCddID0ge1xuXHQgIEJvb3RzdHJhcFRhYmxlOiBfQm9vdHN0cmFwVGFibGUyWydkZWZhdWx0J10sXG5cdCAgVGFibGVIZWFkZXJDb2x1bW46IF9UYWJsZUhlYWRlckNvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICBUYWJsZURhdGFTZXQ6IF9zdG9yZVRhYmxlRGF0YVN0b3JlLlRhYmxlRGF0YVNldFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0ICBTT1JUX0RFU0M6IFwiZGVzY1wiLFxuXHQgIFNPUlRfQVNDOiBcImFzY1wiLFxuXHQgIFNJWkVfUEVSX1BBR0U6IDEwLFxuXHQgIE5FWFRfUEFHRTogXCI+XCIsXG5cdCAgTEFTVF9QQUdFOiBcIj4+XCIsXG5cdCAgUFJFX1BBR0U6IFwiPFwiLFxuXHQgIEZJUlNUX1BBR0U6IFwiPDxcIixcblx0ICBST1dfU0VMRUNUX0JHX0NPTE9SOiBcIlwiLFxuXHQgIFJPV19TRUxFQ1RfTk9ORTogXCJub25lXCIsXG5cdCAgUk9XX1NFTEVDVF9TSU5HTEU6IFwicmFkaW9cIixcblx0ICBST1dfU0VMRUNUX01VTFRJOiBcImNoZWNrYm94XCIsXG5cdCAgQ0VMTF9FRElUX05PTkU6IFwibm9uZVwiLFxuXHQgIENFTExfRURJVF9DTElDSzogXCJjbGlja1wiLFxuXHQgIENFTExfRURJVF9EQkNMSUNLOiBcImRiY2xpY2tcIixcblx0ICBTSVpFX1BFUl9QQUdFX0xJU1Q6IFsxMCwgMjUsIDMwLCA1MF0sXG5cdCAgUEFHSU5BVElPTl9TSVpFOiA1LFxuXHQgIE5PX0RBVEFfVEVYVDogXCJUaGVyZSBpcyBubyBkYXRhIHRvIGRpc3BsYXlcIixcblx0ICBTSE9XX09OTFlfU0VMRUNUOiBcIlNob3cgU2VsZWN0ZWQgT25seVwiLFxuXHQgIFNIT1dfQUxMOiBcIlNob3cgQWxsXCIsXG5cdCAgRklMVEVSX0RFTEFZOiA1MDAsXG5cdCAgRklMVEVSX1RZUEU6IHtcblx0ICAgIFRFWFQ6IFwiVGV4dEZpbHRlclwiLFxuXHQgICAgU0VMRUNUOiBcIlNlbGVjdEZpbHRlclwiLFxuXHQgICAgTlVNQkVSOiBcIk51bWJlckZpbHRlclwiLFxuXHQgICAgREFURTogXCJEYXRlRmlsdGVyXCIsXG5cdCAgICBDVVNUT006IFwiQ3VzdG9tRmlsdGVyXCJcblx0ICB9XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohXG5cdCAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG5cdCAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcblx0ICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG5cdCovXG5cdC8qIGdsb2JhbCBkZWZpbmUgKi9cblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcblx0XHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cdFxuXHRcdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdFx0dmFyIGNsYXNzZXMgPSBbXTtcblx0XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cdFxuXHRcdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cdFxuXHRcdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHRcdH1cblx0XG5cdFx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdFx0fS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdFx0fVxuXHR9KCkpO1xuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fO1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0ge1xuXHRcblx0ICByZW5kZXJTb3J0Q2FyZXQ6IGZ1bmN0aW9uIHJlbmRlclNvcnRDYXJldChvcmRlcikge1xuXHQgICAgdmFyIHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblx0ICAgIHdyYXAuY2xhc3NOYW1lID0gXCJvcmRlclwiO1xuXHQgICAgaWYgKG9yZGVyID09IF9Db25zdDJbJ2RlZmF1bHQnXS5TT1JUX0FTQykgd3JhcC5jbGFzc05hbWUgKz0gXCIgZHJvcHVwXCI7XG5cdCAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblx0ICAgIGlubmVyLmNsYXNzTmFtZSA9IFwiY2FyZXRcIjtcblx0ICAgIGlubmVyLnN0eWxlLm1hcmdpbiA9IFwiMTBweCA1cHhcIjtcblx0ICAgIHdyYXAuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXHQgICAgcmV0dXJuIHdyYXA7XG5cdCAgfSxcblx0XG5cdCAgcmVuZGVyUmVhY3RTb3J0Q2FyZXQ6IGZ1bmN0aW9uIHJlbmRlclJlYWN0U29ydENhcmV0KG9yZGVyKSB7XG5cdCAgICB2YXIgb3JkZXJDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJvcmRlclwiLCB7XG5cdCAgICAgICdkcm9wdXAnOiBvcmRlciA9PSBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9BU0Ncblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnc3BhbicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBvcmRlckNsYXNzIH0sXG5cdCAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdjYXJldCcsIHN0eWxlOiB7IG1hcmdpbjogJzEwcHggNXB4JyB9IH0pXG5cdCAgICApO1xuXHQgIH0sXG5cdFxuXHQgIGdldFNjcm9sbEJhcldpZHRoOiBmdW5jdGlvbiBnZXRTY3JvbGxCYXJXaWR0aCgpIHtcblx0ICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblx0ICAgIGlubmVyLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG5cdCAgICBpbm5lci5zdHlsZS5oZWlnaHQgPSBcIjIwMHB4XCI7XG5cdFxuXHQgICAgdmFyIG91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBvdXRlci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblx0ICAgIG91dGVyLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG5cdCAgICBvdXRlci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcblx0ICAgIG91dGVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXHQgICAgb3V0ZXIuc3R5bGUud2lkdGggPSBcIjIwMHB4XCI7XG5cdCAgICBvdXRlci5zdHlsZS5oZWlnaHQgPSBcIjE1MHB4XCI7XG5cdCAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdCAgICBvdXRlci5hcHBlbmRDaGlsZChpbm5lcik7XG5cdFxuXHQgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdXRlcik7XG5cdCAgICB2YXIgdzEgPSBpbm5lci5vZmZzZXRXaWR0aDtcblx0ICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XG5cdCAgICB2YXIgdzIgPSBpbm5lci5vZmZzZXRXaWR0aDtcblx0ICAgIGlmICh3MSA9PSB3MikgdzIgPSBvdXRlci5jbGllbnRXaWR0aDtcblx0XG5cdCAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcblx0XG5cdCAgICByZXR1cm4gdzEgLSB3Mjtcblx0ICB9XG5cdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjU3dpdGNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmNTd2l0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNTd2l0Y2gpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG5cdFxuXHR2YXIgX3JlYWN0U2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgX3JlYWN0U2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0U2VsZWN0KTtcblx0XG5cdHZhciBFZGl0b3IgPSBmdW5jdGlvbiBFZGl0b3IoZWRpdGFibGUsIGF0dHIsIGZvcm1hdCwgZWRpdG9yQ2xhc3MsIGRlZmF1bHRWYWx1ZSkge1xuXHRcblx0ICAgIGlmIChlZGl0YWJsZSA9PT0gdHJ1ZSB8fCB0eXBlb2YgZWRpdGFibGUgPT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICAvL3NpbXBsZSBkZWNsYXJlXG5cdCAgICAgICAgdmFyIHR5cGUgPSBlZGl0YWJsZSA9PT0gdHJ1ZSA/ICd0ZXh0JyA6IGVkaXRhYmxlO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgYXR0ciwgeyB0eXBlOiB0eXBlLCBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiAoZWRpdG9yQ2xhc3MgfHwgXCJcIikgKyBcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwiIH0pKTtcblx0ICAgIH0gZWxzZSBpZiAoIWVkaXRhYmxlKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBlZGl0YWJsZSA9PT0gdHJ1ZSA/ICd0ZXh0JyA6IGVkaXRhYmxlO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgYXR0ciwgeyB0eXBlOiB0eXBlLCBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSwgZGlzYWJsZWQ6ICdkaXNhYmxlZCcsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKGVkaXRvckNsYXNzIHx8IFwiXCIpICsgXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIiB9KSk7XG5cdCAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUpIHtcblx0ICAgICAgICAvL3N0YW5kYXJkIGRlY2xhcmVcblx0ICAgICAgICAvL3B1dCBzdHlsZSBpZiBleGlzdFxuXHQgICAgICAgIGVkaXRhYmxlLnN0eWxlICYmIChhdHRyLnN0eWxlID0gZWRpdGFibGUuc3R5bGUpO1xuXHRcblx0ICAgICAgICAvL3B1dCBjbGFzcyBpZiBleGlzdFxuXHQgICAgICAgIGF0dHIuY2xhc3NOYW1lID0gKGVkaXRvckNsYXNzIHx8IFwiXCIpICsgXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LVwiICsgZWRpdGFibGUudHlwZSArIChlZGl0YWJsZS5jbGFzc05hbWUgPyBcIiBcIiArIGVkaXRhYmxlLmNsYXNzTmFtZSA6IFwiXCIpO1xuXHRcblx0ICAgICAgICBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3NlbGVjdCcpIHtcblx0ICAgICAgICAgICAgLy9wcm9jZXNzIHNlbGVjdCBpbnB1dFxuXHQgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IFtdLFxuXHQgICAgICAgICAgICAgICAgdmFsdWVzID0gZWRpdGFibGUub3B0aW9ucy52YWx1ZXM7XG5cdCAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcblx0ICAgICAgICAgICAgICAgIC8vb25seSBjYW4gdXNlIGFycnJheSBkYXRhIGZvciBvcHRpb25zXG5cdCAgICAgICAgICAgICAgICB2YXIgcm93VmFsdWU7XG5cdCAgICAgICAgICAgICAgICBvcHRpb25zID0gdmFsdWVzLm1hcChmdW5jdGlvbiAoZCwgaSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJvd1ZhbHVlID0gZm9ybWF0ID8gZm9ybWF0KGQpIDogZDtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdvcHRpb24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ29wdGlvbicgKyBpLCB2YWx1ZTogZCB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByb3dWYWx1ZVxuXHQgICAgICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc2VsZWN0Jyxcblx0ICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCBhdHRyLCB7IGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIH0pLFxuXHQgICAgICAgICAgICAgICAgb3B0aW9uc1xuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3RleHRhcmVhJykge1xuXHQgICAgICAgICAgICAvL3Byb2Nlc3MgdGV4dGFyZWEgaW5wdXRcblx0ICAgICAgICAgICAgLy9wdXQgIG90aGVyIGlmIGV4aXN0XG5cdCAgICAgICAgICAgIGVkaXRhYmxlLmNvbHMgJiYgKGF0dHIuY29scyA9IGVkaXRhYmxlLmNvbHMpO1xuXHQgICAgICAgICAgICBlZGl0YWJsZS5yb3dzICYmIChhdHRyLnJvd3MgPSBlZGl0YWJsZS5yb3dzKTtcblx0ICAgICAgICAgICAgdmFyIGtleVVwSGFuZGxlciA9IGF0dHIub25LZXlEb3duLFxuXHQgICAgICAgICAgICAgICAgc2F2ZUJ0biA9IG51bGw7XG5cdCAgICAgICAgICAgIGlmIChrZXlVcEhhbmRsZXIpIHtcblx0ICAgICAgICAgICAgICAgIGF0dHIub25LZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlICE9IDEzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90IFByZXNzZWQgRU5URVJcblx0ICAgICAgICAgICAgICAgICAgICAgICAga2V5VXBIYW5kbGVyKGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICBzYXZlQnRuID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2J1dHRvJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J0biBidG4taW5mbyBidG4teHMgdGV4dGFyZWEtc2F2ZS1idG4nLCBvbkNsaWNrOiBrZXlVcEhhbmRsZXIgfSxcblx0ICAgICAgICAgICAgICAgICAgICAnc2F2ZSdcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScsIF9leHRlbmRzKHt9LCBhdHRyLCB7IGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIH0pKSxcblx0ICAgICAgICAgICAgICAgIHNhdmVCdG5cblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdjaGVja2JveCcpIHtcblx0ICAgICAgICAgICAgdmFyIF92YWx1ZXMgPSAndHJ1ZTpmYWxzZSc7XG5cdCAgICAgICAgICAgIGlmIChlZGl0YWJsZS5vcHRpb25zICYmIGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzKSB7XG5cdCAgICAgICAgICAgICAgICAvLyB2YWx1ZXMgPSBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcy5zcGxpdCgnOicpO1xuXHQgICAgICAgICAgICAgICAgX3ZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lID0gYXR0ci5jbGFzc05hbWUucmVwbGFjZSgnZm9ybS1jb250cm9sJywgJycpO1xuXHQgICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSArPSAnIGNoZWNrYm94IHB1bGwtcmlnaHQnO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkgPT0gX3ZhbHVlcy5zcGxpdCgnOicpWzBdID8gdHJ1ZSA6IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIF9leHRlbmRzKHt9LCBhdHRyLCB7IHR5cGU6ICdjaGVja2JveCcsIHZhbHVlOiBfdmFsdWVzLCBkZWZhdWx0Q2hlY2tlZDogY2hlY2tlZCB9KSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlID09PSAnc3dpdGNoJykge1xuXHQgICAgICAgICAgICB2YXIgX3ZhbHVlczIgPSAndHJ1ZTpmYWxzZSc7XG5cdCAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lID0gYXR0ci5jbGFzc05hbWUucmVwbGFjZSgnZm9ybS1jb250cm9sJywgJycpO1xuXHQgICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSArPSAnIGNoZWNrYm94IHB1bGwtcmlnaHQnO1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGRlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUudG9TdHJpbmcoKSA9PSBfdmFsdWVzMi5zcGxpdCgnOicpWzBdID8gdHJ1ZSA6IGZhbHNlO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX3JjU3dpdGNoMlsnZGVmYXVsdCddLCB7IGNsYXNzTmFtZTogYXR0ci5jbGFzc05hbWUsIGRlZmF1bHRDaGVja2VkOiBjaGVja2VkIH0pO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3JlYWN0LXNlbGVjdCcpIHtcblx0ICAgICAgICAgICAgdmFyIG11bHRpT3B0ID0gdHlwZW9mIGVkaXRhYmxlLm9wdGlvbnMubXVsdGkgIT09ICd1bmRlZmluZWQnID8gZWRpdGFibGUub3B0aW9ucy5tdWx0aSA6IGZhbHNlO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX3JlYWN0U2VsZWN0MlsnZGVmYXVsdCddLCB7IGNsYXNzTmFtZTogJ3B1bGwtcmlnaHQnLCBvcHRpb25zOiBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcywgbXVsdGk6IG11bHRpT3B0LCBzaW1wbGVWYWx1ZTogdHJ1ZSB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAvL3Byb2Nlc3Mgb3RoZXIgaW5wdXQgdHlwZS4gYXMgcGFzc3dvcmQsdXJsLGVtYWlsLi4uXG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgYXR0ciwgeyB0eXBlOiB0eXBlLCBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgLy9kZWZhdWx0IHJldHVybiBmb3Igb3RoZXIgY2FzZSBvZiBlZGl0YWJsZVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIF9leHRlbmRzKHt9LCBhdHRyLCB7IHR5cGU6ICd0ZXh0JywgY2xhc3NOYW1lOiAoZWRpdG9yQ2xhc3MgfHwgXCJcIikgKyBcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwiIH0pKTtcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEVkaXRvcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX3JlYWN0VG9hc3RyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cdFxuXHR2YXIgVG9hc3RyTWVzc2FnZUZhY3RvcnkgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRmFjdG9yeShfcmVhY3RUb2FzdHIuVG9hc3RNZXNzYWdlLmFuaW1hdGlvbik7XG5cdFxuXHR2YXIgTm90aWZpY2F0aW9uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKE5vdGlmaWNhdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3RpZmljYXRpb24pO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKE5vdGlmaWNhdGlvbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKE5vdGlmaWNhdGlvbiwgW3tcblx0ICAgIGtleTogJ25vdGljZScsXG5cdFxuXHQgICAgLy8gYWxsb3cgdHlwZSBpcyBzdWNjZXNzLGluZm8sd2FybmluZyxlcnJvclxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGljZSh0eXBlLCBtc2csIHRpdGxlKSB7XG5cdCAgICAgIHRoaXMucmVmcy50b2FzdHJbdHlwZV0obXNnLCB0aXRsZSwge1xuXHQgICAgICAgIG1vZGU6ICdzaW5nbGUnLFxuXHQgICAgICAgIHRpbWVPdXQ6IDUwMDAsXG5cdCAgICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwLFxuXHQgICAgICAgIHNob3dBbmltYXRpb246IFwiYW5pbWF0ZWQgIGJvdW5jZUluXCIsXG5cdCAgICAgICAgaGlkZUFuaW1hdGlvbjogXCJhbmltYXRlZCBib3VuY2VPdXRcIlxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9yZWFjdFRvYXN0ci5Ub2FzdENvbnRhaW5lciwgeyByZWY6ICd0b2FzdHInLCB0b2FzdE1lc3NhZ2VGYWN0b3J5OiBUb2FzdHJNZXNzYWdlRmFjdG9yeSxcblx0ICAgICAgICBpZDogJ3RvYXN0LWNvbnRhaW5lcicsIGNsYXNzTmFtZTogJ3RvYXN0LXRvcC1yaWdodCcgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gTm90aWZpY2F0aW9uO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IE5vdGlmaWNhdGlvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KS5FdmVudEVtaXR0ZXI7XG5cdFxuXHRmdW5jdGlvbiBfc29ydChhcnIsIHNvcnRGaWVsZCwgb3JkZXIsIHNvcnRGdW5jKSB7XG5cdCAgb3JkZXIgPSBvcmRlci50b0xvd2VyQ2FzZSgpO1xuXHQgIGFyci5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICBpZiAoc29ydEZ1bmMpIHtcblx0ICAgICAgcmV0dXJuIHNvcnRGdW5jKGEsIGIsIG9yZGVyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmIChvcmRlciA9PSBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9ERVNDKSB7XG5cdCAgICAgICAgcmV0dXJuIGFbc29ydEZpZWxkXSA+IGJbc29ydEZpZWxkXSA/IC0xIDogYVtzb3J0RmllbGRdIDwgYltzb3J0RmllbGRdID8gMSA6IDA7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGFbc29ydEZpZWxkXSA8IGJbc29ydEZpZWxkXSA/IC0xIDogYVtzb3J0RmllbGRdID4gYltzb3J0RmllbGRdID8gMSA6IDA7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIGFycjtcblx0fVxuXHRcblx0dmFyIFRhYmxlRGF0YVNldCA9IChmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuXHQgIF9pbmhlcml0cyhUYWJsZURhdGFTZXQsIF9FdmVudEVtaXR0ZXIpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZURhdGFTZXQoZGF0YSkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlRGF0YVNldCk7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVEYXRhU2V0LnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgZGF0YSk7XG5cdCAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFRhYmxlRGF0YVNldCwgW3tcblx0ICAgIGtleTogJ3NldERhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGEoZGF0YSkge1xuXHQgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NsZWFyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcblx0ICAgICAgdGhpcy5kYXRhID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlRGF0YVNldDtcblx0fSkoRXZlbnRFbWl0dGVyKTtcblx0XG5cdGV4cG9ydHMuVGFibGVEYXRhU2V0ID0gVGFibGVEYXRhU2V0O1xuXHRcblx0dmFyIFRhYmxlRGF0YVN0b3JlID0gKGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBUYWJsZURhdGFTdG9yZShkYXRhKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVEYXRhU3RvcmUpO1xuXHRcblx0ICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cdCAgICB0aGlzLmNvbEluZm9zID0gbnVsbDtcblx0ICAgIHRoaXMuZmlsdGVyZWREYXRhID0gbnVsbDtcblx0ICAgIHRoaXMuaXNPbkZpbHRlciA9IGZhbHNlO1xuXHQgICAgdGhpcy5maWx0ZXJPYmogPSBudWxsO1xuXHQgICAgdGhpcy5zZWFyY2hUZXh0ID0gbnVsbDtcblx0ICAgIHRoaXMuc29ydE9iaiA9IG51bGw7XG5cdCAgICB0aGlzLnBhZ2VPYmogPSB7fTtcblx0ICAgIHRoaXMuc2VsZWN0ZWQgPSBbXTtcblx0ICAgIHRoaXMubXVsdGlDb2x1bW5TZWFyY2ggPSBmYWxzZTtcblx0ICAgIHRoaXMuc2hvd09ubHlTZWxlY3RlZCA9IGZhbHNlO1xuXHQgICAgdGhpcy5yZW1vdGUgPSBmYWxzZTsgLy8gcmVtb3RlIGRhdGFcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZURhdGFTdG9yZSwgW3tcblx0ICAgIGtleTogJ3NldFByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQcm9wcyhwcm9wcykge1xuXHQgICAgICB0aGlzLmtleUZpZWxkID0gcHJvcHMua2V5RmllbGQ7XG5cdCAgICAgIHRoaXMuZW5hYmxlUGFnaW5hdGlvbiA9IHByb3BzLmlzUGFnaW5hdGlvbjtcblx0ICAgICAgdGhpcy5jb2xJbmZvcyA9IHByb3BzLmNvbEluZm9zO1xuXHQgICAgICB0aGlzLnJlbW90ZSA9IHByb3BzLnJlbW90ZTtcblx0ICAgICAgdGhpcy5tdWx0aUNvbHVtblNlYXJjaCA9IHByb3BzLm11bHRpQ29sdW1uU2VhcmNoO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldERhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGEoZGF0YSkge1xuXHQgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXHQgICAgICBpZiAodGhpcy5pc09uRmlsdGVyKSB7XG5cdCAgICAgICAgaWYgKG51bGwgIT09IHRoaXMuZmlsdGVyT2JqKSB0aGlzLmZpbHRlcih0aGlzLmZpbHRlck9iaik7XG5cdCAgICAgICAgaWYgKG51bGwgIT09IHRoaXMuc2VhcmNoVGV4dCkgdGhpcy5zZWFyY2godGhpcy5zZWFyY2hUZXh0KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGhpcy5zb3J0T2JqKSB7XG5cdCAgICAgICAgdGhpcy5zb3J0KHRoaXMuc29ydE9iai5vcmRlciwgdGhpcy5zb3J0T2JqLnNvcnRGaWVsZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRTb3J0SW5mbycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U29ydEluZm8oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnNvcnRPYmo7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0U2VsZWN0ZWRSb3dLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGVkUm93S2V5KHNlbGVjdGVkUm93S2V5cykge1xuXHQgICAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWRSb3dLZXlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFNlbGVjdGVkUm93S2V5cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRSb3dLZXlzKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDdXJyZW50RGlzcGxheURhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnREaXNwbGF5RGF0YSgpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNPbkZpbHRlcikgcmV0dXJuIHRoaXMuZmlsdGVyZWREYXRhO2Vsc2UgcmV0dXJuIHRoaXMuZGF0YTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpZ25vcmVOb25TZWxlY3RlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaWdub3JlTm9uU2VsZWN0ZWQoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB0aGlzLnNob3dPbmx5U2VsZWN0ZWQgPSAhdGhpcy5zaG93T25seVNlbGVjdGVkO1xuXHQgICAgICBpZiAodGhpcy5zaG93T25seVNlbGVjdGVkKSB7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gdHJ1ZTtcblx0ICAgICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgICAgdmFyIHJlc3VsdCA9IF90aGlzLnNlbGVjdGVkLmZpbmQoZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJvd1tfdGhpcy5rZXlGaWVsZF0gPT09IHg7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIHJldHVybiB0eXBlb2YgcmVzdWx0ICE9PSAndW5kZWZpbmVkJyA/IHRydWUgOiBmYWxzZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NvcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNvcnQob3JkZXIsIHNvcnRGaWVsZCkge1xuXHQgICAgICB0aGlzLnNvcnRPYmogPSB7XG5cdCAgICAgICAgb3JkZXI6IG9yZGVyLFxuXHQgICAgICAgIHNvcnRGaWVsZDogc29ydEZpZWxkXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcblx0ICAgICAgaWYgKCF0aGlzLmNvbEluZm9zW3NvcnRGaWVsZF0pIHJldHVybiB0aGlzO1xuXHRcblx0ICAgICAgdmFyIHNvcnRGdW5jID0gdGhpcy5jb2xJbmZvc1tzb3J0RmllbGRdLnNvcnRGdW5jO1xuXHRcblx0ICAgICAgY3VycmVudERpc3BsYXlEYXRhID0gX3NvcnQoY3VycmVudERpc3BsYXlEYXRhLCBzb3J0RmllbGQsIG9yZGVyLCBzb3J0RnVuYyk7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwYWdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYWdlKF9wYWdlLCBzaXplUGVyUGFnZSkge1xuXHQgICAgICB0aGlzLnBhZ2VPYmouZW5kID0gX3BhZ2UgKiBzaXplUGVyUGFnZSAtIDE7XG5cdCAgICAgIHRoaXMucGFnZU9iai5zdGFydCA9IHRoaXMucGFnZU9iai5lbmQgLSAoc2l6ZVBlclBhZ2UgLSAxKTtcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZWRpdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZWRpdChuZXdWYWwsIHJvd0luZGV4LCBmaWVsZE5hbWUpIHtcblx0ICAgICAgdmFyIGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XG5cdCAgICAgIHZhciByb3dLZXlDYWNoZSA9IHVuZGVmaW5lZDtcblx0ICAgICAgaWYgKCF0aGlzLmVuYWJsZVBhZ2luYXRpb24pIHtcblx0ICAgICAgICBjdXJyZW50RGlzcGxheURhdGFbcm93SW5kZXhdW2ZpZWxkTmFtZV0gPSBuZXdWYWw7XG5cdCAgICAgICAgcm93S2V5Q2FjaGUgPSBjdXJyZW50RGlzcGxheURhdGFbcm93SW5kZXhdW3RoaXMua2V5RmllbGRdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGN1cnJlbnREaXNwbGF5RGF0YVt0aGlzLnBhZ2VPYmouc3RhcnQgKyByb3dJbmRleF1bZmllbGROYW1lXSA9IG5ld1ZhbDtcblx0ICAgICAgICByb3dLZXlDYWNoZSA9IGN1cnJlbnREaXNwbGF5RGF0YVt0aGlzLnBhZ2VPYmouc3RhcnQgKyByb3dJbmRleF1bdGhpcy5rZXlGaWVsZF07XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xuXHQgICAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICAgIGlmIChyb3dbdGhpcy5rZXlGaWVsZF0gPT09IHJvd0tleUNhY2hlKSB7XG5cdCAgICAgICAgICAgIHJvd1tmaWVsZE5hbWVdID0gbmV3VmFsO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHRoaXMpO1xuXHQgICAgICAgIGlmIChudWxsICE9PSB0aGlzLmZpbHRlck9iaikgdGhpcy5maWx0ZXIodGhpcy5maWx0ZXJPYmopO1xuXHQgICAgICAgIGlmIChudWxsICE9PSB0aGlzLnNlYXJjaFRleHQpIHRoaXMuc2VhcmNoKHRoaXMuc2VhcmNoVGV4dCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWRkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQobmV3T2JqKSB7XG5cdCAgICAgIGlmICghbmV3T2JqW3RoaXMua2V5RmllbGRdIHx8IG5ld09ialt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpID09PSAnJykge1xuXHQgICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBjYW4ndCBiZSBlbXB0eSB2YWx1ZS5cIjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcblx0ICAgICAgY3VycmVudERpc3BsYXlEYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIGlmIChyb3dbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSA9PT0gbmV3T2JqW3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkpIHtcblx0ICAgICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBcIiArIG5ld09ialt0aGlzLmtleUZpZWxkXSArIFwiIGFscmVhZHkgZXhpc3RzXCI7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCB0aGlzKTtcblx0XG5cdCAgICAgIGN1cnJlbnREaXNwbGF5RGF0YS5wdXNoKG5ld09iaik7XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcblx0ICAgICAgICB0aGlzLmRhdGEucHVzaChuZXdPYmopO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUocm93S2V5KSB7XG5cdCAgICAgIHZhciBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xuXHQgICAgICB2YXIgcmVzdWx0ID0gY3VycmVudERpc3BsYXlEYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgcmV0dXJuIHJvd0tleS5pbmRleE9mKHJvd1t0aGlzLmtleUZpZWxkXSkgPT0gLTE7XG5cdCAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xuXHQgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgICAgcmV0dXJuIHJvd0tleS5pbmRleE9mKHJvd1t0aGlzLmtleUZpZWxkXSkgPT0gLTE7XG5cdCAgICAgICAgfSwgdGhpcyk7XG5cdCAgICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSByZXN1bHQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5kYXRhID0gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsdGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoZmlsdGVyT2JqKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlck9iaikubGVuZ3RoID09IDApIHtcblx0ICAgICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy5maWx0ZXJPYmogPSBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuZmlsdGVyT2JqID0gZmlsdGVyT2JqO1xuXHQgICAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gdGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xuXHQgICAgICAgICAgdmFyIGZpbHRlclZhbCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgIGZvciAodmFyIGtleSBpbiBmaWx0ZXJPYmopIHtcblx0ICAgICAgICAgICAgdmFyIHRhcmdldFZhbCA9IHJvd1trZXldO1xuXHRcblx0ICAgICAgICAgICAgc3dpdGNoIChmaWx0ZXJPYmpba2V5XS50eXBlKSB7XG5cdCAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuTlVNQkVSOlxuXHQgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJPYmpba2V5XS52YWx1ZS5udW1iZXI7XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkNVU1RPTTpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsID0gdHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcIm9iamVjdFwiID8gdW5kZWZpbmVkIDogdHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcInN0cmluZ1wiID8gZmlsdGVyT2JqW2tleV0udmFsdWUudG9Mb3dlckNhc2UoKSA6IGZpbHRlck9ialtrZXldLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSB0eXBlb2YgZmlsdGVyT2JqW2tleV0udmFsdWUgPT09IFwic3RyaW5nXCIgPyBmaWx0ZXJPYmpba2V5XS52YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmlsdGVyT2JqW2tleV0udmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJWYWwgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkIGZpbHRlclxuXHQgICAgICAgICAgICAgICAgICAgIGZpbHRlclZhbCA9IGZpbHRlck9ialtrZXldLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmIChfdGhpczIuY29sSW5mb3Nba2V5XSkge1xuXHQgICAgICAgICAgICAgIHZhciBfY29sSW5mb3Mka2V5ID0gX3RoaXMyLmNvbEluZm9zW2tleV07XG5cdCAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IF9jb2xJbmZvcyRrZXkuZm9ybWF0O1xuXHQgICAgICAgICAgICAgIHZhciBmaWx0ZXJGb3JtYXR0ZWQgPSBfY29sSW5mb3Mka2V5LmZpbHRlckZvcm1hdHRlZDtcblx0ICAgICAgICAgICAgICB2YXIgZm9ybWF0RXh0cmFEYXRhID0gX2NvbEluZm9zJGtleS5mb3JtYXRFeHRyYURhdGE7XG5cdFxuXHQgICAgICAgICAgICAgIGlmIChmaWx0ZXJGb3JtYXR0ZWQgJiYgZm9ybWF0KSB7XG5cdCAgICAgICAgICAgICAgICB0YXJnZXRWYWwgPSBmb3JtYXQocm93W2tleV0sIHJvdywgZm9ybWF0RXh0cmFEYXRhKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHN3aXRjaCAoZmlsdGVyT2JqW2tleV0udHlwZSkge1xuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUjpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfdGhpczIuZmlsdGVyTnVtYmVyKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBmaWx0ZXJPYmpba2V5XS52YWx1ZS5jb21wYXJhdG9yKTtcblx0ICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuREFURTpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfdGhpczIuZmlsdGVyRGF0ZSh0YXJnZXRWYWwsIGZpbHRlclZhbCk7XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkNVU1RPTTpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfdGhpczIuZmlsdGVyQ3VzdG9tKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBmaWx0ZXJPYmpba2V5XS52YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgIHZhbGlkID0gX3RoaXMyLmZpbHRlclRleHQodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIXZhbGlkKSB7XG5cdCAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiB2YWxpZDtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0aGlzLmlzT25GaWx0ZXIgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsdGVyTnVtYmVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJOdW1iZXIodGFyZ2V0VmFsLCBmaWx0ZXJWYWwsIGNvbXBhcmF0b3IpIHtcblx0ICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcblx0ICAgICAgc3dpdGNoIChjb21wYXJhdG9yKSB7XG5cdCAgICAgICAgY2FzZSBcIj1cIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCAhPSBmaWx0ZXJWYWwpIHtcblx0ICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgXCI+XCI6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGlmICh0YXJnZXRWYWwgPD0gZmlsdGVyVmFsKSB7XG5cdCAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIFwiPj1cIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCA8IGZpbHRlclZhbCkge1xuXHQgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSBcIjxcIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCA+PSBmaWx0ZXJWYWwpIHtcblx0ICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgXCI8PVwiOlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBpZiAodGFyZ2V0VmFsID4gZmlsdGVyVmFsKSB7XG5cdCAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIFwiIT1cIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCA9PSBmaWx0ZXJWYWwpIHtcblx0ICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJOdW1iZXIgY29tcGFyYXRvciBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdmFsaWQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsdGVyRGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyRGF0ZSh0YXJnZXRWYWwsIGZpbHRlclZhbCkge1xuXHQgICAgICByZXR1cm4gdGFyZ2V0VmFsLmdldERhdGUoKSA9PSBmaWx0ZXJWYWwuZ2V0RGF0ZSgpICYmIHRhcmdldFZhbC5nZXRNb250aCgpID09IGZpbHRlclZhbC5nZXRNb250aCgpICYmIHRhcmdldFZhbC5nZXRGdWxsWWVhcigpID09IGZpbHRlclZhbC5nZXRGdWxsWWVhcigpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZpbHRlckN1c3RvbScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyQ3VzdG9tKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBjYWxsYmFja0luZm8pIHtcblx0ICAgICAgaWYgKGNhbGxiYWNrSW5mbyAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFja0luZm8gPT09IFwib2JqZWN0XCIpIHtcblx0ICAgICAgICByZXR1cm4gY2FsbGJhY2tJbmZvLmNhbGxiYWNrKHRhcmdldFZhbCwgY2FsbGJhY2tJbmZvLmNhbGxiYWNrUGFyYW1ldGVycyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBmaWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmaWx0ZXJUZXh0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKSB7XG5cdCAgICAgIGlmICh0YXJnZXRWYWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZmlsdGVyVmFsKSA9PSAtMSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2goc2VhcmNoVGV4dCkge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIGlmIChzZWFyY2hUZXh0LnRyaW0oKSA9PT0gXCJcIikge1xuXHQgICAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gbnVsbDtcblx0ICAgICAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcblx0ICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuc2VhcmNoVGV4dCA9IHNlYXJjaFRleHQ7XG5cdCAgICAgICAgdmFyIHNlYXJjaFRleHRBcnJheSA9IFtdO1xuXHRcblx0ICAgICAgICBpZiAodGhpcy5tdWx0aUNvbHVtblNlYXJjaCkge1xuXHQgICAgICAgICAgc2VhcmNoVGV4dEFycmF5ID0gc2VhcmNoVGV4dC5zcGxpdCgnICcpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBzZWFyY2hUZXh0QXJyYXkucHVzaChzZWFyY2hUZXh0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gdGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJvdyk7XG5cdCAgICAgICAgICB2YXIgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgIC8vIENoYW5nZWQgYGZvciAuLiBpbmAgbG9vcCB0byB1c2UgYE9iamVjdC5rZXlzYFxuXHRcblx0ICAgICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgICAgICBpZiAoX3RoaXMzLmNvbEluZm9zW2tleV0gJiYgcm93W2tleV0pIHtcblx0ICAgICAgICAgICAgICBzZWFyY2hUZXh0QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodGV4dCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGZpbHRlclZhbCA9IHRleHQudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgICAgIHZhciB0YXJnZXRWYWwgPSByb3dba2V5XTtcblx0ICAgICAgICAgICAgICAgIHZhciBfY29sSW5mb3Mka2V5MiA9IF90aGlzMy5jb2xJbmZvc1trZXldO1xuXHQgICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IF9jb2xJbmZvcyRrZXkyLmZvcm1hdDtcblx0ICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJGb3JtYXR0ZWQgPSBfY29sSW5mb3Mka2V5Mi5maWx0ZXJGb3JtYXR0ZWQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgZm9ybWF0RXh0cmFEYXRhID0gX2NvbEluZm9zJGtleTIuZm9ybWF0RXh0cmFEYXRhO1xuXHQgICAgICAgICAgICAgICAgdmFyIGhpZGRlbiA9IF9jb2xJbmZvcyRrZXkyLmhpZGRlbjtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbikge1xuXHQgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRm9ybWF0dGVkICYmIGZvcm1hdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRhcmdldFZhbCA9IGZvcm1hdCh0YXJnZXRWYWwsIHJvdywgZm9ybWF0RXh0cmFEYXRhKTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0VmFsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZpbHRlclZhbCkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgaWYgKHZhbGlkKSByZXR1cm4gJ2JyZWFrJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChpKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChfcmV0ID09PSAnYnJlYWsnKSBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiB2YWxpZDtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0aGlzLmlzT25GaWx0ZXIgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpIHtcblx0ICAgICAgdmFyIF9kYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcblx0ICAgICAgcmV0dXJuIF9kYXRhO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICB2YXIgX2RhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xuXHRcblx0ICAgICAgaWYgKF9kYXRhLmxlbmd0aCA9PSAwKSByZXR1cm4gX2RhdGE7XG5cdFxuXHQgICAgICBpZiAodGhpcy5yZW1vdGUgfHwgIXRoaXMuZW5hYmxlUGFnaW5hdGlvbikge1xuXHQgICAgICAgIHJldHVybiBfZGF0YTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucGFnZU9iai5zdGFydDsgaSA8PSB0aGlzLnBhZ2VPYmouZW5kOyBpKyspIHtcblx0ICAgICAgICAgIHJlc3VsdC5wdXNoKF9kYXRhW2ldKTtcblx0ICAgICAgICAgIGlmIChpICsgMSA9PSBfZGF0YS5sZW5ndGgpIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0S2V5RmllbGQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEtleUZpZWxkKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5rZXlGaWVsZDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREYXRhTnVtJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhTnVtKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNDaGFuZ2VkUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaGFuZ2VkUGFnZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucGFnZU9iai5zdGFydCAmJiB0aGlzLnBhZ2VPYmouZW5kID8gdHJ1ZSA6IGZhbHNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFJvd2tleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsUm93a2V5KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgcmV0dXJuIHJvd1t0aGlzLmtleUZpZWxkXTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gVGFibGVEYXRhU3RvcmU7XG5cdH0pKCk7XG5cdFxuXHRleHBvcnRzLlRhYmxlRGF0YVN0b3JlID0gVGFibGVEYXRhU3RvcmU7XG5cdFxuXHQ7XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfcmVhY3RJbnB1dEF1dG9zaXplID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX3JlYWN0SW5wdXRBdXRvc2l6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdElucHV0QXV0b3NpemUpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHNTdHJpcERpYWNyaXRpY3MpO1xuXHRcblx0dmFyIF9Bc3luYyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9Bc3luYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Bc3luYyk7XG5cdFxuXHR2YXIgX09wdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRcblx0dmFyIF9PcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0aW9uKTtcblx0XG5cdHZhciBfVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdHZhciBfVmFsdWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmFsdWUpO1xuXHRcblx0ZnVuY3Rpb24gc3RyaW5naWZ5VmFsdWUodmFsdWUpIHtcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fVxuXHRcblx0dmFyIHN0cmluZ09yTm9kZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlXSk7XG5cdFxuXHR2YXIgU2VsZWN0ID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblx0XG5cdFx0ZGlzcGxheU5hbWU6ICdTZWxlY3QnLFxuXHRcblx0XHRwcm9wVHlwZXM6IHtcblx0XHRcdGFkZExhYmVsVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHBsYWNlaG9sZGVyIGRpc3BsYXllZCB3aGVuIHlvdSB3YW50IHRvIGFkZCBhIGxhYmVsIG9uIGEgbXVsdGktdmFsdWUgaW5wdXRcblx0XHRcdGFsbG93Q3JlYXRlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gYWxsb3cgY3JlYXRpb24gb2YgbmV3IGVudHJpZXNcblx0XHRcdGF1dG9CbHVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdFx0XHRhdXRvZm9jdXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gYXV0b2ZvY3VzIHRoZSBjb21wb25lbnQgb24gbW91bnRcblx0XHRcdGJhY2tzcGFjZVJlbW92ZXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciBiYWNrc3BhY2UgcmVtb3ZlcyBhbiBpdGVtIGlmIHRoZXJlIGlzIG5vIHRleHQgaW5wdXRcblx0XHRcdGNsYXNzTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSBmb3IgdGhlIG91dGVyIGVsZW1lbnRcblx0XHRcdGNsZWFyQWxsVGV4dDogc3RyaW5nT3JOb2RlLCAvLyB0aXRsZSBmb3IgdGhlIFwiY2xlYXJcIiBjb250cm9sIHdoZW4gbXVsdGk6IHRydWVcblx0XHRcdGNsZWFyVmFsdWVUZXh0OiBzdHJpbmdPck5vZGUsIC8vIHRpdGxlIGZvciB0aGUgXCJjbGVhclwiIGNvbnRyb2xcblx0XHRcdGNsZWFyYWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBzaG91bGQgaXQgYmUgcG9zc2libGUgdG8gcmVzZXQgdmFsdWVcblx0XHRcdGRlbGltaXRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGRlbGltaXRlciB0byB1c2UgdG8gam9pbiBtdWx0aXBsZSB2YWx1ZXMgZm9yIHRoZSBoaWRkZW4gZmllbGQgdmFsdWVcblx0XHRcdGRpc2FibGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdGhlIFNlbGVjdCBpcyBkaXNhYmxlZCBvciBub3Rcblx0XHRcdGVzY2FwZUNsZWFyc1ZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgZXNjYXBlIGNsZWFycyB0aGUgdmFsdWUgd2hlbiB0aGUgbWVudSBpcyBjbG9zZWRcblx0XHRcdGZpbHRlck9wdGlvbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gZmlsdGVyIGEgc2luZ2xlIG9wdGlvbiAob3B0aW9uLCBmaWx0ZXJTdHJpbmcpXG5cdFx0XHRmaWx0ZXJPcHRpb25zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSwgLy8gYm9vbGVhbiB0byBlbmFibGUgZGVmYXVsdCBmaWx0ZXJpbmcgb3IgZnVuY3Rpb24gdG8gZmlsdGVyIHRoZSBvcHRpb25zIGFycmF5IChbb3B0aW9uc10sIGZpbHRlclN0cmluZywgW3ZhbHVlc10pXG5cdFx0XHRpZ25vcmVBY2NlbnRzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gc3RyaXAgZGlhY3JpdGljcyB3aGVuIGZpbHRlcmluZ1xuXHRcdFx0aWdub3JlQ2FzZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIHBlcmZvcm0gY2FzZS1pbnNlbnNpdGl2ZSBmaWx0ZXJpbmdcblx0XHRcdGlucHV0UHJvcHM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBjdXN0b20gYXR0cmlidXRlcyBmb3IgdGhlIElucHV0XG5cdFx0XHRpc0xvYWRpbmc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0aGUgU2VsZWN0IGlzIGxvYWRpbmcgZXh0ZXJuYWxseSBvciBub3QgKHN1Y2ggYXMgb3B0aW9ucyBiZWluZyBsb2FkZWQpXG5cdFx0XHRsYWJlbEtleTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHBhdGggb2YgdGhlIGxhYmVsIHZhbHVlIGluIG9wdGlvbiBvYmplY3RzXG5cdFx0XHRtYXRjaFBvczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIChhbnl8c3RhcnQpIG1hdGNoIHRoZSBzdGFydCBvciBlbnRpcmUgc3RyaW5nIHdoZW4gZmlsdGVyaW5nXG5cdFx0XHRtYXRjaFByb3A6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyAoYW55fGxhYmVsfHZhbHVlKSB3aGljaCBvcHRpb24gcHJvcGVydHkgdG8gZmlsdGVyIG9uXG5cdFx0XHRtZW51QnVmZmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlciwgLy8gb3B0aW9uYWwgYnVmZmVyIChpbiBweCkgYmV0d2VlbiB0aGUgYm90dG9tIG9mIHRoZSB2aWV3cG9ydCBhbmQgdGhlIGJvdHRvbSBvZiB0aGUgbWVudVxuXHRcdFx0bWVudUNvbnRhaW5lclN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCwgLy8gb3B0aW9uYWwgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIG1lbnUgY29udGFpbmVyXG5cdFx0XHRtZW51U3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgbWVudVxuXHRcdFx0bXVsdGk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gbXVsdGktdmFsdWUgaW5wdXRcblx0XHRcdG5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBnZW5lcmF0ZXMgYSBoaWRkZW4gPGlucHV0IC8+IHRhZyB3aXRoIHRoaXMgZmllbGQgbmFtZSBmb3IgaHRtbCBmb3Jtc1xuXHRcdFx0bmV3T3B0aW9uQ3JlYXRvcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmYWN0b3J5IHRvIGNyZWF0ZSBuZXcgb3B0aW9ucyB3aGVuIGFsbG93Q3JlYXRlIHNldFxuXHRcdFx0bm9SZXN1bHRzVGV4dDogc3RyaW5nT3JOb2RlLCAvLyBwbGFjZWhvbGRlciBkaXNwbGF5ZWQgd2hlbiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgc2VhcmNoIHJlc3VsdHNcblx0XHRcdG9uQmx1cjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkJsdXIgaGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50KSB7fVxuXHRcdFx0b25CbHVyUmVzZXRzSW5wdXQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciBpbnB1dCBpcyBjbGVhcmVkIG9uIGJsdXJcblx0XHRcdG9uQ2hhbmdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQ2hhbmdlIGhhbmRsZXI6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge31cblx0XHRcdG9uQ2xvc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gZmlyZXMgd2hlbiB0aGUgbWVudSBpcyBjbG9zZWRcblx0XHRcdG9uRm9jdXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25Gb2N1cyBoYW5kbGVyOiBmdW5jdGlvbiAoZXZlbnQpIHt9XG5cdFx0XHRvbklucHV0Q2hhbmdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uSW5wdXRDaGFuZ2UgaGFuZGxlcjogZnVuY3Rpb24gKGlucHV0VmFsdWUpIHt9XG5cdFx0XHRvbk1lbnVTY3JvbGxUb0JvdHRvbTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIHNjcm9sbGVkIHRvIHRoZSBib3R0b207IGNhbiBiZSB1c2VkIHRvIHBhZ2luYXRlIG9wdGlvbnNcblx0XHRcdG9uT3BlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIG9wZW5lZFxuXHRcdFx0b25WYWx1ZUNsaWNrOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQ2xpY2sgaGFuZGxlciBmb3IgdmFsdWUgbGFiZWxzOiBmdW5jdGlvbiAodmFsdWUsIGV2ZW50KSB7fVxuXHRcdFx0b3B0aW9uQ29tcG9uZW50OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9wdGlvbiBjb21wb25lbnQgdG8gcmVuZGVyIGluIGRyb3Bkb3duXG5cdFx0XHRvcHRpb25SZW5kZXJlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvcHRpb25SZW5kZXJlcjogZnVuY3Rpb24gKG9wdGlvbikge31cblx0XHRcdG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksIC8vIGFycmF5IG9mIG9wdGlvbnNcblx0XHRcdHBsYWNlaG9sZGVyOiBzdHJpbmdPck5vZGUsIC8vIGZpZWxkIHBsYWNlaG9sZGVyLCBkaXNwbGF5ZWQgd2hlbiB0aGVyZSdzIG5vIHZhbHVlXG5cdFx0XHRyZXF1aXJlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBhcHBsaWVzIEhUTUw1IHJlcXVpcmVkIGF0dHJpYnV0ZSB3aGVuIG5lZWRlZFxuXHRcdFx0c2Nyb2xsTWVudUludG9WaWV3OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIGJvb2xlYW4gdG8gZW5hYmxlIHRoZSB2aWV3cG9ydCB0byBzaGlmdCBzbyB0aGF0IHRoZSBmdWxsIG1lbnUgZnVsbHkgdmlzaWJsZSB3aGVuIGVuZ2FnZWRcblx0XHRcdHNlYXJjaGFibGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBlbmFibGUgc2VhcmNoaW5nIGZlYXR1cmUgb3Igbm90XG5cdFx0XHRzaW1wbGVWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBwYXNzIHRoZSB2YWx1ZSB0byBvbkNoYW5nZSBhcyBhIHNpbXBsZSB2YWx1ZSAobGVnYWN5IHByZSAxLjAgbW9kZSksIGRlZmF1bHRzIHRvIGZhbHNlXG5cdFx0XHRzdHlsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsIC8vIG9wdGlvbmFsIHN0eWxlIHRvIGFwcGx5IHRvIHRoZSBjb250cm9sXG5cdFx0XHR0YWJJbmRleDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIG9wdGlvbmFsIHRhYiBpbmRleCBvZiB0aGUgY29udHJvbFxuXHRcdFx0dmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBpbml0aWFsIGZpZWxkIHZhbHVlXG5cdFx0XHR2YWx1ZUNvbXBvbmVudDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyB2YWx1ZSBjb21wb25lbnQgdG8gcmVuZGVyXG5cdFx0XHR2YWx1ZUtleTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHBhdGggb2YgdGhlIGxhYmVsIHZhbHVlIGluIG9wdGlvbiBvYmplY3RzXG5cdFx0XHR2YWx1ZVJlbmRlcmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIHZhbHVlUmVuZGVyZXI6IGZ1bmN0aW9uIChvcHRpb24pIHt9XG5cdFx0XHR3cmFwcGVyU3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0IH0sXG5cdFxuXHRcdC8vIG9wdGlvbmFsIHN0eWxlIHRvIGFwcGx5IHRvIHRoZSBjb21wb25lbnQgd3JhcHBlclxuXHRcdHN0YXRpY3M6IHsgQXN5bmM6IF9Bc3luYzJbJ2RlZmF1bHQnXSB9LFxuXHRcblx0XHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGFkZExhYmVsVGV4dDogJ0FkZCBcIntsYWJlbH1cIj8nLFxuXHRcdFx0XHRhbGxvd0NyZWF0ZTogZmFsc2UsXG5cdFx0XHRcdGJhY2tzcGFjZVJlbW92ZXM6IHRydWUsXG5cdFx0XHRcdGNsZWFyYWJsZTogdHJ1ZSxcblx0XHRcdFx0Y2xlYXJBbGxUZXh0OiAnQ2xlYXIgYWxsJyxcblx0XHRcdFx0Y2xlYXJWYWx1ZVRleHQ6ICdDbGVhciB2YWx1ZScsXG5cdFx0XHRcdGRlbGltaXRlcjogJywnLFxuXHRcdFx0XHRkaXNhYmxlZDogZmFsc2UsXG5cdFx0XHRcdGVzY2FwZUNsZWFyc1ZhbHVlOiB0cnVlLFxuXHRcdFx0XHRmaWx0ZXJPcHRpb25zOiB0cnVlLFxuXHRcdFx0XHRpZ25vcmVBY2NlbnRzOiB0cnVlLFxuXHRcdFx0XHRpZ25vcmVDYXNlOiB0cnVlLFxuXHRcdFx0XHRpbnB1dFByb3BzOiB7fSxcblx0XHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdFx0bGFiZWxLZXk6ICdsYWJlbCcsXG5cdFx0XHRcdG1hdGNoUG9zOiAnYW55Jyxcblx0XHRcdFx0bWF0Y2hQcm9wOiAnYW55Jyxcblx0XHRcdFx0bWVudUJ1ZmZlcjogMCxcblx0XHRcdFx0bXVsdGk6IGZhbHNlLFxuXHRcdFx0XHRub1Jlc3VsdHNUZXh0OiAnTm8gcmVzdWx0cyBmb3VuZCcsXG5cdFx0XHRcdG9uQmx1clJlc2V0c0lucHV0OiB0cnVlLFxuXHRcdFx0XHRvcHRpb25Db21wb25lbnQ6IF9PcHRpb24yWydkZWZhdWx0J10sXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiAnU2VsZWN0Li4uJyxcblx0XHRcdFx0cmVxdWlyZWQ6IGZhbHNlLFxuXHRcdFx0XHRzY3JvbGxNZW51SW50b1ZpZXc6IHRydWUsXG5cdFx0XHRcdHNlYXJjaGFibGU6IHRydWUsXG5cdFx0XHRcdHNpbXBsZVZhbHVlOiBmYWxzZSxcblx0XHRcdFx0dmFsdWVDb21wb25lbnQ6IF9WYWx1ZTJbJ2RlZmF1bHQnXSxcblx0XHRcdFx0dmFsdWVLZXk6ICd2YWx1ZSdcblx0XHRcdH07XG5cdFx0fSxcblx0XG5cdFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpbnB1dFZhbHVlOiAnJyxcblx0XHRcdFx0aXNGb2N1c2VkOiBmYWxzZSxcblx0XHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiBmYWxzZSxcblx0XHRcdFx0cmVxdWlyZWQ6IHRoaXMucHJvcHMucmVxdWlyZWQgJiYgdGhpcy5oYW5kbGVSZXF1aXJlZCh0aGlzLnByb3BzLnZhbHVlLCB0aGlzLnByb3BzLm11bHRpKVxuXHRcdFx0fTtcblx0XHR9LFxuXHRcblx0XHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5hdXRvZm9jdXMpIHtcblx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGNvbXBvbmVudFdpbGxVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcblx0XHRcdGlmIChuZXh0U3RhdGUuaXNPcGVuICE9PSB0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0XHR2YXIgaGFuZGxlciA9IG5leHRTdGF0ZS5pc09wZW4gPyBuZXh0UHJvcHMub25PcGVuIDogbmV4dFByb3BzLm9uQ2xvc2U7XG5cdFx0XHRcdGhhbmRsZXIgJiYgaGFuZGxlcigpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG5cdFx0XHQvLyBmb2N1cyB0byB0aGUgc2VsZWN0ZWQgb3B0aW9uXG5cdFx0XHRpZiAodGhpcy5yZWZzLm1lbnUgJiYgdGhpcy5yZWZzLmZvY3VzZWQgJiYgdGhpcy5zdGF0ZS5pc09wZW4gJiYgIXRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbikge1xuXHRcdFx0XHR2YXIgZm9jdXNlZE9wdGlvbk5vZGUgPSBfcmVhY3REb20yWydkZWZhdWx0J10uZmluZERPTU5vZGUodGhpcy5yZWZzLmZvY3VzZWQpO1xuXHRcdFx0XHR2YXIgbWVudU5vZGUgPSBfcmVhY3REb20yWydkZWZhdWx0J10uZmluZERPTU5vZGUodGhpcy5yZWZzLm1lbnUpO1xuXHRcdFx0XHRtZW51Tm9kZS5zY3JvbGxUb3AgPSBmb2N1c2VkT3B0aW9uTm9kZS5vZmZzZXRUb3A7XG5cdFx0XHRcdHRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbiA9IHRydWU7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAocHJldlN0YXRlLmlucHV0VmFsdWUgIT09IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSAmJiB0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UpIHtcblx0XHRcdFx0dGhpcy5wcm9wcy5vbklucHV0Q2hhbmdlKHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5fc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUgJiYgdGhpcy5yZWZzLmZvY3VzZWQgJiYgdGhpcy5yZWZzLm1lbnUpIHtcblx0XHRcdFx0dGhpcy5fc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUgPSBmYWxzZTtcblx0XHRcdFx0dmFyIGZvY3VzZWRET00gPSBfcmVhY3REb20yWydkZWZhdWx0J10uZmluZERPTU5vZGUodGhpcy5yZWZzLmZvY3VzZWQpO1xuXHRcdFx0XHR2YXIgbWVudURPTSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWVudSk7XG5cdFx0XHRcdHZhciBmb2N1c2VkUmVjdCA9IGZvY3VzZWRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdHZhciBtZW51UmVjdCA9IG1lbnVET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdGlmIChmb2N1c2VkUmVjdC5ib3R0b20gPiBtZW51UmVjdC5ib3R0b20gfHwgZm9jdXNlZFJlY3QudG9wIDwgbWVudVJlY3QudG9wKSB7XG5cdFx0XHRcdFx0bWVudURPTS5zY3JvbGxUb3AgPSBmb2N1c2VkRE9NLm9mZnNldFRvcCArIGZvY3VzZWRET00uY2xpZW50SGVpZ2h0IC0gbWVudURPTS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLnNjcm9sbE1lbnVJbnRvVmlldyAmJiB0aGlzLnJlZnMubWVudUNvbnRhaW5lcikge1xuXHRcdFx0XHR2YXIgbWVudUNvbnRhaW5lclJlY3QgPSB0aGlzLnJlZnMubWVudUNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0aWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IG1lbnVDb250YWluZXJSZWN0LmJvdHRvbSArIHRoaXMucHJvcHMubWVudUJ1ZmZlcikge1xuXHRcdFx0XHRcdHdpbmRvdy5zY3JvbGxUbygwLCB3aW5kb3cuc2Nyb2xsWSArIG1lbnVDb250YWluZXJSZWN0LmJvdHRvbSArIHRoaXMucHJvcHMubWVudUJ1ZmZlciAtIHdpbmRvdy5pbm5lckhlaWdodCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChwcmV2UHJvcHMuZGlzYWJsZWQgIT09IHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGlzRm9jdXNlZDogZmFsc2UgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tZGlkLXVwZGF0ZS1zZXQtc3RhdGVcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG5cdFx0XHRpZiAoIXRoaXMucmVmcy5pbnB1dCkgcmV0dXJuO1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LmZvY3VzKCk7XG5cdFx0fSxcblx0XG5cdFx0Ymx1cklucHV0OiBmdW5jdGlvbiBibHVySW5wdXQoKSB7XG5cdFx0XHRpZiAoIXRoaXMucmVmcy5pbnB1dCkgcmV0dXJuO1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LmJsdXIoKTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaE1vdmU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShldmVudCkge1xuXHRcdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWRcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcblx0XHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBub3QgYmVpbmcgZHJhZ2dlZFxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoRW5kOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCkge1xuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblx0XG5cdFx0XHQvLyBGaXJlIHRoZSBtb3VzZSBldmVudHNcblx0XHRcdHRoaXMuaGFuZGxlTW91c2VEb3duKGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaEVuZENsZWFyVmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZShldmVudCkge1xuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblx0XG5cdFx0XHQvLyBDbGVhciB0aGUgdmFsdWVcblx0XHRcdHRoaXMuY2xlYXJWYWx1ZShldmVudCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcblx0XHRcdC8vIGlmIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgbW91c2Vkb3duIGFuZCBub3QgdGhlIHByaW1hcnlcblx0XHRcdC8vIGJ1dHRvbiwgb3IgaWYgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZCwgaWdub3JlIGl0LlxuXHRcdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBwcmV2ZW50IGRlZmF1bHQgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHQvLyBmb3IgdGhlIG5vbi1zZWFyY2hhYmxlIHNlbGVjdCwgdG9nZ2xlIHRoZSBtZW51XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMuc2VhcmNoYWJsZSkge1xuXHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdHJldHVybiB0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpc09wZW46ICF0aGlzLnN0YXRlLmlzT3BlblxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAodGhpcy5zdGF0ZS5pc0ZvY3VzZWQpIHtcblx0XHRcdFx0Ly8gaWYgdGhlIGlucHV0IGlzIGZvY3VzZWQsIGVuc3VyZSB0aGUgbWVudSBpcyBvcGVuXG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gb3RoZXJ3aXNlLCBmb2N1cyB0aGUgaW5wdXQgYW5kIG9wZW4gdGhlIG1lbnVcblx0XHRcdFx0dGhpcy5fb3BlbkFmdGVyRm9jdXMgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlTW91c2VEb3duT25BcnJvdzogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duT25BcnJvdyhldmVudCkge1xuXHRcdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gSWYgdGhlIG1lbnUgaXNuJ3Qgb3BlbiwgbGV0IHRoZSBldmVudCBidWJibGUgdG8gdGhlIG1haW4gaGFuZGxlTW91c2VEb3duXG5cdFx0XHRpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vIHByZXZlbnQgZGVmYXVsdCBldmVudCBoYW5kbGVyc1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gY2xvc2UgdGhlIG1lbnVcblx0XHRcdHRoaXMuY2xvc2VNZW51KCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlTW91c2VEb3duT25NZW51OiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Pbk1lbnUoZXZlbnQpIHtcblx0XHRcdC8vIGlmIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgbW91c2Vkb3duIGFuZCBub3QgdGhlIHByaW1hcnlcblx0XHRcdC8vIGJ1dHRvbiwgb3IgaWYgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZCwgaWdub3JlIGl0LlxuXHRcdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IHRydWU7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0fSxcblx0XG5cdFx0Y2xvc2VNZW51OiBmdW5jdGlvbiBjbG9zZU1lbnUoKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiB0aGlzLnN0YXRlLmlzRm9jdXNlZCAmJiAhdGhpcy5wcm9wcy5tdWx0aSxcblx0XHRcdFx0aW5wdXRWYWx1ZTogJydcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gZmFsc2U7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlSW5wdXRGb2N1czogZnVuY3Rpb24gaGFuZGxlSW5wdXRGb2N1cyhldmVudCkge1xuXHRcdFx0dmFyIGlzT3BlbiA9IHRoaXMuc3RhdGUuaXNPcGVuIHx8IHRoaXMuX29wZW5BZnRlckZvY3VzO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMub25Gb2N1cykge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzRm9jdXNlZDogdHJ1ZSxcblx0XHRcdFx0aXNPcGVuOiBpc09wZW5cblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5fb3BlbkFmdGVyRm9jdXMgPSBmYWxzZTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVJbnB1dEJsdXI6IGZ1bmN0aW9uIGhhbmRsZUlucHV0Qmx1cihldmVudCkge1xuXHRcdFx0aWYgKHRoaXMucmVmcy5tZW51ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaXNFcXVhbE5vZGUodGhpcy5yZWZzLm1lbnUpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vbkJsdXIpIHtcblx0XHRcdFx0dGhpcy5wcm9wcy5vbkJsdXIoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIG9uQmx1cnJlZFN0YXRlID0ge1xuXHRcdFx0XHRpc0ZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc09wZW46IGZhbHNlLFxuXHRcdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlXG5cdFx0XHR9O1xuXHRcdFx0aWYgKHRoaXMucHJvcHMub25CbHVyUmVzZXRzSW5wdXQpIHtcblx0XHRcdFx0b25CbHVycmVkU3RhdGUuaW5wdXRWYWx1ZSA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRTdGF0ZShvbkJsdXJyZWRTdGF0ZSk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUlucHV0Q2hhbmdlKGV2ZW50KSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNPcGVuOiB0cnVlLFxuXHRcdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0XHRpbnB1dFZhbHVlOiBldmVudC50YXJnZXQudmFsdWVcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZUtleURvd246IGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpIHtcblx0XHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSByZXR1cm47XG5cdFx0XHRzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdC8vIGJhY2tzcGFjZVxuXHRcdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5pbnB1dFZhbHVlICYmIHRoaXMucHJvcHMuYmFja3NwYWNlUmVtb3Zlcykge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoaXMucG9wVmFsdWUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Ly8gdGFiXG5cdFx0XHRcdFx0aWYgKGV2ZW50LnNoaWZ0S2V5IHx8ICF0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLnNlbGVjdEZvY3VzZWRPcHRpb24oKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0Ly8gZW50ZXJcblx0XHRcdFx0XHRpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSByZXR1cm47XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RGb2N1c2VkT3B0aW9uKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdFx0Ly8gZXNjYXBlXG5cdFx0XHRcdFx0aWYgKHRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNsb3NlTWVudSgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5wcm9wcy5jbGVhcmFibGUgJiYgdGhpcy5wcm9wcy5lc2NhcGVDbGVhcnNWYWx1ZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5jbGVhclZhbHVlKGV2ZW50KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0Ly8gdXBcblx0XHRcdFx0XHR0aGlzLmZvY3VzUHJldmlvdXNPcHRpb24oKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0XHQvLyBkb3duXG5cdFx0XHRcdFx0dGhpcy5mb2N1c05leHRPcHRpb24oKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Ly8gY2FzZSAxODg6IC8vICxcblx0XHRcdFx0Ly8gXHRpZiAodGhpcy5wcm9wcy5hbGxvd0NyZWF0ZSAmJiB0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRcdC8vIFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHQvLyBcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdC8vIFx0XHR0aGlzLnNlbGVjdEZvY3VzZWRPcHRpb24oKTtcblx0XHRcdFx0Ly8gXHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBcdFx0cmV0dXJuO1xuXHRcdFx0XHQvLyBcdH1cblx0XHRcdFx0Ly8gYnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVWYWx1ZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVWYWx1ZUNsaWNrKG9wdGlvbiwgZXZlbnQpIHtcblx0XHRcdGlmICghdGhpcy5wcm9wcy5vblZhbHVlQ2xpY2spIHJldHVybjtcblx0XHRcdHRoaXMucHJvcHMub25WYWx1ZUNsaWNrKG9wdGlvbiwgZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZU1lbnVTY3JvbGw6IGZ1bmN0aW9uIGhhbmRsZU1lbnVTY3JvbGwoZXZlbnQpIHtcblx0XHRcdGlmICghdGhpcy5wcm9wcy5vbk1lbnVTY3JvbGxUb0JvdHRvbSkgcmV0dXJuO1xuXHRcdFx0dmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0XG5cdFx0XHRpZiAodGFyZ2V0LnNjcm9sbEhlaWdodCA+IHRhcmdldC5vZmZzZXRIZWlnaHQgJiYgISh0YXJnZXQuc2Nyb2xsSGVpZ2h0IC0gdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHRhcmdldC5zY3JvbGxUb3ApKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25NZW51U2Nyb2xsVG9Cb3R0b20oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRoYW5kbGVSZXF1aXJlZDogZnVuY3Rpb24gaGFuZGxlUmVxdWlyZWQodmFsdWUsIG11bHRpKSB7XG5cdFx0XHRpZiAoIXZhbHVlKSByZXR1cm4gdHJ1ZTtcblx0XHRcdHJldHVybiBtdWx0aSA/IHZhbHVlLmxlbmd0aCA9PT0gMCA6IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDA7XG5cdFx0fSxcblx0XG5cdFx0Z2V0T3B0aW9uTGFiZWw6IGZ1bmN0aW9uIGdldE9wdGlvbkxhYmVsKG9wKSB7XG5cdFx0XHRyZXR1cm4gb3BbdGhpcy5wcm9wcy5sYWJlbEtleV07XG5cdFx0fSxcblx0XG5cdFx0Z2V0VmFsdWVBcnJheTogZnVuY3Rpb24gZ2V0VmFsdWVBcnJheSgpIHtcblx0XHRcdHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWU7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSkge1xuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgdmFsdWUgPSB2YWx1ZS5zcGxpdCh0aGlzLnByb3BzLmRlbGltaXRlcik7XG5cdFx0XHRcdGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFtdO1xuXHRcdFx0XHRcdHZhbHVlID0gW3ZhbHVlXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWUubWFwKHRoaXMuZXhwYW5kVmFsdWUpLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHZhciBleHBhbmRlZFZhbHVlID0gdGhpcy5leHBhbmRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gZXhwYW5kZWRWYWx1ZSA/IFtleHBhbmRlZFZhbHVlXSA6IFtdO1xuXHRcdH0sXG5cdFxuXHRcdGV4cGFuZFZhbHVlOiBmdW5jdGlvbiBleHBhbmRWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykgcmV0dXJuIHZhbHVlO1xuXHRcdFx0dmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IF9wcm9wcy5vcHRpb25zO1xuXHRcdFx0dmFyIHZhbHVlS2V5ID0gX3Byb3BzLnZhbHVlS2V5O1xuXHRcblx0XHRcdGlmICghb3B0aW9ucykgcmV0dXJuO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChvcHRpb25zW2ldW3ZhbHVlS2V5XSA9PT0gdmFsdWUpIHJldHVybiBvcHRpb25zW2ldO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblx0XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5hdXRvQmx1cikge1xuXHRcdFx0XHR0aGlzLmJsdXJJbnB1dCgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF0aGlzLnByb3BzLm9uQ2hhbmdlKSByZXR1cm47XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5yZXF1aXJlZCkge1xuXHRcdFx0XHR2YXIgcmVxdWlyZWQgPSB0aGlzLmhhbmRsZVJlcXVpcmVkKHZhbHVlLCB0aGlzLnByb3BzLm11bHRpKTtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHJlcXVpcmVkOiByZXF1aXJlZCB9KTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLnNpbXBsZVZhbHVlICYmIHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gdGhpcy5wcm9wcy5tdWx0aSA/IHZhbHVlLm1hcChmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRcdHJldHVybiBpW190aGlzLnByb3BzLnZhbHVlS2V5XTtcblx0XHRcdFx0fSkuam9pbih0aGlzLnByb3BzLmRlbGltaXRlcikgOiB2YWx1ZVt0aGlzLnByb3BzLnZhbHVlS2V5XTtcblx0XHRcdH1cblx0XHRcdHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpO1xuXHRcdH0sXG5cdFxuXHRcdHNlbGVjdFZhbHVlOiBmdW5jdGlvbiBzZWxlY3RWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gZmFsc2U7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSkge1xuXHRcdFx0XHR0aGlzLmFkZFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0aW5wdXRWYWx1ZTogJydcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdFx0XHRpbnB1dFZhbHVlOiAnJyxcblx0XHRcdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IHRoaXMuc3RhdGUuaXNGb2N1c2VkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGFkZFZhbHVlOiBmdW5jdGlvbiBhZGRWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHRcdHRoaXMuc2V0VmFsdWUodmFsdWVBcnJheS5jb25jYXQodmFsdWUpKTtcblx0XHR9LFxuXHRcblx0XHRwb3BWYWx1ZTogZnVuY3Rpb24gcG9wVmFsdWUoKSB7XG5cdFx0XHR2YXIgdmFsdWVBcnJheSA9IHRoaXMuZ2V0VmFsdWVBcnJheSgpO1xuXHRcdFx0aWYgKCF2YWx1ZUFycmF5Lmxlbmd0aCkgcmV0dXJuO1xuXHRcdFx0aWYgKHZhbHVlQXJyYXlbdmFsdWVBcnJheS5sZW5ndGggLSAxXS5jbGVhcmFibGVWYWx1ZSA9PT0gZmFsc2UpIHJldHVybjtcblx0XHRcdHRoaXMuc2V0VmFsdWUodmFsdWVBcnJheS5zbGljZSgwLCB2YWx1ZUFycmF5Lmxlbmd0aCAtIDEpKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmVWYWx1ZTogZnVuY3Rpb24gcmVtb3ZlVmFsdWUodmFsdWUpIHtcblx0XHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdHJldHVybiBpICE9PSB2YWx1ZTtcblx0XHRcdH0pKTtcblx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHR9LFxuXHRcblx0XHRjbGVhclZhbHVlOiBmdW5jdGlvbiBjbGVhclZhbHVlKGV2ZW50KSB7XG5cdFx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0XHQvLyBidXR0b24sIGlnbm9yZSBpdC5cblx0XHRcdGlmIChldmVudCAmJiBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShudWxsKTtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc09wZW46IGZhbHNlLFxuXHRcdFx0XHRpbnB1dFZhbHVlOiAnJ1xuXHRcdFx0fSwgdGhpcy5mb2N1cyk7XG5cdFx0fSxcblx0XG5cdFx0Zm9jdXNPcHRpb246IGZ1bmN0aW9uIGZvY3VzT3B0aW9uKG9wdGlvbikge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGZvY3VzZWRPcHRpb246IG9wdGlvblxuXHRcdFx0fSk7XG5cdFx0fSxcblx0XG5cdFx0Zm9jdXNOZXh0T3B0aW9uOiBmdW5jdGlvbiBmb2N1c05leHRPcHRpb24oKSB7XG5cdFx0XHR0aGlzLmZvY3VzQWRqYWNlbnRPcHRpb24oJ25leHQnKTtcblx0XHR9LFxuXHRcblx0XHRmb2N1c1ByZXZpb3VzT3B0aW9uOiBmdW5jdGlvbiBmb2N1c1ByZXZpb3VzT3B0aW9uKCkge1xuXHRcdFx0dGhpcy5mb2N1c0FkamFjZW50T3B0aW9uKCdwcmV2aW91cycpO1xuXHRcdH0sXG5cdFxuXHRcdGZvY3VzQWRqYWNlbnRPcHRpb246IGZ1bmN0aW9uIGZvY3VzQWRqYWNlbnRPcHRpb24oZGlyKSB7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3Zpc2libGVPcHRpb25zLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRyZXR1cm4gIWkuZGlzYWJsZWQ7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0aXNPcGVuOiB0cnVlLFxuXHRcdFx0XHRcdGlucHV0VmFsdWU6ICcnLFxuXHRcdFx0XHRcdGZvY3VzZWRPcHRpb246IHRoaXMuX2ZvY3VzZWRPcHRpb24gfHwgb3B0aW9uc1tkaXIgPT09ICduZXh0JyA/IDAgOiBvcHRpb25zLmxlbmd0aCAtIDFdXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoIW9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG5cdFx0XHR2YXIgZm9jdXNlZEluZGV4ID0gLTE7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHRoaXMuX2ZvY3VzZWRPcHRpb24gPT09IG9wdGlvbnNbaV0pIHtcblx0XHRcdFx0XHRmb2N1c2VkSW5kZXggPSBpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR2YXIgZm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbMF07XG5cdFx0XHRpZiAoZGlyID09PSAnbmV4dCcgJiYgZm9jdXNlZEluZGV4ID4gLTEgJiYgZm9jdXNlZEluZGV4IDwgb3B0aW9ucy5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdGZvY3VzZWRPcHRpb24gPSBvcHRpb25zW2ZvY3VzZWRJbmRleCArIDFdO1xuXHRcdFx0fSBlbHNlIGlmIChkaXIgPT09ICdwcmV2aW91cycpIHtcblx0XHRcdFx0aWYgKGZvY3VzZWRJbmRleCA+IDApIHtcblx0XHRcdFx0XHRmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1tmb2N1c2VkSW5kZXggLSAxXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1tvcHRpb25zLmxlbmd0aCAtIDFdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbjogZm9jdXNlZE9wdGlvblxuXHRcdFx0fSk7XG5cdFx0fSxcblx0XG5cdFx0c2VsZWN0Rm9jdXNlZE9wdGlvbjogZnVuY3Rpb24gc2VsZWN0Rm9jdXNlZE9wdGlvbigpIHtcblx0XHRcdC8vIGlmICh0aGlzLnByb3BzLmFsbG93Q3JlYXRlICYmICF0aGlzLnN0YXRlLmZvY3VzZWRPcHRpb24pIHtcblx0XHRcdC8vIFx0cmV0dXJuIHRoaXMuc2VsZWN0VmFsdWUodGhpcy5zdGF0ZS5pbnB1dFZhbHVlKTtcblx0XHRcdC8vIH1cblx0XHRcdGlmICh0aGlzLl9mb2N1c2VkT3B0aW9uKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnNlbGVjdFZhbHVlKHRoaXMuX2ZvY3VzZWRPcHRpb24pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHJlbmRlckxvYWRpbmc6IGZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoKSB7XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMuaXNMb2FkaW5nKSByZXR1cm47XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdzcGFuJyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtbG9hZGluZy16b25lJywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0sXG5cdFx0XHRcdF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdTZWxlY3QtbG9hZGluZycgfSlcblx0XHRcdCk7XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyVmFsdWU6IGZ1bmN0aW9uIHJlbmRlclZhbHVlKHZhbHVlQXJyYXksIGlzT3Blbikge1xuXHRcdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHRcdFx0dmFyIHJlbmRlckxhYmVsID0gdGhpcy5wcm9wcy52YWx1ZVJlbmRlcmVyIHx8IHRoaXMuZ2V0T3B0aW9uTGFiZWw7XG5cdFx0XHR2YXIgVmFsdWVDb21wb25lbnQgPSB0aGlzLnByb3BzLnZhbHVlQ29tcG9uZW50O1xuXHRcdFx0aWYgKCF2YWx1ZUFycmF5Lmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm4gIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LXBsYWNlaG9sZGVyJyB9LFxuXHRcdFx0XHRcdHRoaXMucHJvcHMucGxhY2Vob2xkZXJcblx0XHRcdFx0KSA6IG51bGw7XG5cdFx0XHR9XG5cdFx0XHR2YXIgb25DbGljayA9IHRoaXMucHJvcHMub25WYWx1ZUNsaWNrID8gdGhpcy5oYW5kbGVWYWx1ZUNsaWNrIDogbnVsbDtcblx0XHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZUFycmF5Lm1hcChmdW5jdGlvbiAodmFsdWUsIGkpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRWYWx1ZUNvbXBvbmVudCxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0ZGlzYWJsZWQ6IF90aGlzMi5wcm9wcy5kaXNhYmxlZCB8fCB2YWx1ZS5jbGVhcmFibGVWYWx1ZSA9PT0gZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGtleTogJ3ZhbHVlLScgKyBpICsgJy0nICsgdmFsdWVbX3RoaXMyLnByb3BzLnZhbHVlS2V5XSxcblx0XHRcdFx0XHRcdFx0b25DbGljazogb25DbGljayxcblx0XHRcdFx0XHRcdFx0b25SZW1vdmU6IF90aGlzMi5yZW1vdmVWYWx1ZSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cmVuZGVyTGFiZWwodmFsdWUpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmlucHV0VmFsdWUpIHtcblx0XHRcdFx0aWYgKGlzT3Blbikgb25DbGljayA9IG51bGw7XG5cdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRWYWx1ZUNvbXBvbmVudCxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkaXNhYmxlZDogdGhpcy5wcm9wcy5kaXNhYmxlZCxcblx0XHRcdFx0XHRcdG9uQ2xpY2s6IG9uQ2xpY2ssXG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWVBcnJheVswXVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cmVuZGVyTGFiZWwodmFsdWVBcnJheVswXSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRyZW5kZXJJbnB1dDogZnVuY3Rpb24gcmVuZGVySW5wdXQodmFsdWVBcnJheSkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdC1pbnB1dCcsIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUpO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgIXRoaXMucHJvcHMuc2VhcmNoYWJsZSkge1xuXHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmlucHV0UHJvcHMsIHtcblx0XHRcdFx0XHRjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdFx0XHR0YWJJbmRleDogdGhpcy5wcm9wcy50YWJJbmRleCB8fCAwLFxuXHRcdFx0XHRcdG9uQmx1cjogdGhpcy5oYW5kbGVJbnB1dEJsdXIsXG5cdFx0XHRcdFx0b25Gb2N1czogdGhpcy5oYW5kbGVJbnB1dEZvY3VzLFxuXHRcdFx0XHRcdHJlZjogJ2lucHV0Jyxcblx0XHRcdFx0XHRzdHlsZTogeyBib3JkZXI6IDAsIHdpZHRoOiAxLCBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyB9IH0pKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfcmVhY3RJbnB1dEF1dG9zaXplMlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLCB7XG5cdFx0XHRcdGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHRcdFx0XHR0YWJJbmRleDogdGhpcy5wcm9wcy50YWJJbmRleCxcblx0XHRcdFx0b25CbHVyOiB0aGlzLmhhbmRsZUlucHV0Qmx1cixcblx0XHRcdFx0b25DaGFuZ2U6IHRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UsXG5cdFx0XHRcdG9uRm9jdXM6IHRoaXMuaGFuZGxlSW5wdXRGb2N1cyxcblx0XHRcdFx0bWluV2lkdGg6ICc1Jyxcblx0XHRcdFx0cmVmOiAnaW5wdXQnLFxuXHRcdFx0XHRyZXF1aXJlZDogdGhpcy5zdGF0ZS5yZXF1aXJlZCxcblx0XHRcdFx0dmFsdWU6IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZVxuXHRcdFx0fSkpO1xuXHRcdH0sXG5cdFxuXHRcdHJlbmRlckNsZWFyOiBmdW5jdGlvbiByZW5kZXJDbGVhcigpIHtcblx0XHRcdGlmICghdGhpcy5wcm9wcy5jbGVhcmFibGUgfHwgIXRoaXMucHJvcHMudmFsdWUgfHwgdGhpcy5wcm9wcy5tdWx0aSAmJiAhdGhpcy5wcm9wcy52YWx1ZS5sZW5ndGggfHwgdGhpcy5wcm9wcy5kaXNhYmxlZCB8fCB0aGlzLnByb3BzLmlzTG9hZGluZykgcmV0dXJuO1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnc3BhbicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LWNsZWFyLXpvbmUnLCB0aXRsZTogdGhpcy5wcm9wcy5tdWx0aSA/IHRoaXMucHJvcHMuY2xlYXJBbGxUZXh0IDogdGhpcy5wcm9wcy5jbGVhclZhbHVlVGV4dCxcblx0XHRcdFx0XHQnYXJpYS1sYWJlbCc6IHRoaXMucHJvcHMubXVsdGkgPyB0aGlzLnByb3BzLmNsZWFyQWxsVGV4dCA6IHRoaXMucHJvcHMuY2xlYXJWYWx1ZVRleHQsXG5cdFx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMuY2xlYXJWYWx1ZSxcblx0XHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG5cdFx0XHRcdFx0b25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZENsZWFyVmFsdWUgfSxcblx0XHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ1NlbGVjdC1jbGVhcicsIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogJyZ0aW1lczsnIH0gfSlcblx0XHRcdCk7XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyQXJyb3c6IGZ1bmN0aW9uIHJlbmRlckFycm93KCkge1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnc3BhbicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LWFycm93LXpvbmUnLCBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd25PbkFycm93IH0sXG5cdFx0XHRcdF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdTZWxlY3QtYXJyb3cnLCBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd25PbkFycm93IH0pXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdGZpbHRlck9wdGlvbnM6IGZ1bmN0aW9uIGZpbHRlck9wdGlvbnMoZXhjbHVkZU9wdGlvbnMpIHtcblx0XHRcdHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0XHRcdHZhciBmaWx0ZXJWYWx1ZSA9IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZTtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zIHx8IFtdO1xuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLnByb3BzLmZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMucHJvcHMuZmlsdGVyT3B0aW9ucy5jYWxsKHRoaXMsIG9wdGlvbnMsIGZpbHRlclZhbHVlLCBleGNsdWRlT3B0aW9ucyk7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuZmlsdGVyT3B0aW9ucykge1xuXHRcdFx0XHRpZiAodGhpcy5wcm9wcy5pZ25vcmVBY2NlbnRzKSB7XG5cdFx0XHRcdFx0ZmlsdGVyVmFsdWUgPSAoMCwgX3V0aWxzU3RyaXBEaWFjcml0aWNzMlsnZGVmYXVsdCddKShmaWx0ZXJWYWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQ2FzZSkge1xuXHRcdFx0XHRcdGZpbHRlclZhbHVlID0gZmlsdGVyVmFsdWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZXhjbHVkZU9wdGlvbnMpIGV4Y2x1ZGVPcHRpb25zID0gZXhjbHVkZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGlbX3RoaXMzLnByb3BzLnZhbHVlS2V5XTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybiBvcHRpb25zLmZpbHRlcihmdW5jdGlvbiAob3B0aW9uKSB7XG5cdFx0XHRcdFx0aWYgKGV4Y2x1ZGVPcHRpb25zICYmIGV4Y2x1ZGVPcHRpb25zLmluZGV4T2Yob3B0aW9uW190aGlzMy5wcm9wcy52YWx1ZUtleV0pID4gLTEpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmZpbHRlck9wdGlvbikgcmV0dXJuIF90aGlzMy5wcm9wcy5maWx0ZXJPcHRpb24uY2FsbChfdGhpczMsIG9wdGlvbiwgZmlsdGVyVmFsdWUpO1xuXHRcdFx0XHRcdGlmICghZmlsdGVyVmFsdWUpIHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdHZhciB2YWx1ZVRlc3QgPSBTdHJpbmcob3B0aW9uW190aGlzMy5wcm9wcy52YWx1ZUtleV0pO1xuXHRcdFx0XHRcdHZhciBsYWJlbFRlc3QgPSBTdHJpbmcob3B0aW9uW190aGlzMy5wcm9wcy5sYWJlbEtleV0pO1xuXHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMuaWdub3JlQWNjZW50cykge1xuXHRcdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICdsYWJlbCcpIHZhbHVlVGVzdCA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKHZhbHVlVGVzdCk7XG5cdFx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJykgbGFiZWxUZXN0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkobGFiZWxUZXN0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5pZ25vcmVDYXNlKSB7XG5cdFx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJykgdmFsdWVUZXN0ID0gdmFsdWVUZXN0LnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJykgbGFiZWxUZXN0ID0gbGFiZWxUZXN0LnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBfdGhpczMucHJvcHMubWF0Y2hQb3MgPT09ICdzdGFydCcgPyBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAnbGFiZWwnICYmIHZhbHVlVGVzdC5zdWJzdHIoMCwgZmlsdGVyVmFsdWUubGVuZ3RoKSA9PT0gZmlsdGVyVmFsdWUgfHwgX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJyAmJiBsYWJlbFRlc3Quc3Vic3RyKDAsIGZpbHRlclZhbHVlLmxlbmd0aCkgPT09IGZpbHRlclZhbHVlIDogX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJyAmJiB2YWx1ZVRlc3QuaW5kZXhPZihmaWx0ZXJWYWx1ZSkgPj0gMCB8fCBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAndmFsdWUnICYmIGxhYmVsVGVzdC5pbmRleE9mKGZpbHRlclZhbHVlKSA+PSAwO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBvcHRpb25zO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHJlbmRlck1lbnU6IGZ1bmN0aW9uIHJlbmRlck1lbnUob3B0aW9ucywgdmFsdWVBcnJheSwgZm9jdXNlZE9wdGlvbikge1xuXHRcdFx0dmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIF9yZXQgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciBPcHRpb24gPSBfdGhpczQucHJvcHMub3B0aW9uQ29tcG9uZW50O1xuXHRcdFx0XHRcdHZhciByZW5kZXJMYWJlbCA9IF90aGlzNC5wcm9wcy5vcHRpb25SZW5kZXJlciB8fCBfdGhpczQuZ2V0T3B0aW9uTGFiZWw7XG5cdFxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR2OiBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uLCBpKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpc1NlbGVjdGVkID0gdmFsdWVBcnJheSAmJiB2YWx1ZUFycmF5LmluZGV4T2Yob3B0aW9uKSA+IC0xO1xuXHRcdFx0XHRcdFx0XHR2YXIgaXNGb2N1c2VkID0gb3B0aW9uID09PSBmb2N1c2VkT3B0aW9uO1xuXHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9uUmVmID0gaXNGb2N1c2VkID8gJ2ZvY3VzZWQnIDogbnVsbDtcblx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbkNsYXNzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSh7XG5cdFx0XHRcdFx0XHRcdFx0J1NlbGVjdC1vcHRpb24nOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdCdpcy1zZWxlY3RlZCc6IGlzU2VsZWN0ZWQsXG5cdFx0XHRcdFx0XHRcdFx0J2lzLWZvY3VzZWQnOiBpc0ZvY3VzZWQsXG5cdFx0XHRcdFx0XHRcdFx0J2lzLWRpc2FibGVkJzogb3B0aW9uLmRpc2FibGVkXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRcdE9wdGlvbixcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6IG9wdGlvbkNsYXNzLFxuXHRcdFx0XHRcdFx0XHRcdFx0aXNEaXNhYmxlZDogb3B0aW9uLmRpc2FibGVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0aXNGb2N1c2VkOiBpc0ZvY3VzZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRrZXk6ICdvcHRpb24tJyArIGkgKyAnLScgKyBvcHRpb25bX3RoaXM0LnByb3BzLnZhbHVlS2V5XSxcblx0XHRcdFx0XHRcdFx0XHRcdG9uU2VsZWN0OiBfdGhpczQuc2VsZWN0VmFsdWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkZvY3VzOiBfdGhpczQuZm9jdXNPcHRpb24sXG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRpb246IG9wdGlvbixcblx0XHRcdFx0XHRcdFx0XHRcdGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRyZWY6IG9wdGlvblJlZlxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0cmVuZGVyTGFiZWwob3B0aW9uKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9KSgpO1xuXHRcblx0XHRcdFx0aWYgKHR5cGVvZiBfcmV0ID09PSAnb2JqZWN0JykgcmV0dXJuIF9yZXQudjtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0KSB7XG5cdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1ub3Jlc3VsdHMnIH0sXG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0XG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRyZW5kZXJIaWRkZW5GaWVsZDogZnVuY3Rpb24gcmVuZGVySGlkZGVuRmllbGQodmFsdWVBcnJheSkge1xuXHRcdFx0dmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCF0aGlzLnByb3BzLm5hbWUpIHJldHVybjtcblx0XHRcdHZhciB2YWx1ZSA9IHZhbHVlQXJyYXkubWFwKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdHJldHVybiBzdHJpbmdpZnlWYWx1ZShpW190aGlzNS5wcm9wcy52YWx1ZUtleV0pO1xuXHRcdFx0fSkuam9pbih0aGlzLnByb3BzLmRlbGltaXRlcik7XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAnaGlkZGVuJywgcmVmOiAndmFsdWUnLCBuYW1lOiB0aGlzLnByb3BzLm5hbWUsIHZhbHVlOiB2YWx1ZSwgZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQgfSk7XG5cdFx0fSxcblx0XG5cdFx0Z2V0Rm9jdXNhYmxlT3B0aW9uOiBmdW5jdGlvbiBnZXRGb2N1c2FibGVPcHRpb24oc2VsZWN0ZWRPcHRpb24pIHtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5fdmlzaWJsZU9wdGlvbnM7XG5cdFx0XHRpZiAoIW9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG5cdFx0XHR2YXIgZm9jdXNlZE9wdGlvbiA9IHRoaXMuc3RhdGUuZm9jdXNlZE9wdGlvbiB8fCBzZWxlY3RlZE9wdGlvbjtcblx0XHRcdGlmIChmb2N1c2VkT3B0aW9uICYmIG9wdGlvbnMuaW5kZXhPZihmb2N1c2VkT3B0aW9uKSA+IC0xKSByZXR1cm4gZm9jdXNlZE9wdGlvbjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoIW9wdGlvbnNbaV0uZGlzYWJsZWQpIHJldHVybiBvcHRpb25zW2ldO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5fdmlzaWJsZU9wdGlvbnMgPSB0aGlzLmZpbHRlck9wdGlvbnModGhpcy5wcm9wcy5tdWx0aSA/IHZhbHVlQXJyYXkgOiBudWxsKTtcblx0XHRcdHZhciBpc09wZW4gPSB0aGlzLnN0YXRlLmlzT3Blbjtcblx0XHRcdGlmICh0aGlzLnByb3BzLm11bHRpICYmICFvcHRpb25zLmxlbmd0aCAmJiB2YWx1ZUFycmF5Lmxlbmd0aCAmJiAhdGhpcy5zdGF0ZS5pbnB1dFZhbHVlKSBpc09wZW4gPSBmYWxzZTtcblx0XHRcdHZhciBmb2N1c2VkT3B0aW9uID0gdGhpcy5fZm9jdXNlZE9wdGlvbiA9IHRoaXMuZ2V0Rm9jdXNhYmxlT3B0aW9uKHZhbHVlQXJyYXlbMF0pO1xuXHRcdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdCcsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCB7XG5cdFx0XHRcdCdTZWxlY3QtLW11bHRpJzogdGhpcy5wcm9wcy5tdWx0aSxcblx0XHRcdFx0J2lzLWRpc2FibGVkJzogdGhpcy5wcm9wcy5kaXNhYmxlZCxcblx0XHRcdFx0J2lzLWZvY3VzZWQnOiB0aGlzLnN0YXRlLmlzRm9jdXNlZCxcblx0XHRcdFx0J2lzLWxvYWRpbmcnOiB0aGlzLnByb3BzLmlzTG9hZGluZyxcblx0XHRcdFx0J2lzLW9wZW4nOiBpc09wZW4sXG5cdFx0XHRcdCdpcy1wc2V1ZG8tZm9jdXNlZCc6IHRoaXMuc3RhdGUuaXNQc2V1ZG9Gb2N1c2VkLFxuXHRcdFx0XHQnaXMtc2VhcmNoYWJsZSc6IHRoaXMucHJvcHMuc2VhcmNoYWJsZSxcblx0XHRcdFx0J2hhcy12YWx1ZSc6IHZhbHVlQXJyYXkubGVuZ3RoXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgcmVmOiAnd3JhcHBlcicsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogdGhpcy5wcm9wcy53cmFwcGVyU3R5bGUgfSxcblx0XHRcdFx0dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCh2YWx1ZUFycmF5KSxcblx0XHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0eyByZWY6ICdjb250cm9sJyxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ1NlbGVjdC1jb250cm9sJyxcblx0XHRcdFx0XHRcdHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuXHRcdFx0XHRcdFx0b25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG5cdFx0XHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sXG5cdFx0XHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuXHRcdFx0XHRcdFx0b25Ub3VjaFN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG5cdFx0XHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUgfSxcblx0XHRcdFx0XHR0aGlzLnJlbmRlclZhbHVlKHZhbHVlQXJyYXksIGlzT3BlbiksXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJJbnB1dCh2YWx1ZUFycmF5KSxcblx0XHRcdFx0XHR0aGlzLnJlbmRlckxvYWRpbmcoKSxcblx0XHRcdFx0XHR0aGlzLnJlbmRlckNsZWFyKCksXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJBcnJvdygpXG5cdFx0XHRcdCksXG5cdFx0XHRcdGlzT3BlbiA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdHsgcmVmOiAnbWVudUNvbnRhaW5lcicsIGNsYXNzTmFtZTogJ1NlbGVjdC1tZW51LW91dGVyJywgc3R5bGU6IHRoaXMucHJvcHMubWVudUNvbnRhaW5lclN0eWxlIH0sXG5cdFx0XHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHRcdHsgcmVmOiAnbWVudScsIGNsYXNzTmFtZTogJ1NlbGVjdC1tZW51Jyxcblx0XHRcdFx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMubWVudVN0eWxlLFxuXHRcdFx0XHRcdFx0XHRvblNjcm9sbDogdGhpcy5oYW5kbGVNZW51U2Nyb2xsLFxuXHRcdFx0XHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd25Pbk1lbnUgfSxcblx0XHRcdFx0XHRcdHRoaXMucmVuZGVyTWVudShvcHRpb25zLCAhdGhpcy5wcm9wcy5tdWx0aSA/IHZhbHVlQXJyYXkgOiBudWxsLCBmb2N1c2VkT3B0aW9uKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSA6IG51bGxcblx0XHRcdCk7XG5cdFx0fVxuXHRcblx0fSk7XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBTZWxlY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBtYXAgPSBbeyAnYmFzZSc6ICdBJywgJ2xldHRlcnMnOiAvW1xcdTAwNDFcXHUyNEI2XFx1RkYyMVxcdTAwQzBcXHUwMEMxXFx1MDBDMlxcdTFFQTZcXHUxRUE0XFx1MUVBQVxcdTFFQThcXHUwMEMzXFx1MDEwMFxcdTAxMDJcXHUxRUIwXFx1MUVBRVxcdTFFQjRcXHUxRUIyXFx1MDIyNlxcdTAxRTBcXHUwMEM0XFx1MDFERVxcdTFFQTJcXHUwMEM1XFx1MDFGQVxcdTAxQ0RcXHUwMjAwXFx1MDIwMlxcdTFFQTBcXHUxRUFDXFx1MUVCNlxcdTFFMDBcXHUwMTA0XFx1MDIzQVxcdTJDNkZdL2cgfSwgeyAnYmFzZSc6ICdBQScsICdsZXR0ZXJzJzogL1tcXHVBNzMyXS9nIH0sIHsgJ2Jhc2UnOiAnQUUnLCAnbGV0dGVycyc6IC9bXFx1MDBDNlxcdTAxRkNcXHUwMUUyXS9nIH0sIHsgJ2Jhc2UnOiAnQU8nLCAnbGV0dGVycyc6IC9bXFx1QTczNF0vZyB9LCB7ICdiYXNlJzogJ0FVJywgJ2xldHRlcnMnOiAvW1xcdUE3MzZdL2cgfSwgeyAnYmFzZSc6ICdBVicsICdsZXR0ZXJzJzogL1tcXHVBNzM4XFx1QTczQV0vZyB9LCB7ICdiYXNlJzogJ0FZJywgJ2xldHRlcnMnOiAvW1xcdUE3M0NdL2cgfSwgeyAnYmFzZSc6ICdCJywgJ2xldHRlcnMnOiAvW1xcdTAwNDJcXHUyNEI3XFx1RkYyMlxcdTFFMDJcXHUxRTA0XFx1MUUwNlxcdTAyNDNcXHUwMTgyXFx1MDE4MV0vZyB9LCB7ICdiYXNlJzogJ0MnLCAnbGV0dGVycyc6IC9bXFx1MDA0M1xcdTI0QjhcXHVGRjIzXFx1MDEwNlxcdTAxMDhcXHUwMTBBXFx1MDEwQ1xcdTAwQzdcXHUxRTA4XFx1MDE4N1xcdTAyM0JcXHVBNzNFXS9nIH0sIHsgJ2Jhc2UnOiAnRCcsICdsZXR0ZXJzJzogL1tcXHUwMDQ0XFx1MjRCOVxcdUZGMjRcXHUxRTBBXFx1MDEwRVxcdTFFMENcXHUxRTEwXFx1MUUxMlxcdTFFMEVcXHUwMTEwXFx1MDE4QlxcdTAxOEFcXHUwMTg5XFx1QTc3OV0vZyB9LCB7ICdiYXNlJzogJ0RaJywgJ2xldHRlcnMnOiAvW1xcdTAxRjFcXHUwMUM0XS9nIH0sIHsgJ2Jhc2UnOiAnRHonLCAnbGV0dGVycyc6IC9bXFx1MDFGMlxcdTAxQzVdL2cgfSwgeyAnYmFzZSc6ICdFJywgJ2xldHRlcnMnOiAvW1xcdTAwNDVcXHUyNEJBXFx1RkYyNVxcdTAwQzhcXHUwMEM5XFx1MDBDQVxcdTFFQzBcXHUxRUJFXFx1MUVDNFxcdTFFQzJcXHUxRUJDXFx1MDExMlxcdTFFMTRcXHUxRTE2XFx1MDExNFxcdTAxMTZcXHUwMENCXFx1MUVCQVxcdTAxMUFcXHUwMjA0XFx1MDIwNlxcdTFFQjhcXHUxRUM2XFx1MDIyOFxcdTFFMUNcXHUwMTE4XFx1MUUxOFxcdTFFMUFcXHUwMTkwXFx1MDE4RV0vZyB9LCB7ICdiYXNlJzogJ0YnLCAnbGV0dGVycyc6IC9bXFx1MDA0NlxcdTI0QkJcXHVGRjI2XFx1MUUxRVxcdTAxOTFcXHVBNzdCXS9nIH0sIHsgJ2Jhc2UnOiAnRycsICdsZXR0ZXJzJzogL1tcXHUwMDQ3XFx1MjRCQ1xcdUZGMjdcXHUwMUY0XFx1MDExQ1xcdTFFMjBcXHUwMTFFXFx1MDEyMFxcdTAxRTZcXHUwMTIyXFx1MDFFNFxcdTAxOTNcXHVBN0EwXFx1QTc3RFxcdUE3N0VdL2cgfSwgeyAnYmFzZSc6ICdIJywgJ2xldHRlcnMnOiAvW1xcdTAwNDhcXHUyNEJEXFx1RkYyOFxcdTAxMjRcXHUxRTIyXFx1MUUyNlxcdTAyMUVcXHUxRTI0XFx1MUUyOFxcdTFFMkFcXHUwMTI2XFx1MkM2N1xcdTJDNzVcXHVBNzhEXS9nIH0sIHsgJ2Jhc2UnOiAnSScsICdsZXR0ZXJzJzogL1tcXHUwMDQ5XFx1MjRCRVxcdUZGMjlcXHUwMENDXFx1MDBDRFxcdTAwQ0VcXHUwMTI4XFx1MDEyQVxcdTAxMkNcXHUwMTMwXFx1MDBDRlxcdTFFMkVcXHUxRUM4XFx1MDFDRlxcdTAyMDhcXHUwMjBBXFx1MUVDQVxcdTAxMkVcXHUxRTJDXFx1MDE5N10vZyB9LCB7ICdiYXNlJzogJ0onLCAnbGV0dGVycyc6IC9bXFx1MDA0QVxcdTI0QkZcXHVGRjJBXFx1MDEzNFxcdTAyNDhdL2cgfSwgeyAnYmFzZSc6ICdLJywgJ2xldHRlcnMnOiAvW1xcdTAwNEJcXHUyNEMwXFx1RkYyQlxcdTFFMzBcXHUwMUU4XFx1MUUzMlxcdTAxMzZcXHUxRTM0XFx1MDE5OFxcdTJDNjlcXHVBNzQwXFx1QTc0MlxcdUE3NDRcXHVBN0EyXS9nIH0sIHsgJ2Jhc2UnOiAnTCcsICdsZXR0ZXJzJzogL1tcXHUwMDRDXFx1MjRDMVxcdUZGMkNcXHUwMTNGXFx1MDEzOVxcdTAxM0RcXHUxRTM2XFx1MUUzOFxcdTAxM0JcXHUxRTNDXFx1MUUzQVxcdTAxNDFcXHUwMjNEXFx1MkM2MlxcdTJDNjBcXHVBNzQ4XFx1QTc0NlxcdUE3ODBdL2cgfSwgeyAnYmFzZSc6ICdMSicsICdsZXR0ZXJzJzogL1tcXHUwMUM3XS9nIH0sIHsgJ2Jhc2UnOiAnTGonLCAnbGV0dGVycyc6IC9bXFx1MDFDOF0vZyB9LCB7ICdiYXNlJzogJ00nLCAnbGV0dGVycyc6IC9bXFx1MDA0RFxcdTI0QzJcXHVGRjJEXFx1MUUzRVxcdTFFNDBcXHUxRTQyXFx1MkM2RVxcdTAxOUNdL2cgfSwgeyAnYmFzZSc6ICdOJywgJ2xldHRlcnMnOiAvW1xcdTAwNEVcXHUyNEMzXFx1RkYyRVxcdTAxRjhcXHUwMTQzXFx1MDBEMVxcdTFFNDRcXHUwMTQ3XFx1MUU0NlxcdTAxNDVcXHUxRTRBXFx1MUU0OFxcdTAyMjBcXHUwMTlEXFx1QTc5MFxcdUE3QTRdL2cgfSwgeyAnYmFzZSc6ICdOSicsICdsZXR0ZXJzJzogL1tcXHUwMUNBXS9nIH0sIHsgJ2Jhc2UnOiAnTmonLCAnbGV0dGVycyc6IC9bXFx1MDFDQl0vZyB9LCB7ICdiYXNlJzogJ08nLCAnbGV0dGVycyc6IC9bXFx1MDA0RlxcdTI0QzRcXHVGRjJGXFx1MDBEMlxcdTAwRDNcXHUwMEQ0XFx1MUVEMlxcdTFFRDBcXHUxRUQ2XFx1MUVENFxcdTAwRDVcXHUxRTRDXFx1MDIyQ1xcdTFFNEVcXHUwMTRDXFx1MUU1MFxcdTFFNTJcXHUwMTRFXFx1MDIyRVxcdTAyMzBcXHUwMEQ2XFx1MDIyQVxcdTFFQ0VcXHUwMTUwXFx1MDFEMVxcdTAyMENcXHUwMjBFXFx1MDFBMFxcdTFFRENcXHUxRURBXFx1MUVFMFxcdTFFREVcXHUxRUUyXFx1MUVDQ1xcdTFFRDhcXHUwMUVBXFx1MDFFQ1xcdTAwRDhcXHUwMUZFXFx1MDE4NlxcdTAxOUZcXHVBNzRBXFx1QTc0Q10vZyB9LCB7ICdiYXNlJzogJ09JJywgJ2xldHRlcnMnOiAvW1xcdTAxQTJdL2cgfSwgeyAnYmFzZSc6ICdPTycsICdsZXR0ZXJzJzogL1tcXHVBNzRFXS9nIH0sIHsgJ2Jhc2UnOiAnT1UnLCAnbGV0dGVycyc6IC9bXFx1MDIyMl0vZyB9LCB7ICdiYXNlJzogJ1AnLCAnbGV0dGVycyc6IC9bXFx1MDA1MFxcdTI0QzVcXHVGRjMwXFx1MUU1NFxcdTFFNTZcXHUwMUE0XFx1MkM2M1xcdUE3NTBcXHVBNzUyXFx1QTc1NF0vZyB9LCB7ICdiYXNlJzogJ1EnLCAnbGV0dGVycyc6IC9bXFx1MDA1MVxcdTI0QzZcXHVGRjMxXFx1QTc1NlxcdUE3NThcXHUwMjRBXS9nIH0sIHsgJ2Jhc2UnOiAnUicsICdsZXR0ZXJzJzogL1tcXHUwMDUyXFx1MjRDN1xcdUZGMzJcXHUwMTU0XFx1MUU1OFxcdTAxNThcXHUwMjEwXFx1MDIxMlxcdTFFNUFcXHUxRTVDXFx1MDE1NlxcdTFFNUVcXHUwMjRDXFx1MkM2NFxcdUE3NUFcXHVBN0E2XFx1QTc4Ml0vZyB9LCB7ICdiYXNlJzogJ1MnLCAnbGV0dGVycyc6IC9bXFx1MDA1M1xcdTI0QzhcXHVGRjMzXFx1MUU5RVxcdTAxNUFcXHUxRTY0XFx1MDE1Q1xcdTFFNjBcXHUwMTYwXFx1MUU2NlxcdTFFNjJcXHUxRTY4XFx1MDIxOFxcdTAxNUVcXHUyQzdFXFx1QTdBOFxcdUE3ODRdL2cgfSwgeyAnYmFzZSc6ICdUJywgJ2xldHRlcnMnOiAvW1xcdTAwNTRcXHUyNEM5XFx1RkYzNFxcdTFFNkFcXHUwMTY0XFx1MUU2Q1xcdTAyMUFcXHUwMTYyXFx1MUU3MFxcdTFFNkVcXHUwMTY2XFx1MDFBQ1xcdTAxQUVcXHUwMjNFXFx1QTc4Nl0vZyB9LCB7ICdiYXNlJzogJ1RaJywgJ2xldHRlcnMnOiAvW1xcdUE3MjhdL2cgfSwgeyAnYmFzZSc6ICdVJywgJ2xldHRlcnMnOiAvW1xcdTAwNTVcXHUyNENBXFx1RkYzNVxcdTAwRDlcXHUwMERBXFx1MDBEQlxcdTAxNjhcXHUxRTc4XFx1MDE2QVxcdTFFN0FcXHUwMTZDXFx1MDBEQ1xcdTAxREJcXHUwMUQ3XFx1MDFENVxcdTAxRDlcXHUxRUU2XFx1MDE2RVxcdTAxNzBcXHUwMUQzXFx1MDIxNFxcdTAyMTZcXHUwMUFGXFx1MUVFQVxcdTFFRThcXHUxRUVFXFx1MUVFQ1xcdTFFRjBcXHUxRUU0XFx1MUU3MlxcdTAxNzJcXHUxRTc2XFx1MUU3NFxcdTAyNDRdL2cgfSwgeyAnYmFzZSc6ICdWJywgJ2xldHRlcnMnOiAvW1xcdTAwNTZcXHUyNENCXFx1RkYzNlxcdTFFN0NcXHUxRTdFXFx1MDFCMlxcdUE3NUVcXHUwMjQ1XS9nIH0sIHsgJ2Jhc2UnOiAnVlknLCAnbGV0dGVycyc6IC9bXFx1QTc2MF0vZyB9LCB7ICdiYXNlJzogJ1cnLCAnbGV0dGVycyc6IC9bXFx1MDA1N1xcdTI0Q0NcXHVGRjM3XFx1MUU4MFxcdTFFODJcXHUwMTc0XFx1MUU4NlxcdTFFODRcXHUxRTg4XFx1MkM3Ml0vZyB9LCB7ICdiYXNlJzogJ1gnLCAnbGV0dGVycyc6IC9bXFx1MDA1OFxcdTI0Q0RcXHVGRjM4XFx1MUU4QVxcdTFFOENdL2cgfSwgeyAnYmFzZSc6ICdZJywgJ2xldHRlcnMnOiAvW1xcdTAwNTlcXHUyNENFXFx1RkYzOVxcdTFFRjJcXHUwMEREXFx1MDE3NlxcdTFFRjhcXHUwMjMyXFx1MUU4RVxcdTAxNzhcXHUxRUY2XFx1MUVGNFxcdTAxQjNcXHUwMjRFXFx1MUVGRV0vZyB9LCB7ICdiYXNlJzogJ1onLCAnbGV0dGVycyc6IC9bXFx1MDA1QVxcdTI0Q0ZcXHVGRjNBXFx1MDE3OVxcdTFFOTBcXHUwMTdCXFx1MDE3RFxcdTFFOTJcXHUxRTk0XFx1MDFCNVxcdTAyMjRcXHUyQzdGXFx1MkM2QlxcdUE3NjJdL2cgfSwgeyAnYmFzZSc6ICdhJywgJ2xldHRlcnMnOiAvW1xcdTAwNjFcXHUyNEQwXFx1RkY0MVxcdTFFOUFcXHUwMEUwXFx1MDBFMVxcdTAwRTJcXHUxRUE3XFx1MUVBNVxcdTFFQUJcXHUxRUE5XFx1MDBFM1xcdTAxMDFcXHUwMTAzXFx1MUVCMVxcdTFFQUZcXHUxRUI1XFx1MUVCM1xcdTAyMjdcXHUwMUUxXFx1MDBFNFxcdTAxREZcXHUxRUEzXFx1MDBFNVxcdTAxRkJcXHUwMUNFXFx1MDIwMVxcdTAyMDNcXHUxRUExXFx1MUVBRFxcdTFFQjdcXHUxRTAxXFx1MDEwNVxcdTJDNjVcXHUwMjUwXS9nIH0sIHsgJ2Jhc2UnOiAnYWEnLCAnbGV0dGVycyc6IC9bXFx1QTczM10vZyB9LCB7ICdiYXNlJzogJ2FlJywgJ2xldHRlcnMnOiAvW1xcdTAwRTZcXHUwMUZEXFx1MDFFM10vZyB9LCB7ICdiYXNlJzogJ2FvJywgJ2xldHRlcnMnOiAvW1xcdUE3MzVdL2cgfSwgeyAnYmFzZSc6ICdhdScsICdsZXR0ZXJzJzogL1tcXHVBNzM3XS9nIH0sIHsgJ2Jhc2UnOiAnYXYnLCAnbGV0dGVycyc6IC9bXFx1QTczOVxcdUE3M0JdL2cgfSwgeyAnYmFzZSc6ICdheScsICdsZXR0ZXJzJzogL1tcXHVBNzNEXS9nIH0sIHsgJ2Jhc2UnOiAnYicsICdsZXR0ZXJzJzogL1tcXHUwMDYyXFx1MjREMVxcdUZGNDJcXHUxRTAzXFx1MUUwNVxcdTFFMDdcXHUwMTgwXFx1MDE4M1xcdTAyNTNdL2cgfSwgeyAnYmFzZSc6ICdjJywgJ2xldHRlcnMnOiAvW1xcdTAwNjNcXHUyNEQyXFx1RkY0M1xcdTAxMDdcXHUwMTA5XFx1MDEwQlxcdTAxMERcXHUwMEU3XFx1MUUwOVxcdTAxODhcXHUwMjNDXFx1QTczRlxcdTIxODRdL2cgfSwgeyAnYmFzZSc6ICdkJywgJ2xldHRlcnMnOiAvW1xcdTAwNjRcXHUyNEQzXFx1RkY0NFxcdTFFMEJcXHUwMTBGXFx1MUUwRFxcdTFFMTFcXHUxRTEzXFx1MUUwRlxcdTAxMTFcXHUwMThDXFx1MDI1NlxcdTAyNTdcXHVBNzdBXS9nIH0sIHsgJ2Jhc2UnOiAnZHonLCAnbGV0dGVycyc6IC9bXFx1MDFGM1xcdTAxQzZdL2cgfSwgeyAnYmFzZSc6ICdlJywgJ2xldHRlcnMnOiAvW1xcdTAwNjVcXHUyNEQ0XFx1RkY0NVxcdTAwRThcXHUwMEU5XFx1MDBFQVxcdTFFQzFcXHUxRUJGXFx1MUVDNVxcdTFFQzNcXHUxRUJEXFx1MDExM1xcdTFFMTVcXHUxRTE3XFx1MDExNVxcdTAxMTdcXHUwMEVCXFx1MUVCQlxcdTAxMUJcXHUwMjA1XFx1MDIwN1xcdTFFQjlcXHUxRUM3XFx1MDIyOVxcdTFFMURcXHUwMTE5XFx1MUUxOVxcdTFFMUJcXHUwMjQ3XFx1MDI1QlxcdTAxRERdL2cgfSwgeyAnYmFzZSc6ICdmJywgJ2xldHRlcnMnOiAvW1xcdTAwNjZcXHUyNEQ1XFx1RkY0NlxcdTFFMUZcXHUwMTkyXFx1QTc3Q10vZyB9LCB7ICdiYXNlJzogJ2cnLCAnbGV0dGVycyc6IC9bXFx1MDA2N1xcdTI0RDZcXHVGRjQ3XFx1MDFGNVxcdTAxMURcXHUxRTIxXFx1MDExRlxcdTAxMjFcXHUwMUU3XFx1MDEyM1xcdTAxRTVcXHUwMjYwXFx1QTdBMVxcdTFENzlcXHVBNzdGXS9nIH0sIHsgJ2Jhc2UnOiAnaCcsICdsZXR0ZXJzJzogL1tcXHUwMDY4XFx1MjREN1xcdUZGNDhcXHUwMTI1XFx1MUUyM1xcdTFFMjdcXHUwMjFGXFx1MUUyNVxcdTFFMjlcXHUxRTJCXFx1MUU5NlxcdTAxMjdcXHUyQzY4XFx1MkM3NlxcdTAyNjVdL2cgfSwgeyAnYmFzZSc6ICdodicsICdsZXR0ZXJzJzogL1tcXHUwMTk1XS9nIH0sIHsgJ2Jhc2UnOiAnaScsICdsZXR0ZXJzJzogL1tcXHUwMDY5XFx1MjREOFxcdUZGNDlcXHUwMEVDXFx1MDBFRFxcdTAwRUVcXHUwMTI5XFx1MDEyQlxcdTAxMkRcXHUwMEVGXFx1MUUyRlxcdTFFQzlcXHUwMUQwXFx1MDIwOVxcdTAyMEJcXHUxRUNCXFx1MDEyRlxcdTFFMkRcXHUwMjY4XFx1MDEzMV0vZyB9LCB7ICdiYXNlJzogJ2onLCAnbGV0dGVycyc6IC9bXFx1MDA2QVxcdTI0RDlcXHVGRjRBXFx1MDEzNVxcdTAxRjBcXHUwMjQ5XS9nIH0sIHsgJ2Jhc2UnOiAnaycsICdsZXR0ZXJzJzogL1tcXHUwMDZCXFx1MjREQVxcdUZGNEJcXHUxRTMxXFx1MDFFOVxcdTFFMzNcXHUwMTM3XFx1MUUzNVxcdTAxOTlcXHUyQzZBXFx1QTc0MVxcdUE3NDNcXHVBNzQ1XFx1QTdBM10vZyB9LCB7ICdiYXNlJzogJ2wnLCAnbGV0dGVycyc6IC9bXFx1MDA2Q1xcdTI0REJcXHVGRjRDXFx1MDE0MFxcdTAxM0FcXHUwMTNFXFx1MUUzN1xcdTFFMzlcXHUwMTNDXFx1MUUzRFxcdTFFM0JcXHUwMTdGXFx1MDE0MlxcdTAxOUFcXHUwMjZCXFx1MkM2MVxcdUE3NDlcXHVBNzgxXFx1QTc0N10vZyB9LCB7ICdiYXNlJzogJ2xqJywgJ2xldHRlcnMnOiAvW1xcdTAxQzldL2cgfSwgeyAnYmFzZSc6ICdtJywgJ2xldHRlcnMnOiAvW1xcdTAwNkRcXHUyNERDXFx1RkY0RFxcdTFFM0ZcXHUxRTQxXFx1MUU0M1xcdTAyNzFcXHUwMjZGXS9nIH0sIHsgJ2Jhc2UnOiAnbicsICdsZXR0ZXJzJzogL1tcXHUwMDZFXFx1MjRERFxcdUZGNEVcXHUwMUY5XFx1MDE0NFxcdTAwRjFcXHUxRTQ1XFx1MDE0OFxcdTFFNDdcXHUwMTQ2XFx1MUU0QlxcdTFFNDlcXHUwMTlFXFx1MDI3MlxcdTAxNDlcXHVBNzkxXFx1QTdBNV0vZyB9LCB7ICdiYXNlJzogJ25qJywgJ2xldHRlcnMnOiAvW1xcdTAxQ0NdL2cgfSwgeyAnYmFzZSc6ICdvJywgJ2xldHRlcnMnOiAvW1xcdTAwNkZcXHUyNERFXFx1RkY0RlxcdTAwRjJcXHUwMEYzXFx1MDBGNFxcdTFFRDNcXHUxRUQxXFx1MUVEN1xcdTFFRDVcXHUwMEY1XFx1MUU0RFxcdTAyMkRcXHUxRTRGXFx1MDE0RFxcdTFFNTFcXHUxRTUzXFx1MDE0RlxcdTAyMkZcXHUwMjMxXFx1MDBGNlxcdTAyMkJcXHUxRUNGXFx1MDE1MVxcdTAxRDJcXHUwMjBEXFx1MDIwRlxcdTAxQTFcXHUxRUREXFx1MUVEQlxcdTFFRTFcXHUxRURGXFx1MUVFM1xcdTFFQ0RcXHUxRUQ5XFx1MDFFQlxcdTAxRURcXHUwMEY4XFx1MDFGRlxcdTAyNTRcXHVBNzRCXFx1QTc0RFxcdTAyNzVdL2cgfSwgeyAnYmFzZSc6ICdvaScsICdsZXR0ZXJzJzogL1tcXHUwMUEzXS9nIH0sIHsgJ2Jhc2UnOiAnb3UnLCAnbGV0dGVycyc6IC9bXFx1MDIyM10vZyB9LCB7ICdiYXNlJzogJ29vJywgJ2xldHRlcnMnOiAvW1xcdUE3NEZdL2cgfSwgeyAnYmFzZSc6ICdwJywgJ2xldHRlcnMnOiAvW1xcdTAwNzBcXHUyNERGXFx1RkY1MFxcdTFFNTVcXHUxRTU3XFx1MDFBNVxcdTFEN0RcXHVBNzUxXFx1QTc1M1xcdUE3NTVdL2cgfSwgeyAnYmFzZSc6ICdxJywgJ2xldHRlcnMnOiAvW1xcdTAwNzFcXHUyNEUwXFx1RkY1MVxcdTAyNEJcXHVBNzU3XFx1QTc1OV0vZyB9LCB7ICdiYXNlJzogJ3InLCAnbGV0dGVycyc6IC9bXFx1MDA3MlxcdTI0RTFcXHVGRjUyXFx1MDE1NVxcdTFFNTlcXHUwMTU5XFx1MDIxMVxcdTAyMTNcXHUxRTVCXFx1MUU1RFxcdTAxNTdcXHUxRTVGXFx1MDI0RFxcdTAyN0RcXHVBNzVCXFx1QTdBN1xcdUE3ODNdL2cgfSwgeyAnYmFzZSc6ICdzJywgJ2xldHRlcnMnOiAvW1xcdTAwNzNcXHUyNEUyXFx1RkY1M1xcdTAwREZcXHUwMTVCXFx1MUU2NVxcdTAxNURcXHUxRTYxXFx1MDE2MVxcdTFFNjdcXHUxRTYzXFx1MUU2OVxcdTAyMTlcXHUwMTVGXFx1MDIzRlxcdUE3QTlcXHVBNzg1XFx1MUU5Ql0vZyB9LCB7ICdiYXNlJzogJ3QnLCAnbGV0dGVycyc6IC9bXFx1MDA3NFxcdTI0RTNcXHVGRjU0XFx1MUU2QlxcdTFFOTdcXHUwMTY1XFx1MUU2RFxcdTAyMUJcXHUwMTYzXFx1MUU3MVxcdTFFNkZcXHUwMTY3XFx1MDFBRFxcdTAyODhcXHUyQzY2XFx1QTc4N10vZyB9LCB7ICdiYXNlJzogJ3R6JywgJ2xldHRlcnMnOiAvW1xcdUE3MjldL2cgfSwgeyAnYmFzZSc6ICd1JywgJ2xldHRlcnMnOiAvW1xcdTAwNzVcXHUyNEU0XFx1RkY1NVxcdTAwRjlcXHUwMEZBXFx1MDBGQlxcdTAxNjlcXHUxRTc5XFx1MDE2QlxcdTFFN0JcXHUwMTZEXFx1MDBGQ1xcdTAxRENcXHUwMUQ4XFx1MDFENlxcdTAxREFcXHUxRUU3XFx1MDE2RlxcdTAxNzFcXHUwMUQ0XFx1MDIxNVxcdTAyMTdcXHUwMUIwXFx1MUVFQlxcdTFFRTlcXHUxRUVGXFx1MUVFRFxcdTFFRjFcXHUxRUU1XFx1MUU3M1xcdTAxNzNcXHUxRTc3XFx1MUU3NVxcdTAyODldL2cgfSwgeyAnYmFzZSc6ICd2JywgJ2xldHRlcnMnOiAvW1xcdTAwNzZcXHUyNEU1XFx1RkY1NlxcdTFFN0RcXHUxRTdGXFx1MDI4QlxcdUE3NUZcXHUwMjhDXS9nIH0sIHsgJ2Jhc2UnOiAndnknLCAnbGV0dGVycyc6IC9bXFx1QTc2MV0vZyB9LCB7ICdiYXNlJzogJ3cnLCAnbGV0dGVycyc6IC9bXFx1MDA3N1xcdTI0RTZcXHVGRjU3XFx1MUU4MVxcdTFFODNcXHUwMTc1XFx1MUU4N1xcdTFFODVcXHUxRTk4XFx1MUU4OVxcdTJDNzNdL2cgfSwgeyAnYmFzZSc6ICd4JywgJ2xldHRlcnMnOiAvW1xcdTAwNzhcXHUyNEU3XFx1RkY1OFxcdTFFOEJcXHUxRThEXS9nIH0sIHsgJ2Jhc2UnOiAneScsICdsZXR0ZXJzJzogL1tcXHUwMDc5XFx1MjRFOFxcdUZGNTlcXHUxRUYzXFx1MDBGRFxcdTAxNzdcXHUxRUY5XFx1MDIzM1xcdTFFOEZcXHUwMEZGXFx1MUVGN1xcdTFFOTlcXHUxRUY1XFx1MDFCNFxcdTAyNEZcXHUxRUZGXS9nIH0sIHsgJ2Jhc2UnOiAneicsICdsZXR0ZXJzJzogL1tcXHUwMDdBXFx1MjRFOVxcdUZGNUFcXHUwMTdBXFx1MUU5MVxcdTAxN0NcXHUwMTdFXFx1MUU5M1xcdTFFOTVcXHUwMUI2XFx1MDIyNVxcdTAyNDBcXHUyQzZDXFx1QTc2M10vZyB9XTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaXBEaWFjcml0aWNzKHN0cikge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWFwLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRzdHIgPSBzdHIucmVwbGFjZShtYXBbaV0ubGV0dGVycywgbWFwW2ldLmJhc2UpO1xuXHRcdH1cblx0XHRyZXR1cm4gc3RyO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMualF1ZXJ5ID0gZXhwb3J0cy5hbmltYXRpb24gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdEFkZG9uc1VwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9yZWFjdEFkZG9uc1VwZGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1VwZGF0ZSk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9hbmltYXRpb25NaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9hbmltYXRpb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmltYXRpb25NaXhpbik7XG5cdFxuXHR2YXIgX2pRdWVyeU1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdFxuXHR2YXIgX2pRdWVyeU1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2pRdWVyeU1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHZhciBUb2FzdE1lc3NhZ2VTcGVjID0ge1xuXHQgIGRpc3BsYXlOYW1lOiBcIlRvYXN0TWVzc2FnZVwiLFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHZhciBpY29uQ2xhc3NOYW1lcyA9IHtcblx0ICAgICAgZXJyb3I6IFwidG9hc3QtZXJyb3JcIixcblx0ICAgICAgaW5mbzogXCJ0b2FzdC1pbmZvXCIsXG5cdCAgICAgIHN1Y2Nlc3M6IFwidG9hc3Qtc3VjY2Vzc1wiLFxuXHQgICAgICB3YXJuaW5nOiBcInRvYXN0LXdhcm5pbmdcIlxuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBjbGFzc05hbWU6IFwidG9hc3RcIixcblx0ICAgICAgaWNvbkNsYXNzTmFtZXM6IGljb25DbGFzc05hbWVzLFxuXHQgICAgICB0aXRsZUNsYXNzTmFtZTogXCJ0b2FzdC10aXRsZVwiLFxuXHQgICAgICBtZXNzYWdlQ2xhc3NOYW1lOiBcInRvYXN0LW1lc3NhZ2VcIixcblx0ICAgICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuXHQgICAgICBjbG9zZUJ1dHRvbjogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0ICBoYW5kbGVPbkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVPbkNsaWNrKGV2ZW50KSB7XG5cdCAgICB0aGlzLnByb3BzLmhhbmRsZU9uQ2xpY2soZXZlbnQpO1xuXHQgICAgaWYgKHRoaXMucHJvcHMudGFwVG9EaXNtaXNzKSB7XG5cdCAgICAgIHRoaXMuaGlkZVRvYXN0KHRydWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgX2hhbmRsZV9jbG9zZV9idXR0b25fY2xpY2s6IGZ1bmN0aW9uIF9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrKGV2ZW50KSB7XG5cdCAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIHRoaXMuaGlkZVRvYXN0KHRydWUpO1xuXHQgIH0sXG5cdCAgX2hhbmRsZV9yZW1vdmU6IGZ1bmN0aW9uIF9oYW5kbGVfcmVtb3ZlKCkge1xuXHQgICAgdGhpcy5wcm9wcy5oYW5kbGVSZW1vdmUodGhpcy5wcm9wcy50b2FzdElkKTtcblx0ICB9LFxuXHQgIF9yZW5kZXJfY2xvc2VfYnV0dG9uOiBmdW5jdGlvbiBfcmVuZGVyX2Nsb3NlX2J1dHRvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLmNsb3NlQnV0dG9uID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuXHQgICAgICBjbGFzc05hbWU6IFwidG9hc3QtY2xvc2UtYnV0dG9uXCIsIHJvbGU6IFwiYnV0dG9uXCIsXG5cdCAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZV9jbG9zZV9idXR0b25fY2xpY2ssXG5cdCAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogXCImdGltZXM7XCIgfVxuXHQgICAgfSkgOiBmYWxzZTtcblx0ICB9LFxuXHQgIF9yZW5kZXJfdGl0bGVfZWxlbWVudDogZnVuY3Rpb24gX3JlbmRlcl90aXRsZV9lbGVtZW50KCkge1xuXHQgICAgcmV0dXJuIHRoaXMucHJvcHMudGl0bGUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgXCJkaXZcIixcblx0ICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMudGl0bGVDbGFzc05hbWUgfSxcblx0ICAgICAgdGhpcy5wcm9wcy50aXRsZVxuXHQgICAgKSA6IGZhbHNlO1xuXHQgIH0sXG5cdCAgX3JlbmRlcl9tZXNzYWdlX2VsZW1lbnQ6IGZ1bmN0aW9uIF9yZW5kZXJfbWVzc2FnZV9lbGVtZW50KCkge1xuXHQgICAgcmV0dXJuIHRoaXMucHJvcHMubWVzc2FnZSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBcImRpdlwiLFxuXHQgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5tZXNzYWdlQ2xhc3NOYW1lIH0sXG5cdCAgICAgIHRoaXMucHJvcHMubWVzc2FnZVxuXHQgICAgKSA6IGZhbHNlO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IHRoaXMucHJvcHMuaWNvbkNsYXNzTmFtZSB8fCB0aGlzLnByb3BzLmljb25DbGFzc05hbWVzW3RoaXMucHJvcHMudHlwZV07XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBcImRpdlwiLFxuXHQgICAgICB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKHRoaXMucHJvcHMuY2xhc3NOYW1lLCBpY29uQ2xhc3NOYW1lKSxcblx0ICAgICAgICBzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZU9uQ2xpY2ssXG5cdCAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIsXG5cdCAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmVcblx0ICAgICAgfSxcblx0ICAgICAgdGhpcy5fcmVuZGVyX2Nsb3NlX2J1dHRvbigpLFxuXHQgICAgICB0aGlzLl9yZW5kZXJfdGl0bGVfZWxlbWVudCgpLFxuXHQgICAgICB0aGlzLl9yZW5kZXJfbWVzc2FnZV9lbGVtZW50KClcblx0ICAgICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIGFuaW1hdGlvbiA9IGV4cG9ydHMuYW5pbWF0aW9uID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKCgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKFRvYXN0TWVzc2FnZVNwZWMsIHtcblx0ICBkaXNwbGF5TmFtZTogeyAkc2V0OiBcIlRvYXN0TWVzc2FnZS5hbmltYXRpb25cIiB9LFxuXHQgIG1peGluczogeyAkc2V0OiBbX2FuaW1hdGlvbk1peGluMi5kZWZhdWx0XSB9XG5cdH0pKTtcblx0XG5cdHZhciBqUXVlcnkgPSBleHBvcnRzLmpRdWVyeSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcygoMCwgX3JlYWN0QWRkb25zVXBkYXRlMi5kZWZhdWx0KShUb2FzdE1lc3NhZ2VTcGVjLCB7XG5cdCAgZGlzcGxheU5hbWU6IHsgJHNldDogXCJUb2FzdE1lc3NhZ2UualF1ZXJ5XCIgfSxcblx0ICBtaXhpbnM6IHsgJHNldDogW19qUXVlcnlNaXhpbjIuZGVmYXVsdF0gfVxuXHR9KSk7XG5cdFxuXHQvKlxuXHQgKiBhc3NpZ24gZGVmYXVsdCBub29wIGZ1bmN0aW9uc1xuXHQgKi9cblx0VG9hc3RNZXNzYWdlU3BlYy5oYW5kbGVNb3VzZUVudGVyID0gbm9vcDtcblx0VG9hc3RNZXNzYWdlU3BlYy5oYW5kbGVNb3VzZUxlYXZlID0gbm9vcDtcblx0VG9hc3RNZXNzYWdlU3BlYy5oaWRlVG9hc3QgPSBub29wO1xuXHRcblx0dmFyIFRvYXN0TWVzc2FnZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyhUb2FzdE1lc3NhZ2VTcGVjKTtcblx0XG5cdFRvYXN0TWVzc2FnZS5hbmltYXRpb24gPSBhbmltYXRpb247XG5cdFRvYXN0TWVzc2FnZS5qUXVlcnkgPSBqUXVlcnk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUb2FzdE1lc3NhZ2U7XG5cbi8qKiovIH0sXG4vKiAxMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cblx0Ly9cblx0Ly8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcblx0Ly8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuXHQvLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcblx0Ly8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuXHQvLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG5cdC8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuXHQvLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcblx0Ly9cblx0Ly8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcblx0Ly8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cdC8vXG5cdC8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncblx0Ly8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuXHQvLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG5cdC8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuXHQvLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcblx0Ly8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuXHQvLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXHRcblx0ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuXHQgIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcblx0ICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXHRcblx0Ly8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5cdEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblx0XG5cdC8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuXHQvLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuXHRFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXHRcblx0Ly8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG5cdC8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcblx0ICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuXHQgICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcblx0ICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuXHQgIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzKVxuXHQgICAgdGhpcy5fZXZlbnRzID0ge307XG5cdFxuXHQgIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cblx0ICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuXHQgICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcblx0ICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcblx0ICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG5cdCAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG5cdCAgICAgIH1cblx0ICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0XG5cdCAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuXHQgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdCAgICAgIC8vIGZhc3QgY2FzZXNcblx0ICAgICAgY2FzZSAxOlxuXHQgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgY2FzZSAyOlxuXHQgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlIDM6XG5cdCAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgLy8gc2xvd2VyXG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdCAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG5cdCAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0ICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcblx0ICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG5cdCAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG5cdCAgdmFyIG07XG5cdFxuXHQgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG5cdCAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50cylcblx0ICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXHRcblx0ICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuXHQgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cblx0ICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuXHQgICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG5cdCAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuXHQgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcblx0ICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuXHQgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG5cdCAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcblx0ICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cblx0ICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0ICBlbHNlXG5cdCAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cblx0ICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblx0XG5cdCAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcblx0ICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuXHQgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG5cdCAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcblx0ICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG5cdCAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuXHQgICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG5cdCAgICAgICAgY29uc29sZS50cmFjZSgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcblx0ICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuXHQgICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XG5cdCAgdmFyIGZpcmVkID0gZmFsc2U7XG5cdFxuXHQgIGZ1bmN0aW9uIGcoKSB7XG5cdCAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXHRcblx0ICAgIGlmICghZmlyZWQpIHtcblx0ICAgICAgZmlyZWQgPSB0cnVlO1xuXHQgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuXHQgIHRoaXMub24odHlwZSwgZyk7XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0Ly8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG5cdCAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cdFxuXHQgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG5cdCAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdFxuXHQgIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdCAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG5cdCAgcG9zaXRpb24gPSAtMTtcblx0XG5cdCAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG5cdCAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuXHQgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0ICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG5cdCAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cdFxuXHQgIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcblx0ICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcblx0ICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG5cdCAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcblx0ICAgICAgICBwb3NpdGlvbiA9IGk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAocG9zaXRpb24gPCAwKVxuXHQgICAgICByZXR1cm4gdGhpcztcblx0XG5cdCAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgbGlzdC5sZW5ndGggPSAwO1xuXHQgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG5cdCAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuXHQgIHZhciBrZXksIGxpc3RlbmVycztcblx0XG5cdCAgaWYgKCF0aGlzLl9ldmVudHMpXG5cdCAgICByZXR1cm4gdGhpcztcblx0XG5cdCAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcblx0ICAgICAgdGhpcy5fZXZlbnRzID0ge307XG5cdCAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG5cdCAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9XG5cdFxuXHQgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuXHQgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG5cdCAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcblx0ICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG5cdCAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcblx0ICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfVxuXHRcblx0ICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdFxuXHQgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcblx0ICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcblx0ICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuXHQgICAgLy8gTElGTyBvcmRlclxuXHQgICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG5cdCAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG5cdCAgfVxuXHQgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG5cdCAgdmFyIHJldDtcblx0ICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuXHQgICAgcmV0ID0gW107XG5cdCAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuXHQgICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG5cdCAgZWxzZVxuXHQgICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG5cdCAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0ICBpZiAodGhpcy5fZXZlbnRzKSB7XG5cdCAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0XG5cdCAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcblx0ICAgICAgcmV0dXJuIDE7XG5cdCAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuXHQgICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG5cdCAgfVxuXHQgIHJldHVybiAwO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG5cdCAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuXHQgIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG5cdCAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0XG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVIZWFkZXIpO1xuXHRcblx0dmFyIF9UYWJsZUJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0XG5cdHZhciBfVGFibGVCb2R5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlQm9keSk7XG5cdFxuXHR2YXIgX3BhZ2luYXRpb25QYWdpbmF0aW9uTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFnaW5hdGlvblBhZ2luYXRpb25MaXN0KTtcblx0XG5cdHZhciBfdG9vbGJhclRvb2xCYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0XG5cdHZhciBfdG9vbGJhclRvb2xCYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9vbGJhclRvb2xCYXIpO1xuXHRcblx0dmFyIF9UYWJsZUZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9UYWJsZUZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUZpbHRlcik7XG5cdFxuXHR2YXIgX3N0b3JlVGFibGVEYXRhU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9jc3ZfZXhwb3J0X3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfY3N2X2V4cG9ydF91dGlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nzdl9leHBvcnRfdXRpbCk7XG5cdFxuXHR2YXIgX0ZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIEJvb3RzdHJhcFRhYmxlID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoQm9vdHN0cmFwVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEJvb3RzdHJhcFRhYmxlKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb3RzdHJhcFRhYmxlKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQm9vdHN0cmFwVGFibGUucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdFxuXHQgICAgICAgIHRoaXMuX3Njcm9sbEhlYWRlciA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnJlZnMuaGVhZGVyLnJlZnMuY29udGFpbmVyLnNjcm9sbExlZnQgPSBlLmN1cnJlbnRUYXJnZXQuc2Nyb2xsTGVmdDtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHRhYmxlSGVhZGVyRG9tID0gX3RoaXMucmVmcy5oZWFkZXIucmVmcy5jb250YWluZXIuY2hpbGROb2Rlc1swXTtcblx0ICAgICAgICAgICAgdmFyIHRhYmxlQm9keURvbSA9IF90aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdO1xuXHQgICAgICAgICAgICBpZiAodGFibGVIZWFkZXJEb20ub2Zmc2V0V2lkdGggIT09IHRhYmxlQm9keURvbS5vZmZzZXRXaWR0aCkge1xuXHQgICAgICAgICAgICAgICAgdGFibGVIZWFkZXJEb20uc3R5bGUud2lkdGggPSB0YWJsZUJvZHlEb20ub2Zmc2V0V2lkdGggKyBcInB4XCI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGhlYWRlclByb3BzID0gX3RoaXMucmVmcy5ib2R5LmdldEJvZHlIZWFkZXJEb21Qcm9wKCk7XG5cdCAgICAgICAgICAgIF90aGlzLnJlZnMuaGVhZGVyLmZpdEhlYWRlcihoZWFkZXJQcm9wcywgX3RoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLnNjcm9sbEhlaWdodCA+IF90aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHRoaXMuX2F0dGFjaENlbGxFZGl0RnVuYygpO1xuXHRcblx0ICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5kYXRhKSkge1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlID0gbmV3IF9zdG9yZVRhYmxlRGF0YVN0b3JlLlRhYmxlRGF0YVN0b3JlKHRoaXMucHJvcHMuZGF0YS5nZXREYXRhKCkpO1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmRhdGEuY2xlYXIoKTtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0RGF0YShkYXRhKTtcblx0ICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICBkYXRhOiBfdGhpcy5nZXRUYWJsZURhdGEoKVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBjb3B5ID0gdGhpcy5wcm9wcy5kYXRhLnNsaWNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgX3N0b3JlVGFibGVEYXRhU3RvcmUuVGFibGVEYXRhU3RvcmUoY29weSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmluaXRUYWJsZSh0aGlzLnByb3BzKTtcblx0XG5cdCAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7XG5cdCAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IF90aGlzO1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuZmlsdGVyLm9uKCdvbkZpbHRlckNoYW5nZScsIGZ1bmN0aW9uIChjdXJyZW50RmlsdGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVGaWx0ZXJEYXRhKGN1cnJlbnRGaWx0ZXIpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cgJiYgdGhpcy5wcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQpIHtcblx0ICAgICAgICAgICAgdmFyIGNvcHkgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZC5zbGljZSgpO1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KGNvcHkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgZGF0YTogdGhpcy5nZXRUYWJsZURhdGEoKSxcblx0ICAgICAgICAgICAgY3VyclBhZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5wYWdlIHx8IDEsXG5cdCAgICAgICAgICAgIHNpemVQZXJQYWdlOiB0aGlzLnByb3BzLm9wdGlvbnMuc2l6ZVBlclBhZ2UgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlNJWkVfUEVSX1BBR0VfTElTVFswXSxcblx0ICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQm9vdHN0cmFwVGFibGUsIFt7XG5cdCAgICAgICAga2V5OiAnaW5pdFRhYmxlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFRhYmxlKHByb3BzKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGtleUZpZWxkID0gcHJvcHMua2V5RmllbGQ7XG5cdFxuXHQgICAgICAgICAgICB2YXIgaXNLZXlGaWVsZERlZmluZWQgPSB0eXBlb2Yga2V5RmllbGQgPT09ICdzdHJpbmcnICYmIGtleUZpZWxkLmxlbmd0aDtcblx0ICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucHJvcHMuaXNLZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoa2V5RmllbGQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJFcnJvci4gTXVsdGlwbGUga2V5IGNvbHVtbiBiZSBkZXRlY3RlZCBpbiBUYWJsZUhlYWRlckNvbHVtbi5cIjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAga2V5RmllbGQgPSBjb2x1bW4ucHJvcHMuZGF0YUZpZWxkO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wcm9wcy5maWx0ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBhIGNvbHVtbiBjb250YWlucyBhIGZpbHRlclxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmZpbHRlcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCB0aW1lIGNyZWF0ZSB0aGUgZmlsdGVyIG9uIHRoZSBCb290c3RyYXBUYWJsZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZmlsdGVyID0gbmV3IF9GaWx0ZXIuRmlsdGVyKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdGhlIGZpbHRlciB0byBjb2x1bW4gd2l0aCBmaWx0ZXJcblx0ICAgICAgICAgICAgICAgICAgICBjb2x1bW4ucHJvcHMuZmlsdGVyLmVtaXR0ZXIgPSBfdGhpczIuZmlsdGVyO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LCB0aGlzKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBjb2xJbmZvcyA9IHRoaXMuZ2V0Q29sdW1uc0Rlc2NyaXB0aW9uKHByb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIpIHtcblx0ICAgICAgICAgICAgICAgIHByZXZbY3Vyci5uYW1lXSA9IGN1cnI7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcblx0ICAgICAgICAgICAgfSwge30pO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCFpc0tleUZpZWxkRGVmaW5lZCAmJiAha2V5RmllbGQpIHRocm93ICdFcnJvci4gTm8gYW55IGtleSBjb2x1bW4gZGVmaW5lZCBpbiBUYWJsZUhlYWRlckNvbHVtbi5cXG4gICAgICAgICAgICBVc2UgXFwnaXNLZXk9e3RydWV9XFwnIHRvIHNwZWNpZnkgYSB1bmlxdWUgY29sdW1uIGFmdGVyIHZlcnNpb24gMC41LjQuJztcblx0XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0UHJvcHMoe1xuXHQgICAgICAgICAgICAgICAgaXNQYWdpbmF0aW9uOiBwcm9wcy5wYWdpbmF0aW9uLFxuXHQgICAgICAgICAgICAgICAga2V5RmllbGQ6IGtleUZpZWxkLFxuXHQgICAgICAgICAgICAgICAgY29sSW5mb3M6IGNvbEluZm9zLFxuXHQgICAgICAgICAgICAgICAgbXVsdGlDb2x1bW5TZWFyY2g6IHByb3BzLm11bHRpQ29sdW1uU2VhcmNoLFxuXHQgICAgICAgICAgICAgICAgcmVtb3RlOiB0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRUYWJsZURhdGEnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUYWJsZURhdGEoKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblx0XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuc29ydE5hbWUgJiYgdGhpcy5wcm9wcy5vcHRpb25zLnNvcnRPcmRlcikgdGhpcy5zdG9yZS5zb3J0KHRoaXMucHJvcHMub3B0aW9ucy5zb3J0T3JkZXIsIHRoaXMucHJvcHMub3B0aW9ucy5zb3J0TmFtZSk7XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcGFnZSA9IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICBzaXplUGVyUGFnZSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlLmlzQ2hhbmdlZFBhZ2UoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlID0gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlID0gdGhpcy5zdGF0ZS5jdXJyUGFnZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2UgPSB0aGlzLnByb3BzLm9wdGlvbnMuc2l6ZVBlclBhZ2UgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlNJWkVfUEVSX1BBR0VfTElTVFswXTtcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlID0gdGhpcy5wcm9wcy5vcHRpb25zLnBhZ2UgfHwgMTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldENvbHVtbnNEZXNjcmlwdGlvbicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbHVtbnNEZXNjcmlwdGlvbihfcmVmKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICAgICAgbmFtZTogY29sdW1uLnByb3BzLmRhdGFGaWVsZCxcblx0ICAgICAgICAgICAgICAgICAgICBhbGlnbjogY29sdW1uLnByb3BzLmRhdGFBbGlnbixcblx0ICAgICAgICAgICAgICAgICAgICBzb3J0OiBjb2x1bW4ucHJvcHMuZGF0YVNvcnQsXG5cdCAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBjb2x1bW4ucHJvcHMuZGF0YUZvcm1hdCxcblx0ICAgICAgICAgICAgICAgICAgICBmb3JtYXRFeHRyYURhdGE6IGNvbHVtbi5wcm9wcy5mb3JtYXRFeHRyYURhdGEsXG5cdCAgICAgICAgICAgICAgICAgICAgZmlsdGVyRm9ybWF0dGVkOiBjb2x1bW4ucHJvcHMuZmlsdGVyRm9ybWF0dGVkLFxuXHQgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBjb2x1bW4ucHJvcHMuZWRpdGFibGUsXG5cdCAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiBjb2x1bW4ucHJvcHMuaGlkZGVuLFxuXHQgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY29sdW1uLnByb3BzLmNvbHVtbkNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICB3aWR0aDogY29sdW1uLnByb3BzLndpZHRoLFxuXHQgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNvbHVtbi5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICAgICAgICBzb3J0RnVuYzogY29sdW1uLnByb3BzLnNvcnRGdW5jLFxuXHQgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpXG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuaW5pdFRhYmxlKG5leHRQcm9wcyk7XG5cdCAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRQcm9wcy5kYXRhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXREYXRhKG5leHRQcm9wcy5kYXRhLnNsaWNlKCkpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHBhZ2luYXRpb25Eb20gPSB0aGlzLnJlZnMucGFnaW5hdGlvbjtcblx0ICAgICAgICAgICAgICAgIHZhciBwYWdlID0gcGFnaW5hdGlvbkRvbSAmJiBwYWdpbmF0aW9uRG9tLmdldEN1cnJlbnRQYWdlKCkgfHwgbmV4dFByb3BzLm9wdGlvbnMucGFnZSB8fCAxO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNpemVQZXJQYWdlID0gcGFnaW5hdGlvbkRvbSAmJiBwYWdpbmF0aW9uRG9tLmdldFNpemVQZXJQYWdlKCkgfHwgbmV4dFByb3BzLm9wdGlvbnMuc2l6ZVBlclBhZ2UgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlNJWkVfUEVSX1BBR0VfTElTVFswXTtcblx0ICAgICAgICAgICAgICAgIC8vICMxMjVcblx0ICAgICAgICAgICAgICAgIGlmIChwYWdlID4gTWF0aC5jZWlsKG5leHRQcm9wcy5kYXRhLmxlbmd0aCAvIHNpemVQZXJQYWdlKSkgcGFnZSA9IDE7XG5cdCAgICAgICAgICAgICAgICB2YXIgc29ydEluZm8gPSB0aGlzLnN0b3JlLmdldFNvcnRJbmZvKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc29ydEZpZWxkID0gbmV4dFByb3BzLm9wdGlvbnMuc29ydE5hbWUgfHwgKHNvcnRJbmZvID8gc29ydEluZm8uc29ydEZpZWxkIDogdW5kZWZpbmVkKTtcblx0ICAgICAgICAgICAgICAgIHZhciBzb3J0T3JkZXIgPSBuZXh0UHJvcHMub3B0aW9ucy5zb3J0T3JkZXIgfHwgKHNvcnRJbmZvID8gc29ydEluZm8ub3JkZXIgOiB1bmRlZmluZWQpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHNvcnRGaWVsZCAmJiBzb3J0T3JkZXIpIHRoaXMuc3RvcmUuc29ydChzb3J0T3JkZXIsIHNvcnRGaWVsZCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgICAgICAgICAgIGN1cnJQYWdlOiBwYWdlLFxuXHQgICAgICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlOiBzaXplUGVyUGFnZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5zZWxlY3RSb3cgJiYgbmV4dFByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZCkge1xuXHQgICAgICAgICAgICAgICAgLy9zZXQgZGVmYXVsdCBzZWxlY3Qgcm93cyB0byBzdG9yZS5cblx0ICAgICAgICAgICAgICAgIHZhciBjb3B5ID0gbmV4dFByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZC5zbGljZSgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjb3B5KTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogY29weVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGgoKTtcblx0ICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKTtcblx0ICAgICAgICAgICAgdGhpcy5yZWZzLmJvZHkucmVmcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fc2Nyb2xsSGVhZGVyKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKTtcblx0ICAgICAgICAgICAgdGhpcy5yZWZzLmJvZHkucmVmcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fc2Nyb2xsSGVhZGVyKTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmZpbHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJvbkZpbHRlckNoYW5nZVwiKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX2F0dGFjaENlbGxFZGl0RnVuYygpO1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyVGFibGVDb21wbGV0ZSkgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyVGFibGVDb21wbGV0ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdfYXR0YWNoQ2VsbEVkaXRGdW5jJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2F0dGFjaENlbGxFZGl0RnVuYygpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2VsbEVkaXQuX19vbkNvbXBsZXRlRWRpdF9fID0gdGhpcy5oYW5kbGVFZGl0Q2VsbC5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSAhPT0gX0NvbnN0MlsnZGVmYXVsdCddLkNFTExfRURJVF9OT05FKSB0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0ID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogUmV0dXJucyB0cnVlIGlmIGluIHRoZSBjdXJyZW50IGNvbmZpZ3VyYXRpb24sXHJcblx0ICAgICAgICAgKiB0aGUgZGF0YWdyaWQgc2hvdWxkIGxvYWQgaXRzIGRhdGEgcmVtb3RlbHkuXHJcblx0ICAgICAgICAgKlxyXG5cdCAgICAgICAgICogQHBhcmFtICB7T2JqZWN0fSAgW3Byb3BzXSBPcHRpb25hbC4gSWYgbm90IGdpdmVuLCB0aGlzLnByb3BzIHdpbGwgYmUgdXNlZFxyXG5cdCAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuXHQgICAgICAgICAqL1xuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2lzUmVtb3RlRGF0YVNvdXJjZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzUmVtb3RlRGF0YVNvdXJjZShwcm9wcykge1xuXHQgICAgICAgICAgICByZXR1cm4gKHByb3BzIHx8IHRoaXMucHJvcHMpLnJlbW90ZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcblx0ICAgICAgICAgICAgdmFyIHRhYmxlQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwicmVhY3QtYnMtdGFibGVcIik7XG5cdCAgICAgICAgICAgIHZhciBjaGlsZHJlbnMgPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXHQgICAgICAgICAgICB2YXIgc3R5bGUgPSB7XG5cdCAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuaGVpZ2h0LFxuXHQgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiB0aGlzLnByb3BzLm1heEhlaWdodFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpIHtcblx0ICAgICAgICAgICAgICAgIGNoaWxkcmVucyA9IFt0aGlzLnByb3BzLmNoaWxkcmVuXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMuZ2V0Q29sdW1uc0Rlc2NyaXB0aW9uKHRoaXMucHJvcHMpO1xuXHQgICAgICAgICAgICB2YXIgc29ydEluZm8gPSB0aGlzLnN0b3JlLmdldFNvcnRJbmZvKCk7XG5cdCAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gdGhpcy5yZW5kZXJQYWdpbmF0aW9uKCk7XG5cdCAgICAgICAgICAgIHZhciB0b29sQmFyID0gdGhpcy5yZW5kZXJUb29sQmFyKCk7XG5cdCAgICAgICAgICAgIHZhciB0YWJsZUZpbHRlciA9IHRoaXMucmVuZGVyVGFibGVGaWx0ZXIoY29sdW1ucyk7XG5cdCAgICAgICAgICAgIHZhciBpc1NlbGVjdEFsbCA9IHRoaXMuaXNTZWxlY3RBbGwoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JlYWN0LWJzLWNvbnRhaW5lcicsIHJlZjogJ3RhYmxlJyB9LFxuXHQgICAgICAgICAgICAgICAgdG9vbEJhcixcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncmVhY3QtYnMtdGFibGUtY29udGFpbmVyJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9UYWJsZUhlYWRlcjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAnaGVhZGVyJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1NlbGVjdFR5cGU6IHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlU2VsZWN0Q29sdW1uOiB0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydE5hbWU6IHNvcnRJbmZvID8gc29ydEluZm8uc29ydEZpZWxkIDogdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydE9yZGVyOiBzb3J0SW5mbyA/IHNvcnRJbmZvLm9yZGVyIDogdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Tb3J0OiB0aGlzLmhhbmRsZVNvcnQuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0QWxsUm93OiB0aGlzLmhhbmRsZVNlbGVjdEFsbFJvdy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyZWQ6IHRoaXMucHJvcHMuYm9yZGVyZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZWQ6IHRoaXMucHJvcHMuY29uZGVuc2VkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaWx0ZXJlZDogdGhpcy5maWx0ZXIgPyB0cnVlIDogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUlEOiB0aGlzLnByb3BzLnRhYmxlSUQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdEFsbDogaXNTZWxlY3RBbGwgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX1RhYmxlQm9keTJbJ2RlZmF1bHQnXSwge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuaGVpZ2h0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IHRoaXMucHJvcHMubWF4SGVpZ2h0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWY6ICdib2R5Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zdGF0ZS5kYXRhLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0ckNsYXNzTmFtZTogdGhpcy5wcm9wcy50ckNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlZDogdGhpcy5wcm9wcy5zdHJpcGVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJlZDogdGhpcy5wcm9wcy5ib3JkZXJlZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXI6IHRoaXMucHJvcHMuaG92ZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGtleUZpZWxkOiB0aGlzLnN0b3JlLmdldEtleUZpZWxkKCksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRlbnNlZDogdGhpcy5wcm9wcy5jb25kZW5zZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFJvdzogdGhpcy5wcm9wcy5zZWxlY3RSb3csXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxFZGl0OiB0aGlzLnByb3BzLmNlbGxFZGl0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRSb3dLZXlzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvblJvd0NsaWNrOiB0aGlzLmhhbmRsZVJvd0NsaWNrLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uUm93TW91c2VPdmVyOiB0aGlzLmhhbmRsZVJvd01vdXNlT3Zlci5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvblJvd01vdXNlT3V0OiB0aGlzLmhhbmRsZVJvd01vdXNlT3V0LmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0Um93OiB0aGlzLmhhbmRsZVNlbGVjdFJvdy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBub0RhdGFUZXh0OiB0aGlzLnByb3BzLm9wdGlvbnMubm9EYXRhVGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgdGFibGVGaWx0ZXIsXG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2lzU2VsZWN0QWxsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNTZWxlY3RBbGwoKSB7XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0Um93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCk7XG5cdCAgICAgICAgICAgIHZhciBhbGxSb3dLZXlzID0gdGhpcy5zdG9yZS5nZXRBbGxSb3drZXkoKTtcblx0ICAgICAgICAgICAgaWYgKGRlZmF1bHRTZWxlY3RSb3dLZXlzLmxlbmd0aCAhPT0gYWxsUm93S2V5cy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U2VsZWN0Um93S2V5cy5sZW5ndGggPT09IDAgPyBmYWxzZSA6ICdpbmRldGVybWluYXRlJztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NsZWFuU2VsZWN0ZWQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhblNlbGVjdGVkKCkge1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KFtdKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IFtdXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVTb3J0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU29ydChvcmRlciwgc29ydEZpZWxkKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Tb3J0Q2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Tb3J0Q2hhbmdlKHNvcnRGaWVsZCwgb3JkZXIsIHRoaXMucHJvcHMpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zdG9yZS5zb3J0KG9yZGVyLCBzb3J0RmllbGQpLmdldCgpO1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlUGFnaW5hdGlvbkRhdGEnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVQYWdpbmF0aW9uRGF0YShwYWdlLCBzaXplUGVyUGFnZSkge1xuXHQgICAgICAgICAgICB2YXIgb25QYWdlQ2hhbmdlID0gdGhpcy5wcm9wcy5vcHRpb25zLm9uUGFnZUNoYW5nZTtcblx0XG5cdCAgICAgICAgICAgIGlmIChvblBhZ2VDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIG9uUGFnZUNoYW5nZShwYWdlLCBzaXplUGVyUGFnZSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UocGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgIGN1cnJQYWdlOiBwYWdlLFxuXHQgICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2U6IHNpemVQZXJQYWdlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVNb3VzZUxlYXZlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlTGVhdmUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlTGVhdmUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVNb3VzZUVudGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcigpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlRW50ZXIpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlRW50ZXIoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVSb3dNb3VzZU91dCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvd01vdXNlT3V0KHJvdykge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdXQpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3V0KHJvdyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlUm93TW91c2VPdmVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm93TW91c2VPdmVyKHJvdykge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdmVyKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU92ZXIocm93KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVSb3dDbGljaycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvd0NsaWNrKHJvdykge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uUm93Q2xpY2spIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblJvd0NsaWNrKHJvdyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlU2VsZWN0QWxsUm93Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0QWxsUm93KGUpIHtcblx0ICAgICAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZDtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0QWxsKSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdEFsbChpc1NlbGVjdGVkLCBpc1NlbGVjdGVkID8gdGhpcy5zdG9yZS5nZXQoKSA6IFtdKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICd1bmRlZmluZWQnIHx8IHJlc3VsdCAhPT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gdGhpcy5zdG9yZS5nZXRBbGxSb3drZXkoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KHNlbGVjdGVkUm93S2V5cyk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHNlbGVjdGVkUm93S2V5c1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlU2hvd09ubHlTZWxlY3RlZCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNob3dPbmx5U2VsZWN0ZWQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuaWdub3JlTm9uU2VsZWN0ZWQoKTtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgIGN1cnJQYWdlOiAxXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVTZWxlY3RSb3cnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RSb3cocm93LCBpc1NlbGVjdGVkKSB7XG5cdCAgICAgICAgICAgIHZhciBjdXJyU2VsZWN0ZWQgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO1xuXHQgICAgICAgICAgICB2YXIgcm93S2V5ID0gcm93W3RoaXMuc3RvcmUuZ2V0S2V5RmllbGQoKV07XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cub25TZWxlY3QpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0KHJvdywgaXNTZWxlY3RlZCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJyB8fCByZXN1bHQgIT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PT0gX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfU0lOR0xFKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY3VyclNlbGVjdGVkID0gaXNTZWxlY3RlZCA/IFtyb3dLZXldIDogW107XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJTZWxlY3RlZC5wdXNoKHJvd0tleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY3VyclNlbGVjdGVkID0gY3VyclNlbGVjdGVkLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93S2V5ICE9PSBrZXk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KGN1cnJTZWxlY3RlZCk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IGN1cnJTZWxlY3RlZFxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlRWRpdENlbGwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFZGl0Q2VsbChuZXdWYWwsIHJvd0luZGV4LCBjb2xJbmRleCkge1xuXHQgICAgICAgICAgICB2YXIgZmllbGROYW1lID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uQ2hpbGRyZW4uZm9yRWFjaCh0aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaSA9PSBjb2xJbmRleCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZpZWxkTmFtZSA9IGNvbHVtbi5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnN0b3JlLmVkaXQobmV3VmFsLCByb3dJbmRleCwgZmllbGROYW1lKS5nZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5hZnRlclNhdmVDZWxsKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNlbGxFZGl0LmFmdGVyU2F2ZUNlbGwodGhpcy5zdGF0ZS5kYXRhW3Jvd0luZGV4XSwgZmllbGROYW1lLCBuZXdWYWwpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUFkZFJvd0JlZ2luJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQWRkUm93QmVnaW4oKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlZnMuYm9keSkge1xuXHQgICAgICAgICAgICAgICAgLy8gdGhpcy5yZWZzLmJvZHkuY2FuY2VsRWRpdCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUFkZFJvdycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUFkZFJvdyhuZXdPYmopIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgbXNnID0gbnVsbCxcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgdmFyIGJlZm9yZVByb21pc2UgPSB0aGlzLnByb3BzLm9wdGlvbnMuYmVmb3JlSW5zZXJ0Um93ID8gdGhpcy5wcm9wcy5vcHRpb25zLmJlZm9yZUluc2VydFJvdyhuZXdPYmopIDogbmV3T2JqO1xuXHRcblx0ICAgICAgICAgICAgLy9leGVjdXRlIGJlZm9yZSBhZGQgcm93XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJlZm9yZVByb21pc2UpLnRoZW4oZnVuY3Rpb24gKG1zZykge1xuXHQgICAgICAgICAgICAgICAgbmV3T2JqID0gbXNnO1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3RvcmUuYWRkKG5ld09iaik7XG5cdCAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy9pZiBwYWdpbmF0aW9uIGlzIGVuYWJsZWQgYW5kIGluc2VydCByb3cgYmUgdHJpZ2dlciwgY2hhbmdlIHRvIGxhc3QgcGFnZVxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBzaXplUGVyUGFnZSA9IF90aGlzMy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJMYXN0UGFnZSA9IE1hdGguY2VpbChfdGhpczMuc3RvcmUuZ2V0RGF0YU51bSgpIC8gc2l6ZVBlclBhZ2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF90aGlzMy5zdG9yZS5wYWdlKGN1cnJMYXN0UGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY3VyclBhZ2U6IGN1cnJMYXN0UGFnZVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfdGhpczMuc3RvcmUuZ2V0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5vcHRpb25zLmFmdGVySW5zZXJ0Um93KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9wdGlvbnMuYWZ0ZXJJbnNlcnRSb3cobmV3T2JqKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocikge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFyLm9rKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhyb3cgcjtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZS5qc29uKCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRTaXplUGVyUGFnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpemVQZXJQYWdlKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0Q3VycmVudFBhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZSgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VyclBhZ2U7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZURyb3BSb3cnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEcm9wUm93KHJvd0tleXMpIHtcblx0ICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgICAgICAgICB2YXIgZHJvcFJvd0tleXMgPSByb3dLZXlzID8gcm93S2V5cyA6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCk7XG5cdCAgICAgICAgICAgIC8vYWRkIGNvbmZpcm0gYmVmb3JlIHRoZSBkZWxldGUgYWN0aW9uIGlmIHRoYXQgb3B0aW9uIGlzIHNldC5cblx0ICAgICAgICAgICAgaWYgKGRyb3BSb3dLZXlzICYmIGRyb3BSb3dLZXlzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuaGFuZGxlQ29uZmlybURlbGV0ZVJvdykge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5oYW5kbGVDb25maXJtRGVsZXRlUm93KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5kZWxldGVSb3coZHJvcFJvd0tleXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgd2FudCBkZWxldGU/JykpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZGVsZXRlUm93Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUm93KGRyb3BSb3dLZXlzKSB7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnJlbW92ZShkcm9wUm93S2V5cyk7IC8vcmVtb3ZlIHNlbGVjdGVkIFJvd1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KFtdKTsgLy9jbGVhciBzZWxlY3RlZCByb3cga2V5XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2l6ZVBlclBhZ2UgPSB0aGlzLnN0YXRlLnNpemVQZXJQYWdlO1xuXHQgICAgICAgICAgICAgICAgdmFyIGN1cnJQYWdlID0gdGhpcy5zdGF0ZS5jdXJyUGFnZTtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgY3Vyckxhc3RQYWdlID0gTWF0aC5jZWlsKHRoaXMuc3RvcmUuZ2V0RGF0YU51bSgpIC8gc2l6ZVBlclBhZ2UpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGN1cnJQYWdlID4gY3Vyckxhc3RQYWdlKSBjdXJyUGFnZSA9IGN1cnJMYXN0UGFnZTtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShjdXJyUGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuXHQgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKSxcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyUGFnZTogY3VyclBhZ2Vcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKClcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJEZWxldGVSb3cpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlRmlsdGVyRGF0YScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlckRhdGEoZmlsdGVyT2JqKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuZmlsdGVyKGZpbHRlck9iaik7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBzaXplUGVyUGFnZSA9IHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHNpemVQZXJQYWdlKS5nZXQoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckNvbHVtbkZpbHRlcikgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyQ29sdW1uRmlsdGVyKGZpbHRlck9iaiwgdGhpcy5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkpO1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgIGN1cnJQYWdlOiAxXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVFeHBvcnRDU1YnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFeHBvcnRDU1YoKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKTtcblx0ICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wcm9wcy5oaWRkZW4gPT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGNvbHVtbi5wcm9wcy5kYXRhRmllbGQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgKDAsIF9jc3ZfZXhwb3J0X3V0aWwyWydkZWZhdWx0J10pKHJlc3VsdCwga2V5cywgdGhpcy5wcm9wcy5jc3ZGaWxlTmFtZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZVNlYXJjaCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaChzZWFyY2hUZXh0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuc2VhcmNoKHNlYXJjaFRleHQpO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2l6ZVBlclBhZ2UgPSB0aGlzLnN0YXRlLnNpemVQZXJQYWdlO1xuXHRcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZSgxLCBzaXplUGVyUGFnZSkuZ2V0KCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJTZWFyY2gpIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclNlYXJjaChzZWFyY2hUZXh0LCB0aGlzLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKSk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuXHQgICAgICAgICAgICAgICAgY3VyclBhZ2U6IDFcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlclBhZ2luYXRpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQYWdpbmF0aW9uKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGF0YVNpemUgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGFTaXplID0gdGhpcy5wcm9wcy5mZXRjaEluZm8uZGF0YVRvdGFsU2l6ZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YVNpemUgPSB0aGlzLnN0b3JlLmdldERhdGFOdW0oKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RhYmxlLWZvb3Rlci1wYWdpbmF0aW9uJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAncGFnaW5hdGlvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJQYWdlOiB0aGlzLnN0YXRlLmN1cnJQYWdlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQYWdlOiB0aGlzLmhhbmRsZVBhZ2luYXRpb25EYXRhLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlOiB0aGlzLnN0YXRlLnNpemVQZXJQYWdlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzaXplUGVyUGFnZUxpc3Q6IHRoaXMucHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZUxpc3QgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlNJWkVfUEVSX1BBR0VfTElTVCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvblNpemU6IHRoaXMucHJvcHMub3B0aW9ucy5wYWdpbmF0aW9uU2l6ZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uUEFHSU5BVElPTl9TSVpFLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGU6IHRoaXMuaXNSZW1vdGVEYXRhU291cmNlKCksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTaXplOiBkYXRhU2l6ZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q6IHRoaXMucHJvcHMub3B0aW9ucy5vblNpemVQZXJQYWdlTGlzdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJlUGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLnByZVBhZ2UgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlBSRV9QQUdFLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLm5leHRQYWdlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5ORVhUX1BBR0UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLmZpcnN0UGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uRklSU1RfUEFHRSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5sYXN0UGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uTEFTVF9QQUdFXG5cdCAgICAgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlclRvb2xCYXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUb29sQmFyKCkge1xuXHQgICAgICAgICAgICB2YXIgZW5hYmxlU2hvd09ubHlTZWxlY3RlZCA9IHRoaXMucHJvcHMuc2VsZWN0Um93ICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LnNob3dPbmx5U2VsZWN0ZWQ7XG5cdCAgICAgICAgICAgIGlmIChlbmFibGVTaG93T25seVNlbGVjdGVkIHx8IHRoaXMucHJvcHMuaW5zZXJ0Um93IHx8IHRoaXMucHJvcHMuZGVsZXRlUm93IHx8IHRoaXMucHJvcHMuc2VhcmNoIHx8IHRoaXMucHJvcHMuZXhwb3J0Q1NWKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29sdW1ucyA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29sdW1ucyA9IHRoaXMucHJvcHMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gY29sdW1uLnByb3BzO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogcHJvcHMuZGF0YUZpZWxkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9WYWx1ZTogcHJvcHMuYXV0b1ZhbHVlIHx8IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgY3JlYXRlIGVkaXRvciwgbm8gcGFyYW1zIGZvciBjb2x1bW4uZWRpdGFibGUoKSBpbmRpY2F0ZSB0aGF0IGVkaXRvciBmb3IgbmV3IHJvd1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHByb3BzLmVkaXRhYmxlICYmIHR5cGVvZiBwcm9wcy5lZGl0YWJsZSA9PT0gXCJmdW5jdGlvblwiID8gcHJvcHMuZWRpdGFibGUoKSA6IHByb3BzLmVkaXRhYmxlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuSW5Qb3B1cDogcHJvcHMuaGlkZGVuSW5Qb3B1cCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcHJvcHMuZGF0YUZvcm1hdCA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5kYXRhRm9ybWF0KHZhbHVlLCBudWxsLCBwcm9wcy5mb3JtYXRFeHRyYURhdGEpLnJlcGxhY2UoLzwuKj8+L2csICcnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gW3tcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuZGF0YUZpZWxkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5lZGl0YWJsZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuSW5Qb3B1cDogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5oaWRkZW5JblBvcHVwXG5cdCAgICAgICAgICAgICAgICAgICAgfV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0b29sLWJhcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfdG9vbGJhclRvb2xCYXIyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWFyY2g6IHRoaXMucHJvcHMub3B0aW9ucy5jbGVhclNlYXJjaCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSW5zZXJ0OiB0aGlzLnByb3BzLmluc2VydFJvdyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlRGVsZXRlOiB0aGlzLnByb3BzLmRlbGV0ZVJvdyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2VhcmNoOiB0aGlzLnByb3BzLnNlYXJjaCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlRXhwb3J0Q1NWOiB0aGlzLnByb3BzLmV4cG9ydENTVixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogZW5hYmxlU2hvd09ubHlTZWxlY3RlZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGxhY2Vob2xkZXI6IHRoaXMucHJvcHMuc2VhcmNoUGxhY2Vob2xkZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQWRkUm93OiB0aGlzLmhhbmRsZUFkZFJvdy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkFkZFJvd0JlZ2luOiB0aGlzLmhhbmRsZUFkZFJvd0JlZ2luLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJvcFJvdzogdGhpcy5oYW5kbGVEcm9wUm93LmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoOiB0aGlzLmhhbmRsZVNlYXJjaC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkV4cG9ydENTVjogdGhpcy5oYW5kbGVFeHBvcnRDU1YuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25TaG93T25seVNlbGVjdGVkOiB0aGlzLmhhbmRsZVNob3dPbmx5U2VsZWN0ZWQuYmluZCh0aGlzKVxuXHQgICAgICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyVGFibGVGaWx0ZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUYWJsZUZpbHRlcihjb2x1bW5zKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNvbHVtbkZpbHRlcikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9UYWJsZUZpbHRlcjJbJ2RlZmF1bHQnXSwgeyBjb2x1bW5zOiBjb2x1bW5zLFxuXHQgICAgICAgICAgICAgICAgICAgIHJvd1NlbGVjdFR5cGU6IHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUsXG5cdCAgICAgICAgICAgICAgICAgICAgb25GaWx0ZXI6IHRoaXMuaGFuZGxlRmlsdGVyRGF0YS5iaW5kKHRoaXMpIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEJvb3RzdHJhcFRhYmxlO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdEJvb3RzdHJhcFRhYmxlLnByb3BUeXBlcyA9IHtcblx0ICAgIGtleUZpZWxkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGhlaWdodDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBtYXhIZWlnaHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdGFibGVJRDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkYXRhOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSwgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3RdKSxcblx0ICAgIHJlbW90ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyByZW1vdGUgZGF0YSwgZGVmYXVsdCBpcyBmYWxzZVxuXHQgICAgc3RyaXBlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgYm9yZGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGhvdmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjb25kZW5zZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHBhZ2luYXRpb246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNlYXJjaFBsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNlbGVjdFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICAgICAgbW9kZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihbX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfTk9ORSwgX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfU0lOR0xFLCBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSV0pLFxuXHQgICAgICAgIGJnQ29sb3I6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgICAgIHNlbGVjdGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgICAgIG9uU2VsZWN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgb25TZWxlY3RBbGw6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBjbGlja1RvU2VsZWN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICAgICAgaGlkZVNlbGVjdENvbHVtbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgICAgIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgICAgIHNob3dPbmx5U2VsZWN0ZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbFxuXHQgICAgfSksXG5cdCAgICBjZWxsRWRpdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICAgICAgbW9kZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgYmx1clRvU2F2ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgICAgIGFmdGVyU2F2ZUNlbGw6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuY1xuXHQgICAgfSksXG5cdCAgICBpbnNlcnRSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRlbGV0ZVJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgc2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjb2x1bW5GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHRyQ2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgICAgIGJlZm9yZUluc2VydFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgICAgIGNsZWFyU2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICAgICAgc29ydE5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgICAgIHNvcnRPcmRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgYWZ0ZXJUYWJsZUNvbXBsZXRlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgYWZ0ZXJEZWxldGVSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBhZnRlckluc2VydFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgICAgIGFmdGVyU2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgYWZ0ZXJDb2x1bW5GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBvblJvd0NsaWNrOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgcGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgc2l6ZVBlclBhZ2VMaXN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgICAgIHNpemVQZXJQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICAgICAgICBwYWdpbmF0aW9uU2l6ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgb25Tb3J0Q2hhbmdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgb25QYWdlQ2hhbmdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBub0RhdGFUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgICAgICBoYW5kbGVDb25maXJtRGVsZXRlUm93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgcHJlUGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgbmV4dFBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgICAgIGZpcnN0UGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgbGFzdFBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdCAgICB9KSxcblx0ICAgIGZldGNoSW5mbzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICAgICAgZGF0YVRvdGFsU2l6ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXJcblx0ICAgIH0pLFxuXHQgICAgZXhwb3J0Q1NWOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjc3ZGaWxlTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdEJvb3RzdHJhcFRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGhlaWdodDogXCIxMDAlXCIsXG5cdCAgICBtYXhIZWlnaHQ6IHVuZGVmaW5lZCxcblx0ICAgIHRhYmxlSUQ6IHVuZGVmaW5lZCxcblx0ICAgIHN0cmlwZWQ6IGZhbHNlLFxuXHQgICAgYm9yZGVyZWQ6IHRydWUsXG5cdCAgICBob3ZlcjogZmFsc2UsXG5cdCAgICBjb25kZW5zZWQ6IGZhbHNlLFxuXHQgICAgcGFnaW5hdGlvbjogZmFsc2UsXG5cdCAgICBzZWFyY2hQbGFjZWhvbGRlcjogdW5kZWZpbmVkLFxuXHQgICAgc2VsZWN0Um93OiB7XG5cdCAgICAgICAgbW9kZTogX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfTk9ORSxcblx0ICAgICAgICBiZ0NvbG9yOiBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9CR19DT0xPUixcblx0ICAgICAgICBzZWxlY3RlZDogW10sXG5cdCAgICAgICAgb25TZWxlY3Q6IHVuZGVmaW5lZCxcblx0ICAgICAgICBvblNlbGVjdEFsbDogdW5kZWZpbmVkLFxuXHQgICAgICAgIGNsaWNrVG9TZWxlY3Q6IGZhbHNlLFxuXHQgICAgICAgIGhpZGVTZWxlY3RDb2x1bW46IGZhbHNlLFxuXHQgICAgICAgIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbDogZmFsc2UsXG5cdCAgICAgICAgc2hvd09ubHlTZWxlY3RlZDogZmFsc2Vcblx0ICAgIH0sXG5cdCAgICBjZWxsRWRpdDoge1xuXHQgICAgICAgIG1vZGU6IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfTk9ORSxcblx0ICAgICAgICBibHVyVG9TYXZlOiBmYWxzZSxcblx0ICAgICAgICBhZnRlclNhdmVDZWxsOiB1bmRlZmluZWRcblx0ICAgIH0sXG5cdCAgICBpbnNlcnRSb3c6IGZhbHNlLFxuXHQgICAgZGVsZXRlUm93OiBmYWxzZSxcblx0ICAgIHNlYXJjaDogZmFsc2UsXG5cdCAgICBtdWx0aUNvbHVtblNlYXJjaDogZmFsc2UsXG5cdCAgICBjb2x1bW5GaWx0ZXI6IGZhbHNlLFxuXHQgICAgdHJDbGFzc05hbWU6ICcnLFxuXHQgICAgb3B0aW9uczoge1xuXHQgICAgICAgIGNsZWFyU2VhcmNoOiBmYWxzZSxcblx0ICAgICAgICBzb3J0TmFtZTogdW5kZWZpbmVkLFxuXHQgICAgICAgIHNvcnRPcmRlcjogdW5kZWZpbmVkLFxuXHQgICAgICAgIGFmdGVyVGFibGVDb21wbGV0ZTogdW5kZWZpbmVkLFxuXHQgICAgICAgIGFmdGVyRGVsZXRlUm93OiB1bmRlZmluZWQsXG5cdCAgICAgICAgYWZ0ZXJJbnNlcnRSb3c6IHVuZGVmaW5lZCxcblx0ICAgICAgICBhZnRlclNlYXJjaDogdW5kZWZpbmVkLFxuXHQgICAgICAgIGFmdGVyQ29sdW1uRmlsdGVyOiB1bmRlZmluZWQsXG5cdCAgICAgICAgb25Sb3dDbGljazogdW5kZWZpbmVkLFxuXHQgICAgICAgIG9uTW91c2VMZWF2ZTogdW5kZWZpbmVkLFxuXHQgICAgICAgIG9uTW91c2VFbnRlcjogdW5kZWZpbmVkLFxuXHQgICAgICAgIG9uUm93TW91c2VPdXQ6IHVuZGVmaW5lZCxcblx0ICAgICAgICBvblJvd01vdXNlT3ZlcjogdW5kZWZpbmVkLFxuXHQgICAgICAgIHBhZ2U6IHVuZGVmaW5lZCxcblx0ICAgICAgICBzaXplUGVyUGFnZUxpc3Q6IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFX0xJU1QsXG5cdCAgICAgICAgc2l6ZVBlclBhZ2U6IHVuZGVmaW5lZCxcblx0ICAgICAgICBwYWdpbmF0aW9uU2l6ZTogX0NvbnN0MlsnZGVmYXVsdCddLlBBR0lOQVRJT05fU0laRSxcblx0ICAgICAgICBvblNpemVQZXJQYWdlTGlzdDogdW5kZWZpbmVkLFxuXHQgICAgICAgIG5vRGF0YVRleHQ6IHVuZGVmaW5lZCxcblx0ICAgICAgICBoYW5kbGVDb25maXJtRGVsZXRlUm93OiB1bmRlZmluZWQsXG5cdCAgICAgICAgcHJlUGFnZTogX0NvbnN0MlsnZGVmYXVsdCddLlBSRV9QQUdFLFxuXHQgICAgICAgIG5leHRQYWdlOiBfQ29uc3QyWydkZWZhdWx0J10uTkVYVF9QQUdFLFxuXHQgICAgICAgIGZpcnN0UGFnZTogX0NvbnN0MlsnZGVmYXVsdCddLkZJUlNUX1BBR0UsXG5cdCAgICAgICAgbGFzdFBhZ2U6IF9Db25zdDJbJ2RlZmF1bHQnXS5MQVNUX1BBR0Vcblx0ICAgIH0sXG5cdCAgICBmZXRjaEluZm86IHtcblx0ICAgICAgICBkYXRhVG90YWxTaXplOiAwXG5cdCAgICB9LFxuXHQgICAgZXhwb3J0Q1NWOiBmYWxzZSxcblx0ICAgIGNzdkZpbGVOYW1lOiB1bmRlZmluZWRcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEJvb3RzdHJhcFRhYmxlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIEV2ZW50RW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpLkV2ZW50RW1pdHRlcjtcblx0XG5cdHZhciBGaWx0ZXIgPSAoZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcblx0ICAgIF9pbmhlcml0cyhGaWx0ZXIsIF9FdmVudEVtaXR0ZXIpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZpbHRlcihkYXRhKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7XG5cdFxuXHQgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIGRhdGEpO1xuXHQgICAgICAgIHRoaXMuY3VycmVudEZpbHRlciA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhGaWx0ZXIsIFt7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlRmlsdGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKGRhdGFGaWVsZCwgdmFsdWUsIHR5cGUpIHtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlclR5cGUgPSB0eXBlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5DVVNUT007XG5cdFxuXHQgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICAgICAgICAvLyB2YWx1ZSBvZiB0aGUgZmlsdGVyIGlzIGFuIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgdmFyIGhhc1ZhbHVlID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gdmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlW3Byb3BdIHx8IHZhbHVlW3Byb3BdID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgb2JqZWN0IHByb3BlcnRpZXMgaXMgdW5kZWZpbmVkIG9yIGVtcHR5LCB3ZSByZW1vdmUgdGhlIGZpbHRlclxuXHQgICAgICAgICAgICAgICAgaGFzVmFsdWUgPyB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXSA9IHsgdmFsdWU6IHZhbHVlLCB0eXBlOiBmaWx0ZXJUeXBlIH0gOiBkZWxldGUgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF07XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY3VycmVudEZpbHRlcltkYXRhRmllbGRdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF0gPSB7IHZhbHVlOiB2YWx1ZS50cmltKCksIHR5cGU6IGZpbHRlclR5cGUgfTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLmVtaXQoJ29uRmlsdGVyQ2hhbmdlJywgdGhpcy5jdXJyZW50RmlsdGVyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEZpbHRlcjtcblx0fSkoRXZlbnRFbWl0dGVyKTtcblx0XG5cdGV4cG9ydHMuRmlsdGVyID0gRmlsdGVyO1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgU2VsZWN0Um93SGVhZGVyQ29sdW1uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFNlbGVjdFJvd0hlYWRlckNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFNlbGVjdFJvd0hlYWRlckNvbHVtbigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3RSb3dIZWFkZXJDb2x1bW4pO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlbGVjdFJvd0hlYWRlckNvbHVtbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFNlbGVjdFJvd0hlYWRlckNvbHVtbiwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgdGhTdHlsZSA9IHtcblx0ICAgICAgICB3aWR0aDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCkgPyB0aGlzLnByb3BzLndpZHRoIDogMzVcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGgnLFxuXHQgICAgICAgIHsgc3R5bGU6IHRoU3R5bGUgfSxcblx0ICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uJyB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBTZWxlY3RSb3dIZWFkZXJDb2x1bW47XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gU2VsZWN0Um93SGVhZGVyQ29sdW1uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF91dGlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWwpO1xuXHRcblx0dmFyIF9UYWJsZVJvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF9UYWJsZVJvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZVJvdyk7XG5cdFxuXHR2YXIgX1RhYmxlQ29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX1RhYmxlQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlQ29sdW1uKTtcblx0XG5cdHZhciBfVGFibGVFZGl0Q29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX1RhYmxlRWRpdENvbHVtbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUVkaXRDb2x1bW4pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBpc0Z1biA9IGZ1bmN0aW9uIGlzRnVuKG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiO1xuXHR9O1xuXHRcblx0dmFyIFRhYmxlQm9keSA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZUJvZHksIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZUJvZHkocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUJvZHkpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYmxlQm9keS5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIHRoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGN1cnJFZGl0Q2VsbDogbnVsbFxuXHQgICAgfTtcblx0ICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFRhYmxlQm9keSwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdGhpcy5hZGp1c3RCb2R5KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICAgIHRoaXMuYWRqdXN0Qm9keSgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJ0YWJsZS1jb250YWluZXJcIik7XG5cdFxuXHQgICAgICB2YXIgdGFibGVDbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcInRhYmxlXCIsIHtcblx0ICAgICAgICAndGFibGUtc3RyaXBlZCc6IHRoaXMucHJvcHMuc3RyaXBlZCxcblx0ICAgICAgICAndGFibGUtYm9yZGVyZWQnOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxuXHQgICAgICAgICd0YWJsZS1ob3Zlcic6IHRoaXMucHJvcHMuaG92ZXIsXG5cdCAgICAgICAgJ3RhYmxlLWNvbmRlbnNlZCc6IHRoaXMucHJvcHMuY29uZGVuc2VkXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIGlzU2VsZWN0Um93RGVmaW5lZCA9IHRoaXMuX2lzU2VsZWN0Um93RGVmaW5lZCgpO1xuXHQgICAgICB2YXIgdGFibGVIZWFkZXIgPSB0aGlzLnJlbmRlclRhYmxlSGVhZGVyKGlzU2VsZWN0Um93RGVmaW5lZCk7XG5cdFxuXHQgICAgICB2YXIgdGFibGVSb3dzID0gdGhpcy5wcm9wcy5kYXRhLm1hcChmdW5jdGlvbiAoZGF0YSwgcikge1xuXHQgICAgICAgIHZhciB0YWJsZUNvbHVtbnMgPSB0aGlzLnByb3BzLmNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgIHZhciBmaWVsZFZhbHVlID0gZGF0YVtjb2x1bW4ubmFtZV07XG5cdCAgICAgICAgICBpZiAodGhpcy5lZGl0aW5nICYmIGNvbHVtbi5uYW1lICE9PSB0aGlzLnByb3BzLmtleUZpZWxkICYmIC8vIEtleSBmaWVsZCBjYW4ndCBiZSBlZGl0XG5cdCAgICAgICAgICBjb2x1bW4uZWRpdGFibGUgJiYgLy8gY29sdW1uIGlzIGVkaXRhYmxlPyBkZWZhdWx0IGlzIHRydWUsIHVzZXIgY2FuIHNldCBpdCBmYWxzZVxuXHQgICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyRWRpdENlbGwgIT0gbnVsbCAmJiB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbC5yaWQgPT0gciAmJiB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbC5jaWQgPT0gaSkge1xuXHQgICAgICAgICAgICB2YXIgZm9ybWF0ID0gY29sdW1uLmZvcm1hdCA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBjb2x1bW4uZm9ybWF0KHZhbHVlLCBkYXRhLCBjb2x1bW4uZm9ybWF0RXh0cmFEYXRhKS5yZXBsYWNlKC88Lio/Pi9nLCAnJyk7XG5cdCAgICAgICAgICAgIH0gOiBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICBfVGFibGVFZGl0Q29sdW1uMlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgICAgIHsgY29tcGxldGVFZGl0OiB0aGlzLmhhbmRsZUNvbXBsZXRlRWRpdENlbGwuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgIC8vYWRkIGJ5IGJsdWVzcHJpbmcgZm9yIGNvbHVtbiBlZGl0b3IgY3VzdG9taXplXG5cdCAgICAgICAgICAgICAgICBlZGl0YWJsZTogaXNGdW4oY29sdW1uLmVkaXRhYmxlKSA/IGNvbHVtbi5lZGl0YWJsZShmaWVsZFZhbHVlLCBkYXRhLCByLCBpKSA6IGNvbHVtbi5lZGl0YWJsZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogY29sdW1uLmZvcm1hdCA/IGZvcm1hdCA6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAga2V5OiBpLFxuXHQgICAgICAgICAgICAgICAgYmx1clRvU2F2ZTogdGhpcy5wcm9wcy5jZWxsRWRpdC5ibHVyVG9TYXZlLFxuXHQgICAgICAgICAgICAgICAgcm93SW5kZXg6IHIsXG5cdCAgICAgICAgICAgICAgICBjb2xJbmRleDogaSB9LFxuXHQgICAgICAgICAgICAgIGZpZWxkVmFsdWVcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vYWRkIGJ5IGJsdWVzcHJpbmcgZm9yIGNsYXNzTmFtZSBjdXN0b21pemVcblx0ICAgICAgICAgICAgdmFyIHRkQ2xhc3NOYW1lID0gaXNGdW4oY29sdW1uLmNsYXNzTmFtZSkgPyBjb2x1bW4uY2xhc3NOYW1lKGZpZWxkVmFsdWUsIGRhdGEsIHIsIGkpIDogY29sdW1uLmNsYXNzTmFtZTtcblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY29sdW1uLmZvcm1hdCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IGNvbHVtbi5mb3JtYXQoZmllbGRWYWx1ZSwgZGF0YSwgY29sdW1uLmZvcm1hdEV4dHJhRGF0YSk7XG5cdCAgICAgICAgICAgICAgaWYgKCFfcmVhY3QyWydkZWZhdWx0J10uaXNWYWxpZEVsZW1lbnQoZm9ybWF0dGVkVmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogZm9ybWF0dGVkVmFsdWUgfSB9KTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX1RhYmxlQ29sdW1uMlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgICAgICAgeyBkYXRhQWxpZ246IGNvbHVtbi5hbGlnbixcblx0ICAgICAgICAgICAgICAgICAga2V5OiBpLFxuXHQgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRkQ2xhc3NOYW1lLFxuXHQgICAgICAgICAgICAgICAgICBjZWxsRWRpdDogdGhpcy5wcm9wcy5jZWxsRWRpdCxcblx0ICAgICAgICAgICAgICAgICAgaGlkZGVuOiBjb2x1bW4uaGlkZGVuLFxuXHQgICAgICAgICAgICAgICAgICBvbkVkaXQ6IHRoaXMuaGFuZGxlRWRpdENlbGwuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbHVtbi53aWR0aCB9LFxuXHQgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVcblx0ICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9UYWJsZUNvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgICAgICAgIHsgZGF0YUFsaWduOiBjb2x1bW4uYWxpZ24sXG5cdCAgICAgICAgICAgICAgICAgIGtleTogaSxcblx0ICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0ZENsYXNzTmFtZSxcblx0ICAgICAgICAgICAgICAgICAgY2VsbEVkaXQ6IHRoaXMucHJvcHMuY2VsbEVkaXQsXG5cdCAgICAgICAgICAgICAgICAgIGhpZGRlbjogY29sdW1uLmhpZGRlbixcblx0ICAgICAgICAgICAgICAgICAgb25FZGl0OiB0aGlzLmhhbmRsZUVkaXRDZWxsLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgIHdpZHRoOiBjb2x1bW4ud2lkdGggfSxcblx0ICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVcblx0ICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSwgdGhpcyk7XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5wcm9wcy5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihkYXRhW3RoaXMucHJvcHMua2V5RmllbGRdKSAhPSAtMTtcblx0ICAgICAgICB2YXIgc2VsZWN0Um93Q29sdW1uID0gaXNTZWxlY3RSb3dEZWZpbmVkICYmICF0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uID8gdGhpcy5yZW5kZXJTZWxlY3RSb3dDb2x1bW4oc2VsZWN0ZWQpIDogbnVsbDtcblx0ICAgICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjbGFzc05hbWUgY3VzdG9taXplXG5cdCAgICAgICAgdmFyIHRyQ2xhc3NOYW1lID0gaXNGdW4odGhpcy5wcm9wcy50ckNsYXNzTmFtZSkgPyB0aGlzLnByb3BzLnRyQ2xhc3NOYW1lKGRhdGEsIHIpIDogdGhpcy5wcm9wcy50ckNsYXNzTmFtZTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfVGFibGVSb3cyWydkZWZhdWx0J10sXG5cdCAgICAgICAgICB7IGlzU2VsZWN0ZWQ6IHNlbGVjdGVkLCBrZXk6IHIsIGNsYXNzTmFtZTogdHJDbGFzc05hbWUsXG5cdCAgICAgICAgICAgIHNlbGVjdFJvdzogaXNTZWxlY3RSb3dEZWZpbmVkID8gdGhpcy5wcm9wcy5zZWxlY3RSb3cgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgIGVuYWJsZUNlbGxFZGl0OiB0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfTk9ORSxcblx0ICAgICAgICAgICAgb25Sb3dDbGljazogdGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvblJvd01vdXNlT3ZlcjogdGhpcy5oYW5kbGVSb3dNb3VzZU92ZXIuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25Sb3dNb3VzZU91dDogdGhpcy5oYW5kbGVSb3dNb3VzZU91dC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvblNlbGVjdFJvdzogdGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgc2VsZWN0Um93Q29sdW1uLFxuXHQgICAgICAgICAgdGFibGVDb2x1bW5zXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgICBpZiAodGFibGVSb3dzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHRhYmxlUm93cy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX1RhYmxlUm93MlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgeyBrZXk6ICcjI3RhYmxlLWVtcHR5IyMnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3RkJyxcblx0ICAgICAgICAgICAgeyBjb2xTcGFuOiB0aGlzLnByb3BzLmNvbHVtbnMubGVuZ3RoICsgKGlzU2VsZWN0Um93RGVmaW5lZCA/IDEgOiAwKSxcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyZWFjdC1icy10YWJsZS1uby1kYXRhJyB9LFxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm5vRGF0YVRleHQgfHwgX0NvbnN0MlsnZGVmYXVsdCddLk5PX0RBVEFfVEVYVFxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLmVkaXRpbmcgPSBmYWxzZTtcblx0XG5cdCAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhbGN1bGF0ZUNvbnRhaW5lckhlaWdodCgpLnRvU3RyaW5nKCk7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyByZWY6ICdjb250YWluZXInLCBjbGFzc05hbWU6IGNvbnRhaW5lckNsYXNzZXMsIHN0eWxlOiB7IGhlaWdodDogaGVpZ2h0IH0gfSxcblx0ICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0YWJsZScsXG5cdCAgICAgICAgICB7IHJlZjogJ2JvZHknLCBjbGFzc05hbWU6IHRhYmxlQ2xhc3NlcyB9LFxuXHQgICAgICAgICAgdGFibGVIZWFkZXIsXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3Rib2R5Jyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgdGFibGVSb3dzXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlclRhYmxlSGVhZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUYWJsZUhlYWRlcihpc1NlbGVjdFJvd0RlZmluZWQpIHtcblx0ICAgICAgdmFyIHNlbGVjdFJvd0hlYWRlciA9IG51bGw7XG5cdFxuXHQgICAgICBpZiAoaXNTZWxlY3RSb3dEZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHN0eWxlID0ge1xuXHQgICAgICAgICAgd2lkdGg6IDM1LFxuXHQgICAgICAgICAgbWluV2lkdGg6IDM1XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBzZWxlY3RSb3dIZWFkZXIgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uID8gbnVsbCA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCd0aCcsIHsgc3R5bGU6IHN0eWxlLCBrZXk6IC0xIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciB0aGVhZGVyID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgdmFyIHdpZHRoID0gY29sdW1uLndpZHRoID09IG51bGwgPyBjb2x1bW4ud2lkdGggOiBwYXJzZUludChjb2x1bW4ud2lkdGgpO1xuXHQgICAgICAgIHZhciBzdHlsZSA9IHtcblx0ICAgICAgICAgIGRpc3BsYXk6IGNvbHVtbi5oaWRkZW4gPyBcIm5vbmVcIiA6IG51bGwsXG5cdCAgICAgICAgICB3aWR0aDogd2lkdGgsXG5cdCAgICAgICAgICBtYXhXaWR0aDogd2lkdGhcblx0ICAgICAgICAgIC8qKiBhZGQgbWluLXdkdGggdG8gZml4IHVzZXIgYXNzaWduIGNvbHVtbiB3aWR0aCBub3QgZXEgb2Zmc2V0V2lkdGggaW4gbGFyZ2UgY29sdW1uIHRhYmxlICoqL1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIHNvcnRDYWVydCA9IGNvbHVtbi5zb3J0ID8gX3V0aWwyWydkZWZhdWx0J10ucmVuZGVyUmVhY3RTb3J0Q2FyZXQoX0NvbnN0MlsnZGVmYXVsdCddLlNPUlRfREVTQykgOiBudWxsO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0aCcsXG5cdCAgICAgICAgICB7IHN0eWxlOiBzdHlsZSwga2V5OiBpLCBjbGFzc05hbWU6IGNvbHVtbi5jbGFzc05hbWUgfSxcblx0ICAgICAgICAgIGNvbHVtbi50ZXh0LFxuXHQgICAgICAgICAgc29ydENhZXJ0XG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RoZWFkJyxcblx0ICAgICAgICB7IHJlZjogJ2hlYWRlcicgfSxcblx0ICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0cicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgc2VsZWN0Um93SGVhZGVyLFxuXHQgICAgICAgICAgdGhlYWRlclxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVSb3dNb3VzZU91dCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm93TW91c2VPdXQocm93SW5kZXgpIHtcblx0ICAgICAgdmFyIHRhcmdldFJvdyA9IHRoaXMucHJvcHMuZGF0YVtyb3dJbmRleCAtIDFdO1xuXHQgICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdXQodGFyZ2V0Um93KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVSb3dNb3VzZU92ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvd01vdXNlT3Zlcihyb3dJbmRleCkge1xuXHQgICAgICB2YXIgdGFyZ2V0Um93ID0gdGhpcy5wcm9wcy5kYXRhW3Jvd0luZGV4IC0gMV07XG5cdCAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU92ZXIodGFyZ2V0Um93KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVSb3dDbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm93Q2xpY2socm93SW5kZXgpIHtcblx0ICAgICAgdmFyIGtleSwgc2VsZWN0ZWRSb3c7XG5cdCAgICAgIHRoaXMucHJvcHMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3csIGkpIHtcblx0ICAgICAgICBpZiAoaSA9PSByb3dJbmRleCAtIDEpIHtcblx0ICAgICAgICAgIGtleSA9IHJvd1t0aGlzLnByb3BzLmtleUZpZWxkXTtcblx0ICAgICAgICAgIHNlbGVjdGVkUm93ID0gcm93O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICAgIHRoaXMucHJvcHMub25Sb3dDbGljayhzZWxlY3RlZFJvdyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlU2VsZWN0Um93Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RSb3cocm93SW5kZXgsIGlzU2VsZWN0ZWQpIHtcblx0ICAgICAgdmFyIGtleSwgc2VsZWN0ZWRSb3c7XG5cdCAgICAgIHRoaXMucHJvcHMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3csIGkpIHtcblx0ICAgICAgICBpZiAoaSA9PSByb3dJbmRleCAtIDEpIHtcblx0ICAgICAgICAgIGtleSA9IHJvd1t0aGlzLnByb3BzLmtleUZpZWxkXTtcblx0ICAgICAgICAgIHNlbGVjdGVkUm93ID0gcm93O1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICAgIHRoaXMucHJvcHMub25TZWxlY3RSb3coc2VsZWN0ZWRSb3csIGlzU2VsZWN0ZWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZShlKSB7XG5cdCAgICAgIGlmICghdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCB8fCAhdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsKSB7XG5cdCAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3RSb3coZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yb3dJbmRleCwgZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlRWRpdENlbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUVkaXRDZWxsKHJvd0luZGV4LCBjb2x1bW5JbmRleCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmcgPSB0cnVlO1xuXHQgICAgICBpZiAodGhpcy5faXNTZWxlY3RSb3dEZWZpbmVkKCkpIHtcblx0ICAgICAgICBjb2x1bW5JbmRleC0tO1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uKSBjb2x1bW5JbmRleCsrO1xuXHQgICAgICB9XG5cdCAgICAgIHJvd0luZGV4LS07XG5cdCAgICAgIHZhciBzdGF0ZU9iaiA9IHtcblx0ICAgICAgICBjdXJyRWRpdENlbGw6IHtcblx0ICAgICAgICAgIHJpZDogcm93SW5kZXgsXG5cdCAgICAgICAgICBjaWQ6IGNvbHVtbkluZGV4XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkge1xuXHQgICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0Um93KHJvd0luZGV4ICsgMSwgdHJ1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZU9iaik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2FuY2VsRWRpdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2FuY2VsRWRpdCgpIHtcblx0ICAgICAgdmFyIGN1cnJFZGl0Q2VsbCA9IHRoaXMuc3RhdGUuY3VyckVkaXRDZWxsO1xuXHQgICAgICBpZiAoY3VyckVkaXRDZWxsKSB7XG5cdCAgICAgICAgdGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsKG51bGwsIGN1cnJFZGl0Q2VsbC5yaWQsIGN1cnJFZGl0Q2VsbC5jaWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlQ29tcGxldGVFZGl0Q2VsbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ29tcGxldGVFZGl0Q2VsbChuZXdWYWwsIHJvd0luZGV4LCBjb2x1bW5JbmRleCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHsgY3VyckVkaXRDZWxsOiBudWxsIH0pO1xuXHQgICAgICBpZiAobnVsbCAhPSBuZXdWYWwpIHRoaXMucHJvcHMuY2VsbEVkaXQuX19vbkNvbXBsZXRlRWRpdF9fKG5ld1ZhbCwgcm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXJTZWxlY3RSb3dDb2x1bW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclNlbGVjdFJvd0NvbHVtbihzZWxlY3RlZCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9TSU5HTEUpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfVGFibGVDb2x1bW4yWydkZWZhdWx0J10sXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAncmFkaW8nLCBuYW1lOiAnc2VsZWN0aW9uJywgY2hlY2tlZDogc2VsZWN0ZWQsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlLmJpbmQodGhpcykgfSlcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9UYWJsZUNvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcsIGNoZWNrZWQ6IHNlbGVjdGVkLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZS5iaW5kKHRoaXMpIH0pXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEJvZHlIZWFkZXJEb21Qcm9wJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb2R5SGVhZGVyRG9tUHJvcCgpIHtcblx0ICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlcztcblx0ICAgICAgdmFyIGhlYWRlckRvbVByb3BzID0gW107XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGhlYWRlckRvbVByb3BzLnB1c2goe1xuXHQgICAgICAgICAgd2lkdGg6IGhlYWRlcnNbaV0ub2Zmc2V0V2lkdGhcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gaGVhZGVyRG9tUHJvcHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWRqdXN0Qm9keScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRqdXN0Qm9keSgpIHtcblx0ICAgICAgdGhpcy5oYXJkRml4SGVhZGVyV2lkdGgoKTtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY29uZGVuc2VkKSB7XG5cdCAgICAgICAgdGhpcy5yZWZzLmJvZHkuc3R5bGUubWFyZ2luVG9wID0gXCItMzZweFwiO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5tYXhIZWlnaHQgJiYgcGFyc2VJbnQodGhpcy5wcm9wcy5tYXhIZWlnaHQpIDwgdGhpcy5yZWZzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQpIHtcblx0ICAgICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMucHJvcHMubWF4SGVpZ2h0IC0gNDIgKyBcInB4XCI7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXJkRml4SGVhZGVyV2lkdGgnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhcmRGaXhIZWFkZXJXaWR0aCgpIHtcblx0ICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlcztcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaGVhZGVyc1tpXS5zdHlsZS53aWR0aCA9IGhlYWRlcnNbaV0ub2Zmc2V0V2lkdGggKyBcInB4XCI7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjYWxjdWxhdGVDb250YWluZXJIZWlnaHQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZUNvbnRhaW5lckhlaWdodCgpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuaGVpZ2h0ID09IFwiMTAwJVwiKSByZXR1cm4gdGhpcy5wcm9wcy5oZWlnaHQ7ZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMucHJvcHMuaGVpZ2h0KSAtIDQyO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2lzU2VsZWN0Um93RGVmaW5lZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2lzU2VsZWN0Um93RGVmaW5lZCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSB8fCB0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlID09PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZUJvZHk7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVCb2R5LnByb3BUeXBlcyA9IHtcblx0ICBoZWlnaHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGRhdGE6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgY29sdW1uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSxcblx0ICBzdHJpcGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgYm9yZGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBob3ZlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbmRlbnNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGtleUZpZWxkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzZWxlY3RlZFJvd0tleXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgb25Sb3dDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uU2VsZWN0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgbm9EYXRhVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVGFibGVCb2R5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgVGFibGVDb2x1bW4gPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUYWJsZUNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVGFibGVDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVDb2x1bW4pO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUNvbHVtbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGFibGVDb2x1bW4sIFt7XG5cdCAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cdFxuXHQgICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlZCA9IHRoaXMucHJvcHMud2lkdGggIT09IG5leHRQcm9wcy53aWR0aCB8fCB0aGlzLnByb3BzLmNsYXNzTmFtZSAhPT0gbmV4dFByb3BzLmNsYXNzTmFtZSB8fCB0aGlzLnByb3BzLmhpZGRlbiAhPT0gbmV4dFByb3BzLmhpZGRlbiB8fCB0aGlzLnByb3BzLmRhdGFBbGlnbiAhPT0gbmV4dFByb3BzLmRhdGFBbGlnbiB8fCB0eXBlb2YgY2hpbGRyZW4gIT09IHR5cGVvZiBuZXh0UHJvcHMuY2hpbGRyZW4gfHwgKCcnICsgdGhpcy5wcm9wcy5vbkVkaXQpLnRvU3RyaW5nKCkgIT09ICgnJyArIG5leHRQcm9wcy5vbkVkaXQpLnRvU3RyaW5nKCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlZCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZWQ7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnICYmIGNoaWxkcmVuICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4ucHJvcHMudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBjaGlsZHJlbi5wcm9wcy50eXBlID09PSAncmFkaW8nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHwgY2hpbGRyZW4ucHJvcHMudHlwZSAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLnR5cGUgfHwgY2hpbGRyZW4ucHJvcHMuY2hlY2tlZCAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLmNoZWNrZWQ7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHwgY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoISh0aGlzLnByb3BzLmNlbGxFZGl0ICYmIG5leHRQcm9wcy5jZWxsRWRpdCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkIHx8IHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSAhPT0gbmV4dFByb3BzLmNlbGxFZGl0Lm1vZGU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlQ2VsbEVkaXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDZWxsRWRpdChlKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLkNFTExfRURJVF9EQkNMSUNLKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkVkaXQoZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucm93SW5kZXgsIGUuY3VycmVudFRhcmdldC5jZWxsSW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMucHJvcHMud2lkdGggPT0gbnVsbCA/IHRoaXMucHJvcHMud2lkdGggOiB0aGlzLnByb3BzLndpZHRoLmluZGV4T2YoJyUnKSAhPT0gLTEgPyB0aGlzLnByb3BzLndpZHRoIDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCk7XG5cdCAgICAgICAgICAgIHZhciB0ZFN0eWxlID0ge1xuXHQgICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0aGlzLnByb3BzLmRhdGFBbGlnbixcblx0ICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuXHQgICAgICAgICAgICAgICAgbWF4V2lkdGg6IHdpZHRoXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHZhciBjbGFzc25hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMud2lkdGgpIHtcblx0ICAgICAgICAgICAgICAgIGNsYXNzbmFtZSArPSBcIiBjb2wtbWQtXCIgKyB3aWR0aDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIG9wdHMgPSB7fTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLkNFTExfRURJVF9DTElDSykge1xuXHQgICAgICAgICAgICAgICAgICAgIG9wdHMub25DbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfREJDTElDSykge1xuXHQgICAgICAgICAgICAgICAgICAgIG9wdHMub25Eb3VibGVDbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAgICAgICAgX2V4dGVuZHMoeyBzdHlsZTogdGRTdHlsZSwgY2xhc3NOYW1lOiBjbGFzc25hbWUgfSwgb3B0cyksXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUYWJsZUNvbHVtbjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZUNvbHVtbi5wcm9wVHlwZXMgPSB7XG5cdCAgICBkYXRhQWxpZ246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgaGlkZGVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRUYWJsZUNvbHVtbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBkYXRhQWxpZ246IFwibGVmdFwiLFxuXHQgICAgaGlkZGVuOiBmYWxzZSxcblx0ICAgIGNsYXNzTmFtZTogXCJcIlxuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUNvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX0VkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX0VkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FZGl0b3IpO1xuXHRcblx0dmFyIF9Ob3RpZmljYXRpb25KcyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX05vdGlmaWNhdGlvbkpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vdGlmaWNhdGlvbkpzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgVGFibGVFZGl0Q29sdW1uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVGFibGVFZGl0Q29sdW1uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUYWJsZUVkaXRDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVFZGl0Q29sdW1uKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVFZGl0Q29sdW1uLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHQgICAgICAgIHRoaXMudGltZW91dGVDbGVhciA9IDA7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2hha2VFZGl0b3I6IGZhbHNlXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGFibGVFZGl0Q29sdW1uLCBbe1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUtleVByZXNzJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG5cdCAgICAgICAgICAgICAgICAvL1ByZXNzZWQgRU5URVJcblx0ICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC50eXBlID09ICdjaGVja2JveCcgPyB0aGlzLl9nZXRDaGVja0JveFZhbHVlKGUpIDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQodmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQobnVsbCwgdGhpcy5wcm9wcy5yb3dJbmRleCwgdGhpcy5wcm9wcy5jb2xJbmRleCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlQmx1cicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUJsdXIoZSkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5ibHVyVG9TYXZlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudHlwZSA9PSAnY2hlY2tib3gnID8gdGhpcy5fZ2V0Q2hlY2tCb3hWYWx1ZShlKSA6IGUuY3VycmVudFRhcmdldC52YWx1ZTtcblx0ICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQodmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3ZhbGlkYXRvcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkge1xuXHQgICAgICAgICAgICB2YXIgdHMgPSB0aGlzO1xuXHQgICAgICAgICAgICBpZiAodHMucHJvcHMuZWRpdGFibGUudmFsaWRhdG9yKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSB0cy5wcm9wcy5lZGl0YWJsZS52YWxpZGF0b3IodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHZhbGlkICE9PSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgdmFsaWQsIFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0cy5yZWZzLmlucHV0UmVmO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vYW5pbWF0ZSBpbnB1dFxuXHQgICAgICAgICAgICAgICAgICAgIHRzLmNsZWFyVGltZW91dCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHsgc2hha2VFZGl0b3I6IHRydWUgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMudGltZW91dGVDbGVhciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7IHNoYWtlRWRpdG9yOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuXHQgICAgICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjbGVhclRpbWVvdXQnLFxuXHQgICAgICAgIHZhbHVlOiAoZnVuY3Rpb24gKF9jbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJUaW1lb3V0KCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jbGVhclRpbWVvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgY2xlYXJUaW1lb3V0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jbGVhclRpbWVvdXQudG9TdHJpbmcoKTtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSkoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy50aW1lb3V0ZUNsZWFyICE9IDApIHtcblx0ICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRlQ2xlYXIpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5yZWZzLmlucHV0UmVmO1xuXHQgICAgICAgICAgICAvLyBpbnB1dC52YWx1ZSA9IHRoaXMucHJvcHMuY2hpbGRyZW58fCcnO1xuXHQgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IHRoaXMucHJvcHMuZWRpdGFibGUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdCxcblx0ICAgICAgICAgICAgICAgIGF0dHIgPSB7XG5cdCAgICAgICAgICAgICAgICByZWY6IFwiaW5wdXRSZWZcIixcblx0ICAgICAgICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlQcmVzcy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIuYmluZCh0aGlzKVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvL3B1dCBwbGFjZWhvbGRlciBpZiBleGlzdFxuXHQgICAgICAgICAgICBlZGl0YWJsZS5wbGFjZWhvbGRlciAmJiAoYXR0ci5wbGFjZWhvbGRlciA9IGVkaXRhYmxlLnBsYWNlaG9sZGVyKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBlZGl0b3JDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoeyAnYW5pbWF0ZWQnOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yLCAnc2hha2UnOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yIH0pO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAgICAgICAgeyByZWY6ICd0ZCcsIHN0eWxlOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0gfSxcblx0ICAgICAgICAgICAgICAgICgwLCBfRWRpdG9yMlsnZGVmYXVsdCddKShlZGl0YWJsZSwgYXR0ciwgZm9ybWF0LCBlZGl0b3JDbGFzcywgdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCAnJyksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uSnMyWydkZWZhdWx0J10sIHsgcmVmOiAnbm90aWZpZXInIH0pXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ19nZXRDaGVja0JveFZhbHVlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENoZWNrQm94VmFsdWUoZSkge1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcblx0ICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGUuY3VycmVudFRhcmdldC52YWx1ZS5zcGxpdCgnOicpO1xuXHQgICAgICAgICAgICB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC5jaGVja2VkID8gdmFsdWVzWzBdIDogdmFsdWVzWzFdO1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUYWJsZUVkaXRDb2x1bW47XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVFZGl0Q29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICAgIGNvbXBsZXRlRWRpdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcm93SW5kZXg6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgY29sSW5kZXg6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgYmx1clRvU2F2ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUVkaXRDb2x1bW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgVGFibGVGaWx0ZXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZUZpbHRlcihwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlRmlsdGVyKTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIHRoaXMuZmlsdGVyT2JqID0ge307XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVGaWx0ZXIsIFt7XG5cdCAgICBrZXk6ICdoYW5kbGVLZXlVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5VXAoZSkge1xuXHQgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikgZGVsZXRlIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXTtlbHNlIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcblx0XG5cdCAgICAgIHRoaXMucHJvcHMub25GaWx0ZXIodGhpcy5maWx0ZXJPYmopO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgdGFibGVDbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcInRhYmxlXCIsIHtcblx0ICAgICAgICAndGFibGUtc3RyaXBlZCc6IHRoaXMucHJvcHMuc3RyaXBlZCxcblx0ICAgICAgICAndGFibGUtY29uZGVuc2VkJzogdGhpcy5wcm9wcy5jb25kZW5zZWRcblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBzZWxlY3RSb3dIZWFkZXIgPSBudWxsO1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9TSU5HTEUgfHwgdGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX01VTFRJKSB7XG5cdCAgICAgICAgdmFyIHN0eWxlID0ge1xuXHQgICAgICAgICAgd2lkdGg6IDM1LFxuXHQgICAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXG5cdCAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHNlbGVjdFJvd0hlYWRlciA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgIHsgc3R5bGU6IHN0eWxlLCBrZXk6IC0xIH0sXG5cdCAgICAgICAgICAnRmlsdGVyJ1xuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGZpbHRlckZpZWxkID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgdmFyIHRoU3R5bGUgPSB7XG5cdCAgICAgICAgICBkaXNwbGF5OiBjb2x1bW4uaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgICAgd2lkdGg6IGNvbHVtbi53aWR0aFxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgIHsga2V5OiBjb2x1bW4ubmFtZSwgc3R5bGU6IHRoU3R5bGUgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHNpemU6ICcxMCcsIHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6IGNvbHVtbi5uYW1lLCBuYW1lOiBjb2x1bW4ubmFtZSwgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpIH0pXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGFibGUnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiB0YWJsZUNsYXNzZXMsIHN0eWxlOiB7IG1hcmdpblRvcDogNSB9IH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGhlYWQnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgICB7IHN0eWxlOiB7IGJvcmRlckJvdHRvbVN0eWxlOiAnaGlkZGVuJyB9IH0sXG5cdCAgICAgICAgICAgIHNlbGVjdFJvd0hlYWRlcixcblx0ICAgICAgICAgICAgZmlsdGVyRmllbGRcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gVGFibGVGaWx0ZXI7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVGaWx0ZXIucHJvcFR5cGVzID0ge1xuXHQgIGNvbHVtbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgcm93U2VsZWN0VHlwZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgb25GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUZpbHRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3V0aWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9TZWxlY3RSb3dIZWFkZXJDb2x1bW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfU2VsZWN0Um93SGVhZGVyQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdFJvd0hlYWRlckNvbHVtbik7XG5cdFxuXHR2YXIgQ2hlY2tib3ggPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDaGVja2JveCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGVja2JveCk7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hlY2tib3gucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDaGVja2JveCwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdGhpcy51cGRhdGUodGhpcy5wcm9wcy5jaGVja2VkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG5cdCAgICAgIHRoaXMudXBkYXRlKHByb3BzLmNoZWNrZWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3VwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGNoZWNrZWQpIHtcblx0ICAgICAgX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMpLmluZGV0ZXJtaW5hdGUgPSBjaGVja2VkID09PSAnaW5kZXRlcm1pbmF0ZSc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGNsYXNzTmFtZTogJ3JlYWN0LWJzLXNlbGVjdC1hbGwnLCB0eXBlOiAnY2hlY2tib3gnLCBjaGVja2VkOiB0aGlzLnByb3BzLmNoZWNrZWQsIG9uQ2hhbmdlOiB0aGlzLnByb3BzLm9uQ2hhbmdlIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIENoZWNrYm94O1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdHZhciBUYWJsZUhlYWRlciA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQyKTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVIZWFkZXIocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUhlYWRlcik7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVIZWFkZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoID0gbnVsbDtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZUhlYWRlciwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJ0YWJsZS1oZWFkZXJcIik7XG5cdCAgICAgIHZhciB0YWJsZUNsYXNzZXMgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwidGFibGVcIiwgXCJ0YWJsZS1ob3ZlclwiLCB7XG5cdCAgICAgICAgXCJ0YWJsZS1ib3JkZXJlZFwiOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxuXHQgICAgICAgIFwidGFibGUtY29uZGVuc2VkXCI6IHRoaXMucHJvcHMuY29uZGVuc2VkXG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgc2VsZWN0Um93SGVhZGVyQ29sID0gdGhpcy5wcm9wcy5oaWRlU2VsZWN0Q29sdW1uID8gbnVsbCA6IHRoaXMucmVuZGVyU2VsZWN0Um93SGVhZGVyKCk7XG5cdCAgICAgIHRoaXMuX2F0dGFjaENsZWFyU29ydENhcmV0RnVuYygpO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndGFibGUtaGVhZGVyLXdyYXBwZXInIH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgcmVmOiAnY29udGFpbmVyJywgY2xhc3NOYW1lOiBjb250YWluZXJDbGFzc2VzIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3RhYmxlJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHRhYmxlQ2xhc3NlcywgaWQ6IHRoaXMucHJvcHMudGFibGVJRCB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAndGhlYWQnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgICAgICAgeyByZWY6ICdoZWFkZXInIH0sXG5cdCAgICAgICAgICAgICAgICBzZWxlY3RSb3dIZWFkZXJDb2wsXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlclNlbGVjdFJvd0hlYWRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyU2VsZWN0Um93SGVhZGVyKCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfU2VsZWN0Um93SGVhZGVyQ29sdW1uMlsnZGVmYXVsdCddLCB7IHdpZHRoOiB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoIH0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9TZWxlY3RSb3dIZWFkZXJDb2x1bW4yWydkZWZhdWx0J10sXG5cdCAgICAgICAgICB7IHdpZHRoOiB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChDaGVja2JveCwgeyBvbkNoYW5nZTogdGhpcy5wcm9wcy5vblNlbGVjdEFsbFJvdywgY2hlY2tlZDogdGhpcy5wcm9wcy5pc1NlbGVjdEFsbCB9KVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jKCkge1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbltpXS5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgICB2YXIgc29ydCA9IGZpZWxkID09PSB0aGlzLnByb3BzLnNvcnROYW1lID8gdGhpcy5wcm9wcy5zb3J0T3JkZXIgOiB1bmRlZmluZWQ7XG5cdCAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuW2ldID0gX3JlYWN0MlsnZGVmYXVsdCddLmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuW2ldLCB7IGtleTogaSwgb25Tb3J0OiB0aGlzLnByb3BzLm9uU29ydCwgc29ydDogc29ydCB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgdmFyIHNvcnQgPSBmaWVsZCA9PT0gdGhpcy5wcm9wcy5zb3J0TmFtZSA/IHRoaXMucHJvcHMuc29ydE9yZGVyIDogdW5kZWZpbmVkO1xuXHQgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4gPSBfcmVhY3QyWydkZWZhdWx0J10uY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4sIHsga2V5OiAwLCBvblNvcnQ6IHRoaXMucHJvcHMub25Tb3J0LCBzb3J0OiBzb3J0IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZml0SGVhZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaXRIZWFkZXIoaGVhZGVyUHJvcHMsIGlzVmVydGljYWxTY3JvbGxCYXIpIHtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpIHtcblx0ICAgICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9ICh0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfU0lOR0xFIHx8IHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSSkgJiYgIXRoaXMucHJvcHMuaGlkZVNlbGVjdENvbHVtbiA/IDEgOiAwO1xuXHQgICAgICAgIGlmIChzdGFydFBvc2l0aW9uID09IDEpIHRoaXMuc2VsZWN0Um93Q29sdW1uV2lkdGggPSBoZWFkZXJQcm9wc1swXS53aWR0aDtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5baV0gPSBfcmVhY3QyWydkZWZhdWx0J10uY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW5baV0sIHsgd2lkdGg6IGhlYWRlclByb3BzW2kgKyBzdGFydFBvc2l0aW9uXS53aWR0aCArIFwicHhcIiB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbiwgeyB3aWR0aDogaGVhZGVyUHJvcHNbMF0ud2lkdGggKyBcInB4XCIgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY29uZGVuc2VkICYmICF0aGlzLnByb3BzLmlzRmlsdGVyZWQpIHtcblx0ICAgICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMzZweFwiO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcblx0ICAgICAgaWYgKGlzVmVydGljYWxTY3JvbGxCYXIpIHRoaXMucmVmcy5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBfdXRpbDJbJ2RlZmF1bHQnXS5nZXRTY3JvbGxCYXJXaWR0aCgpICsgXCJweFwiO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlSGVhZGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlSGVhZGVyLnByb3BUeXBlcyA9IHtcblx0ICByb3dTZWxlY3RUeXBlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBvblNvcnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblNlbGVjdEFsbFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIHNvcnROYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzb3J0T3JkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGhpZGVTZWxlY3RDb2x1bW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBib3JkZXJlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbmRlbnNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGlzRmlsdGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBpc1NlbGVjdEFsbDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ2luZGV0ZXJtaW5hdGUnLCBmYWxzZV0pXG5cdH07XG5cdFxuXHRUYWJsZUhlYWRlci5kZWZhdWx0UHJvcHMgPSB7fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVGFibGVIZWFkZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF91dGlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWwpO1xuXHRcblx0dmFyIF9maWx0ZXJzRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9maWx0ZXJzRGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maWx0ZXJzRGF0ZSk7XG5cdFxuXHR2YXIgX2ZpbHRlcnNUZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX2ZpbHRlcnNUZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlcnNUZXh0KTtcblx0XG5cdHZhciBfZmlsdGVyc1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9maWx0ZXJzU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlcnNTZWxlY3QpO1xuXHRcblx0dmFyIF9maWx0ZXJzTnVtYmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdFxuXHR2YXIgX2ZpbHRlcnNOdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsdGVyc051bWJlcik7XG5cdFxuXHR2YXIgVGFibGVIZWFkZXJDb2x1bW4gPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUYWJsZUhlYWRlckNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVGFibGVIZWFkZXJDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVIZWFkZXJDb2x1bW4pO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUhlYWRlckNvbHVtbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICB0aGlzLmhhbmRsZUZpbHRlciA9IHRoaXMuaGFuZGxlRmlsdGVyLmJpbmQodGhpcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFRhYmxlSGVhZGVyQ29sdW1uLCBbe1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUNvbHVtbkNsaWNrJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ29sdW1uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvcnQpIHJldHVybjtcblx0ICAgICAgICAgICAgdmFyIG9yZGVyID0gdGhpcy5wcm9wcy5zb3J0ID09IF9Db25zdDJbJ2RlZmF1bHQnXS5TT1JUX0RFU0MgPyBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9BU0MgOiBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9ERVNDO1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uU29ydChvcmRlciwgdGhpcy5wcm9wcy5kYXRhRmllbGQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVGaWx0ZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIodmFsdWUsIHR5cGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXIuZW1pdHRlci5oYW5kbGVGaWx0ZXIodGhpcy5wcm9wcy5kYXRhRmllbGQsIHZhbHVlLCB0eXBlKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0RmlsdGVycycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpbHRlcnMoKSB7XG5cdCAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5maWx0ZXIudHlwZSkge1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuVEVYVDpcblx0ICAgICAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfZmlsdGVyc1RleHQyWydkZWZhdWx0J10sIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmZpbHRlciwgeyBjb2x1bW5OYW1lOiB0aGlzLnByb3BzLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXIgfSkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLlNFTEVDVDpcblx0ICAgICAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfZmlsdGVyc1NlbGVjdDJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuZmlsdGVyLCB7IGNvbHVtbk5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyOiB0aGlzLmhhbmRsZUZpbHRlciB9KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuTlVNQkVSOlxuXHQgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJzTnVtYmVyMlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5maWx0ZXIsIHsgY29sdW1uTmFtZTogdGhpcy5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyIH0pKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5EQVRFOlxuXHQgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJzRGF0ZTJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuZmlsdGVyLCB7IGNvbHVtbk5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyOiB0aGlzLmhhbmRsZUZpbHRlciB9KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuQ1VTVE9NOlxuXHQgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZmlsdGVyLmdldEVsZW1lbnQodGhpcy5oYW5kbGVGaWx0ZXIsIHRoaXMucHJvcHMuZmlsdGVyLmN1c3RvbUZpbHRlclBhcmFtZXRlcnMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgICAgICB0aGlzLnJlZnMuaW5uZXJEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1maWVsZFwiLCB0aGlzLnByb3BzLmRhdGFGaWVsZCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5wcm9wcy53aWR0aCA9PSBudWxsID8gdGhpcy5wcm9wcy53aWR0aCA6IHRoaXMucHJvcHMud2lkdGguaW5kZXhPZignJScpICE9PSAtMSA/IHRoaXMucHJvcHMud2lkdGggOiBwYXJzZUludCh0aGlzLnByb3BzLndpZHRoKTtcblx0ICAgICAgICAgICAgdmFyIHRoU3R5bGUgPSB7XG5cdCAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IHRoaXMucHJvcHMuZGF0YUFsaWduLFxuXHQgICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy5oaWRkZW4gPyBcIm5vbmVcIiA6IG51bGwsXG5cdCAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG5cdCAgICAgICAgICAgICAgICBtYXhXaWR0aDogd2lkdGhcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0Q2FyZXQgPSAhdGhpcy5wcm9wcy5kYXRhU29ydCA/IG51bGwgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnb3JkZXInIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkcm9wZG93bicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnY2FyZXQnLCBzdHlsZTogeyBtYXJnaW46ICcxMHB4IDAgMTBweCA1cHgnLCBjb2xvcjogJyNjY2MnIH0gfSlcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkcm9wdXAnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2NhcmV0Jywgc3R5bGU6IHsgbWFyZ2luOiAnMTBweCAwJywgY29sb3I6ICcjY2NjJyB9IH0pXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIHZhciBzb3J0Q2FyZXQgPSB0aGlzLnByb3BzLnNvcnQgPyBfdXRpbDJbJ2RlZmF1bHQnXS5yZW5kZXJSZWFjdFNvcnRDYXJldCh0aGlzLnByb3BzLnNvcnQpIDogZGVmYXVsdENhcmV0O1xuXHRcblx0ICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIFwiICsgKHRoaXMucHJvcHMuZGF0YVNvcnQgPyBcInNvcnQtY29sdW1uXCIgOiBcIlwiKTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgICAgICAgIHsgcmVmOiAnaGVhZGVyLWNvbCcsIGNsYXNzTmFtZTogY2xhc3Nlcywgc3R5bGU6IHRoU3R5bGUgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgcmVmOiAnaW5uZXJEaXYnLCBjbGFzc05hbWU6ICd0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDb2x1bW5DbGljay5iaW5kKHRoaXMpIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICAgICAgICBzb3J0Q2FyZXRcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlciA/IHRoaXMuZ2V0RmlsdGVycygpIDogbnVsbFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVGFibGVIZWFkZXJDb2x1bW47XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0dmFyIGZpbHRlclR5cGVBcnJheSA9IFtdO1xuXHRmb3IgKHZhciBrZXkgaW4gX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFKSB7XG5cdCAgICBmaWx0ZXJUeXBlQXJyYXkucHVzaChfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEVba2V5XSk7XG5cdH1cblx0XG5cdFRhYmxlSGVhZGVyQ29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICAgIGRhdGFGaWVsZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkYXRhQWxpZ246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGF0YVNvcnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uU29ydDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGF0YUZvcm1hdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgaXNLZXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGVkaXRhYmxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSxcblx0ICAgIGhpZGRlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHdpZHRoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNvcnRGdW5jOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBjb2x1bW5DbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LFxuXHQgICAgZmlsdGVyRm9ybWF0dGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzb3J0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGZvcm1hdEV4dHJhRGF0YTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksXG5cdCAgICBmaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgICAgIHR5cGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub25lT2YoZmlsdGVyVHlwZUFycmF5KSxcblx0ICAgICAgICBkZWxheTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgb3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBmb3IgU2VsZWN0RmlsdGVyXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyKSAvL2ZvciBOdW1iZXJGaWx0ZXJcblx0ICAgICAgICBdKSxcblx0ICAgICAgICBudW1iZXJDb21wYXJhdG9yczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nKSxcblx0ICAgICAgICBlbWl0dGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgICAgICBwbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgZ2V0RWxlbWVudDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgICAgIGN1c3RvbUZpbHRlclBhcmFtZXRlcnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0XG5cdCAgICB9KVxuXHR9O1xuXHRcblx0VGFibGVIZWFkZXJDb2x1bW4uZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZGF0YUFsaWduOiBcImxlZnRcIixcblx0ICAgIGRhdGFTb3J0OiBmYWxzZSxcblx0ICAgIGRhdGFGb3JtYXQ6IHVuZGVmaW5lZCxcblx0ICAgIGlzS2V5OiBmYWxzZSxcblx0ICAgIGVkaXRhYmxlOiB0cnVlLFxuXHQgICAgb25Tb3J0OiB1bmRlZmluZWQsXG5cdCAgICBoaWRkZW46IGZhbHNlLFxuXHQgICAgY2xhc3NOYW1lOiBcIlwiLFxuXHQgICAgd2lkdGg6IG51bGwsXG5cdCAgICBzb3J0RnVuYzogdW5kZWZpbmVkLFxuXHQgICAgY29sdW1uQ2xhc3NOYW1lOiAnJyxcblx0ICAgIGZpbHRlckZvcm1hdHRlZDogZmFsc2UsXG5cdCAgICBzb3J0OiB1bmRlZmluZWQsXG5cdCAgICBmb3JtYXRFeHRyYURhdGE6IHVuZGVmaW5lZCxcblx0ICAgIGZpbHRlcjogdW5kZWZpbmVkXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUhlYWRlckNvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBUYWJsZVJvdyA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZVJvdywgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRhYmxlUm93KHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVSb3cpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYmxlUm93LnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHQgICAgdGhpcy5jbGlja051bSA9IDA7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVSb3csIFt7XG5cdCAgICBrZXk6ICdyb3dDbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcm93Q2xpY2soZSkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgIT09IFwiSU5QVVRcIiAmJiBlLnRhcmdldC50YWdOYW1lICE9PSBcIlNFTEVDVFwiICYmIGUudGFyZ2V0LnRhZ05hbWUgIT09IFwiVEVYVEFSRUFcIikge1xuXHQgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB2YXIgcm93SW5kZXggPSBlLmN1cnJlbnRUYXJnZXQucm93SW5kZXg7XG5cdCAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2VsZWN0Um93KSB7XG5cdCAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCkge1xuXHQgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0Um93KHJvd0luZGV4LCAhX3RoaXMucHJvcHMuaXNTZWxlY3RlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkge1xuXHQgICAgICAgICAgICAgIF90aGlzLmNsaWNrTnVtKys7XG5cdCAgICAgICAgICAgICAgLyoqIGlmIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCBpcyBlbmFibGVkLFxyXG5cdCAgICAgICAgICAgICAgICogIHRoZXJlIHNob3VsZCBiZSBhIGRlbGF5IHRvIHByZXZlbnQgYSBzZWxlY3Rpb24gY2hhbmdlZCB3aGVuXHJcblx0ICAgICAgICAgICAgICAgKiAgdXNlciBkYmxpY2sgdG8gZWRpdCBjZWxsIG9uIHNhbWUgcm93IGJ1dCBkaWZmZXJlbnQgY2VsbFxyXG5cdCAgICAgICAgICAgICAgKiovXG5cdCAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY2xpY2tOdW0gPT09IDEpIHtcblx0ICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25TZWxlY3RSb3cocm93SW5kZXgsICFfdGhpcy5wcm9wcy5pc1NlbGVjdGVkKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIF90aGlzLmNsaWNrTnVtID0gMDtcblx0ICAgICAgICAgICAgICB9LCAyMDApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Sb3dDbGljaykgX3RoaXMucHJvcHMub25Sb3dDbGljayhyb3dJbmRleCk7XG5cdCAgICAgICAgfSkoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jvd01vdXNlT3V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByb3dNb3VzZU91dChlKSB7XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLm9uUm93TW91c2VPdXQpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdXQoZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jvd01vdXNlT3ZlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcm93TW91c2VPdmVyKGUpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub25Sb3dNb3VzZU92ZXIpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKGUuY3VycmVudFRhcmdldC5yb3dJbmRleCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdGhpcy5jbGlja051bSA9IDA7XG5cdCAgICAgIHZhciB0ckNzcyA9IHtcblx0ICAgICAgICBzdHlsZToge1xuXHQgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmlzU2VsZWN0ZWQgPyB0aGlzLnByb3BzLnNlbGVjdFJvdy5iZ0NvbG9yIDogbnVsbFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5wcm9wcy5pc1NlbGVjdGVkICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA/IHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA6ICcnKSArICh0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJylcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdyAmJiAodGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCB8fCB0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpIHx8IHRoaXMucHJvcHMub25Sb3dDbGljaykge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0cicsXG5cdCAgICAgICAgICBfZXh0ZW5kcyh7fSwgdHJDc3MsIHtcblx0ICAgICAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMucm93TW91c2VPdmVyLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIG9uTW91c2VPdXQ6IHRoaXMucm93TW91c2VPdXQuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25DbGljazogdGhpcy5yb3dDbGljay5iaW5kKHRoaXMpIH0pLFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RyJyxcblx0ICAgICAgICAgIHRyQ3NzLFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZVJvdztcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZVJvdy5wcm9wVHlwZXMgPSB7XG5cdCAgaXNTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGVuYWJsZUNlbGxFZGl0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgb25Sb3dDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uU2VsZWN0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dNb3VzZU91dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uUm93TW91c2VPdmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0VGFibGVSb3cuZGVmYXVsdFByb3BzID0ge1xuXHQgIG9uUm93Q2xpY2s6IHVuZGVmaW5lZFxuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZVJvdztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICB2YXIgZmlsZXNhdmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdCAgdmFyIHNhdmVBcyA9IGZpbGVzYXZlci5zYXZlQXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvU3RyaW5nKGRhdGEsIGtleXMpIHtcblx0ICB2YXIgZGF0YVN0cmluZyA9IFwiXCI7XG5cdCAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZGF0YVN0cmluZztcblx0XG5cdCAgZGF0YVN0cmluZyArPSBrZXlzLmpvaW4oJywnKSArICdcXG4nO1xuXHRcblx0ICBkYXRhLm1hcChmdW5jdGlvbiAocm93KSB7XG5cdCAgICBrZXlzLm1hcChmdW5jdGlvbiAoY29sLCBpKSB7XG5cdCAgICAgIHZhciBjZWxsID0gdHlwZW9mIHJvd1tjb2xdICE9PSAndW5kZWZpbmVkJyA/ICdcIicgKyByb3dbY29sXSArICdcIicgOiBcIlwiO1xuXHQgICAgICBkYXRhU3RyaW5nICs9IGNlbGw7XG5cdCAgICAgIGlmIChpICsgMSA8IGtleXMubGVuZ3RoKSBkYXRhU3RyaW5nICs9ICcsJztcblx0ICAgIH0pO1xuXHRcblx0ICAgIGRhdGFTdHJpbmcgKz0gJ1xcbic7XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBkYXRhU3RyaW5nO1xuXHR9O1xuXHRcblx0dmFyIGV4cG9ydENTViA9IGZ1bmN0aW9uIGV4cG9ydENTVihkYXRhLCBrZXlzLCBmaWxlbmFtZSkge1xuXHQgIHZhciBkYXRhU3RyaW5nID0gdG9TdHJpbmcoZGF0YSwga2V5cyk7XG5cdCAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICBzYXZlQXMobmV3IEJsb2IoW2RhdGFTdHJpbmddLCB7IHR5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCIgfSksIGZpbGVuYW1lIHx8ICdzcHJlYWRzaGVldC5jc3YnKTtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBleHBvcnRDU1Y7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBGaWxlU2F2ZXIuanNcclxuXHQgKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cclxuXHQgKiAxLjEuMjAxNTEwMDNcclxuXHQgKlxyXG5cdCAqIEJ5IEVsaSBHcmV5LCBodHRwOi8vZWxpZ3JleS5jb21cclxuXHQgKiBMaWNlbnNlOiBNSVRcclxuXHQgKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG5cdCAqL1xuXHRcblx0LypnbG9iYWwgc2VsZiAqL1xuXHQvKmpzbGludCBiaXR3aXNlOiB0cnVlLCBpbmRlbnQ6IDQsIGxheGJyZWFrOiB0cnVlLCBsYXhjb21tYTogdHJ1ZSwgc21hcnR0YWJzOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSAqL1xuXHRcblx0LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHNhdmVBcyA9IHNhdmVBcyB8fCAoZnVuY3Rpb24gKHZpZXcpIHtcblx0XHRcInVzZSBzdHJpY3RcIjtcblx0XHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRcdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFsxLTldXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhciBkb2MgPSB2aWV3LmRvY3VtZW50LFxuXHRcdCAgIFxuXHRcdC8vIG9ubHkgZ2V0IFVSTCB3aGVuIG5lY2Vzc2FyeSBpbiBjYXNlIEJsb2IuanMgaGFzbid0IG92ZXJyaWRkZW4gaXQgeWV0XG5cdFx0Z2V0X1VSTCA9IGZ1bmN0aW9uIGdldF9VUkwoKSB7XG5cdFx0XHRyZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcblx0XHR9LFxuXHRcdCAgICBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIiksXG5cdFx0ICAgIGNhbl91c2Vfc2F2ZV9saW5rID0gKFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmspLFxuXHRcdCAgICBjbGljayA9IGZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcblx0XHRcdHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7XG5cdFx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdH0sXG5cdFx0ICAgIGlzX3NhZmFyaSA9IC9WZXJzaW9uXFwvW1xcZFxcLl0rLipTYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksXG5cdFx0ICAgIHdlYmtpdF9yZXFfZnMgPSB2aWV3LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtLFxuXHRcdCAgICByZXFfZnMgPSB2aWV3LnJlcXVlc3RGaWxlU3lzdGVtIHx8IHdlYmtpdF9yZXFfZnMgfHwgdmlldy5tb3pSZXF1ZXN0RmlsZVN5c3RlbSxcblx0XHQgICAgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uIHRocm93X291dHNpZGUoZXgpIHtcblx0XHRcdCh2aWV3LnNldEltbWVkaWF0ZSB8fCB2aWV3LnNldFRpbWVvdXQpKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhyb3cgZXg7XG5cdFx0XHR9LCAwKTtcblx0XHR9LFxuXHRcdCAgICBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcblx0XHQgICAgZnNfbWluX3NpemUgPSAwLFxuXHRcdCAgIFxuXHRcdC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc1Mjk3I2M3IGFuZFxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9jb21taXQvNDg1OTMwYSNjb21taXRjb21tZW50LTg3NjgwNDdcblx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xuXHRcdGFyYml0cmFyeV9yZXZva2VfdGltZW91dCA9IDUwMCxcblx0XHQgICAgLy8gaW4gbXNcblx0XHRyZXZva2UgPSBmdW5jdGlvbiByZXZva2UoZmlsZSkge1xuXHRcdFx0dmFyIHJldm9rZXIgPSBmdW5jdGlvbiByZXZva2VyKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHQvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcblx0XHRcdFx0XHRnZXRfVVJMKCkucmV2b2tlT2JqZWN0VVJMKGZpbGUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGZpbGUgaXMgYSBGaWxlXG5cdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGlmICh2aWV3LmNocm9tZSkge1xuXHRcdFx0XHRyZXZva2VyKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXRUaW1lb3V0KHJldm9rZXIsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQgICAgZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaChmaWxlc2F2ZXIsIGV2ZW50X3R5cGVzLCBldmVudCkge1xuXHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xuXHRcdFx0dmFyIGkgPSBldmVudF90eXBlcy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XG5cdFx0XHRcdGlmICh0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcblx0XHRcdFx0XHR9IGNhdGNoIChleCkge1xuXHRcdFx0XHRcdFx0dGhyb3dfb3V0c2lkZShleCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQgICAgYXV0b19ib20gPSBmdW5jdGlvbiBhdXRvX2JvbShibG9iKSB7XG5cdFx0XHQvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuXHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBCbG9iKFtcIu+7v1wiLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYmxvYjtcblx0XHR9LFxuXHRcdCAgICBGaWxlU2F2ZXIgPSBmdW5jdGlvbiBGaWxlU2F2ZXIoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcblx0XHRcdHZhciBmaWxlc2F2ZXIgPSB0aGlzLFxuXHRcdFx0ICAgIHR5cGUgPSBibG9iLnR5cGUsXG5cdFx0XHQgICAgYmxvYl9jaGFuZ2VkID0gZmFsc2UsXG5cdFx0XHQgICAgb2JqZWN0X3VybCxcblx0XHRcdCAgICB0YXJnZXRfdmlldyxcblx0XHRcdCAgICBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbiBkaXNwYXRjaF9hbGwoKSB7XG5cdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcblx0XHRcdH0sXG5cdFx0XHQgICBcblx0XHRcdC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcblx0XHRcdGZzX2Vycm9yID0gZnVuY3Rpb24gZnNfZXJyb3IoKSB7XG5cdFx0XHRcdGlmICh0YXJnZXRfdmlldyAmJiBpc19zYWZhcmkgJiYgdHlwZW9mIEZpbGVSZWFkZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHQvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIHVybHNcblx0XHRcdFx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdFx0XHRyZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0dmFyIGJhc2U2NERhdGEgPSByZWFkZXIucmVzdWx0O1xuXHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IFwiZGF0YTphdHRhY2htZW50L2ZpbGVcIiArIGJhc2U2NERhdGEuc2xpY2UoYmFzZTY0RGF0YS5zZWFyY2goL1ssO10vKSk7XG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxuXHRcdFx0XHRpZiAoYmxvYl9jaGFuZ2VkIHx8ICFvYmplY3RfdXJsKSB7XG5cdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRhcmdldF92aWV3KSB7XG5cdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIG5ld190YWIgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0aWYgKG5ld190YWIgPT0gdW5kZWZpbmVkICYmIGlzX3NhZmFyaSkge1xuXHRcdFx0XHRcdFx0Ly9BcHBsZSBkbyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwOi8vYml0Lmx5LzFrWmZmUklcblx0XHRcdFx0XHRcdHZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHR9LFxuXHRcdFx0ICAgIGFib3J0YWJsZSA9IGZ1bmN0aW9uIGFib3J0YWJsZShmdW5jKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKGZpbGVzYXZlci5yZWFkeVN0YXRlICE9PSBmaWxlc2F2ZXIuRE9ORSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0ICAgIGNyZWF0ZV9pZl9ub3RfZm91bmQgPSB7IGNyZWF0ZTogdHJ1ZSwgZXhjbHVzaXZlOiBmYWxzZSB9LFxuXHRcdFx0ICAgIHNsaWNlO1xuXHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcblx0XHRcdGlmICghbmFtZSkge1xuXHRcdFx0XHRuYW1lID0gXCJkb3dubG9hZFwiO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XG5cdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdHNhdmVfbGluay5kb3dubG9hZCA9IG5hbWU7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGNsaWNrKHNhdmVfbGluayk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxuXHRcdFx0Ly8gdmlld2VkIGluIGEgdGFiLCBzbyBJIGZvcmNlIHNhdmUgd2l0aCBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cblx0XHRcdC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkxMTU4XG5cdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxuXHRcdFx0Ly8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4OTY0MlxuXHRcdFx0aWYgKHZpZXcuY2hyb21lICYmIHR5cGUgJiYgdHlwZSAhPT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSkge1xuXHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdFx0YmxvYiA9IHNsaWNlLmNhbGwoYmxvYiwgMCwgYmxvYi5zaXplLCBmb3JjZV9zYXZlYWJsZV90eXBlKTtcblx0XHRcdFx0YmxvYl9jaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdC8vIFNpbmNlIEkgY2FuJ3QgYmUgc3VyZSB0aGF0IHRoZSBndWVzc2VkIG1lZGlhIHR5cGUgd2lsbCB0cmlnZ2VyIGEgZG93bmxvYWRcblx0XHRcdC8vIGluIFdlYktpdCwgSSBhcHBlbmQgLmRvd25sb2FkIHRvIHRoZSBmaWxlbmFtZS5cblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxuXHRcdFx0aWYgKHdlYmtpdF9yZXFfZnMgJiYgbmFtZSAhPT0gXCJkb3dubG9hZFwiKSB7XG5cdFx0XHRcdG5hbWUgKz0gXCIuZG93bmxvYWRcIjtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlIHx8IHdlYmtpdF9yZXFfZnMpIHtcblx0XHRcdFx0dGFyZ2V0X3ZpZXcgPSB2aWV3O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFyZXFfZnMpIHtcblx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZnNfbWluX3NpemUgKz0gYmxvYi5zaXplO1xuXHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uIChmcykge1xuXHRcdFx0XHRmcy5yb290LmdldERpcmVjdG9yeShcInNhdmVkXCIsIGNyZWF0ZV9pZl9ub3RfZm91bmQsIGFib3J0YWJsZShmdW5jdGlvbiAoZGlyKSB7XG5cdFx0XHRcdFx0dmFyIHNhdmUgPSBmdW5jdGlvbiBzYXZlKCkge1xuXHRcdFx0XHRcdFx0ZGlyLmdldEZpbGUobmFtZSwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uIChmaWxlKSB7XG5cdFx0XHRcdFx0XHRcdGZpbGUuY3JlYXRlV3JpdGVyKGFib3J0YWJsZShmdW5jdGlvbiAod3JpdGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9ud3JpdGVlbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBmaWxlLnRvVVJMKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldm9rZShmaWxlKTtcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yID0gd3JpdGVyLmVycm9yO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yLmNvZGUgIT09IGVycm9yLkFCT1JUX0VSUikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0XCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIGFib3J0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR3cml0ZXIud3JpdGUoYmxvYik7XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuV1JJVElORztcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7IGNyZWF0ZTogZmFsc2UgfSwgYWJvcnRhYmxlKGZ1bmN0aW9uIChmaWxlKSB7XG5cdFx0XHRcdFx0XHQvLyBkZWxldGUgZmlsZSBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuXHRcdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHR9KSwgYWJvcnRhYmxlKGZ1bmN0aW9uIChleCkge1xuXHRcdFx0XHRcdFx0aWYgKGV4LmNvZGUgPT09IGV4Lk5PVF9GT1VORF9FUlIpIHtcblx0XHRcdFx0XHRcdFx0c2F2ZSgpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSk7XG5cdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdH0sXG5cdFx0ICAgIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZSxcblx0XHQgICAgc2F2ZUFzID0gZnVuY3Rpb24gc2F2ZUFzKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XG5cdFx0fTtcblx0XHQvLyBJRSAxMCsgKG5hdGl2ZSBzYXZlQXMpXG5cdFx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgbmFtZSB8fCBcImRvd25sb2FkXCIpO1xuXHRcdFx0fTtcblx0XHR9XG5cdFxuXHRcdEZTX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGZpbGVzYXZlciA9IHRoaXM7XG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcImFib3J0XCIpO1xuXHRcdH07XG5cdFx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRcdEZTX3Byb3RvLldSSVRJTkcgPSAxO1xuXHRcdEZTX3Byb3RvLkRPTkUgPSAyO1xuXHRcblx0XHRGU19wcm90by5lcnJvciA9IEZTX3Byb3RvLm9ud3JpdGVzdGFydCA9IEZTX3Byb3RvLm9ucHJvZ3Jlc3MgPSBGU19wcm90by5vbndyaXRlID0gRlNfcHJvdG8ub25hYm9ydCA9IEZTX3Byb3RvLm9uZXJyb3IgPSBGU19wcm90by5vbndyaXRlZW5kID0gbnVsbDtcblx0XG5cdFx0cmV0dXJuIHNhdmVBcztcblx0fSkodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZiB8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdyB8fCB1bmRlZmluZWQuY29udGVudCk7XG5cdC8vIGBzZWxmYCBpcyB1bmRlZmluZWQgaW4gRmlyZWZveCBmb3IgQW5kcm9pZCBjb250ZW50IHNjcmlwdCBjb250ZXh0XG5cdC8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxuXHQvLyB3aXRoIGFuIGF0dHJpYnV0ZSBgY29udGVudGAgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgd2luZG93XG5cdFxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzLnNhdmVBcyA9IHNhdmVBcztcblx0fSBlbHNlIGlmIChcImZ1bmN0aW9uXCIgIT09IFwidW5kZWZpbmVkXCIgJiYgX193ZWJwYWNrX3JlcXVpcmVfXyg1NSkgIT09IG51bGwgJiYgX193ZWJwYWNrX3JlcXVpcmVfXyg1NikgIT0gbnVsbCkge1xuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBzYXZlQXM7XG5cdFx0fS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgRGF0ZUZpbHRlciA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKERhdGVGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIERhdGVGaWx0ZXIocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZUZpbHRlcik7XG5cdFxuXHQgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGVGaWx0ZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICAgICAgdGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhEYXRlRmlsdGVyLCBbe1xuXHQgICAgICAgIGtleTogJ3NldERlZmF1bHREYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdERhdGUoKSB7XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0RGF0ZSA9IFwiXCI7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgZm9yIHRoZSBpbnB1dCB0eXBlPWRhdGUsIGkuZS4gXCJZWVlZLU1NLUREXCJcblx0ICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBuZXcgRGF0ZSh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICBkZWZhdWx0RGF0ZSA9IGRlZmF1bHRWYWx1ZS5nZXRGdWxsWWVhcigpICsgJy0nICsgKFwiMFwiICsgKGRlZmF1bHRWYWx1ZS5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSArICctJyArIChcIjBcIiArIGRlZmF1bHRWYWx1ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZGVmYXVsdERhdGU7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2ZpbHRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcihldmVudCkge1xuXHQgICAgICAgICAgICB2YXIgZGF0ZVZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuXHQgICAgICAgICAgICBpZiAoZGF0ZVZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIobmV3IERhdGUoZGF0ZVZhbHVlKSwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkRBVEUpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKG51bGwsIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5EQVRFKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgICAgICB2YXIgZGF0ZVZhbHVlID0gdGhpcy5yZWZzLmlucHV0RGF0ZS5kZWZhdWx0VmFsdWU7XG5cdCAgICAgICAgICAgIGlmIChkYXRlVmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihuZXcgRGF0ZShkYXRlVmFsdWUpLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuREFURSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyByZWY6ICdpbnB1dERhdGUnLFxuXHQgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZmlsdGVyIGRhdGUtZmlsdGVyIGZvcm0tY29udHJvbCcsXG5cdCAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5maWx0ZXIsXG5cdCAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMuc2V0RGVmYXVsdERhdGUoKSB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIERhdGVGaWx0ZXI7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0O1xuXHRcblx0RGF0ZUZpbHRlci5wcm9wVHlwZXMgPSB7XG5cdCAgICBmaWx0ZXJIYW5kbGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBjb2x1bW5OYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gRGF0ZUZpbHRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIGxlZ2FsQ29tcGFyYXRvcnMgPSBbXCI9XCIsIFwiPlwiLCBcIj49XCIsIFwiPFwiLCBcIjw9XCIsIFwiIT1cIl07XG5cdFxuXHR2YXIgTnVtYmVyRmlsdGVyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoTnVtYmVyRmlsdGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBOdW1iZXJGaWx0ZXIocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyRmlsdGVyKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTnVtYmVyRmlsdGVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHQgICAgICAgIHRoaXMubnVtYmVyQ29tcGFyYXRvcnMgPSB0aGlzLnByb3BzLm51bWJlckNvbXBhcmF0b3JzIHx8IGxlZ2FsQ29tcGFyYXRvcnM7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgaXNQbGFjZWhvbGRlclNlbGVjdGVkOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA9PSB1bmRlZmluZWQgfHwgdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyID09IHVuZGVmaW5lZCB8fCB0aGlzLnByb3BzLm9wdGlvbnMgJiYgdGhpcy5wcm9wcy5vcHRpb25zLmluZGV4T2YodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyKSA9PSAtMVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdGhpcy5vbkNoYW5nZU51bWJlciA9IHRoaXMub25DaGFuZ2VOdW1iZXIuYmluZCh0aGlzKTtcblx0ICAgICAgICB0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0ID0gdGhpcy5vbkNoYW5nZU51bWJlclNldC5iaW5kKHRoaXMpO1xuXHQgICAgICAgIHRoaXMub25DaGFuZ2VDb21wYXJhdG9yID0gdGhpcy5vbkNoYW5nZUNvbXBhcmF0b3IuYmluZCh0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoTnVtYmVyRmlsdGVyLCBbe1xuXHQgICAgICAgIGtleTogJ29uQ2hhbmdlTnVtYmVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2VOdW1iZXIoZXZlbnQpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuXHQgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgc2VsZi5wcm9wcy5maWx0ZXJIYW5kbGVyKHsgbnVtYmVyOiBmaWx0ZXJWYWx1ZSwgY29tcGFyYXRvcjogc2VsZi5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgfSwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUik7XG5cdCAgICAgICAgICAgIH0sIHNlbGYucHJvcHMuZGVsYXkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbkNoYW5nZU51bWJlclNldCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlTnVtYmVyU2V0KGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6IGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gXCJcIiB9KTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHsgbnVtYmVyOiBldmVudC50YXJnZXQudmFsdWUsIGNvbXBhcmF0b3I6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlIH0sIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5OVU1CRVIpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbkNoYW5nZUNvbXBhcmF0b3InLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZUNvbXBhcmF0b3IoZXZlbnQpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUgPT09IFwiXCIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoeyBudW1iZXI6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUsIGNvbXBhcmF0b3I6IGV2ZW50LnRhcmdldC52YWx1ZSB9LCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuTlVNQkVSKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0Q29tcGFyYXRvck9wdGlvbnMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21wYXJhdG9yT3B0aW9ucygpIHtcblx0ICAgICAgICAgICAgdmFyIG9wdGlvblRhZ3MgPSBbXTtcblx0ICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdvcHRpb24nLCB7IGtleTogJy0xJyB9KSk7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5udW1iZXJDb21wYXJhdG9ycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdvcHRpb24nLFxuXHQgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpLCB2YWx1ZTogdGhpcy5udW1iZXJDb21wYXJhdG9yc1tpXSB9LFxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyQ29tcGFyYXRvcnNbaV1cblx0ICAgICAgICAgICAgICAgICkpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0TnVtYmVyT3B0aW9ucycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE51bWJlck9wdGlvbnMoKSB7XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25UYWdzID0gW107XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xuXHRcblx0ICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ29wdGlvbicsXG5cdCAgICAgICAgICAgICAgICB7IGtleTogJy0xJywgdmFsdWU6ICcnIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICdTZWxlY3QgJyArIHRoaXMucHJvcHMuY29sdW1uTmFtZSArICcuLi4nXG5cdCAgICAgICAgICAgICkpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnb3B0aW9uJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGtleTogaSwgdmFsdWU6IG9wdGlvbnNbaV0gfSxcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2ldXG5cdCAgICAgICAgICAgICAgICApKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgcmV0dXJuIG9wdGlvblRhZ3M7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSAmJiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoeyBudW1iZXI6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUsXG5cdCAgICAgICAgICAgICAgICAgICAgY29tcGFyYXRvcjogdGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgfSwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwic2VsZWN0LWZpbHRlclwiLCBcIm51bWJlci1maWx0ZXItaW5wdXRcIiwgXCJmb3JtLWNvbnRyb2xcIiwgeyBcInBsYWNlaG9sZGVyLXNlbGVjdGVkXCI6IHRoaXMuc3RhdGUuaXNQbGFjZWhvbGRlclNlbGVjdGVkIH0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2ZpbHRlciBudW1iZXItZmlsdGVyJyB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICAgICAgeyByZWY6ICdudW1iZXJGaWx0ZXJDb21wYXJhdG9yJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbnVtYmVyLWZpbHRlci1jb21wYXJhdG9yIGZvcm0tY29udHJvbCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLmNvbXBhcmF0b3IgOiBcIlwiIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDb21wYXJhdG9yT3B0aW9ucygpXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICAgICAgeyByZWY6ICdudW1iZXJGaWx0ZXInLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHNlbGVjdENsYXNzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZU51bWJlclNldCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlciA6IFwiXCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE51bWJlck9wdGlvbnMoKVxuXHQgICAgICAgICAgICAgICAgKSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgcmVmOiAnbnVtYmVyRmlsdGVyJyxcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcblx0ICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdudW1iZXItZmlsdGVyLWlucHV0IGZvcm0tY29udHJvbCcsXG5cdCAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgJ0VudGVyICcgKyB0aGlzLnByb3BzLmNvbHVtbk5hbWUgKyAnLi4uJyxcblx0ICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZU51bWJlcixcblx0ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlID8gdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyIDogXCJcIiB9KVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gTnVtYmVyRmlsdGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdDtcblx0XG5cdE51bWJlckZpbHRlci5wcm9wVHlwZXMgPSB7XG5cdCAgICBmaWx0ZXJIYW5kbGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlciksXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgICAgIG51bWJlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgY29tcGFyYXRvcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihsZWdhbENvbXBhcmF0b3JzKVxuXHQgICAgfSksXG5cdCAgICBkZWxheTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICBudW1iZXJDb21wYXJhdG9yczogZnVuY3Rpb24gbnVtYmVyQ29tcGFyYXRvcnMocHJvcHMsIHByb3BOYW1lKSB7XG5cdCAgICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzW3Byb3BOYW1lXS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgY29tcGFyYXRvcklzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZWdhbENvbXBhcmF0b3JzLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAobGVnYWxDb21wYXJhdG9yc1tqXSA9PT0gcHJvcHNbcHJvcE5hbWVdW2ldKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29tcGFyYXRvcklzVmFsaWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghY29tcGFyYXRvcklzVmFsaWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ051bWJlciBjb21wYXJhdG9yIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBvbmx5ICcgKyBsZWdhbENvbXBhcmF0b3JzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBwbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjb2x1bW5OYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0TnVtYmVyRmlsdGVyLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGRlbGF5OiBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX0RFTEFZXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBOdW1iZXJGaWx0ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgU2VsZWN0RmlsdGVyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdFx0X2luaGVyaXRzKFNlbGVjdEZpbHRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHRcdGZ1bmN0aW9uIFNlbGVjdEZpbHRlcihwcm9wcykge1xuXHRcdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdEZpbHRlcik7XG5cdFxuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VsZWN0RmlsdGVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHRcdFx0dGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdFx0aXNQbGFjZWhvbGRlclNlbGVjdGVkOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA9PSB1bmRlZmluZWQgfHwgIXRoaXMucHJvcHMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSlcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHRfY3JlYXRlQ2xhc3MoU2VsZWN0RmlsdGVyLCBbe1xuXHRcdFx0a2V5OiAnZmlsdGVyJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoZXZlbnQpIHtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGlzUGxhY2Vob2xkZXJTZWxlY3RlZDogZXZlbnQudGFyZ2V0LnZhbHVlID09PSBcIlwiIH0pO1xuXHRcdFx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoZXZlbnQudGFyZ2V0LnZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuU0VMRUNUKTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdnZXRPcHRpb25zJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuXHRcdFx0XHR2YXIgb3B0aW9uVGFncyA9IFtdO1xuXHRcdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucztcblx0XHRcdFx0b3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdCdvcHRpb24nLFxuXHRcdFx0XHRcdHsga2V5OiAnLTEnLCB2YWx1ZTogJycgfSxcblx0XHRcdFx0XHR0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICdTZWxlY3QgJyArIHRoaXMucHJvcHMuY29sdW1uTmFtZSArICcuLi4nXG5cdFx0XHRcdCkpO1xuXHRcdFx0XHRPYmplY3Qua2V5cyhvcHRpb25zKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdG9wdGlvblRhZ3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdCdvcHRpb24nLFxuXHRcdFx0XHRcdFx0eyBrZXk6IGtleSwgdmFsdWU6IGtleSB9LFxuXHRcdFx0XHRcdFx0b3B0aW9uc1trZXldXG5cdFx0XHRcdFx0KSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gb3B0aW9uVGFncztcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0XHRcdGlmICh0aGlzLnJlZnMuc2VsZWN0SW5wdXQudmFsdWUpIHtcblx0XHRcdFx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIodGhpcy5yZWZzLnNlbGVjdElucHV0LnZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuU0VMRUNUKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ3JlbmRlcicsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0XHR2YXIgc2VsZWN0Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwiZmlsdGVyXCIsIFwic2VsZWN0LWZpbHRlclwiLCBcImZvcm0tY29udHJvbFwiLCB7IFwicGxhY2Vob2xkZXItc2VsZWN0ZWRcIjogdGhpcy5zdGF0ZS5pc1BsYWNlaG9sZGVyU2VsZWN0ZWQgfSk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J3NlbGVjdCcsXG5cdFx0XHRcdFx0eyByZWY6ICdzZWxlY3RJbnB1dCcsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU6IHNlbGVjdENsYXNzLFxuXHRcdFx0XHRcdFx0b25DaGFuZ2U6IHRoaXMuZmlsdGVyLFxuXHRcdFx0XHRcdFx0ZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSAhPSB1bmRlZmluZWQgPyB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA6IFwiXCIgfSxcblx0XHRcdFx0XHR0aGlzLmdldE9wdGlvbnMoKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1dKTtcblx0XG5cdFx0cmV0dXJuIFNlbGVjdEZpbHRlcjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHQ7XG5cdFxuXHRTZWxlY3RGaWx0ZXIucHJvcFR5cGVzID0ge1xuXHRcdGZpbHRlckhhbmRsZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRcdG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdFx0cGxhY2Vob2xkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHRcdGNvbHVtbk5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBTZWxlY3RGaWx0ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBUZXh0RmlsdGVyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdFx0X2luaGVyaXRzKFRleHRGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0XHRmdW5jdGlvbiBUZXh0RmlsdGVyKHByb3BzKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dEZpbHRlcik7XG5cdFxuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dEZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0XHRcdHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuYmluZCh0aGlzKTtcblx0XHRcdHRoaXMudGltZW91dCA9IG51bGw7XG5cdFx0fVxuXHRcblx0XHRfY3JlYXRlQ2xhc3MoVGV4dEZpbHRlciwgW3tcblx0XHRcdGtleTogJ2ZpbHRlcicsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gZmlsdGVyKGV2ZW50KSB7XG5cdFx0XHRcdGlmICh0aGlzLnRpbWVvdXQpIHtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdHZhciBmaWx0ZXJWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblx0XHRcdFx0dGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0c2VsZi5wcm9wcy5maWx0ZXJIYW5kbGVyKGZpbHRlclZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuVEVYVCk7XG5cdFx0XHRcdH0sIHNlbGYucHJvcHMuZGVsYXkpO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRcdFx0aWYgKHRoaXMucmVmcy5pbnB1dFRleHQuZGVmYXVsdFZhbHVlKSB7XG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHRoaXMucmVmcy5pbnB1dFRleHQuZGVmYXVsdFZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuVEVYVCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdyZW5kZXInLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgcmVmOiAnaW5wdXRUZXh0Jyxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdmaWx0ZXIgdGV4dC1maWx0ZXIgZm9ybS1jb250cm9sJyxcblx0XHRcdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRcdFx0b25DaGFuZ2U6IHRoaXMuZmlsdGVyLFxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICdFbnRlciAnICsgdGhpcy5wcm9wcy5jb2x1bW5OYW1lICsgJy4uLicsXG5cdFx0XHRcdFx0ZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIDogXCJcIiB9KTtcblx0XHRcdH1cblx0XHR9XSk7XG5cdFxuXHRcdHJldHVybiBUZXh0RmlsdGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdDtcblx0XG5cdFRleHRGaWx0ZXIucHJvcFR5cGVzID0ge1xuXHRcdGZpbHRlckhhbmRsZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRcdGRlZmF1bHRWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdFx0ZGVsYXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHRcdHBsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0XHRjb2x1bW5OYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0VGV4dEZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XG5cdFx0ZGVsYXk6IF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfREVMQVlcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFRleHRGaWx0ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBQYWdlQnV0dG9uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2VCdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBQYWdlQnV0dG9uKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnZUJ1dHRvbik7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFnZUJ1dHRvbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhQYWdlQnV0dG9uLCBbe1xuXHQgICAga2V5OiAncGFnZUJ0bkNsaWNrJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYWdlQnRuQ2xpY2soZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIHRoaXMucHJvcHMuY2hhbmdlUGFnZShlLmN1cnJlbnRUYXJnZXQudGV4dCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBjbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSh7XG5cdCAgICAgICAgJ2FjdGl2ZSc6IHRoaXMucHJvcHMuYWN0aXZlLFxuXHQgICAgICAgICdkaXNhYmxlZCc6IHRoaXMucHJvcHMuZGlzYWJsZSxcblx0ICAgICAgICAnaGlkZGVuJzogdGhpcy5wcm9wcy5oaWRkZW5cblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzIH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnYScsXG5cdCAgICAgICAgICB7IGhyZWY6ICcjJywgb25DbGljazogdGhpcy5wYWdlQnRuQ2xpY2suYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBQYWdlQnV0dG9uO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFBhZ2VCdXR0b24ucHJvcFR5cGVzID0ge1xuXHQgIGNoYW5nZVBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBhY3RpdmU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBkaXNhYmxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFBhZ2VCdXR0b247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9QYWdlQnV0dG9uSnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0XG5cdHZhciBfUGFnZUJ1dHRvbkpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhZ2VCdXR0b25Kcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIFBhZ2luYXRpb25MaXN0ID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2luYXRpb25MaXN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUGFnaW5hdGlvbkxpc3QoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbkxpc3QpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhZ2luYXRpb25MaXN0LnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUGFnaW5hdGlvbkxpc3QsIFt7XG5cdCAgICBrZXk6ICdjaGFuZ2VQYWdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VQYWdlKHBhZ2UpIHtcblx0ICAgICAgaWYgKHBhZ2UgPT0gdGhpcy5wcm9wcy5wcmVQYWdlKSB7XG5cdCAgICAgICAgcGFnZSA9IHRoaXMucHJvcHMuY3VyclBhZ2UgLSAxIDwgMSA/IDEgOiB0aGlzLnByb3BzLmN1cnJQYWdlIC0gMTtcblx0ICAgICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMubmV4dFBhZ2UpIHtcblx0ICAgICAgICBwYWdlID0gdGhpcy5wcm9wcy5jdXJyUGFnZSArIDEgPiB0aGlzLnRvdGFsUGFnZXMgPyB0aGlzLnRvdGFsUGFnZXMgOiB0aGlzLnByb3BzLmN1cnJQYWdlICsgMTtcblx0ICAgICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMubGFzdFBhZ2UpIHtcblx0ICAgICAgICBwYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xuXHQgICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gdGhpcy5wcm9wcy5maXJzdFBhZ2UpIHtcblx0ICAgICAgICBwYWdlID0gMTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYWdlID0gcGFyc2VJbnQocGFnZSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChwYWdlICE9IHRoaXMucHJvcHMuY3VyclBhZ2UpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLmNoYW5nZVBhZ2UocGFnZSwgdGhpcy5wcm9wcy5zaXplUGVyUGFnZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjaGFuZ2VTaXplUGVyUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlU2l6ZVBlclBhZ2UoZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgICB2YXIgc2VsZWN0U2l6ZSA9IHBhcnNlSW50KGUuY3VycmVudFRhcmdldC50ZXh0KTtcblx0ICAgICAgdmFyIGN1cnJQYWdlID0gdGhpcy5wcm9wcy5jdXJyUGFnZTtcblx0XG5cdCAgICAgIGlmIChzZWxlY3RTaXplICE9IHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpIHtcblx0ICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5wcm9wcy5kYXRhU2l6ZSAvIHNlbGVjdFNpemUpO1xuXHQgICAgICAgIGlmIChjdXJyUGFnZSA+IHRoaXMudG90YWxQYWdlcykgY3VyclBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XG5cdFxuXHQgICAgICAgIHRoaXMucHJvcHMuY2hhbmdlUGFnZShjdXJyUGFnZSwgc2VsZWN0U2l6ZSk7XG5cdCAgICAgICAgaWYgKHRoaXMucHJvcHMub25TaXplUGVyUGFnZUxpc3QpIHtcblx0ICAgICAgICAgIHRoaXMucHJvcHMub25TaXplUGVyUGFnZUxpc3Qoc2VsZWN0U2l6ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB0aGlzLnRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5wcm9wcy5kYXRhU2l6ZSAvIHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpO1xuXHQgICAgICB2YXIgcGFnZUJ0bnMgPSB0aGlzLm1ha2VQYWdlKCk7XG5cdCAgICAgIHZhciBwYWdlTGlzdFN0eWxlID0ge1xuXHQgICAgICAgIGZsb2F0OiBcInJpZ2h0XCIsXG5cdCAgICAgICAgbWFyZ2luVG9wOiBcIjBweFwiIC8vb3ZlcnJpZGUgdGhlIG1hcmdpbi10b3AgZGVmaW5lZCBpbiAucGFnaW5hdGlvbiBjbGFzcyBpbiBib290c3RyYXAuXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgc2l6ZVBlclBhZ2VMaXN0ID0gdGhpcy5wcm9wcy5zaXplUGVyUGFnZUxpc3QubWFwKGZ1bmN0aW9uIChzaXplUGVyUGFnZSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICB7IGtleTogc2l6ZVBlclBhZ2UsIHJvbGU6ICdwcmVzZW50YXRpb24nIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICB7IHJvbGU6ICdtZW51aXRlbScsIHRhYkluZGV4OiAnLTEnLCBocmVmOiAnIycsIG9uQ2xpY2s6IF90aGlzLmNoYW5nZVNpemVQZXJQYWdlLmJpbmQoX3RoaXMpIH0sXG5cdCAgICAgICAgICAgIHNpemVQZXJQYWdlXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdyb3cnLCBzdHlsZTogeyBtYXJnaW5Ub3A6IDE1IH0gfSxcblx0ICAgICAgICB0aGlzLnByb3BzLnNpemVQZXJQYWdlTGlzdC5sZW5ndGggPiAxID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLW1kLTYnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZHJvcGRvd24nIH0sXG5cdCAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZScsIHR5cGU6ICdidXR0b24nLCBpZDogJ3BhZ2VEcm9wRG93bicsICdkYXRhLXRvZ2dsZSc6ICdkcm9wZG93bicsXG5cdCAgICAgICAgICAgICAgICAgICdhcmlhLWV4cGFuZGVkJzogJ3RydWUnIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNpemVQZXJQYWdlLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgICAgXCIgXCIsXG5cdCAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdjYXJldCcgfSlcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZHJvcGRvd24tbWVudScsIHJvbGU6ICdtZW51JywgJ2FyaWEtbGFiZWxsZWRieSc6ICdwYWdlRHJvcERvd24nIH0sXG5cdCAgICAgICAgICAgICAgICBzaXplUGVyUGFnZUxpc3Rcblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLW1kLTYnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYWdpbmF0aW9uJywgc3R5bGU6IHBhZ2VMaXN0U3R5bGUgfSxcblx0ICAgICAgICAgICAgICBwYWdlQnRuc1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC1tZC0xMicgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAndWwnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BhZ2luYXRpb24nLCBzdHlsZTogcGFnZUxpc3RTdHlsZSB9LFxuXHQgICAgICAgICAgICBwYWdlQnRuc1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVBhZ2UoKSB7XG5cdCAgICAgIHZhciBwYWdlcyA9IHRoaXMuZ2V0UGFnZXMoKTtcblx0ICAgICAgcmV0dXJuIHBhZ2VzLm1hcChmdW5jdGlvbiAocGFnZSkge1xuXHQgICAgICAgIHZhciBpc0FjdGl2ZSA9IHBhZ2UgPT09IHRoaXMucHJvcHMuY3VyclBhZ2U7XG5cdCAgICAgICAgdmFyIGRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGhpZGRlbiA9IGZhbHNlO1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLmN1cnJQYWdlID09IDEgJiYgKHBhZ2UgPT09IHRoaXMucHJvcHMuZmlyc3RQYWdlIHx8IHBhZ2UgPT09IHRoaXMucHJvcHMucHJlUGFnZSkpIHtcblx0ICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgICAgIGhpZGRlbiA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLmN1cnJQYWdlID09IHRoaXMudG90YWxQYWdlcyAmJiAocGFnZSA9PT0gdGhpcy5wcm9wcy5uZXh0UGFnZSB8fCBwYWdlID09PSB0aGlzLnByb3BzLmxhc3RQYWdlKSkge1xuXHQgICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgaGlkZGVuID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX1BhZ2VCdXR0b25KczJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgIHsgY2hhbmdlUGFnZTogdGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcyksIGFjdGl2ZTogaXNBY3RpdmUsIGRpc2FibGU6IGRpc2FibGVkLCBoaWRkZW46IGhpZGRlbiwga2V5OiBwYWdlIH0sXG5cdCAgICAgICAgICBwYWdlXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0UGFnZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZ2VzKCkge1xuXHQgICAgICB2YXIgc3RhcnRQYWdlID0gMSxcblx0ICAgICAgICAgIGVuZFBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XG5cdFxuXHQgICAgICBzdGFydFBhZ2UgPSBNYXRoLm1heCh0aGlzLnByb3BzLmN1cnJQYWdlIC0gTWF0aC5mbG9vcih0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplIC8gMiksIDEpO1xuXHQgICAgICBlbmRQYWdlID0gc3RhcnRQYWdlICsgdGhpcy5wcm9wcy5wYWdpbmF0aW9uU2l6ZSAtIDE7XG5cdFxuXHQgICAgICBpZiAoZW5kUGFnZSA+IHRoaXMudG90YWxQYWdlcykge1xuXHQgICAgICAgIGVuZFBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XG5cdCAgICAgICAgc3RhcnRQYWdlID0gZW5kUGFnZSAtIHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUgKyAxO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwYWdlcztcblx0ICAgICAgaWYgKHN0YXJ0UGFnZSAhPSAxICYmIHRoaXMudG90YWxQYWdlcyA+IHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUpIHtcblx0ICAgICAgICBwYWdlcyA9IFt0aGlzLnByb3BzLmZpcnN0UGFnZSwgdGhpcy5wcm9wcy5wcmVQYWdlXTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XG5cdCAgICAgICAgcGFnZXMgPSBbdGhpcy5wcm9wcy5wcmVQYWdlXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYWdlcyA9IFtdO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGkgPSBzdGFydFBhZ2U7IGkgPD0gZW5kUGFnZTsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGkgPiAwKSBwYWdlcy5wdXNoKGkpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlbmRQYWdlICE9IHRoaXMudG90YWxQYWdlcykge1xuXHQgICAgICAgIHBhZ2VzLnB1c2godGhpcy5wcm9wcy5uZXh0UGFnZSk7XG5cdCAgICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLmxhc3RQYWdlKTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XG5cdCAgICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLm5leHRQYWdlKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcGFnZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudFBhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jdXJyUGFnZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRTaXplUGVyUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2l6ZVBlclBhZ2UoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb3BzLnNpemVQZXJQYWdlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFBhZ2luYXRpb25MaXN0O1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFBhZ2luYXRpb25MaXN0LnByb3BUeXBlcyA9IHtcblx0ICBjdXJyUGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgc2l6ZVBlclBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGRhdGFTaXplOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICBjaGFuZ2VQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2l6ZVBlclBhZ2VMaXN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgIHBhZ2luYXRpb25TaXplOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICByZW1vdGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvblNpemVQZXJQYWdlTGlzdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIHByZVBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRQYWdpbmF0aW9uTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgc2l6ZVBlclBhZ2U6IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBQYWdpbmF0aW9uTGlzdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIF9FZGl0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9FZGl0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRWRpdG9yKTtcblx0XG5cdHZhciBfTm90aWZpY2F0aW9uSnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9Ob3RpZmljYXRpb25KczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob3RpZmljYXRpb25Kcyk7XG5cdFxuXHR2YXIgX3JjU3dpdGNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmNTd2l0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNTd2l0Y2gpO1xuXHRcblx0dmFyIFRvb2xCYXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUb29sQmFyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUb29sQmFyKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvb2xCYXIpO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUb29sQmFyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHRcblx0ICAgICAgICB0aGlzLmhhbmRsZVNob3dPbmx5VG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2hvd1NlbGVjdGVkOiAhX3RoaXMuc3RhdGUuc2hvd1NlbGVjdGVkXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNob3dPbmx5U2VsZWN0ZWQoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB0aGlzLmhhbmRsZUNsZWFyQnRuQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnJlZnMuc2VhY2hJbnB1dC52YWx1ZSA9ICcnO1xuXHQgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNlYXJjaCgnJyk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcblx0ICAgICAgICB0aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBpc0luc2VydFJvd1RyaWdnZXI6IHRydWUsXG5cdCAgICAgICAgICAgIHZhbGlkYXRlU3RhdGU6IG51bGwsXG5cdCAgICAgICAgICAgIHNoYWtlRWRpdG9yOiBmYWxzZSxcblx0ICAgICAgICAgICAgc2hvd1NlbGVjdGVkOiBmYWxzZVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFRvb2xCYXIsIFt7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXQoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY2xlYXJUaW1lb3V0Jyxcblx0ICAgICAgICB2YWx1ZTogKGZ1bmN0aW9uIChfY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyVGltZW91dCgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfY2xlYXJUaW1lb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGNsZWFyVGltZW91dC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfY2xlYXJUaW1lb3V0LnRvU3RyaW5nKCk7XG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0pKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMudGltZW91dGVDbGVhcikge1xuXHQgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dGVDbGVhcik7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXRlQ2xlYXIgPSAwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSlcblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjaGVja0FuZFBhcnNlRm9ybScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrQW5kUGFyc2VGb3JtKCkge1xuXHQgICAgICAgICAgICB2YXIgdHMgPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgbmV3T2JqID0ge30sXG5cdCAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdHJ1ZSxcblx0ICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSxcblx0ICAgICAgICAgICAgICAgIHRlbXBNc2csXG5cdCAgICAgICAgICAgICAgICB2YWxpZGF0ZVN0YXRlID0ge307XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uYXV0b1ZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSB0eXBlb2YgY29sdW1uLmF1dG9WYWx1ZSA9PSAnZnVuY3Rpb24nID8gY29sdW1uLmF1dG9WYWx1ZSgpIDogJ2F1dG92YWx1ZS0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBkb20gPSB0aGlzLnJlZnNbY29sdW1uLmZpZWxkICsgaV07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkb20gIT09ICd1bmRlZmluZWQnKSB0ZW1wVmFsdWUgPSBkb20udmFsdWU7ZWxzZSB0ZW1wVmFsdWUgPSB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmVkaXRhYmxlICYmIGNvbHVtbi5lZGl0YWJsZS50eXBlID09ICdjaGVja2JveCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGRvbS52YWx1ZS5zcGxpdCgnOicpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSBkb20uY2hlY2tlZCA/IHZhbHVlc1swXSA6IHZhbHVlc1sxXTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uZWRpdGFibGUgJiYgY29sdW1uLmVkaXRhYmxlLnZhbGlkYXRvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL3Byb2Nlc3MgdmFsaWRhdGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGVtcE1zZyA9IGNvbHVtbi5lZGl0YWJsZS52YWxpZGF0b3IodGVtcFZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBNc2cgIT09IHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdGVbY29sdW1uLmZpZWxkXSA9IHRlbXBNc2c7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgbmV3T2JqW2NvbHVtbi5maWVsZF0gPSB0ZW1wVmFsdWU7XG5cdCAgICAgICAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXdPYmo7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0cy5jbGVhclRpbWVvdXQoKTtcblx0ICAgICAgICAgICAgICAgIC8vc2hvdyBlcnJvciBpbiBmb3JtIGFuZCBzaGFrZSBpdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRlU3RhdGU6IHZhbGlkYXRlU3RhdGUsIHNoYWtlRWRpdG9yOiB0cnVlIH0pO1xuXHQgICAgICAgICAgICAgICAgLy9ub3RpZmllciBlcnJvclxuXHQgICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgXCJGb3JtIHZhbGlkYXRlIGVycm9ycywgcGxlYXNlIGNoZWNraW5nIVwiLCBcIlByZXNzZWQgRVNDIGNhbiBjYW5jZWxcIik7XG5cdCAgICAgICAgICAgICAgICAvL2NsZWFyIGFuaW1hdGUgY2xhc3Ncblx0ICAgICAgICAgICAgICAgIHRzLnRpbWVvdXRlQ2xlYXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7IHNoYWtlRWRpdG9yOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgIH0sIDMwMCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVTYXZlQnRuQ2xpY2snLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTYXZlQnRuQ2xpY2soZSkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBuZXdPYmogPSB0aGlzLmNoZWNrQW5kUGFyc2VGb3JtKCk7XG5cdCAgICAgICAgICAgIGlmICghbmV3T2JqKSB7XG5cdCAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIGVycm9yc1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMub25BZGRSb3cobmV3T2JqKS50aGVuKGZ1bmN0aW9uIChtc2cpIHtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICcnO1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBtc2cuZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBlcnJvci5tZXNzYWdlICsgJy4gJztcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXgpO1xuXHQgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gbXNnLnRvU3RyaW5nKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAobXNnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gX3RoaXMyO1xuXHQgICAgICAgICAgICAgICAgICAgIHRzLnJlZnMubm90aWZpZXIubm90aWNlKCdlcnJvcicsIG1lc3NhZ2UsIFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcblx0ICAgICAgICAgICAgICAgICAgICB0cy5jbGVhclRpbWVvdXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICAvL3NoYWtlIGZvcm0gYW5kIGhhY2sgcHJldmVudCBtb2RhbCBoaWRlXG5cdCAgICAgICAgICAgICAgICAgICAgdHMuc2V0U3RhdGUoeyBzaGFrZUVkaXRvcjogdHJ1ZSwgdmFsaWRhdGVTdGF0ZTogXCJ0aGlzIGlzIGhhY2sgZm9yIHByZXZlbnQgYm9vdHN0cmFwIG1vZGFsIGhpZGVcIiB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIGFuaW1hdGUgY2xhc3Ncblx0ICAgICAgICAgICAgICAgICAgICB0cy50aW1lb3V0ZUNsZWFyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHsgc2hha2VFZGl0b3I6IGZhbHNlIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgc3RhdGUgYW5kIGhpZGUgbW9kYWwgaGlkZVxuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdGU6IG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNoYWtlRWRpdG9yOiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5cIiArIFwibW9kYWxcIikuY2xpY2soKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IGZvcm1cblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVmcy5mb3JtLnJlc2V0KCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVEcm9wUm93QnRuQ2xpY2snLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEcm9wUm93QnRuQ2xpY2soZSkge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uRHJvcFJvdygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVDbG9zZUJ0bicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlQnRuKGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZWZzLndhcm5pbmcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVLZXlVcCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUtleVVwKGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaChlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVFeHBvcnRDU1YnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFeHBvcnRDU1YoKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMub25FeHBvcnRDU1YoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgbW9kYWxDbGFzc05hbWUgPSBcImJzLXRhYmxlLW1vZGFsLXNtXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICAgICAgICAgICAgdmFyIGluc2VydEJ0biA9IHRoaXMucHJvcHMuZW5hYmxlSW5zZXJ0ID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogJ2J1dHRvbicsIG9uQ2xpY2s6IHRoaXMucHJvcHMub25BZGRSb3dCZWdpbiwgY2xhc3NOYW1lOiAnYnRuIGJ0bi1pbmZvIHJlYWN0LWJzLXRhYmxlLWFkZC1idG4nLFxuXHQgICAgICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6ICdtb2RhbCcsICdkYXRhLXRhcmdldCc6ICcuJyArIG1vZGFsQ2xhc3NOYW1lIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaScsIHsgY2xhc3NOYW1lOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1wbHVzJyB9KSxcblx0ICAgICAgICAgICAgICAgICcgTmV3J1xuXHQgICAgICAgICAgICApIDogbnVsbDtcblx0XG5cdCAgICAgICAgICAgIHZhciBkZWxldGVCdG4gPSB0aGlzLnByb3BzLmVuYWJsZURlbGV0ZSA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICB7IHR5cGU6ICdidXR0b24nLCBjbGFzc05hbWU6ICdidG4gYnRuLXdhcm5pbmcgcmVhY3QtYnMtdGFibGUtZGVsLWJ0bicsICdkYXRhLXRvZ2dsZSc6ICd0b29sdGlwJyxcblx0ICAgICAgICAgICAgICAgICAgICAnZGF0YS1wbGFjZW1lbnQnOiAncmlnaHQnLCB0aXRsZTogJ0Ryb3Agc2VsZWN0ZWQgcm93Jyxcblx0ICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZURyb3BSb3dCdG5DbGljay5iaW5kKHRoaXMpIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaScsIHsgY2xhc3NOYW1lOiAnZ2x5cGhpY29uIGdseXBoaWNvbi10cmFzaCcgfSksXG5cdCAgICAgICAgICAgICAgICAnIERlbGV0ZSdcblx0ICAgICAgICAgICAgKSA6IG51bGw7XG5cdFxuXHQgICAgICAgICAgICB2YXIgc2VhcmNoVGV4dElucHV0ID0gdGhpcy5yZW5kZXJTZWFyY2hQYW5lbCgpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHNob3dTZWxlY3RlZE9ubHlCdG4gPSB0aGlzLnByb3BzLmVuYWJsZVNob3dPbmx5U2VsZWN0ZWQgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgb25DbGljazogdGhpcy5oYW5kbGVTaG93T25seVRvZ2dsZS5iaW5kKHRoaXMpLCBjbGFzc05hbWU6ICdidG4gYnRuLXByaW1hcnknLFxuXHQgICAgICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6ICdidXR0b24nLCAnYXJpYS1wcmVzc2VkJzogJ2ZhbHNlJyB9LFxuXHQgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zaG93U2VsZWN0ZWQgPyBfQ29uc3QyWydkZWZhdWx0J10uU0hPV19BTEwgOiBfQ29uc3QyWydkZWZhdWx0J10uU0hPV19PTkxZX1NFTEVDVFxuXHQgICAgICAgICAgICApIDogbnVsbDtcblx0XG5cdCAgICAgICAgICAgIHZhciBtb2RhbCA9IHRoaXMucHJvcHMuZW5hYmxlSW5zZXJ0ID8gdGhpcy5yZW5kZXJJbnNlcnRSb3dNb2RhbChtb2RhbENsYXNzTmFtZSkgOiBudWxsO1xuXHQgICAgICAgICAgICB2YXIgd2FybmluZ1N0eWxlID0ge1xuXHQgICAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCIsXG5cdCAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IDBcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHZhciBleHBvcnRDU1YgPSB0aGlzLnByb3BzLmVuYWJsZUV4cG9ydENTViA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICB7IHR5cGU6ICdidXR0b24nLCBjbGFzc05hbWU6ICdidG4gYnRuLXN1Y2Nlc3MnLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUV4cG9ydENTVi5iaW5kKHRoaXMpIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaScsIHsgY2xhc3NOYW1lOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1leHBvcnQnIH0pLFxuXHQgICAgICAgICAgICAgICAgJyBFeHBvcnQgdG8gQ1NWJ1xuXHQgICAgICAgICAgICApIDogbnVsbDtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdyb3cnIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC14cy0xMiBjb2wtc20tNiBjb2wtbWQtNiBjb2wtbGctOCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnRuLWdyb3VwIGJ0bi1ncm91cC1zbScsIHJvbGU6ICdncm91cCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0Q1NWLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRCdG4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlbGVjdGVkT25seUJ0blxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC14cy0xMiBjb2wtc20tNiBjb2wtbWQtNiBjb2wtbGctNCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICBzZWFyY2hUZXh0SW5wdXRcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uSnMyWydkZWZhdWx0J10sIHsgcmVmOiAnbm90aWZpZXInIH0pLFxuXHQgICAgICAgICAgICAgICAgbW9kYWxcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyU2VhcmNoUGFuZWwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJTZWFyY2hQYW5lbCgpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZW5hYmxlU2VhcmNoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lcyA9ICdmb3JtLWdyb3VwIGZvcm0tZ3JvdXAtc20nO1xuXHQgICAgICAgICAgICAgICAgdmFyIGNsZWFyQnRuID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNsZWFyU2VhcmNoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2xlYXJCdG4gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2lucHV0LWdyb3VwLWJ0bicgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4gYnRuLWRlZmF1bHQnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xlYXJCdG5DbGljayB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NsZWFyJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWVzID0gJ2Zvcm0tZ3JvdXAgZm9ybS1ncm91cC1zbSBpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zbSc7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyByZWY6ICdzZWFjaElucHV0JywgY2xhc3NOYW1lOiAnZm9ybS1jb250cm9sJywgdHlwZTogJ3RleHQnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5wcm9wcy5zZWFyY2hQbGFjZWhvbGRlciA/IHRoaXMucHJvcHMuc2VhcmNoUGxhY2Vob2xkZXIgOiAnU2VhcmNoJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgIGNsZWFyQnRuXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVySW5zZXJ0Um93TW9kYWwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJJbnNlcnRSb3dNb2RhbChtb2RhbENsYXNzTmFtZSkge1xuXHQgICAgICAgICAgICB2YXIgdmFsaWRhdGVTdGF0ZSA9IHRoaXMuc3RhdGUudmFsaWRhdGVTdGF0ZSB8fCB7fTtcblx0ICAgICAgICAgICAgdmFyIGlucHV0RmllbGQgPSB0aGlzLnByb3BzLmNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGNvbHVtbi5lZGl0YWJsZSxcblx0ICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSBjb2x1bW4uZm9ybWF0LFxuXHQgICAgICAgICAgICAgICAgICAgIGF0dHIgPSB7IHJlZjogY29sdW1uLmZpZWxkICsgaSwgcGxhY2Vob2xkZXI6IGVkaXRhYmxlLnBsYWNlaG9sZGVyID8gZWRpdGFibGUucGxhY2Vob2xkZXIgOiBjb2x1bW4ubmFtZSB9O1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uYXV0b1ZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IHZhbGlkYXRlU3RhdGVbY29sdW1uLmZpZWxkXSA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2hlbHAtYmxvY2sgYmctZGFuZ2VyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdGVbY29sdW1uLmZpZWxkXVxuXHQgICAgICAgICAgICAgICAgKSA6IG51bGw7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gbGV0IGVkaXRvciA9IEVkaXRvcihlZGl0YWJsZSxhdHRyLGZvcm1hdCk7XG5cdCAgICAgICAgICAgICAgICAvLyBpZihlZGl0b3IucHJvcHMudHlwZSAmJiBlZGl0b3IucHJvcHMudHlwZSA9PSAnY2hlY2tib3gnKXtcblx0ICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IHsgZGlzcGxheTogY29sdW1uLmhpZGRlbkluUG9wdXAgPyAnbm9uZScgOiAnYmxvY2snIH07XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb3JtLWdyb3VwJywga2V5OiBjb2x1bW4uZmllbGQsIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4ubmFtZVxuXHQgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9FZGl0b3IyWydkZWZhdWx0J10pKGVkaXRhYmxlLCBhdHRyLCBmb3JtYXQsICcnKSxcblx0ICAgICAgICAgICAgICAgICAgICBlcnJvclxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhciBtb2RhbENsYXNzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcIm1vZGFsXCIsIFwiZmFkZVwiLCBtb2RhbENsYXNzTmFtZSwge1xuXHQgICAgICAgICAgICAgICAgJ2luJzogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvciB8fCB0aGlzLnN0YXRlLnZhbGlkYXRlU3RhdGUgLy9oYWNrIHByZXZlbnQgYm9vdHN0cmFwIG1vZGFsIGhpZGUgYnkgcmVSZW5kZXJcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhciBkaWFsb2dDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJtb2RhbC1kaWFsb2dcIiwgXCJtb2RhbC1zbVwiLCB7XG5cdCAgICAgICAgICAgICAgICBcImFuaW1hdGVkXCI6IHRoaXMuc3RhdGUuc2hha2VFZGl0b3IsXG5cdCAgICAgICAgICAgICAgICBcInNoYWtlXCI6IHRoaXMuc3RhdGUuc2hha2VFZGl0b3Jcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyByZWY6ICdtb2RhbCcsIGNsYXNzTmFtZTogbW9kYWxDbGFzcywgdGFiSW5kZXg6ICctMScsIHJvbGU6ICdkaWFsb2cnIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogZGlhbG9nQ2xhc3MgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbW9kYWwtY29udGVudCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbW9kYWwtaGVhZGVyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgY2xhc3NOYW1lOiAnY2xvc2UnLCAnZGF0YS1kaXNtaXNzJzogJ21vZGFsJywgJ2FyaWEtbGFiZWwnOiAnQ2xvc2UnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICfDlydcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2g0Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vZGFsLXRpdGxlJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOZXcgUmVjb3JkJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbC1ib2R5JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Zvcm0nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcmVmOiAnZm9ybScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEZpZWxkXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vZGFsLWZvb3RlcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ2J1dHRvbicsIGNsYXNzTmFtZTogJ2J0biBidG4tZGVmYXVsdCcsICdkYXRhLWRpc21pc3MnOiAnbW9kYWwnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Nsb3NlJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ2J1dHRvbicsIGNsYXNzTmFtZTogJ2J0biBidG4taW5mbycsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2F2ZUJ0bkNsaWNrLmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2F2ZSdcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFRvb2xCYXI7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VG9vbEJhci5wcm9wVHlwZXMgPSB7XG5cdCAgICBvbkFkZFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25Ecm9wUm93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblNob3dPbmx5U2VsZWN0ZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGVuYWJsZUluc2VydDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgZW5hYmxlRGVsZXRlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBlbmFibGVTZWFyY2g6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGNvbHVtbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBzZWFyY2hQbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjbGVhclNlYXJjaDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRUb29sQmFyLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGVuYWJsZUluc2VydDogZmFsc2UsXG5cdCAgICBlbmFibGVEZWxldGU6IGZhbHNlLFxuXHQgICAgZW5hYmxlU2VhcmNoOiBmYWxzZSxcblx0ICAgIGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQ6IGZhbHNlLFxuXHQgICAgY2xlYXJTZWFyY2g6IGZhbHNlXG5cdH07XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFRvb2xCYXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnJjLXN3aXRjaHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6NDRweDtoZWlnaHQ6MjJweDtsaW5lLWhlaWdodDoyMHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtib3JkZXItcmFkaXVzOjIwcHggMjBweDtib3JkZXI6MXB4IHNvbGlkICNjY2M7YmFja2dyb3VuZC1jb2xvcjojY2NjO2N1cnNvcjpwb2ludGVyO3RyYW5zaXRpb246YWxsIC4zcyBjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpfS5yYy1zd2l0Y2gtaW5uZXJ7Y29sb3I6I2ZmZjtmb250LXNpemU6MTJweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjI0cHh9LnJjLXN3aXRjaDphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O2xlZnQ6MnB4O3RvcDoxcHg7Ym9yZGVyLXJhZGl1czo1MCUgNTAlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb250ZW50OlxcXCIgXFxcIjtjdXJzb3I6cG9pbnRlcjtib3gtc2hhZG93OjAgMnB4IDVweCByZ2JhKDAsMCwwLC4yNik7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zaXRpb246bGVmdCAuM3MgY3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMzUsMCwuMjUsMSk7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjNzO2FuaW1hdGlvbi1kdXJhdGlvbjouM3M7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyY1N3aXRjaE9mZjthbmltYXRpb24tbmFtZTpyY1N3aXRjaE9mZn0ucmMtc3dpdGNoOmhvdmVyOmFmdGVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyY1N3aXRjaE9uO2FuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT259LnJjLXN3aXRjaC1jaGVja2Vke2JvcmRlcjoxcHggc29saWQgIzg3ZDA2ODtiYWNrZ3JvdW5kLWNvbG9yOiM4N2QwNjh9LnJjLXN3aXRjaC1jaGVja2VkIC5yYy1zd2l0Y2gtaW5uZXJ7bGVmdDo2cHh9LnJjLXN3aXRjaC1jaGVja2VkOmFmdGVye2xlZnQ6MjJweH0ucmMtc3dpdGNoLWRpc2FibGVke2N1cnNvcjpuby1kcm9wO2JhY2tncm91bmQ6I2NjYztib3JkZXItY29sb3I6I2NjY30ucmMtc3dpdGNoLWRpc2FibGVkOmFmdGVye2JhY2tncm91bmQ6IzllOWU5ZTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOm5vbmU7YW5pbWF0aW9uLW5hbWU6bm9uZTtjdXJzb3I6bm8tZHJvcH0ucmMtc3dpdGNoLWRpc2FibGVkOmhvdmVyOmFmdGVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOm5vbmU7YW5pbWF0aW9uLW5hbWU6bm9uZX0ucmMtc3dpdGNoLWxhYmVse2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC1zaXplOjE0cHg7cGFkZGluZy1sZWZ0OjEwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3doaXRlLXNwYWNlOm5vcm1hbDtwb2ludGVyLWV2ZW50czpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6dGV4dDstbW96LXVzZXItc2VsZWN0OnRleHQ7LW1zLXVzZXItc2VsZWN0OnRleHQ7dXNlci1zZWxlY3Q6dGV4dH1ALXdlYmtpdC1rZXlmcmFtZXMgcmNTd2l0Y2hPbnswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMjUpO3RyYW5zZm9ybTpzY2FsZSgxLjI1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpfX1Aa2V5ZnJhbWVzIHJjU3dpdGNoT257MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjI1KTt0cmFuc2Zvcm06c2NhbGUoMS4yNSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX19QC13ZWJraXQta2V5ZnJhbWVzIHJjU3dpdGNoT2ZmezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfX1Aa2V5ZnJhbWVzIHJjU3dpdGNoT2ZmezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHQvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbGlzdCA9IFtdO1xyXG5cdFxyXG5cdFx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdFx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHRcdH07XHJcblx0XHJcblx0XHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdFx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGxpc3Q7XHJcblx0fTtcclxuXG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBjbGFzc05hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIFN3aXRjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1N3aXRjaCcsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgcHJlZml4Q2xzOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGlzYWJsZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgc3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBjaGVja2VkQ2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICB1bkNoZWNrZWRDaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIG9uQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwcmVmaXhDbHM6ICdyYy1zd2l0Y2gnLFxuXHQgICAgICBzdHlsZToge30sXG5cdCAgICAgIGNoZWNrZWRDaGlsZHJlbjogbnVsbCxcblx0ICAgICAgdW5DaGVja2VkQ2hpbGRyZW46IG51bGwsXG5cdCAgICAgIGNsYXNzTmFtZTogJycsXG5cdCAgICAgIGRlZmF1bHRDaGVja2VkOiBmYWxzZSxcblx0ICAgICAgb25DaGFuZ2U6IG5vb3Bcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXHQgICAgaWYgKCdjaGVja2VkJyBpbiBwcm9wcykge1xuXHQgICAgICBjaGVja2VkID0gISFwcm9wcy5jaGVja2VkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY2hlY2tlZCA9ICEhcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBjaGVja2VkOiBjaGVja2VkXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIGlmICgnY2hlY2tlZCcgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGNoZWNrZWQ6ICEhbmV4dFByb3BzLmNoZWNrZWRcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcblx0ICAgIHZhciBjaGVja2VkID0gIXRoaXMuc3RhdGUuY2hlY2tlZDtcblx0ICAgIGlmICghKCdjaGVja2VkJyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBjaGVja2VkOiBjaGVja2VkXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShjaGVja2VkKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9jbGFzc05hbWVzO1xuXHRcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWU7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblx0ICAgIHZhciBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZDtcblx0ICAgIHZhciBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcblx0ICAgIHZhciBjaGVja2VkQ2hpbGRyZW4gPSBfcHJvcHMuY2hlY2tlZENoaWxkcmVuO1xuXHQgICAgdmFyIHVuQ2hlY2tlZENoaWxkcmVuID0gX3Byb3BzLnVuQ2hlY2tlZENoaWxkcmVuO1xuXHRcblx0ICAgIHZhciBjaGVja2VkID0gdGhpcy5zdGF0ZS5jaGVja2VkO1xuXHQgICAgdmFyIHN3aXRjaENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgY2xhc3NOYW1lLCAhIWNsYXNzTmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfY2xhc3NOYW1lcykpO1xuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdzcGFuJyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHN3aXRjaENsYXNzTmFtZSxcblx0ICAgICAgICBvbkNsaWNrOiBkaXNhYmxlZCA/IG5vb3AgOiB0aGlzLnRvZ2dsZSxcblx0ICAgICAgICBzdHlsZTogc3R5bGUgfSxcblx0ICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5uZXInIH0sXG5cdCAgICAgICAgY2hlY2tlZCA/IGNoZWNrZWRDaGlsZHJlbiA6IHVuQ2hlY2tlZENoaWxkcmVuXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU3dpdGNoO1xuXG4vKioqLyB9LFxuLyogMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cdFxuXHR2YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzU3RyaXBEaWFjcml0aWNzKTtcblx0XG5cdHZhciByZXF1ZXN0SWQgPSAwO1xuXHRcblx0ZnVuY3Rpb24gaW5pdENhY2hlKGNhY2hlKSB7XG5cdFx0aWYgKGNhY2hlICYmIHR5cGVvZiBjYWNoZSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdGNhY2hlID0ge307XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZSA/IGNhY2hlIDogbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdXBkYXRlQ2FjaGUoY2FjaGUsIGlucHV0LCBkYXRhKSB7XG5cdFx0aWYgKCFjYWNoZSkgcmV0dXJuO1xuXHRcdGNhY2hlW2lucHV0XSA9IGRhdGE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEZyb21DYWNoZShjYWNoZSwgaW5wdXQpIHtcblx0XHRpZiAoIWNhY2hlKSByZXR1cm47XG5cdFx0Zm9yICh2YXIgaSA9IGlucHV0Lmxlbmd0aDsgaSA+PSAwOyAtLWkpIHtcblx0XHRcdHZhciBjYWNoZUtleSA9IGlucHV0LnNsaWNlKDAsIGkpO1xuXHRcdFx0aWYgKGNhY2hlW2NhY2hlS2V5XSAmJiAoaW5wdXQgPT09IGNhY2hlS2V5IHx8IGNhY2hlW2NhY2hlS2V5XS5jb21wbGV0ZSkpIHtcblx0XHRcdFx0cmV0dXJuIGNhY2hlW2NhY2hlS2V5XTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRoZW5Qcm9taXNlKHByb21pc2UsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKCFwcm9taXNlIHx8IHR5cGVvZiBwcm9taXNlLnRoZW4gIT09ICdmdW5jdGlvbicpIHJldHVybjtcblx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRjYWxsYmFjayhudWxsLCBkYXRhKTtcblx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRjYWxsYmFjayhlcnIpO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHR2YXIgc3RyaW5nT3JOb2RlID0gX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm5vZGVdKTtcblx0XG5cdHZhciBBc3luYyA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVDbGFzcyh7XG5cdFx0ZGlzcGxheU5hbWU6ICdBc3luYycsXG5cdFxuXHRcdHByb3BUeXBlczoge1xuXHRcdFx0Y2FjaGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBvYmplY3QgdG8gdXNlIHRvIGNhY2hlIHJlc3VsdHMsIGNhbiBiZSBudWxsIHRvIGRpc2FibGUgY2FjaGVcblx0XHRcdGlnbm9yZUFjY2VudHM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBzdHJpcCBkaWFjcml0aWNzIHdoZW4gZmlsdGVyaW5nIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0XHRpZ25vcmVDYXNlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gcGVyZm9ybSBjYXNlLWluc2Vuc2l0aXZlIGZpbHRlcmluZyAoc2hhcmVkIHdpdGggU2VsZWN0KVxuXHRcdFx0aXNMb2FkaW5nOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIG92ZXJyaWRlcyB0aGUgaXNMb2FkaW5nIHN0YXRlIHdoZW4gc2V0IHRvIHRydWVcblx0XHRcdGxvYWRPcHRpb25zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwgLy8gZnVuY3Rpb24gdG8gY2FsbCB0byBsb2FkIG9wdGlvbnMgYXN5bmNocm9ub3VzbHlcblx0XHRcdGxvYWRpbmdQbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHJlcGxhY2VzIHRoZSBwbGFjZWhvbGRlciB3aGlsZSBvcHRpb25zIGFyZSBsb2FkaW5nXG5cdFx0XHRtaW5pbXVtSW5wdXQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLCAvLyB0aGUgbWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IHRyaWdnZXIgbG9hZE9wdGlvbnNcblx0XHRcdG5vUmVzdWx0c1RleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwbGFjZWhvbGRlciBkaXNwbGF5ZWQgd2hlbiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgc2VhcmNoIHJlc3VsdHMgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRcdHBsYWNlaG9sZGVyOiBzdHJpbmdPck5vZGUsIC8vIGZpZWxkIHBsYWNlaG9sZGVyLCBkaXNwbGF5ZWQgd2hlbiB0aGVyZSdzIG5vIHZhbHVlIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0XHRzZWFyY2hQcm9tcHRUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gbGFiZWwgdG8gcHJvbXB0IGZvciBzZWFyY2ggaW5wdXRcblx0XHRcdHNlYXJjaGluZ1RleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nIH0sXG5cdFx0Ly8gbWVzc2FnZSB0byBkaXNwbGF5IHdoaWxlIG9wdGlvbnMgYXJlIGxvYWRpbmdcblx0XHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGNhY2hlOiB0cnVlLFxuXHRcdFx0XHRpZ25vcmVBY2NlbnRzOiB0cnVlLFxuXHRcdFx0XHRpZ25vcmVDYXNlOiB0cnVlLFxuXHRcdFx0XHRsb2FkaW5nUGxhY2Vob2xkZXI6ICdMb2FkaW5nLi4uJyxcblx0XHRcdFx0bWluaW11bUlucHV0OiAwLFxuXHRcdFx0XHRzZWFyY2hpbmdUZXh0OiAnU2VhcmNoaW5nLi4uJyxcblx0XHRcdFx0c2VhcmNoUHJvbXB0VGV4dDogJ1R5cGUgdG8gc2VhcmNoJ1xuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Y2FjaGU6IGluaXRDYWNoZSh0aGlzLnByb3BzLmNhY2hlKSxcblx0XHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdFx0b3B0aW9uczogW11cblx0XHRcdH07XG5cdFx0fSxcblx0XHRjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0XHRcdHRoaXMuX2xhc3RJbnB1dCA9ICcnO1xuXHRcdH0sXG5cdFx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdFx0dGhpcy5sb2FkT3B0aW9ucygnJyk7XG5cdFx0fSxcblx0XHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHRcdFx0aWYgKG5leHRQcm9wcy5jYWNoZSAhPT0gdGhpcy5wcm9wcy5jYWNoZSkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRjYWNoZTogaW5pdENhY2hlKG5leHRQcm9wcy5jYWNoZSlcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG5cdFx0XHR0aGlzLnJlZnMuc2VsZWN0LmZvY3VzKCk7XG5cdFx0fSxcblx0XHRyZXNldFN0YXRlOiBmdW5jdGlvbiByZXNldFN0YXRlKCkge1xuXHRcdFx0dGhpcy5fY3VycmVudFJlcXVlc3RJZCA9IC0xO1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzTG9hZGluZzogZmFsc2UsXG5cdFx0XHRcdG9wdGlvbnM6IFtdXG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGdldFJlc3BvbnNlSGFuZGxlcjogZnVuY3Rpb24gZ2V0UmVzcG9uc2VIYW5kbGVyKGlucHV0KSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0XHRcdHZhciBfcmVxdWVzdElkID0gdGhpcy5fY3VycmVudFJlcXVlc3RJZCA9IHJlcXVlc3RJZCsrO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcblx0XHRcdFx0aWYgKGVycikgdGhyb3cgZXJyO1xuXHRcdFx0XHRpZiAoIV90aGlzLmlzTW91bnRlZCgpKSByZXR1cm47XG5cdFx0XHRcdHVwZGF0ZUNhY2hlKF90aGlzLnN0YXRlLmNhY2hlLCBpbnB1dCwgZGF0YSk7XG5cdFx0XHRcdGlmIChfcmVxdWVzdElkICE9PSBfdGhpcy5fY3VycmVudFJlcXVlc3RJZCkgcmV0dXJuO1xuXHRcdFx0XHRfdGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdFx0XHRvcHRpb25zOiBkYXRhICYmIGRhdGEub3B0aW9ucyB8fCBbXVxuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0fSxcblx0XHRsb2FkT3B0aW9uczogZnVuY3Rpb24gbG9hZE9wdGlvbnMoaW5wdXQpIHtcblx0XHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUFjY2VudHMpIGlucHV0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkoaW5wdXQpO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQ2FzZSkgaW5wdXQgPSBpbnB1dC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0dGhpcy5fbGFzdElucHV0ID0gaW5wdXQ7XG5cdFx0XHRpZiAoaW5wdXQubGVuZ3RoIDwgdGhpcy5wcm9wcy5taW5pbXVtSW5wdXQpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMucmVzZXRTdGF0ZSgpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGNhY2hlUmVzdWx0ID0gZ2V0RnJvbUNhY2hlKHRoaXMuc3RhdGUuY2FjaGUsIGlucHV0KTtcblx0XHRcdGlmIChjYWNoZVJlc3VsdCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0b3B0aW9uczogY2FjaGVSZXN1bHQub3B0aW9uc1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc0xvYWRpbmc6IHRydWVcblx0XHRcdH0pO1xuXHRcdFx0dmFyIHJlc3BvbnNlSGFuZGxlciA9IHRoaXMuZ2V0UmVzcG9uc2VIYW5kbGVyKGlucHV0KTtcblx0XHRcdHJldHVybiB0aGVuUHJvbWlzZSh0aGlzLnByb3BzLmxvYWRPcHRpb25zKGlucHV0LCByZXNwb25zZUhhbmRsZXIpLCByZXNwb25zZUhhbmRsZXIpO1xuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHR2YXIgbm9SZXN1bHRzVGV4dCA9IHRoaXMucHJvcHMubm9SZXN1bHRzVGV4dDtcblx0XHRcdHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHRcdFx0dmFyIGlzTG9hZGluZyA9IF9zdGF0ZS5pc0xvYWRpbmc7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IF9zdGF0ZS5vcHRpb25zO1xuXHRcblx0XHRcdGlmICh0aGlzLnByb3BzLmlzTG9hZGluZykgaXNMb2FkaW5nID0gdHJ1ZTtcblx0XHRcdHZhciBwbGFjZWhvbGRlciA9IGlzTG9hZGluZyA/IHRoaXMucHJvcHMubG9hZGluZ1BsYWNlaG9sZGVyIDogdGhpcy5wcm9wcy5wbGFjZWhvbGRlcjtcblx0XHRcdGlmICghb3B0aW9ucy5sZW5ndGgpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2xhc3RJbnB1dC5sZW5ndGggPCB0aGlzLnByb3BzLm1pbmltdW1JbnB1dCkgbm9SZXN1bHRzVGV4dCA9IHRoaXMucHJvcHMuc2VhcmNoUHJvbXB0VGV4dDtcblx0XHRcdFx0aWYgKGlzTG9hZGluZykgbm9SZXN1bHRzVGV4dCA9IHRoaXMucHJvcHMuc2VhcmNoaW5nVGV4dDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfU2VsZWN0MlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywge1xuXHRcdFx0XHRyZWY6ICdzZWxlY3QnLFxuXHRcdFx0XHRpc0xvYWRpbmc6IGlzTG9hZGluZyxcblx0XHRcdFx0bm9SZXN1bHRzVGV4dDogbm9SZXN1bHRzVGV4dCxcblx0XHRcdFx0b25JbnB1dENoYW5nZTogdGhpcy5sb2FkT3B0aW9ucyxcblx0XHRcdFx0b3B0aW9uczogb3B0aW9ucyxcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyXG5cdFx0XHR9KSk7XG5cdFx0fVxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXN5bmM7XG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgT3B0aW9uID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblx0XHRkaXNwbGF5TmFtZTogJ09wdGlvbicsXG5cdFxuXHRcdHByb3BUeXBlczoge1xuXHRcdFx0Y2hpbGRyZW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZSxcblx0XHRcdGNsYXNzTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSAoYmFzZWQgb24gbW91c2UgcG9zaXRpb24pXG5cdFx0XHRpc0Rpc2FibGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHRoZSBvcHRpb24gaXMgZGlzYWJsZWRcblx0XHRcdGlzRm9jdXNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB0aGUgb3B0aW9uIGlzIGZvY3VzZWRcblx0XHRcdGlzU2VsZWN0ZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gdGhlIG9wdGlvbiBpcyBzZWxlY3RlZFxuXHRcdFx0b25Gb2N1czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIG1vdXNlRW50ZXIgb24gb3B0aW9uIGVsZW1lbnRcblx0XHRcdG9uU2VsZWN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgY2xpY2sgb24gb3B0aW9uIGVsZW1lbnRcblx0XHRcdG9uVW5mb2N1czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIG1vdXNlTGVhdmUgb24gb3B0aW9uIGVsZW1lbnRcblx0XHRcdG9wdGlvbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCB9LFxuXHRcdC8vIG9iamVjdCB0aGF0IGlzIGJhc2UgZm9yIHRoYXQgb3B0aW9uXG5cdFx0YmxvY2tFdmVudDogZnVuY3Rpb24gYmxvY2tFdmVudChldmVudCkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0aWYgKGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSAnQScgfHwgISgnaHJlZicgaW4gZXZlbnQudGFyZ2V0KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhcmdldCkge1xuXHRcdFx0XHR3aW5kb3cub3BlbihldmVudC50YXJnZXQuaHJlZiwgZXZlbnQudGFyZ2V0LnRhcmdldCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGV2ZW50LnRhcmdldC5ocmVmO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR0aGlzLnByb3BzLm9uU2VsZWN0KHRoaXMucHJvcHMub3B0aW9uLCBldmVudCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlTW91c2VFbnRlcjogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcihldmVudCkge1xuXHRcdFx0dGhpcy5vbkZvY3VzKGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVNb3VzZU1vdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuXHRcdFx0dGhpcy5vbkZvY3VzKGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaEVuZDogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZXZlbnQpIHtcblx0XHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRcdGlmICh0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cdFxuXHRcdFx0dGhpcy5oYW5kbGVNb3VzZURvd24oZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuXHRcdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIG5vdCBiZWluZyBkcmFnZ2VkXG5cdFx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdFx0fSxcblx0XG5cdFx0b25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuXHRcdFx0aWYgKCF0aGlzLnByb3BzLmlzRm9jdXNlZCkge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uRm9jdXModGhpcy5wcm9wcy5vcHRpb24sIGV2ZW50KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0dmFyIG9wdGlvbiA9IHRoaXMucHJvcHMub3B0aW9uO1xuXHRcblx0XHRcdHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKHRoaXMucHJvcHMuY2xhc3NOYW1lLCBvcHRpb24uY2xhc3NOYW1lKTtcblx0XG5cdFx0XHRyZXR1cm4gb3B0aW9uLmRpc2FibGVkID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmJsb2NrRXZlbnQsXG5cdFx0XHRcdFx0b25DbGljazogdGhpcy5ibG9ja0V2ZW50IH0sXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdCkgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdFx0c3R5bGU6IG9wdGlvbi5zdHlsZSxcblx0XHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sXG5cdFx0XHRcdFx0b25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIsXG5cdFx0XHRcdFx0b25Nb3VzZU1vdmU6IHRoaXMuaGFuZGxlTW91c2VNb3ZlLFxuXHRcdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRcdG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcblx0XHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuXHRcdFx0XHRcdHRpdGxlOiBvcHRpb24udGl0bGUgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPcHRpb247XG5cbi8qKiovIH0sXG4vKiA0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgVmFsdWUgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXHRcblx0XHRkaXNwbGF5TmFtZTogJ1ZhbHVlJyxcblx0XG5cdFx0cHJvcFR5cGVzOiB7XG5cdFx0XHRjaGlsZHJlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlLFxuXHRcdFx0ZGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gZGlzYWJsZWQgcHJvcCBwYXNzZWQgdG8gUmVhY3RTZWxlY3Rcblx0XHRcdG9uQ2xpY2s6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSBjbGljayBvbiB2YWx1ZSBsYWJlbFxuXHRcdFx0b25SZW1vdmU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSByZW1vdmFsIG9mIHRoZSB2YWx1ZVxuXHRcdFx0dmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQgfSxcblx0XG5cdFx0Ly8gdGhlIG9wdGlvbiBvYmplY3QgZm9yIHRoaXMgdmFsdWVcblx0XHRoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuXHRcdFx0aWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vbkNsaWNrKSB7XG5cdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uQ2xpY2sodGhpcy5wcm9wcy52YWx1ZSwgZXZlbnQpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wcm9wcy52YWx1ZS5ocmVmKSB7XG5cdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdG9uUmVtb3ZlOiBmdW5jdGlvbiBvblJlbW92ZShldmVudCkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0dGhpcy5wcm9wcy5vblJlbW92ZSh0aGlzLnByb3BzLnZhbHVlKTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaEVuZFJlbW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmRSZW1vdmUoZXZlbnQpIHtcblx0XHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRcdGlmICh0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cdFxuXHRcdFx0Ly8gRmlyZSB0aGUgbW91c2UgZXZlbnRzXG5cdFx0XHR0aGlzLm9uUmVtb3ZlKGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaE1vdmU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShldmVudCkge1xuXHRcdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWRcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcblx0XHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBub3QgYmVpbmcgZHJhZ2dlZFxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXHRcdH0sXG5cdFxuXHRcdHJlbmRlclJlbW92ZUljb246IGZ1bmN0aW9uIHJlbmRlclJlbW92ZUljb24oKSB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCAhdGhpcy5wcm9wcy5vblJlbW92ZSkgcmV0dXJuO1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnc3BhbicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LXZhbHVlLWljb24nLFxuXHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLm9uUmVtb3ZlLFxuXHRcdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmRSZW1vdmUsXG5cdFx0XHRcdFx0b25Ub3VjaFN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG5cdFx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlIH0sXG5cdFx0XHRcdCfDlydcblx0XHRcdCk7XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyTGFiZWw6IGZ1bmN0aW9uIHJlbmRlckxhYmVsKCkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSA9ICdTZWxlY3QtdmFsdWUtbGFiZWwnO1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvcHMub25DbGljayB8fCB0aGlzLnByb3BzLnZhbHVlLmhyZWYgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2EnLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBocmVmOiB0aGlzLnByb3BzLnZhbHVlLmhyZWYsIHRhcmdldDogdGhpcy5wcm9wcy52YWx1ZS50YXJnZXQsIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93biwgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVNb3VzZURvd24gfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnc3BhbicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KTtcblx0XHR9LFxuXHRcblx0XHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKCdTZWxlY3QtdmFsdWUnLCB0aGlzLnByb3BzLnZhbHVlLmNsYXNzTmFtZSksXG5cdFx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMudmFsdWUuc3R5bGUsXG5cdFx0XHRcdFx0dGl0bGU6IHRoaXMucHJvcHMudmFsdWUudGl0bGVcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhpcy5yZW5kZXJSZW1vdmVJY29uKCksXG5cdFx0XHRcdHRoaXMucmVuZGVyTGFiZWwoKVxuXHRcdFx0KTtcblx0XHR9XG5cdFxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVmFsdWU7XG5cbi8qKiovIH0sXG4vKiA0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgc2l6ZXJTdHlsZSA9IHsgcG9zaXRpb246ICdhYnNvbHV0ZScsIHZpc2liaWxpdHk6ICdoaWRkZW4nLCBoZWlnaHQ6IDAsIHdpZHRoOiAwLCBvdmVyZmxvdzogJ3Njcm9sbCcsIHdoaXRlU3BhY2U6ICdub3dyYXAnIH07XG5cdFxuXHR2YXIgbmV4dEZyYW1lID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyAoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuXHRcdH07XG5cdH0pKCkuYmluZCh3aW5kb3cpIDogdW5kZWZpbmVkOyAvLyBJZiB3aW5kb3cgaXMgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbid0IGRlZmluZSBhIG5leHRGcmFtZSBmdW5jdGlvblxuXHRcblx0dmFyIEF1dG9zaXplSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdFx0ZGlzcGxheU5hbWU6ICdBdXRvc2l6ZUlucHV0Jyxcblx0XG5cdFx0cHJvcFR5cGVzOiB7XG5cdFx0XHR2YWx1ZTogUmVhY3QuUHJvcFR5cGVzLmFueSwgLy8gZmllbGQgdmFsdWVcblx0XHRcdGRlZmF1bHRWYWx1ZTogUmVhY3QuUHJvcFR5cGVzLmFueSwgLy8gZGVmYXVsdCBmaWVsZCB2YWx1ZVxuXHRcdFx0b25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLCAvLyBvbkNoYW5nZSBoYW5kbGVyOiBmdW5jdGlvbihuZXdWYWx1ZSkge31cblx0XHRcdHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCAvLyBjc3Mgc3R5bGVzIGZvciB0aGUgb3V0ZXIgZWxlbWVudFxuXHRcdFx0Y2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBjbGFzc05hbWUgZm9yIHRoZSBvdXRlciBlbGVtZW50XG5cdFx0XHRtaW5XaWR0aDogUmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbLy8gbWluaW11bSB3aWR0aCBmb3IgaW5wdXQgZWxlbWVudFxuXHRcdFx0UmVhY3QuUHJvcFR5cGVzLm51bWJlciwgUmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuXHRcdFx0aW5wdXRTdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgLy8gY3NzIHN0eWxlcyBmb3IgdGhlIGlucHV0IGVsZW1lbnRcblx0XHRcdGlucHV0Q2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nIC8vIGNsYXNzTmFtZSBmb3IgdGhlIGlucHV0IGVsZW1lbnRcblx0XHR9LFxuXHRcdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bWluV2lkdGg6IDFcblx0XHRcdH07XG5cdFx0fSxcblx0XHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGlucHV0V2lkdGg6IHRoaXMucHJvcHMubWluV2lkdGhcblx0XHRcdH07XG5cdFx0fSxcblx0XHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0XHR0aGlzLmNvcHlJbnB1dFN0eWxlcygpO1xuXHRcdFx0dGhpcy51cGRhdGVJbnB1dFdpZHRoKCk7XG5cdFx0fSxcblx0XHRjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0XHRcdHRoaXMucXVldWVVcGRhdGVJbnB1dFdpZHRoKCk7XG5cdFx0fSxcblx0XHRjb3B5SW5wdXRTdHlsZXM6IGZ1bmN0aW9uIGNvcHlJbnB1dFN0eWxlcygpIHtcblx0XHRcdGlmICghdGhpcy5pc01vdW50ZWQoKSB8fCAhd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGlucHV0U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJlZnMuaW5wdXQpO1xuXHRcdFx0dmFyIHdpZHRoTm9kZSA9IHRoaXMucmVmcy5zaXplcjtcblx0XHRcdHdpZHRoTm9kZS5zdHlsZS5mb250U2l6ZSA9IGlucHV0U3R5bGUuZm9udFNpemU7XG5cdFx0XHR3aWR0aE5vZGUuc3R5bGUuZm9udEZhbWlseSA9IGlucHV0U3R5bGUuZm9udEZhbWlseTtcblx0XHRcdHdpZHRoTm9kZS5zdHlsZS5mb250V2VpZ2h0ID0gaW5wdXRTdHlsZS5mb250V2VpZ2h0O1xuXHRcdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRTdHlsZSA9IGlucHV0U3R5bGUuZm9udFN0eWxlO1xuXHRcdFx0d2lkdGhOb2RlLnN0eWxlLmxldHRlclNwYWNpbmcgPSBpbnB1dFN0eWxlLmxldHRlclNwYWNpbmc7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5wbGFjZWhvbGRlcikge1xuXHRcdFx0XHR2YXIgcGxhY2Vob2xkZXJOb2RlID0gdGhpcy5yZWZzLnBsYWNlaG9sZGVyU2l6ZXI7XG5cdFx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250U2l6ZSA9IGlucHV0U3R5bGUuZm9udFNpemU7XG5cdFx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250RmFtaWx5ID0gaW5wdXRTdHlsZS5mb250RmFtaWx5O1xuXHRcdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUuZm9udFdlaWdodCA9IGlucHV0U3R5bGUuZm9udFdlaWdodDtcblx0XHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRTdHlsZSA9IGlucHV0U3R5bGUuZm9udFN0eWxlO1xuXHRcdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUubGV0dGVyU3BhY2luZyA9IGlucHV0U3R5bGUubGV0dGVyU3BhY2luZztcblx0XHRcdH1cblx0XHR9LFxuXHRcdHF1ZXVlVXBkYXRlSW5wdXRXaWR0aDogZnVuY3Rpb24gcXVldWVVcGRhdGVJbnB1dFdpZHRoKCkge1xuXHRcdFx0bmV4dEZyYW1lKHRoaXMudXBkYXRlSW5wdXRXaWR0aCk7XG5cdFx0fSxcblx0XHR1cGRhdGVJbnB1dFdpZHRoOiBmdW5jdGlvbiB1cGRhdGVJbnB1dFdpZHRoKCkge1xuXHRcdFx0aWYgKCF0aGlzLmlzTW91bnRlZCgpIHx8IHR5cGVvZiB0aGlzLnJlZnMuc2l6ZXIuc2Nyb2xsV2lkdGggPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHZhciBuZXdJbnB1dFdpZHRoID0gdW5kZWZpbmVkO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMucGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0bmV3SW5wdXRXaWR0aCA9IE1hdGgubWF4KHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCwgdGhpcy5yZWZzLnBsYWNlaG9sZGVyU2l6ZXIuc2Nyb2xsV2lkdGgpICsgMjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld0lucHV0V2lkdGggPSB0aGlzLnJlZnMuc2l6ZXIuc2Nyb2xsV2lkdGggKyAyO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG5ld0lucHV0V2lkdGggPCB0aGlzLnByb3BzLm1pbldpZHRoKSB7XG5cdFx0XHRcdG5ld0lucHV0V2lkdGggPSB0aGlzLnByb3BzLm1pbldpZHRoO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG5ld0lucHV0V2lkdGggIT09IHRoaXMuc3RhdGUuaW5wdXRXaWR0aCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpbnB1dFdpZHRoOiBuZXdJbnB1dFdpZHRoXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Z2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucmVmcy5pbnB1dDtcblx0XHR9LFxuXHRcdGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0XHRcdHRoaXMucmVmcy5pbnB1dC5mb2N1cygpO1xuXHRcdH0sXG5cdFx0Ymx1cjogZnVuY3Rpb24gYmx1cigpIHtcblx0XHRcdHRoaXMucmVmcy5pbnB1dC5ibHVyKCk7XG5cdFx0fSxcblx0XHRzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdCgpIHtcblx0XHRcdHRoaXMucmVmcy5pbnB1dC5zZWxlY3QoKTtcblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0dmFyIGVzY2FwZWRWYWx1ZSA9ICh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSB8fCB0aGlzLnByb3BzLnZhbHVlIHx8ICcnKS5yZXBsYWNlKC9cXCYvZywgJyZhbXA7JykucmVwbGFjZSgvIC9nLCAnJm5ic3A7JykucmVwbGFjZSgvXFw8L2csICcmbHQ7JykucmVwbGFjZSgvXFw+L2csICcmZ3Q7Jyk7XG5cdFx0XHR2YXIgd3JhcHBlclN0eWxlID0gdGhpcy5wcm9wcy5zdHlsZSB8fCB7fTtcblx0XHRcdGlmICghd3JhcHBlclN0eWxlLmRpc3BsYXkpIHdyYXBwZXJTdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG5cdFx0XHR2YXIgaW5wdXRTdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmlucHV0U3R5bGUpO1xuXHRcdFx0aW5wdXRTdHlsZS53aWR0aCA9IHRoaXMuc3RhdGUuaW5wdXRXaWR0aDtcblx0XHRcdGlucHV0U3R5bGUuYm94U2l6aW5nID0gJ2NvbnRlbnQtYm94Jztcblx0XHRcdHZhciBwbGFjZWhvbGRlciA9IHRoaXMucHJvcHMucGxhY2Vob2xkZXIgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyByZWY6ICdwbGFjZWhvbGRlclNpemVyJywgc3R5bGU6IHNpemVyU3R5bGUgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5wbGFjZWhvbGRlclxuXHRcdFx0KSA6IG51bGw7XG5cdFx0XHRyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSwgc3R5bGU6IHdyYXBwZXJTdHlsZSB9LFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IHJlZjogJ2lucHV0JywgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmlucHV0Q2xhc3NOYW1lLCBzdHlsZTogaW5wdXRTdHlsZSB9KSksXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgcmVmOiAnc2l6ZXInLCBzdHlsZTogc2l6ZXJTdHlsZSwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBlc2NhcGVkVmFsdWUgfSB9KSxcblx0XHRcdFx0cGxhY2Vob2xkZXJcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXV0b3NpemVJbnB1dDtcblxuLyoqKi8gfSxcbi8qIDQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdEFkZG9uc1VwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9yZWFjdEFkZG9uc1VwZGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1VwZGF0ZSk7XG5cdFxuXHR2YXIgX1RvYXN0TWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9Ub2FzdE1lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9hc3RNZXNzYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgVG9hc3RDb250YWluZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUb2FzdENvbnRhaW5lciwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRvYXN0Q29udGFpbmVyKCkge1xuXHQgICAgdmFyIF9PYmplY3QkZ2V0UHJvdG90eXBlTztcblx0XG5cdCAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb2FzdENvbnRhaW5lcik7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfT2JqZWN0JGdldFByb3RvdHlwZU8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG9hc3RDb250YWluZXIpKS5jYWxsLmFwcGx5KF9PYmplY3QkZ2V0UHJvdG90eXBlTywgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICB0b2FzdHM6IFtdLFxuXHQgICAgICB0b2FzdElkOiAwLFxuXHQgICAgICBwcmV2aW91c01lc3NhZ2U6IG51bGxcblx0ICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFRvYXN0Q29udGFpbmVyLCBbe1xuXHQgICAga2V5OiBcImVycm9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuXHQgICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUuZXJyb3IsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJpbmZvXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaW5mbyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG5cdCAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5pbmZvLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic3VjY2Vzc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuXHQgICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUuc3VjY2VzcywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIndhcm5pbmdcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcblx0ICAgICAgdGhpcy5fbm90aWZ5KHRoaXMucHJvcHMudG9hc3RUeXBlLndhcm5pbmcsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJjbGVhclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIE9iamVjdC5rZXlzKHRoaXMucmVmcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgX3RoaXMyLnJlZnNba2V5XS5oaWRlVG9hc3QoZmFsc2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX25vdGlmeVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9ub3RpZnkodHlwZSwgbWVzc2FnZSwgdGl0bGUpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgb3B0aW9uc092ZXJyaWRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbM107XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5wcmV2ZW50RHVwbGljYXRlcykge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlLnByZXZpb3VzTWVzc2FnZSA9PT0gbWVzc2FnZSkge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB2YXIga2V5ID0gdGhpcy5zdGF0ZS50b2FzdElkKys7XG5cdCAgICAgIHZhciB0b2FzdElkID0ga2V5O1xuXHQgICAgICB2YXIgbmV3VG9hc3QgPSAoMCwgX3JlYWN0QWRkb25zVXBkYXRlMi5kZWZhdWx0KShvcHRpb25zT3ZlcnJpZGUsIHtcblx0ICAgICAgICAkbWVyZ2U6IHtcblx0ICAgICAgICAgIHR5cGU6IHR5cGUsXG5cdCAgICAgICAgICB0aXRsZTogdGl0bGUsXG5cdCAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuXHQgICAgICAgICAgdG9hc3RJZDogdG9hc3RJZCxcblx0ICAgICAgICAgIGtleToga2V5LFxuXHQgICAgICAgICAgcmVmOiBcInRvYXN0c19fXCIgKyBrZXksXG5cdCAgICAgICAgICBoYW5kbGVPbkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVPbkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdGlvbnNPdmVycmlkZS5oYW5kbGVPbkNsaWNrKSB7XG5cdCAgICAgICAgICAgICAgb3B0aW9uc092ZXJyaWRlLmhhbmRsZU9uQ2xpY2soKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMzLl9oYW5kbGVfdG9hc3Rfb25fY2xpY2soZSk7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgaGFuZGxlUmVtb3ZlOiB0aGlzLl9oYW5kbGVfdG9hc3RfcmVtb3ZlLmJpbmQodGhpcylcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgdG9hc3RPcGVyYXRpb24gPSBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIgKyAodGhpcy5wcm9wcy5uZXdlc3RPblRvcCA/IFwiJHVuc2hpZnRcIiA6IFwiJHB1c2hcIiksIFtuZXdUb2FzdF0pO1xuXHRcblx0ICAgICAgdmFyIG5leHRTdGF0ZSA9ICgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKHRoaXMuc3RhdGUsIHtcblx0ICAgICAgICB0b2FzdHM6IHRvYXN0T3BlcmF0aW9uLFxuXHQgICAgICAgIHByZXZpb3VzTWVzc2FnZTogeyAkc2V0OiBtZXNzYWdlIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2hhbmRsZV90b2FzdF9vbl9jbGlja1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVfdG9hc3Rfb25fY2xpY2soZXZlbnQpIHtcblx0ICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKGV2ZW50KTtcblx0ICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9oYW5kbGVfdG9hc3RfcmVtb3ZlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZV90b2FzdF9yZW1vdmUodG9hc3RJZCkge1xuXHQgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBvcGVyYXRpb25OYW1lID0gXCJcIiArICh0aGlzLnByb3BzLm5ld2VzdE9uVG9wID8gXCJyZWR1Y2VSaWdodFwiIDogXCJyZWR1Y2VcIik7XG5cdCAgICAgIHRoaXMuc3RhdGUudG9hc3RzW29wZXJhdGlvbk5hbWVdKGZ1bmN0aW9uIChmb3VuZCwgdG9hc3QsIGluZGV4KSB7XG5cdCAgICAgICAgaWYgKGZvdW5kIHx8IHRvYXN0LnRvYXN0SWQgIT09IHRvYXN0SWQpIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX3RoaXM0LnNldFN0YXRlKCgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKF90aGlzNC5zdGF0ZSwge1xuXHQgICAgICAgICAgdG9hc3RzOiB7ICRzcGxpY2U6IFtbaW5kZXgsIDFdXSB9XG5cdCAgICAgICAgfSkpO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9LCBmYWxzZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiLCByb2xlOiBcImFsZXJ0XCIgfSksXG5cdCAgICAgICAgdGhpcy5zdGF0ZS50b2FzdHMubWFwKGZ1bmN0aW9uICh0b2FzdCkge1xuXHQgICAgICAgICAgcmV0dXJuIF90aGlzNS5wcm9wcy50b2FzdE1lc3NhZ2VGYWN0b3J5KHRvYXN0KTtcblx0ICAgICAgICB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFRvYXN0Q29udGFpbmVyO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0VG9hc3RDb250YWluZXIucHJvcFR5cGVzID0ge1xuXHQgIHRvYXN0VHlwZTogX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICBlcnJvcjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBpbmZvOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHN1Y2Nlc3M6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgd2FybmluZzogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0ICB9KS5pc1JlcXVpcmVkLFxuXHQgIGlkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHQgIHRvYXN0TWVzc2FnZUZhY3Rvcnk6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHQgIHByZXZlbnREdXBsaWNhdGVzOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblx0ICBuZXdlc3RPblRvcDogX3JlYWN0LlByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cdCAgb25DbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcblx0fTtcblx0VG9hc3RDb250YWluZXIuZGVmYXVsdFByb3BzID0ge1xuXHQgIHRvYXN0VHlwZToge1xuXHQgICAgZXJyb3I6IFwiZXJyb3JcIixcblx0ICAgIGluZm86IFwiaW5mb1wiLFxuXHQgICAgc3VjY2VzczogXCJzdWNjZXNzXCIsXG5cdCAgICB3YXJuaW5nOiBcIndhcm5pbmdcIlxuXHQgIH0sXG5cdCAgaWQ6IFwidG9hc3QtY29udGFpbmVyXCIsXG5cdCAgdG9hc3RNZXNzYWdlRmFjdG9yeTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUZhY3RvcnkoX1RvYXN0TWVzc2FnZTIuZGVmYXVsdCksXG5cdCAgcHJldmVudER1cGxpY2F0ZXM6IGZhbHNlLFxuXHQgIG5ld2VzdE9uVG9wOiB0cnVlLFxuXHQgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7fVxuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSBUb2FzdENvbnRhaW5lcjtcblxuLyoqKi8gfSxcbi8qIDQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9SZWFjdFRyYW5zaXRpb25FdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlYWN0VHJhbnNpdGlvbkV2ZW50cyk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9lbGVtZW50Q2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0XG5cdHZhciBfZWxlbWVudENsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VsZW1lbnRDbGFzcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFRJQ0sgPSAxNztcblx0dmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdHJhbnNpdGlvbjogbnVsbCwgLy8gc29tZSBleGFtcGxlcyBkZWZpbmVkIGluIGluZGV4LnNjc3MgKHNjYWxlLCBmYWRlSW5PdXQsIHJvdGF0ZSlcblx0ICAgICAgc2hvd0FuaW1hdGlvbjogXCJhbmltYXRlZCBib3VuY2VJblwiLCAvLyBvciBvdGhlciBhbmltYXRpb25zIGZyb20gYW5pbWF0ZS5jc3Ncblx0ICAgICAgaGlkZUFuaW1hdGlvbjogXCJhbmltYXRlZCBib3VuY2VPdXRcIixcblx0ICAgICAgdGltZU91dDogNTAwMCxcblx0ICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdCAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlID0gW107XG5cdCAgICB0aGlzLmlzSGlkaW5nID0gZmFsc2U7XG5cdCAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB0aGlzLl9pc19tb3VudGVkID0gdHJ1ZTtcblx0ICAgIHRoaXMuX3Nob3coKTtcblx0ICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHRcblx0ICAgIHZhciBvbkhpZGVDb21wbGV0ZSA9IGZ1bmN0aW9uIG9uSGlkZUNvbXBsZXRlKCkge1xuXHQgICAgICBpZiAoX3RoaXMuaXNIaWRpbmcpIHtcblx0ICAgICAgICBfdGhpcy5fc2V0X2lzX2hpZGluZyhmYWxzZSk7XG5cdCAgICAgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIG9uSGlkZUNvbXBsZXRlKTtcblx0ICAgICAgICBfdGhpcy5faGFuZGxlX3JlbW92ZSgpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIG9uSGlkZUNvbXBsZXRlKTtcblx0XG5cdCAgICBpZiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCkge1xuXHQgICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy50aW1lT3V0KSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICB0aGlzLl9pc19tb3VudGVkID0gZmFsc2U7XG5cdCAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsSWQpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgX3NldF90cmFuc2l0aW9uOiBmdW5jdGlvbiBfc2V0X3RyYW5zaXRpb24oaGlkZSkge1xuXHQgICAgdmFyIGFuaW1hdGlvblR5cGUgPSBoaWRlID8gXCJsZWF2ZVwiIDogXCJlbnRlclwiO1xuXHQgICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy50cmFuc2l0aW9uICsgXCItXCIgKyBhbmltYXRpb25UeXBlO1xuXHQgICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IGNsYXNzTmFtZSArIFwiLWFjdGl2ZVwiO1xuXHRcblx0ICAgIHZhciBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGVuZExpc3RlbmVyKGUpIHtcblx0ICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IG5vZGUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBjbGFzc0xpc3QgPSAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSk7XG5cdCAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcblx0ICAgICAgY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzc05hbWUpO1xuXHRcblx0ICAgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcblx0XG5cdCAgICAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSkuYWRkKGNsYXNzTmFtZSk7XG5cdFxuXHQgICAgLy8gTmVlZCB0byBkbyB0aGlzIHRvIGFjdHVhbGx5IHRyaWdnZXIgYSB0cmFuc2l0aW9uLlxuXHQgICAgdGhpcy5fcXVldWVfY2xhc3MoYWN0aXZlQ2xhc3NOYW1lKTtcblx0ICB9LFxuXHQgIF9jbGVhcl90cmFuc2l0aW9uOiBmdW5jdGlvbiBfY2xlYXJfdHJhbnNpdGlvbihoaWRlKSB7XG5cdCAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgIHZhciBhbmltYXRpb25UeXBlID0gaGlkZSA/IFwibGVhdmVcIiA6IFwiZW50ZXJcIjtcblx0ICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLnRyYW5zaXRpb24gKyBcIi1cIiArIGFuaW1hdGlvblR5cGU7XG5cdCAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgXCItYWN0aXZlXCI7XG5cdFxuXHQgICAgdmFyIGNsYXNzTGlzdCA9ICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKTtcblx0ICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcblx0ICAgIGNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3NOYW1lKTtcblx0ICB9LFxuXHQgIF9zZXRfYW5pbWF0aW9uOiBmdW5jdGlvbiBfc2V0X2FuaW1hdGlvbihoaWRlKSB7XG5cdCAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5fZ2V0X2FuaW1hdGlvbl9jbGFzc2VzKGhpZGUpO1xuXHQgICAgdmFyIGVuZExpc3RlbmVyID0gZnVuY3Rpb24gZW5kTGlzdGVuZXIoZSkge1xuXHQgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5yZW1vdmUoYW5pbSk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcblx0XG5cdCAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW0pIHtcblx0ICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoYW5pbSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIF9nZXRfYW5pbWF0aW9uX2NsYXNzZXM6IGZ1bmN0aW9uIF9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSkge1xuXHQgICAgdmFyIGFuaW1hdGlvbnMgPSBoaWRlID8gdGhpcy5wcm9wcy5oaWRlQW5pbWF0aW9uIDogdGhpcy5wcm9wcy5zaG93QW5pbWF0aW9uO1xuXHQgICAgaWYgKFwiW29iamVjdCBBcnJheV1cIiA9PT0gdG9TdHJpbmcuY2FsbChhbmltYXRpb25zKSkge1xuXHQgICAgICByZXR1cm4gYW5pbWF0aW9ucztcblx0ICAgIH0gZWxzZSBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFuaW1hdGlvbnMpIHtcblx0ICAgICAgcmV0dXJuIGFuaW1hdGlvbnMuc3BsaXQoXCIgXCIpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgX2NsZWFyX2FuaW1hdGlvbjogZnVuY3Rpb24gX2NsZWFyX2FuaW1hdGlvbihoaWRlKSB7XG5cdCAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5fZ2V0X2FuaW1hdGlvbl9jbGFzc2VzKGhpZGUpO1xuXHQgICAgYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRpb24pIHtcblx0ICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5yZW1vdmUoYW5pbWF0aW9uKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgX3F1ZXVlX2NsYXNzOiBmdW5jdGlvbiBfcXVldWVfY2xhc3MoY2xhc3NOYW1lKSB7XG5cdCAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlLnB1c2goY2xhc3NOYW1lKTtcblx0XG5cdCAgICBpZiAoIXRoaXMudGltZW91dCkge1xuXHQgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUsIFRJQ0spO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgX2ZsdXNoX2NsYXNzX25hbWVfcXVldWU6IGZ1bmN0aW9uIF9mbHVzaF9jbGFzc19uYW1lX3F1ZXVlKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgaWYgKHRoaXMuX2lzX21vdW50ZWQpIHtcblx0ICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShfdGhpczIpO1xuXHQgICAgICAgIF90aGlzMi5jbGFzc05hbWVRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcblx0ICAgICAgICAgIHJldHVybiAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSkuYWRkKGNsYXNzTmFtZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pKCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlLmxlbmd0aCA9IDA7XG5cdCAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuXHQgIH0sXG5cdCAgX3Nob3c6IGZ1bmN0aW9uIF9zaG93KCkge1xuXHQgICAgaWYgKHRoaXMucHJvcHMudHJhbnNpdGlvbikge1xuXHQgICAgICB0aGlzLl9zZXRfdHJhbnNpdGlvbigpO1xuXHQgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNob3dBbmltYXRpb24pIHtcblx0ICAgICAgdGhpcy5fc2V0X2FuaW1hdGlvbigpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgaGFuZGxlTW91c2VFbnRlcjogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcigpIHtcblx0ICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsSWQpO1xuXHQgICAgdGhpcy5fc2V0X2ludGVydmFsX2lkKG51bGwpO1xuXHQgICAgaWYgKHRoaXMuaXNIaWRpbmcpIHtcblx0ICAgICAgdGhpcy5fc2V0X2lzX2hpZGluZyhmYWxzZSk7XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5oaWRlQW5pbWF0aW9uKSB7XG5cdCAgICAgICAgdGhpcy5fY2xlYXJfYW5pbWF0aW9uKHRydWUpO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudHJhbnNpdGlvbikge1xuXHQgICAgICAgIHRoaXMuX2NsZWFyX3RyYW5zaXRpb24odHJ1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGhhbmRsZU1vdXNlTGVhdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG5cdCAgICBpZiAoIXRoaXMuaXNIaWRpbmcgJiYgKHRoaXMucHJvcHMudGltZU91dCA+IDAgfHwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQgPiAwKSkge1xuXHQgICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQpKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGhpZGVUb2FzdDogZnVuY3Rpb24gaGlkZVRvYXN0KG92ZXJyaWRlKSB7XG5cdCAgICBpZiAodGhpcy5pc0hpZGluZyB8fCB0aGlzLmludGVydmFsSWQgPT09IG51bGwgJiYgIW92ZXJyaWRlKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9zZXRfaXNfaGlkaW5nKHRydWUpO1xuXHQgICAgaWYgKHRoaXMucHJvcHMudHJhbnNpdGlvbikge1xuXHQgICAgICB0aGlzLl9zZXRfdHJhbnNpdGlvbih0cnVlKTtcblx0ICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5oaWRlQW5pbWF0aW9uKSB7XG5cdCAgICAgIHRoaXMuX3NldF9hbmltYXRpb24odHJ1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9oYW5kbGVfcmVtb3ZlKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfc2V0X2ludGVydmFsX2lkOiBmdW5jdGlvbiBfc2V0X2ludGVydmFsX2lkKGludGVydmFsSWQpIHtcblx0ICAgIHRoaXMuaW50ZXJ2YWxJZCA9IGludGVydmFsSWQ7XG5cdCAgfSxcblx0ICBfc2V0X2lzX2hpZGluZzogZnVuY3Rpb24gX3NldF9pc19oaWRpbmcoaXNIaWRpbmcpIHtcblx0ICAgIHRoaXMuaXNIaWRpbmcgPSBpc0hpZGluZztcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY2FsbF9zaG93X21ldGhvZCgkbm9kZSwgcHJvcHMpIHtcblx0ICAkbm9kZVtwcm9wcy5zaG93TWV0aG9kXSh7XG5cdCAgICBkdXJhdGlvbjogcHJvcHMuc2hvd0R1cmF0aW9uLFxuXHQgICAgZWFzaW5nOiBwcm9wcy5zaG93RWFzaW5nXG5cdCAgfSk7XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgZGlzcGxheTogXCJub25lXCIgfSxcblx0ICAgICAgLy8gZWZmZWN0aXZlICQuaGlkZSgpXG5cdCAgICAgIHNob3dNZXRob2Q6IFwiZmFkZUluXCIsIC8vIHNsaWRlRG93biwgYW5kIHNob3cgYXJlIGJ1aWx0IGludG8galF1ZXJ5XG5cdCAgICAgIHNob3dEdXJhdGlvbjogMzAwLFxuXHQgICAgICBzaG93RWFzaW5nOiBcInN3aW5nXCIsIC8vIGFuZCBsaW5lYXIgYXJlIGJ1aWx0IGludG8galF1ZXJ5XG5cdCAgICAgIGhpZGVNZXRob2Q6IFwiZmFkZU91dFwiLFxuXHQgICAgICBoaWRlRHVyYXRpb246IDEwMDAsXG5cdCAgICAgIGhpZGVFYXNpbmc6IFwic3dpbmdcIixcblx0ICAgICAgLy9cblx0ICAgICAgdGltZU91dDogNTAwMCxcblx0ICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBpbnRlcnZhbElkOiBudWxsLFxuXHQgICAgICBpc0hpZGluZzogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICBjYWxsX3Nob3dfbWV0aG9kKHRoaXMuX2dldF8kX25vZGUoKSwgdGhpcy5wcm9wcyk7XG5cdCAgICBpZiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCkge1xuXHQgICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy50aW1lT3V0KSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuXHQgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RhdGUuaW50ZXJ2YWxJZCk7XG5cdCAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQobnVsbCk7XG5cdCAgICB0aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcblx0XG5cdCAgICBjYWxsX3Nob3dfbWV0aG9kKHRoaXMuX2dldF8kX25vZGUoKS5zdG9wKHRydWUsIHRydWUpLCB0aGlzLnByb3BzKTtcblx0ICB9LFxuXHQgIGhhbmRsZU1vdXNlTGVhdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG5cdCAgICBpZiAoIXRoaXMuc3RhdGUuaXNIaWRpbmcgJiYgKHRoaXMucHJvcHMudGltZU91dCA+IDAgfHwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQgPiAwKSkge1xuXHQgICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQpKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGhpZGVUb2FzdDogZnVuY3Rpb24gaGlkZVRvYXN0KG92ZXJyaWRlKSB7XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5pc0hpZGluZyB8fCB0aGlzLnN0YXRlLmludGVydmFsSWQgPT09IG51bGwgJiYgIW92ZXJyaWRlKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0U3RhdGUoeyBpc0hpZGluZzogdHJ1ZSB9KTtcblx0XG5cdCAgICB0aGlzLl9nZXRfJF9ub2RlKClbdGhpcy5wcm9wcy5oaWRlTWV0aG9kXSh7XG5cdCAgICAgIGR1cmF0aW9uOiB0aGlzLnByb3BzLmhpZGVEdXJhdGlvbixcblx0ICAgICAgZWFzaW5nOiB0aGlzLnByb3BzLmhpZGVFYXNpbmcsXG5cdCAgICAgIGNvbXBsZXRlOiB0aGlzLl9oYW5kbGVfcmVtb3ZlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIF9nZXRfJF9ub2RlOiBmdW5jdGlvbiBfZ2V0XyRfbm9kZSgpIHtcblx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5cdCAgICByZXR1cm4galF1ZXJ5KF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKSk7XG5cdCAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVmICovXG5cdCAgfSxcblx0ICBfc2V0X2ludGVydmFsX2lkOiBmdW5jdGlvbiBfc2V0X2ludGVydmFsX2lkKGludGVydmFsSWQpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBpbnRlcnZhbElkOiBpbnRlcnZhbElkXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIF9zZXRfaXNfaGlkaW5nOiBmdW5jdGlvbiBfc2V0X2lzX2hpZGluZyhpc0hpZGluZykge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIGlzSGlkaW5nOiBpc0hpZGluZ1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVG9hc3RNZXNzYWdlID0gZXhwb3J0cy5Ub2FzdENvbnRhaW5lciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfVG9hc3RDb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfVG9hc3RDb250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9hc3RDb250YWluZXIpO1xuXHRcblx0dmFyIF9Ub2FzdE1lc3NhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfVG9hc3RNZXNzYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvYXN0TWVzc2FnZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5Ub2FzdENvbnRhaW5lciA9IF9Ub2FzdENvbnRhaW5lcjIuZGVmYXVsdDtcblx0ZXhwb3J0cy5Ub2FzdE1lc3NhZ2UgPSBfVG9hc3RNZXNzYWdlMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0cykge1xuXHQgIHJldHVybiBuZXcgRWxlbWVudENsYXNzKG9wdHMpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluZGV4T2YoYXJyLCBwcm9wKSB7XG5cdCAgaWYgKGFyci5pbmRleE9mKSByZXR1cm4gYXJyLmluZGV4T2YocHJvcClcblx0ICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuXHQgICAgaWYgKGFycltpXSA9PT0gcHJvcCkgcmV0dXJuIGlcblx0ICByZXR1cm4gLTFcblx0fVxuXHRcblx0ZnVuY3Rpb24gRWxlbWVudENsYXNzKG9wdHMpIHtcblx0ICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRWxlbWVudENsYXNzKSkgcmV0dXJuIG5ldyBFbGVtZW50Q2xhc3Mob3B0cylcblx0ICB2YXIgc2VsZiA9IHRoaXNcblx0ICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuXHRcblx0ICAvLyBzaW1pbGFyIGRvaW5nIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgYnV0IHdvcmtzIGluIElFOFxuXHQgIGlmIChvcHRzLm5vZGVUeXBlKSBvcHRzID0ge2VsOiBvcHRzfVxuXHRcblx0ICB0aGlzLm9wdHMgPSBvcHRzXG5cdCAgdGhpcy5lbCA9IG9wdHMuZWwgfHwgZG9jdW1lbnQuYm9keVxuXHQgIGlmICh0eXBlb2YgdGhpcy5lbCAhPT0gJ29iamVjdCcpIHRoaXMuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuZWwpXG5cdH1cblx0XG5cdEVsZW1lbnRDbGFzcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG5cdCAgdmFyIGVsID0gdGhpcy5lbFxuXHQgIGlmICghZWwpIHJldHVyblxuXHQgIGlmIChlbC5jbGFzc05hbWUgPT09IFwiXCIpIHJldHVybiBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWVcblx0ICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpXG5cdCAgaWYgKGluZGV4T2YoY2xhc3NlcywgY2xhc3NOYW1lKSA+IC0xKSByZXR1cm4gY2xhc3Nlc1xuXHQgIGNsYXNzZXMucHVzaChjbGFzc05hbWUpXG5cdCAgZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJylcblx0ICByZXR1cm4gY2xhc3Nlc1xuXHR9XG5cdFxuXHRFbGVtZW50Q2xhc3MucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuXHQgIHZhciBlbCA9IHRoaXMuZWxcblx0ICBpZiAoIWVsKSByZXR1cm5cblx0ICBpZiAoZWwuY2xhc3NOYW1lID09PSBcIlwiKSByZXR1cm5cblx0ICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpXG5cdCAgdmFyIGlkeCA9IGluZGV4T2YoY2xhc3NlcywgY2xhc3NOYW1lKVxuXHQgIGlmIChpZHggPiAtMSkgY2xhc3Nlcy5zcGxpY2UoaWR4LCAxKVxuXHQgIGVsLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpXG5cdCAgcmV0dXJuIGNsYXNzZXNcblx0fVxuXHRcblx0RWxlbWVudENsYXNzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcblx0ICB2YXIgZWwgPSB0aGlzLmVsXG5cdCAgaWYgKCFlbCkgcmV0dXJuXG5cdCAgdmFyIGNsYXNzZXMgPSBlbC5jbGFzc05hbWUuc3BsaXQoJyAnKVxuXHQgIHJldHVybiBpbmRleE9mKGNsYXNzZXMsIGNsYXNzTmFtZSkgPiAtMVxuXHR9XG5cdFxuXHRFbGVtZW50Q2xhc3MucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuXHQgIHZhciBlbCA9IHRoaXMuZWxcblx0ICBpZiAoIWVsKSByZXR1cm5cblx0ICBpZiAodGhpcy5oYXMoY2xhc3NOYW1lKSkgdGhpcy5yZW1vdmUoY2xhc3NOYW1lKVxuXHQgIGVsc2UgdGhpcy5hZGQoY2xhc3NOYW1lKVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIE9iamVjdC5hc3NpZ25cblx0ICovXG5cdFxuXHQvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtb2JqZWN0LmFzc2lnblxuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlcykge1xuXHQgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiB0YXJnZXQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblx0ICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHRcblx0ICBmb3IgKHZhciBuZXh0SW5kZXggPSAxOyBuZXh0SW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBuZXh0SW5kZXgrKykge1xuXHQgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbbmV4dEluZGV4XTtcblx0ICAgIGlmIChuZXh0U291cmNlID09IG51bGwpIHtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGZyb20gPSBPYmplY3QobmV4dFNvdXJjZSk7XG5cdFxuXHQgICAgLy8gV2UgZG9uJ3QgY3VycmVudGx5IHN1cHBvcnQgYWNjZXNzb3JzIG5vciBwcm94aWVzLiBUaGVyZWZvcmUgdGhpc1xuXHQgICAgLy8gY29weSBjYW5ub3QgdGhyb3cuIElmIHdlIGV2ZXIgc3VwcG9ydGVkIHRoaXMgdGhlbiB3ZSBtdXN0IGhhbmRsZVxuXHQgICAgLy8gZXhjZXB0aW9ucyBhbmQgc2lkZS1lZmZlY3RzLiBXZSBkb24ndCBzdXBwb3J0IHN5bWJvbHMgc28gdGhleSB3b24ndFxuXHQgICAgLy8gYmUgdHJhbnNmZXJyZWQuXG5cdFxuXHQgICAgZm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0ICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHQgICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0bztcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247XG5cbi8qKiovIH0sXG4vKiA0OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdCAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcblx0ICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG5cdCAqXG5cdCAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFRyYW5zaXRpb25FdmVudHNcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0XG5cdC8qKlxuXHQgKiBFVkVOVF9OQU1FX01BUCBpcyB1c2VkIHRvIGRldGVybWluZSB3aGljaCBldmVudCBmaXJlZCB3aGVuIGFcblx0ICogdHJhbnNpdGlvbi9hbmltYXRpb24gZW5kcywgYmFzZWQgb24gdGhlIHN0eWxlIHByb3BlcnR5IHVzZWQgdG9cblx0ICogZGVmaW5lIHRoYXQgZXZlbnQuXG5cdCAqL1xuXHR2YXIgRVZFTlRfTkFNRV9NQVAgPSB7XG5cdCAgdHJhbnNpdGlvbmVuZDoge1xuXHQgICAgJ3RyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG5cdCAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcblx0ICAgICdNb3pUcmFuc2l0aW9uJzogJ21velRyYW5zaXRpb25FbmQnLFxuXHQgICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcblx0ICAgICdtc1RyYW5zaXRpb24nOiAnTVNUcmFuc2l0aW9uRW5kJ1xuXHQgIH0sXG5cdFxuXHQgIGFuaW1hdGlvbmVuZDoge1xuXHQgICAgJ2FuaW1hdGlvbic6ICdhbmltYXRpb25lbmQnLFxuXHQgICAgJ1dlYmtpdEFuaW1hdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuXHQgICAgJ01vekFuaW1hdGlvbic6ICdtb3pBbmltYXRpb25FbmQnLFxuXHQgICAgJ09BbmltYXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsXG5cdCAgICAnbXNBbmltYXRpb24nOiAnTVNBbmltYXRpb25FbmQnXG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIGVuZEV2ZW50cyA9IFtdO1xuXHRcblx0ZnVuY3Rpb24gZGV0ZWN0RXZlbnRzKCkge1xuXHQgIHZhciB0ZXN0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICB2YXIgc3R5bGUgPSB0ZXN0RWwuc3R5bGU7XG5cdFxuXHQgIC8vIE9uIHNvbWUgcGxhdGZvcm1zLCBpbiBwYXJ0aWN1bGFyIHNvbWUgcmVsZWFzZXMgb2YgQW5kcm9pZCA0LngsXG5cdCAgLy8gdGhlIHVuLXByZWZpeGVkIFwiYW5pbWF0aW9uXCIgYW5kIFwidHJhbnNpdGlvblwiIHByb3BlcnRpZXMgYXJlIGRlZmluZWQgb24gdGhlXG5cdCAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG5cdCAgLy8gdG8gY2hlY2sgaWYgdGhlIHVuLXByZWZpeGVkIGV2ZW50cyBhcmUgdXNlYWJsZSwgYW5kIGlmIG5vdCByZW1vdmUgdGhlbVxuXHQgIC8vIGZyb20gdGhlIG1hcFxuXHQgIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuXHQgICAgZGVsZXRlIEVWRU5UX05BTUVfTUFQLmFuaW1hdGlvbmVuZC5hbmltYXRpb247XG5cdCAgfVxuXHRcblx0ICBpZiAoISgnVHJhbnNpdGlvbkV2ZW50JyBpbiB3aW5kb3cpKSB7XG5cdCAgICBkZWxldGUgRVZFTlRfTkFNRV9NQVAudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuXHQgIH1cblx0XG5cdCAgZm9yICh2YXIgYmFzZUV2ZW50TmFtZSBpbiBFVkVOVF9OQU1FX01BUCkge1xuXHQgICAgdmFyIGJhc2VFdmVudHMgPSBFVkVOVF9OQU1FX01BUFtiYXNlRXZlbnROYW1lXTtcblx0ICAgIGZvciAodmFyIHN0eWxlTmFtZSBpbiBiYXNlRXZlbnRzKSB7XG5cdCAgICAgIGlmIChzdHlsZU5hbWUgaW4gc3R5bGUpIHtcblx0ICAgICAgICBlbmRFdmVudHMucHVzaChiYXNlRXZlbnRzW3N0eWxlTmFtZV0pO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG5cdCAgZGV0ZWN0RXZlbnRzKCk7XG5cdH1cblx0XG5cdC8vIFdlIHVzZSB0aGUgcmF3IHthZGR8cmVtb3ZlfUV2ZW50TGlzdGVuZXIoKSBjYWxsIGJlY2F1c2UgRXZlbnRMaXN0ZW5lclxuXHQvLyBkb2VzIG5vdCBrbm93IGhvdyB0byByZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFuZCB3ZSByZWFsbHkgc2hvdWxkXG5cdC8vIGNsZWFuIHVwLiBBbHNvLCB0aGVzZSBldmVudHMgYXJlIG5vdCB0cmlnZ2VyZWQgaW4gb2xkZXIgYnJvd3NlcnNcblx0Ly8gc28gd2Ugc2hvdWxkIGJlIEEtT0sgaGVyZS5cblx0XG5cdGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBldmVudExpc3RlbmVyKSB7XG5cdCAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lcikge1xuXHQgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcblx0fVxuXHRcblx0dmFyIFJlYWN0VHJhbnNpdGlvbkV2ZW50cyA9IHtcblx0ICBhZGRFbmRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAobm9kZSwgZXZlbnRMaXN0ZW5lcikge1xuXHQgICAgaWYgKGVuZEV2ZW50cy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgLy8gSWYgQ1NTIHRyYW5zaXRpb25zIGFyZSBub3Qgc3VwcG9ydGVkLCB0cmlnZ2VyIGFuIFwiZW5kIGFuaW1hdGlvblwiXG5cdCAgICAgIC8vIGV2ZW50IGltbWVkaWF0ZWx5LlxuXHQgICAgICB3aW5kb3cuc2V0VGltZW91dChldmVudExpc3RlbmVyLCAwKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZW5kRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGVuZEV2ZW50KSB7XG5cdCAgICAgIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgcmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKG5vZGUsIGV2ZW50TGlzdGVuZXIpIHtcblx0ICAgIGlmIChlbmRFdmVudHMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGVuZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbmRFdmVudCkge1xuXHQgICAgICByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGVuZEV2ZW50LCBldmVudExpc3RlbmVyKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUmVhY3RUcmFuc2l0aW9uRXZlbnRzO1xuXG4vKioqLyB9LFxuLyogNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdCAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcblx0ICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG5cdCAqXG5cdCAqIEBwcm92aWRlc01vZHVsZSB1cGRhdGVcblx0ICovXG5cdFxuXHQvKiBnbG9iYWwgaGFzT3duUHJvcGVydHk6dHJ1ZSAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHR2YXIga2V5T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0dmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHR2YXIgaGFzT3duUHJvcGVydHkgPSAoe30pLmhhc093blByb3BlcnR5O1xuXHRcblx0ZnVuY3Rpb24gc2hhbGxvd0NvcHkoeCkge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG5cdCAgICByZXR1cm4geC5jb25jYXQoKTtcblx0ICB9IGVsc2UgaWYgKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnKSB7XG5cdCAgICByZXR1cm4gYXNzaWduKG5ldyB4LmNvbnN0cnVjdG9yKCksIHgpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4geDtcblx0ICB9XG5cdH1cblx0XG5cdHZhciBDT01NQU5EX1BVU0ggPSBrZXlPZih7ICRwdXNoOiBudWxsIH0pO1xuXHR2YXIgQ09NTUFORF9VTlNISUZUID0ga2V5T2YoeyAkdW5zaGlmdDogbnVsbCB9KTtcblx0dmFyIENPTU1BTkRfU1BMSUNFID0ga2V5T2YoeyAkc3BsaWNlOiBudWxsIH0pO1xuXHR2YXIgQ09NTUFORF9TRVQgPSBrZXlPZih7ICRzZXQ6IG51bGwgfSk7XG5cdHZhciBDT01NQU5EX01FUkdFID0ga2V5T2YoeyAkbWVyZ2U6IG51bGwgfSk7XG5cdHZhciBDT01NQU5EX0FQUExZID0ga2V5T2YoeyAkYXBwbHk6IG51bGwgfSk7XG5cdFxuXHR2YXIgQUxMX0NPTU1BTkRTX0xJU1QgPSBbQ09NTUFORF9QVVNILCBDT01NQU5EX1VOU0hJRlQsIENPTU1BTkRfU1BMSUNFLCBDT01NQU5EX1NFVCwgQ09NTUFORF9NRVJHRSwgQ09NTUFORF9BUFBMWV07XG5cdFxuXHR2YXIgQUxMX0NPTU1BTkRTX1NFVCA9IHt9O1xuXHRcblx0QUxMX0NPTU1BTkRTX0xJU1QuZm9yRWFjaChmdW5jdGlvbiAoY29tbWFuZCkge1xuXHQgIEFMTF9DT01NQU5EU19TRVRbY29tbWFuZF0gPSB0cnVlO1xuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgY29tbWFuZCkge1xuXHQgICFBcnJheS5pc0FycmF5KHZhbHVlKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgdGFyZ2V0IG9mICVzIHRvIGJlIGFuIGFycmF5OyBnb3QgJXMuJywgY29tbWFuZCwgdmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0ICB2YXIgc3BlY1ZhbHVlID0gc3BlY1tjb21tYW5kXTtcblx0ICAhQXJyYXkuaXNBcnJheShzcGVjVmFsdWUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5OyBnb3QgJXMuICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlciBpbiBhbiBhcnJheT8nLCBjb21tYW5kLCBzcGVjVmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdXBkYXRlKHZhbHVlLCBzcGVjKSB7XG5cdCAgISh0eXBlb2Ygc3BlYyA9PT0gJ29iamVjdCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBZb3UgcHJvdmlkZWQgYSBrZXkgcGF0aCB0byB1cGRhdGUoKSB0aGF0IGRpZCBub3QgY29udGFpbiBvbmUgJyArICdvZiAlcy4gRGlkIHlvdSBmb3JnZXQgdG8gaW5jbHVkZSB7JXM6IC4uLn0/JywgQUxMX0NPTU1BTkRTX0xJU1Quam9pbignLCAnKSwgQ09NTUFORF9TRVQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9TRVQpKSB7XG5cdCAgICAhKE9iamVjdC5rZXlzKHNwZWMpLmxlbmd0aCA9PT0gMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGhhdmUgbW9yZSB0aGFuIG9uZSBrZXkgaW4gYW4gb2JqZWN0IHdpdGggJXMnLCBDT01NQU5EX1NFVCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIHJldHVybiBzcGVjW0NPTU1BTkRfU0VUXTtcblx0ICB9XG5cdFxuXHQgIHZhciBuZXh0VmFsdWUgPSBzaGFsbG93Q29weSh2YWx1ZSk7XG5cdFxuXHQgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfTUVSR0UpKSB7XG5cdCAgICB2YXIgbWVyZ2VPYmogPSBzcGVjW0NPTU1BTkRfTUVSR0VdO1xuXHQgICAgIShtZXJnZU9iaiAmJiB0eXBlb2YgbWVyZ2VPYmogPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogJXMgZXhwZWN0cyBhIHNwZWMgb2YgdHlwZSBcXCdvYmplY3RcXCc7IGdvdCAlcycsIENPTU1BTkRfTUVSR0UsIG1lcmdlT2JqKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICAhKG5leHRWYWx1ZSAmJiB0eXBlb2YgbmV4dFZhbHVlID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6ICVzIGV4cGVjdHMgYSB0YXJnZXQgb2YgdHlwZSBcXCdvYmplY3RcXCc7IGdvdCAlcycsIENPTU1BTkRfTUVSR0UsIG5leHRWYWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHQgICAgYXNzaWduKG5leHRWYWx1ZSwgc3BlY1tDT01NQU5EX01FUkdFXSk7XG5cdCAgfVxuXHRcblx0ICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1BVU0gpKSB7XG5cdCAgICBpbnZhcmlhbnRBcnJheUNhc2UodmFsdWUsIHNwZWMsIENPTU1BTkRfUFVTSCk7XG5cdCAgICBzcGVjW0NPTU1BTkRfUFVTSF0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICBuZXh0VmFsdWUucHVzaChpdGVtKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9VTlNISUZUKSkge1xuXHQgICAgaW52YXJpYW50QXJyYXlDYXNlKHZhbHVlLCBzcGVjLCBDT01NQU5EX1VOU0hJRlQpO1xuXHQgICAgc3BlY1tDT01NQU5EX1VOU0hJRlRdLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgbmV4dFZhbHVlLnVuc2hpZnQoaXRlbSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfU1BMSUNFKSkge1xuXHQgICAgIUFycmF5LmlzQXJyYXkodmFsdWUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkICVzIHRhcmdldCB0byBiZSBhbiBhcnJheTsgZ290ICVzJywgQ09NTUFORF9TUExJQ0UsIHZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICAhQXJyYXkuaXNBcnJheShzcGVjW0NPTU1BTkRfU1BMSUNFXSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzOyBnb3QgJXMuICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlcnMgaW4gYW4gYXJyYXk/JywgQ09NTUFORF9TUExJQ0UsIHNwZWNbQ09NTUFORF9TUExJQ0VdKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICBzcGVjW0NPTU1BTkRfU1BMSUNFXS5mb3JFYWNoKGZ1bmN0aW9uIChhcmdzKSB7XG5cdCAgICAgICFBcnJheS5pc0FycmF5KGFyZ3MpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5czsgZ290ICVzLiAnICsgJ0RpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXJzIGluIGFuIGFycmF5PycsIENPTU1BTkRfU1BMSUNFLCBzcGVjW0NPTU1BTkRfU1BMSUNFXSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHQgICAgICBuZXh0VmFsdWUuc3BsaWNlLmFwcGx5KG5leHRWYWx1ZSwgYXJncyk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfQVBQTFkpKSB7XG5cdCAgICAhKHR5cGVvZiBzcGVjW0NPTU1BTkRfQVBQTFldID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhIGZ1bmN0aW9uOyBnb3QgJXMuJywgQ09NTUFORF9BUFBMWSwgc3BlY1tDT01NQU5EX0FQUExZXSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHQgICAgbmV4dFZhbHVlID0gc3BlY1tDT01NQU5EX0FQUExZXShuZXh0VmFsdWUpO1xuXHQgIH1cblx0XG5cdCAgZm9yICh2YXIgayBpbiBzcGVjKSB7XG5cdCAgICBpZiAoIShBTExfQ09NTUFORFNfU0VULmhhc093blByb3BlcnR5KGspICYmIEFMTF9DT01NQU5EU19TRVRba10pKSB7XG5cdCAgICAgIG5leHRWYWx1ZVtrXSA9IHVwZGF0ZSh2YWx1ZVtrXSwgc3BlY1trXSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gbmV4dFZhbHVlO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHVwZGF0ZTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTUpKSlcblxuLyoqKi8gfSxcbi8qIDUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIEV4ZWN1dGlvbkVudmlyb25tZW50XG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cdFxuXHQvKipcblx0ICogU2ltcGxlLCBsaWdodHdlaWdodCBtb2R1bGUgYXNzaXN0aW5nIHdpdGggdGhlIGRldGVjdGlvbiBhbmQgY29udGV4dCBvZlxuXHQgKiBXb3JrZXIuIEhlbHBzIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBhbmQgYWxsb3dzIGNvZGUgdG8gcmVhc29uIGFib3V0XG5cdCAqIHdoZXRoZXIgb3Igbm90IHRoZXkgYXJlIGluIGEgV29ya2VyLCBldmVuIGlmIHRoZXkgbmV2ZXIgaW5jbHVkZSB0aGUgbWFpblxuXHQgKiBgUmVhY3RXb3JrZXJgIGRlcGVuZGVuY3kuXG5cdCAqL1xuXHR2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cdFxuXHQgIGNhblVzZURPTTogY2FuVXNlRE9NLFxuXHRcblx0ICBjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcblx0XG5cdCAgY2FuVXNlRXZlbnRMaXN0ZW5lcnM6IGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuXHRcblx0ICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblx0XG5cdCAgaXNJbldvcmtlcjogIWNhblVzZURPTSAvLyBGb3Igbm93LCB0aGlzIGlzIHRydWUgLSBtaWdodCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cblx0XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdCAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcblx0ICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG5cdCAqXG5cdCAqIEBwcm92aWRlc01vZHVsZSBpbnZhcmlhbnRcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuXHQgKlxuXHQgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHQgKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcblx0ICogZXhwZWN0aW5nLlxuXHQgKlxuXHQgKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuXHQgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgdmFyIGVycm9yO1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0ICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgICAgfSkpO1xuXHQgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHQgICAgfVxuXHRcblx0ICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcblx0ICAgIHRocm93IGVycm9yO1xuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSkpXG5cbi8qKiovIH0sXG4vKiA1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdCAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcblx0ICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG5cdCAqXG5cdCAqIEBwcm92aWRlc01vZHVsZSBrZXlPZlxuXHQgKi9cblx0XG5cdC8qKlxuXHQgKiBBbGxvd3MgZXh0cmFjdGlvbiBvZiBhIG1pbmlmaWVkIGtleS4gTGV0J3MgdGhlIGJ1aWxkIHN5c3RlbSBtaW5pZnkga2V5c1xuXHQgKiB3aXRob3V0IGxvc2luZyB0aGUgYWJpbGl0eSB0byBkeW5hbWljYWxseSB1c2Uga2V5IHN0cmluZ3MgYXMgdmFsdWVzXG5cdCAqIHRoZW1zZWx2ZXMuIFBhc3MgaW4gYW4gb2JqZWN0IHdpdGggYSBzaW5nbGUga2V5L3ZhbCBwYWlyIGFuZCBpdCB3aWxsIHJldHVyblxuXHQgKiB5b3UgdGhlIHN0cmluZyBrZXkgb2YgdGhhdCBzaW5nbGUgcmVjb3JkLiBTdXBwb3NlIHlvdSB3YW50IHRvIGdyYWIgdGhlXG5cdCAqIHZhbHVlIGZvciBhIGtleSAnY2xhc3NOYW1lJyBpbnNpZGUgb2YgYW4gb2JqZWN0LiBLZXkvdmFsIG1pbmlmaWNhdGlvbiBtYXlcblx0ICogaGF2ZSBhbGlhc2VkIHRoYXQga2V5IHRvIGJlICd4YTEyJy4ga2V5T2Yoe2NsYXNzTmFtZTogbnVsbH0pIHdpbGwgcmV0dXJuXG5cdCAqICd4YTEyJyBpbiB0aGF0IGNhc2UuIFJlc29sdmUga2V5cyB5b3Ugd2FudCB0byB1c2Ugb25jZSBhdCBzdGFydHVwIHRpbWUsIHRoZW5cblx0ICogcmV1c2UgdGhvc2UgcmVzb2x1dGlvbnMuXG5cdCAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBrZXlPZiA9IGZ1bmN0aW9uIChvbmVLZXlPYmopIHtcblx0ICB2YXIga2V5O1xuXHQgIGZvciAoa2V5IGluIG9uZUtleU9iaikge1xuXHQgICAgaWYgKCFvbmVLZXlPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBrZXk7XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBrZXlPZjtcblxuLyoqKi8gfSxcbi8qIDUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdHZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdFx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHRcdHZhciBtZW1vO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHRcdH07XHJcblx0XHR9LFxyXG5cdFx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdH0pLFxyXG5cdFx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdFx0fSksXHJcblx0XHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRcdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRcdGlmKGZhbHNlKSB7XHJcblx0XHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cdFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblx0XHJcblx0XHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdFx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0XHR2YXIgc3R5bGVzID0gW107XHJcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0eWxlcztcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdFx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0XHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRcdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRcdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRcdHJldHVybiBsaW5rRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHRcclxuXHRcdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0XHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgdGV4dFN0b3JlID0gW107XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHRcclxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihtZWRpYSkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0XHR9XHJcblx0XHJcblx0XHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cdFxyXG5cdFx0aWYoc291cmNlTWFwKSB7XHJcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHRcdH1cclxuXHRcclxuXHRcdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cdFxyXG5cdFx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblx0XHJcblx0XHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcclxuXHRcdGlmKG9sZFNyYylcclxuXHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG5cdH1cclxuXG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbmUgY2Fubm90IGJlIHVzZWQgaW5kaXJlY3RcIik7IH07XHJcblxuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihfX3dlYnBhY2tfYW1kX29wdGlvbnNfXykge21vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XHJcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiByZWFjdC1ib290c3RyYXAtdGFibGUuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGFlZTcxOGUyNDAwYzM4MjhhYjBmXG4gKiovIiwiaW1wb3J0IEJvb3RzdHJhcFRhYmxlIGZyb20gJy4vQm9vdHN0cmFwVGFibGUnO1xyXG5pbXBvcnQgVGFibGVIZWFkZXJDb2x1bW4gZnJvbSAnLi9UYWJsZUhlYWRlckNvbHVtbic7XHJcbmltcG9ydCB7VGFibGVEYXRhU2V0fSBmcm9tICcuL3N0b3JlL1RhYmxlRGF0YVN0b3JlJztcclxuXHJcbmlmKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKXtcclxuICB3aW5kb3cuQm9vdHN0cmFwVGFibGUgPSBCb290c3RyYXBUYWJsZTtcclxuICB3aW5kb3cuVGFibGVIZWFkZXJDb2x1bW4gPSBUYWJsZUhlYWRlckNvbHVtbjtcclxuICB3aW5kb3cuVGFibGVEYXRhU2V0ID0gVGFibGVEYXRhU2V0O1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBCb290c3RyYXBUYWJsZSxcclxuICBUYWJsZUhlYWRlckNvbHVtbixcclxuICBUYWJsZURhdGFTZXRcclxufTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwge1wicm9vdFwiOlwiUmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiYW1kXCI6XCJyZWFjdFwifVxuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydCBkZWZhdWx0IHtcclxuICBTT1JUX0RFU0M6IFwiZGVzY1wiLFxyXG4gIFNPUlRfQVNDOiBcImFzY1wiLFxyXG4gIFNJWkVfUEVSX1BBR0U6IDEwLFxyXG4gIE5FWFRfUEFHRTogXCI+XCIsXHJcbiAgTEFTVF9QQUdFOiBcIj4+XCIsXHJcbiAgUFJFX1BBR0U6IFwiPFwiLFxyXG4gIEZJUlNUX1BBR0U6IFwiPDxcIixcclxuICBST1dfU0VMRUNUX0JHX0NPTE9SOiBcIlwiLFxyXG4gIFJPV19TRUxFQ1RfTk9ORTogXCJub25lXCIsXHJcbiAgUk9XX1NFTEVDVF9TSU5HTEU6IFwicmFkaW9cIixcclxuICBST1dfU0VMRUNUX01VTFRJOiBcImNoZWNrYm94XCIsXHJcbiAgQ0VMTF9FRElUX05PTkU6IFwibm9uZVwiLFxyXG4gIENFTExfRURJVF9DTElDSzogXCJjbGlja1wiLFxyXG4gIENFTExfRURJVF9EQkNMSUNLOiBcImRiY2xpY2tcIixcclxuICBTSVpFX1BFUl9QQUdFX0xJU1Q6IFsxMCwgMjUsIDMwLCA1MF0sXHJcbiAgUEFHSU5BVElPTl9TSVpFOiA1LFxyXG4gIE5PX0RBVEFfVEVYVDogXCJUaGVyZSBpcyBubyBkYXRhIHRvIGRpc3BsYXlcIixcclxuICBTSE9XX09OTFlfU0VMRUNUOiBcIlNob3cgU2VsZWN0ZWQgT25seVwiLFxyXG4gIFNIT1dfQUxMOiBcIlNob3cgQWxsXCIsXHJcbiAgRklMVEVSX0RFTEFZOiA1MDAsXHJcbiAgRklMVEVSX1RZUEU6IHtcclxuICAgIFRFWFQ6IFwiVGV4dEZpbHRlclwiLFxyXG4gICAgU0VMRUNUOiBcIlNlbGVjdEZpbHRlclwiLFxyXG4gICAgTlVNQkVSOiBcIk51bWJlckZpbHRlclwiLFxyXG4gICAgREFURTogXCJEYXRlRmlsdGVyXCIsXHJcbiAgICBDVVNUT006IFwiQ3VzdG9tRmlsdGVyXCJcclxuICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvQ29uc3QuanNcbiAqKi8iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NsYXNzbmFtZXMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwge1wicm9vdFwiOlwiUmVhY3RET01cIixcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCIsXCJjb21tb25qc1wiOlwicmVhY3QtZG9tXCIsXCJhbWRcIjpcInJlYWN0LWRvbVwifVxuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuL0NvbnN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcblxyXG4gIHJlbmRlclNvcnRDYXJldChvcmRlcikge1xyXG4gICAgdmFyIHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIHdyYXAuY2xhc3NOYW1lID0gXCJvcmRlclwiO1xyXG4gICAgaWYob3JkZXIgPT0gQ29uc3QuU09SVF9BU0MpIHdyYXAuY2xhc3NOYW1lICs9IFwiIGRyb3B1cFwiO1xyXG4gICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBpbm5lci5jbGFzc05hbWUgPSBcImNhcmV0XCI7XHJcbiAgICBpbm5lci5zdHlsZS5tYXJnaW4gPSBcIjEwcHggNXB4XCI7XHJcbiAgICB3cmFwLmFwcGVuZENoaWxkKGlubmVyKTtcclxuICAgIHJldHVybiB3cmFwO1xyXG4gIH0sXHJcblxyXG4gIHJlbmRlclJlYWN0U29ydENhcmV0KG9yZGVyKXtcclxuICAgIHZhciBvcmRlckNsYXNzID0gY2xhc3NTZXQoXCJvcmRlclwiLCB7XHJcbiAgICAgICdkcm9wdXAnOiBvcmRlciA9PSBDb25zdC5TT1JUX0FTQ1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8c3BhbiBjbGFzc05hbWU9e29yZGVyQ2xhc3N9PlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcmV0XCIgc3R5bGU9e3ttYXJnaW46ICcxMHB4IDVweCd9fT48L3NwYW4+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICk7XHJcbiAgfSxcclxuXHJcbiAgZ2V0U2Nyb2xsQmFyV2lkdGgoKXtcclxuICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIGlubmVyLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICBpbm5lci5zdHlsZS5oZWlnaHQgPSBcIjIwMHB4XCI7XHJcblxyXG4gICAgdmFyIG91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBvdXRlci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgIG91dGVyLnN0eWxlLnRvcCA9IFwiMHB4XCI7XHJcbiAgICBvdXRlci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcclxuICAgIG91dGVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gICAgb3V0ZXIuc3R5bGUud2lkdGggPSBcIjIwMHB4XCI7XHJcbiAgICBvdXRlci5zdHlsZS5oZWlnaHQgPSBcIjE1MHB4XCI7XHJcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICBvdXRlci5hcHBlbmRDaGlsZCAoaW5uZXIpO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQgKG91dGVyKTtcclxuICAgIHZhciB3MSA9IGlubmVyLm9mZnNldFdpZHRoO1xyXG4gICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcclxuICAgIHZhciB3MiA9IGlubmVyLm9mZnNldFdpZHRoO1xyXG4gICAgaWYgKHcxID09IHcyKSB3MiA9IG91dGVyLmNsaWVudFdpZHRoO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQgKG91dGVyKTtcclxuXHJcbiAgICByZXR1cm4gKHcxIC0gdzIpO1xyXG4gIH1cclxuXHJcbn07XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3V0aWwuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU3dpdGNoIGZyb20gJ3JjLXN3aXRjaCc7XHJcbmltcG9ydCAncmMtc3dpdGNoL2Fzc2V0cy9pbmRleC5jc3MnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7XHJcblxyXG52YXIgRWRpdG9yID0gZnVuY3Rpb24gKGVkaXRhYmxlLCBhdHRyLCBmb3JtYXQsIGVkaXRvckNsYXNzLCBkZWZhdWx0VmFsdWUpIHtcclxuXHJcblxyXG4gICAgaWYgKGVkaXRhYmxlID09PSB0cnVlIHx8IHR5cGVvZiBlZGl0YWJsZSA9PT0gXCJzdHJpbmdcIikgey8vc2ltcGxlIGRlY2xhcmVcclxuICAgICAgICB2YXIgdHlwZSA9IGVkaXRhYmxlID09PSB0cnVlID8gJ3RleHQnIDogZWRpdGFibGU7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGlucHV0IHsuLi5hdHRyfSB0eXBlPXt0eXBlfSBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyhlZGl0b3JDbGFzc3x8XCJcIikrXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIn0vPlxyXG4gICAgICAgIClcclxuICAgIH0gZWxzZSBpZiAoIWVkaXRhYmxlKSB7XHJcbiAgICAgICAgdmFyIHR5cGUgPSBlZGl0YWJsZSA9PT0gdHJ1ZSA/ICd0ZXh0JyA6IGVkaXRhYmxlO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxpbnB1dCB7Li4uYXR0cn0gdHlwZT17dHlwZX0gZGVmYXVsdFZhbHVlPXtkZWZhdWx0VmFsdWV9IGRpc2FibGVkPSdkaXNhYmxlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyhlZGl0b3JDbGFzc3x8XCJcIikrXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIn0vPlxyXG4gICAgICAgIClcclxuICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSkgey8vc3RhbmRhcmQgZGVjbGFyZVxyXG4gICAgICAgIC8vcHV0IHN0eWxlIGlmIGV4aXN0XHJcbiAgICAgICAgZWRpdGFibGUuc3R5bGUgJiYgKGF0dHIuc3R5bGUgPSBlZGl0YWJsZS5zdHlsZSk7XHJcblxyXG4gICAgICAgIC8vcHV0IGNsYXNzIGlmIGV4aXN0XHJcbiAgICAgICAgYXR0ci5jbGFzc05hbWUgPSAoZWRpdG9yQ2xhc3MgfHwgXCJcIikgK1xyXG4gICAgICAgICAgICBcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtXCIgK1xyXG4gICAgICAgICAgICBlZGl0YWJsZS50eXBlICtcclxuICAgICAgICAgICAgKGVkaXRhYmxlLmNsYXNzTmFtZSA/IChcIiBcIiArIGVkaXRhYmxlLmNsYXNzTmFtZSkgOiBcIlwiKTtcclxuXHJcbiAgICAgICAgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdzZWxlY3QnKSB7Ly9wcm9jZXNzIHNlbGVjdCBpbnB1dFxyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IFtdLCB2YWx1ZXMgPSBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcztcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkgey8vb25seSBjYW4gdXNlIGFycnJheSBkYXRhIGZvciBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICB2YXIgcm93VmFsdWU7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gdmFsdWVzLm1hcChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1ZhbHVlID0gZm9ybWF0ID8gZm9ybWF0KGQpIDogZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17J29wdGlvbicraX0gdmFsdWU9e2R9Pntyb3dWYWx1ZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNlbGVjdCB7Li4uYXR0cn0gZGVmYXVsdFZhbHVlPXtkZWZhdWx0VmFsdWV9PntvcHRpb25zfTwvc2VsZWN0PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3RleHRhcmVhJykgey8vcHJvY2VzcyB0ZXh0YXJlYSBpbnB1dFxyXG4gICAgICAgICAgICAvL3B1dCAgb3RoZXIgaWYgZXhpc3RcclxuICAgICAgICAgICAgZWRpdGFibGUuY29scyAmJiAoYXR0ci5jb2xzID0gZWRpdGFibGUuY29scyk7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlLnJvd3MgJiYgKGF0dHIucm93cyA9IGVkaXRhYmxlLnJvd3MpO1xyXG4gICAgICAgICAgICB2YXIga2V5VXBIYW5kbGVyID0gYXR0ci5vbktleURvd24sIHNhdmVCdG4gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoa2V5VXBIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyLm9uS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSAhPSAxMykgeyAvL25vdCBQcmVzc2VkIEVOVEVSXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleVVwSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgc2F2ZUJ0biA9IDxidXR0byBjbGFzc05hbWU9XCJidG4gYnRuLWluZm8gYnRuLXhzIHRleHRhcmVhLXNhdmUtYnRuXCIgb25DbGljaz17a2V5VXBIYW5kbGVyfT5zYXZlPC9idXR0bz5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIHsuLi5hdHRyfSBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX0+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgICAgICB7c2F2ZUJ0bn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdjaGVja2JveCcpIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlcyA9ICd0cnVlOmZhbHNlJztcclxuICAgICAgICAgICAgaWYgKGVkaXRhYmxlLm9wdGlvbnMgJiYgZWRpdGFibGUub3B0aW9ucy52YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIHZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSA9IGF0dHIuY2xhc3NOYW1lLnJlcGxhY2UoJ2Zvcm0tY29udHJvbCcsICcnKTtcclxuICAgICAgICAgICAgYXR0ci5jbGFzc05hbWUgKz0gJyBjaGVja2JveCBwdWxsLXJpZ2h0JztcclxuXHJcbiAgICAgICAgICAgIGxldCBjaGVja2VkID0gZGVmYXVsdFZhbHVlICYmIGRlZmF1bHRWYWx1ZS50b1N0cmluZygpID09IHZhbHVlcy5zcGxpdCgnOicpWzBdID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxpbnB1dCB7Li4uYXR0cn0gdHlwZT0nY2hlY2tib3gnIHZhbHVlPXt2YWx1ZXN9IGRlZmF1bHRDaGVja2VkPXtjaGVja2VkfS8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlID09PSAnc3dpdGNoJykge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWVzID0gJ3RydWU6ZmFsc2UnO1xyXG4gICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSA9IGF0dHIuY2xhc3NOYW1lLnJlcGxhY2UoJ2Zvcm0tY29udHJvbCcsICcnKTtcclxuICAgICAgICAgICAgYXR0ci5jbGFzc05hbWUgKz0gJyBjaGVja2JveCBwdWxsLXJpZ2h0JztcclxuICAgICAgICAgICAgbGV0IGNoZWNrZWQgPSBkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkgPT0gdmFsdWVzLnNwbGl0KCc6JylbMF0gPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8U3dpdGNoIGNsYXNzTmFtZT17YXR0ci5jbGFzc05hbWV9IGRlZmF1bHRDaGVja2VkPXtjaGVja2VkfS8+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdyZWFjdC1zZWxlY3QnKSB7XHJcbiAgICAgICAgICAgIGxldCBtdWx0aU9wdCA9IHR5cGVvZiBlZGl0YWJsZS5vcHRpb25zLm11bHRpICE9PSAndW5kZWZpbmVkJyA/IGVkaXRhYmxlLm9wdGlvbnMubXVsdGkgOiBmYWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPFNlbGVjdCBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0XCIgb3B0aW9ucz17ZWRpdGFibGUub3B0aW9ucy52YWx1ZXN9IG11bHRpPXttdWx0aU9wdH0gc2ltcGxlVmFsdWU9e3RydWV9Lz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0gZWxzZSB7Ly9wcm9jZXNzIG90aGVyIGlucHV0IHR5cGUuIGFzIHBhc3N3b3JkLHVybCxlbWFpbC4uLlxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHsuLi5hdHRyfSB0eXBlPXt0eXBlfSBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX0vPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9kZWZhdWx0IHJldHVybiBmb3Igb3RoZXIgY2FzZSBvZiBlZGl0YWJsZVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8aW5wdXQgey4uLmF0dHJ9IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPXsoZWRpdG9yQ2xhc3N8fFwiXCIpK1wiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC10ZXh0XCJ9Lz5cclxuICAgIClcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVkaXRvcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvRWRpdG9yLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5cclxuaW1wb3J0IHtcclxuICBUb2FzdENvbnRhaW5lcixcclxuICBUb2FzdE1lc3NhZ2UsXHJcbn0gZnJvbSBcInJlYWN0LXRvYXN0clwiO1xyXG5cclxuXHJcbnZhciBUb2FzdHJNZXNzYWdlRmFjdG9yeT1SZWFjdC5jcmVhdGVGYWN0b3J5KFRvYXN0TWVzc2FnZS5hbmltYXRpb24pO1xyXG5cclxuY2xhc3MgTm90aWZpY2F0aW9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG4gIC8vIGFsbG93IHR5cGUgaXMgc3VjY2VzcyxpbmZvLHdhcm5pbmcsZXJyb3JcclxuICBub3RpY2UodHlwZSxtc2csdGl0bGUpe1xyXG4gICAgdGhpcy5yZWZzLnRvYXN0clt0eXBlXShcclxuICAgICAgICBtc2csdGl0bGUsIHtcclxuICAgICAgICAgIG1vZGU6J3NpbmdsZScsXHJcbiAgICAgICAgICB0aW1lT3V0OiA1MDAwLFxyXG4gICAgICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwLFxyXG4gICAgICAgICAgc2hvd0FuaW1hdGlvbjogXCJhbmltYXRlZCAgYm91bmNlSW5cIixcclxuICAgICAgICAgIGhpZGVBbmltYXRpb246IFwiYW5pbWF0ZWQgYm91bmNlT3V0XCJcclxuICAgICAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgcmV0dXJuKFxyXG4gICAgICAgIDxUb2FzdENvbnRhaW5lciByZWY9XCJ0b2FzdHJcIiB0b2FzdE1lc3NhZ2VGYWN0b3J5PXtUb2FzdHJNZXNzYWdlRmFjdG9yeX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwidG9hc3QtY29udGFpbmVyXCIgIGNsYXNzTmFtZT1cInRvYXN0LXRvcC1yaWdodFwiPjwvVG9hc3RDb250YWluZXI+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb247XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL05vdGlmaWNhdGlvbi5qc1xuICoqLyIsImltcG9ydCBDb25zdCBmcm9tIFwiLi4vQ29uc3RcIjtcclxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcclxuXHJcbmZ1bmN0aW9uIF9zb3J0KGFyciwgc29ydEZpZWxkLCBvcmRlciwgc29ydEZ1bmMpIHtcclxuICBvcmRlciA9IG9yZGVyLnRvTG93ZXJDYXNlKCk7XHJcbiAgYXJyLnNvcnQoKGEsIGIpID0+IHtcclxuICAgIGlmIChzb3J0RnVuYykge1xyXG4gICAgICByZXR1cm4gc29ydEZ1bmMoYSwgYiwgb3JkZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKG9yZGVyID09IENvbnN0LlNPUlRfREVTQykge1xyXG4gICAgICAgIHJldHVybiBhW3NvcnRGaWVsZF0gPiBiW3NvcnRGaWVsZF0gPyAtMSA6ICgoYVtzb3J0RmllbGRdIDwgYltzb3J0RmllbGRdKSA/IDEgOiAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYVtzb3J0RmllbGRdIDwgYltzb3J0RmllbGRdID8gLTEgOiAoKGFbc29ydEZpZWxkXSA+IGJbc29ydEZpZWxkXSkgPyAxIDogMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGFycjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhYmxlRGF0YVNldCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgc3VwZXIoZGF0YSk7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0RGF0YShkYXRhKSB7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YSgpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGFibGVEYXRhU3RvcmUge1xyXG5cclxuICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5jb2xJbmZvcyA9IG51bGw7XHJcbiAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XHJcbiAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcclxuICAgIHRoaXMuZmlsdGVyT2JqID0gbnVsbDtcclxuICAgIHRoaXMuc2VhcmNoVGV4dCA9IG51bGw7XHJcbiAgICB0aGlzLnNvcnRPYmogPSBudWxsO1xyXG4gICAgdGhpcy5wYWdlT2JqID0ge307XHJcbiAgICB0aGlzLnNlbGVjdGVkID0gW107XHJcbiAgICB0aGlzLm11bHRpQ29sdW1uU2VhcmNoID0gZmFsc2U7XHJcbiAgICB0aGlzLnNob3dPbmx5U2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMucmVtb3RlID0gZmFsc2U7IC8vIHJlbW90ZSBkYXRhXHJcbiAgfVxyXG5cclxuICBzZXRQcm9wcyhwcm9wcykge1xyXG4gICAgdGhpcy5rZXlGaWVsZCA9IHByb3BzLmtleUZpZWxkO1xyXG4gICAgdGhpcy5lbmFibGVQYWdpbmF0aW9uID0gcHJvcHMuaXNQYWdpbmF0aW9uO1xyXG4gICAgdGhpcy5jb2xJbmZvcyA9IHByb3BzLmNvbEluZm9zO1xyXG4gICAgdGhpcy5yZW1vdGUgPSBwcm9wcy5yZW1vdGU7XHJcbiAgICB0aGlzLm11bHRpQ29sdW1uU2VhcmNoID0gcHJvcHMubXVsdGlDb2x1bW5TZWFyY2g7XHJcbiAgfVxyXG5cclxuICBzZXREYXRhKGRhdGEpIHtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICBpZiAodGhpcy5pc09uRmlsdGVyKSB7XHJcbiAgICAgIGlmIChudWxsICE9PSB0aGlzLmZpbHRlck9iaikgdGhpcy5maWx0ZXIodGhpcy5maWx0ZXJPYmopO1xyXG4gICAgICBpZiAobnVsbCAhPT0gdGhpcy5zZWFyY2hUZXh0KSB0aGlzLnNlYXJjaCh0aGlzLnNlYXJjaFRleHQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc29ydE9iaikge1xyXG4gICAgICB0aGlzLnNvcnQodGhpcy5zb3J0T2JqLm9yZGVyLCB0aGlzLnNvcnRPYmouc29ydEZpZWxkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNvcnRJbmZvKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc29ydE9iajtcclxuICB9XHJcblxyXG4gIHNldFNlbGVjdGVkUm93S2V5KHNlbGVjdGVkUm93S2V5cykge1xyXG4gICAgdGhpcy5zZWxlY3RlZCA9IHNlbGVjdGVkUm93S2V5cztcclxuICB9XHJcblxyXG4gIGdldFNlbGVjdGVkUm93S2V5cygpIHtcclxuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q3VycmVudERpc3BsYXlEYXRhKCkge1xyXG4gICAgaWYgKHRoaXMuaXNPbkZpbHRlcikgcmV0dXJuIHRoaXMuZmlsdGVyZWREYXRhO1xyXG4gICAgZWxzZSByZXR1cm4gdGhpcy5kYXRhO1xyXG4gIH1cclxuXHJcbiAgaWdub3JlTm9uU2VsZWN0ZWQoKSB7XHJcbiAgICB0aGlzLnNob3dPbmx5U2VsZWN0ZWQgPSAhdGhpcy5zaG93T25seVNlbGVjdGVkO1xyXG4gICAgaWYodGhpcy5zaG93T25seVNlbGVjdGVkKXtcclxuICAgICAgdGhpcy5pc09uRmlsdGVyID0gdHJ1ZTtcclxuICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKCByb3cgPT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnNlbGVjdGVkLmZpbmQoeCA9PiByb3dbdGhpcy5rZXlGaWVsZF0gPT09IHgpXHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaXNPbkZpbHRlciA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc29ydChvcmRlciwgc29ydEZpZWxkKSB7XHJcbiAgICB0aGlzLnNvcnRPYmogPSB7XHJcbiAgICAgIG9yZGVyOiBvcmRlcixcclxuICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGRcclxuICAgIH07XHJcblxyXG4gICAgbGV0IGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XHJcbiAgICBpZighdGhpcy5jb2xJbmZvc1tzb3J0RmllbGRdKSByZXR1cm4gdGhpcztcclxuXHJcbiAgICBjb25zdCB7IHNvcnRGdW5jIH0gPSB0aGlzLmNvbEluZm9zW3NvcnRGaWVsZF07XHJcbiAgICBjdXJyZW50RGlzcGxheURhdGEgPSBfc29ydChjdXJyZW50RGlzcGxheURhdGEsIHNvcnRGaWVsZCwgb3JkZXIsIHNvcnRGdW5jKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHBhZ2UocGFnZSwgc2l6ZVBlclBhZ2UpIHtcclxuICAgIHRoaXMucGFnZU9iai5lbmQgPSBwYWdlICogc2l6ZVBlclBhZ2UgLSAxO1xyXG4gICAgdGhpcy5wYWdlT2JqLnN0YXJ0ID0gdGhpcy5wYWdlT2JqLmVuZCAtIChzaXplUGVyUGFnZSAtIDEpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBlZGl0KG5ld1ZhbCwgcm93SW5kZXgsIGZpZWxkTmFtZSkge1xyXG4gICAgbGV0IGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XHJcbiAgICBsZXQgcm93S2V5Q2FjaGU7XHJcbiAgICBpZiAoIXRoaXMuZW5hYmxlUGFnaW5hdGlvbikge1xyXG4gICAgICBjdXJyZW50RGlzcGxheURhdGFbcm93SW5kZXhdW2ZpZWxkTmFtZV0gPSBuZXdWYWw7XHJcbiAgICAgIHJvd0tleUNhY2hlID0gY3VycmVudERpc3BsYXlEYXRhW3Jvd0luZGV4XVt0aGlzLmtleUZpZWxkXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN1cnJlbnREaXNwbGF5RGF0YVt0aGlzLnBhZ2VPYmouc3RhcnQgKyByb3dJbmRleF1bZmllbGROYW1lXSA9IG5ld1ZhbDtcclxuICAgICAgcm93S2V5Q2FjaGUgPSBjdXJyZW50RGlzcGxheURhdGFbdGhpcy5wYWdlT2JqLnN0YXJ0ICsgcm93SW5kZXhdW3RoaXMua2V5RmllbGRdO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xyXG4gICAgICB0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgaWYgKHJvd1t0aGlzLmtleUZpZWxkXSA9PT0gcm93S2V5Q2FjaGUpIHtcclxuICAgICAgICAgIHJvd1tmaWVsZE5hbWVdID0gbmV3VmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgdGhpcyk7XHJcbiAgICAgIGlmIChudWxsICE9PSB0aGlzLmZpbHRlck9iaikgdGhpcy5maWx0ZXIodGhpcy5maWx0ZXJPYmopO1xyXG4gICAgICBpZiAobnVsbCAhPT0gdGhpcy5zZWFyY2hUZXh0KSB0aGlzLnNlYXJjaCh0aGlzLnNlYXJjaFRleHQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBhZGQobmV3T2JqKSB7XHJcbiAgICBpZiAoIW5ld09ialt0aGlzLmtleUZpZWxkXSB8fCBuZXdPYmpbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSA9PT0gJycpIHtcclxuICAgICAgdGhyb3cgdGhpcy5rZXlGaWVsZCArIFwiIGNhbid0IGJlIGVtcHR5IHZhbHVlLlwiO1xyXG4gICAgfVxyXG4gICAgbGV0IGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XHJcbiAgICBjdXJyZW50RGlzcGxheURhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgIGlmIChyb3dbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSA9PT0gbmV3T2JqW3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkpIHtcclxuICAgICAgICB0aHJvdyB0aGlzLmtleUZpZWxkICsgXCIgXCIgKyBuZXdPYmpbdGhpcy5rZXlGaWVsZF0gKyBcIiBhbHJlYWR5IGV4aXN0c1wiO1xyXG4gICAgICB9XHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICBjdXJyZW50RGlzcGxheURhdGEucHVzaChuZXdPYmopO1xyXG4gICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xyXG4gICAgICB0aGlzLmRhdGEucHVzaChuZXdPYmopO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlKHJvd0tleSkge1xyXG4gICAgbGV0IGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XHJcbiAgICBsZXQgcmVzdWx0ID0gY3VycmVudERpc3BsYXlEYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgIHJldHVybiByb3dLZXkuaW5kZXhPZihyb3dbdGhpcy5rZXlGaWVsZF0pID09IC0xO1xyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xyXG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICByZXR1cm4gcm93S2V5LmluZGV4T2Yocm93W3RoaXMua2V5RmllbGRdKSA9PSAtMTtcclxuICAgICAgfSwgdGhpcyk7XHJcbiAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gcmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5kYXRhID0gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZmlsdGVyKGZpbHRlck9iaikge1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlck9iaikubGVuZ3RoID09IDApIHtcclxuICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSBudWxsO1xyXG4gICAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcclxuICAgICAgdGhpcy5maWx0ZXJPYmogPSBudWxsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5maWx0ZXJPYmogPSBmaWx0ZXJPYmo7XHJcbiAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gdGhpcy5kYXRhLmZpbHRlciggcm93ID0+IHtcclxuICAgICAgICBsZXQgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgIGxldCBmaWx0ZXJWYWw7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGZpbHRlck9iaikge1xyXG4gICAgICAgICAgbGV0IHRhcmdldFZhbCA9IHJvd1trZXldO1xyXG5cclxuICAgICAgICAgIHN3aXRjaCAoZmlsdGVyT2JqW2tleV0udHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLk5VTUJFUjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGZpbHRlclZhbCA9IGZpbHRlck9ialtrZXldLnZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLkNVU1RPTTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGZpbHRlclZhbCA9ICh0eXBlb2YgZmlsdGVyT2JqW2tleV0udmFsdWUgPT09IFwib2JqZWN0XCIpID9cclxuICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIDpcclxuICAgICAgICAgICAgICAgICAgKHR5cGVvZiBmaWx0ZXJPYmpba2V5XS52YWx1ZSA9PT0gXCJzdHJpbmdcIikgPyBmaWx0ZXJPYmpba2V5XS52YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmlsdGVyT2JqW2tleV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgIGZpbHRlclZhbCA9ICh0eXBlb2YgZmlsdGVyT2JqW2tleV0udmFsdWUgPT09IFwic3RyaW5nXCIpID8gZmlsdGVyT2JqW2tleV0udmFsdWUudG9Mb3dlckNhc2UoKSA6IGZpbHRlck9ialtrZXldLnZhbHVlO1xyXG4gICAgICAgICAgICAgIGlmIChmaWx0ZXJWYWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydCBvbGQgZmlsdGVyXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJPYmpba2V5XS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh0aGlzLmNvbEluZm9zW2tleV0pIHtcclxuICAgICAgICAgICAgY29uc3QgeyBmb3JtYXQsIGZpbHRlckZvcm1hdHRlZCwgZm9ybWF0RXh0cmFEYXRhIH0gPSB0aGlzLmNvbEluZm9zW2tleV07XHJcbiAgICAgICAgICAgIGlmKGZpbHRlckZvcm1hdHRlZCAmJiBmb3JtYXQpIHtcclxuICAgICAgICAgICAgICB0YXJnZXRWYWwgPSBmb3JtYXQocm93W2tleV0sIHJvdywgZm9ybWF0RXh0cmFEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHN3aXRjaCAoZmlsdGVyT2JqW2tleV0udHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLk5VTUJFUjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHZhbGlkID0gdGhpcy5maWx0ZXJOdW1iZXIodGFyZ2V0VmFsLCBmaWx0ZXJWYWwsIGZpbHRlck9ialtrZXldLnZhbHVlLmNvbXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgQ29uc3QuRklMVEVSX1RZUEUuREFURTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHZhbGlkID0gdGhpcy5maWx0ZXJEYXRlKHRhcmdldFZhbCwgZmlsdGVyVmFsKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLkNVU1RPTTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHZhbGlkID0gdGhpcy5maWx0ZXJDdXN0b20odGFyZ2V0VmFsLCBmaWx0ZXJWYWwsIGZpbHRlck9ialtrZXldLnZhbHVlKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgdmFsaWQgPSB0aGlzLmZpbHRlclRleHQodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIXZhbGlkKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmlzT25GaWx0ZXIgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZmlsdGVyTnVtYmVyKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBjb21wYXJhdG9yKSB7XHJcbiAgICBsZXQgdmFsaWQgPSB0cnVlO1xyXG4gICAgc3dpdGNoIChjb21wYXJhdG9yKSB7XHJcbiAgICAgIGNhc2UgXCI9XCI6XHJcbiAgICAgIHtcclxuICAgICAgICBpZiAodGFyZ2V0VmFsICE9IGZpbHRlclZhbCkge1xyXG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcIj5cIjpcclxuICAgICAge1xyXG4gICAgICAgIGlmICh0YXJnZXRWYWwgPD0gZmlsdGVyVmFsKSB7XHJcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwiPj1cIjpcclxuICAgICAge1xyXG4gICAgICAgIGlmICh0YXJnZXRWYWwgPCBmaWx0ZXJWYWwpIHtcclxuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCI8XCI6XHJcbiAgICAgIHtcclxuICAgICAgICBpZiAodGFyZ2V0VmFsID49IGZpbHRlclZhbCkge1xyXG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcIjw9XCI6XHJcbiAgICAgIHtcclxuICAgICAgICBpZiAodGFyZ2V0VmFsID4gZmlsdGVyVmFsKSB7XHJcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwiIT1cIjpcclxuICAgICAge1xyXG4gICAgICAgIGlmICh0YXJnZXRWYWwgPT0gZmlsdGVyVmFsKSB7XHJcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk51bWJlciBjb21wYXJhdG9yIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWxpZDtcclxuICB9XHJcblxyXG4gIGZpbHRlckRhdGUodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpIHtcclxuICAgIHJldHVybiAodGFyZ2V0VmFsLmdldERhdGUoKSA9PSBmaWx0ZXJWYWwuZ2V0RGF0ZSgpICYmXHJcbiAgICAgICAgdGFyZ2V0VmFsLmdldE1vbnRoKCkgPT0gZmlsdGVyVmFsLmdldE1vbnRoKCkgJiZcclxuICAgICAgICB0YXJnZXRWYWwuZ2V0RnVsbFllYXIoKSA9PSBmaWx0ZXJWYWwuZ2V0RnVsbFllYXIoKSk7XHJcbiAgfVxyXG5cclxuICBmaWx0ZXJDdXN0b20odGFyZ2V0VmFsLCBmaWx0ZXJWYWwsIGNhbGxiYWNrSW5mbykge1xyXG4gICAgaWYgKGNhbGxiYWNrSW5mbyAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFja0luZm8gPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgcmV0dXJuIGNhbGxiYWNrSW5mby5jYWxsYmFjayh0YXJnZXRWYWwsIGNhbGxiYWNrSW5mby5jYWxsYmFja1BhcmFtZXRlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmaWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKTtcclxuICB9XHJcblxyXG4gIGZpbHRlclRleHQodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpIHtcclxuICAgIGlmICh0YXJnZXRWYWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZmlsdGVyVmFsKSA9PSAtMSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBzZWFyY2goc2VhcmNoVGV4dCkge1xyXG4gICAgaWYgKHNlYXJjaFRleHQudHJpbSgpID09PSBcIlwiKSB7XHJcbiAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gbnVsbDtcclxuICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuc2VhcmNoVGV4dCA9IG51bGw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlYXJjaFRleHQgPSBzZWFyY2hUZXh0O1xyXG4gICAgICB2YXIgc2VhcmNoVGV4dEFycmF5ID0gW107XHJcblxyXG4gICAgICBpZiAodGhpcy5tdWx0aUNvbHVtblNlYXJjaCkge1xyXG4gICAgICAgICAgc2VhcmNoVGV4dEFycmF5ID0gc2VhcmNoVGV4dC5zcGxpdCgnICcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VhcmNoVGV4dEFycmF5LnB1c2goc2VhcmNoVGV4dCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gdGhpcy5kYXRhLmZpbHRlciggcm93ID0+IHtcclxuICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMocm93KTtcclxuICAgICAgICAgIGxldCB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgLy8gQ2hhbmdlZCBgZm9yIC4uIGluYCBsb29wIHRvIHVzZSBgT2JqZWN0LmtleXNgXHJcbiAgICAgICAgICBmb3IobGV0IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xJbmZvc1trZXldICYmIHJvd1trZXldKSB7XHJcbiAgICAgICAgICAgICAgc2VhcmNoVGV4dEFycmF5LmZvckVhY2goIHRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlclZhbCA9IHRleHQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRWYWwgPSByb3dba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZm9ybWF0LCBmaWx0ZXJGb3JtYXR0ZWQsIGZvcm1hdEV4dHJhRGF0YSwgaGlkZGVuIH0gPSB0aGlzLmNvbEluZm9zW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICBpZihmaWx0ZXJGb3JtYXR0ZWQgJiYgZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VmFsID0gZm9ybWF0KHRhcmdldFZhbCwgcm93LCBmb3JtYXRFeHRyYURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRWYWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZmlsdGVyVmFsKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpZiAodmFsaWQpIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmlzT25GaWx0ZXIgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpIHtcclxuICAgIGxldCBfZGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XHJcbiAgICByZXR1cm4gX2RhdGE7XHJcbiAgfVxyXG5cclxuICBnZXQoKSB7XHJcbiAgICBsZXQgX2RhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xyXG5cclxuICAgIGlmIChfZGF0YS5sZW5ndGggPT0gMCkgcmV0dXJuIF9kYXRhO1xyXG5cclxuICAgIGlmICh0aGlzLnJlbW90ZSB8fCAhdGhpcy5lbmFibGVQYWdpbmF0aW9uKSB7XHJcbiAgICAgIHJldHVybiBfZGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMucGFnZU9iai5zdGFydDsgaSA8PSB0aGlzLnBhZ2VPYmouZW5kOyBpKyspIHtcclxuICAgICAgICByZXN1bHQucHVzaChfZGF0YVtpXSk7XHJcbiAgICAgICAgaWYgKGkgKyAxID09IF9kYXRhLmxlbmd0aClicmVhaztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0S2V5RmllbGQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5rZXlGaWVsZDtcclxuICB9XHJcblxyXG4gIGdldERhdGFOdW0oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBpc0NoYW5nZWRQYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZU9iai5zdGFydCAmJiB0aGlzLnBhZ2VPYmouZW5kID8gdHJ1ZSA6IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0QWxsUm93a2V5KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5tYXAoZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICByZXR1cm4gcm93W3RoaXMua2V5RmllbGRdO1xyXG4gICAgfSwgdGhpcyk7XHJcbiAgfVxyXG5cclxufVxyXG47XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3N0b3JlL1RhYmxlRGF0YVN0b3JlLmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vU3dpdGNoJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc3dpdGNoL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3JlYWN0SW5wdXRBdXRvc2l6ZSA9IHJlcXVpcmUoJ3JlYWN0LWlucHV0LWF1dG9zaXplJyk7XG5cbnZhciBfcmVhY3RJbnB1dEF1dG9zaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0SW5wdXRBdXRvc2l6ZSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzID0gcmVxdWlyZSgnLi91dGlscy9zdHJpcERpYWNyaXRpY3MnKTtcblxudmFyIF91dGlsc1N0cmlwRGlhY3JpdGljczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsc1N0cmlwRGlhY3JpdGljcyk7XG5cbnZhciBfQXN5bmMgPSByZXF1aXJlKCcuL0FzeW5jJyk7XG5cbnZhciBfQXN5bmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXN5bmMpO1xuXG52YXIgX09wdGlvbiA9IHJlcXVpcmUoJy4vT3B0aW9uJyk7XG5cbnZhciBfT3B0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdGlvbik7XG5cbnZhciBfVmFsdWUgPSByZXF1aXJlKCcuL1ZhbHVlJyk7XG5cbnZhciBfVmFsdWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmFsdWUpO1xuXG5mdW5jdGlvbiBzdHJpbmdpZnlWYWx1ZSh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG59XG5cbnZhciBzdHJpbmdPck5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZV0pO1xuXG52YXIgU2VsZWN0ID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblxuXHRkaXNwbGF5TmFtZTogJ1NlbGVjdCcsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0YWRkTGFiZWxUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGxhY2Vob2xkZXIgZGlzcGxheWVkIHdoZW4geW91IHdhbnQgdG8gYWRkIGEgbGFiZWwgb24gYSBtdWx0aS12YWx1ZSBpbnB1dFxuXHRcdGFsbG93Q3JlYXRlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gYWxsb3cgY3JlYXRpb24gb2YgbmV3IGVudHJpZXNcblx0XHRhdXRvQmx1cjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHRcdGF1dG9mb2N1czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBhdXRvZm9jdXMgdGhlIGNvbXBvbmVudCBvbiBtb3VudFxuXHRcdGJhY2tzcGFjZVJlbW92ZXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciBiYWNrc3BhY2UgcmVtb3ZlcyBhbiBpdGVtIGlmIHRoZXJlIGlzIG5vIHRleHQgaW5wdXRcblx0XHRjbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBjbGFzc05hbWUgZm9yIHRoZSBvdXRlciBlbGVtZW50XG5cdFx0Y2xlYXJBbGxUZXh0OiBzdHJpbmdPck5vZGUsIC8vIHRpdGxlIGZvciB0aGUgXCJjbGVhclwiIGNvbnRyb2wgd2hlbiBtdWx0aTogdHJ1ZVxuXHRcdGNsZWFyVmFsdWVUZXh0OiBzdHJpbmdPck5vZGUsIC8vIHRpdGxlIGZvciB0aGUgXCJjbGVhclwiIGNvbnRyb2xcblx0XHRjbGVhcmFibGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gc2hvdWxkIGl0IGJlIHBvc3NpYmxlIHRvIHJlc2V0IHZhbHVlXG5cdFx0ZGVsaW1pdGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gZGVsaW1pdGVyIHRvIHVzZSB0byBqb2luIG11bHRpcGxlIHZhbHVlcyBmb3IgdGhlIGhpZGRlbiBmaWVsZCB2YWx1ZVxuXHRcdGRpc2FibGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdGhlIFNlbGVjdCBpcyBkaXNhYmxlZCBvciBub3Rcblx0XHRlc2NhcGVDbGVhcnNWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIGVzY2FwZSBjbGVhcnMgdGhlIHZhbHVlIHdoZW4gdGhlIG1lbnUgaXMgY2xvc2VkXG5cdFx0ZmlsdGVyT3B0aW9uOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBmaWx0ZXIgYSBzaW5nbGUgb3B0aW9uIChvcHRpb24sIGZpbHRlclN0cmluZylcblx0XHRmaWx0ZXJPcHRpb25zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSwgLy8gYm9vbGVhbiB0byBlbmFibGUgZGVmYXVsdCBmaWx0ZXJpbmcgb3IgZnVuY3Rpb24gdG8gZmlsdGVyIHRoZSBvcHRpb25zIGFycmF5IChbb3B0aW9uc10sIGZpbHRlclN0cmluZywgW3ZhbHVlc10pXG5cdFx0aWdub3JlQWNjZW50czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIHN0cmlwIGRpYWNyaXRpY3Mgd2hlbiBmaWx0ZXJpbmdcblx0XHRpZ25vcmVDYXNlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gcGVyZm9ybSBjYXNlLWluc2Vuc2l0aXZlIGZpbHRlcmluZ1xuXHRcdGlucHV0UHJvcHM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBjdXN0b20gYXR0cmlidXRlcyBmb3IgdGhlIElucHV0XG5cdFx0aXNMb2FkaW5nOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdGhlIFNlbGVjdCBpcyBsb2FkaW5nIGV4dGVybmFsbHkgb3Igbm90IChzdWNoIGFzIG9wdGlvbnMgYmVpbmcgbG9hZGVkKVxuXHRcdGxhYmVsS2V5OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGF0aCBvZiB0aGUgbGFiZWwgdmFsdWUgaW4gb3B0aW9uIG9iamVjdHNcblx0XHRtYXRjaFBvczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIChhbnl8c3RhcnQpIG1hdGNoIHRoZSBzdGFydCBvciBlbnRpcmUgc3RyaW5nIHdoZW4gZmlsdGVyaW5nXG5cdFx0bWF0Y2hQcm9wOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gKGFueXxsYWJlbHx2YWx1ZSkgd2hpY2ggb3B0aW9uIHByb3BlcnR5IHRvIGZpbHRlciBvblxuXHRcdG1lbnVCdWZmZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLCAvLyBvcHRpb25hbCBidWZmZXIgKGluIHB4KSBiZXR3ZWVuIHRoZSBib3R0b20gb2YgdGhlIHZpZXdwb3J0IGFuZCB0aGUgYm90dG9tIG9mIHRoZSBtZW51XG5cdFx0bWVudUNvbnRhaW5lclN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCwgLy8gb3B0aW9uYWwgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIG1lbnUgY29udGFpbmVyXG5cdFx0bWVudVN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCwgLy8gb3B0aW9uYWwgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIG1lbnVcblx0XHRtdWx0aTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBtdWx0aS12YWx1ZSBpbnB1dFxuXHRcdG5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBnZW5lcmF0ZXMgYSBoaWRkZW4gPGlucHV0IC8+IHRhZyB3aXRoIHRoaXMgZmllbGQgbmFtZSBmb3IgaHRtbCBmb3Jtc1xuXHRcdG5ld09wdGlvbkNyZWF0b3I6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gZmFjdG9yeSB0byBjcmVhdGUgbmV3IG9wdGlvbnMgd2hlbiBhbGxvd0NyZWF0ZSBzZXRcblx0XHRub1Jlc3VsdHNUZXh0OiBzdHJpbmdPck5vZGUsIC8vIHBsYWNlaG9sZGVyIGRpc3BsYXllZCB3aGVuIHRoZXJlIGFyZSBubyBtYXRjaGluZyBzZWFyY2ggcmVzdWx0c1xuXHRcdG9uQmx1cjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkJsdXIgaGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50KSB7fVxuXHRcdG9uQmx1clJlc2V0c0lucHV0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgaW5wdXQgaXMgY2xlYXJlZCBvbiBibHVyXG5cdFx0b25DaGFuZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25DaGFuZ2UgaGFuZGxlcjogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7fVxuXHRcdG9uQ2xvc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gZmlyZXMgd2hlbiB0aGUgbWVudSBpcyBjbG9zZWRcblx0XHRvbkZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uRm9jdXMgaGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50KSB7fVxuXHRcdG9uSW5wdXRDaGFuZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25JbnB1dENoYW5nZSBoYW5kbGVyOiBmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge31cblx0XHRvbk1lbnVTY3JvbGxUb0JvdHRvbTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIHNjcm9sbGVkIHRvIHRoZSBib3R0b207IGNhbiBiZSB1c2VkIHRvIHBhZ2luYXRlIG9wdGlvbnNcblx0XHRvbk9wZW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gZmlyZXMgd2hlbiB0aGUgbWVudSBpcyBvcGVuZWRcblx0XHRvblZhbHVlQ2xpY2s6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25DbGljayBoYW5kbGVyIGZvciB2YWx1ZSBsYWJlbHM6IGZ1bmN0aW9uICh2YWx1ZSwgZXZlbnQpIHt9XG5cdFx0b3B0aW9uQ29tcG9uZW50OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9wdGlvbiBjb21wb25lbnQgdG8gcmVuZGVyIGluIGRyb3Bkb3duXG5cdFx0b3B0aW9uUmVuZGVyZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb3B0aW9uUmVuZGVyZXI6IGZ1bmN0aW9uIChvcHRpb24pIHt9XG5cdFx0b3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSwgLy8gYXJyYXkgb2Ygb3B0aW9uc1xuXHRcdHBsYWNlaG9sZGVyOiBzdHJpbmdPck5vZGUsIC8vIGZpZWxkIHBsYWNlaG9sZGVyLCBkaXNwbGF5ZWQgd2hlbiB0aGVyZSdzIG5vIHZhbHVlXG5cdFx0cmVxdWlyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gYXBwbGllcyBIVE1MNSByZXF1aXJlZCBhdHRyaWJ1dGUgd2hlbiBuZWVkZWRcblx0XHRzY3JvbGxNZW51SW50b1ZpZXc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gYm9vbGVhbiB0byBlbmFibGUgdGhlIHZpZXdwb3J0IHRvIHNoaWZ0IHNvIHRoYXQgdGhlIGZ1bGwgbWVudSBmdWxseSB2aXNpYmxlIHdoZW4gZW5nYWdlZFxuXHRcdHNlYXJjaGFibGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBlbmFibGUgc2VhcmNoaW5nIGZlYXR1cmUgb3Igbm90XG5cdFx0c2ltcGxlVmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gcGFzcyB0aGUgdmFsdWUgdG8gb25DaGFuZ2UgYXMgYSBzaW1wbGUgdmFsdWUgKGxlZ2FjeSBwcmUgMS4wIG1vZGUpLCBkZWZhdWx0cyB0byBmYWxzZVxuXHRcdHN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCwgLy8gb3B0aW9uYWwgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIGNvbnRyb2xcblx0XHR0YWJJbmRleDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIG9wdGlvbmFsIHRhYiBpbmRleCBvZiB0aGUgY29udHJvbFxuXHRcdHZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSwgLy8gaW5pdGlhbCBmaWVsZCB2YWx1ZVxuXHRcdHZhbHVlQ29tcG9uZW50OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIHZhbHVlIGNvbXBvbmVudCB0byByZW5kZXJcblx0XHR2YWx1ZUtleTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHBhdGggb2YgdGhlIGxhYmVsIHZhbHVlIGluIG9wdGlvbiBvYmplY3RzXG5cdFx0dmFsdWVSZW5kZXJlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyB2YWx1ZVJlbmRlcmVyOiBmdW5jdGlvbiAob3B0aW9uKSB7fVxuXHRcdHdyYXBwZXJTdHlsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QgfSxcblxuXHQvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgY29tcG9uZW50IHdyYXBwZXJcblx0c3RhdGljczogeyBBc3luYzogX0FzeW5jMlsnZGVmYXVsdCddIH0sXG5cblx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGFkZExhYmVsVGV4dDogJ0FkZCBcIntsYWJlbH1cIj8nLFxuXHRcdFx0YWxsb3dDcmVhdGU6IGZhbHNlLFxuXHRcdFx0YmFja3NwYWNlUmVtb3ZlczogdHJ1ZSxcblx0XHRcdGNsZWFyYWJsZTogdHJ1ZSxcblx0XHRcdGNsZWFyQWxsVGV4dDogJ0NsZWFyIGFsbCcsXG5cdFx0XHRjbGVhclZhbHVlVGV4dDogJ0NsZWFyIHZhbHVlJyxcblx0XHRcdGRlbGltaXRlcjogJywnLFxuXHRcdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXHRcdFx0ZXNjYXBlQ2xlYXJzVmFsdWU6IHRydWUsXG5cdFx0XHRmaWx0ZXJPcHRpb25zOiB0cnVlLFxuXHRcdFx0aWdub3JlQWNjZW50czogdHJ1ZSxcblx0XHRcdGlnbm9yZUNhc2U6IHRydWUsXG5cdFx0XHRpbnB1dFByb3BzOiB7fSxcblx0XHRcdGlzTG9hZGluZzogZmFsc2UsXG5cdFx0XHRsYWJlbEtleTogJ2xhYmVsJyxcblx0XHRcdG1hdGNoUG9zOiAnYW55Jyxcblx0XHRcdG1hdGNoUHJvcDogJ2FueScsXG5cdFx0XHRtZW51QnVmZmVyOiAwLFxuXHRcdFx0bXVsdGk6IGZhbHNlLFxuXHRcdFx0bm9SZXN1bHRzVGV4dDogJ05vIHJlc3VsdHMgZm91bmQnLFxuXHRcdFx0b25CbHVyUmVzZXRzSW5wdXQ6IHRydWUsXG5cdFx0XHRvcHRpb25Db21wb25lbnQ6IF9PcHRpb24yWydkZWZhdWx0J10sXG5cdFx0XHRwbGFjZWhvbGRlcjogJ1NlbGVjdC4uLicsXG5cdFx0XHRyZXF1aXJlZDogZmFsc2UsXG5cdFx0XHRzY3JvbGxNZW51SW50b1ZpZXc6IHRydWUsXG5cdFx0XHRzZWFyY2hhYmxlOiB0cnVlLFxuXHRcdFx0c2ltcGxlVmFsdWU6IGZhbHNlLFxuXHRcdFx0dmFsdWVDb21wb25lbnQ6IF9WYWx1ZTJbJ2RlZmF1bHQnXSxcblx0XHRcdHZhbHVlS2V5OiAndmFsdWUnXG5cdFx0fTtcblx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5wdXRWYWx1ZTogJycsXG5cdFx0XHRpc0ZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IHRoaXMucHJvcHMucmVxdWlyZWQgJiYgdGhpcy5oYW5kbGVSZXF1aXJlZCh0aGlzLnByb3BzLnZhbHVlLCB0aGlzLnByb3BzLm11bHRpKVxuXHRcdH07XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdGlmICh0aGlzLnByb3BzLmF1dG9mb2N1cykge1xuXHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdH1cblx0fSxcblxuXHRjb21wb25lbnRXaWxsVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cdFx0aWYgKG5leHRTdGF0ZS5pc09wZW4gIT09IHRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHR2YXIgaGFuZGxlciA9IG5leHRTdGF0ZS5pc09wZW4gPyBuZXh0UHJvcHMub25PcGVuIDogbmV4dFByb3BzLm9uQ2xvc2U7XG5cdFx0XHRoYW5kbGVyICYmIGhhbmRsZXIoKTtcblx0XHR9XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblx0XHQvLyBmb2N1cyB0byB0aGUgc2VsZWN0ZWQgb3B0aW9uXG5cdFx0aWYgKHRoaXMucmVmcy5tZW51ICYmIHRoaXMucmVmcy5mb2N1c2VkICYmIHRoaXMuc3RhdGUuaXNPcGVuICYmICF0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24pIHtcblx0XHRcdHZhciBmb2N1c2VkT3B0aW9uTm9kZSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZm9jdXNlZCk7XG5cdFx0XHR2YXIgbWVudU5vZGUgPSBfcmVhY3REb20yWydkZWZhdWx0J10uZmluZERPTU5vZGUodGhpcy5yZWZzLm1lbnUpO1xuXHRcdFx0bWVudU5vZGUuc2Nyb2xsVG9wID0gZm9jdXNlZE9wdGlvbk5vZGUub2Zmc2V0VG9wO1xuXHRcdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKHByZXZTdGF0ZS5pbnB1dFZhbHVlICE9PSB0aGlzLnN0YXRlLmlucHV0VmFsdWUgJiYgdGhpcy5wcm9wcy5vbklucHV0Q2hhbmdlKSB7XG5cdFx0XHR0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UodGhpcy5zdGF0ZS5pbnB1dFZhbHVlKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlICYmIHRoaXMucmVmcy5mb2N1c2VkICYmIHRoaXMucmVmcy5tZW51KSB7XG5cdFx0XHR0aGlzLl9zY3JvbGxUb0ZvY3VzZWRPcHRpb25PblVwZGF0ZSA9IGZhbHNlO1xuXHRcdFx0dmFyIGZvY3VzZWRET00gPSBfcmVhY3REb20yWydkZWZhdWx0J10uZmluZERPTU5vZGUodGhpcy5yZWZzLmZvY3VzZWQpO1xuXHRcdFx0dmFyIG1lbnVET00gPSBfcmVhY3REb20yWydkZWZhdWx0J10uZmluZERPTU5vZGUodGhpcy5yZWZzLm1lbnUpO1xuXHRcdFx0dmFyIGZvY3VzZWRSZWN0ID0gZm9jdXNlZERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdHZhciBtZW51UmVjdCA9IG1lbnVET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRpZiAoZm9jdXNlZFJlY3QuYm90dG9tID4gbWVudVJlY3QuYm90dG9tIHx8IGZvY3VzZWRSZWN0LnRvcCA8IG1lbnVSZWN0LnRvcCkge1xuXHRcdFx0XHRtZW51RE9NLnNjcm9sbFRvcCA9IGZvY3VzZWRET00ub2Zmc2V0VG9wICsgZm9jdXNlZERPTS5jbGllbnRIZWlnaHQgLSBtZW51RE9NLm9mZnNldEhlaWdodDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHRoaXMucHJvcHMuc2Nyb2xsTWVudUludG9WaWV3ICYmIHRoaXMucmVmcy5tZW51Q29udGFpbmVyKSB7XG5cdFx0XHR2YXIgbWVudUNvbnRhaW5lclJlY3QgPSB0aGlzLnJlZnMubWVudUNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCBtZW51Q29udGFpbmVyUmVjdC5ib3R0b20gKyB0aGlzLnByb3BzLm1lbnVCdWZmZXIpIHtcblx0XHRcdFx0d2luZG93LnNjcm9sbFRvKDAsIHdpbmRvdy5zY3JvbGxZICsgbWVudUNvbnRhaW5lclJlY3QuYm90dG9tICsgdGhpcy5wcm9wcy5tZW51QnVmZmVyIC0gd2luZG93LmlubmVySGVpZ2h0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHByZXZQcm9wcy5kaXNhYmxlZCAhPT0gdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGlzRm9jdXNlZDogZmFsc2UgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tZGlkLXVwZGF0ZS1zZXQtc3RhdGVcblx0XHR9XG5cdH0sXG5cblx0Zm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHRcdGlmICghdGhpcy5yZWZzLmlucHV0KSByZXR1cm47XG5cdFx0dGhpcy5yZWZzLmlucHV0LmZvY3VzKCk7XG5cdH0sXG5cblx0Ymx1cklucHV0OiBmdW5jdGlvbiBibHVySW5wdXQoKSB7XG5cdFx0aWYgKCF0aGlzLnJlZnMuaW5wdXQpIHJldHVybjtcblx0XHR0aGlzLnJlZnMuaW5wdXQuYmx1cigpO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaFN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG5cdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIG5vdCBiZWluZyBkcmFnZ2VkXG5cdFx0dGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoRW5kOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCkge1xuXHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gZmlyZSB0aGUgY2xpY2sgZXZlbnQgKGJlY2F1c2UgdGhlIHVzZXIgb25seSB3YW50cyB0byBzY3JvbGwpXG5cdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblxuXHRcdC8vIEZpcmUgdGhlIG1vdXNlIGV2ZW50c1xuXHRcdHRoaXMuaGFuZGxlTW91c2VEb3duKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaEVuZENsZWFyVmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZShldmVudCkge1xuXHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gZmlyZSB0aGUgY2xpY2sgZXZlbnQgKGJlY2F1c2UgdGhlIHVzZXIgb25seSB3YW50cyB0byBzY3JvbGwpXG5cdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblxuXHRcdC8vIENsZWFyIHRoZSB2YWx1ZVxuXHRcdHRoaXMuY2xlYXJWYWx1ZShldmVudCk7XG5cdH0sXG5cblx0aGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcblx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gcHJldmVudCBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIGZvciB0aGUgbm9uLXNlYXJjaGFibGUgc2VsZWN0LCB0b2dnbGUgdGhlIG1lbnVcblx0XHRpZiAoIXRoaXMucHJvcHMuc2VhcmNoYWJsZSkge1xuXHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc09wZW46ICF0aGlzLnN0YXRlLmlzT3BlblxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuc3RhdGUuaXNGb2N1c2VkKSB7XG5cdFx0XHQvLyBpZiB0aGUgaW5wdXQgaXMgZm9jdXNlZCwgZW5zdXJlIHRoZSBtZW51IGlzIG9wZW5cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc09wZW46IHRydWUsXG5cdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2Vcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBvdGhlcndpc2UsIGZvY3VzIHRoZSBpbnB1dCBhbmQgb3BlbiB0aGUgbWVudVxuXHRcdFx0dGhpcy5fb3BlbkFmdGVyRm9jdXMgPSB0cnVlO1xuXHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdH1cblx0fSxcblxuXHRoYW5kbGVNb3VzZURvd25PbkFycm93OiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25PbkFycm93KGV2ZW50KSB7XG5cdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdC8vIGJ1dHRvbiwgb3IgaWYgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZCwgaWdub3JlIGl0LlxuXHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8IGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHQvLyBJZiB0aGUgbWVudSBpc24ndCBvcGVuLCBsZXQgdGhlIGV2ZW50IGJ1YmJsZSB0byB0aGUgbWFpbiBoYW5kbGVNb3VzZURvd25cblx0XHRpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIHByZXZlbnQgZGVmYXVsdCBldmVudCBoYW5kbGVyc1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Ly8gY2xvc2UgdGhlIG1lbnVcblx0XHR0aGlzLmNsb3NlTWVudSgpO1xuXHR9LFxuXG5cdGhhbmRsZU1vdXNlRG93bk9uTWVudTogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duT25NZW51KGV2ZW50KSB7XG5cdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdC8vIGJ1dHRvbiwgb3IgaWYgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZCwgaWdub3JlIGl0LlxuXHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8IGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dGhpcy5fb3BlbkFmdGVyRm9jdXMgPSB0cnVlO1xuXHRcdHRoaXMuZm9jdXMoKTtcblx0fSxcblxuXHRjbG9zZU1lbnU6IGZ1bmN0aW9uIGNsb3NlTWVudSgpIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IHRoaXMuc3RhdGUuaXNGb2N1c2VkICYmICF0aGlzLnByb3BzLm11bHRpLFxuXHRcdFx0aW5wdXRWYWx1ZTogJydcblx0XHR9KTtcblx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSBmYWxzZTtcblx0fSxcblxuXHRoYW5kbGVJbnB1dEZvY3VzOiBmdW5jdGlvbiBoYW5kbGVJbnB1dEZvY3VzKGV2ZW50KSB7XG5cdFx0dmFyIGlzT3BlbiA9IHRoaXMuc3RhdGUuaXNPcGVuIHx8IHRoaXMuX29wZW5BZnRlckZvY3VzO1xuXHRcdGlmICh0aGlzLnByb3BzLm9uRm9jdXMpIHtcblx0XHRcdHRoaXMucHJvcHMub25Gb2N1cyhldmVudCk7XG5cdFx0fVxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aXNGb2N1c2VkOiB0cnVlLFxuXHRcdFx0aXNPcGVuOiBpc09wZW5cblx0XHR9KTtcblx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IGZhbHNlO1xuXHR9LFxuXG5cdGhhbmRsZUlucHV0Qmx1cjogZnVuY3Rpb24gaGFuZGxlSW5wdXRCbHVyKGV2ZW50KSB7XG5cdFx0aWYgKHRoaXMucmVmcy5tZW51ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaXNFcXVhbE5vZGUodGhpcy5yZWZzLm1lbnUpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucHJvcHMub25CbHVyKSB7XG5cdFx0XHR0aGlzLnByb3BzLm9uQmx1cihldmVudCk7XG5cdFx0fVxuXHRcdHZhciBvbkJsdXJyZWRTdGF0ZSA9IHtcblx0XHRcdGlzRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRpc09wZW46IGZhbHNlLFxuXHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiBmYWxzZVxuXHRcdH07XG5cdFx0aWYgKHRoaXMucHJvcHMub25CbHVyUmVzZXRzSW5wdXQpIHtcblx0XHRcdG9uQmx1cnJlZFN0YXRlLmlucHV0VmFsdWUgPSAnJztcblx0XHR9XG5cdFx0dGhpcy5zZXRTdGF0ZShvbkJsdXJyZWRTdGF0ZSk7XG5cdH0sXG5cblx0aGFuZGxlSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUlucHV0Q2hhbmdlKGV2ZW50KSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpc09wZW46IHRydWUsXG5cdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0aW5wdXRWYWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlXG5cdFx0fSk7XG5cdH0sXG5cblx0aGFuZGxlS2V5RG93bjogZnVuY3Rpb24gaGFuZGxlS2V5RG93bihldmVudCkge1xuXHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSByZXR1cm47XG5cdFx0c3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdC8vIGJhY2tzcGFjZVxuXHRcdFx0XHRpZiAoIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSAmJiB0aGlzLnByb3BzLmJhY2tzcGFjZVJlbW92ZXMpIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHRoaXMucG9wVmFsdWUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdC8vIHRhYlxuXHRcdFx0XHRpZiAoZXZlbnQuc2hpZnRLZXkgfHwgIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHQvLyBlbnRlclxuXHRcdFx0XHRpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSByZXR1cm47XG5cdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR0aGlzLnNlbGVjdEZvY3VzZWRPcHRpb24oKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHQvLyBlc2NhcGVcblx0XHRcdFx0aWYgKHRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZU1lbnUoKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnByb3BzLmNsZWFyYWJsZSAmJiB0aGlzLnByb3BzLmVzY2FwZUNsZWFyc1ZhbHVlKSB7XG5cdFx0XHRcdFx0dGhpcy5jbGVhclZhbHVlKGV2ZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdC8vIHVwXG5cdFx0XHRcdHRoaXMuZm9jdXNQcmV2aW91c09wdGlvbigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgNDA6XG5cdFx0XHRcdC8vIGRvd25cblx0XHRcdFx0dGhpcy5mb2N1c05leHRPcHRpb24oKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHQvLyBjYXNlIDE4ODogLy8gLFxuXHRcdFx0Ly8gXHRpZiAodGhpcy5wcm9wcy5hbGxvd0NyZWF0ZSAmJiB0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHQvLyBcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdC8vIFx0XHR0aGlzLnNlbGVjdEZvY3VzZWRPcHRpb24oKTtcblx0XHRcdC8vIFx0fSBlbHNlIHtcblx0XHRcdC8vIFx0XHRyZXR1cm47XG5cdFx0XHQvLyBcdH1cblx0XHRcdC8vIGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9LFxuXG5cdGhhbmRsZVZhbHVlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVZhbHVlQ2xpY2sob3B0aW9uLCBldmVudCkge1xuXHRcdGlmICghdGhpcy5wcm9wcy5vblZhbHVlQ2xpY2spIHJldHVybjtcblx0XHR0aGlzLnByb3BzLm9uVmFsdWVDbGljayhvcHRpb24sIGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVNZW51U2Nyb2xsOiBmdW5jdGlvbiBoYW5kbGVNZW51U2Nyb2xsKGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLnByb3BzLm9uTWVudVNjcm9sbFRvQm90dG9tKSByZXR1cm47XG5cdFx0dmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuXHRcdGlmICh0YXJnZXQuc2Nyb2xsSGVpZ2h0ID4gdGFyZ2V0Lm9mZnNldEhlaWdodCAmJiAhKHRhcmdldC5zY3JvbGxIZWlnaHQgLSB0YXJnZXQub2Zmc2V0SGVpZ2h0IC0gdGFyZ2V0LnNjcm9sbFRvcCkpIHtcblx0XHRcdHRoaXMucHJvcHMub25NZW51U2Nyb2xsVG9Cb3R0b20oKTtcblx0XHR9XG5cdH0sXG5cblx0aGFuZGxlUmVxdWlyZWQ6IGZ1bmN0aW9uIGhhbmRsZVJlcXVpcmVkKHZhbHVlLCBtdWx0aSkge1xuXHRcdGlmICghdmFsdWUpIHJldHVybiB0cnVlO1xuXHRcdHJldHVybiBtdWx0aSA/IHZhbHVlLmxlbmd0aCA9PT0gMCA6IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDA7XG5cdH0sXG5cblx0Z2V0T3B0aW9uTGFiZWw6IGZ1bmN0aW9uIGdldE9wdGlvbkxhYmVsKG9wKSB7XG5cdFx0cmV0dXJuIG9wW3RoaXMucHJvcHMubGFiZWxLZXldO1xuXHR9LFxuXG5cdGdldFZhbHVlQXJyYXk6IGZ1bmN0aW9uIGdldFZhbHVlQXJyYXkoKSB7XG5cdFx0dmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcblx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSkge1xuXHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHZhbHVlID0gdmFsdWUuc3BsaXQodGhpcy5wcm9wcy5kZWxpbWl0ZXIpO1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFtdO1xuXHRcdFx0XHR2YWx1ZSA9IFt2YWx1ZV07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsdWUubWFwKHRoaXMuZXhwYW5kVmFsdWUpLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHR2YXIgZXhwYW5kZWRWYWx1ZSA9IHRoaXMuZXhwYW5kVmFsdWUodmFsdWUpO1xuXHRcdHJldHVybiBleHBhbmRlZFZhbHVlID8gW2V4cGFuZGVkVmFsdWVdIDogW107XG5cdH0sXG5cblx0ZXhwYW5kVmFsdWU6IGZ1bmN0aW9uIGV4cGFuZFZhbHVlKHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykgcmV0dXJuIHZhbHVlO1xuXHRcdHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHRcdHZhciBvcHRpb25zID0gX3Byb3BzLm9wdGlvbnM7XG5cdFx0dmFyIHZhbHVlS2V5ID0gX3Byb3BzLnZhbHVlS2V5O1xuXG5cdFx0aWYgKCFvcHRpb25zKSByZXR1cm47XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAob3B0aW9uc1tpXVt2YWx1ZUtleV0gPT09IHZhbHVlKSByZXR1cm4gb3B0aW9uc1tpXTtcblx0XHR9XG5cdH0sXG5cblx0c2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdGlmICh0aGlzLnByb3BzLmF1dG9CbHVyKSB7XG5cdFx0XHR0aGlzLmJsdXJJbnB1dCgpO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMucHJvcHMub25DaGFuZ2UpIHJldHVybjtcblx0XHRpZiAodGhpcy5wcm9wcy5yZXF1aXJlZCkge1xuXHRcdFx0dmFyIHJlcXVpcmVkID0gdGhpcy5oYW5kbGVSZXF1aXJlZCh2YWx1ZSwgdGhpcy5wcm9wcy5tdWx0aSk7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgcmVxdWlyZWQ6IHJlcXVpcmVkIH0pO1xuXHRcdH1cblx0XHRpZiAodGhpcy5wcm9wcy5zaW1wbGVWYWx1ZSAmJiB2YWx1ZSkge1xuXHRcdFx0dmFsdWUgPSB0aGlzLnByb3BzLm11bHRpID8gdmFsdWUubWFwKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdHJldHVybiBpW190aGlzLnByb3BzLnZhbHVlS2V5XTtcblx0XHRcdH0pLmpvaW4odGhpcy5wcm9wcy5kZWxpbWl0ZXIpIDogdmFsdWVbdGhpcy5wcm9wcy52YWx1ZUtleV07XG5cdFx0fVxuXHRcdHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpO1xuXHR9LFxuXG5cdHNlbGVjdFZhbHVlOiBmdW5jdGlvbiBzZWxlY3RWYWx1ZSh2YWx1ZSkge1xuXHRcdHRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbiA9IGZhbHNlO1xuXHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHR0aGlzLmFkZFZhbHVlKHZhbHVlKTtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpbnB1dFZhbHVlOiAnJ1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRcdGlucHV0VmFsdWU6ICcnLFxuXHRcdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IHRoaXMuc3RhdGUuaXNGb2N1c2VkXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cblx0YWRkVmFsdWU6IGZ1bmN0aW9uIGFkZFZhbHVlKHZhbHVlKSB7XG5cdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuY29uY2F0KHZhbHVlKSk7XG5cdH0sXG5cblx0cG9wVmFsdWU6IGZ1bmN0aW9uIHBvcFZhbHVlKCkge1xuXHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0aWYgKCF2YWx1ZUFycmF5Lmxlbmd0aCkgcmV0dXJuO1xuXHRcdGlmICh2YWx1ZUFycmF5W3ZhbHVlQXJyYXkubGVuZ3RoIC0gMV0uY2xlYXJhYmxlVmFsdWUgPT09IGZhbHNlKSByZXR1cm47XG5cdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZUFycmF5LnNsaWNlKDAsIHZhbHVlQXJyYXkubGVuZ3RoIC0gMSkpO1xuXHR9LFxuXG5cdHJlbW92ZVZhbHVlOiBmdW5jdGlvbiByZW1vdmVWYWx1ZSh2YWx1ZSkge1xuXHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZUFycmF5LmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHRcdFx0cmV0dXJuIGkgIT09IHZhbHVlO1xuXHRcdH0pKTtcblx0XHR0aGlzLmZvY3VzKCk7XG5cdH0sXG5cblx0Y2xlYXJWYWx1ZTogZnVuY3Rpb24gY2xlYXJWYWx1ZShldmVudCkge1xuXHRcdC8vIGlmIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgbW91c2Vkb3duIGFuZCBub3QgdGhlIHByaW1hcnlcblx0XHQvLyBidXR0b24sIGlnbm9yZSBpdC5cblx0XHRpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRWYWx1ZShudWxsKTtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRpbnB1dFZhbHVlOiAnJ1xuXHRcdH0sIHRoaXMuZm9jdXMpO1xuXHR9LFxuXG5cdGZvY3VzT3B0aW9uOiBmdW5jdGlvbiBmb2N1c09wdGlvbihvcHRpb24pIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGZvY3VzZWRPcHRpb246IG9wdGlvblxuXHRcdH0pO1xuXHR9LFxuXG5cdGZvY3VzTmV4dE9wdGlvbjogZnVuY3Rpb24gZm9jdXNOZXh0T3B0aW9uKCkge1xuXHRcdHRoaXMuZm9jdXNBZGphY2VudE9wdGlvbignbmV4dCcpO1xuXHR9LFxuXG5cdGZvY3VzUHJldmlvdXNPcHRpb246IGZ1bmN0aW9uIGZvY3VzUHJldmlvdXNPcHRpb24oKSB7XG5cdFx0dGhpcy5mb2N1c0FkamFjZW50T3B0aW9uKCdwcmV2aW91cycpO1xuXHR9LFxuXG5cdGZvY3VzQWRqYWNlbnRPcHRpb246IGZ1bmN0aW9uIGZvY3VzQWRqYWNlbnRPcHRpb24oZGlyKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl92aXNpYmxlT3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0XHRcdHJldHVybiAhaS5kaXNhYmxlZDtcblx0XHR9KTtcblx0XHR0aGlzLl9zY3JvbGxUb0ZvY3VzZWRPcHRpb25PblVwZGF0ZSA9IHRydWU7XG5cdFx0aWYgKCF0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdFx0aW5wdXRWYWx1ZTogJycsXG5cdFx0XHRcdGZvY3VzZWRPcHRpb246IHRoaXMuX2ZvY3VzZWRPcHRpb24gfHwgb3B0aW9uc1tkaXIgPT09ICduZXh0JyA/IDAgOiBvcHRpb25zLmxlbmd0aCAtIDFdXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuXHRcdHZhciBmb2N1c2VkSW5kZXggPSAtMTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICh0aGlzLl9mb2N1c2VkT3B0aW9uID09PSBvcHRpb25zW2ldKSB7XG5cdFx0XHRcdGZvY3VzZWRJbmRleCA9IGk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR2YXIgZm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbMF07XG5cdFx0aWYgKGRpciA9PT0gJ25leHQnICYmIGZvY3VzZWRJbmRleCA+IC0xICYmIGZvY3VzZWRJbmRleCA8IG9wdGlvbnMubGVuZ3RoIC0gMSkge1xuXHRcdFx0Zm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbZm9jdXNlZEluZGV4ICsgMV07XG5cdFx0fSBlbHNlIGlmIChkaXIgPT09ICdwcmV2aW91cycpIHtcblx0XHRcdGlmIChmb2N1c2VkSW5kZXggPiAwKSB7XG5cdFx0XHRcdGZvY3VzZWRPcHRpb24gPSBvcHRpb25zW2ZvY3VzZWRJbmRleCAtIDFdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbb3B0aW9ucy5sZW5ndGggLSAxXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRmb2N1c2VkT3B0aW9uOiBmb2N1c2VkT3B0aW9uXG5cdFx0fSk7XG5cdH0sXG5cblx0c2VsZWN0Rm9jdXNlZE9wdGlvbjogZnVuY3Rpb24gc2VsZWN0Rm9jdXNlZE9wdGlvbigpIHtcblx0XHQvLyBpZiAodGhpcy5wcm9wcy5hbGxvd0NyZWF0ZSAmJiAhdGhpcy5zdGF0ZS5mb2N1c2VkT3B0aW9uKSB7XG5cdFx0Ly8gXHRyZXR1cm4gdGhpcy5zZWxlY3RWYWx1ZSh0aGlzLnN0YXRlLmlucHV0VmFsdWUpO1xuXHRcdC8vIH1cblx0XHRpZiAodGhpcy5fZm9jdXNlZE9wdGlvbikge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2VsZWN0VmFsdWUodGhpcy5fZm9jdXNlZE9wdGlvbik7XG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlckxvYWRpbmc6IGZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoKSB7XG5cdFx0aWYgKCF0aGlzLnByb3BzLmlzTG9hZGluZykgcmV0dXJuO1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdzcGFuJyxcblx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LWxvYWRpbmctem9uZScsICdhcmlhLWhpZGRlbic6ICd0cnVlJyB9LFxuXHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ1NlbGVjdC1sb2FkaW5nJyB9KVxuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyVmFsdWU6IGZ1bmN0aW9uIHJlbmRlclZhbHVlKHZhbHVlQXJyYXksIGlzT3Blbikge1xuXHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdFx0dmFyIHJlbmRlckxhYmVsID0gdGhpcy5wcm9wcy52YWx1ZVJlbmRlcmVyIHx8IHRoaXMuZ2V0T3B0aW9uTGFiZWw7XG5cdFx0dmFyIFZhbHVlQ29tcG9uZW50ID0gdGhpcy5wcm9wcy52YWx1ZUNvbXBvbmVudDtcblx0XHRpZiAoIXZhbHVlQXJyYXkubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtcGxhY2Vob2xkZXInIH0sXG5cdFx0XHRcdHRoaXMucHJvcHMucGxhY2Vob2xkZXJcblx0XHRcdCkgOiBudWxsO1xuXHRcdH1cblx0XHR2YXIgb25DbGljayA9IHRoaXMucHJvcHMub25WYWx1ZUNsaWNrID8gdGhpcy5oYW5kbGVWYWx1ZUNsaWNrIDogbnVsbDtcblx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlQXJyYXkubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuXHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0VmFsdWVDb21wb25lbnQsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZGlzYWJsZWQ6IF90aGlzMi5wcm9wcy5kaXNhYmxlZCB8fCB2YWx1ZS5jbGVhcmFibGVWYWx1ZSA9PT0gZmFsc2UsXG5cdFx0XHRcdFx0XHRrZXk6ICd2YWx1ZS0nICsgaSArICctJyArIHZhbHVlW190aGlzMi5wcm9wcy52YWx1ZUtleV0sXG5cdFx0XHRcdFx0XHRvbkNsaWNrOiBvbkNsaWNrLFxuXHRcdFx0XHRcdFx0b25SZW1vdmU6IF90aGlzMi5yZW1vdmVWYWx1ZSxcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cmVuZGVyTGFiZWwodmFsdWUpXG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmlucHV0VmFsdWUpIHtcblx0XHRcdGlmIChpc09wZW4pIG9uQ2xpY2sgPSBudWxsO1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRWYWx1ZUNvbXBvbmVudCxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGRpc2FibGVkOiB0aGlzLnByb3BzLmRpc2FibGVkLFxuXHRcdFx0XHRcdG9uQ2xpY2s6IG9uQ2xpY2ssXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlQXJyYXlbMF1cblx0XHRcdFx0fSxcblx0XHRcdFx0cmVuZGVyTGFiZWwodmFsdWVBcnJheVswXSlcblx0XHRcdCk7XG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcklucHV0OiBmdW5jdGlvbiByZW5kZXJJbnB1dCh2YWx1ZUFycmF5KSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdC1pbnB1dCcsIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUpO1xuXHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLnNlYXJjaGFibGUpIHtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnZGl2JywgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuaW5wdXRQcm9wcywge1xuXHRcdFx0XHRjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdFx0dGFiSW5kZXg6IHRoaXMucHJvcHMudGFiSW5kZXggfHwgMCxcblx0XHRcdFx0b25CbHVyOiB0aGlzLmhhbmRsZUlucHV0Qmx1cixcblx0XHRcdFx0b25Gb2N1czogdGhpcy5oYW5kbGVJbnB1dEZvY3VzLFxuXHRcdFx0XHRyZWY6ICdpbnB1dCcsXG5cdFx0XHRcdHN0eWxlOiB7IGJvcmRlcjogMCwgd2lkdGg6IDEsIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snIH0gfSkpO1xuXHRcdH1cblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX3JlYWN0SW5wdXRBdXRvc2l6ZTJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuaW5wdXRQcm9wcywge1xuXHRcdFx0Y2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHR0YWJJbmRleDogdGhpcy5wcm9wcy50YWJJbmRleCxcblx0XHRcdG9uQmx1cjogdGhpcy5oYW5kbGVJbnB1dEJsdXIsXG5cdFx0XHRvbkNoYW5nZTogdGhpcy5oYW5kbGVJbnB1dENoYW5nZSxcblx0XHRcdG9uRm9jdXM6IHRoaXMuaGFuZGxlSW5wdXRGb2N1cyxcblx0XHRcdG1pbldpZHRoOiAnNScsXG5cdFx0XHRyZWY6ICdpbnB1dCcsXG5cdFx0XHRyZXF1aXJlZDogdGhpcy5zdGF0ZS5yZXF1aXJlZCxcblx0XHRcdHZhbHVlOiB0aGlzLnN0YXRlLmlucHV0VmFsdWVcblx0XHR9KSk7XG5cdH0sXG5cblx0cmVuZGVyQ2xlYXI6IGZ1bmN0aW9uIHJlbmRlckNsZWFyKCkge1xuXHRcdGlmICghdGhpcy5wcm9wcy5jbGVhcmFibGUgfHwgIXRoaXMucHJvcHMudmFsdWUgfHwgdGhpcy5wcm9wcy5tdWx0aSAmJiAhdGhpcy5wcm9wcy52YWx1ZS5sZW5ndGggfHwgdGhpcy5wcm9wcy5kaXNhYmxlZCB8fCB0aGlzLnByb3BzLmlzTG9hZGluZykgcmV0dXJuO1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdzcGFuJyxcblx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LWNsZWFyLXpvbmUnLCB0aXRsZTogdGhpcy5wcm9wcy5tdWx0aSA/IHRoaXMucHJvcHMuY2xlYXJBbGxUZXh0IDogdGhpcy5wcm9wcy5jbGVhclZhbHVlVGV4dCxcblx0XHRcdFx0J2FyaWEtbGFiZWwnOiB0aGlzLnByb3BzLm11bHRpID8gdGhpcy5wcm9wcy5jbGVhckFsbFRleHQgOiB0aGlzLnByb3BzLmNsZWFyVmFsdWVUZXh0LFxuXHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5jbGVhclZhbHVlLFxuXHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuXHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZSB9LFxuXHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ1NlbGVjdC1jbGVhcicsIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogJyZ0aW1lczsnIH0gfSlcblx0XHQpO1xuXHR9LFxuXG5cdHJlbmRlckFycm93OiBmdW5jdGlvbiByZW5kZXJBcnJvdygpIHtcblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnc3BhbicsXG5cdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1hcnJvdy16b25lJywgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duT25BcnJvdyB9LFxuXHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ1NlbGVjdC1hcnJvdycsIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bk9uQXJyb3cgfSlcblx0XHQpO1xuXHR9LFxuXG5cdGZpbHRlck9wdGlvbnM6IGZ1bmN0aW9uIGZpbHRlck9wdGlvbnMoZXhjbHVkZU9wdGlvbnMpIHtcblx0XHR2YXIgX3RoaXMzID0gdGhpcztcblxuXHRcdHZhciBmaWx0ZXJWYWx1ZSA9IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZTtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucyB8fCBbXTtcblx0XHRpZiAodHlwZW9mIHRoaXMucHJvcHMuZmlsdGVyT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvcHMuZmlsdGVyT3B0aW9ucy5jYWxsKHRoaXMsIG9wdGlvbnMsIGZpbHRlclZhbHVlLCBleGNsdWRlT3B0aW9ucyk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnByb3BzLmZpbHRlck9wdGlvbnMpIHtcblx0XHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUFjY2VudHMpIHtcblx0XHRcdFx0ZmlsdGVyVmFsdWUgPSAoMCwgX3V0aWxzU3RyaXBEaWFjcml0aWNzMlsnZGVmYXVsdCddKShmaWx0ZXJWYWx1ZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5pZ25vcmVDYXNlKSB7XG5cdFx0XHRcdGZpbHRlclZhbHVlID0gZmlsdGVyVmFsdWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdH1cblx0XHRcdGlmIChleGNsdWRlT3B0aW9ucykgZXhjbHVkZU9wdGlvbnMgPSBleGNsdWRlT3B0aW9ucy5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0cmV0dXJuIGlbX3RoaXMzLnByb3BzLnZhbHVlS2V5XTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0XHRcdFx0aWYgKGV4Y2x1ZGVPcHRpb25zICYmIGV4Y2x1ZGVPcHRpb25zLmluZGV4T2Yob3B0aW9uW190aGlzMy5wcm9wcy52YWx1ZUtleV0pID4gLTEpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5maWx0ZXJPcHRpb24pIHJldHVybiBfdGhpczMucHJvcHMuZmlsdGVyT3B0aW9uLmNhbGwoX3RoaXMzLCBvcHRpb24sIGZpbHRlclZhbHVlKTtcblx0XHRcdFx0aWYgKCFmaWx0ZXJWYWx1ZSkgcmV0dXJuIHRydWU7XG5cdFx0XHRcdHZhciB2YWx1ZVRlc3QgPSBTdHJpbmcob3B0aW9uW190aGlzMy5wcm9wcy52YWx1ZUtleV0pO1xuXHRcdFx0XHR2YXIgbGFiZWxUZXN0ID0gU3RyaW5nKG9wdGlvbltfdGhpczMucHJvcHMubGFiZWxLZXldKTtcblx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5pZ25vcmVBY2NlbnRzKSB7XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICdsYWJlbCcpIHZhbHVlVGVzdCA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKHZhbHVlVGVzdCk7XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScpIGxhYmVsVGVzdCA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKGxhYmVsVGVzdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5pZ25vcmVDYXNlKSB7XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICdsYWJlbCcpIHZhbHVlVGVzdCA9IHZhbHVlVGVzdC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAndmFsdWUnKSBsYWJlbFRlc3QgPSBsYWJlbFRlc3QudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gX3RoaXMzLnByb3BzLm1hdGNoUG9zID09PSAnc3RhcnQnID8gX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJyAmJiB2YWx1ZVRlc3Quc3Vic3RyKDAsIGZpbHRlclZhbHVlLmxlbmd0aCkgPT09IGZpbHRlclZhbHVlIHx8IF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScgJiYgbGFiZWxUZXN0LnN1YnN0cigwLCBmaWx0ZXJWYWx1ZS5sZW5ndGgpID09PSBmaWx0ZXJWYWx1ZSA6IF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICdsYWJlbCcgJiYgdmFsdWVUZXN0LmluZGV4T2YoZmlsdGVyVmFsdWUpID49IDAgfHwgX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJyAmJiBsYWJlbFRlc3QuaW5kZXhPZihmaWx0ZXJWYWx1ZSkgPj0gMDtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucztcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyTWVudTogZnVuY3Rpb24gcmVuZGVyTWVudShvcHRpb25zLCB2YWx1ZUFycmF5LCBmb2N1c2VkT3B0aW9uKSB7XG5cdFx0dmFyIF90aGlzNCA9IHRoaXM7XG5cblx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCkge1xuXHRcdFx0dmFyIF9yZXQgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgT3B0aW9uID0gX3RoaXM0LnByb3BzLm9wdGlvbkNvbXBvbmVudDtcblx0XHRcdFx0dmFyIHJlbmRlckxhYmVsID0gX3RoaXM0LnByb3BzLm9wdGlvblJlbmRlcmVyIHx8IF90aGlzNC5nZXRPcHRpb25MYWJlbDtcblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHY6IG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24sIGkpIHtcblx0XHRcdFx0XHRcdHZhciBpc1NlbGVjdGVkID0gdmFsdWVBcnJheSAmJiB2YWx1ZUFycmF5LmluZGV4T2Yob3B0aW9uKSA+IC0xO1xuXHRcdFx0XHRcdFx0dmFyIGlzRm9jdXNlZCA9IG9wdGlvbiA9PT0gZm9jdXNlZE9wdGlvbjtcblx0XHRcdFx0XHRcdHZhciBvcHRpb25SZWYgPSBpc0ZvY3VzZWQgPyAnZm9jdXNlZCcgOiBudWxsO1xuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbkNsYXNzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSh7XG5cdFx0XHRcdFx0XHRcdCdTZWxlY3Qtb3B0aW9uJzogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0J2lzLXNlbGVjdGVkJzogaXNTZWxlY3RlZCxcblx0XHRcdFx0XHRcdFx0J2lzLWZvY3VzZWQnOiBpc0ZvY3VzZWQsXG5cdFx0XHRcdFx0XHRcdCdpcy1kaXNhYmxlZCc6IG9wdGlvbi5kaXNhYmxlZFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFx0T3B0aW9uLFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiBvcHRpb25DbGFzcyxcblx0XHRcdFx0XHRcdFx0XHRpc0Rpc2FibGVkOiBvcHRpb24uZGlzYWJsZWQsXG5cdFx0XHRcdFx0XHRcdFx0aXNGb2N1c2VkOiBpc0ZvY3VzZWQsXG5cdFx0XHRcdFx0XHRcdFx0a2V5OiAnb3B0aW9uLScgKyBpICsgJy0nICsgb3B0aW9uW190aGlzNC5wcm9wcy52YWx1ZUtleV0sXG5cdFx0XHRcdFx0XHRcdFx0b25TZWxlY3Q6IF90aGlzNC5zZWxlY3RWYWx1ZSxcblx0XHRcdFx0XHRcdFx0XHRvbkZvY3VzOiBfdGhpczQuZm9jdXNPcHRpb24sXG5cdFx0XHRcdFx0XHRcdFx0b3B0aW9uOiBvcHRpb24sXG5cdFx0XHRcdFx0XHRcdFx0aXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcblx0XHRcdFx0XHRcdFx0XHRyZWY6IG9wdGlvblJlZlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZW5kZXJMYWJlbChvcHRpb24pXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH07XG5cdFx0XHR9KSgpO1xuXG5cdFx0XHRpZiAodHlwZW9mIF9yZXQgPT09ICdvYmplY3QnKSByZXR1cm4gX3JldC52O1xuXHRcdH0gZWxzZSBpZiAodGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0KSB7XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1ub3Jlc3VsdHMnIH0sXG5cdFx0XHRcdHRoaXMucHJvcHMubm9SZXN1bHRzVGV4dFxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlckhpZGRlbkZpZWxkOiBmdW5jdGlvbiByZW5kZXJIaWRkZW5GaWVsZCh2YWx1ZUFycmF5KSB7XG5cdFx0dmFyIF90aGlzNSA9IHRoaXM7XG5cblx0XHRpZiAoIXRoaXMucHJvcHMubmFtZSkgcmV0dXJuO1xuXHRcdHZhciB2YWx1ZSA9IHZhbHVlQXJyYXkubWFwKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRyZXR1cm4gc3RyaW5naWZ5VmFsdWUoaVtfdGhpczUucHJvcHMudmFsdWVLZXldKTtcblx0XHR9KS5qb2luKHRoaXMucHJvcHMuZGVsaW1pdGVyKTtcblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAnaGlkZGVuJywgcmVmOiAndmFsdWUnLCBuYW1lOiB0aGlzLnByb3BzLm5hbWUsIHZhbHVlOiB2YWx1ZSwgZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQgfSk7XG5cdH0sXG5cblx0Z2V0Rm9jdXNhYmxlT3B0aW9uOiBmdW5jdGlvbiBnZXRGb2N1c2FibGVPcHRpb24oc2VsZWN0ZWRPcHRpb24pIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3Zpc2libGVPcHRpb25zO1xuXHRcdGlmICghb3B0aW9ucy5sZW5ndGgpIHJldHVybjtcblx0XHR2YXIgZm9jdXNlZE9wdGlvbiA9IHRoaXMuc3RhdGUuZm9jdXNlZE9wdGlvbiB8fCBzZWxlY3RlZE9wdGlvbjtcblx0XHRpZiAoZm9jdXNlZE9wdGlvbiAmJiBvcHRpb25zLmluZGV4T2YoZm9jdXNlZE9wdGlvbikgPiAtMSkgcmV0dXJuIGZvY3VzZWRPcHRpb247XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoIW9wdGlvbnNbaV0uZGlzYWJsZWQpIHJldHVybiBvcHRpb25zW2ldO1xuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHR2YXIgdmFsdWVBcnJheSA9IHRoaXMuZ2V0VmFsdWVBcnJheSgpO1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5fdmlzaWJsZU9wdGlvbnMgPSB0aGlzLmZpbHRlck9wdGlvbnModGhpcy5wcm9wcy5tdWx0aSA/IHZhbHVlQXJyYXkgOiBudWxsKTtcblx0XHR2YXIgaXNPcGVuID0gdGhpcy5zdGF0ZS5pc09wZW47XG5cdFx0aWYgKHRoaXMucHJvcHMubXVsdGkgJiYgIW9wdGlvbnMubGVuZ3RoICYmIHZhbHVlQXJyYXkubGVuZ3RoICYmICF0aGlzLnN0YXRlLmlucHV0VmFsdWUpIGlzT3BlbiA9IGZhbHNlO1xuXHRcdHZhciBmb2N1c2VkT3B0aW9uID0gdGhpcy5fZm9jdXNlZE9wdGlvbiA9IHRoaXMuZ2V0Rm9jdXNhYmxlT3B0aW9uKHZhbHVlQXJyYXlbMF0pO1xuXHRcdHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKCdTZWxlY3QnLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwge1xuXHRcdFx0J1NlbGVjdC0tbXVsdGknOiB0aGlzLnByb3BzLm11bHRpLFxuXHRcdFx0J2lzLWRpc2FibGVkJzogdGhpcy5wcm9wcy5kaXNhYmxlZCxcblx0XHRcdCdpcy1mb2N1c2VkJzogdGhpcy5zdGF0ZS5pc0ZvY3VzZWQsXG5cdFx0XHQnaXMtbG9hZGluZyc6IHRoaXMucHJvcHMuaXNMb2FkaW5nLFxuXHRcdFx0J2lzLW9wZW4nOiBpc09wZW4sXG5cdFx0XHQnaXMtcHNldWRvLWZvY3VzZWQnOiB0aGlzLnN0YXRlLmlzUHNldWRvRm9jdXNlZCxcblx0XHRcdCdpcy1zZWFyY2hhYmxlJzogdGhpcy5wcm9wcy5zZWFyY2hhYmxlLFxuXHRcdFx0J2hhcy12YWx1ZSc6IHZhbHVlQXJyYXkubGVuZ3RoXG5cdFx0fSk7XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7IHJlZjogJ3dyYXBwZXInLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHRoaXMucHJvcHMud3JhcHBlclN0eWxlIH0sXG5cdFx0XHR0aGlzLnJlbmRlckhpZGRlbkZpZWxkKHZhbHVlQXJyYXkpLFxuXHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IHJlZjogJ2NvbnRyb2wnLFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ1NlbGVjdC1jb250cm9sJyxcblx0XHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSxcblx0XHRcdFx0XHRvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93bixcblx0XHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sXG5cdFx0XHRcdFx0b25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZCxcblx0XHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUgfSxcblx0XHRcdFx0dGhpcy5yZW5kZXJWYWx1ZSh2YWx1ZUFycmF5LCBpc09wZW4pLFxuXHRcdFx0XHR0aGlzLnJlbmRlcklucHV0KHZhbHVlQXJyYXkpLFxuXHRcdFx0XHR0aGlzLnJlbmRlckxvYWRpbmcoKSxcblx0XHRcdFx0dGhpcy5yZW5kZXJDbGVhcigpLFxuXHRcdFx0XHR0aGlzLnJlbmRlckFycm93KClcblx0XHRcdCksXG5cdFx0XHRpc09wZW4gPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgcmVmOiAnbWVudUNvbnRhaW5lcicsIGNsYXNzTmFtZTogJ1NlbGVjdC1tZW51LW91dGVyJywgc3R5bGU6IHRoaXMucHJvcHMubWVudUNvbnRhaW5lclN0eWxlIH0sXG5cdFx0XHRcdF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdHsgcmVmOiAnbWVudScsIGNsYXNzTmFtZTogJ1NlbGVjdC1tZW51Jyxcblx0XHRcdFx0XHRcdHN0eWxlOiB0aGlzLnByb3BzLm1lbnVTdHlsZSxcblx0XHRcdFx0XHRcdG9uU2Nyb2xsOiB0aGlzLmhhbmRsZU1lbnVTY3JvbGwsXG5cdFx0XHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd25Pbk1lbnUgfSxcblx0XHRcdFx0XHR0aGlzLnJlbmRlck1lbnUob3B0aW9ucywgIXRoaXMucHJvcHMubXVsdGkgPyB2YWx1ZUFycmF5IDogbnVsbCwgZm9jdXNlZE9wdGlvbilcblx0XHRcdFx0KVxuXHRcdFx0KSA6IG51bGxcblx0XHQpO1xuXHR9XG5cbn0pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBTZWxlY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC1zZWxlY3QvbGliL1NlbGVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBtYXAgPSBbeyAnYmFzZSc6ICdBJywgJ2xldHRlcnMnOiAvW1xcdTAwNDFcXHUyNEI2XFx1RkYyMVxcdTAwQzBcXHUwMEMxXFx1MDBDMlxcdTFFQTZcXHUxRUE0XFx1MUVBQVxcdTFFQThcXHUwMEMzXFx1MDEwMFxcdTAxMDJcXHUxRUIwXFx1MUVBRVxcdTFFQjRcXHUxRUIyXFx1MDIyNlxcdTAxRTBcXHUwMEM0XFx1MDFERVxcdTFFQTJcXHUwMEM1XFx1MDFGQVxcdTAxQ0RcXHUwMjAwXFx1MDIwMlxcdTFFQTBcXHUxRUFDXFx1MUVCNlxcdTFFMDBcXHUwMTA0XFx1MDIzQVxcdTJDNkZdL2cgfSwgeyAnYmFzZSc6ICdBQScsICdsZXR0ZXJzJzogL1tcXHVBNzMyXS9nIH0sIHsgJ2Jhc2UnOiAnQUUnLCAnbGV0dGVycyc6IC9bXFx1MDBDNlxcdTAxRkNcXHUwMUUyXS9nIH0sIHsgJ2Jhc2UnOiAnQU8nLCAnbGV0dGVycyc6IC9bXFx1QTczNF0vZyB9LCB7ICdiYXNlJzogJ0FVJywgJ2xldHRlcnMnOiAvW1xcdUE3MzZdL2cgfSwgeyAnYmFzZSc6ICdBVicsICdsZXR0ZXJzJzogL1tcXHVBNzM4XFx1QTczQV0vZyB9LCB7ICdiYXNlJzogJ0FZJywgJ2xldHRlcnMnOiAvW1xcdUE3M0NdL2cgfSwgeyAnYmFzZSc6ICdCJywgJ2xldHRlcnMnOiAvW1xcdTAwNDJcXHUyNEI3XFx1RkYyMlxcdTFFMDJcXHUxRTA0XFx1MUUwNlxcdTAyNDNcXHUwMTgyXFx1MDE4MV0vZyB9LCB7ICdiYXNlJzogJ0MnLCAnbGV0dGVycyc6IC9bXFx1MDA0M1xcdTI0QjhcXHVGRjIzXFx1MDEwNlxcdTAxMDhcXHUwMTBBXFx1MDEwQ1xcdTAwQzdcXHUxRTA4XFx1MDE4N1xcdTAyM0JcXHVBNzNFXS9nIH0sIHsgJ2Jhc2UnOiAnRCcsICdsZXR0ZXJzJzogL1tcXHUwMDQ0XFx1MjRCOVxcdUZGMjRcXHUxRTBBXFx1MDEwRVxcdTFFMENcXHUxRTEwXFx1MUUxMlxcdTFFMEVcXHUwMTEwXFx1MDE4QlxcdTAxOEFcXHUwMTg5XFx1QTc3OV0vZyB9LCB7ICdiYXNlJzogJ0RaJywgJ2xldHRlcnMnOiAvW1xcdTAxRjFcXHUwMUM0XS9nIH0sIHsgJ2Jhc2UnOiAnRHonLCAnbGV0dGVycyc6IC9bXFx1MDFGMlxcdTAxQzVdL2cgfSwgeyAnYmFzZSc6ICdFJywgJ2xldHRlcnMnOiAvW1xcdTAwNDVcXHUyNEJBXFx1RkYyNVxcdTAwQzhcXHUwMEM5XFx1MDBDQVxcdTFFQzBcXHUxRUJFXFx1MUVDNFxcdTFFQzJcXHUxRUJDXFx1MDExMlxcdTFFMTRcXHUxRTE2XFx1MDExNFxcdTAxMTZcXHUwMENCXFx1MUVCQVxcdTAxMUFcXHUwMjA0XFx1MDIwNlxcdTFFQjhcXHUxRUM2XFx1MDIyOFxcdTFFMUNcXHUwMTE4XFx1MUUxOFxcdTFFMUFcXHUwMTkwXFx1MDE4RV0vZyB9LCB7ICdiYXNlJzogJ0YnLCAnbGV0dGVycyc6IC9bXFx1MDA0NlxcdTI0QkJcXHVGRjI2XFx1MUUxRVxcdTAxOTFcXHVBNzdCXS9nIH0sIHsgJ2Jhc2UnOiAnRycsICdsZXR0ZXJzJzogL1tcXHUwMDQ3XFx1MjRCQ1xcdUZGMjdcXHUwMUY0XFx1MDExQ1xcdTFFMjBcXHUwMTFFXFx1MDEyMFxcdTAxRTZcXHUwMTIyXFx1MDFFNFxcdTAxOTNcXHVBN0EwXFx1QTc3RFxcdUE3N0VdL2cgfSwgeyAnYmFzZSc6ICdIJywgJ2xldHRlcnMnOiAvW1xcdTAwNDhcXHUyNEJEXFx1RkYyOFxcdTAxMjRcXHUxRTIyXFx1MUUyNlxcdTAyMUVcXHUxRTI0XFx1MUUyOFxcdTFFMkFcXHUwMTI2XFx1MkM2N1xcdTJDNzVcXHVBNzhEXS9nIH0sIHsgJ2Jhc2UnOiAnSScsICdsZXR0ZXJzJzogL1tcXHUwMDQ5XFx1MjRCRVxcdUZGMjlcXHUwMENDXFx1MDBDRFxcdTAwQ0VcXHUwMTI4XFx1MDEyQVxcdTAxMkNcXHUwMTMwXFx1MDBDRlxcdTFFMkVcXHUxRUM4XFx1MDFDRlxcdTAyMDhcXHUwMjBBXFx1MUVDQVxcdTAxMkVcXHUxRTJDXFx1MDE5N10vZyB9LCB7ICdiYXNlJzogJ0onLCAnbGV0dGVycyc6IC9bXFx1MDA0QVxcdTI0QkZcXHVGRjJBXFx1MDEzNFxcdTAyNDhdL2cgfSwgeyAnYmFzZSc6ICdLJywgJ2xldHRlcnMnOiAvW1xcdTAwNEJcXHUyNEMwXFx1RkYyQlxcdTFFMzBcXHUwMUU4XFx1MUUzMlxcdTAxMzZcXHUxRTM0XFx1MDE5OFxcdTJDNjlcXHVBNzQwXFx1QTc0MlxcdUE3NDRcXHVBN0EyXS9nIH0sIHsgJ2Jhc2UnOiAnTCcsICdsZXR0ZXJzJzogL1tcXHUwMDRDXFx1MjRDMVxcdUZGMkNcXHUwMTNGXFx1MDEzOVxcdTAxM0RcXHUxRTM2XFx1MUUzOFxcdTAxM0JcXHUxRTNDXFx1MUUzQVxcdTAxNDFcXHUwMjNEXFx1MkM2MlxcdTJDNjBcXHVBNzQ4XFx1QTc0NlxcdUE3ODBdL2cgfSwgeyAnYmFzZSc6ICdMSicsICdsZXR0ZXJzJzogL1tcXHUwMUM3XS9nIH0sIHsgJ2Jhc2UnOiAnTGonLCAnbGV0dGVycyc6IC9bXFx1MDFDOF0vZyB9LCB7ICdiYXNlJzogJ00nLCAnbGV0dGVycyc6IC9bXFx1MDA0RFxcdTI0QzJcXHVGRjJEXFx1MUUzRVxcdTFFNDBcXHUxRTQyXFx1MkM2RVxcdTAxOUNdL2cgfSwgeyAnYmFzZSc6ICdOJywgJ2xldHRlcnMnOiAvW1xcdTAwNEVcXHUyNEMzXFx1RkYyRVxcdTAxRjhcXHUwMTQzXFx1MDBEMVxcdTFFNDRcXHUwMTQ3XFx1MUU0NlxcdTAxNDVcXHUxRTRBXFx1MUU0OFxcdTAyMjBcXHUwMTlEXFx1QTc5MFxcdUE3QTRdL2cgfSwgeyAnYmFzZSc6ICdOSicsICdsZXR0ZXJzJzogL1tcXHUwMUNBXS9nIH0sIHsgJ2Jhc2UnOiAnTmonLCAnbGV0dGVycyc6IC9bXFx1MDFDQl0vZyB9LCB7ICdiYXNlJzogJ08nLCAnbGV0dGVycyc6IC9bXFx1MDA0RlxcdTI0QzRcXHVGRjJGXFx1MDBEMlxcdTAwRDNcXHUwMEQ0XFx1MUVEMlxcdTFFRDBcXHUxRUQ2XFx1MUVENFxcdTAwRDVcXHUxRTRDXFx1MDIyQ1xcdTFFNEVcXHUwMTRDXFx1MUU1MFxcdTFFNTJcXHUwMTRFXFx1MDIyRVxcdTAyMzBcXHUwMEQ2XFx1MDIyQVxcdTFFQ0VcXHUwMTUwXFx1MDFEMVxcdTAyMENcXHUwMjBFXFx1MDFBMFxcdTFFRENcXHUxRURBXFx1MUVFMFxcdTFFREVcXHUxRUUyXFx1MUVDQ1xcdTFFRDhcXHUwMUVBXFx1MDFFQ1xcdTAwRDhcXHUwMUZFXFx1MDE4NlxcdTAxOUZcXHVBNzRBXFx1QTc0Q10vZyB9LCB7ICdiYXNlJzogJ09JJywgJ2xldHRlcnMnOiAvW1xcdTAxQTJdL2cgfSwgeyAnYmFzZSc6ICdPTycsICdsZXR0ZXJzJzogL1tcXHVBNzRFXS9nIH0sIHsgJ2Jhc2UnOiAnT1UnLCAnbGV0dGVycyc6IC9bXFx1MDIyMl0vZyB9LCB7ICdiYXNlJzogJ1AnLCAnbGV0dGVycyc6IC9bXFx1MDA1MFxcdTI0QzVcXHVGRjMwXFx1MUU1NFxcdTFFNTZcXHUwMUE0XFx1MkM2M1xcdUE3NTBcXHVBNzUyXFx1QTc1NF0vZyB9LCB7ICdiYXNlJzogJ1EnLCAnbGV0dGVycyc6IC9bXFx1MDA1MVxcdTI0QzZcXHVGRjMxXFx1QTc1NlxcdUE3NThcXHUwMjRBXS9nIH0sIHsgJ2Jhc2UnOiAnUicsICdsZXR0ZXJzJzogL1tcXHUwMDUyXFx1MjRDN1xcdUZGMzJcXHUwMTU0XFx1MUU1OFxcdTAxNThcXHUwMjEwXFx1MDIxMlxcdTFFNUFcXHUxRTVDXFx1MDE1NlxcdTFFNUVcXHUwMjRDXFx1MkM2NFxcdUE3NUFcXHVBN0E2XFx1QTc4Ml0vZyB9LCB7ICdiYXNlJzogJ1MnLCAnbGV0dGVycyc6IC9bXFx1MDA1M1xcdTI0QzhcXHVGRjMzXFx1MUU5RVxcdTAxNUFcXHUxRTY0XFx1MDE1Q1xcdTFFNjBcXHUwMTYwXFx1MUU2NlxcdTFFNjJcXHUxRTY4XFx1MDIxOFxcdTAxNUVcXHUyQzdFXFx1QTdBOFxcdUE3ODRdL2cgfSwgeyAnYmFzZSc6ICdUJywgJ2xldHRlcnMnOiAvW1xcdTAwNTRcXHUyNEM5XFx1RkYzNFxcdTFFNkFcXHUwMTY0XFx1MUU2Q1xcdTAyMUFcXHUwMTYyXFx1MUU3MFxcdTFFNkVcXHUwMTY2XFx1MDFBQ1xcdTAxQUVcXHUwMjNFXFx1QTc4Nl0vZyB9LCB7ICdiYXNlJzogJ1RaJywgJ2xldHRlcnMnOiAvW1xcdUE3MjhdL2cgfSwgeyAnYmFzZSc6ICdVJywgJ2xldHRlcnMnOiAvW1xcdTAwNTVcXHUyNENBXFx1RkYzNVxcdTAwRDlcXHUwMERBXFx1MDBEQlxcdTAxNjhcXHUxRTc4XFx1MDE2QVxcdTFFN0FcXHUwMTZDXFx1MDBEQ1xcdTAxREJcXHUwMUQ3XFx1MDFENVxcdTAxRDlcXHUxRUU2XFx1MDE2RVxcdTAxNzBcXHUwMUQzXFx1MDIxNFxcdTAyMTZcXHUwMUFGXFx1MUVFQVxcdTFFRThcXHUxRUVFXFx1MUVFQ1xcdTFFRjBcXHUxRUU0XFx1MUU3MlxcdTAxNzJcXHUxRTc2XFx1MUU3NFxcdTAyNDRdL2cgfSwgeyAnYmFzZSc6ICdWJywgJ2xldHRlcnMnOiAvW1xcdTAwNTZcXHUyNENCXFx1RkYzNlxcdTFFN0NcXHUxRTdFXFx1MDFCMlxcdUE3NUVcXHUwMjQ1XS9nIH0sIHsgJ2Jhc2UnOiAnVlknLCAnbGV0dGVycyc6IC9bXFx1QTc2MF0vZyB9LCB7ICdiYXNlJzogJ1cnLCAnbGV0dGVycyc6IC9bXFx1MDA1N1xcdTI0Q0NcXHVGRjM3XFx1MUU4MFxcdTFFODJcXHUwMTc0XFx1MUU4NlxcdTFFODRcXHUxRTg4XFx1MkM3Ml0vZyB9LCB7ICdiYXNlJzogJ1gnLCAnbGV0dGVycyc6IC9bXFx1MDA1OFxcdTI0Q0RcXHVGRjM4XFx1MUU4QVxcdTFFOENdL2cgfSwgeyAnYmFzZSc6ICdZJywgJ2xldHRlcnMnOiAvW1xcdTAwNTlcXHUyNENFXFx1RkYzOVxcdTFFRjJcXHUwMEREXFx1MDE3NlxcdTFFRjhcXHUwMjMyXFx1MUU4RVxcdTAxNzhcXHUxRUY2XFx1MUVGNFxcdTAxQjNcXHUwMjRFXFx1MUVGRV0vZyB9LCB7ICdiYXNlJzogJ1onLCAnbGV0dGVycyc6IC9bXFx1MDA1QVxcdTI0Q0ZcXHVGRjNBXFx1MDE3OVxcdTFFOTBcXHUwMTdCXFx1MDE3RFxcdTFFOTJcXHUxRTk0XFx1MDFCNVxcdTAyMjRcXHUyQzdGXFx1MkM2QlxcdUE3NjJdL2cgfSwgeyAnYmFzZSc6ICdhJywgJ2xldHRlcnMnOiAvW1xcdTAwNjFcXHUyNEQwXFx1RkY0MVxcdTFFOUFcXHUwMEUwXFx1MDBFMVxcdTAwRTJcXHUxRUE3XFx1MUVBNVxcdTFFQUJcXHUxRUE5XFx1MDBFM1xcdTAxMDFcXHUwMTAzXFx1MUVCMVxcdTFFQUZcXHUxRUI1XFx1MUVCM1xcdTAyMjdcXHUwMUUxXFx1MDBFNFxcdTAxREZcXHUxRUEzXFx1MDBFNVxcdTAxRkJcXHUwMUNFXFx1MDIwMVxcdTAyMDNcXHUxRUExXFx1MUVBRFxcdTFFQjdcXHUxRTAxXFx1MDEwNVxcdTJDNjVcXHUwMjUwXS9nIH0sIHsgJ2Jhc2UnOiAnYWEnLCAnbGV0dGVycyc6IC9bXFx1QTczM10vZyB9LCB7ICdiYXNlJzogJ2FlJywgJ2xldHRlcnMnOiAvW1xcdTAwRTZcXHUwMUZEXFx1MDFFM10vZyB9LCB7ICdiYXNlJzogJ2FvJywgJ2xldHRlcnMnOiAvW1xcdUE3MzVdL2cgfSwgeyAnYmFzZSc6ICdhdScsICdsZXR0ZXJzJzogL1tcXHVBNzM3XS9nIH0sIHsgJ2Jhc2UnOiAnYXYnLCAnbGV0dGVycyc6IC9bXFx1QTczOVxcdUE3M0JdL2cgfSwgeyAnYmFzZSc6ICdheScsICdsZXR0ZXJzJzogL1tcXHVBNzNEXS9nIH0sIHsgJ2Jhc2UnOiAnYicsICdsZXR0ZXJzJzogL1tcXHUwMDYyXFx1MjREMVxcdUZGNDJcXHUxRTAzXFx1MUUwNVxcdTFFMDdcXHUwMTgwXFx1MDE4M1xcdTAyNTNdL2cgfSwgeyAnYmFzZSc6ICdjJywgJ2xldHRlcnMnOiAvW1xcdTAwNjNcXHUyNEQyXFx1RkY0M1xcdTAxMDdcXHUwMTA5XFx1MDEwQlxcdTAxMERcXHUwMEU3XFx1MUUwOVxcdTAxODhcXHUwMjNDXFx1QTczRlxcdTIxODRdL2cgfSwgeyAnYmFzZSc6ICdkJywgJ2xldHRlcnMnOiAvW1xcdTAwNjRcXHUyNEQzXFx1RkY0NFxcdTFFMEJcXHUwMTBGXFx1MUUwRFxcdTFFMTFcXHUxRTEzXFx1MUUwRlxcdTAxMTFcXHUwMThDXFx1MDI1NlxcdTAyNTdcXHVBNzdBXS9nIH0sIHsgJ2Jhc2UnOiAnZHonLCAnbGV0dGVycyc6IC9bXFx1MDFGM1xcdTAxQzZdL2cgfSwgeyAnYmFzZSc6ICdlJywgJ2xldHRlcnMnOiAvW1xcdTAwNjVcXHUyNEQ0XFx1RkY0NVxcdTAwRThcXHUwMEU5XFx1MDBFQVxcdTFFQzFcXHUxRUJGXFx1MUVDNVxcdTFFQzNcXHUxRUJEXFx1MDExM1xcdTFFMTVcXHUxRTE3XFx1MDExNVxcdTAxMTdcXHUwMEVCXFx1MUVCQlxcdTAxMUJcXHUwMjA1XFx1MDIwN1xcdTFFQjlcXHUxRUM3XFx1MDIyOVxcdTFFMURcXHUwMTE5XFx1MUUxOVxcdTFFMUJcXHUwMjQ3XFx1MDI1QlxcdTAxRERdL2cgfSwgeyAnYmFzZSc6ICdmJywgJ2xldHRlcnMnOiAvW1xcdTAwNjZcXHUyNEQ1XFx1RkY0NlxcdTFFMUZcXHUwMTkyXFx1QTc3Q10vZyB9LCB7ICdiYXNlJzogJ2cnLCAnbGV0dGVycyc6IC9bXFx1MDA2N1xcdTI0RDZcXHVGRjQ3XFx1MDFGNVxcdTAxMURcXHUxRTIxXFx1MDExRlxcdTAxMjFcXHUwMUU3XFx1MDEyM1xcdTAxRTVcXHUwMjYwXFx1QTdBMVxcdTFENzlcXHVBNzdGXS9nIH0sIHsgJ2Jhc2UnOiAnaCcsICdsZXR0ZXJzJzogL1tcXHUwMDY4XFx1MjREN1xcdUZGNDhcXHUwMTI1XFx1MUUyM1xcdTFFMjdcXHUwMjFGXFx1MUUyNVxcdTFFMjlcXHUxRTJCXFx1MUU5NlxcdTAxMjdcXHUyQzY4XFx1MkM3NlxcdTAyNjVdL2cgfSwgeyAnYmFzZSc6ICdodicsICdsZXR0ZXJzJzogL1tcXHUwMTk1XS9nIH0sIHsgJ2Jhc2UnOiAnaScsICdsZXR0ZXJzJzogL1tcXHUwMDY5XFx1MjREOFxcdUZGNDlcXHUwMEVDXFx1MDBFRFxcdTAwRUVcXHUwMTI5XFx1MDEyQlxcdTAxMkRcXHUwMEVGXFx1MUUyRlxcdTFFQzlcXHUwMUQwXFx1MDIwOVxcdTAyMEJcXHUxRUNCXFx1MDEyRlxcdTFFMkRcXHUwMjY4XFx1MDEzMV0vZyB9LCB7ICdiYXNlJzogJ2onLCAnbGV0dGVycyc6IC9bXFx1MDA2QVxcdTI0RDlcXHVGRjRBXFx1MDEzNVxcdTAxRjBcXHUwMjQ5XS9nIH0sIHsgJ2Jhc2UnOiAnaycsICdsZXR0ZXJzJzogL1tcXHUwMDZCXFx1MjREQVxcdUZGNEJcXHUxRTMxXFx1MDFFOVxcdTFFMzNcXHUwMTM3XFx1MUUzNVxcdTAxOTlcXHUyQzZBXFx1QTc0MVxcdUE3NDNcXHVBNzQ1XFx1QTdBM10vZyB9LCB7ICdiYXNlJzogJ2wnLCAnbGV0dGVycyc6IC9bXFx1MDA2Q1xcdTI0REJcXHVGRjRDXFx1MDE0MFxcdTAxM0FcXHUwMTNFXFx1MUUzN1xcdTFFMzlcXHUwMTNDXFx1MUUzRFxcdTFFM0JcXHUwMTdGXFx1MDE0MlxcdTAxOUFcXHUwMjZCXFx1MkM2MVxcdUE3NDlcXHVBNzgxXFx1QTc0N10vZyB9LCB7ICdiYXNlJzogJ2xqJywgJ2xldHRlcnMnOiAvW1xcdTAxQzldL2cgfSwgeyAnYmFzZSc6ICdtJywgJ2xldHRlcnMnOiAvW1xcdTAwNkRcXHUyNERDXFx1RkY0RFxcdTFFM0ZcXHUxRTQxXFx1MUU0M1xcdTAyNzFcXHUwMjZGXS9nIH0sIHsgJ2Jhc2UnOiAnbicsICdsZXR0ZXJzJzogL1tcXHUwMDZFXFx1MjRERFxcdUZGNEVcXHUwMUY5XFx1MDE0NFxcdTAwRjFcXHUxRTQ1XFx1MDE0OFxcdTFFNDdcXHUwMTQ2XFx1MUU0QlxcdTFFNDlcXHUwMTlFXFx1MDI3MlxcdTAxNDlcXHVBNzkxXFx1QTdBNV0vZyB9LCB7ICdiYXNlJzogJ25qJywgJ2xldHRlcnMnOiAvW1xcdTAxQ0NdL2cgfSwgeyAnYmFzZSc6ICdvJywgJ2xldHRlcnMnOiAvW1xcdTAwNkZcXHUyNERFXFx1RkY0RlxcdTAwRjJcXHUwMEYzXFx1MDBGNFxcdTFFRDNcXHUxRUQxXFx1MUVEN1xcdTFFRDVcXHUwMEY1XFx1MUU0RFxcdTAyMkRcXHUxRTRGXFx1MDE0RFxcdTFFNTFcXHUxRTUzXFx1MDE0RlxcdTAyMkZcXHUwMjMxXFx1MDBGNlxcdTAyMkJcXHUxRUNGXFx1MDE1MVxcdTAxRDJcXHUwMjBEXFx1MDIwRlxcdTAxQTFcXHUxRUREXFx1MUVEQlxcdTFFRTFcXHUxRURGXFx1MUVFM1xcdTFFQ0RcXHUxRUQ5XFx1MDFFQlxcdTAxRURcXHUwMEY4XFx1MDFGRlxcdTAyNTRcXHVBNzRCXFx1QTc0RFxcdTAyNzVdL2cgfSwgeyAnYmFzZSc6ICdvaScsICdsZXR0ZXJzJzogL1tcXHUwMUEzXS9nIH0sIHsgJ2Jhc2UnOiAnb3UnLCAnbGV0dGVycyc6IC9bXFx1MDIyM10vZyB9LCB7ICdiYXNlJzogJ29vJywgJ2xldHRlcnMnOiAvW1xcdUE3NEZdL2cgfSwgeyAnYmFzZSc6ICdwJywgJ2xldHRlcnMnOiAvW1xcdTAwNzBcXHUyNERGXFx1RkY1MFxcdTFFNTVcXHUxRTU3XFx1MDFBNVxcdTFEN0RcXHVBNzUxXFx1QTc1M1xcdUE3NTVdL2cgfSwgeyAnYmFzZSc6ICdxJywgJ2xldHRlcnMnOiAvW1xcdTAwNzFcXHUyNEUwXFx1RkY1MVxcdTAyNEJcXHVBNzU3XFx1QTc1OV0vZyB9LCB7ICdiYXNlJzogJ3InLCAnbGV0dGVycyc6IC9bXFx1MDA3MlxcdTI0RTFcXHVGRjUyXFx1MDE1NVxcdTFFNTlcXHUwMTU5XFx1MDIxMVxcdTAyMTNcXHUxRTVCXFx1MUU1RFxcdTAxNTdcXHUxRTVGXFx1MDI0RFxcdTAyN0RcXHVBNzVCXFx1QTdBN1xcdUE3ODNdL2cgfSwgeyAnYmFzZSc6ICdzJywgJ2xldHRlcnMnOiAvW1xcdTAwNzNcXHUyNEUyXFx1RkY1M1xcdTAwREZcXHUwMTVCXFx1MUU2NVxcdTAxNURcXHUxRTYxXFx1MDE2MVxcdTFFNjdcXHUxRTYzXFx1MUU2OVxcdTAyMTlcXHUwMTVGXFx1MDIzRlxcdUE3QTlcXHVBNzg1XFx1MUU5Ql0vZyB9LCB7ICdiYXNlJzogJ3QnLCAnbGV0dGVycyc6IC9bXFx1MDA3NFxcdTI0RTNcXHVGRjU0XFx1MUU2QlxcdTFFOTdcXHUwMTY1XFx1MUU2RFxcdTAyMUJcXHUwMTYzXFx1MUU3MVxcdTFFNkZcXHUwMTY3XFx1MDFBRFxcdTAyODhcXHUyQzY2XFx1QTc4N10vZyB9LCB7ICdiYXNlJzogJ3R6JywgJ2xldHRlcnMnOiAvW1xcdUE3MjldL2cgfSwgeyAnYmFzZSc6ICd1JywgJ2xldHRlcnMnOiAvW1xcdTAwNzVcXHUyNEU0XFx1RkY1NVxcdTAwRjlcXHUwMEZBXFx1MDBGQlxcdTAxNjlcXHUxRTc5XFx1MDE2QlxcdTFFN0JcXHUwMTZEXFx1MDBGQ1xcdTAxRENcXHUwMUQ4XFx1MDFENlxcdTAxREFcXHUxRUU3XFx1MDE2RlxcdTAxNzFcXHUwMUQ0XFx1MDIxNVxcdTAyMTdcXHUwMUIwXFx1MUVFQlxcdTFFRTlcXHUxRUVGXFx1MUVFRFxcdTFFRjFcXHUxRUU1XFx1MUU3M1xcdTAxNzNcXHUxRTc3XFx1MUU3NVxcdTAyODldL2cgfSwgeyAnYmFzZSc6ICd2JywgJ2xldHRlcnMnOiAvW1xcdTAwNzZcXHUyNEU1XFx1RkY1NlxcdTFFN0RcXHUxRTdGXFx1MDI4QlxcdUE3NUZcXHUwMjhDXS9nIH0sIHsgJ2Jhc2UnOiAndnknLCAnbGV0dGVycyc6IC9bXFx1QTc2MV0vZyB9LCB7ICdiYXNlJzogJ3cnLCAnbGV0dGVycyc6IC9bXFx1MDA3N1xcdTI0RTZcXHVGRjU3XFx1MUU4MVxcdTFFODNcXHUwMTc1XFx1MUU4N1xcdTFFODVcXHUxRTk4XFx1MUU4OVxcdTJDNzNdL2cgfSwgeyAnYmFzZSc6ICd4JywgJ2xldHRlcnMnOiAvW1xcdTAwNzhcXHUyNEU3XFx1RkY1OFxcdTFFOEJcXHUxRThEXS9nIH0sIHsgJ2Jhc2UnOiAneScsICdsZXR0ZXJzJzogL1tcXHUwMDc5XFx1MjRFOFxcdUZGNTlcXHUxRUYzXFx1MDBGRFxcdTAxNzdcXHUxRUY5XFx1MDIzM1xcdTFFOEZcXHUwMEZGXFx1MUVGN1xcdTFFOTlcXHUxRUY1XFx1MDFCNFxcdTAyNEZcXHUxRUZGXS9nIH0sIHsgJ2Jhc2UnOiAneicsICdsZXR0ZXJzJzogL1tcXHUwMDdBXFx1MjRFOVxcdUZGNUFcXHUwMTdBXFx1MUU5MVxcdTAxN0NcXHUwMTdFXFx1MUU5M1xcdTFFOTVcXHUwMUI2XFx1MDIyNVxcdTAyNDBcXHUyQzZDXFx1QTc2M10vZyB9XTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpcERpYWNyaXRpY3Moc3RyKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbWFwLmxlbmd0aDsgaSsrKSB7XG5cdFx0c3RyID0gc3RyLnJlcGxhY2UobWFwW2ldLmxldHRlcnMsIG1hcFtpXS5iYXNlKTtcblx0fVxuXHRyZXR1cm4gc3RyO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC1zZWxlY3QvbGliL3V0aWxzL3N0cmlwRGlhY3JpdGljcy5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMualF1ZXJ5ID0gZXhwb3J0cy5hbmltYXRpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0QWRkb25zVXBkYXRlID0gcmVxdWlyZShcInJlYWN0LWFkZG9ucy11cGRhdGVcIik7XG5cbnZhciBfcmVhY3RBZGRvbnNVcGRhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNVcGRhdGUpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKFwiY2xhc3NuYW1lc1wiKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX2FuaW1hdGlvbk1peGluID0gcmVxdWlyZShcIi4vYW5pbWF0aW9uTWl4aW5cIik7XG5cbnZhciBfYW5pbWF0aW9uTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5pbWF0aW9uTWl4aW4pO1xuXG52YXIgX2pRdWVyeU1peGluID0gcmVxdWlyZShcIi4valF1ZXJ5TWl4aW5cIik7XG5cbnZhciBfalF1ZXJ5TWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfalF1ZXJ5TWl4aW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFRvYXN0TWVzc2FnZVNwZWMgPSB7XG4gIGRpc3BsYXlOYW1lOiBcIlRvYXN0TWVzc2FnZVwiLFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHZhciBpY29uQ2xhc3NOYW1lcyA9IHtcbiAgICAgIGVycm9yOiBcInRvYXN0LWVycm9yXCIsXG4gICAgICBpbmZvOiBcInRvYXN0LWluZm9cIixcbiAgICAgIHN1Y2Nlc3M6IFwidG9hc3Qtc3VjY2Vzc1wiLFxuICAgICAgd2FybmluZzogXCJ0b2FzdC13YXJuaW5nXCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ0b2FzdFwiLFxuICAgICAgaWNvbkNsYXNzTmFtZXM6IGljb25DbGFzc05hbWVzLFxuICAgICAgdGl0bGVDbGFzc05hbWU6IFwidG9hc3QtdGl0bGVcIixcbiAgICAgIG1lc3NhZ2VDbGFzc05hbWU6IFwidG9hc3QtbWVzc2FnZVwiLFxuICAgICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuICAgICAgY2xvc2VCdXR0b246IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgaGFuZGxlT25DbGljazogZnVuY3Rpb24gaGFuZGxlT25DbGljayhldmVudCkge1xuICAgIHRoaXMucHJvcHMuaGFuZGxlT25DbGljayhldmVudCk7XG4gICAgaWYgKHRoaXMucHJvcHMudGFwVG9EaXNtaXNzKSB7XG4gICAgICB0aGlzLmhpZGVUb2FzdCh0cnVlKTtcbiAgICB9XG4gIH0sXG4gIF9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlX2Nsb3NlX2J1dHRvbl9jbGljayhldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuaGlkZVRvYXN0KHRydWUpO1xuICB9LFxuICBfaGFuZGxlX3JlbW92ZTogZnVuY3Rpb24gX2hhbmRsZV9yZW1vdmUoKSB7XG4gICAgdGhpcy5wcm9wcy5oYW5kbGVSZW1vdmUodGhpcy5wcm9wcy50b2FzdElkKTtcbiAgfSxcbiAgX3JlbmRlcl9jbG9zZV9idXR0b246IGZ1bmN0aW9uIF9yZW5kZXJfY2xvc2VfYnV0dG9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNsb3NlQnV0dG9uID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInRvYXN0LWNsb3NlLWJ1dHRvblwiLCByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljazogdGhpcy5faGFuZGxlX2Nsb3NlX2J1dHRvbl9jbGljayxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogXCImdGltZXM7XCIgfVxuICAgIH0pIDogZmFsc2U7XG4gIH0sXG4gIF9yZW5kZXJfdGl0bGVfZWxlbWVudDogZnVuY3Rpb24gX3JlbmRlcl90aXRsZV9lbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnRpdGxlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMudGl0bGVDbGFzc05hbWUgfSxcbiAgICAgIHRoaXMucHJvcHMudGl0bGVcbiAgICApIDogZmFsc2U7XG4gIH0sXG4gIF9yZW5kZXJfbWVzc2FnZV9lbGVtZW50OiBmdW5jdGlvbiBfcmVuZGVyX21lc3NhZ2VfZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5tZXNzYWdlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMubWVzc2FnZUNsYXNzTmFtZSB9LFxuICAgICAgdGhpcy5wcm9wcy5tZXNzYWdlXG4gICAgKSA6IGZhbHNlO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IHRoaXMucHJvcHMuaWNvbkNsYXNzTmFtZSB8fCB0aGlzLnByb3BzLmljb25DbGFzc05hbWVzW3RoaXMucHJvcHMudHlwZV07XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkodGhpcy5wcm9wcy5jbGFzc05hbWUsIGljb25DbGFzc05hbWUpLFxuICAgICAgICBzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSxcbiAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVPbkNsaWNrLFxuICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmVcbiAgICAgIH0sXG4gICAgICB0aGlzLl9yZW5kZXJfY2xvc2VfYnV0dG9uKCksXG4gICAgICB0aGlzLl9yZW5kZXJfdGl0bGVfZWxlbWVudCgpLFxuICAgICAgdGhpcy5fcmVuZGVyX21lc3NhZ2VfZWxlbWVudCgpXG4gICAgKTtcbiAgfVxufTtcblxudmFyIGFuaW1hdGlvbiA9IGV4cG9ydHMuYW5pbWF0aW9uID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKCgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKFRvYXN0TWVzc2FnZVNwZWMsIHtcbiAgZGlzcGxheU5hbWU6IHsgJHNldDogXCJUb2FzdE1lc3NhZ2UuYW5pbWF0aW9uXCIgfSxcbiAgbWl4aW5zOiB7ICRzZXQ6IFtfYW5pbWF0aW9uTWl4aW4yLmRlZmF1bHRdIH1cbn0pKTtcblxudmFyIGpRdWVyeSA9IGV4cG9ydHMualF1ZXJ5ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKCgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKFRvYXN0TWVzc2FnZVNwZWMsIHtcbiAgZGlzcGxheU5hbWU6IHsgJHNldDogXCJUb2FzdE1lc3NhZ2UualF1ZXJ5XCIgfSxcbiAgbWl4aW5zOiB7ICRzZXQ6IFtfalF1ZXJ5TWl4aW4yLmRlZmF1bHRdIH1cbn0pKTtcblxuLypcbiAqIGFzc2lnbiBkZWZhdWx0IG5vb3AgZnVuY3Rpb25zXG4gKi9cblRvYXN0TWVzc2FnZVNwZWMuaGFuZGxlTW91c2VFbnRlciA9IG5vb3A7XG5Ub2FzdE1lc3NhZ2VTcGVjLmhhbmRsZU1vdXNlTGVhdmUgPSBub29wO1xuVG9hc3RNZXNzYWdlU3BlYy5oaWRlVG9hc3QgPSBub29wO1xuXG52YXIgVG9hc3RNZXNzYWdlID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKFRvYXN0TWVzc2FnZVNwZWMpO1xuXG5Ub2FzdE1lc3NhZ2UuYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuVG9hc3RNZXNzYWdlLmpRdWVyeSA9IGpRdWVyeTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVG9hc3RNZXNzYWdlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXRvYXN0ci9saWIvVG9hc3RNZXNzYWdlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgncmVhY3QvbGliL3VwZGF0ZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXRvYXN0ci9+L3JlYWN0LWFkZG9ucy11cGRhdGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH1cbiAgICAgIHRocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKVxuICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoZXZsaXN0ZW5lcilcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L2V2ZW50cy9ldmVudHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vcHJvY2Vzcy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgVGFibGVIZWFkZXIgZnJvbSAnLi9UYWJsZUhlYWRlcic7XHJcbmltcG9ydCBUYWJsZUJvZHkgZnJvbSAnLi9UYWJsZUJvZHknO1xyXG5pbXBvcnQgUGFnaW5hdGlvbkxpc3QgZnJvbSAnLi9wYWdpbmF0aW9uL1BhZ2luYXRpb25MaXN0JztcclxuaW1wb3J0IFRvb2xCYXIgZnJvbSAnLi90b29sYmFyL1Rvb2xCYXInO1xyXG5pbXBvcnQgVGFibGVGaWx0ZXIgZnJvbSAnLi9UYWJsZUZpbHRlcic7XHJcbmltcG9ydCB7VGFibGVEYXRhU3RvcmV9IGZyb20gJy4vc3RvcmUvVGFibGVEYXRhU3RvcmUnO1xyXG5pbXBvcnQgZXhwb3J0Q1NWIGZyb20gJy4vY3N2X2V4cG9ydF91dGlsJztcclxuaW1wb3J0IHtGaWx0ZXJ9IGZyb20gJy4vRmlsdGVyJztcclxuXHJcbmNsYXNzIEJvb3RzdHJhcFRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYXR0YWNoQ2VsbEVkaXRGdW5jKCk7XHJcblxyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmRhdGEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgVGFibGVEYXRhU3RvcmUodGhpcy5wcm9wcy5kYXRhLmdldERhdGEoKSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YS5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmRhdGEub24oJ2NoYW5nZScsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnNldERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmdldFRhYmxlRGF0YSgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgY29weSA9IHRoaXMucHJvcHMuZGF0YS5zbGljZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFRhYmxlRGF0YVN0b3JlKGNvcHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0VGFibGUodGhpcy5wcm9wcyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmZpbHRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXIub24oJ29uRmlsdGVyQ2hhbmdlJywgKGN1cnJlbnRGaWx0ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlRmlsdGVyRGF0YShjdXJyZW50RmlsdGVyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cgJiYgdGhpcy5wcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgbGV0IGNvcHkgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZC5zbGljZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KGNvcHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZGF0YTogdGhpcy5nZXRUYWJsZURhdGEoKSxcclxuICAgICAgICAgICAgY3VyclBhZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5wYWdlIHx8IDEsXHJcbiAgICAgICAgICAgIHNpemVQZXJQYWdlOiB0aGlzLnByb3BzLm9wdGlvbnMuc2l6ZVBlclBhZ2UgfHwgQ29uc3QuU0laRV9QRVJfUEFHRV9MSVNUWzBdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRUYWJsZShwcm9wcykge1xyXG4gICAgICAgIGxldCB7a2V5RmllbGR9ID0gcHJvcHM7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzS2V5RmllbGREZWZpbmVkID0gdHlwZW9mIGtleUZpZWxkID09PSAnc3RyaW5nJyAmJiBrZXlGaWVsZC5sZW5ndGg7XHJcbiAgICAgICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgY29sdW1uPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uLnByb3BzLmlzS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5RmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIkVycm9yLiBNdWx0aXBsZSBrZXkgY29sdW1uIGJlIGRldGVjdGVkIGluIFRhYmxlSGVhZGVyQ29sdW1uLlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAga2V5RmllbGQgPSBjb2x1bW4ucHJvcHMuZGF0YUZpZWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4ucHJvcHMuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhIGNvbHVtbiBjb250YWlucyBhIGZpbHRlclxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgY3JlYXRlIHRoZSBmaWx0ZXIgb24gdGhlIEJvb3RzdHJhcFRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSBuZXcgRmlsdGVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwYXNzIHRoZSBmaWx0ZXIgdG8gY29sdW1uIHdpdGggZmlsdGVyXHJcbiAgICAgICAgICAgICAgICBjb2x1bW4ucHJvcHMuZmlsdGVyLmVtaXR0ZXIgPSB0aGlzLmZpbHRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBsZXQgY29sSW5mb3MgPSB0aGlzLmdldENvbHVtbnNEZXNjcmlwdGlvbihwcm9wcykucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHByZXZbY3Vyci5uYW1lXSA9IGN1cnI7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgIH0sIHt9KTtcclxuXHJcbiAgICAgICAgaWYgKCFpc0tleUZpZWxkRGVmaW5lZCAmJiAha2V5RmllbGQpXHJcbiAgICAgICAgICAgIHRocm93IGBFcnJvci4gTm8gYW55IGtleSBjb2x1bW4gZGVmaW5lZCBpbiBUYWJsZUhlYWRlckNvbHVtbi5cclxuICAgICAgICAgICAgVXNlICdpc0tleT17dHJ1ZX0nIHRvIHNwZWNpZnkgYSB1bmlxdWUgY29sdW1uIGFmdGVyIHZlcnNpb24gMC41LjQuYDtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9yZS5zZXRQcm9wcyh7XHJcbiAgICAgICAgICAgIGlzUGFnaW5hdGlvbjogcHJvcHMucGFnaW5hdGlvbixcclxuICAgICAgICAgICAga2V5RmllbGQ6IGtleUZpZWxkLFxyXG4gICAgICAgICAgICBjb2xJbmZvczogY29sSW5mb3MsXHJcbiAgICAgICAgICAgIG11bHRpQ29sdW1uU2VhcmNoOiBwcm9wcy5tdWx0aUNvbHVtblNlYXJjaCxcclxuICAgICAgICAgICAgcmVtb3RlOiB0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFibGVEYXRhKCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5zb3J0TmFtZSAmJiB0aGlzLnByb3BzLm9wdGlvbnMuc29ydE9yZGVyKVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNvcnQodGhpcy5wcm9wcy5vcHRpb25zLnNvcnRPcmRlciwgdGhpcy5wcm9wcy5vcHRpb25zLnNvcnROYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICBsZXQgcGFnZSwgc2l6ZVBlclBhZ2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlLmlzQ2hhbmdlZFBhZ2UoKSkge1xyXG4gICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2UgPSB0aGlzLnN0YXRlLnNpemVQZXJQYWdlO1xyXG4gICAgICAgICAgICAgICAgcGFnZSA9IHRoaXMuc3RhdGUuY3VyclBhZ2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzaXplUGVyUGFnZSA9IHRoaXMucHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZSB8fCBDb25zdC5TSVpFX1BFUl9QQUdFX0xJU1RbMF07XHJcbiAgICAgICAgICAgICAgICBwYWdlID0gdGhpcy5wcm9wcy5vcHRpb25zLnBhZ2UgfHwgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UocGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29sdW1uc0Rlc2NyaXB0aW9uKHsgY2hpbGRyZW4gfSkge1xyXG4gICAgICAgIHJldHVybiBjaGlsZHJlbi5tYXAoKGNvbHVtbiwgaSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogY29sdW1uLnByb3BzLmRhdGFGaWVsZCxcclxuICAgICAgICAgICAgICAgIGFsaWduOiBjb2x1bW4ucHJvcHMuZGF0YUFsaWduLFxyXG4gICAgICAgICAgICAgICAgc29ydDogY29sdW1uLnByb3BzLmRhdGFTb3J0LFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBjb2x1bW4ucHJvcHMuZGF0YUZvcm1hdCxcclxuICAgICAgICAgICAgICAgIGZvcm1hdEV4dHJhRGF0YTogY29sdW1uLnByb3BzLmZvcm1hdEV4dHJhRGF0YSxcclxuICAgICAgICAgICAgICAgIGZpbHRlckZvcm1hdHRlZDogY29sdW1uLnByb3BzLmZpbHRlckZvcm1hdHRlZCxcclxuICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBjb2x1bW4ucHJvcHMuZWRpdGFibGUsXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IGNvbHVtbi5wcm9wcy5oaWRkZW4sXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbHVtbi5wcm9wcy5jb2x1bW5DbGFzc05hbWUsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogY29sdW1uLnByb3BzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogY29sdW1uLnByb3BzLmNoaWxkcmVuLFxyXG4gICAgICAgICAgICAgICAgc29ydEZ1bmM6IGNvbHVtbi5wcm9wcy5zb3J0RnVuYyxcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgICAgICB0aGlzLmluaXRUYWJsZShuZXh0UHJvcHMpO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRQcm9wcy5kYXRhKSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNldERhdGEobmV4dFByb3BzLmRhdGEuc2xpY2UoKSk7XHJcbiAgICAgICAgICAgIGxldCBwYWdpbmF0aW9uRG9tID0gdGhpcy5yZWZzLnBhZ2luYXRpb247XHJcbiAgICAgICAgICAgIGxldCBwYWdlID0gcGFnaW5hdGlvbkRvbSAmJiBwYWdpbmF0aW9uRG9tLmdldEN1cnJlbnRQYWdlKCkgfHwgbmV4dFByb3BzLm9wdGlvbnMucGFnZSB8fCAxO1xyXG4gICAgICAgICAgICBsZXQgc2l6ZVBlclBhZ2UgPSBwYWdpbmF0aW9uRG9tICYmIHBhZ2luYXRpb25Eb20uZ2V0U2l6ZVBlclBhZ2UoKSB8fCBuZXh0UHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZSB8fCBDb25zdC5TSVpFX1BFUl9QQUdFX0xJU1RbMF07XHJcbiAgICAgICAgICAgIC8vICMxMjVcclxuICAgICAgICAgICAgaWYgKHBhZ2UgPiBNYXRoLmNlaWwobmV4dFByb3BzLmRhdGEubGVuZ3RoIC8gc2l6ZVBlclBhZ2UpKSBwYWdlID0gMTtcclxuICAgICAgICAgICAgbGV0IHNvcnRJbmZvID0gdGhpcy5zdG9yZS5nZXRTb3J0SW5mbygpO1xyXG4gICAgICAgICAgICBsZXQgc29ydEZpZWxkID0gbmV4dFByb3BzLm9wdGlvbnMuc29ydE5hbWUgfHwgKHNvcnRJbmZvID8gc29ydEluZm8uc29ydEZpZWxkIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgbGV0IHNvcnRPcmRlciA9IG5leHRQcm9wcy5vcHRpb25zLnNvcnRPcmRlciB8fCAoc29ydEluZm8gPyBzb3J0SW5mby5vcmRlciA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIGlmIChzb3J0RmllbGQgJiYgc29ydE9yZGVyKSB0aGlzLnN0b3JlLnNvcnQoc29ydE9yZGVyLCBzb3J0RmllbGQpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgIGN1cnJQYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2U6IHNpemVQZXJQYWdlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV4dFByb3BzLnNlbGVjdFJvdyAmJiBuZXh0UHJvcHMuc2VsZWN0Um93LnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIC8vc2V0IGRlZmF1bHQgc2VsZWN0IHJvd3MgdG8gc3RvcmUuXHJcbiAgICAgICAgICAgIGxldCBjb3B5ID0gbmV4dFByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZC5zbGljZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KGNvcHkpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogY29weVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGgoKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGgpO1xyXG4gICAgICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3Njcm9sbEhlYWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKTtcclxuICAgICAgICB0aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zY3JvbGxIZWFkZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmZpbHRlcikge1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJvbkZpbHRlckNoYW5nZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKCk7XHJcbiAgICAgICAgdGhpcy5fYXR0YWNoQ2VsbEVkaXRGdW5jKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUpXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBfYXR0YWNoQ2VsbEVkaXRGdW5jKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2VsbEVkaXQuX19vbkNvbXBsZXRlRWRpdF9fID0gdGhpcy5oYW5kbGVFZGl0Q2VsbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlICE9PSBDb25zdC5DRUxMX0VESVRfTk9ORSlcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3QgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgaW4gdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbixcclxuICAgICAqIHRoZSBkYXRhZ3JpZCBzaG91bGQgbG9hZCBpdHMgZGF0YSByZW1vdGVseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbcHJvcHNdIE9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sIHRoaXMucHJvcHMgd2lsbCBiZSB1c2VkXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBpc1JlbW90ZURhdGFTb3VyY2UocHJvcHMpIHtcclxuICAgICAgICByZXR1cm4gKHByb3BzIHx8IHRoaXMucHJvcHMpLnJlbW90ZTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIHZhciB0YWJsZUNsYXNzID0gY2xhc3NTZXQoXCJyZWFjdC1icy10YWJsZVwiKTtcclxuICAgICAgICB2YXIgY2hpbGRyZW5zID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgc3R5bGUgPSB7XHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5wcm9wcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIG1heEhlaWdodDogdGhpcy5wcm9wcy5tYXhIZWlnaHRcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbnMgPSBbdGhpcy5wcm9wcy5jaGlsZHJlbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5nZXRDb2x1bW5zRGVzY3JpcHRpb24odGhpcy5wcm9wcyk7XHJcbiAgICAgICAgdmFyIHNvcnRJbmZvID0gdGhpcy5zdG9yZS5nZXRTb3J0SW5mbygpO1xyXG4gICAgICAgIHZhciBwYWdpbmF0aW9uID0gdGhpcy5yZW5kZXJQYWdpbmF0aW9uKCk7XHJcbiAgICAgICAgdmFyIHRvb2xCYXIgPSB0aGlzLnJlbmRlclRvb2xCYXIoKTtcclxuICAgICAgICB2YXIgdGFibGVGaWx0ZXIgPSB0aGlzLnJlbmRlclRhYmxlRmlsdGVyKGNvbHVtbnMpO1xyXG4gICAgICAgIHZhciBpc1NlbGVjdEFsbCA9IHRoaXMuaXNTZWxlY3RBbGwoKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlYWN0LWJzLWNvbnRhaW5lclwiIHJlZj1cInRhYmxlXCI+XHJcbiAgICAgICAgICAgICAgICB7dG9vbEJhcn1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVhY3QtYnMtdGFibGUtY29udGFpbmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXt0aGlzLmhhbmRsZU1vdXNlRW50ZXIuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXt0aGlzLmhhbmRsZU1vdXNlTGVhdmUuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVIZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwiaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93U2VsZWN0VHlwZT17dGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVNlbGVjdENvbHVtbj17dGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydE5hbWU9e3NvcnRJbmZvID8gc29ydEluZm8uc29ydEZpZWxkIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0T3JkZXI9e3NvcnRJbmZvID8gc29ydEluZm8ub3JkZXIgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydD17dGhpcy5oYW5kbGVTb3J0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0QWxsUm93PXt0aGlzLmhhbmRsZVNlbGVjdEFsbFJvdy5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJlZD17dGhpcy5wcm9wcy5ib3JkZXJlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGVuc2VkPXt0aGlzLnByb3BzLmNvbmRlbnNlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGaWx0ZXJlZD17dGhpcy5maWx0ZXIgPyB0cnVlIDogZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlSUQ9e3RoaXMucHJvcHMudGFibGVJRH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RBbGw9e2lzU2VsZWN0QWxsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUhlYWRlcj5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVCb2R5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17dGhpcy5wcm9wcy5oZWlnaHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodD17dGhpcy5wcm9wcy5tYXhIZWlnaHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cImJvZHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXt0aGlzLnN0YXRlLmRhdGF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyQ2xhc3NOYW1lPXt0aGlzLnByb3BzLnRyQ2xhc3NOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVkPXt0aGlzLnByb3BzLnN0cmlwZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcmVkPXt0aGlzLnByb3BzLmJvcmRlcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3Zlcj17dGhpcy5wcm9wcy5ob3Zlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5RmllbGQ9e3RoaXMuc3RvcmUuZ2V0S2V5RmllbGQoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGVuc2VkPXt0aGlzLnByb3BzLmNvbmRlbnNlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0Um93PXt0aGlzLnByb3BzLnNlbGVjdFJvd31cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEVkaXQ9e3RoaXMucHJvcHMuY2VsbEVkaXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cz17dGhpcy5zdGF0ZS5zZWxlY3RlZFJvd0tleXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUm93Q2xpY2s9e3RoaXMuaGFuZGxlUm93Q2xpY2suYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Sb3dNb3VzZU92ZXI9e3RoaXMuaGFuZGxlUm93TW91c2VPdmVyLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUm93TW91c2VPdXQ9e3RoaXMuaGFuZGxlUm93TW91c2VPdXQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RSb3c9e3RoaXMuaGFuZGxlU2VsZWN0Um93LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vRGF0YVRleHQ9e3RoaXMucHJvcHMub3B0aW9ucy5ub0RhdGFUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHt0YWJsZUZpbHRlcn1cclxuICAgICAgICAgICAgICAgIHtwYWdpbmF0aW9ufVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaXNTZWxlY3RBbGwoKSB7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3RSb3dLZXlzID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKTtcclxuICAgICAgICB2YXIgYWxsUm93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0QWxsUm93a2V5KCk7XHJcbiAgICAgICAgaWYgKGRlZmF1bHRTZWxlY3RSb3dLZXlzLmxlbmd0aCAhPT0gYWxsUm93S2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWxlY3RSb3dLZXlzLmxlbmd0aCA9PT0gMCA/IGZhbHNlIDogJ2luZGV0ZXJtaW5hdGUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGVhblNlbGVjdGVkKCkge1xyXG4gICAgICAgIHRoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoW10pO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU29ydChvcmRlciwgc29ydEZpZWxkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblNvcnRDaGFuZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uU29ydENoYW5nZShzb3J0RmllbGQsIG9yZGVyLCB0aGlzLnByb3BzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnN0b3JlLnNvcnQob3JkZXIsIHNvcnRGaWVsZCkuZ2V0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVBhZ2luYXRpb25EYXRhKHBhZ2UsIHNpemVQZXJQYWdlKSB7XHJcbiAgICAgICAgY29uc3Qge29uUGFnZUNoYW5nZX0gPSB0aGlzLnByb3BzLm9wdGlvbnM7XHJcbiAgICAgICAgaWYgKG9uUGFnZUNoYW5nZSkge1xyXG4gICAgICAgICAgICBvblBhZ2VDaGFuZ2UocGFnZSwgc2l6ZVBlclBhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZW1vdGVEYXRhU291cmNlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgY3VyclBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgIHNpemVQZXJQYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTW91c2VMZWF2ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uTW91c2VMZWF2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUxlYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZU1vdXNlRW50ZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlRW50ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uTW91c2VFbnRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVSb3dNb3VzZU91dChyb3cpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdXQocm93KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUm93TW91c2VPdmVyKHJvdykge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU92ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdmVyKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVJvd0NsaWNrKHJvdykge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dDbGljaykge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dDbGljayhyb3cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTZWxlY3RBbGxSb3coZSkge1xyXG4gICAgICAgIHZhciBpc1NlbGVjdGVkID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkUm93S2V5cyA9IFtdO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdEFsbCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdEFsbChpc1NlbGVjdGVkLFxyXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA/IHRoaXMuc3RvcmUuZ2V0KCkgOiBbXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcgfHwgcmVzdWx0ICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gdGhpcy5zdG9yZS5nZXRBbGxSb3drZXkoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShzZWxlY3RlZFJvd0tleXMpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogc2VsZWN0ZWRSb3dLZXlzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTaG93T25seVNlbGVjdGVkKCkge1xyXG4gICAgICAgIHRoaXMuc3RvcmUuaWdub3JlTm9uU2VsZWN0ZWQoKTtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgICAgIGN1cnJQYWdlOiAxLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlbGVjdFJvdyhyb3csIGlzU2VsZWN0ZWQpIHtcclxuICAgICAgICBsZXQgY3VyclNlbGVjdGVkID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKTtcclxuICAgICAgICBsZXQgcm93S2V5ID0gcm93W3RoaXMuc3RvcmUuZ2V0S2V5RmllbGQoKV07XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0KHJvdywgaXNTZWxlY3RlZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcgfHwgcmVzdWx0ICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PT0gQ29uc3QuUk9XX1NFTEVDVF9TSU5HTEUpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJTZWxlY3RlZCA9IGlzU2VsZWN0ZWQgPyBbcm93S2V5XSA6IFtdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJTZWxlY3RlZC5wdXNoKHJvd0tleSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJTZWxlY3RlZCA9IGN1cnJTZWxlY3RlZC5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93S2V5ICE9PSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoY3VyclNlbGVjdGVkKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IGN1cnJTZWxlY3RlZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRWRpdENlbGwobmV3VmFsLCByb3dJbmRleCwgY29sSW5kZXgpIHtcclxuICAgICAgICBsZXQgZmllbGROYW1lO1xyXG4gICAgICAgIFJlYWN0LkNoaWxkcmVuLmZvckVhY2godGhpcy5wcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA9PSBjb2xJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgZmllbGROYW1lID0gY29sdW1uLnByb3BzLmRhdGFGaWVsZDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5zdG9yZS5lZGl0KG5ld1ZhbCwgcm93SW5kZXgsIGZpZWxkTmFtZSkuZ2V0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5hZnRlclNhdmVDZWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2VsbEVkaXQuYWZ0ZXJTYXZlQ2VsbCh0aGlzLnN0YXRlLmRhdGFbcm93SW5kZXhdLCBmaWVsZE5hbWUsIG5ld1ZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUFkZFJvd0JlZ2luKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnMuYm9keSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLnJlZnMuYm9keS5jYW5jZWxFZGl0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUFkZFJvdyhuZXdPYmopIHtcclxuICAgICAgICBsZXQgbXNnID0gbnVsbCwgcmVzdWx0O1xyXG4gICAgICAgIGxldCBiZWZvcmVQcm9taXNlID0gdGhpcy5wcm9wcy5vcHRpb25zLmJlZm9yZUluc2VydFJvdyA/IHRoaXMucHJvcHMub3B0aW9ucy5iZWZvcmVJbnNlcnRSb3cobmV3T2JqKSA6IG5ld09ialxyXG5cclxuICAgICAgICAvL2V4ZWN1dGUgYmVmb3JlIGFkZCByb3dcclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShiZWZvcmVQcm9taXNlKS50aGVuKChtc2cpPT4ge1xyXG4gICAgICAgICAgICBuZXdPYmogPSBtc2dcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuYWRkKG5ld09iaik7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvL2lmIHBhZ2luYXRpb24gaXMgZW5hYmxlZCBhbmQgaW5zZXJ0IHJvdyBiZSB0cmlnZ2VyLCBjaGFuZ2UgdG8gbGFzdCBwYWdlXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNpemVQZXJQYWdlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3Vyckxhc3RQYWdlID0gTWF0aC5jZWlsKHRoaXMuc3RvcmUuZ2V0RGF0YU51bSgpIC8gc2l6ZVBlclBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKGN1cnJMYXN0UGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQYWdlOiBjdXJyTGFzdFBhZ2UsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmFmdGVySW5zZXJ0Um93KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJJbnNlcnRSb3cobmV3T2JqKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KS50aGVuKChyKT0+IHtcclxuICAgICAgICAgICAgaWYgKCFyLm9rKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goKGUpPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5qc29uKClcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRTaXplUGVyUGFnZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50UGFnZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyUGFnZTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEcm9wUm93KHJvd0tleXMpIHtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGRyb3BSb3dLZXlzID0gcm93S2V5cyA/IHJvd0tleXMgOiB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO1xyXG4gICAgICAgIC8vYWRkIGNvbmZpcm0gYmVmb3JlIHRoZSBkZWxldGUgYWN0aW9uIGlmIHRoYXQgb3B0aW9uIGlzIHNldC5cclxuICAgICAgICBpZiAoZHJvcFJvd0tleXMgJiYgZHJvcFJvd0tleXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmhhbmRsZUNvbmZpcm1EZWxldGVSb3cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5oYW5kbGVDb25maXJtRGVsZXRlUm93KFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5kZWxldGVSb3coZHJvcFJvd0tleXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHdhbnQgZGVsZXRlPycpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlUm93KGRyb3BSb3dLZXlzKSB7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5yZW1vdmUoZHJvcFJvd0tleXMpOyAgLy9yZW1vdmUgc2VsZWN0ZWQgUm93XHJcbiAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShbXSk7ICAvL2NsZWFyIHNlbGVjdGVkIHJvdyBrZXlcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCB7IHNpemVQZXJQYWdlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgICAgICBsZXQgeyBjdXJyUGFnZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICAgICAgbGV0IGN1cnJMYXN0UGFnZSA9IE1hdGguY2VpbCh0aGlzLnN0b3JlLmdldERhdGFOdW0oKSAvIHNpemVQZXJQYWdlKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJQYWdlID4gY3Vyckxhc3RQYWdlKVxyXG4gICAgICAgICAgICAgICAgY3VyclBhZ2UgPSBjdXJyTGFzdFBhZ2U7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShjdXJyUGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKSxcclxuICAgICAgICAgICAgICAgIGN1cnJQYWdlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyRGVsZXRlUm93KSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVGaWx0ZXJEYXRhKGZpbHRlck9iaikge1xyXG4gICAgICAgIHRoaXMuc3RvcmUuZmlsdGVyKGZpbHRlck9iaik7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2l6ZVBlclBhZ2UgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZSgxLCBzaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckNvbHVtbkZpbHRlcilcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyQ29sdW1uRmlsdGVyKGZpbHRlck9iaixcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBjdXJyUGFnZTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUV4cG9ydENTVigpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCk7XHJcbiAgICAgICAgdmFyIGtleXMgPSBbXTtcclxuICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4ucHJvcHMuaGlkZGVuID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGNvbHVtbi5wcm9wcy5kYXRhRmllbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZXhwb3J0Q1NWKHJlc3VsdCwga2V5cywgdGhpcy5wcm9wcy5jc3ZGaWxlTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VhcmNoKHNlYXJjaFRleHQpIHtcclxuICAgICAgICB0aGlzLnN0b3JlLnNlYXJjaChzZWFyY2hUZXh0KTtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgeyBzaXplUGVyUGFnZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHNpemVQZXJQYWdlKS5nZXQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyU2VhcmNoKVxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJTZWFyY2goc2VhcmNoVGV4dCwgdGhpcy5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgICAgIGN1cnJQYWdlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUGFnaW5hdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhU2l6ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSZW1vdGVEYXRhU291cmNlKCkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFTaXplID0gdGhpcy5wcm9wcy5mZXRjaEluZm8uZGF0YVRvdGFsU2l6ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFTaXplID0gdGhpcy5zdG9yZS5nZXREYXRhTnVtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtZm9vdGVyLXBhZ2luYXRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8UGFnaW5hdGlvbkxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwicGFnaW5hdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJQYWdlPXsgdGhpcy5zdGF0ZS5jdXJyUGFnZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVBhZ2U9e3RoaXMuaGFuZGxlUGFnaW5hdGlvbkRhdGEuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2U9eyB0aGlzLnN0YXRlLnNpemVQZXJQYWdlIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2VMaXN0PXt0aGlzLnByb3BzLm9wdGlvbnMuc2l6ZVBlclBhZ2VMaXN0IHx8IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvblNpemU9e3RoaXMucHJvcHMub3B0aW9ucy5wYWdpbmF0aW9uU2l6ZSB8fCBDb25zdC5QQUdJTkFUSU9OX1NJWkV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZT17dGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNpemU9e2RhdGFTaXplfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNpemVQZXJQYWdlTGlzdD17dGhpcy5wcm9wcy5vcHRpb25zLm9uU2l6ZVBlclBhZ2VMaXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVQYWdlPXt0aGlzLnByb3BzLm9wdGlvbnMucHJlUGFnZSB8fCBDb25zdC5QUkVfUEFHRX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBhZ2U9e3RoaXMucHJvcHMub3B0aW9ucy5uZXh0UGFnZSB8fCBDb25zdC5ORVhUX1BBR0V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UGFnZT17dGhpcy5wcm9wcy5vcHRpb25zLmZpcnN0UGFnZSB8fCBDb25zdC5GSVJTVF9QQUdFfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UGFnZT17dGhpcy5wcm9wcy5vcHRpb25zLmxhc3RQYWdlIHx8IENvbnN0LkxBU1RfUEFHRX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRvb2xCYXIoKSB7XHJcbiAgICAgICAgbGV0IGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQgPSB0aGlzLnByb3BzLnNlbGVjdFJvdyAmJiB0aGlzLnByb3BzLnNlbGVjdFJvdy5zaG93T25seVNlbGVjdGVkO1xyXG4gICAgICAgIGlmIChlbmFibGVTaG93T25seVNlbGVjdGVkXHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuaW5zZXJ0Um93XHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuZGVsZXRlUm93XHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuc2VhcmNoXHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuZXhwb3J0Q1NWKSB7XHJcbiAgICAgICAgICAgIGxldCBjb2x1bW5zO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgY29sdW1ucyA9IHRoaXMucHJvcHMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBjb2x1bW4ucHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvcHMuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBwcm9wcy5kYXRhRmllbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2hlbiB5b3Ugd2FudCBzYW1lIGF1dG8gZ2VuZXJhdGUgdmFsdWUgYW5kIG5vdCBhbGxvdyBlZGl0LCBleGFtcGxlIElEIGZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9WYWx1ZTogcHJvcHMuYXV0b1ZhbHVlIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBjcmVhdGUgZWRpdG9yLCBubyBwYXJhbXMgZm9yIGNvbHVtbi5lZGl0YWJsZSgpIGluZGljYXRlIHRoYXQgZWRpdG9yIGZvciBuZXcgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBwcm9wcy5lZGl0YWJsZSAmJiAodHlwZW9mIHByb3BzLmVkaXRhYmxlID09PSBcImZ1bmN0aW9uXCIpID8gcHJvcHMuZWRpdGFibGUoKSA6IHByb3BzLmVkaXRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW5JblBvcHVwOiBwcm9wcy5oaWRkZW5JblBvcHVwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHByb3BzLmRhdGFGb3JtYXQgPyBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5kYXRhRm9ybWF0KHZhbHVlLCBudWxsLCBwcm9wcy5mb3JtYXRFeHRyYURhdGEpLnJlcGxhY2UoLzwuKj8+L2csICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29sdW1ucyA9IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5jaGlsZHJlbixcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5kYXRhRmllbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuZWRpdGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuSW5Qb3B1cDogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5oaWRkZW5JblBvcHVwXHJcbiAgICAgICAgICAgICAgICB9XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sLWJhclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUb29sQmFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyU2VhcmNoPXt0aGlzLnByb3BzLm9wdGlvbnMuY2xlYXJTZWFyY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUluc2VydD17dGhpcy5wcm9wcy5pbnNlcnRSb3d9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZURlbGV0ZT17dGhpcy5wcm9wcy5kZWxldGVSb3d9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVNlYXJjaD17dGhpcy5wcm9wcy5zZWFyY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUV4cG9ydENTVj17dGhpcy5wcm9wcy5leHBvcnRDU1Z9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQ9e2VuYWJsZVNob3dPbmx5U2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnNlYXJjaFBsYWNlaG9sZGVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFkZFJvdz17dGhpcy5oYW5kbGVBZGRSb3cuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25BZGRSb3dCZWdpbj17dGhpcy5oYW5kbGVBZGRSb3dCZWdpbi5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyb3BSb3c9e3RoaXMuaGFuZGxlRHJvcFJvdy5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17dGhpcy5oYW5kbGVTZWFyY2guYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25FeHBvcnRDU1Y9e3RoaXMuaGFuZGxlRXhwb3J0Q1NWLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2hvd09ubHlTZWxlY3RlZD17dGhpcy5oYW5kbGVTaG93T25seVNlbGVjdGVkLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRhYmxlRmlsdGVyKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jb2x1bW5GaWx0ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxUYWJsZUZpbHRlciBjb2x1bW5zPXtjb2x1bW5zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1NlbGVjdFR5cGU9e3RoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25GaWx0ZXI9e3RoaXMuaGFuZGxlRmlsdGVyRGF0YS5iaW5kKHRoaXMpfS8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zY3JvbGxIZWFkZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVmcy5oZWFkZXIucmVmcy5jb250YWluZXIuc2Nyb2xsTGVmdCA9IGUuY3VycmVudFRhcmdldC5zY3JvbGxMZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIF9hZGp1c3RIZWFkZXJXaWR0aCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgdGFibGVIZWFkZXJEb20gPSB0aGlzLnJlZnMuaGVhZGVyLnJlZnMuY29udGFpbmVyLmNoaWxkTm9kZXNbMF07XHJcbiAgICAgICAgdmFyIHRhYmxlQm9keURvbSA9IHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmNoaWxkTm9kZXNbMF07XHJcbiAgICAgICAgaWYgKHRhYmxlSGVhZGVyRG9tLm9mZnNldFdpZHRoICE9PSB0YWJsZUJvZHlEb20ub2Zmc2V0V2lkdGgpIHtcclxuICAgICAgICAgICAgdGFibGVIZWFkZXJEb20uc3R5bGUud2lkdGggPSB0YWJsZUJvZHlEb20ub2Zmc2V0V2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhlYWRlclByb3BzID0gdGhpcy5yZWZzLmJvZHkuZ2V0Qm9keUhlYWRlckRvbVByb3AoKTtcclxuICAgICAgICB0aGlzLnJlZnMuaGVhZGVyLmZpdEhlYWRlcihoZWFkZXJQcm9wcyxcclxuICAgICAgICAgICAgdGhpcy5yZWZzLmJvZHkucmVmcy5jb250YWluZXIuc2Nyb2xsSGVpZ2h0ID4gdGhpcy5yZWZzLmJvZHkucmVmcy5jb250YWluZXIuY2xpZW50SGVpZ2h0KTtcclxuICAgIH1cclxufVxyXG5cclxuQm9vdHN0cmFwVGFibGUucHJvcFR5cGVzID0ge1xyXG4gICAga2V5RmllbGQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBoZWlnaHQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBtYXhIZWlnaHQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICB0YWJsZUlEOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgZGF0YTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbUmVhY3QuUHJvcFR5cGVzLmFycmF5LCBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XSksXHJcbiAgICByZW1vdGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLCAvLyByZW1vdGUgZGF0YSwgZGVmYXVsdCBpcyBmYWxzZVxyXG4gICAgc3RyaXBlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBib3JkZXJlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBob3ZlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBjb25kZW5zZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgcGFnaW5hdGlvbjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBzZWFyY2hQbGFjZWhvbGRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIHNlbGVjdFJvdzogUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgICAgICBtb2RlOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoW1xyXG4gICAgICAgICAgICBDb25zdC5ST1dfU0VMRUNUX05PTkUsXHJcbiAgICAgICAgICAgIENvbnN0LlJPV19TRUxFQ1RfU0lOR0xFLFxyXG4gICAgICAgICAgICBDb25zdC5ST1dfU0VMRUNUX01VTFRJXHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgYmdDb2xvcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBzZWxlY3RlZDogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgICAgIG9uU2VsZWN0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBvblNlbGVjdEFsbDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgY2xpY2tUb1NlbGVjdDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgaGlkZVNlbGVjdENvbHVtbjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgICAgICBzaG93T25seVNlbGVjdGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxyXG4gICAgfSksXHJcbiAgICBjZWxsRWRpdDogUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgICAgICBtb2RlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGJsdXJUb1NhdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIGFmdGVyU2F2ZUNlbGw6IFJlYWN0LlByb3BUeXBlcy5mdW5jXHJcbiAgICB9KSxcclxuICAgIGluc2VydFJvdzogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBkZWxldGVSb3c6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgc2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGNvbHVtbkZpbHRlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICB0ckNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLmFueSxcclxuICAgIG9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgYmVmb3JlSW5zZXJ0Um93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBjbGVhclNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgc29ydE5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgc29ydE9yZGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGFmdGVyVGFibGVDb21wbGV0ZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgYWZ0ZXJEZWxldGVSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIGFmdGVySW5zZXJ0Um93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBhZnRlclNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgYWZ0ZXJDb2x1bW5GaWx0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIG9uUm93Q2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIHBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICAgICAgc2l6ZVBlclBhZ2VMaXN0OiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgICAgICAgc2l6ZVBlclBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICAgICAgcGFnaW5hdGlvblNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICAgICAgb25Tb3J0Q2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBvblBhZ2VDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIG9uU2l6ZVBlclBhZ2VMaXN0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBub0RhdGFUZXh0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGhhbmRsZUNvbmZpcm1EZWxldGVSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIHByZVBhZ2U6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgbmV4dFBhZ2U6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgZmlyc3RQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGxhc3RQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXHJcbiAgICB9KSxcclxuICAgIGZldGNoSW5mbzogUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgICAgICBkYXRhVG90YWxTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgfSksXHJcbiAgICBleHBvcnRDU1Y6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgY3N2RmlsZU5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbkJvb3RzdHJhcFRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICBtYXhIZWlnaHQ6IHVuZGVmaW5lZCxcclxuICAgIHRhYmxlSUQ6IHVuZGVmaW5lZCxcclxuICAgIHN0cmlwZWQ6IGZhbHNlLFxyXG4gICAgYm9yZGVyZWQ6IHRydWUsXHJcbiAgICBob3ZlcjogZmFsc2UsXHJcbiAgICBjb25kZW5zZWQ6IGZhbHNlLFxyXG4gICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICBzZWFyY2hQbGFjZWhvbGRlcjogdW5kZWZpbmVkLFxyXG4gICAgc2VsZWN0Um93OiB7XHJcbiAgICAgICAgbW9kZTogQ29uc3QuUk9XX1NFTEVDVF9OT05FLFxyXG4gICAgICAgIGJnQ29sb3I6IENvbnN0LlJPV19TRUxFQ1RfQkdfQ09MT1IsXHJcbiAgICAgICAgc2VsZWN0ZWQ6IFtdLFxyXG4gICAgICAgIG9uU2VsZWN0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgb25TZWxlY3RBbGw6IHVuZGVmaW5lZCxcclxuICAgICAgICBjbGlja1RvU2VsZWN0OiBmYWxzZSxcclxuICAgICAgICBoaWRlU2VsZWN0Q29sdW1uOiBmYWxzZSxcclxuICAgICAgICBjbGlja1RvU2VsZWN0QW5kRWRpdENlbGw6IGZhbHNlLFxyXG4gICAgICAgIHNob3dPbmx5U2VsZWN0ZWQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgY2VsbEVkaXQ6IHtcclxuICAgICAgICBtb2RlOiBDb25zdC5DRUxMX0VESVRfTk9ORSxcclxuICAgICAgICBibHVyVG9TYXZlOiBmYWxzZSxcclxuICAgICAgICBhZnRlclNhdmVDZWxsOiB1bmRlZmluZWRcclxuICAgIH0sXHJcbiAgICBpbnNlcnRSb3c6IGZhbHNlLFxyXG4gICAgZGVsZXRlUm93OiBmYWxzZSxcclxuICAgIHNlYXJjaDogZmFsc2UsXHJcbiAgICBtdWx0aUNvbHVtblNlYXJjaDogZmFsc2UsXHJcbiAgICBjb2x1bW5GaWx0ZXI6IGZhbHNlLFxyXG4gICAgdHJDbGFzc05hbWU6ICcnLFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICAgIGNsZWFyU2VhcmNoOiBmYWxzZSxcclxuICAgICAgICBzb3J0TmFtZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIHNvcnRPcmRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFmdGVyVGFibGVDb21wbGV0ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFmdGVyRGVsZXRlUm93OiB1bmRlZmluZWQsXHJcbiAgICAgICAgYWZ0ZXJJbnNlcnRSb3c6IHVuZGVmaW5lZCxcclxuICAgICAgICBhZnRlclNlYXJjaDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFmdGVyQ29sdW1uRmlsdGVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgb25Sb3dDbGljazogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uTW91c2VMZWF2ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uTW91c2VFbnRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uUm93TW91c2VPdXQ6IHVuZGVmaW5lZCxcclxuICAgICAgICBvblJvd01vdXNlT3ZlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIHBhZ2U6IHVuZGVmaW5lZCxcclxuICAgICAgICBzaXplUGVyUGFnZUxpc3Q6IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVCxcclxuICAgICAgICBzaXplUGVyUGFnZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIHBhZ2luYXRpb25TaXplOiBDb25zdC5QQUdJTkFUSU9OX1NJWkUsXHJcbiAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q6IHVuZGVmaW5lZCxcclxuICAgICAgICBub0RhdGFUZXh0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgaGFuZGxlQ29uZmlybURlbGV0ZVJvdzogdW5kZWZpbmVkLFxyXG4gICAgICAgIHByZVBhZ2U6IENvbnN0LlBSRV9QQUdFLFxyXG4gICAgICAgIG5leHRQYWdlOiBDb25zdC5ORVhUX1BBR0UsXHJcbiAgICAgICAgZmlyc3RQYWdlOiBDb25zdC5GSVJTVF9QQUdFLFxyXG4gICAgICAgIGxhc3RQYWdlOiBDb25zdC5MQVNUX1BBR0VcclxuICAgIH0sXHJcbiAgICBmZXRjaEluZm86IHtcclxuICAgICAgICBkYXRhVG90YWxTaXplOiAwLFxyXG4gICAgfSxcclxuICAgIGV4cG9ydENTVjogZmFsc2UsXHJcbiAgICBjc3ZGaWxlTmFtZTogdW5kZWZpbmVkXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCb290c3RyYXBUYWJsZTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvQm9vdHN0cmFwVGFibGUuanNcbiAqKi8iLCJpbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsdGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXIgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVGaWx0ZXIoZGF0YUZpZWxkLCB2YWx1ZSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IGZpbHRlclR5cGUgPSB0eXBlIHx8IENvbnN0LkZJTFRFUl9UWVBFLkNVU1RPTTtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAvLyB2YWx1ZSBvZiB0aGUgZmlsdGVyIGlzIGFuIG9iamVjdFxyXG4gICAgICAgICAgICBsZXQgaGFzVmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlW3Byb3BdIHx8IHZhbHVlW3Byb3BdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGlzIHVuZGVmaW5lZCBvciBlbXB0eSwgd2UgcmVtb3ZlIHRoZSBmaWx0ZXJcclxuICAgICAgICAgICAgKGhhc1ZhbHVlKSA/IHRoaXMuY3VycmVudEZpbHRlcltkYXRhRmllbGRdID0ge3ZhbHVlOiB2YWx1ZSwgdHlwZTogZmlsdGVyVHlwZX0gOiBkZWxldGUgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF07XHJcbiAgICAgICAgfSBlbHNlIGlmICghdmFsdWUgfHwgdmFsdWUudHJpbSgpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXSA9IHt2YWx1ZTogdmFsdWUudHJpbSgpLCB0eXBlOiBmaWx0ZXJUeXBlfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbWl0KCdvbkZpbHRlckNoYW5nZScsIHRoaXMuY3VycmVudEZpbHRlcik7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvRmlsdGVyLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcblxyXG5jbGFzcyBTZWxlY3RSb3dIZWFkZXJDb2x1bW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIHRoU3R5bGUgPSB7XHJcbiAgICAgIHdpZHRoOiBwYXJzZUludCh0aGlzLnByb3BzLndpZHRoKT90aGlzLnByb3BzLndpZHRoOjM1XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgPHRoIHN0eWxlPXt0aFN0eWxlfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRoLWlubmVyIHRhYmxlLWhlYWRlci1jb2x1bW5cIj5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L3RoPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0Um93SGVhZGVyQ29sdW1uO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9TZWxlY3RSb3dIZWFkZXJDb2x1bW4uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4vdXRpbCc7XHJcbmltcG9ydCBUYWJsZVJvdyBmcm9tICcuL1RhYmxlUm93JztcclxuaW1wb3J0IFRhYmxlQ29sdW1uIGZyb20gJy4vVGFibGVDb2x1bW4nO1xyXG5pbXBvcnQgVGFibGVFZGl0Q29sdW1uIGZyb20gJy4vVGFibGVFZGl0Q29sdW1uJztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5cclxudmFyIGlzRnVuPWZ1bmN0aW9uKG9iail7XHJcbiAgcmV0dXJuIG9iaiYmKHR5cGVvZiBvYmo9PT1cImZ1bmN0aW9uXCIpO1xyXG5cclxufTtcclxuY2xhc3MgVGFibGVCb2R5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY3VyckVkaXRDZWxsOiBudWxsXHJcbiAgICB9O1xyXG4gICAgdGhpcy5lZGl0aW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpe1xyXG4gICAgdGhpcy5hZGp1c3RCb2R5KCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUoKXtcclxuICAgIHRoaXMuYWRqdXN0Qm9keSgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCl7XHJcbiAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9IGNsYXNzU2V0KFwidGFibGUtY29udGFpbmVyXCIpO1xyXG5cclxuICAgIHZhciB0YWJsZUNsYXNzZXMgPSBjbGFzc1NldChcInRhYmxlXCIsIHtcclxuICAgICAgJ3RhYmxlLXN0cmlwZWQnOiB0aGlzLnByb3BzLnN0cmlwZWQsXHJcbiAgICAgICd0YWJsZS1ib3JkZXJlZCc6IHRoaXMucHJvcHMuYm9yZGVyZWQsXHJcbiAgICAgICd0YWJsZS1ob3Zlcic6IHRoaXMucHJvcHMuaG92ZXIsXHJcbiAgICAgICd0YWJsZS1jb25kZW5zZWQnOiB0aGlzLnByb3BzLmNvbmRlbnNlZFxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGlzU2VsZWN0Um93RGVmaW5lZCA9IHRoaXMuX2lzU2VsZWN0Um93RGVmaW5lZCgpO1xyXG4gICAgdmFyIHRhYmxlSGVhZGVyID0gdGhpcy5yZW5kZXJUYWJsZUhlYWRlcihpc1NlbGVjdFJvd0RlZmluZWQpO1xyXG5cclxuICAgIHZhciB0YWJsZVJvd3MgPSB0aGlzLnByb3BzLmRhdGEubWFwKGZ1bmN0aW9uKGRhdGEsIHIpe1xyXG4gICAgICB2YXIgdGFibGVDb2x1bW5zID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbihjb2x1bW4sIGkpe1xyXG4gICAgICAgIHZhciBmaWVsZFZhbHVlID0gZGF0YVtjb2x1bW4ubmFtZV07XHJcbiAgICAgICAgaWYodGhpcy5lZGl0aW5nICYmXHJcbiAgICAgICAgICBjb2x1bW4ubmFtZSAhPT0gdGhpcy5wcm9wcy5rZXlGaWVsZCAmJiAvLyBLZXkgZmllbGQgY2FuJ3QgYmUgZWRpdFxyXG4gICAgICAgICAgY29sdW1uLmVkaXRhYmxlICYmIC8vIGNvbHVtbiBpcyBlZGl0YWJsZT8gZGVmYXVsdCBpcyB0cnVlLCB1c2VyIGNhbiBzZXQgaXQgZmFsc2VcclxuICAgICAgICAgIHRoaXMuc3RhdGUuY3VyckVkaXRDZWxsICE9IG51bGwgJiZcclxuICAgICAgICAgIHRoaXMuc3RhdGUuY3VyckVkaXRDZWxsLnJpZCA9PSByICYmXHJcbiAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbC5jaWQgPT0gaSl7XHJcbiAgICAgICAgICAgIHZhciBmb3JtYXQ9Y29sdW1uLmZvcm1hdD9mdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5mb3JtYXQodmFsdWUsIGRhdGEsIGNvbHVtbi5mb3JtYXRFeHRyYURhdGEpLnJlcGxhY2UoLzwuKj8+L2csJycpO1xyXG4gICAgICAgICAgICB9OmZhbHNlO1xyXG5cclxuICAgICAgICAgIHJldHVybihcclxuICAgICAgICAgICAgICA8VGFibGVFZGl0Q29sdW1uIGNvbXBsZXRlRWRpdD17dGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjb2x1bW4gZWRpdG9yIGN1c3RvbWl6ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU9e2lzRnVuKGNvbHVtbi5lZGl0YWJsZSk/Y29sdW1uLmVkaXRhYmxlKGZpZWxkVmFsdWUsZGF0YSxyLGkpOmNvbHVtbi5lZGl0YWJsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdD17Y29sdW1uLmZvcm1hdD9mb3JtYXQ6ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibHVyVG9TYXZlPXt0aGlzLnByb3BzLmNlbGxFZGl0LmJsdXJUb1NhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dJbmRleD17cn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbEluZGV4PXtpfT5cclxuICAgICAgICAgICAgICAgIHtmaWVsZFZhbHVlfVxyXG4gICAgICAgICAgICAgIDwvVGFibGVFZGl0Q29sdW1uPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgLy9hZGQgYnkgYmx1ZXNwcmluZyBmb3IgY2xhc3NOYW1lIGN1c3RvbWl6ZVxyXG4gICAgICAgICAgdmFyIHRkQ2xhc3NOYW1lPWlzRnVuKGNvbHVtbi5jbGFzc05hbWUpP2NvbHVtbi5jbGFzc05hbWUoZmllbGRWYWx1ZSxkYXRhLHIsaSk6Y29sdW1uLmNsYXNzTmFtZTtcclxuXHJcbiAgICAgICAgICBpZih0eXBlb2YgY29sdW1uLmZvcm1hdCAhPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IGNvbHVtbi5mb3JtYXQoZmllbGRWYWx1ZSwgZGF0YSwgY29sdW1uLmZvcm1hdEV4dHJhRGF0YSk7XHJcbiAgICAgICAgICAgIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoZm9ybWF0dGVkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBmb3JtYXR0ZWRWYWx1ZX19PjwvZGl2PjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4oXHJcbiAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGRhdGFBbGlnbj17Y29sdW1uLmFsaWdufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGRDbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxFZGl0PXt0aGlzLnByb3BzLmNlbGxFZGl0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW49e2NvbHVtbi5oaWRkZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdD17dGhpcy5oYW5kbGVFZGl0Q2VsbC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17Y29sdW1uLndpZHRofT5cclxuICAgICAgICAgICAgICAgIHtmb3JtYXR0ZWRWYWx1ZX1cclxuICAgICAgICAgICAgICA8L1RhYmxlQ29sdW1uPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybihcclxuICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZGF0YUFsaWduPXtjb2x1bW4uYWxpZ259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0ZENsYXNzTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEVkaXQ9e3RoaXMucHJvcHMuY2VsbEVkaXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbj17Y29sdW1uLmhpZGRlbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0PXt0aGlzLmhhbmRsZUVkaXRDZWxsLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXtjb2x1bW4ud2lkdGh9PlxyXG4gICAgICAgICAgICAgICAge2ZpZWxkVmFsdWV9XHJcbiAgICAgICAgICAgICAgPC9UYWJsZUNvbHVtbj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgdGhpcyk7XHJcbiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMucHJvcHMuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoZGF0YVt0aGlzLnByb3BzLmtleUZpZWxkXSkgIT0gLTE7XHJcbiAgICAgIHZhciBzZWxlY3RSb3dDb2x1bW4gPSBpc1NlbGVjdFJvd0RlZmluZWQgJiYgIXRoaXMucHJvcHMuc2VsZWN0Um93LmhpZGVTZWxlY3RDb2x1bW4/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2VsZWN0Um93Q29sdW1uKHNlbGVjdGVkKTpudWxsO1xyXG4gICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjbGFzc05hbWUgY3VzdG9taXplXHJcbiAgICAgIHZhciB0ckNsYXNzTmFtZT1pc0Z1bih0aGlzLnByb3BzLnRyQ2xhc3NOYW1lKT90aGlzLnByb3BzLnRyQ2xhc3NOYW1lKGRhdGEscik6dGhpcy5wcm9wcy50ckNsYXNzTmFtZTtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8VGFibGVSb3cgaXNTZWxlY3RlZD17c2VsZWN0ZWR9IGtleT17cn0gY2xhc3NOYW1lPXt0ckNsYXNzTmFtZX1cclxuICAgICAgICAgIHNlbGVjdFJvdz17aXNTZWxlY3RSb3dEZWZpbmVkP3RoaXMucHJvcHMuc2VsZWN0Um93OnVuZGVmaW5lZH1cclxuICAgICAgICAgIGVuYWJsZUNlbGxFZGl0PXt0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IENvbnN0LkNFTExfRURJVF9OT05FfVxyXG4gICAgICAgICAgb25Sb3dDbGljaz17dGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgb25Sb3dNb3VzZU92ZXI9e3RoaXMuaGFuZGxlUm93TW91c2VPdmVyLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICBvblJvd01vdXNlT3V0PXt0aGlzLmhhbmRsZVJvd01vdXNlT3V0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICBvblNlbGVjdFJvdz17dGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKX0+XHJcbiAgICAgICAgICB7c2VsZWN0Um93Q29sdW1ufVxyXG4gICAgICAgICAge3RhYmxlQ29sdW1uc31cclxuICAgICAgICA8L1RhYmxlUm93PlxyXG4gICAgICApXHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICBpZih0YWJsZVJvd3MubGVuZ3RoID09PSAwKXtcclxuICAgICAgdGFibGVSb3dzLnB1c2goXHJcbiAgICAgIDxUYWJsZVJvdyBrZXk9XCIjI3RhYmxlLWVtcHR5IyNcIj5cclxuICAgICAgICA8dGQgY29sU3Bhbj17dGhpcy5wcm9wcy5jb2x1bW5zLmxlbmd0aCsoaXNTZWxlY3RSb3dEZWZpbmVkPzE6MCl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlYWN0LWJzLXRhYmxlLW5vLWRhdGFcIj5cclxuICAgICAgICAgICAge3RoaXMucHJvcHMubm9EYXRhVGV4dHx8Q29uc3QuTk9fREFUQV9URVhUfVxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICAgIDwvVGFibGVSb3c+KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVkaXRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYWxjdWxhdGVDb250YWluZXJIZWlnaHQoKS50b1N0cmluZygpO1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgPGRpdiByZWY9XCJjb250YWluZXJcIiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzZXN9IHN0eWxlPXt7aGVpZ2h0OiBoZWlnaHR9fT5cclxuICAgICAgICA8dGFibGUgcmVmPVwiYm9keVwiIGNsYXNzTmFtZT17dGFibGVDbGFzc2VzfT5cclxuICAgICAgICAgIHt0YWJsZUhlYWRlcn1cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAge3RhYmxlUm93c31cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZW5kZXJUYWJsZUhlYWRlcihpc1NlbGVjdFJvd0RlZmluZWQpe1xyXG4gICAgdmFyIHNlbGVjdFJvd0hlYWRlciA9IG51bGw7XHJcblxyXG4gICAgaWYoaXNTZWxlY3RSb3dEZWZpbmVkKXtcclxuICAgICAgbGV0IHN0eWxlID0ge1xyXG4gICAgICAgIHdpZHRoOjM1LFxyXG4gICAgICAgIG1pbldpZHRoOjM1XHJcbiAgICAgIH1cclxuICAgICAgc2VsZWN0Um93SGVhZGVyID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbj9udWxsOig8dGggc3R5bGU9e3N0eWxlfSBrZXk9ey0xfT48L3RoPik7XHJcbiAgICB9XHJcbiAgICB2YXIgdGhlYWRlciA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24oY29sdW1uLCBpKXtcclxuICAgICAgbGV0IHdpZHRoID0gY29sdW1uLndpZHRoID09IG51bGw/Y29sdW1uLndpZHRoOnBhcnNlSW50KGNvbHVtbi53aWR0aCk7XHJcbiAgICAgIGxldCBzdHlsZT17XHJcbiAgICAgICAgZGlzcGxheTogY29sdW1uLmhpZGRlbj9cIm5vbmVcIjpudWxsLFxyXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICBtYXhXaWR0aDogd2lkdGhcclxuICAgICAgICAvKiogYWRkIG1pbi13ZHRoIHRvIGZpeCB1c2VyIGFzc2lnbiBjb2x1bW4gd2lkdGggbm90IGVxIG9mZnNldFdpZHRoIGluIGxhcmdlIGNvbHVtbiB0YWJsZSAqKi9cclxuICAgICAgfTtcclxuICAgICAgbGV0IHNvcnRDYWVydCA9IGNvbHVtbi5zb3J0PyhVdGlsLnJlbmRlclJlYWN0U29ydENhcmV0KENvbnN0LlNPUlRfREVTQykpOm51bGw7XHJcbiAgICAgIHJldHVybiAoPHRoIHN0eWxlPXtzdHlsZX0ga2V5PXtpfSBjbGFzc05hbWU9e2NvbHVtbi5jbGFzc05hbWV9Pntjb2x1bW4udGV4dH17c29ydENhZXJ0fTwvdGg+KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgPHRoZWFkIHJlZj1cImhlYWRlclwiPlxyXG4gICAgICAgIDx0cj57c2VsZWN0Um93SGVhZGVyfXt0aGVhZGVyfTwvdHI+XHJcbiAgICAgIDwvdGhlYWQ+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVSb3dNb3VzZU91dChyb3dJbmRleCl7XHJcbiAgICBjb25zdCB0YXJnZXRSb3cgPSB0aGlzLnByb3BzLmRhdGFbcm93SW5kZXgtMV07XHJcbiAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdXQodGFyZ2V0Um93KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVJvd01vdXNlT3Zlcihyb3dJbmRleCl7XHJcbiAgICBjb25zdCB0YXJnZXRSb3cgPSB0aGlzLnByb3BzLmRhdGFbcm93SW5kZXgtMV07XHJcbiAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKHRhcmdldFJvdyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSb3dDbGljayhyb3dJbmRleCl7XHJcbiAgICB2YXIga2V5LCBzZWxlY3RlZFJvdztcclxuICAgIHRoaXMucHJvcHMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHJvdywgaSl7XHJcbiAgICAgIGlmKGkgPT0gcm93SW5kZXgtMSl7XHJcbiAgICAgICAga2V5ID0gcm93W3RoaXMucHJvcHMua2V5RmllbGRdO1xyXG4gICAgICAgIHNlbGVjdGVkUm93ID0gcm93O1xyXG4gICAgICB9XHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHRoaXMucHJvcHMub25Sb3dDbGljayhzZWxlY3RlZFJvdyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWxlY3RSb3cocm93SW5kZXgsIGlzU2VsZWN0ZWQpe1xyXG4gICAgdmFyIGtleSwgc2VsZWN0ZWRSb3c7XHJcbiAgICB0aGlzLnByb3BzLmRhdGEuZm9yRWFjaChmdW5jdGlvbihyb3csIGkpe1xyXG4gICAgICBpZihpID09IHJvd0luZGV4LTEpe1xyXG4gICAgICAgIGtleSA9IHJvd1t0aGlzLnByb3BzLmtleUZpZWxkXTtcclxuICAgICAgICBzZWxlY3RlZFJvdyA9IHJvdztcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0sIHRoaXMpO1xyXG4gICAgdGhpcy5wcm9wcy5vblNlbGVjdFJvdyhzZWxlY3RlZFJvdywgaXNTZWxlY3RlZCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZShlKXtcclxuICAgIGlmKCF0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0IHx8ICF0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpe1xyXG4gICAgICB0aGlzLmhhbmRsZVNlbGVjdFJvdyhcclxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJvd0luZGV4LCBlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVFZGl0Q2VsbChyb3dJbmRleCwgY29sdW1uSW5kZXgpe1xyXG4gICAgdGhpcy5lZGl0aW5nID0gdHJ1ZTtcclxuICAgIGlmKHRoaXMuX2lzU2VsZWN0Um93RGVmaW5lZCgpKXtcclxuICAgICAgY29sdW1uSW5kZXgtLTtcclxuICAgICAgaWYodGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbilcclxuICAgICAgICBjb2x1bW5JbmRleCsrO1xyXG4gICAgfVxyXG4gICAgcm93SW5kZXgtLTtcclxuICAgIHZhciBzdGF0ZU9iaiA9IHtcclxuICAgICAgY3VyckVkaXRDZWxsOiB7XHJcbiAgICAgICAgcmlkOiByb3dJbmRleCxcclxuICAgICAgICBjaWQ6IGNvbHVtbkluZGV4XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYodGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsKXtcclxuICAgICAgdGhpcy5oYW5kbGVTZWxlY3RSb3cocm93SW5kZXgrMSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlT2JqKTtcclxuICB9XHJcblxyXG4gIGNhbmNlbEVkaXQoKXtcclxuICAgIHZhciBjdXJyRWRpdENlbGw9dGhpcy5zdGF0ZS5jdXJyRWRpdENlbGw7XHJcbiAgICBpZihjdXJyRWRpdENlbGwpe1xyXG4gICAgICB0aGlzLmhhbmRsZUNvbXBsZXRlRWRpdENlbGwobnVsbCxjdXJyRWRpdENlbGwucmlkLGN1cnJFZGl0Q2VsbC5jaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ29tcGxldGVFZGl0Q2VsbChuZXdWYWwsIHJvd0luZGV4LCBjb2x1bW5JbmRleCl7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyRWRpdENlbGw6IG51bGx9KTtcclxuICAgIGlmKG51bGwgIT0gbmV3VmFsKVxyXG4gICAgICB0aGlzLnByb3BzLmNlbGxFZGl0Ll9fb25Db21wbGV0ZUVkaXRfXyhuZXdWYWwsIHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJTZWxlY3RSb3dDb2x1bW4oc2VsZWN0ZWQpe1xyXG4gICAgaWYodGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PSBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSkge1xyXG4gICAgICByZXR1cm4gKDxUYWJsZUNvbHVtbj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInNlbGVjdGlvblwiIGNoZWNrZWQ9e3NlbGVjdGVkfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZS5iaW5kKHRoaXMpfS8+PC9UYWJsZUNvbHVtbj4pO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICByZXR1cm4gKDxUYWJsZUNvbHVtbiA+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e3NlbGVjdGVkfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZS5iaW5kKHRoaXMpfS8+PC9UYWJsZUNvbHVtbj4pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Qm9keUhlYWRlckRvbVByb3AoKXtcclxuICAgIHZhciBoZWFkZXJzID0gdGhpcy5yZWZzLmhlYWRlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XHJcbiAgICB2YXIgaGVhZGVyRG9tUHJvcHMgPSBbXTtcclxuICAgIGZvcihsZXQgaT0wO2k8aGVhZGVycy5sZW5ndGg7aSsrKXtcclxuICAgICAgaGVhZGVyRG9tUHJvcHMucHVzaCh7XHJcbiAgICAgICAgd2lkdGg6aGVhZGVyc1tpXS5vZmZzZXRXaWR0aFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBoZWFkZXJEb21Qcm9wcztcclxuICB9XHJcblxyXG4gIGFkanVzdEJvZHkoKSB7XHJcbiAgICB0aGlzLmhhcmRGaXhIZWFkZXJXaWR0aCgpO1xyXG4gICAgaWYodGhpcy5wcm9wcy5jb25kZW5zZWQpIHtcclxuICAgICAgdGhpcy5yZWZzLmJvZHkuc3R5bGUubWFyZ2luVG9wID0gXCItMzZweFwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMucHJvcHMubWF4SGVpZ2h0ICYmXHJcbiAgICAgIHBhcnNlSW50KHRoaXMucHJvcHMubWF4SGVpZ2h0KSA8IHRoaXMucmVmcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0KSB7XHJcbiAgICAgIHRoaXMucmVmcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gKHRoaXMucHJvcHMubWF4SGVpZ2h0IC0gNDIpICsgXCJweFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFyZEZpeEhlYWRlcldpZHRoKCl7XHJcbiAgICB2YXIgaGVhZGVycyA9IHRoaXMucmVmcy5oZWFkZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO1xyXG4gICAgZm9yKGxldCBpPTA7aTxoZWFkZXJzLmxlbmd0aDtpKyspe1xyXG4gICAgICBoZWFkZXJzW2ldLnN0eWxlLndpZHRoID0gaGVhZGVyc1tpXS5vZmZzZXRXaWR0aCArIFwicHhcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNhbGN1bGF0ZUNvbnRhaW5lckhlaWdodCgpe1xyXG4gICAgaWYodGhpcy5wcm9wcy5oZWlnaHQgPT0gXCIxMDAlXCIpIHJldHVybiB0aGlzLnByb3BzLmhlaWdodDtcclxuICAgIGVsc2V7XHJcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnByb3BzLmhlaWdodCkgLSA0MjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9pc1NlbGVjdFJvd0RlZmluZWQoKXtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlID09PSBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSB8fFxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PT0gQ29uc3QuUk9XX1NFTEVDVF9NVUxUSTtcclxuICB9XHJcbn1cclxuVGFibGVCb2R5LnByb3BUeXBlcyA9IHtcclxuICBoZWlnaHQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZGF0YTogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gIGNvbHVtbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcclxuICBzdHJpcGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBib3JkZXJlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgaG92ZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGNvbmRlbnNlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAga2V5RmllbGQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc2VsZWN0ZWRSb3dLZXlzOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgb25Sb3dDbGljazogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25TZWxlY3RSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG5vRGF0YVRleHQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgVGFibGVCb2R5O1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9UYWJsZUJvZHkuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcblxyXG5jbGFzcyBUYWJsZUNvbHVtbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XHJcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlZCA9IHRoaXMucHJvcHMud2lkdGggIT09IG5leHRQcm9wcy53aWR0aFxyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLmNsYXNzTmFtZSAhPT0gbmV4dFByb3BzLmNsYXNzTmFtZVxyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLmhpZGRlbiAhPT0gbmV4dFByb3BzLmhpZGRlblxyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLmRhdGFBbGlnbiAhPT0gbmV4dFByb3BzLmRhdGFBbGlnblxyXG4gICAgICAgICAgICB8fCB0eXBlb2YgY2hpbGRyZW4gIT09IHR5cGVvZiBuZXh0UHJvcHMuY2hpbGRyZW5cclxuICAgICAgICAgICAgfHwgKCcnICsgdGhpcy5wcm9wcy5vbkVkaXQpLnRvU3RyaW5nKCkgIT09ICgnJyArIG5leHRQcm9wcy5vbkVkaXQpLnRvU3RyaW5nKClcclxuXHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnb2JqZWN0JyAmJiBjaGlsZHJlbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ucHJvcHMudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBjaGlsZHJlbi5wcm9wcy50eXBlID09PSAncmFkaW8nKSB7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGVkID0gc2hvdWxkVXBkYXRlZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnByb3BzLnR5cGUgIT09IG5leHRQcm9wcy5jaGlsZHJlbi5wcm9wcy50eXBlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHJvcHMuY2hlY2tlZCAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLmNoZWNrZWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZWQgPSBzaG91bGRVcGRhdGVkIHx8IGNoaWxkcmVuICE9PSBuZXh0UHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkVXBkYXRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghKHRoaXMucHJvcHMuY2VsbEVkaXQgJiYgbmV4dFByb3BzLmNlbGxFZGl0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZWRcclxuICAgICAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSAhPT0gbmV4dFByb3BzLmNlbGxFZGl0Lm1vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNlbGxFZGl0KGUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlID09IENvbnN0LkNFTExfRURJVF9EQkNMSUNLKSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvcHMub25FZGl0KFxyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5yb3dJbmRleCxcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNlbGxJbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMucHJvcHMud2lkdGggPT0gbnVsbCA/XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMud2lkdGggOiB0aGlzLnByb3BzLndpZHRoLmluZGV4T2YoJyUnKSAhPT0gLTEgPyB0aGlzLnByb3BzLndpZHRoIDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHRkU3R5bGUgPSB7XHJcbiAgICAgICAgICAgIHRleHRBbGlnbjogdGhpcy5wcm9wcy5kYXRhQWxpZ24sXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxyXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgIG1heFdpZHRoOiB3aWR0aFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGNsYXNzbmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLndpZHRoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzbmFtZSArPSBcIiBjb2wtbWQtXCIgKyB3aWR0aDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgb3B0cyA9IHt9O1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gQ29uc3QuQ0VMTF9FRElUX0NMSUNLKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLm9uQ2xpY2sgPSB0aGlzLmhhbmRsZUNlbGxFZGl0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlID09IENvbnN0LkNFTExfRURJVF9EQkNMSUNLKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLm9uRG91YmxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNlbGxFZGl0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHRkIHN0eWxlPXt0ZFN0eWxlfSBjbGFzc05hbWU9e2NsYXNzbmFtZX0gey4uLm9wdHN9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblRhYmxlQ29sdW1uLnByb3BUeXBlcyA9IHtcclxuICAgIGRhdGFBbGlnbjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGhpZGRlbjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcblRhYmxlQ29sdW1uLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGRhdGFBbGlnbjogXCJsZWZ0XCIsXHJcbiAgICBoaWRkZW46IGZhbHNlLFxyXG4gICAgY2xhc3NOYW1lOiBcIlwiXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgVGFibGVDb2x1bW47XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlQ29sdW1uLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgRWRpdG9yIGZyb20gJy4vRWRpdG9yJ1xyXG5pbXBvcnQgTm90aWZpZXIgZnJvbSAnLi9Ob3RpZmljYXRpb24uanMnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcblxyXG5jbGFzcyBUYWJsZUVkaXRDb2x1bW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMudGltZW91dGVDbGVhcj0wO1xyXG4gICAgICAgIHRoaXMuc3RhdGU9e1xyXG4gICAgICAgICAgICBzaGFrZUVkaXRvcjpmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gIGhhbmRsZUtleVByZXNzKGUpe1xyXG4gICAgaWYgKGUua2V5Q29kZSA9PSAxMykgeyAvL1ByZXNzZWQgRU5URVJcclxuICAgICAgbGV0IHZhbHVlID0gZS5jdXJyZW50VGFyZ2V0LnR5cGUgPT0gJ2NoZWNrYm94Jz9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRDaGVja0JveFZhbHVlKGUpOmUuY3VycmVudFRhcmdldC52YWx1ZTtcclxuXHJcbiAgICAgIGlmKCF0aGlzLnZhbGlkYXRvcih2YWx1ZSkpe1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvcHMuY29tcGxldGVFZGl0KFxyXG4gICAgICAgIHZhbHVlLCB0aGlzLnByb3BzLnJvd0luZGV4LCB0aGlzLnByb3BzLmNvbEluZGV4KTtcclxuICAgIH1lbHNlIGlmKGUua2V5Q29kZSA9PSAyNyl7XHJcbiAgICAgIHRoaXMucHJvcHMuY29tcGxldGVFZGl0KFxyXG4gICAgICAgIG51bGwsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQmx1cihlKXtcclxuICAgIGlmKHRoaXMucHJvcHMuYmx1clRvU2F2ZSl7XHJcbiAgICAgIGxldCB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC50eXBlID09ICdjaGVja2JveCc/XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q2hlY2tCb3hWYWx1ZShlKTplLmN1cnJlbnRUYXJnZXQudmFsdWU7XHJcbiAgICAgIGlmKCF0aGlzLnZhbGlkYXRvcih2YWx1ZSkpe1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvcHMuY29tcGxldGVFZGl0KFxyXG4gICAgICAgICAgdmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuICB2YWxpZGF0b3IodmFsdWUpe1xyXG4gICAgICB2YXIgdHM9dGhpcztcclxuICAgICAgaWYodHMucHJvcHMuZWRpdGFibGUudmFsaWRhdG9yKXtcclxuICAgICAgICAgIHZhciB2YWxpZD10cy5wcm9wcy5lZGl0YWJsZS52YWxpZGF0b3IodmFsdWUpO1xyXG4gICAgICAgICAgaWYodmFsaWQhPT10cnVlKXtcclxuICAgICAgICAgICAgICB0cy5yZWZzLm5vdGlmaWVyLm5vdGljZSgnZXJyb3InLHZhbGlkLFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcclxuICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0cy5yZWZzLmlucHV0UmVmO1xyXG4gICAgICAgICAgICAgIC8vYW5pbWF0ZSBpbnB1dFxyXG4gICAgICAgICAgICAgIHRzLmNsZWFyVGltZW91dCgpO1xyXG4gICAgICAgICAgICAgIHRzLnNldFN0YXRlKHtzaGFrZUVkaXRvcjp0cnVlfSk7XHJcbiAgICAgICAgICAgICAgdHMudGltZW91dGVDbGVhcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dHMuc2V0U3RhdGUoe3NoYWtlRWRpdG9yOmZhbHNlfSk7fSwzMDApO1xyXG4gICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICB9XHJcbiAgY2xlYXJUaW1lb3V0KCl7XHJcbiAgICAgIGlmKHRoaXMudGltZW91dGVDbGVhciE9MCl7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0ZUNsZWFyKTtcclxuICAgICAgICAgIHRoaXMudGltZW91dGVDbGVhcj0wO1xyXG4gICAgICB9XHJcbiAgfVxyXG4gIGNvbXBvbmVudERpZE1vdW50KCl7XHJcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMucmVmcy5pbnB1dFJlZjtcclxuICAgICAgLy8gaW5wdXQudmFsdWUgPSB0aGlzLnByb3BzLmNoaWxkcmVufHwnJztcclxuICAgICAgaW5wdXQuZm9jdXMoKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgdGhpcy5jbGVhclRpbWVvdXQoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIGVkaXRhYmxlPXRoaXMucHJvcHMuZWRpdGFibGUsXHJcbiAgICAgICAgZm9ybWF0PXRoaXMucHJvcHMuZm9ybWF0LFxyXG4gICAgICAgIGF0dHI9e1xyXG4gICAgICAgICAgICByZWY6XCJpbnB1dFJlZlwiLFxyXG4gICAgICAgICAgICBvbktleURvd246dGhpcy5oYW5kbGVLZXlQcmVzcy5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICBvbkJsdXI6dGhpcy5oYW5kbGVCbHVyLmJpbmQodGhpcylcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vcHV0IHBsYWNlaG9sZGVyIGlmIGV4aXN0XHJcbiAgICAgICAgZWRpdGFibGUucGxhY2Vob2xkZXImJihhdHRyLnBsYWNlaG9sZGVyPWVkaXRhYmxlLnBsYWNlaG9sZGVyKTtcclxuXHJcbiAgICB2YXIgZWRpdG9yQ2xhc3M9Y2xhc3NTZXQoeydhbmltYXRlZCc6dGhpcy5zdGF0ZS5zaGFrZUVkaXRvciwnc2hha2UnOnRoaXMuc3RhdGUuc2hha2VFZGl0b3J9KTtcclxuICAgIHJldHVybihcclxuICAgICAgICA8dGQgcmVmPVwidGRcIiBzdHlsZT17e3Bvc2l0aW9uOidyZWxhdGl2ZSd9fT5cclxuICAgICAgICAgICAge0VkaXRvcihlZGl0YWJsZSxhdHRyLGZvcm1hdCxlZGl0b3JDbGFzcyx0aGlzLnByb3BzLmNoaWxkcmVufHwnJyl9XHJcbiAgICAgICAgICAgIDxOb3RpZmllciByZWY9XCJub3RpZmllclwiPjwvTm90aWZpZXI+XHJcbiAgICAgICAgPC90ZD5cclxuICAgIClcclxuICB9XHJcblxyXG4gIF9nZXRDaGVja0JveFZhbHVlKGUpe1xyXG4gICAgbGV0IHZhbHVlID0gJyc7XHJcbiAgICBsZXQgdmFsdWVzID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlLnNwbGl0KCc6Jyk7XHJcbiAgICB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC5jaGVja2VkP3ZhbHVlc1swXTp2YWx1ZXNbMV07XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxufVxyXG5UYWJsZUVkaXRDb2x1bW4ucHJvcFR5cGVzID0ge1xyXG4gIGNvbXBsZXRlRWRpdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgcm93SW5kZXg6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgY29sSW5kZXg6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgYmx1clRvU2F2ZTogUmVhY3QuUHJvcFR5cGVzLmJvb2xcclxufTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUVkaXRDb2x1bW47XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlRWRpdENvbHVtbi5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuL0NvbnN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5cclxuY2xhc3MgVGFibGVGaWx0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLmZpbHRlck9iaiA9IHt9O1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5VXAoZSl7XHJcbiAgICBpZihlLmN1cnJlbnRUYXJnZXQudmFsdWUudHJpbSgpID09PSBcIlwiKVxyXG4gICAgICBkZWxldGUgdGhpcy5maWx0ZXJPYmpbZS5jdXJyZW50VGFyZ2V0Lm5hbWVdO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLmZpbHRlck9ialtlLmN1cnJlbnRUYXJnZXQubmFtZV0gPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XHJcblxyXG4gICAgdGhpcy5wcm9wcy5vbkZpbHRlcih0aGlzLmZpbHRlck9iaik7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKXtcclxuICAgIHZhciB0YWJsZUNsYXNzZXMgPSBjbGFzc1NldChcInRhYmxlXCIsIHtcclxuICAgICAgJ3RhYmxlLXN0cmlwZWQnOiB0aGlzLnByb3BzLnN0cmlwZWQsXHJcbiAgICAgICd0YWJsZS1jb25kZW5zZWQnOiB0aGlzLnByb3BzLmNvbmRlbnNlZFxyXG4gICAgfSk7XHJcbiAgICB2YXIgc2VsZWN0Um93SGVhZGVyID0gbnVsbDtcclxuXHJcbiAgICBpZih0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gQ29uc3QuUk9XX1NFTEVDVF9TSU5HTEUgfHxcclxuICAgICAgICB0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gQ29uc3QuUk9XX1NFTEVDVF9NVUxUSSl7XHJcbiAgICAgIGxldCBzdHlsZSA9IHtcclxuICAgICAgICB3aWR0aDozNSxcclxuICAgICAgICBwYWRkaW5nTGVmdDogMCxcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcclxuICAgICAgfVxyXG4gICAgICBzZWxlY3RSb3dIZWFkZXIgPSAoPHRoIHN0eWxlPXtzdHlsZX0ga2V5PXstMX0+RmlsdGVyPC90aD4pO1xyXG4gICAgfVxyXG4gICAgdmFyIGZpbHRlckZpZWxkID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbihjb2x1bW4pe1xyXG4gICAgICB2YXIgdGhTdHlsZSA9IHtcclxuICAgICAgICBkaXNwbGF5OiBjb2x1bW4uaGlkZGVuP1wibm9uZVwiOm51bGwsXHJcbiAgICAgICAgd2lkdGg6IGNvbHVtbi53aWR0aFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4oXHJcbiAgICAgICAgPHRoIGtleT17Y29sdW1uLm5hbWV9IHN0eWxlPXt0aFN0eWxlfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGgtaW5uZXIgdGFibGUtaGVhZGVyLWNvbHVtblwiPlxyXG4gICAgICAgICAgICA8aW5wdXQgc2l6ZT1cIjEwXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj17Y29sdW1uLm5hbWV9IG5hbWU9e2NvbHVtbi5uYW1lfSBvbktleVVwPXt0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcyl9Lz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvdGg+XHJcbiAgICAgIClcclxuICAgIH0sIHRoaXMpO1xyXG4gICAgcmV0dXJuKFxyXG4gICAgICA8dGFibGUgY2xhc3NOYW1lPXt0YWJsZUNsYXNzZXN9IHN0eWxlPXt7bWFyZ2luVG9wOjV9fT5cclxuICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICA8dHIgc3R5bGU9e3tib3JkZXJCb3R0b21TdHlsZTogJ2hpZGRlbid9fT5cclxuICAgICAgICAgICAge3NlbGVjdFJvd0hlYWRlcn17ZmlsdGVyRmllbGR9XHJcbiAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgIDwvdGFibGU+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblRhYmxlRmlsdGVyLnByb3BUeXBlcyA9IHtcclxuICBjb2x1bW5zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgcm93U2VsZWN0VHlwZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICBvbkZpbHRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgVGFibGVGaWx0ZXI7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlRmlsdGVyLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuL0NvbnN0JztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi91dGlsJztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgU2VsZWN0Um93SGVhZGVyQ29sdW1uIGZyb20gJy4vU2VsZWN0Um93SGVhZGVyQ29sdW1uJztcclxuXHJcbmNsYXNzIENoZWNrYm94IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG4gIGNvbXBvbmVudERpZE1vdW50KCkgeyB0aGlzLnVwZGF0ZSh0aGlzLnByb3BzLmNoZWNrZWQpOyB9XHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykgeyB0aGlzLnVwZGF0ZShwcm9wcy5jaGVja2VkKTsgfVxyXG4gIHVwZGF0ZShjaGVja2VkKSB7XHJcbiAgICBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5pbmRldGVybWluYXRlID0gY2hlY2tlZCA9PT0gJ2luZGV0ZXJtaW5hdGUnO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIDxpbnB1dCBjbGFzc05hbWU9J3JlYWN0LWJzLXNlbGVjdC1hbGwnIHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e3RoaXMucHJvcHMuY2hlY2tlZH0gb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBUYWJsZUhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc2VsZWN0Um93Q29sdW1uV2lkdGggPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCl7XHJcbiAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9IGNsYXNzU2V0KFwidGFibGUtaGVhZGVyXCIpO1xyXG4gICAgdmFyIHRhYmxlQ2xhc3NlcyA9IGNsYXNzU2V0KFwidGFibGVcIiwgXCJ0YWJsZS1ob3ZlclwiLCB7XHJcbiAgICAgICAgXCJ0YWJsZS1ib3JkZXJlZFwiOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxyXG4gICAgICAgIFwidGFibGUtY29uZGVuc2VkXCI6IHRoaXMucHJvcHMuY29uZGVuc2VkXHJcbiAgICB9KTtcclxuICAgIHZhciBzZWxlY3RSb3dIZWFkZXJDb2wgPSB0aGlzLnByb3BzLmhpZGVTZWxlY3RDb2x1bW4/bnVsbDp0aGlzLnJlbmRlclNlbGVjdFJvd0hlYWRlcigpO1xyXG4gICAgdGhpcy5fYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jKCk7XHJcblxyXG4gICAgcmV0dXJuKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYmxlLWhlYWRlci13cmFwcGVyXCI+XHJcbiAgICAgICAgPGRpdiByZWY9XCJjb250YWluZXJcIiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzZXN9PlxyXG4gICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT17dGFibGVDbGFzc2VzfSBpZD17dGhpcy5wcm9wcy50YWJsZUlEfT5cclxuICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgIDx0ciByZWY9XCJoZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIHtzZWxlY3RSb3dIZWFkZXJDb2x9XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZW5kZXJTZWxlY3RSb3dIZWFkZXIoKXtcclxuICAgIGlmKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSkge1xyXG4gICAgICByZXR1cm4gKDxTZWxlY3RSb3dIZWFkZXJDb2x1bW4gd2lkdGg9e3RoaXMuc2VsZWN0Um93Q29sdW1uV2lkdGh9PjwvU2VsZWN0Um93SGVhZGVyQ29sdW1uPik7XHJcbiAgICB9ZWxzZSBpZih0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gQ29uc3QuUk9XX1NFTEVDVF9NVUxUSSl7XHJcbiAgICAgIHJldHVybiAoPFNlbGVjdFJvd0hlYWRlckNvbHVtbiB3aWR0aD17dGhpcy5zZWxlY3RSb3dDb2x1bW5XaWR0aH0+XHJcbiAgICAgICAgICA8Q2hlY2tib3ggb25DaGFuZ2U9e3RoaXMucHJvcHMub25TZWxlY3RBbGxSb3d9IGNoZWNrZWQ9e3RoaXMucHJvcHMuaXNTZWxlY3RBbGx9Lz5cclxuICAgICAgICA8L1NlbGVjdFJvd0hlYWRlckNvbHVtbj5cclxuICAgICAgKTtcclxuICAgIH1lbHNle1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9hdHRhY2hDbGVhclNvcnRDYXJldEZ1bmMoKXtcclxuICAgIGlmKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpe1xyXG4gICAgICBmb3IobGV0IGk9MDtpPHRoaXMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLnByb3BzLmNoaWxkcmVuW2ldLnByb3BzLmRhdGFGaWVsZDtcclxuICAgICAgICBjb25zdCBzb3J0ID0gZmllbGQgPT09IHRoaXMucHJvcHMuc29ydE5hbWUgPyB0aGlzLnByb3BzLnNvcnRPcmRlciA6IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuW2ldID1cclxuICAgICAgICAgIFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuW2ldLFxyXG4gICAgICAgICAgICB7IGtleTogaSwgb25Tb3J0OiB0aGlzLnByb3BzLm9uU29ydCwgc29ydCB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZmllbGQgPSB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLmRhdGFGaWVsZDtcclxuICAgICAgY29uc3Qgc29ydCA9IGZpZWxkID09PSB0aGlzLnByb3BzLnNvcnROYW1lID8gdGhpcy5wcm9wcy5zb3J0T3JkZXIgOiB1bmRlZmluZWQ7XHJcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4gPVxyXG4gICAgICAgIFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuLCB7a2V5OiAwLCBvblNvcnQ6IHRoaXMucHJvcHMub25Tb3J0LCBzb3J0fSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaXRIZWFkZXIoaGVhZGVyUHJvcHMsIGlzVmVydGljYWxTY3JvbGxCYXIpe1xyXG4gICAgaWYoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSl7XHJcbiAgICAgIGxldCBzdGFydFBvc2l0aW9uID0gKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gQ29uc3QuUk9XX1NFTEVDVF9NVUxUSSkgJiYgIXRoaXMucHJvcHMuaGlkZVNlbGVjdENvbHVtbiA/IDE6MDtcclxuICAgICAgaWYoc3RhcnRQb3NpdGlvbiA9PSAxKVxyXG4gICAgICAgIHRoaXMuc2VsZWN0Um93Q29sdW1uV2lkdGggPSBoZWFkZXJQcm9wc1swXS53aWR0aDtcclxuICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnByb3BzLmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5baV0gPVxyXG4gICAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW5baV0sIHt3aWR0aDogaGVhZGVyUHJvcHNbaStzdGFydFBvc2l0aW9uXS53aWR0aCtcInB4XCJ9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbiA9XHJcbiAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4sIHt3aWR0aDogaGVhZGVyUHJvcHNbMF0ud2lkdGgrXCJweFwifSk7XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLnByb3BzLmNvbmRlbnNlZCAmJiAhdGhpcy5wcm9wcy5pc0ZpbHRlcmVkKSB7XHJcbiAgICAgIHRoaXMucmVmcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIzNnB4XCI7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICBpZihpc1ZlcnRpY2FsU2Nyb2xsQmFyKVxyXG4gICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gVXRpbC5nZXRTY3JvbGxCYXJXaWR0aCgpICsgXCJweFwiO1xyXG4gIH1cclxufVxyXG5UYWJsZUhlYWRlci5wcm9wVHlwZXMgPSB7XHJcbiAgcm93U2VsZWN0VHlwZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICBvblNvcnQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG9uU2VsZWN0QWxsUm93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBzb3J0TmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICBzb3J0T3JkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgaGlkZVNlbGVjdENvbHVtbjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgYm9yZGVyZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGNvbmRlbnNlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgaXNGaWx0ZXJlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgaXNTZWxlY3RBbGw6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ2luZGV0ZXJtaW5hdGUnLCBmYWxzZV0pXHJcbn07XHJcblxyXG5UYWJsZUhlYWRlci5kZWZhdWx0UHJvcHMgPSB7XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IFRhYmxlSGVhZGVyO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9UYWJsZUhlYWRlci5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgRGF0ZUZpbHRlciBmcm9tICcuL2ZpbHRlcnMvRGF0ZSc7XHJcbmltcG9ydCBUZXh0RmlsdGVyIGZyb20gJy4vZmlsdGVycy9UZXh0JztcclxuaW1wb3J0IFNlbGVjdEZpbHRlciBmcm9tICcuL2ZpbHRlcnMvU2VsZWN0JztcclxuaW1wb3J0IE51bWJlckZpbHRlciBmcm9tICcuL2ZpbHRlcnMvTnVtYmVyJztcclxuXHJcbmNsYXNzIFRhYmxlSGVhZGVyQ29sdW1uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUZpbHRlciA9IHRoaXMuaGFuZGxlRmlsdGVyLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ29sdW1uQ2xpY2soZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5kYXRhU29ydClyZXR1cm47XHJcbiAgICAgICAgbGV0IG9yZGVyID0gdGhpcy5wcm9wcy5zb3J0ID09IENvbnN0LlNPUlRfREVTQyA/IENvbnN0LlNPUlRfQVNDIDogQ29uc3QuU09SVF9ERVNDO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25Tb3J0KG9yZGVyLCB0aGlzLnByb3BzLmRhdGFGaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRmlsdGVyKHZhbHVlLCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXIuZW1pdHRlci5oYW5kbGVGaWx0ZXIodGhpcy5wcm9wcy5kYXRhRmllbGQsIHZhbHVlLCB0eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaWx0ZXJzKCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5maWx0ZXIudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLlRFWFQ6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8VGV4dEZpbHRlciB7Li4udGhpcy5wcm9wcy5maWx0ZXJ9IGNvbHVtbk5hbWU9e3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyPXt0aGlzLmhhbmRsZUZpbHRlcn0vPjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLlNFTEVDVDpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxTZWxlY3RGaWx0ZXIgey4uLnRoaXMucHJvcHMuZmlsdGVyfSBjb2x1bW5OYW1lPXt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyPXt0aGlzLmhhbmRsZUZpbHRlcn0vPjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLk5VTUJFUjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxOdW1iZXJGaWx0ZXIgey4uLnRoaXMucHJvcHMuZmlsdGVyfSBjb2x1bW5OYW1lPXt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyPXt0aGlzLmhhbmRsZUZpbHRlcn0vPjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLkRBVEU6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8RGF0ZUZpbHRlciB7Li4udGhpcy5wcm9wcy5maWx0ZXJ9IGNvbHVtbk5hbWU9e3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyPXt0aGlzLmhhbmRsZUZpbHRlcn0vPjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLkNVU1RPTTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZmlsdGVyLmdldEVsZW1lbnQodGhpcy5oYW5kbGVGaWx0ZXIsIHRoaXMucHJvcHMuZmlsdGVyLmN1c3RvbUZpbHRlclBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMucmVmcy5pbm5lckRpdi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZpZWxkXCIsIHRoaXMucHJvcHMuZGF0YUZpZWxkKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5wcm9wcy53aWR0aCA9PSBudWxsID9cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy53aWR0aCA6IHRoaXMucHJvcHMud2lkdGguaW5kZXhPZignJScpICE9PSAtMSA/IHRoaXMucHJvcHMud2lkdGggOiBwYXJzZUludCh0aGlzLnByb3BzLndpZHRoKTtcclxuICAgICAgICB2YXIgdGhTdHlsZSA9IHtcclxuICAgICAgICAgICAgdGV4dEFsaWduOiB0aGlzLnByb3BzLmRhdGFBbGlnbixcclxuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy5oaWRkZW4gPyBcIm5vbmVcIiA6IG51bGwsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgbWF4V2lkdGg6IHdpZHRoXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgZGVmYXVsdENhcmV0ID0gKCF0aGlzLnByb3BzLmRhdGFTb3J0KSA/IG51bGwgOiAoXHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm9yZGVyXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcmV0XCIgc3R5bGU9e3ttYXJnaW46ICcxMHB4IDAgMTBweCA1cHgnLCBjb2xvcjogJyNjY2MnfX0+PC9zcGFuPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkcm9wdXBcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcmV0XCIgc3R5bGU9e3ttYXJnaW46ICcxMHB4IDAnLCBjb2xvcjogJyNjY2MnfX0+PC9zcGFuPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3Qgc29ydENhcmV0ID0gdGhpcy5wcm9wcy5zb3J0ID8gVXRpbC5yZW5kZXJSZWFjdFNvcnRDYXJldCh0aGlzLnByb3BzLnNvcnQpIDogZGVmYXVsdENhcmV0O1xyXG5cclxuICAgICAgICB2YXIgY2xhc3NlcyA9IHRoaXMucHJvcHMuY2xhc3NOYW1lICsgXCIgXCIgKyAodGhpcy5wcm9wcy5kYXRhU29ydCA/IFwic29ydC1jb2x1bW5cIiA6IFwiXCIpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0aCByZWY9J2hlYWRlci1jb2wnIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3R5bGU9e3RoU3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiByZWY9XCJpbm5lckRpdlwiIGNsYXNzTmFtZT1cInRoLWlubmVyIHRhYmxlLWhlYWRlci1jb2x1bW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNvbHVtbkNsaWNrLmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufXtzb3J0Q2FyZXR9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmZpbHRlciA/IHRoaXMuZ2V0RmlsdGVycygpIDogbnVsbH1cclxuICAgICAgICAgICAgPC90aD5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBmaWx0ZXJUeXBlQXJyYXkgPSBbXTtcclxuZm9yIChsZXQga2V5IGluIENvbnN0LkZJTFRFUl9UWVBFKSB7XHJcbiAgICBmaWx0ZXJUeXBlQXJyYXkucHVzaChDb25zdC5GSUxURVJfVFlQRVtrZXldKTtcclxufVxyXG5cclxuVGFibGVIZWFkZXJDb2x1bW4ucHJvcFR5cGVzID0ge1xyXG4gICAgZGF0YUZpZWxkOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgZGF0YUFsaWduOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgZGF0YVNvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgb25Tb3J0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgIGRhdGFGb3JtYXQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgaXNLZXk6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgZWRpdGFibGU6IFJlYWN0LlByb3BUeXBlcy5hbnksXHJcbiAgICBoaWRkZW46IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgd2lkdGg6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBzb3J0RnVuYzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBjb2x1bW5DbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5hbnksXHJcbiAgICBmaWx0ZXJGb3JtYXR0ZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgc29ydDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGZvcm1hdEV4dHJhRGF0YTogUmVhY3QuUHJvcFR5cGVzLmFueSxcclxuICAgIGZpbHRlcjogUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgICAgICB0eXBlOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoZmlsdGVyVHlwZUFycmF5KSxcclxuICAgICAgICBkZWxheTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICAgICAgICBvcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgICAgICAgICAgUmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgLy8gZm9yIFNlbGVjdEZpbHRlclxyXG4gICAgICAgICAgICBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihSZWFjdC5Qcm9wVHlwZXMubnVtYmVyKSAvL2ZvciBOdW1iZXJGaWx0ZXJcclxuICAgICAgICBdKSxcclxuICAgICAgICBudW1iZXJDb21wYXJhdG9yczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXHJcbiAgICAgICAgZW1pdHRlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcclxuICAgICAgICBwbGFjZWhvbGRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBnZXRFbGVtZW50OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBjdXN0b21GaWx0ZXJQYXJhbWV0ZXJzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XHJcbiAgICB9KVxyXG59O1xyXG5cclxuVGFibGVIZWFkZXJDb2x1bW4uZGVmYXVsdFByb3BzID0ge1xyXG4gICAgZGF0YUFsaWduOiBcImxlZnRcIixcclxuICAgIGRhdGFTb3J0OiBmYWxzZSxcclxuICAgIGRhdGFGb3JtYXQ6IHVuZGVmaW5lZCxcclxuICAgIGlzS2V5OiBmYWxzZSxcclxuICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgb25Tb3J0OiB1bmRlZmluZWQsXHJcbiAgICBoaWRkZW46IGZhbHNlLFxyXG4gICAgY2xhc3NOYW1lOiBcIlwiLFxyXG4gICAgd2lkdGg6IG51bGwsXHJcbiAgICBzb3J0RnVuYzogdW5kZWZpbmVkLFxyXG4gICAgY29sdW1uQ2xhc3NOYW1lOiAnJyxcclxuICAgIGZpbHRlckZvcm1hdHRlZDogZmFsc2UsXHJcbiAgICBzb3J0OiB1bmRlZmluZWQsXHJcbiAgICBmb3JtYXRFeHRyYURhdGE6IHVuZGVmaW5lZCxcclxuICAgIGZpbHRlcjogdW5kZWZpbmVkXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUhlYWRlckNvbHVtbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVGFibGVIZWFkZXJDb2x1bW4uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcblxyXG5jbGFzcyBUYWJsZVJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuY2xpY2tOdW0gPSAwO1xyXG4gIH1cclxuXHJcbiAgcm93Q2xpY2soZSl7XHJcbiAgICBpZihlLnRhcmdldC50YWdOYW1lICE9PSBcIklOUFVUXCIgJiZcclxuICAgICAgICBlLnRhcmdldC50YWdOYW1lICE9PSBcIlNFTEVDVFwiICYmXHJcbiAgICAgICAgZS50YXJnZXQudGFnTmFtZSAhPT0gXCJURVhUQVJFQVwiKSB7XHJcbiAgICAgIGNvbnN0IHJvd0luZGV4ID0gZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4O1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cpIHtcclxuICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25TZWxlY3RSb3cocm93SW5kZXgsICF0aGlzLnByb3BzLmlzU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGlja051bSsrO1xyXG4gICAgICAgICAgICAvKiogaWYgY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsIGlzIGVuYWJsZWQsXHJcbiAgICAgICAgICAgICAqICB0aGVyZSBzaG91bGQgYmUgYSBkZWxheSB0byBwcmV2ZW50IGEgc2VsZWN0aW9uIGNoYW5nZWQgd2hlblxyXG4gICAgICAgICAgICAgKiAgdXNlciBkYmxpY2sgdG8gZWRpdCBjZWxsIG9uIHNhbWUgcm93IGJ1dCBkaWZmZXJlbnQgY2VsbFxyXG4gICAgICAgICAgICAqKi9cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYodGhpcy5jbGlja051bSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdFJvdyhyb3dJbmRleCwgIXRoaXMucHJvcHMuaXNTZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMuY2xpY2tOdW0gPSAwO1xyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uUm93Q2xpY2spIHRoaXMucHJvcHMub25Sb3dDbGljayhyb3dJbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByb3dNb3VzZU91dChlKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vblJvd01vdXNlT3V0KSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU91dChlLmN1cnJlbnRUYXJnZXQucm93SW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcm93TW91c2VPdmVyKGUpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU92ZXIoZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdGhpcy5jbGlja051bSA9IDA7XHJcbiAgICB2YXIgdHJDc3M9e1xyXG4gICAgICBzdHlsZTp7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmlzU2VsZWN0ZWQ/dGhpcy5wcm9wcy5zZWxlY3RSb3cuYmdDb2xvcjpudWxsXHJcbiAgICAgIH0sXHJcbiAgICAgIGNsYXNzTmFtZToodGhpcy5wcm9wcy5pc1NlbGVjdGVkICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA/IHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA6ICcnKSArICh0aGlzLnByb3BzLmNsYXNzTmFtZXx8JycpXHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHRoaXMucHJvcHMuc2VsZWN0Um93ICYmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0IHx8XHJcbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkgfHwgdGhpcy5wcm9wcy5vblJvd0NsaWNrKXtcclxuICAgICAgcmV0dXJuKFxyXG4gICAgICAgIDx0ciB7Li4udHJDc3N9XHJcbiAgICAgICAgICAgIG9uTW91c2VPdmVyPXt0aGlzLnJvd01vdXNlT3Zlci5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICBvbk1vdXNlT3V0PXt0aGlzLnJvd01vdXNlT3V0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucm93Q2xpY2suYmluZCh0aGlzKX0+e3RoaXMucHJvcHMuY2hpbGRyZW59PC90cj5cclxuICAgICAgKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgIHJldHVybihcclxuICAgICAgICA8dHIgey4uLnRyQ3NzfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3RyPlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblRhYmxlUm93LnByb3BUeXBlcyA9IHtcclxuICBpc1NlbGVjdGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBlbmFibGVDZWxsRWRpdDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgb25Sb3dDbGljazogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25TZWxlY3RSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG9uUm93TW91c2VPdXQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG9uUm93TW91c2VPdmVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5UYWJsZVJvdy5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgb25Sb3dDbGljazogdW5kZWZpbmVkXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgVGFibGVSb3c7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlUm93LmpzXG4gKiovIiwiaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gIHZhciBmaWxlc2F2ZXIgPSByZXF1aXJlKCcuL2ZpbGVzYXZlcicpO1xyXG4gIHZhciBzYXZlQXMgPSBmaWxlc2F2ZXIuc2F2ZUFzXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvU3RyaW5nKGRhdGEsIGtleXMpIHtcclxuICB2YXIgZGF0YVN0cmluZyA9IFwiXCI7XHJcbiAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZGF0YVN0cmluZztcclxuXHJcbiAgZGF0YVN0cmluZyArPSBrZXlzLmpvaW4oJywnKSArICdcXG4nXHJcblxyXG4gIGRhdGEubWFwKGZ1bmN0aW9uKHJvdykge1xyXG4gICAga2V5cy5tYXAoZnVuY3Rpb24oY29sLCBpKSB7XHJcbiAgICAgIGxldCBjZWxsID0gdHlwZW9mIHJvd1tjb2xdICE9PSAndW5kZWZpbmVkJyA/ICgnXCInK3Jvd1tjb2xdKydcIicpIDogXCJcIjtcclxuICAgICAgZGF0YVN0cmluZyArPSBjZWxsO1xyXG4gICAgICBpZiAoaSsxIDwga2V5cy5sZW5ndGgpXHJcbiAgICAgICAgZGF0YVN0cmluZyArPSAnLCc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkYXRhU3RyaW5nICs9ICdcXG4nO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gZGF0YVN0cmluZztcclxufTtcclxuXHJcbnZhciBleHBvcnRDU1YgPSBmdW5jdGlvbihkYXRhLCBrZXlzLCBmaWxlbmFtZSkge1xyXG4gIHZhciBkYXRhU3RyaW5nID0gdG9TdHJpbmcoZGF0YSwga2V5cyk7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBzYXZlQXMoIG5ldyBCbG9iKFtkYXRhU3RyaW5nXSwge3R5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCJ9KSwgZmlsZW5hbWUgfHwgJ3NwcmVhZHNoZWV0LmNzdicgKTtcclxuICB9XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZXhwb3J0Q1NWO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jc3ZfZXhwb3J0X3V0aWwuanNcbiAqKi8iLCIvKiBGaWxlU2F2ZXIuanNcclxuICogQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXHJcbiAqIDEuMS4yMDE1MTAwM1xyXG4gKlxyXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cclxuXHJcbi8qZ2xvYmFsIHNlbGYgKi9cclxuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cclxuXHJcbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXHJcblxyXG52YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbih2aWV3KSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0Ly8gSUUgPDEwIGlzIGV4cGxpY2l0bHkgdW5zdXBwb3J0ZWRcclxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHR2YXJcclxuXHRcdCAgZG9jID0gdmlldy5kb2N1bWVudFxyXG5cdFx0ICAvLyBvbmx5IGdldCBVUkwgd2hlbiBuZWNlc3NhcnkgaW4gY2FzZSBCbG9iLmpzIGhhc24ndCBvdmVycmlkZGVuIGl0IHlldFxyXG5cdFx0LCBnZXRfVVJMID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3O1xyXG5cdFx0fVxyXG5cdFx0LCBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcclxuXHRcdCwgY2FuX3VzZV9zYXZlX2xpbmsgPSBcImRvd25sb2FkXCIgaW4gc2F2ZV9saW5rXHJcblx0XHQsIGNsaWNrID0gZnVuY3Rpb24obm9kZSkge1xyXG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xyXG5cdFx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG5cdFx0fVxyXG5cdFx0LCBpc19zYWZhcmkgPSAvVmVyc2lvblxcL1tcXGRcXC5dKy4qU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXHJcblx0XHQsIHdlYmtpdF9yZXFfZnMgPSB2aWV3LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtXHJcblx0XHQsIHJlcV9mcyA9IHZpZXcucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2Via2l0X3JlcV9mcyB8fCB2aWV3Lm1velJlcXVlc3RGaWxlU3lzdGVtXHJcblx0XHQsIHRocm93X291dHNpZGUgPSBmdW5jdGlvbihleCkge1xyXG5cdFx0XHQodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR0aHJvdyBleDtcclxuXHRcdFx0fSwgMCk7XHJcblx0XHR9XHJcblx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXHJcblx0XHQsIGZzX21pbl9zaXplID0gMFxyXG5cdFx0Ly8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzUyOTcjYzcgYW5kXHJcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvY29tbWl0LzQ4NTkzMGEjY29tbWl0Y29tbWVudC04NzY4MDQ3XHJcblx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xyXG5cdFx0LCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSA1MDAgLy8gaW4gbXNcclxuXHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xyXG5cdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIikgeyAvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcclxuXHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XHJcblx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcclxuXHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZiAodmlldy5jaHJvbWUpIHtcclxuXHRcdFx0XHRyZXZva2VyKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2V0VGltZW91dChyZXZva2VyLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcclxuXHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xyXG5cdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcclxuXHRcdFx0d2hpbGUgKGktLSkge1xyXG5cdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XHJcblx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcclxuXHRcdFx0Ly8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcclxuXHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1wiXFx1ZmVmZlwiLCBibG9iXSwge3R5cGU6IGJsb2IudHlwZX0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBibG9iO1xyXG5cdFx0fVxyXG5cdFx0LCBGaWxlU2F2ZXIgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG5cdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XHJcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdCAgZmlsZXNhdmVyID0gdGhpc1xyXG5cdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxyXG5cdFx0XHRcdCwgYmxvYl9jaGFuZ2VkID0gZmFsc2VcclxuXHRcdFx0XHQsIG9iamVjdF91cmxcclxuXHRcdFx0XHQsIHRhcmdldF92aWV3XHJcblx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xyXG5cdFx0XHRcdCwgZnNfZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmICh0YXJnZXRfdmlldyAmJiBpc19zYWZhcmkgJiYgdHlwZW9mIEZpbGVSZWFkZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdFx0XHRcdFx0Ly8gU2FmYXJpIGRvZXNuJ3QgYWxsb3cgZG93bmxvYWRpbmcgb2YgYmxvYiB1cmxzXHJcblx0XHRcdFx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cdFx0XHRcdFx0XHRyZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGJhc2U2NERhdGEgPSByZWFkZXIucmVzdWx0O1xyXG5cdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBcImRhdGE6YXR0YWNobWVudC9maWxlXCIgKyBiYXNlNjREYXRhLnNsaWNlKGJhc2U2NERhdGEuc2VhcmNoKC9bLDtdLykpO1xyXG5cdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XHJcblx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxyXG5cdFx0XHRcdFx0aWYgKGJsb2JfY2hhbmdlZCB8fCAhb2JqZWN0X3VybCkge1xyXG5cdFx0XHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICh0YXJnZXRfdmlldykge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHZhciBuZXdfdGFiID0gdmlldy5vcGVuKG9iamVjdF91cmwsIFwiX2JsYW5rXCIpO1xyXG5cdFx0XHRcdFx0XHRpZiAobmV3X3RhYiA9PSB1bmRlZmluZWQgJiYgaXNfc2FmYXJpKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly9BcHBsZSBkbyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwOi8vYml0Lmx5LzFrWmZmUklcclxuXHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XHJcblx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcclxuXHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LCBhYm9ydGFibGUgPSBmdW5jdGlvbihmdW5jKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdGlmIChmaWxlc2F2ZXIucmVhZHlTdGF0ZSAhPT0gZmlsZXNhdmVyLkRPTkUpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQsIGNyZWF0ZV9pZl9ub3RfZm91bmQgPSB7Y3JlYXRlOiB0cnVlLCBleGNsdXNpdmU6IGZhbHNlfVxyXG5cdFx0XHRcdCwgc2xpY2VcclxuXHRcdFx0O1xyXG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xyXG5cdFx0XHRpZiAoIW5hbWUpIHtcclxuXHRcdFx0XHRuYW1lID0gXCJkb3dubG9hZFwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xyXG5cdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcclxuXHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xyXG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XHJcblx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XHJcblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxyXG5cdFx0XHQvLyB2aWV3ZWQgaW4gYSB0YWIsIHNvIEkgZm9yY2Ugc2F2ZSB3aXRoIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVxyXG5cdFx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MTE1OFxyXG5cdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxyXG5cdFx0XHQvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzg5NjQyXHJcblx0XHRcdGlmICh2aWV3LmNocm9tZSAmJiB0eXBlICYmIHR5cGUgIT09IGZvcmNlX3NhdmVhYmxlX3R5cGUpIHtcclxuXHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcclxuXHRcdFx0XHRibG9iID0gc2xpY2UuY2FsbChibG9iLCAwLCBibG9iLnNpemUsIGZvcmNlX3NhdmVhYmxlX3R5cGUpO1xyXG5cdFx0XHRcdGJsb2JfY2hhbmdlZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gU2luY2UgSSBjYW4ndCBiZSBzdXJlIHRoYXQgdGhlIGd1ZXNzZWQgbWVkaWEgdHlwZSB3aWxsIHRyaWdnZXIgYSBkb3dubG9hZFxyXG5cdFx0XHQvLyBpbiBXZWJLaXQsIEkgYXBwZW5kIC5kb3dubG9hZCB0byB0aGUgZmlsZW5hbWUuXHJcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxyXG5cdFx0XHRpZiAod2Via2l0X3JlcV9mcyAmJiBuYW1lICE9PSBcImRvd25sb2FkXCIpIHtcclxuXHRcdFx0XHRuYW1lICs9IFwiLmRvd25sb2FkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHR5cGUgPT09IGZvcmNlX3NhdmVhYmxlX3R5cGUgfHwgd2Via2l0X3JlcV9mcykge1xyXG5cdFx0XHRcdHRhcmdldF92aWV3ID0gdmlldztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXJlcV9mcykge1xyXG5cdFx0XHRcdGZzX2Vycm9yKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZzX21pbl9zaXplICs9IGJsb2Iuc2l6ZTtcclxuXHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZzKSB7XHJcblx0XHRcdFx0ZnMucm9vdC5nZXREaXJlY3RvcnkoXCJzYXZlZFwiLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZGlyKSB7XHJcblx0XHRcdFx0XHR2YXIgc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xyXG5cdFx0XHRcdFx0XHRcdGZpbGUuY3JlYXRlV3JpdGVyKGFib3J0YWJsZShmdW5jdGlvbih3cml0ZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbndyaXRlZW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV2b2tlKGZpbGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IHdyaXRlci5lcnJvcjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yLmNvZGUgIT09IGVycm9yLkFCT1JUX0VSUikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgYWJvcnRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLndyaXRlKGJsb2IpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5hYm9ydCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLldSSVRJTkc7XHJcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcclxuXHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7Y3JlYXRlOiBmYWxzZX0sIGFib3J0YWJsZShmdW5jdGlvbihmaWxlKSB7XHJcblx0XHRcdFx0XHRcdC8vIGRlbGV0ZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzXHJcblx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRcdHNhdmUoKTtcclxuXHRcdFx0XHRcdH0pLCBhYm9ydGFibGUoZnVuY3Rpb24oZXgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGV4LmNvZGUgPT09IGV4Lk5PVF9GT1VORF9FUlIpIHtcclxuXHRcdFx0XHRcdFx0XHRzYXZlKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHRcdH0pLCBmc19lcnJvcik7XHJcblx0XHRcdH0pLCBmc19lcnJvcik7XHJcblx0XHR9XHJcblx0XHQsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxyXG5cdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XHJcblx0XHR9XHJcblx0O1xyXG5cdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcclxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XHJcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcclxuXHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUgfHwgXCJkb3dubG9hZFwiKTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRGU19wcm90by5hYm9ydCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGZpbGVzYXZlciA9IHRoaXM7XHJcblx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcImFib3J0XCIpO1xyXG5cdH07XHJcblx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xyXG5cdEZTX3Byb3RvLldSSVRJTkcgPSAxO1xyXG5cdEZTX3Byb3RvLkRPTkUgPSAyO1xyXG5cclxuXHRGU19wcm90by5lcnJvciA9XHJcblx0RlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cclxuXHRGU19wcm90by5vbnByb2dyZXNzID1cclxuXHRGU19wcm90by5vbndyaXRlID1cclxuXHRGU19wcm90by5vbmFib3J0ID1cclxuXHRGU19wcm90by5vbmVycm9yID1cclxuXHRGU19wcm90by5vbndyaXRlZW5kID1cclxuXHRcdG51bGw7XHJcblxyXG5cdHJldHVybiBzYXZlQXM7XHJcbn0oXHJcblx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxyXG5cdHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XHJcblx0fHwgdGhpcy5jb250ZW50XHJcbikpO1xyXG4vLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxyXG4vLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcclxuLy8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XHJcbn0gZWxzZSBpZiAoKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsKSAmJiAoZGVmaW5lLmFtZCAhPSBudWxsKSkge1xyXG4gIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gc2F2ZUFzO1xyXG4gIH0pO1xyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZpbGVzYXZlci5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuLi9Db25zdCc7XHJcblxyXG5jbGFzcyBEYXRlRmlsdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREZWZhdWx0RGF0ZSgpIHtcclxuICAgICAgICBsZXQgZGVmYXVsdERhdGUgID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgZm9yIHRoZSBpbnB1dCB0eXBlPWRhdGUsIGkuZS4gXCJZWVlZLU1NLUREXCJcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gbmV3IERhdGUodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgICAgICBkZWZhdWx0RGF0ZSA9IGAke2RlZmF1bHRWYWx1ZS5nZXRGdWxsWWVhcigpfS0keyhcIjBcIiArIChkZWZhdWx0VmFsdWUuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMil9LSR7KFwiMFwiICsgZGVmYXVsdFZhbHVlLmdldERhdGUoKSkuc2xpY2UoLTIpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkZWZhdWx0RGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXIoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgaWYgKGRhdGVWYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIobmV3IERhdGUoZGF0ZVZhbHVlKSwgQ29uc3QuRklMVEVSX1RZUEUuREFURSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKG51bGwsIENvbnN0LkZJTFRFUl9UWVBFLkRBVEUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSB0aGlzLnJlZnMuaW5wdXREYXRlLmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICBpZiAoZGF0ZVZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihuZXcgRGF0ZShkYXRlVmFsdWUpLCBDb25zdC5GSUxURVJfVFlQRS5EQVRFKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxpbnB1dCByZWY9XCJpbnB1dERhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsdGVyIGRhdGUtZmlsdGVyIGZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5maWx0ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RoaXMuc2V0RGVmYXVsdERhdGUoKX0gLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuRGF0ZUZpbHRlci5wcm9wVHlwZXMgPSB7XHJcbiAgICBmaWx0ZXJIYW5kbGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxyXG4gICAgY29sdW1uTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0ZUZpbHRlcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmlsdGVycy9EYXRlLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi4vQ29uc3QnO1xyXG5cclxuY29uc3QgbGVnYWxDb21wYXJhdG9ycyA9IFtcIj1cIiwgXCI+XCIsIFwiPj1cIiwgXCI8XCIsIFwiPD1cIiwgXCIhPVwiXTtcclxuXHJcbmNsYXNzIE51bWJlckZpbHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLm51bWJlckNvbXBhcmF0b3JzID0gdGhpcy5wcm9wcy5udW1iZXJDb21wYXJhdG9ycyB8fCBsZWdhbENvbXBhcmF0b3JzO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGlzUGxhY2Vob2xkZXJTZWxlY3RlZDogKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlID09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZS5udW1iZXIgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLm9wdGlvbnMgJiYgdGhpcy5wcm9wcy5vcHRpb25zLmluZGV4T2YodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyKSA9PSAtMSkpXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlTnVtYmVyID0gdGhpcy5vbkNoYW5nZU51bWJlci5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2VOdW1iZXJTZXQgPSB0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZUNvbXBhcmF0b3IgPSB0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvci5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hhbmdlTnVtYmVyKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5wcm9wcy5maWx0ZXJIYW5kbGVyKHtudW1iZXI6IGZpbHRlclZhbHVlLCBjb21wYXJhdG9yOiBzZWxmLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZX0sXHJcbiAgICAgICAgICAgICAgICBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVIpO1xyXG4gICAgICAgIH0sIHNlbGYucHJvcHMuZGVsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hhbmdlTnVtYmVyU2V0KGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNQbGFjZWhvbGRlclNlbGVjdGVkOiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSBcIlwiKX0pO1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7bnVtYmVyOiBldmVudC50YXJnZXQudmFsdWUsIGNvbXBhcmF0b3I6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlfSxcclxuICAgICAgICAgICAgQ29uc3QuRklMVEVSX1RZUEUuTlVNQkVSKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZUNvbXBhcmF0b3IoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWZzLm51bWJlckZpbHRlci52YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7bnVtYmVyOiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlLCBjb21wYXJhdG9yOiBldmVudC50YXJnZXQudmFsdWV9LFxyXG4gICAgICAgICAgICBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbXBhcmF0b3JPcHRpb25zKCkge1xyXG4gICAgICAgIGxldCBvcHRpb25UYWdzID0gW107XHJcbiAgICAgICAgb3B0aW9uVGFncy5wdXNoKDxvcHRpb24ga2V5PVwiLTFcIj48L29wdGlvbj4pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1iZXJDb21wYXJhdG9ycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvcHRpb25UYWdzLnB1c2goPG9wdGlvbiBrZXk9e2l9IHZhbHVlPXt0aGlzLm51bWJlckNvbXBhcmF0b3JzW2ldfT57dGhpcy5udW1iZXJDb21wYXJhdG9yc1tpXX08L29wdGlvbj4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvblRhZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TnVtYmVyT3B0aW9ucygpIHtcclxuICAgICAgICBsZXQgb3B0aW9uVGFncyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnM7XHJcblxyXG4gICAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT1cIi0xXCIgdmFsdWU9XCJcIj57dGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCBgU2VsZWN0ICR7dGhpcy5wcm9wcy5jb2x1bW5OYW1lfS4uLmB9PC9vcHRpb24+KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKDxvcHRpb24ga2V5PXtpfSB2YWx1ZT17b3B0aW9uc1tpXX0+e29wdGlvbnNbaV19PC9vcHRpb24+KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBvcHRpb25UYWdzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSAmJiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7bnVtYmVyOiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgY29tcGFyYXRvcjogdGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWV9LFxyXG4gICAgICAgICAgICAgICAgQ29uc3QuRklMVEVSX1RZUEUuTlVNQkVSKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHZhciBzZWxlY3RDbGFzcyA9IGNsYXNzU2V0KFwic2VsZWN0LWZpbHRlclwiLCBcIm51bWJlci1maWx0ZXItaW5wdXRcIiwgXCJmb3JtLWNvbnRyb2xcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJwbGFjZWhvbGRlci1zZWxlY3RlZFwiOiB0aGlzLnN0YXRlLmlzUGxhY2Vob2xkZXJTZWxlY3RlZCB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXIgbnVtYmVyLWZpbHRlclwiPlxyXG4gICAgICAgICAgICAgICAgPHNlbGVjdCByZWY9XCJudW1iZXJGaWx0ZXJDb21wYXJhdG9yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibnVtYmVyLWZpbHRlci1jb21wYXJhdG9yIGZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpID8gdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUuY29tcGFyYXRvciA6IFwiXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldENvbXBhcmF0b3JPcHRpb25zKCl9XHJcbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgIHsodGhpcy5wcm9wcy5vcHRpb25zKSA/IDxzZWxlY3QgcmVmPVwibnVtYmVyRmlsdGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzZWxlY3RDbGFzc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VOdW1iZXJTZXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZS5udW1iZXIgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0TnVtYmVyT3B0aW9ucygpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+IDpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgcmVmPVwibnVtYmVyRmlsdGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJudW1iZXItZmlsdGVyLWlucHV0IGZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgYEVudGVyICR7dGhpcy5wcm9wcy5jb2x1bW5OYW1lfS4uLmB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VOdW1iZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlciA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwifSAvPn1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufTtcclxuXHJcbk51bWJlckZpbHRlci5wcm9wVHlwZXMgPSB7XHJcbiAgICBmaWx0ZXJIYW5kbGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgb3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLm51bWJlciksXHJcbiAgICBkZWZhdWx0VmFsdWU6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgbnVtYmVyOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIGNvbXBhcmF0b3I6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihsZWdhbENvbXBhcmF0b3JzKVxyXG4gICAgfSksXHJcbiAgICBkZWxheTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICAgIG51bWJlckNvbXBhcmF0b3JzOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUpIHtcclxuICAgICAgICBpZiAoIXByb3BzW3Byb3BOYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNbcHJvcE5hbWVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wYXJhdG9ySXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlZ2FsQ29tcGFyYXRvcnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdhbENvbXBhcmF0b3JzW2pdID09PSBwcm9wc1twcm9wTmFtZV1baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wYXJhdG9ySXNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFjb21wYXJhdG9ySXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihgTnVtYmVyIGNvbXBhcmF0b3IgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZC4gVXNlIG9ubHkgJHtsZWdhbENvbXBhcmF0b3JzfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHBsYWNlaG9sZGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgY29sdW1uTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuTnVtYmVyRmlsdGVyLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGRlbGF5OiBDb25zdC5GSUxURVJfREVMQVlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE51bWJlckZpbHRlcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmlsdGVycy9OdW1iZXIuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuLi9Db25zdCc7XHJcblxyXG5jbGFzcyBTZWxlY3RGaWx0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcblx0XHRzdXBlcihwcm9wcyk7XHJcblx0XHR0aGlzLmZpbHRlciA9IHRoaXMuZmlsdGVyLmJpbmQodGhpcyk7XHJcblx0XHR0aGlzLnN0YXRlID0ge1xyXG5cdFx0XHRpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6ICh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA9PSB1bmRlZmluZWQgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0IXRoaXMucHJvcHMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkpXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0ZmlsdGVyKGV2ZW50KSB7XHJcblx0XHR0aGlzLnNldFN0YXRlKHtpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6IChldmVudC50YXJnZXQudmFsdWUgPT09IFwiXCIpfSk7XHJcblx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoZXZlbnQudGFyZ2V0LnZhbHVlLCBDb25zdC5GSUxURVJfVFlQRS5TRUxFQ1QpO1xyXG5cdH1cclxuXHJcblx0Z2V0T3B0aW9ucygpIHtcclxuXHRcdGxldCBvcHRpb25UYWdzID0gW107XHJcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xyXG5cdFx0b3B0aW9uVGFncy5wdXNoKDxvcHRpb24ga2V5PVwiLTFcIiB2YWx1ZT1cIlwiPnt0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGBTZWxlY3QgJHt0aGlzLnByb3BzLmNvbHVtbk5hbWV9Li4uYH08L29wdGlvbj4pO1xyXG5cdFx0T2JqZWN0LmtleXMob3B0aW9ucykubWFwKChrZXkpID0+IHtcclxuXHRcdFx0b3B0aW9uVGFncy5wdXNoKDxvcHRpb24ga2V5PXtrZXl9IHZhbHVlPXtrZXl9PntvcHRpb25zW2tleV19PC9vcHRpb24+KTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIG9wdGlvblRhZ3M7XHJcblx0fVxyXG5cclxuXHRjb21wb25lbnREaWRNb3VudCgpIHtcclxuXHRcdGlmICh0aGlzLnJlZnMuc2VsZWN0SW5wdXQudmFsdWUpIHtcclxuXHRcdFx0dGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHRoaXMucmVmcy5zZWxlY3RJbnB1dC52YWx1ZSwgQ29uc3QuRklMVEVSX1RZUEUuU0VMRUNUKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHZhciBzZWxlY3RDbGFzcyA9IGNsYXNzU2V0KFwiZmlsdGVyXCIsIFwic2VsZWN0LWZpbHRlclwiLCBcImZvcm0tY29udHJvbFwiLFxyXG5cdFx0XHRcdFx0XHRcdHtcInBsYWNlaG9sZGVyLXNlbGVjdGVkXCI6IHRoaXMuc3RhdGUuaXNQbGFjZWhvbGRlclNlbGVjdGVkfSk7XHJcblxyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PHNlbGVjdCByZWY9XCJzZWxlY3RJbnB1dFwiXHJcblx0XHRcdFx0XHRjbGFzc05hbWU9e3NlbGVjdENsYXNzfVxyXG5cdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuZmlsdGVyfVxyXG5cdFx0XHRcdFx0ZGVmYXVsdFZhbHVlPXsodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgIT0gdW5kZWZpbmVkKSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIDogXCJcIn0+XHJcblx0XHRcdFx0e3RoaXMuZ2V0T3B0aW9ucygpfVxyXG5cdFx0XHQ8L3NlbGVjdD5cclxuXHRcdCk7XHJcblx0fVxyXG59O1xyXG5cclxuU2VsZWN0RmlsdGVyLnByb3BUeXBlcyA9IHtcclxuXHRmaWx0ZXJIYW5kbGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG5cdG9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuXHRwbGFjZWhvbGRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuXHRjb2x1bW5OYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RGaWx0ZXI7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZpbHRlcnMvU2VsZWN0LmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4uL0NvbnN0JztcclxuXHJcbmNsYXNzIFRleHRGaWx0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcblx0XHRzdXBlcihwcm9wcyk7XHJcblx0XHR0aGlzLmZpbHRlciA9IHRoaXMuZmlsdGVyLmJpbmQodGhpcyk7XHJcblx0XHR0aGlzLnRpbWVvdXQgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0ZmlsdGVyKGV2ZW50KSB7XHJcblx0XHRpZiAodGhpcy50aW1lb3V0KSB7XHJcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XHJcblx0XHRjb25zdCBmaWx0ZXJWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuXHRcdHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHNlbGYucHJvcHMuZmlsdGVySGFuZGxlcihmaWx0ZXJWYWx1ZSwgQ29uc3QuRklMVEVSX1RZUEUuVEVYVCk7XHJcblx0XHR9LCBzZWxmLnByb3BzLmRlbGF5KTtcclxuXHR9XHJcblxyXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xyXG5cdFx0aWYgKHRoaXMucmVmcy5pbnB1dFRleHQuZGVmYXVsdFZhbHVlKSB7XHJcblx0XHRcdHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih0aGlzLnJlZnMuaW5wdXRUZXh0LmRlZmF1bHRWYWx1ZSwgQ29uc3QuRklMVEVSX1RZUEUuVEVYVCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8aW5wdXQgcmVmPVwiaW5wdXRUZXh0XCJcclxuXHRcdFx0XHQgICBjbGFzc05hbWU9XCJmaWx0ZXIgdGV4dC1maWx0ZXIgZm9ybS1jb250cm9sXCJcclxuXHRcdFx0XHQgICB0eXBlPVwidGV4dFwiXHJcblx0XHRcdFx0ICAgb25DaGFuZ2U9e3RoaXMuZmlsdGVyfVxyXG5cdFx0XHRcdCAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGBFbnRlciAke3RoaXMucHJvcHMuY29sdW1uTmFtZX0uLi5gfVxyXG5cdFx0XHRcdCAgIGRlZmF1bHRWYWx1ZT17KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIDogXCJcIn0gLz5cclxuXHRcdCk7XHJcblx0fVxyXG59O1xyXG5cclxuVGV4dEZpbHRlci5wcm9wVHlwZXMgPSB7XHJcblx0ZmlsdGVySGFuZGxlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRkZWZhdWx0VmFsdWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcblx0ZGVsYXk6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcblx0cGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcblx0Y29sdW1uTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuVGV4dEZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XHJcblx0ZGVsYXk6IENvbnN0LkZJTFRFUl9ERUxBWVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXh0RmlsdGVyO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9maWx0ZXJzL1RleHQuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcblxyXG5jbGFzcyBQYWdlQnV0dG9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdH1cclxuXHJcbiAgcGFnZUJ0bkNsaWNrKGUpe1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5wcm9wcy5jaGFuZ2VQYWdlKGUuY3VycmVudFRhcmdldC50ZXh0KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIGNsYXNzZXMgPSBjbGFzc1NldCh7XHJcbiAgICAgICAgJ2FjdGl2ZSc6IHRoaXMucHJvcHMuYWN0aXZlLFxyXG4gICAgICAgICdkaXNhYmxlZCc6IHRoaXMucHJvcHMuZGlzYWJsZSxcclxuICAgICAgICAnaGlkZGVuJzogdGhpcy5wcm9wcy5oaWRkZW5cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc2VzfT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMucGFnZUJ0bkNsaWNrLmJpbmQodGhpcyl9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYT48L2xpPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5QYWdlQnV0dG9uLnByb3BUeXBlcyA9IHtcclxuICBjaGFuZ2VQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBhY3RpdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGRpc2FibGU6IFJlYWN0LlByb3BUeXBlcy5ib29sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYWdlQnV0dG9uO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9wYWdpbmF0aW9uL1BhZ2VCdXR0b24uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUGFnZUJ1dHRvbiBmcm9tICcuL1BhZ2VCdXR0b24uanMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi4vQ29uc3QnO1xyXG5cclxuY2xhc3MgUGFnaW5hdGlvbkxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjaGFuZ2VQYWdlKHBhZ2UpIHtcclxuICAgIGlmIChwYWdlID09IHRoaXMucHJvcHMucHJlUGFnZSkge1xyXG4gICAgICBwYWdlID0gdGhpcy5wcm9wcy5jdXJyUGFnZSAtIDEgPCAxID8gMSA6IHRoaXMucHJvcHMuY3VyclBhZ2UgLSAxO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMubmV4dFBhZ2UpIHtcclxuICAgICAgcGFnZSA9IHRoaXMucHJvcHMuY3VyclBhZ2UgKyAxID4gdGhpcy50b3RhbFBhZ2VzID8gdGhpcy50b3RhbFBhZ2VzIDogdGhpcy5wcm9wcy5jdXJyUGFnZSArIDE7XHJcbiAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gdGhpcy5wcm9wcy5sYXN0UGFnZSkge1xyXG4gICAgICBwYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMuZmlyc3RQYWdlKSB7XHJcbiAgICAgIHBhZ2UgPSAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGFnZSA9IHBhcnNlSW50KHBhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYWdlICE9IHRoaXMucHJvcHMuY3VyclBhZ2UpIHtcclxuICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VQYWdlKHBhZ2UsIHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hhbmdlU2l6ZVBlclBhZ2UoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnN0IHNlbGVjdFNpemUgPSBwYXJzZUludChlLmN1cnJlbnRUYXJnZXQudGV4dCk7XHJcbiAgICBsZXQgeyBjdXJyUGFnZSB9ID0gdGhpcy5wcm9wcztcclxuICAgIGlmIChzZWxlY3RTaXplICE9IHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpIHtcclxuICAgICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMucHJvcHMuZGF0YVNpemUgLyBzZWxlY3RTaXplKTtcclxuICAgICAgaWYgKGN1cnJQYWdlID4gdGhpcy50b3RhbFBhZ2VzKVxyXG4gICAgICAgIGN1cnJQYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xyXG5cclxuICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VQYWdlKGN1cnJQYWdlLCBzZWxlY3RTaXplKTtcclxuICAgICAgaWYodGhpcy5wcm9wcy5vblNpemVQZXJQYWdlTGlzdCl7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNpemVQZXJQYWdlTGlzdChzZWxlY3RTaXplKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMucHJvcHMuZGF0YVNpemUgLyB0aGlzLnByb3BzLnNpemVQZXJQYWdlKTtcclxuICAgIHZhciBwYWdlQnRucyA9IHRoaXMubWFrZVBhZ2UoKTtcclxuICAgIHZhciBwYWdlTGlzdFN0eWxlID0ge1xyXG4gICAgICBmbG9hdDogXCJyaWdodFwiLFxyXG4gICAgICBtYXJnaW5Ub3A6IFwiMHB4XCIgIC8vb3ZlcnJpZGUgdGhlIG1hcmdpbi10b3AgZGVmaW5lZCBpbiAucGFnaW5hdGlvbiBjbGFzcyBpbiBib290c3RyYXAuXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNpemVQZXJQYWdlTGlzdCA9IHRoaXMucHJvcHMuc2l6ZVBlclBhZ2VMaXN0Lm1hcCgoc2l6ZVBlclBhZ2UpID0+IHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8bGkga2V5PXtzaXplUGVyUGFnZX0gcm9sZT1cInByZXNlbnRhdGlvblwiPlxyXG4gICAgICAgICAgPGEgcm9sZT1cIm1lbnVpdGVtXCIgdGFiSW5kZXg9XCItMVwiIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy5jaGFuZ2VTaXplUGVyUGFnZS5iaW5kKHRoaXMpfT57c2l6ZVBlclBhZ2V9PC9hPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIHN0eWxlPXt7IG1hcmdpblRvcDogMTUgfX0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5zaXplUGVyUGFnZUxpc3QubGVuZ3RoID4gMVxyXG4gICAgICAgICAgPyA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVwiIHR5cGU9XCJidXR0b25cIiBpZD1cInBhZ2VEcm9wRG93blwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNpemVQZXJQYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiIGFyaWEtbGFiZWxsZWRieT1cInBhZ2VEcm9wRG93blwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3NpemVQZXJQYWdlTGlzdH1cclxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFnaW5hdGlvblwiIHN0eWxlPXtwYWdlTGlzdFN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICB7cGFnZUJ0bnN9XHJcbiAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cclxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFnaW5hdGlvblwiIHN0eWxlPXtwYWdlTGlzdFN0eWxlfT5cclxuICAgICAgICAgICAgICAgIHtwYWdlQnRuc31cclxuICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgbWFrZVBhZ2UoKSB7XHJcbiAgICB2YXIgcGFnZXMgPSB0aGlzLmdldFBhZ2VzKCk7XHJcbiAgICByZXR1cm4gcGFnZXMubWFwKGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgIHZhciBpc0FjdGl2ZSA9IHBhZ2UgPT09IHRoaXMucHJvcHMuY3VyclBhZ2U7XHJcbiAgICAgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB2YXIgaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgIGlmKHRoaXMucHJvcHMuY3VyclBhZ2UgPT0gMSAmJlxyXG4gICAgICAgIChwYWdlID09PSB0aGlzLnByb3BzLmZpcnN0UGFnZSB8fCBwYWdlID09PSB0aGlzLnByb3BzLnByZVBhZ2UpKXtcclxuICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGhpZGRlbiA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYodGhpcy5wcm9wcy5jdXJyUGFnZSA9PSB0aGlzLnRvdGFsUGFnZXMgJiZcclxuICAgICAgICAocGFnZSA9PT0gdGhpcy5wcm9wcy5uZXh0UGFnZSB8fCBwYWdlID09PSB0aGlzLnByb3BzLmxhc3RQYWdlKSl7XHJcbiAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFBhZ2VCdXR0b24gY2hhbmdlUGFnZT17dGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcyl9IGFjdGl2ZT17aXNBY3RpdmV9IGRpc2FibGU9e2Rpc2FibGVkfSBoaWRkZW49e2hpZGRlbn0ga2V5PXtwYWdlfT57cGFnZX08L1BhZ2VCdXR0b24+XHJcbiAgICAgIClcclxuICAgIH0sIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UGFnZXMoKSB7XHJcbiAgICB2YXIgc3RhcnRQYWdlID0gMSwgZW5kUGFnZSA9IHRoaXMudG90YWxQYWdlcztcclxuXHJcbiAgICBzdGFydFBhZ2UgPSBNYXRoLm1heCh0aGlzLnByb3BzLmN1cnJQYWdlIC0gTWF0aC5mbG9vcih0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplIC8gMiksIDEpO1xyXG4gICAgZW5kUGFnZSA9IHN0YXJ0UGFnZSArIHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUgLSAxO1xyXG5cclxuICAgIGlmIChlbmRQYWdlID4gdGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgIGVuZFBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XHJcbiAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSB0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplICsgMTtcclxuICAgIH1cclxuICAgIHZhciBwYWdlcztcclxuICAgIGlmKHN0YXJ0UGFnZSAhPSAxICYmIHRoaXMudG90YWxQYWdlcyA+IHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUpIHtcclxuICAgICAgcGFnZXMgPSBbdGhpcy5wcm9wcy5maXJzdFBhZ2UsIHRoaXMucHJvcHMucHJlUGFnZV07XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMudG90YWxQYWdlcyA+IDEpIHtcclxuICAgICAgcGFnZXMgPSBbdGhpcy5wcm9wcy5wcmVQYWdlXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwYWdlcyA9IFtdXHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gc3RhcnRQYWdlOyBpIDw9IGVuZFBhZ2U7IGkrKykge1xyXG4gICAgICBpZiAoaSA+IDApcGFnZXMucHVzaChpKTtcclxuICAgIH1cclxuICAgIGlmIChlbmRQYWdlICE9IHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICBwYWdlcy5wdXNoKHRoaXMucHJvcHMubmV4dFBhZ2UpO1xyXG4gICAgICBwYWdlcy5wdXNoKHRoaXMucHJvcHMubGFzdFBhZ2UpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKXtcclxuICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLm5leHRQYWdlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYWdlcztcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRQYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY3VyclBhZ2U7XHJcbiAgfVxyXG5cclxuICBnZXRTaXplUGVyUGFnZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLnNpemVQZXJQYWdlO1xyXG4gIH1cclxufVxyXG5QYWdpbmF0aW9uTGlzdC5wcm9wVHlwZXMgPSB7XHJcbiAgY3VyclBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgc2l6ZVBlclBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgZGF0YVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgY2hhbmdlUGFnZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgc2l6ZVBlclBhZ2VMaXN0OiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgcGFnaW5hdGlvblNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgcmVtb3RlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBvblNpemVQZXJQYWdlTGlzdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgcHJlUGFnZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuUGFnaW5hdGlvbkxpc3QuZGVmYXVsdFByb3BzID0ge1xyXG4gIHNpemVQZXJQYWdlOiBDb25zdC5TSVpFX1BFUl9QQUdFXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYWdpbmF0aW9uTGlzdDtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcGFnaW5hdGlvbi9QYWdpbmF0aW9uTGlzdC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4uL0NvbnN0JztcclxuaW1wb3J0IEVkaXRvciBmcm9tICcuLi9FZGl0b3InO1xyXG5pbXBvcnQgTm90aWZpZXIgZnJvbSAnLi4vTm90aWZpY2F0aW9uLmpzJztcclxuaW1wb3J0IFN3aXRjaCBmcm9tICdyYy1zd2l0Y2gnO1xyXG5cclxuY2xhc3MgVG9vbEJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpc0luc2VydFJvd1RyaWdnZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbGlkYXRlU3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgIHNoYWtlRWRpdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgc2hvd1NlbGVjdGVkOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclRpbWVvdXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZW91dGVDbGVhcikge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0ZUNsZWFyKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBbmRQYXJzZUZvcm0oKSB7XHJcbiAgICAgICAgdmFyIHRzID0gdGhpcywgbmV3T2JqID0ge30sIGlzVmFsaWQgPSB0cnVlLCB0ZW1wVmFsdWUsIHRlbXBNc2csIHZhbGlkYXRlU3RhdGUgPSB7fTtcclxuICAgICAgICB0aGlzLnByb3BzLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4uYXV0b1ZhbHVlKSB7Ly93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcclxuICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IHR5cGVvZiBjb2x1bW4uYXV0b1ZhbHVlID09ICdmdW5jdGlvbicgPyBjb2x1bW4uYXV0b1ZhbHVlKCkgOiAoJ2F1dG92YWx1ZS0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IHRoaXMucmVmc1tjb2x1bW4uZmllbGQgKyBpXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIGRvbSAhPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gZG9tLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IHRydWVcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmVkaXRhYmxlICYmIGNvbHVtbi5lZGl0YWJsZS50eXBlID09ICdjaGVja2JveCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVzID0gZG9tLnZhbHVlLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gZG9tLmNoZWNrZWQgPyB2YWx1ZXNbMF0gOiB2YWx1ZXNbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5lZGl0YWJsZSAmJiBjb2x1bW4uZWRpdGFibGUudmFsaWRhdG9yKSB7Ly9wcm9jZXNzIHZhbGlkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcE1zZyA9IGNvbHVtbi5lZGl0YWJsZS52YWxpZGF0b3IodGVtcFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wTXNnICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdID0gdGVtcE1zZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ld09ialtjb2x1bW4uZmllbGRdID0gdGVtcFZhbHVlO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3T2JqO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRzLmNsZWFyVGltZW91dCgpO1xyXG4gICAgICAgICAgICAvL3Nob3cgZXJyb3IgaW4gZm9ybSBhbmQgc2hha2UgaXRcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dmFsaWRhdGVTdGF0ZTogdmFsaWRhdGVTdGF0ZSwgc2hha2VFZGl0b3I6IHRydWV9KTtcclxuICAgICAgICAgICAgLy9ub3RpZmllciBlcnJvclxyXG4gICAgICAgICAgICB0cy5yZWZzLm5vdGlmaWVyLm5vdGljZSgnZXJyb3InLCBcIkZvcm0gdmFsaWRhdGUgZXJyb3JzLCBwbGVhc2UgY2hlY2tpbmchXCIsIFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcclxuICAgICAgICAgICAgLy9jbGVhciBhbmltYXRlIGNsYXNzXHJcbiAgICAgICAgICAgIHRzLnRpbWVvdXRlQ2xlYXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHtzaGFrZUVkaXRvcjogZmFsc2V9KTtcclxuICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNhdmVCdG5DbGljayhlKSB7XHJcbiAgICAgICAgdmFyIG5ld09iaiA9IHRoaXMuY2hlY2tBbmRQYXJzZUZvcm0oKTtcclxuICAgICAgICBpZiAoIW5ld09iaikgey8vdmFsaWRhdGUgZXJyb3JzXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFkZFJvdyhuZXdPYmopLnRoZW4oKG1zZyk9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9ICcnXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBtc2cuZXJyb3JzLm1hcCgoZXJyb3IpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gKGVycm9yLm1lc3NhZ2UgKyAnLiAnKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4KVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSBtc2cudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtc2cpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB0cy5yZWZzLm5vdGlmaWVyLm5vdGljZSgnZXJyb3InLCBtZXNzYWdlLCBcIlByZXNzZWQgRVNDIGNhbiBjYW5jZWxcIik7XHJcbiAgICAgICAgICAgICAgICB0cy5jbGVhclRpbWVvdXQoKTtcclxuICAgICAgICAgICAgICAgIC8vc2hha2UgZm9ybSBhbmQgaGFjayBwcmV2ZW50IG1vZGFsIGhpZGVcclxuICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHtzaGFrZUVkaXRvcjogdHJ1ZSwgdmFsaWRhdGVTdGF0ZTogXCJ0aGlzIGlzIGhhY2sgZm9yIHByZXZlbnQgYm9vdHN0cmFwIG1vZGFsIGhpZGVcIn0pO1xyXG4gICAgICAgICAgICAgICAgLy9jbGVhciBhbmltYXRlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICB0cy50aW1lb3V0ZUNsZWFyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHMuc2V0U3RhdGUoe3NoYWtlRWRpdG9yOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vcmVzZXQgc3RhdGUgYW5kIGhpZGUgbW9kYWwgaGlkZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBzaGFrZUVkaXRvcjogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLlwiICsgXCJtb2RhbFwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL3Jlc2V0IGZvcm1cclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcy5mb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2hvd09ubHlUb2dnbGUgPSBlID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2hvd1NlbGVjdGVkOiAhdGhpcy5zdGF0ZS5zaG93U2VsZWN0ZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uU2hvd09ubHlTZWxlY3RlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURyb3BSb3dCdG5DbGljayhlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyb3BSb3coKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbG9zZUJ0bihlKSB7XHJcbiAgICAgICAgdGhpcy5yZWZzLndhcm5pbmcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUtleVVwKGUpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRXhwb3J0Q1NWKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25FeHBvcnRDU1YoKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbGVhckJ0bkNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVmcy5zZWFjaElucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaCgnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHZhciBtb2RhbENsYXNzTmFtZSA9IFwiYnMtdGFibGUtbW9kYWwtc21cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHZhciBpbnNlcnRCdG4gPSB0aGlzLnByb3BzLmVuYWJsZUluc2VydCA/XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucHJvcHMub25BZGRSb3dCZWdpbn0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvIHJlYWN0LWJzLXRhYmxlLWFkZC1idG5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD17Jy4nK21vZGFsQ2xhc3NOYW1lfT5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tcGx1c1wiPjwvaT4gTmV3PC9idXR0b24+IDogbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGRlbGV0ZUJ0biA9IHRoaXMucHJvcHMuZW5hYmxlRGVsZXRlID9cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi13YXJuaW5nIHJlYWN0LWJzLXRhYmxlLWRlbC1idG5cIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcGxhY2VtZW50PVwicmlnaHRcIiB0aXRsZT1cIkRyb3Agc2VsZWN0ZWQgcm93XCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZURyb3BSb3dCdG5DbGljay5iaW5kKHRoaXMpfT5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tdHJhc2hcIj48L2k+IERlbGV0ZVxyXG4gICAgICAgICAgICA8L2J1dHRvbj4gOiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgc2VhcmNoVGV4dElucHV0ID0gdGhpcy5yZW5kZXJTZWFyY2hQYW5lbCgpO1xyXG5cclxuICAgICAgICB2YXIgc2hvd1NlbGVjdGVkT25seUJ0biA9IHRoaXMucHJvcHMuZW5hYmxlU2hvd09ubHlTZWxlY3RlZCA/XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2hvd09ubHlUb2dnbGUuYmluZCh0aGlzKX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImJ1dHRvblwiIGFyaWEtcHJlc3NlZD1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMuc3RhdGUuc2hvd1NlbGVjdGVkID8gQ29uc3QuU0hPV19BTEwgOiBDb25zdC5TSE9XX09OTFlfU0VMRUNUIH1cclxuICAgICAgICAgICAgPC9idXR0b24+IDogbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIG1vZGFsID0gdGhpcy5wcm9wcy5lbmFibGVJbnNlcnQgPyB0aGlzLnJlbmRlckluc2VydFJvd01vZGFsKG1vZGFsQ2xhc3NOYW1lKSA6IG51bGw7XHJcbiAgICAgICAgdmFyIHdhcm5pbmdTdHlsZSA9IHtcclxuICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCIsXHJcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBleHBvcnRDU1YgPSB0aGlzLnByb3BzLmVuYWJsZUV4cG9ydENTViA/XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2Vzc1wiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRXhwb3J0Q1NWLmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leHBvcnRcIj48L2k+IEV4cG9ydCB0byBDU1Y8L2J1dHRvbj4gOiBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTYgY29sLWxnLThcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtc21cIiByb2xlPVwiZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2V4cG9ydENTVn1cclxuICAgICAgICAgICAgICAgICAgICAgICAge2luc2VydEJ0bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAge2RlbGV0ZUJ0bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dTZWxlY3RlZE9ubHlCdG59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNvbC1sZy00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3NlYXJjaFRleHRJbnB1dH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPE5vdGlmaWVyIHJlZj1cIm5vdGlmaWVyXCI+PC9Ob3RpZmllcj5cclxuICAgICAgICAgICAgICAgIHttb2RhbH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclNlYXJjaFBhbmVsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmVuYWJsZVNlYXJjaCkge1xyXG4gICAgICAgICAgICBsZXQgY2xhc3NOYW1lcyA9ICdmb3JtLWdyb3VwIGZvcm0tZ3JvdXAtc20nO1xyXG4gICAgICAgICAgICBsZXQgY2xlYXJCdG4gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jbGVhclNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJCdG4gPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtYnRuXCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLmhhbmRsZUNsZWFyQnRuQ2xpY2sgfT5DbGVhclxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWVzID0gJ2Zvcm0tZ3JvdXAgZm9ybS1ncm91cC1zbSBpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zbSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lc30+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHJlZj0nc2VhY2hJbnB1dCcgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgdHlwZT0ndGV4dCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMuc2VhcmNoUGxhY2Vob2xkZXI/dGhpcy5wcm9wcy5zZWFyY2hQbGFjZWhvbGRlcjonU2VhcmNoJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlVcD17dGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBjbGVhckJ0biB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySW5zZXJ0Um93TW9kYWwobW9kYWxDbGFzc05hbWUpIHtcclxuICAgICAgICB2YXIgdmFsaWRhdGVTdGF0ZSA9IHRoaXMuc3RhdGUudmFsaWRhdGVTdGF0ZSB8fCB7fTtcclxuICAgICAgICB2YXIgaW5wdXRGaWVsZCA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xyXG4gICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBjb2x1bW4uZWRpdGFibGUsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBjb2x1bW4uZm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgYXR0ciA9IHtyZWY6IGNvbHVtbi5maWVsZCArIGksIHBsYWNlaG9sZGVyOiBlZGl0YWJsZS5wbGFjZWhvbGRlciA/IGVkaXRhYmxlLnBsYWNlaG9sZGVyIDogY29sdW1uLm5hbWV9O1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbHVtbi5hdXRvVmFsdWUpIHsvL3doZW4geW91IHdhbnQgc2FtZSBhdXRvIGdlbmVyYXRlIHZhbHVlIGFuZCBub3QgYWxsb3cgZWRpdCwgZXhhbXBsZSBJRCBmaWVsZFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGVycm9yID0gdmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdID8gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGVscC1ibG9jayBiZy1kYW5nZXJcIj57dmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdfTwvc3Bhbj4pIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIGxldCBlZGl0b3IgPSBFZGl0b3IoZWRpdGFibGUsYXR0cixmb3JtYXQpO1xyXG4gICAgICAgICAgICAvLyBpZihlZGl0b3IucHJvcHMudHlwZSAmJiBlZGl0b3IucHJvcHMudHlwZSA9PSAnY2hlY2tib3gnKXtcclxuICAgICAgICAgICAgbGV0IHN0eWxlID0ge2Rpc3BsYXk6IGNvbHVtbi5oaWRkZW5JblBvcHVwID8gJ25vbmUnIDogJ2Jsb2NrJ31cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiIGtleT17Y29sdW1uLmZpZWxkfSBzdHlsZT17c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD57Y29sdW1uLm5hbWV9PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICB7RWRpdG9yKGVkaXRhYmxlLCBhdHRyLCBmb3JtYXQsICcnKX1cclxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3J9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgbW9kYWxDbGFzcyA9IGNsYXNzU2V0KFwibW9kYWxcIiwgXCJmYWRlXCIsIG1vZGFsQ2xhc3NOYW1lLCB7XHJcbiAgICAgICAgICAgICdpbic6IHRoaXMuc3RhdGUuc2hha2VFZGl0b3IgfHwgdGhpcy5zdGF0ZS52YWxpZGF0ZVN0YXRlLy9oYWNrIHByZXZlbnQgYm9vdHN0cmFwIG1vZGFsIGhpZGUgYnkgcmVSZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZGlhbG9nQ2xhc3MgPSBjbGFzc1NldChcIm1vZGFsLWRpYWxvZ1wiLCBcIm1vZGFsLXNtXCIsIHtcclxuICAgICAgICAgICAgXCJhbmltYXRlZFwiOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yLFxyXG4gICAgICAgICAgICBcInNoYWtlXCI6IHRoaXMuc3RhdGUuc2hha2VFZGl0b3JcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IHJlZj1cIm1vZGFsXCIgY2xhc3NOYW1lPXttb2RhbENsYXNzfSB0YWJJbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2RpYWxvZ0NsYXNzfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj5OZXcgUmVjb3JkPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gcmVmPVwiZm9ybVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbnB1dEZpZWxkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Q2xvc2U8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4taW5mb1wiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2F2ZUJ0bkNsaWNrLmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuVG9vbEJhci5wcm9wVHlwZXMgPSB7XHJcbiAgICBvbkFkZFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBvbkRyb3BSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgb25TaG93T25seVNlbGVjdGVkOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgIGVuYWJsZUluc2VydDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBlbmFibGVEZWxldGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgZW5hYmxlU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgY29sdW1uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgc2VhcmNoUGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBjbGVhclNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2xcclxufTtcclxuXHJcblRvb2xCYXIuZGVmYXVsdFByb3BzID0ge1xyXG4gICAgZW5hYmxlSW5zZXJ0OiBmYWxzZSxcclxuICAgIGVuYWJsZURlbGV0ZTogZmFsc2UsXHJcbiAgICBlbmFibGVTZWFyY2g6IGZhbHNlLFxyXG4gICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogZmFsc2UsXHJcbiAgICBjbGVhclNlYXJjaDogZmFsc2VcclxufVxyXG5leHBvcnQgZGVmYXVsdCBUb29sQmFyO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy90b29sYmFyL1Rvb2xCYXIuanNcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnJjLXN3aXRjaHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6NDRweDtoZWlnaHQ6MjJweDtsaW5lLWhlaWdodDoyMHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtib3JkZXItcmFkaXVzOjIwcHggMjBweDtib3JkZXI6MXB4IHNvbGlkICNjY2M7YmFja2dyb3VuZC1jb2xvcjojY2NjO2N1cnNvcjpwb2ludGVyO3RyYW5zaXRpb246YWxsIC4zcyBjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpfS5yYy1zd2l0Y2gtaW5uZXJ7Y29sb3I6I2ZmZjtmb250LXNpemU6MTJweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjI0cHh9LnJjLXN3aXRjaDphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O2xlZnQ6MnB4O3RvcDoxcHg7Ym9yZGVyLXJhZGl1czo1MCUgNTAlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb250ZW50OlxcXCIgXFxcIjtjdXJzb3I6cG9pbnRlcjtib3gtc2hhZG93OjAgMnB4IDVweCByZ2JhKDAsMCwwLC4yNik7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zaXRpb246bGVmdCAuM3MgY3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMzUsMCwuMjUsMSk7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjNzO2FuaW1hdGlvbi1kdXJhdGlvbjouM3M7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyY1N3aXRjaE9mZjthbmltYXRpb24tbmFtZTpyY1N3aXRjaE9mZn0ucmMtc3dpdGNoOmhvdmVyOmFmdGVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyY1N3aXRjaE9uO2FuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT259LnJjLXN3aXRjaC1jaGVja2Vke2JvcmRlcjoxcHggc29saWQgIzg3ZDA2ODtiYWNrZ3JvdW5kLWNvbG9yOiM4N2QwNjh9LnJjLXN3aXRjaC1jaGVja2VkIC5yYy1zd2l0Y2gtaW5uZXJ7bGVmdDo2cHh9LnJjLXN3aXRjaC1jaGVja2VkOmFmdGVye2xlZnQ6MjJweH0ucmMtc3dpdGNoLWRpc2FibGVke2N1cnNvcjpuby1kcm9wO2JhY2tncm91bmQ6I2NjYztib3JkZXItY29sb3I6I2NjY30ucmMtc3dpdGNoLWRpc2FibGVkOmFmdGVye2JhY2tncm91bmQ6IzllOWU5ZTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOm5vbmU7YW5pbWF0aW9uLW5hbWU6bm9uZTtjdXJzb3I6bm8tZHJvcH0ucmMtc3dpdGNoLWRpc2FibGVkOmhvdmVyOmFmdGVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOm5vbmU7YW5pbWF0aW9uLW5hbWU6bm9uZX0ucmMtc3dpdGNoLWxhYmVse2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC1zaXplOjE0cHg7cGFkZGluZy1sZWZ0OjEwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3doaXRlLXNwYWNlOm5vcm1hbDtwb2ludGVyLWV2ZW50czpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6dGV4dDstbW96LXVzZXItc2VsZWN0OnRleHQ7LW1zLXVzZXItc2VsZWN0OnRleHQ7dXNlci1zZWxlY3Q6dGV4dH1ALXdlYmtpdC1rZXlmcmFtZXMgcmNTd2l0Y2hPbnswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMjUpO3RyYW5zZm9ybTpzY2FsZSgxLjI1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpfX1Aa2V5ZnJhbWVzIHJjU3dpdGNoT257MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjI1KTt0cmFuc2Zvcm06c2NhbGUoMS4yNSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX19QC13ZWJraXQta2V5ZnJhbWVzIHJjU3dpdGNoT2ZmezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfX1Aa2V5ZnJhbWVzIHJjU3dpdGNoT2ZmezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9yYy1zd2l0Y2gvYXNzZXRzL2luZGV4LmNzc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblxyXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHR9O1xyXG5cclxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgU3dpdGNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1N3aXRjaCcsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHByZWZpeENsczogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkaXNhYmxlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgY2hlY2tlZENoaWxkcmVuOiBSZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHVuQ2hlY2tlZENoaWxkcmVuOiBSZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIG9uQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlZml4Q2xzOiAncmMtc3dpdGNoJyxcbiAgICAgIHN0eWxlOiB7fSxcbiAgICAgIGNoZWNrZWRDaGlsZHJlbjogbnVsbCxcbiAgICAgIHVuQ2hlY2tlZENoaWxkcmVuOiBudWxsLFxuICAgICAgY2xhc3NOYW1lOiAnJyxcbiAgICAgIGRlZmF1bHRDaGVja2VkOiBmYWxzZSxcbiAgICAgIG9uQ2hhbmdlOiBub29wXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgIGlmICgnY2hlY2tlZCcgaW4gcHJvcHMpIHtcbiAgICAgIGNoZWNrZWQgPSAhIXByb3BzLmNoZWNrZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoZWNrZWQgPSAhIXByb3BzLmRlZmF1bHRDaGVja2VkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY2hlY2tlZDogY2hlY2tlZFxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCdjaGVja2VkJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGVja2VkOiAhIW5leHRQcm9wcy5jaGVja2VkXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgIHZhciBjaGVja2VkID0gIXRoaXMuc3RhdGUuY2hlY2tlZDtcbiAgICBpZiAoISgnY2hlY2tlZCcgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGVja2VkOiBjaGVja2VkXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShjaGVja2VkKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWU7XG4gICAgdmFyIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG4gICAgdmFyIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkO1xuICAgIHZhciBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcbiAgICB2YXIgY2hlY2tlZENoaWxkcmVuID0gX3Byb3BzLmNoZWNrZWRDaGlsZHJlbjtcbiAgICB2YXIgdW5DaGVja2VkQ2hpbGRyZW4gPSBfcHJvcHMudW5DaGVja2VkQ2hpbGRyZW47XG5cbiAgICB2YXIgY2hlY2tlZCA9IHRoaXMuc3RhdGUuY2hlY2tlZDtcbiAgICB2YXIgc3dpdGNoQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzKSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnc3BhbicsXG4gICAgICB7IGNsYXNzTmFtZTogc3dpdGNoQ2xhc3NOYW1lLFxuICAgICAgICBvbkNsaWNrOiBkaXNhYmxlZCA/IG5vb3AgOiB0aGlzLnRvZ2dsZSxcbiAgICAgICAgc3R5bGU6IHN0eWxlIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlubmVyJyB9LFxuICAgICAgICBjaGVja2VkID8gY2hlY2tlZENoaWxkcmVuIDogdW5DaGVja2VkQ2hpbGRyZW5cbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTd2l0Y2g7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc3dpdGNoL2xpYi9Td2l0Y2guanNcbiAqKiBtb2R1bGUgaWQgPSAzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9TZWxlY3QgPSByZXF1aXJlKCcuL1NlbGVjdCcpO1xuXG52YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXG52YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzID0gcmVxdWlyZSgnLi91dGlscy9zdHJpcERpYWNyaXRpY3MnKTtcblxudmFyIF91dGlsc1N0cmlwRGlhY3JpdGljczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsc1N0cmlwRGlhY3JpdGljcyk7XG5cbnZhciByZXF1ZXN0SWQgPSAwO1xuXG5mdW5jdGlvbiBpbml0Q2FjaGUoY2FjaGUpIHtcblx0aWYgKGNhY2hlICYmIHR5cGVvZiBjYWNoZSAhPT0gJ29iamVjdCcpIHtcblx0XHRjYWNoZSA9IHt9O1xuXHR9XG5cdHJldHVybiBjYWNoZSA/IGNhY2hlIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2FjaGUoY2FjaGUsIGlucHV0LCBkYXRhKSB7XG5cdGlmICghY2FjaGUpIHJldHVybjtcblx0Y2FjaGVbaW5wdXRdID0gZGF0YTtcbn1cblxuZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKGNhY2hlLCBpbnB1dCkge1xuXHRpZiAoIWNhY2hlKSByZXR1cm47XG5cdGZvciAodmFyIGkgPSBpbnB1dC5sZW5ndGg7IGkgPj0gMDsgLS1pKSB7XG5cdFx0dmFyIGNhY2hlS2V5ID0gaW5wdXQuc2xpY2UoMCwgaSk7XG5cdFx0aWYgKGNhY2hlW2NhY2hlS2V5XSAmJiAoaW5wdXQgPT09IGNhY2hlS2V5IHx8IGNhY2hlW2NhY2hlS2V5XS5jb21wbGV0ZSkpIHtcblx0XHRcdHJldHVybiBjYWNoZVtjYWNoZUtleV07XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHRoZW5Qcm9taXNlKHByb21pc2UsIGNhbGxiYWNrKSB7XG5cdGlmICghcHJvbWlzZSB8fCB0eXBlb2YgcHJvbWlzZS50aGVuICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XG5cdHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRjYWxsYmFjayhudWxsLCBkYXRhKTtcblx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdGNhbGxiYWNrKGVycik7XG5cdH0pO1xufVxuXG52YXIgc3RyaW5nT3JOb2RlID0gX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm5vZGVdKTtcblxudmFyIEFzeW5jID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblx0ZGlzcGxheU5hbWU6ICdBc3luYycsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0Y2FjaGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBvYmplY3QgdG8gdXNlIHRvIGNhY2hlIHJlc3VsdHMsIGNhbiBiZSBudWxsIHRvIGRpc2FibGUgY2FjaGVcblx0XHRpZ25vcmVBY2NlbnRzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gc3RyaXAgZGlhY3JpdGljcyB3aGVuIGZpbHRlcmluZyAoc2hhcmVkIHdpdGggU2VsZWN0KVxuXHRcdGlnbm9yZUNhc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBwZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgZmlsdGVyaW5nIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0aXNMb2FkaW5nOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIG92ZXJyaWRlcyB0aGUgaXNMb2FkaW5nIHN0YXRlIHdoZW4gc2V0IHRvIHRydWVcblx0XHRsb2FkT3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsIC8vIGZ1bmN0aW9uIHRvIGNhbGwgdG8gbG9hZCBvcHRpb25zIGFzeW5jaHJvbm91c2x5XG5cdFx0bG9hZGluZ1BsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcmVwbGFjZXMgdGhlIHBsYWNlaG9sZGVyIHdoaWxlIG9wdGlvbnMgYXJlIGxvYWRpbmdcblx0XHRtaW5pbXVtSW5wdXQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLCAvLyB0aGUgbWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IHRyaWdnZXIgbG9hZE9wdGlvbnNcblx0XHRub1Jlc3VsdHNUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGxhY2Vob2xkZXIgZGlzcGxheWVkIHdoZW4gdGhlcmUgYXJlIG5vIG1hdGNoaW5nIHNlYXJjaCByZXN1bHRzIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0cGxhY2Vob2xkZXI6IHN0cmluZ09yTm9kZSwgLy8gZmllbGQgcGxhY2Vob2xkZXIsIGRpc3BsYXllZCB3aGVuIHRoZXJlJ3Mgbm8gdmFsdWUgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRzZWFyY2hQcm9tcHRUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gbGFiZWwgdG8gcHJvbXB0IGZvciBzZWFyY2ggaW5wdXRcblx0XHRzZWFyY2hpbmdUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyB9LFxuXHQvLyBtZXNzYWdlIHRvIGRpc3BsYXkgd2hpbGUgb3B0aW9ucyBhcmUgbG9hZGluZ1xuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRpZ25vcmVBY2NlbnRzOiB0cnVlLFxuXHRcdFx0aWdub3JlQ2FzZTogdHJ1ZSxcblx0XHRcdGxvYWRpbmdQbGFjZWhvbGRlcjogJ0xvYWRpbmcuLi4nLFxuXHRcdFx0bWluaW11bUlucHV0OiAwLFxuXHRcdFx0c2VhcmNoaW5nVGV4dDogJ1NlYXJjaGluZy4uLicsXG5cdFx0XHRzZWFyY2hQcm9tcHRUZXh0OiAnVHlwZSB0byBzZWFyY2gnXG5cdFx0fTtcblx0fSxcblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNhY2hlOiBpbml0Q2FjaGUodGhpcy5wcm9wcy5jYWNoZSksXG5cdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0b3B0aW9uczogW11cblx0XHR9O1xuXHR9LFxuXHRjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0XHR0aGlzLl9sYXN0SW5wdXQgPSAnJztcblx0fSxcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMubG9hZE9wdGlvbnMoJycpO1xuXHR9LFxuXHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHRcdGlmIChuZXh0UHJvcHMuY2FjaGUgIT09IHRoaXMucHJvcHMuY2FjaGUpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRjYWNoZTogaW5pdENhY2hlKG5leHRQcm9wcy5jYWNoZSlcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblx0Zm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHRcdHRoaXMucmVmcy5zZWxlY3QuZm9jdXMoKTtcblx0fSxcblx0cmVzZXRTdGF0ZTogZnVuY3Rpb24gcmVzZXRTdGF0ZSgpIHtcblx0XHR0aGlzLl9jdXJyZW50UmVxdWVzdElkID0gLTE7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0b3B0aW9uczogW11cblx0XHR9KTtcblx0fSxcblx0Z2V0UmVzcG9uc2VIYW5kbGVyOiBmdW5jdGlvbiBnZXRSZXNwb25zZUhhbmRsZXIoaW5wdXQpIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0dmFyIF9yZXF1ZXN0SWQgPSB0aGlzLl9jdXJyZW50UmVxdWVzdElkID0gcmVxdWVzdElkKys7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcblx0XHRcdGlmIChlcnIpIHRocm93IGVycjtcblx0XHRcdGlmICghX3RoaXMuaXNNb3VudGVkKCkpIHJldHVybjtcblx0XHRcdHVwZGF0ZUNhY2hlKF90aGlzLnN0YXRlLmNhY2hlLCBpbnB1dCwgZGF0YSk7XG5cdFx0XHRpZiAoX3JlcXVlc3RJZCAhPT0gX3RoaXMuX2N1cnJlbnRSZXF1ZXN0SWQpIHJldHVybjtcblx0XHRcdF90aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdFx0b3B0aW9uczogZGF0YSAmJiBkYXRhLm9wdGlvbnMgfHwgW11cblx0XHRcdH0pO1xuXHRcdH07XG5cdH0sXG5cdGxvYWRPcHRpb25zOiBmdW5jdGlvbiBsb2FkT3B0aW9ucyhpbnB1dCkge1xuXHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUFjY2VudHMpIGlucHV0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkoaW5wdXQpO1xuXHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUNhc2UpIGlucHV0ID0gaW5wdXQudG9Mb3dlckNhc2UoKTtcblx0XHR0aGlzLl9sYXN0SW5wdXQgPSBpbnB1dDtcblx0XHRpZiAoaW5wdXQubGVuZ3RoIDwgdGhpcy5wcm9wcy5taW5pbXVtSW5wdXQpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlc2V0U3RhdGUoKTtcblx0XHR9XG5cdFx0dmFyIGNhY2hlUmVzdWx0ID0gZ2V0RnJvbUNhY2hlKHRoaXMuc3RhdGUuY2FjaGUsIGlucHV0KTtcblx0XHRpZiAoY2FjaGVSZXN1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0b3B0aW9uczogY2FjaGVSZXN1bHQub3B0aW9uc1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aXNMb2FkaW5nOiB0cnVlXG5cdFx0fSk7XG5cdFx0dmFyIHJlc3BvbnNlSGFuZGxlciA9IHRoaXMuZ2V0UmVzcG9uc2VIYW5kbGVyKGlucHV0KTtcblx0XHRyZXR1cm4gdGhlblByb21pc2UodGhpcy5wcm9wcy5sb2FkT3B0aW9ucyhpbnB1dCwgcmVzcG9uc2VIYW5kbGVyKSwgcmVzcG9uc2VIYW5kbGVyKTtcblx0fSxcblx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0dmFyIG5vUmVzdWx0c1RleHQgPSB0aGlzLnByb3BzLm5vUmVzdWx0c1RleHQ7XG5cdFx0dmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFx0dmFyIGlzTG9hZGluZyA9IF9zdGF0ZS5pc0xvYWRpbmc7XG5cdFx0dmFyIG9wdGlvbnMgPSBfc3RhdGUub3B0aW9ucztcblxuXHRcdGlmICh0aGlzLnByb3BzLmlzTG9hZGluZykgaXNMb2FkaW5nID0gdHJ1ZTtcblx0XHR2YXIgcGxhY2Vob2xkZXIgPSBpc0xvYWRpbmcgPyB0aGlzLnByb3BzLmxvYWRpbmdQbGFjZWhvbGRlciA6IHRoaXMucHJvcHMucGxhY2Vob2xkZXI7XG5cdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkge1xuXHRcdFx0aWYgKHRoaXMuX2xhc3RJbnB1dC5sZW5ndGggPCB0aGlzLnByb3BzLm1pbmltdW1JbnB1dCkgbm9SZXN1bHRzVGV4dCA9IHRoaXMucHJvcHMuc2VhcmNoUHJvbXB0VGV4dDtcblx0XHRcdGlmIChpc0xvYWRpbmcpIG5vUmVzdWx0c1RleHQgPSB0aGlzLnByb3BzLnNlYXJjaGluZ1RleHQ7XG5cdFx0fVxuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfU2VsZWN0MlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywge1xuXHRcdFx0cmVmOiAnc2VsZWN0Jyxcblx0XHRcdGlzTG9hZGluZzogaXNMb2FkaW5nLFxuXHRcdFx0bm9SZXN1bHRzVGV4dDogbm9SZXN1bHRzVGV4dCxcblx0XHRcdG9uSW5wdXRDaGFuZ2U6IHRoaXMubG9hZE9wdGlvbnMsXG5cdFx0XHRvcHRpb25zOiBvcHRpb25zLFxuXHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyXG5cdFx0fSkpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBc3luYztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC1zZWxlY3QvbGliL0FzeW5jLmpzXG4gKiogbW9kdWxlIGlkID0gMzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgT3B0aW9uID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblx0ZGlzcGxheU5hbWU6ICdPcHRpb24nLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdGNoaWxkcmVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm5vZGUsXG5cdFx0Y2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gY2xhc3NOYW1lIChiYXNlZCBvbiBtb3VzZSBwb3NpdGlvbilcblx0XHRpc0Rpc2FibGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHRoZSBvcHRpb24gaXMgZGlzYWJsZWRcblx0XHRpc0ZvY3VzZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gdGhlIG9wdGlvbiBpcyBmb2N1c2VkXG5cdFx0aXNTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB0aGUgb3B0aW9uIGlzIHNlbGVjdGVkXG5cdFx0b25Gb2N1czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIG1vdXNlRW50ZXIgb24gb3B0aW9uIGVsZW1lbnRcblx0XHRvblNlbGVjdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIGNsaWNrIG9uIG9wdGlvbiBlbGVtZW50XG5cdFx0b25VbmZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgbW91c2VMZWF2ZSBvbiBvcHRpb24gZWxlbWVudFxuXHRcdG9wdGlvbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCB9LFxuXHQvLyBvYmplY3QgdGhhdCBpcyBiYXNlIGZvciB0aGF0IG9wdGlvblxuXHRibG9ja0V2ZW50OiBmdW5jdGlvbiBibG9ja0V2ZW50KGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgIT09ICdBJyB8fCAhKCdocmVmJyBpbiBldmVudC50YXJnZXQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChldmVudC50YXJnZXQudGFyZ2V0KSB7XG5cdFx0XHR3aW5kb3cub3BlbihldmVudC50YXJnZXQuaHJlZiwgZXZlbnQudGFyZ2V0LnRhcmdldCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZXZlbnQudGFyZ2V0LmhyZWY7XG5cdFx0fVxuXHR9LFxuXG5cdGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR0aGlzLnByb3BzLm9uU2VsZWN0KHRoaXMucHJvcHMub3B0aW9uLCBldmVudCk7XG5cdH0sXG5cblx0aGFuZGxlTW91c2VFbnRlcjogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcihldmVudCkge1xuXHRcdHRoaXMub25Gb2N1cyhldmVudCk7XG5cdH0sXG5cblx0aGFuZGxlTW91c2VNb3ZlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcblx0XHR0aGlzLm9uRm9jdXMoZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoRW5kOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCkge1xuXHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gZmlyZSB0aGUgY2xpY2sgZXZlbnQgKGJlY2F1c2UgdGhlIHVzZXIgb25seSB3YW50cyB0byBzY3JvbGwpXG5cdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblxuXHRcdHRoaXMuaGFuZGxlTW91c2VEb3duKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaE1vdmU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShldmVudCkge1xuXHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkXG5cdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuXHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBub3QgYmVpbmcgZHJhZ2dlZFxuXHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblx0fSxcblxuXHRvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLnByb3BzLmlzRm9jdXNlZCkge1xuXHRcdFx0dGhpcy5wcm9wcy5vbkZvY3VzKHRoaXMucHJvcHMub3B0aW9uLCBldmVudCk7XG5cdFx0fVxuXHR9LFxuXHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHR2YXIgb3B0aW9uID0gdGhpcy5wcm9wcy5vcHRpb247XG5cblx0XHR2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSh0aGlzLnByb3BzLmNsYXNzTmFtZSwgb3B0aW9uLmNsYXNzTmFtZSk7XG5cblx0XHRyZXR1cm4gb3B0aW9uLmRpc2FibGVkID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmJsb2NrRXZlbnQsXG5cdFx0XHRcdG9uQ2xpY2s6IHRoaXMuYmxvY2tFdmVudCB9LFxuXHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdCkgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdFx0c3R5bGU6IG9wdGlvbi5zdHlsZSxcblx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duLFxuXHRcdFx0XHRvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcblx0XHRcdFx0b25Nb3VzZU1vdmU6IHRoaXMuaGFuZGxlTW91c2VNb3ZlLFxuXHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuXHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuXHRcdFx0XHR0aXRsZTogb3B0aW9uLnRpdGxlIH0sXG5cdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gT3B0aW9uO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9saWIvT3B0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgVmFsdWUgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXG5cdGRpc3BsYXlOYW1lOiAnVmFsdWUnLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdGNoaWxkcmVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm5vZGUsXG5cdFx0ZGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gZGlzYWJsZWQgcHJvcCBwYXNzZWQgdG8gUmVhY3RTZWxlY3Rcblx0XHRvbkNsaWNrOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgY2xpY2sgb24gdmFsdWUgbGFiZWxcblx0XHRvblJlbW92ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIHJlbW92YWwgb2YgdGhlIHZhbHVlXG5cdFx0dmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQgfSxcblxuXHQvLyB0aGUgb3B0aW9uIG9iamVjdCBmb3IgdGhpcyB2YWx1ZVxuXHRoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuXHRcdGlmIChldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKHRoaXMucHJvcHMub25DbGljaykge1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR0aGlzLnByb3BzLm9uQ2xpY2sodGhpcy5wcm9wcy52YWx1ZSwgZXZlbnQpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAodGhpcy5wcm9wcy52YWx1ZS5ocmVmKSB7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uIG9uUmVtb3ZlKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR0aGlzLnByb3BzLm9uUmVtb3ZlKHRoaXMucHJvcHMudmFsdWUpO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoRW5kUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZFJlbW92ZShldmVudCkge1xuXHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gZmlyZSB0aGUgY2xpY2sgZXZlbnQgKGJlY2F1c2UgdGhlIHVzZXIgb25seSB3YW50cyB0byBzY3JvbGwpXG5cdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblxuXHRcdC8vIEZpcmUgdGhlIG1vdXNlIGV2ZW50c1xuXHRcdHRoaXMub25SZW1vdmUoZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaFN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG5cdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIG5vdCBiZWluZyBkcmFnZ2VkXG5cdFx0dGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXHR9LFxuXG5cdHJlbmRlclJlbW92ZUljb246IGZ1bmN0aW9uIHJlbmRlclJlbW92ZUljb24oKSB7XG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgIXRoaXMucHJvcHMub25SZW1vdmUpIHJldHVybjtcblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnc3BhbicsXG5cdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC12YWx1ZS1pY29uJyxcblx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMub25SZW1vdmUsXG5cdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmRSZW1vdmUsXG5cdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUgfSxcblx0XHRcdCfDlydcblx0XHQpO1xuXHR9LFxuXG5cdHJlbmRlckxhYmVsOiBmdW5jdGlvbiByZW5kZXJMYWJlbCgpIHtcblx0XHR2YXIgY2xhc3NOYW1lID0gJ1NlbGVjdC12YWx1ZS1sYWJlbCc7XG5cdFx0cmV0dXJuIHRoaXMucHJvcHMub25DbGljayB8fCB0aGlzLnByb3BzLnZhbHVlLmhyZWYgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdhJyxcblx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGhyZWY6IHRoaXMucHJvcHMudmFsdWUuaHJlZiwgdGFyZ2V0OiB0aGlzLnByb3BzLnZhbHVlLnRhcmdldCwgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duLCBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZU1vdXNlRG93biB9LFxuXHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdCkgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdzcGFuJyxcblx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHQpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0eyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdC12YWx1ZScsIHRoaXMucHJvcHMudmFsdWUuY2xhc3NOYW1lKSxcblx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMudmFsdWUuc3R5bGUsXG5cdFx0XHRcdHRpdGxlOiB0aGlzLnByb3BzLnZhbHVlLnRpdGxlXG5cdFx0XHR9LFxuXHRcdFx0dGhpcy5yZW5kZXJSZW1vdmVJY29uKCksXG5cdFx0XHR0aGlzLnJlbmRlckxhYmVsKClcblx0XHQpO1xuXHR9XG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZhbHVlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9saWIvVmFsdWUuanNcbiAqKiBtb2R1bGUgaWQgPSA0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgc2l6ZXJTdHlsZSA9IHsgcG9zaXRpb246ICdhYnNvbHV0ZScsIHZpc2liaWxpdHk6ICdoaWRkZW4nLCBoZWlnaHQ6IDAsIHdpZHRoOiAwLCBvdmVyZmxvdzogJ3Njcm9sbCcsIHdoaXRlU3BhY2U6ICdub3dyYXAnIH07XG5cbnZhciBuZXh0RnJhbWUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IChmdW5jdGlvbiAoKSB7XG5cdHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHR3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcblx0fTtcbn0pKCkuYmluZCh3aW5kb3cpIDogdW5kZWZpbmVkOyAvLyBJZiB3aW5kb3cgaXMgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbid0IGRlZmluZSBhIG5leHRGcmFtZSBmdW5jdGlvblxuXG52YXIgQXV0b3NpemVJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ZGlzcGxheU5hbWU6ICdBdXRvc2l6ZUlucHV0JyxcblxuXHRwcm9wVHlwZXM6IHtcblx0XHR2YWx1ZTogUmVhY3QuUHJvcFR5cGVzLmFueSwgLy8gZmllbGQgdmFsdWVcblx0XHRkZWZhdWx0VmFsdWU6IFJlYWN0LlByb3BUeXBlcy5hbnksIC8vIGRlZmF1bHQgZmllbGQgdmFsdWVcblx0XHRvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQ2hhbmdlIGhhbmRsZXI6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7fVxuXHRcdHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCAvLyBjc3Mgc3R5bGVzIGZvciB0aGUgb3V0ZXIgZWxlbWVudFxuXHRcdGNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZywgLy8gY2xhc3NOYW1lIGZvciB0aGUgb3V0ZXIgZWxlbWVudFxuXHRcdG1pbldpZHRoOiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFsvLyBtaW5pbXVtIHdpZHRoIGZvciBpbnB1dCBlbGVtZW50XG5cdFx0UmVhY3QuUHJvcFR5cGVzLm51bWJlciwgUmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuXHRcdGlucHV0U3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsIC8vIGNzcyBzdHlsZXMgZm9yIHRoZSBpbnB1dCBlbGVtZW50XG5cdFx0aW5wdXRDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcgLy8gY2xhc3NOYW1lIGZvciB0aGUgaW5wdXQgZWxlbWVudFxuXHR9LFxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bWluV2lkdGg6IDFcblx0XHR9O1xuXHR9LFxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5wdXRXaWR0aDogdGhpcy5wcm9wcy5taW5XaWR0aFxuXHRcdH07XG5cdH0sXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHR0aGlzLmNvcHlJbnB1dFN0eWxlcygpO1xuXHRcdHRoaXMudXBkYXRlSW5wdXRXaWR0aCgpO1xuXHR9LFxuXHRjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0XHR0aGlzLnF1ZXVlVXBkYXRlSW5wdXRXaWR0aCgpO1xuXHR9LFxuXHRjb3B5SW5wdXRTdHlsZXM6IGZ1bmN0aW9uIGNvcHlJbnB1dFN0eWxlcygpIHtcblx0XHRpZiAoIXRoaXMuaXNNb3VudGVkKCkgfHwgIXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhciBpbnB1dFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5yZWZzLmlucHV0KTtcblx0XHR2YXIgd2lkdGhOb2RlID0gdGhpcy5yZWZzLnNpemVyO1xuXHRcdHdpZHRoTm9kZS5zdHlsZS5mb250U2l6ZSA9IGlucHV0U3R5bGUuZm9udFNpemU7XG5cdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRGYW1pbHkgPSBpbnB1dFN0eWxlLmZvbnRGYW1pbHk7XG5cdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRXZWlnaHQgPSBpbnB1dFN0eWxlLmZvbnRXZWlnaHQ7XG5cdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRTdHlsZSA9IGlucHV0U3R5bGUuZm9udFN0eWxlO1xuXHRcdHdpZHRoTm9kZS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gaW5wdXRTdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXHRcdGlmICh0aGlzLnByb3BzLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHR2YXIgcGxhY2Vob2xkZXJOb2RlID0gdGhpcy5yZWZzLnBsYWNlaG9sZGVyU2l6ZXI7XG5cdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUuZm9udFNpemUgPSBpbnB1dFN0eWxlLmZvbnRTaXplO1xuXHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRGYW1pbHkgPSBpbnB1dFN0eWxlLmZvbnRGYW1pbHk7XG5cdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUuZm9udFdlaWdodCA9IGlucHV0U3R5bGUuZm9udFdlaWdodDtcblx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250U3R5bGUgPSBpbnB1dFN0eWxlLmZvbnRTdHlsZTtcblx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gaW5wdXRTdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXHRcdH1cblx0fSxcblx0cXVldWVVcGRhdGVJbnB1dFdpZHRoOiBmdW5jdGlvbiBxdWV1ZVVwZGF0ZUlucHV0V2lkdGgoKSB7XG5cdFx0bmV4dEZyYW1lKHRoaXMudXBkYXRlSW5wdXRXaWR0aCk7XG5cdH0sXG5cdHVwZGF0ZUlucHV0V2lkdGg6IGZ1bmN0aW9uIHVwZGF0ZUlucHV0V2lkdGgoKSB7XG5cdFx0aWYgKCF0aGlzLmlzTW91bnRlZCgpIHx8IHR5cGVvZiB0aGlzLnJlZnMuc2l6ZXIuc2Nyb2xsV2lkdGggPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhciBuZXdJbnB1dFdpZHRoID0gdW5kZWZpbmVkO1xuXHRcdGlmICh0aGlzLnByb3BzLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHRuZXdJbnB1dFdpZHRoID0gTWF0aC5tYXgodGhpcy5yZWZzLnNpemVyLnNjcm9sbFdpZHRoLCB0aGlzLnJlZnMucGxhY2Vob2xkZXJTaXplci5zY3JvbGxXaWR0aCkgKyAyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXdJbnB1dFdpZHRoID0gdGhpcy5yZWZzLnNpemVyLnNjcm9sbFdpZHRoICsgMjtcblx0XHR9XG5cdFx0aWYgKG5ld0lucHV0V2lkdGggPCB0aGlzLnByb3BzLm1pbldpZHRoKSB7XG5cdFx0XHRuZXdJbnB1dFdpZHRoID0gdGhpcy5wcm9wcy5taW5XaWR0aDtcblx0XHR9XG5cdFx0aWYgKG5ld0lucHV0V2lkdGggIT09IHRoaXMuc3RhdGUuaW5wdXRXaWR0aCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlucHV0V2lkdGg6IG5ld0lucHV0V2lkdGhcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblx0Z2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuXHRcdHJldHVybiB0aGlzLnJlZnMuaW5wdXQ7XG5cdH0sXG5cdGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0XHR0aGlzLnJlZnMuaW5wdXQuZm9jdXMoKTtcblx0fSxcblx0Ymx1cjogZnVuY3Rpb24gYmx1cigpIHtcblx0XHR0aGlzLnJlZnMuaW5wdXQuYmx1cigpO1xuXHR9LFxuXHRzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdCgpIHtcblx0XHR0aGlzLnJlZnMuaW5wdXQuc2VsZWN0KCk7XG5cdH0sXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdHZhciBlc2NhcGVkVmFsdWUgPSAodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgfHwgdGhpcy5wcm9wcy52YWx1ZSB8fCAnJykucmVwbGFjZSgvXFwmL2csICcmYW1wOycpLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLnJlcGxhY2UoL1xcPC9nLCAnJmx0OycpLnJlcGxhY2UoL1xcPi9nLCAnJmd0OycpO1xuXHRcdHZhciB3cmFwcGVyU3R5bGUgPSB0aGlzLnByb3BzLnN0eWxlIHx8IHt9O1xuXHRcdGlmICghd3JhcHBlclN0eWxlLmRpc3BsYXkpIHdyYXBwZXJTdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG5cdFx0dmFyIGlucHV0U3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5pbnB1dFN0eWxlKTtcblx0XHRpbnB1dFN0eWxlLndpZHRoID0gdGhpcy5zdGF0ZS5pbnB1dFdpZHRoO1xuXHRcdGlucHV0U3R5bGUuYm94U2l6aW5nID0gJ2NvbnRlbnQtYm94Jztcblx0XHR2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnByb3BzLnBsYWNlaG9sZGVyID8gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0eyByZWY6ICdwbGFjZWhvbGRlclNpemVyJywgc3R5bGU6IHNpemVyU3R5bGUgfSxcblx0XHRcdHRoaXMucHJvcHMucGxhY2Vob2xkZXJcblx0XHQpIDogbnVsbDtcblx0XHRyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0eyBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lLCBzdHlsZTogd3JhcHBlclN0eWxlIH0sXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IHJlZjogJ2lucHV0JywgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmlucHV0Q2xhc3NOYW1lLCBzdHlsZTogaW5wdXRTdHlsZSB9KSksXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHJlZjogJ3NpemVyJywgc3R5bGU6IHNpemVyU3R5bGUsIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogZXNjYXBlZFZhbHVlIH0gfSksXG5cdFx0XHRwbGFjZWhvbGRlclxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF1dG9zaXplSW5wdXQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3Qtc2VsZWN0L34vcmVhY3QtaW5wdXQtYXV0b3NpemUvbGliL0F1dG9zaXplSW5wdXQuanNcbiAqKiBtb2R1bGUgaWQgPSA0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0QWRkb25zVXBkYXRlID0gcmVxdWlyZShcInJlYWN0LWFkZG9ucy11cGRhdGVcIik7XG5cbnZhciBfcmVhY3RBZGRvbnNVcGRhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNVcGRhdGUpO1xuXG52YXIgX1RvYXN0TWVzc2FnZSA9IHJlcXVpcmUoXCIuL1RvYXN0TWVzc2FnZVwiKTtcblxudmFyIF9Ub2FzdE1lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9hc3RNZXNzYWdlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVG9hc3RDb250YWluZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVG9hc3RDb250YWluZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRvYXN0Q29udGFpbmVyKCkge1xuICAgIHZhciBfT2JqZWN0JGdldFByb3RvdHlwZU87XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvYXN0Q29udGFpbmVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9PYmplY3QkZ2V0UHJvdG90eXBlTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihUb2FzdENvbnRhaW5lcikpLmNhbGwuYXBwbHkoX09iamVjdCRnZXRQcm90b3R5cGVPLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0b2FzdHM6IFtdLFxuICAgICAgdG9hc3RJZDogMCxcbiAgICAgIHByZXZpb3VzTWVzc2FnZTogbnVsbFxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRvYXN0Q29udGFpbmVyLCBbe1xuICAgIGtleTogXCJlcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcihtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG4gICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUuZXJyb3IsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmZvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluZm8obWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgdGhpcy5fbm90aWZ5KHRoaXMucHJvcHMudG9hc3RUeXBlLmluZm8sIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdWNjZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgdGhpcy5fbm90aWZ5KHRoaXMucHJvcHMudG9hc3RUeXBlLnN1Y2Nlc3MsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ3YXJuaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgdGhpcy5fbm90aWZ5KHRoaXMucHJvcHMudG9hc3RUeXBlLndhcm5pbmcsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnJlZnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfdGhpczIucmVmc1trZXldLmhpZGVUb2FzdChmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX25vdGlmeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbm90aWZ5KHR5cGUsIG1lc3NhZ2UsIHRpdGxlKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIG9wdGlvbnNPdmVycmlkZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzNdO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5wcmV2ZW50RHVwbGljYXRlcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5wcmV2aW91c01lc3NhZ2UgPT09IG1lc3NhZ2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSB0aGlzLnN0YXRlLnRvYXN0SWQrKztcbiAgICAgIHZhciB0b2FzdElkID0ga2V5O1xuICAgICAgdmFyIG5ld1RvYXN0ID0gKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkob3B0aW9uc092ZXJyaWRlLCB7XG4gICAgICAgICRtZXJnZToge1xuICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgdG9hc3RJZDogdG9hc3RJZCxcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICByZWY6IFwidG9hc3RzX19cIiArIGtleSxcbiAgICAgICAgICBoYW5kbGVPbkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVPbkNsaWNrKGUpIHtcbiAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRpb25zT3ZlcnJpZGUuaGFuZGxlT25DbGljaykge1xuICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGUuaGFuZGxlT25DbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5faGFuZGxlX3RvYXN0X29uX2NsaWNrKGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlUmVtb3ZlOiB0aGlzLl9oYW5kbGVfdG9hc3RfcmVtb3ZlLmJpbmQodGhpcylcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgdG9hc3RPcGVyYXRpb24gPSBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIgKyAodGhpcy5wcm9wcy5uZXdlc3RPblRvcCA/IFwiJHVuc2hpZnRcIiA6IFwiJHB1c2hcIiksIFtuZXdUb2FzdF0pO1xuXG4gICAgICB2YXIgbmV4dFN0YXRlID0gKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkodGhpcy5zdGF0ZSwge1xuICAgICAgICB0b2FzdHM6IHRvYXN0T3BlcmF0aW9uLFxuICAgICAgICBwcmV2aW91c01lc3NhZ2U6IHsgJHNldDogbWVzc2FnZSB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZV90b2FzdF9vbl9jbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlX3RvYXN0X29uX2NsaWNrKGV2ZW50KSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZXZlbnQpO1xuICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlX3RvYXN0X3JlbW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlX3RvYXN0X3JlbW92ZSh0b2FzdElkKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIG9wZXJhdGlvbk5hbWUgPSBcIlwiICsgKHRoaXMucHJvcHMubmV3ZXN0T25Ub3AgPyBcInJlZHVjZVJpZ2h0XCIgOiBcInJlZHVjZVwiKTtcbiAgICAgIHRoaXMuc3RhdGUudG9hc3RzW29wZXJhdGlvbk5hbWVdKGZ1bmN0aW9uIChmb3VuZCwgdG9hc3QsIGluZGV4KSB7XG4gICAgICAgIGlmIChmb3VuZCB8fCB0b2FzdC50b2FzdElkICE9PSB0b2FzdElkKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSgoMCwgX3JlYWN0QWRkb25zVXBkYXRlMi5kZWZhdWx0KShfdGhpczQuc3RhdGUsIHtcbiAgICAgICAgICB0b2FzdHM6IHsgJHNwbGljZTogW1tpbmRleCwgMV1dIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IFwiYXJpYS1saXZlXCI6IFwicG9saXRlXCIsIHJvbGU6IFwiYWxlcnRcIiB9KSxcbiAgICAgICAgdGhpcy5zdGF0ZS50b2FzdHMubWFwKGZ1bmN0aW9uICh0b2FzdCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczUucHJvcHMudG9hc3RNZXNzYWdlRmFjdG9yeSh0b2FzdCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUb2FzdENvbnRhaW5lcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblRvYXN0Q29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgdG9hc3RUeXBlOiBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBlcnJvcjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgaW5mbzogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3VjY2VzczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgd2FybmluZzogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgfSkuaXNSZXF1aXJlZCxcbiAgaWQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHRvYXN0TWVzc2FnZUZhY3Rvcnk6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBwcmV2ZW50RHVwbGljYXRlczogX3JlYWN0LlByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG5ld2VzdE9uVG9wOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgb25DbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5Ub2FzdENvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7XG4gIHRvYXN0VHlwZToge1xuICAgIGVycm9yOiBcImVycm9yXCIsXG4gICAgaW5mbzogXCJpbmZvXCIsXG4gICAgc3VjY2VzczogXCJzdWNjZXNzXCIsXG4gICAgd2FybmluZzogXCJ3YXJuaW5nXCJcbiAgfSxcbiAgaWQ6IFwidG9hc3QtY29udGFpbmVyXCIsXG4gIHRvYXN0TWVzc2FnZUZhY3Rvcnk6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVGYWN0b3J5KF9Ub2FzdE1lc3NhZ2UyLmRlZmF1bHQpLFxuICBwcmV2ZW50RHVwbGljYXRlczogZmFsc2UsXG4gIG5ld2VzdE9uVG9wOiB0cnVlLFxuICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge31cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBUb2FzdENvbnRhaW5lcjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0Q29udGFpbmVyLmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX1JlYWN0VHJhbnNpdGlvbkV2ZW50cyA9IHJlcXVpcmUoXCJyZWFjdC9saWIvUmVhY3RUcmFuc2l0aW9uRXZlbnRzXCIpO1xuXG52YXIgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWFjdFRyYW5zaXRpb25FdmVudHMpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfZWxlbWVudENsYXNzID0gcmVxdWlyZShcImVsZW1lbnQtY2xhc3NcIik7XG5cbnZhciBfZWxlbWVudENsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VsZW1lbnRDbGFzcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUSUNLID0gMTc7XG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNpdGlvbjogbnVsbCwgLy8gc29tZSBleGFtcGxlcyBkZWZpbmVkIGluIGluZGV4LnNjc3MgKHNjYWxlLCBmYWRlSW5PdXQsIHJvdGF0ZSlcbiAgICAgIHNob3dBbmltYXRpb246IFwiYW5pbWF0ZWQgYm91bmNlSW5cIiwgLy8gb3Igb3RoZXIgYW5pbWF0aW9ucyBmcm9tIGFuaW1hdGUuY3NzXG4gICAgICBoaWRlQW5pbWF0aW9uOiBcImFuaW1hdGVkIGJvdW5jZU91dFwiLFxuICAgICAgdGltZU91dDogNTAwMCxcbiAgICAgIGV4dGVuZGVkVGltZU91dDogMTAwMFxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuY2xhc3NOYW1lUXVldWUgPSBbXTtcbiAgICB0aGlzLmlzSGlkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLl9pc19tb3VudGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9zaG93KCk7XG4gICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG5cbiAgICB2YXIgb25IaWRlQ29tcGxldGUgPSBmdW5jdGlvbiBvbkhpZGVDb21wbGV0ZSgpIHtcbiAgICAgIGlmIChfdGhpcy5pc0hpZGluZykge1xuICAgICAgICBfdGhpcy5fc2V0X2lzX2hpZGluZyhmYWxzZSk7XG4gICAgICAgIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyLmRlZmF1bHQucmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBvbkhpZGVDb21wbGV0ZSk7XG4gICAgICAgIF90aGlzLl9oYW5kbGVfcmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgb25IaWRlQ29tcGxldGUpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudGltZU91dCA+IDApIHtcbiAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLnRpbWVPdXQpKTtcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLl9pc19tb3VudGVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgfVxuICB9LFxuICBfc2V0X3RyYW5zaXRpb246IGZ1bmN0aW9uIF9zZXRfdHJhbnNpdGlvbihoaWRlKSB7XG4gICAgdmFyIGFuaW1hdGlvblR5cGUgPSBoaWRlID8gXCJsZWF2ZVwiIDogXCJlbnRlclwiO1xuICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLnRyYW5zaXRpb24gKyBcIi1cIiArIGFuaW1hdGlvblR5cGU7XG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IGNsYXNzTmFtZSArIFwiLWFjdGl2ZVwiO1xuXG4gICAgdmFyIGVuZExpc3RlbmVyID0gZnVuY3Rpb24gZW5kTGlzdGVuZXIoZSkge1xuICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xhc3NMaXN0ID0gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpO1xuICAgICAgY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuICAgIH07XG5cbiAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXG4gICAgKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLmFkZChjbGFzc05hbWUpO1xuXG4gICAgLy8gTmVlZCB0byBkbyB0aGlzIHRvIGFjdHVhbGx5IHRyaWdnZXIgYSB0cmFuc2l0aW9uLlxuICAgIHRoaXMuX3F1ZXVlX2NsYXNzKGFjdGl2ZUNsYXNzTmFtZSk7XG4gIH0sXG4gIF9jbGVhcl90cmFuc2l0aW9uOiBmdW5jdGlvbiBfY2xlYXJfdHJhbnNpdGlvbihoaWRlKSB7XG4gICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG4gICAgdmFyIGFuaW1hdGlvblR5cGUgPSBoaWRlID8gXCJsZWF2ZVwiIDogXCJlbnRlclwiO1xuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLnRyYW5zaXRpb24gKyBcIi1cIiArIGFuaW1hdGlvblR5cGU7XG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IGNsYXNzTmFtZSArIFwiLWFjdGl2ZVwiO1xuXG4gICAgdmFyIGNsYXNzTGlzdCA9ICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKTtcbiAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzc05hbWUpO1xuICB9LFxuICBfc2V0X2FuaW1hdGlvbjogZnVuY3Rpb24gX3NldF9hbmltYXRpb24oaGlkZSkge1xuICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5fZ2V0X2FuaW1hdGlvbl9jbGFzc2VzKGhpZGUpO1xuICAgIHZhciBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGVuZExpc3RlbmVyKGUpIHtcbiAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBub2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIHJldHVybiAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSkucmVtb3ZlKGFuaW0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyLmRlZmF1bHQucmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRMaXN0ZW5lcik7XG4gICAgfTtcblxuICAgIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyLmRlZmF1bHQuYWRkRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRMaXN0ZW5lcik7XG5cbiAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgIHJldHVybiAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSkuYWRkKGFuaW0pO1xuICAgIH0pO1xuICB9LFxuICBfZ2V0X2FuaW1hdGlvbl9jbGFzc2VzOiBmdW5jdGlvbiBfZ2V0X2FuaW1hdGlvbl9jbGFzc2VzKGhpZGUpIHtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGhpZGUgPyB0aGlzLnByb3BzLmhpZGVBbmltYXRpb24gOiB0aGlzLnByb3BzLnNob3dBbmltYXRpb247XG4gICAgaWYgKFwiW29iamVjdCBBcnJheV1cIiA9PT0gdG9TdHJpbmcuY2FsbChhbmltYXRpb25zKSkge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gICAgfSBlbHNlIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYW5pbWF0aW9ucykge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbnMuc3BsaXQoXCIgXCIpO1xuICAgIH1cbiAgfSxcbiAgX2NsZWFyX2FuaW1hdGlvbjogZnVuY3Rpb24gX2NsZWFyX2FuaW1hdGlvbihoaWRlKSB7XG4gICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLl9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSk7XG4gICAgYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRpb24pIHtcbiAgICAgIHJldHVybiAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSkucmVtb3ZlKGFuaW1hdGlvbik7XG4gICAgfSk7XG4gIH0sXG4gIF9xdWV1ZV9jbGFzczogZnVuY3Rpb24gX3F1ZXVlX2NsYXNzKGNsYXNzTmFtZSkge1xuICAgIHRoaXMuY2xhc3NOYW1lUXVldWUucHVzaChjbGFzc05hbWUpO1xuXG4gICAgaWYgKCF0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZSwgVElDSyk7XG4gICAgfVxuICB9LFxuICBfZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZTogZnVuY3Rpb24gX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5faXNfbW91bnRlZCkge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUoX3RoaXMyKTtcbiAgICAgICAgX3RoaXMyLmNsYXNzTmFtZVF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgIHJldHVybiAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSkuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkoKTtcbiAgICB9XG4gICAgdGhpcy5jbGFzc05hbWVRdWV1ZS5sZW5ndGggPSAwO1xuICAgIHRoaXMudGltZW91dCA9IG51bGw7XG4gIH0sXG4gIF9zaG93OiBmdW5jdGlvbiBfc2hvdygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLl9zZXRfdHJhbnNpdGlvbigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaG93QW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLl9zZXRfYW5pbWF0aW9uKCk7XG4gICAgfVxuICB9LFxuICBoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsSWQpO1xuICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChudWxsKTtcbiAgICBpZiAodGhpcy5pc0hpZGluZykge1xuICAgICAgdGhpcy5fc2V0X2lzX2hpZGluZyhmYWxzZSk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmhpZGVBbmltYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2xlYXJfYW5pbWF0aW9uKHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2xlYXJfdHJhbnNpdGlvbih0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGhhbmRsZU1vdXNlTGVhdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKCF0aGlzLmlzSGlkaW5nICYmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwIHx8IHRoaXMucHJvcHMuZXh0ZW5kZWRUaW1lT3V0ID4gMCkpIHtcbiAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCkpO1xuICAgIH1cbiAgfSxcbiAgaGlkZVRvYXN0OiBmdW5jdGlvbiBoaWRlVG9hc3Qob3ZlcnJpZGUpIHtcbiAgICBpZiAodGhpcy5pc0hpZGluZyB8fCB0aGlzLmludGVydmFsSWQgPT09IG51bGwgJiYgIW92ZXJyaWRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0X2lzX2hpZGluZyh0cnVlKTtcbiAgICBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLl9zZXRfdHJhbnNpdGlvbih0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaGlkZUFuaW1hdGlvbikge1xuICAgICAgdGhpcy5fc2V0X2FuaW1hdGlvbih0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlX3JlbW92ZSgpO1xuICAgIH1cbiAgfSxcbiAgX3NldF9pbnRlcnZhbF9pZDogZnVuY3Rpb24gX3NldF9pbnRlcnZhbF9pZChpbnRlcnZhbElkKSB7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gaW50ZXJ2YWxJZDtcbiAgfSxcbiAgX3NldF9pc19oaWRpbmc6IGZ1bmN0aW9uIF9zZXRfaXNfaGlkaW5nKGlzSGlkaW5nKSB7XG4gICAgdGhpcy5pc0hpZGluZyA9IGlzSGlkaW5nO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXRvYXN0ci9saWIvVG9hc3RNZXNzYWdlL2FuaW1hdGlvbk1peGluLmpzXG4gKiogbW9kdWxlIGlkID0gNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNhbGxfc2hvd19tZXRob2QoJG5vZGUsIHByb3BzKSB7XG4gICRub2RlW3Byb3BzLnNob3dNZXRob2RdKHtcbiAgICBkdXJhdGlvbjogcHJvcHMuc2hvd0R1cmF0aW9uLFxuICAgIGVhc2luZzogcHJvcHMuc2hvd0Vhc2luZ1xuICB9KTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCIgfSxcbiAgICAgIC8vIGVmZmVjdGl2ZSAkLmhpZGUoKVxuICAgICAgc2hvd01ldGhvZDogXCJmYWRlSW5cIiwgLy8gc2xpZGVEb3duLCBhbmQgc2hvdyBhcmUgYnVpbHQgaW50byBqUXVlcnlcbiAgICAgIHNob3dEdXJhdGlvbjogMzAwLFxuICAgICAgc2hvd0Vhc2luZzogXCJzd2luZ1wiLCAvLyBhbmQgbGluZWFyIGFyZSBidWlsdCBpbnRvIGpRdWVyeVxuICAgICAgaGlkZU1ldGhvZDogXCJmYWRlT3V0XCIsXG4gICAgICBoaWRlRHVyYXRpb246IDEwMDAsXG4gICAgICBoaWRlRWFzaW5nOiBcInN3aW5nXCIsXG4gICAgICAvL1xuICAgICAgdGltZU91dDogNTAwMCxcbiAgICAgIGV4dGVuZGVkVGltZU91dDogMTAwMFxuICAgIH07XG4gIH0sXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnRlcnZhbElkOiBudWxsLFxuICAgICAgaXNIaWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNhbGxfc2hvd19tZXRob2QodGhpcy5fZ2V0XyRfbm9kZSgpLCB0aGlzLnByb3BzKTtcbiAgICBpZiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCkge1xuICAgICAgdGhpcy5fc2V0X2ludGVydmFsX2lkKHNldFRpbWVvdXQodGhpcy5oaWRlVG9hc3QsIHRoaXMucHJvcHMudGltZU91dCkpO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlTW91c2VFbnRlcjogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5pbnRlcnZhbElkKTtcbiAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQobnVsbCk7XG4gICAgdGhpcy5fc2V0X2lzX2hpZGluZyhmYWxzZSk7XG5cbiAgICBjYWxsX3Nob3dfbWV0aG9kKHRoaXMuX2dldF8kX25vZGUoKS5zdG9wKHRydWUsIHRydWUpLCB0aGlzLnByb3BzKTtcbiAgfSxcbiAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNIaWRpbmcgJiYgKHRoaXMucHJvcHMudGltZU91dCA+IDAgfHwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQgPiAwKSkge1xuICAgICAgdGhpcy5fc2V0X2ludGVydmFsX2lkKHNldFRpbWVvdXQodGhpcy5oaWRlVG9hc3QsIHRoaXMucHJvcHMuZXh0ZW5kZWRUaW1lT3V0KSk7XG4gICAgfVxuICB9LFxuICBoaWRlVG9hc3Q6IGZ1bmN0aW9uIGhpZGVUb2FzdChvdmVycmlkZSkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzSGlkaW5nIHx8IHRoaXMuc3RhdGUuaW50ZXJ2YWxJZCA9PT0gbnVsbCAmJiAhb3ZlcnJpZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzSGlkaW5nOiB0cnVlIH0pO1xuXG4gICAgdGhpcy5fZ2V0XyRfbm9kZSgpW3RoaXMucHJvcHMuaGlkZU1ldGhvZF0oe1xuICAgICAgZHVyYXRpb246IHRoaXMucHJvcHMuaGlkZUR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiB0aGlzLnByb3BzLmhpZGVFYXNpbmcsXG4gICAgICBjb21wbGV0ZTogdGhpcy5faGFuZGxlX3JlbW92ZVxuICAgIH0pO1xuICB9LFxuICBfZ2V0XyRfbm9kZTogZnVuY3Rpb24gX2dldF8kX25vZGUoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbiAgICByZXR1cm4galF1ZXJ5KF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKSk7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bmRlZiAqL1xuICB9LFxuICBfc2V0X2ludGVydmFsX2lkOiBmdW5jdGlvbiBfc2V0X2ludGVydmFsX2lkKGludGVydmFsSWQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGludGVydmFsSWQ6IGludGVydmFsSWRcbiAgICB9KTtcbiAgfSxcbiAgX3NldF9pc19oaWRpbmc6IGZ1bmN0aW9uIF9zZXRfaXNfaGlkaW5nKGlzSGlkaW5nKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0hpZGluZzogaXNIaWRpbmdcbiAgICB9KTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0TWVzc2FnZS9qUXVlcnlNaXhpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuVG9hc3RNZXNzYWdlID0gZXhwb3J0cy5Ub2FzdENvbnRhaW5lciA9IHVuZGVmaW5lZDtcblxudmFyIF9Ub2FzdENvbnRhaW5lciA9IHJlcXVpcmUoXCIuL1RvYXN0Q29udGFpbmVyXCIpO1xuXG52YXIgX1RvYXN0Q29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvYXN0Q29udGFpbmVyKTtcblxudmFyIF9Ub2FzdE1lc3NhZ2UgPSByZXF1aXJlKFwiLi9Ub2FzdE1lc3NhZ2VcIik7XG5cbnZhciBfVG9hc3RNZXNzYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvYXN0TWVzc2FnZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuVG9hc3RDb250YWluZXIgPSBfVG9hc3RDb250YWluZXIyLmRlZmF1bHQ7XG5leHBvcnRzLlRvYXN0TWVzc2FnZSA9IF9Ub2FzdE1lc3NhZ2UyLmRlZmF1bHQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgcmV0dXJuIG5ldyBFbGVtZW50Q2xhc3Mob3B0cylcbn1cblxuZnVuY3Rpb24gaW5kZXhPZihhcnIsIHByb3ApIHtcbiAgaWYgKGFyci5pbmRleE9mKSByZXR1cm4gYXJyLmluZGV4T2YocHJvcClcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICBpZiAoYXJyW2ldID09PSBwcm9wKSByZXR1cm4gaVxuICByZXR1cm4gLTFcbn1cblxuZnVuY3Rpb24gRWxlbWVudENsYXNzKG9wdHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEVsZW1lbnRDbGFzcykpIHJldHVybiBuZXcgRWxlbWVudENsYXNzKG9wdHMpXG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuXG4gIC8vIHNpbWlsYXIgZG9pbmcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCBidXQgd29ya3MgaW4gSUU4XG4gIGlmIChvcHRzLm5vZGVUeXBlKSBvcHRzID0ge2VsOiBvcHRzfVxuXG4gIHRoaXMub3B0cyA9IG9wdHNcbiAgdGhpcy5lbCA9IG9wdHMuZWwgfHwgZG9jdW1lbnQuYm9keVxuICBpZiAodHlwZW9mIHRoaXMuZWwgIT09ICdvYmplY3QnKSB0aGlzLmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmVsKVxufVxuXG5FbGVtZW50Q2xhc3MucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICB2YXIgZWwgPSB0aGlzLmVsXG4gIGlmICghZWwpIHJldHVyblxuICBpZiAoZWwuY2xhc3NOYW1lID09PSBcIlwiKSByZXR1cm4gZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lXG4gIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylcbiAgaWYgKGluZGV4T2YoY2xhc3NlcywgY2xhc3NOYW1lKSA+IC0xKSByZXR1cm4gY2xhc3Nlc1xuICBjbGFzc2VzLnB1c2goY2xhc3NOYW1lKVxuICBlbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKVxuICByZXR1cm4gY2xhc3Nlc1xufVxuXG5FbGVtZW50Q2xhc3MucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICB2YXIgZWwgPSB0aGlzLmVsXG4gIGlmICghZWwpIHJldHVyblxuICBpZiAoZWwuY2xhc3NOYW1lID09PSBcIlwiKSByZXR1cm5cbiAgdmFyIGNsYXNzZXMgPSBlbC5jbGFzc05hbWUuc3BsaXQoJyAnKVxuICB2YXIgaWR4ID0gaW5kZXhPZihjbGFzc2VzLCBjbGFzc05hbWUpXG4gIGlmIChpZHggPiAtMSkgY2xhc3Nlcy5zcGxpY2UoaWR4LCAxKVxuICBlbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKVxuICByZXR1cm4gY2xhc3Nlc1xufVxuXG5FbGVtZW50Q2xhc3MucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICB2YXIgZWwgPSB0aGlzLmVsXG4gIGlmICghZWwpIHJldHVyblxuICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpXG4gIHJldHVybiBpbmRleE9mKGNsYXNzZXMsIGNsYXNzTmFtZSkgPiAtMVxufVxuXG5FbGVtZW50Q2xhc3MucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICB2YXIgZWwgPSB0aGlzLmVsXG4gIGlmICghZWwpIHJldHVyblxuICBpZiAodGhpcy5oYXMoY2xhc3NOYW1lKSkgdGhpcy5yZW1vdmUoY2xhc3NOYW1lKVxuICBlbHNlIHRoaXMuYWRkKGNsYXNzTmFtZSlcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXRvYXN0ci9+L2VsZW1lbnQtY2xhc3MvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA0NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIE9iamVjdC5hc3NpZ25cbiAqL1xuXG4vLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtb2JqZWN0LmFzc2lnblxuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZXMpIHtcbiAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiB0YXJnZXQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gIH1cblxuICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICBmb3IgKHZhciBuZXh0SW5kZXggPSAxOyBuZXh0SW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBuZXh0SW5kZXgrKykge1xuICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW25leHRJbmRleF07XG4gICAgaWYgKG5leHRTb3VyY2UgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGZyb20gPSBPYmplY3QobmV4dFNvdXJjZSk7XG5cbiAgICAvLyBXZSBkb24ndCBjdXJyZW50bHkgc3VwcG9ydCBhY2Nlc3NvcnMgbm9yIHByb3hpZXMuIFRoZXJlZm9yZSB0aGlzXG4gICAgLy8gY29weSBjYW5ub3QgdGhyb3cuIElmIHdlIGV2ZXIgc3VwcG9ydGVkIHRoaXMgdGhlbiB3ZSBtdXN0IGhhbmRsZVxuICAgIC8vIGV4Y2VwdGlvbnMgYW5kIHNpZGUtZWZmZWN0cy4gV2UgZG9uJ3Qgc3VwcG9ydCBzeW1ib2xzIHNvIHRoZXkgd29uJ3RcbiAgICAvLyBiZSB0cmFuc2ZlcnJlZC5cblxuICAgIGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG4gICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC9saWIvT2JqZWN0LmFzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDQ3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RUcmFuc2l0aW9uRXZlbnRzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG4vKipcbiAqIEVWRU5UX05BTUVfTUFQIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIGV2ZW50IGZpcmVkIHdoZW4gYVxuICogdHJhbnNpdGlvbi9hbmltYXRpb24gZW5kcywgYmFzZWQgb24gdGhlIHN0eWxlIHByb3BlcnR5IHVzZWQgdG9cbiAqIGRlZmluZSB0aGF0IGV2ZW50LlxuICovXG52YXIgRVZFTlRfTkFNRV9NQVAgPSB7XG4gIHRyYW5zaXRpb25lbmQ6IHtcbiAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAnTW96VHJhbnNpdGlvbic6ICdtb3pUcmFuc2l0aW9uRW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuICAgICdtc1RyYW5zaXRpb24nOiAnTVNUcmFuc2l0aW9uRW5kJ1xuICB9LFxuXG4gIGFuaW1hdGlvbmVuZDoge1xuICAgICdhbmltYXRpb24nOiAnYW5pbWF0aW9uZW5kJyxcbiAgICAnV2Via2l0QW5pbWF0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgJ01vekFuaW1hdGlvbic6ICdtb3pBbmltYXRpb25FbmQnLFxuICAgICdPQW5pbWF0aW9uJzogJ29BbmltYXRpb25FbmQnLFxuICAgICdtc0FuaW1hdGlvbic6ICdNU0FuaW1hdGlvbkVuZCdcbiAgfVxufTtcblxudmFyIGVuZEV2ZW50cyA9IFtdO1xuXG5mdW5jdGlvbiBkZXRlY3RFdmVudHMoKSB7XG4gIHZhciB0ZXN0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIHN0eWxlID0gdGVzdEVsLnN0eWxlO1xuXG4gIC8vIE9uIHNvbWUgcGxhdGZvcm1zLCBpbiBwYXJ0aWN1bGFyIHNvbWUgcmVsZWFzZXMgb2YgQW5kcm9pZCA0LngsXG4gIC8vIHRoZSB1bi1wcmVmaXhlZCBcImFuaW1hdGlvblwiIGFuZCBcInRyYW5zaXRpb25cIiBwcm9wZXJ0aWVzIGFyZSBkZWZpbmVkIG9uIHRoZVxuICAvLyBzdHlsZSBvYmplY3QgYnV0IHRoZSBldmVudHMgdGhhdCBmaXJlIHdpbGwgc3RpbGwgYmUgcHJlZml4ZWQsIHNvIHdlIG5lZWRcbiAgLy8gdG8gY2hlY2sgaWYgdGhlIHVuLXByZWZpeGVkIGV2ZW50cyBhcmUgdXNlYWJsZSwgYW5kIGlmIG5vdCByZW1vdmUgdGhlbVxuICAvLyBmcm9tIHRoZSBtYXBcbiAgaWYgKCEoJ0FuaW1hdGlvbkV2ZW50JyBpbiB3aW5kb3cpKSB7XG4gICAgZGVsZXRlIEVWRU5UX05BTUVfTUFQLmFuaW1hdGlvbmVuZC5hbmltYXRpb247XG4gIH1cblxuICBpZiAoISgnVHJhbnNpdGlvbkV2ZW50JyBpbiB3aW5kb3cpKSB7XG4gICAgZGVsZXRlIEVWRU5UX05BTUVfTUFQLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbjtcbiAgfVxuXG4gIGZvciAodmFyIGJhc2VFdmVudE5hbWUgaW4gRVZFTlRfTkFNRV9NQVApIHtcbiAgICB2YXIgYmFzZUV2ZW50cyA9IEVWRU5UX05BTUVfTUFQW2Jhc2VFdmVudE5hbWVdO1xuICAgIGZvciAodmFyIHN0eWxlTmFtZSBpbiBiYXNlRXZlbnRzKSB7XG4gICAgICBpZiAoc3R5bGVOYW1lIGluIHN0eWxlKSB7XG4gICAgICAgIGVuZEV2ZW50cy5wdXNoKGJhc2VFdmVudHNbc3R5bGVOYW1lXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGRldGVjdEV2ZW50cygpO1xufVxuXG4vLyBXZSB1c2UgdGhlIHJhdyB7YWRkfHJlbW92ZX1FdmVudExpc3RlbmVyKCkgY2FsbCBiZWNhdXNlIEV2ZW50TGlzdGVuZXJcbi8vIGRvZXMgbm90IGtub3cgaG93IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgYW5kIHdlIHJlYWxseSBzaG91bGRcbi8vIGNsZWFuIHVwLiBBbHNvLCB0aGVzZSBldmVudHMgYXJlIG5vdCB0cmlnZ2VyZWQgaW4gb2xkZXIgYnJvd3NlcnNcbi8vIHNvIHdlIHNob3VsZCBiZSBBLU9LIGhlcmUuXG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBldmVudExpc3RlbmVyKSB7XG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIpIHtcbiAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xufVxuXG52YXIgUmVhY3RUcmFuc2l0aW9uRXZlbnRzID0ge1xuICBhZGRFbmRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAobm9kZSwgZXZlbnRMaXN0ZW5lcikge1xuICAgIGlmIChlbmRFdmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBJZiBDU1MgdHJhbnNpdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQsIHRyaWdnZXIgYW4gXCJlbmQgYW5pbWF0aW9uXCJcbiAgICAgIC8vIGV2ZW50IGltbWVkaWF0ZWx5LlxuICAgICAgd2luZG93LnNldFRpbWVvdXQoZXZlbnRMaXN0ZW5lciwgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVuZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbmRFdmVudCkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRFdmVudCwgZXZlbnRMaXN0ZW5lcik7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKG5vZGUsIGV2ZW50TGlzdGVuZXIpIHtcbiAgICBpZiAoZW5kRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZW5kRXZlbnQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuICAgIH0pO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0VHJhbnNpdGlvbkV2ZW50cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC9saWIvUmVhY3RUcmFuc2l0aW9uRXZlbnRzLmpzXG4gKiogbW9kdWxlIGlkID0gNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSB1cGRhdGVcbiAqL1xuXG4vKiBnbG9iYWwgaGFzT3duUHJvcGVydHk6dHJ1ZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgaGFzT3duUHJvcGVydHkgPSAoe30pLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBzaGFsbG93Q29weSh4KSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIHguY29uY2F0KCk7XG4gIH0gZWxzZSBpZiAoeCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gYXNzaWduKG5ldyB4LmNvbnN0cnVjdG9yKCksIHgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB4O1xuICB9XG59XG5cbnZhciBDT01NQU5EX1BVU0ggPSBrZXlPZih7ICRwdXNoOiBudWxsIH0pO1xudmFyIENPTU1BTkRfVU5TSElGVCA9IGtleU9mKHsgJHVuc2hpZnQ6IG51bGwgfSk7XG52YXIgQ09NTUFORF9TUExJQ0UgPSBrZXlPZih7ICRzcGxpY2U6IG51bGwgfSk7XG52YXIgQ09NTUFORF9TRVQgPSBrZXlPZih7ICRzZXQ6IG51bGwgfSk7XG52YXIgQ09NTUFORF9NRVJHRSA9IGtleU9mKHsgJG1lcmdlOiBudWxsIH0pO1xudmFyIENPTU1BTkRfQVBQTFkgPSBrZXlPZih7ICRhcHBseTogbnVsbCB9KTtcblxudmFyIEFMTF9DT01NQU5EU19MSVNUID0gW0NPTU1BTkRfUFVTSCwgQ09NTUFORF9VTlNISUZULCBDT01NQU5EX1NQTElDRSwgQ09NTUFORF9TRVQsIENPTU1BTkRfTUVSR0UsIENPTU1BTkRfQVBQTFldO1xuXG52YXIgQUxMX0NPTU1BTkRTX1NFVCA9IHt9O1xuXG5BTExfQ09NTUFORFNfTElTVC5mb3JFYWNoKGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gIEFMTF9DT01NQU5EU19TRVRbY29tbWFuZF0gPSB0cnVlO1xufSk7XG5cbmZ1bmN0aW9uIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgY29tbWFuZCkge1xuICAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHRhcmdldCBvZiAlcyB0byBiZSBhbiBhcnJheTsgZ290ICVzLicsIGNvbW1hbmQsIHZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIHZhciBzcGVjVmFsdWUgPSBzcGVjW2NvbW1hbmRdO1xuICAhQXJyYXkuaXNBcnJheShzcGVjVmFsdWUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5OyBnb3QgJXMuICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlciBpbiBhbiBhcnJheT8nLCBjb21tYW5kLCBzcGVjVmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlKHZhbHVlLCBzcGVjKSB7XG4gICEodHlwZW9mIHNwZWMgPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogWW91IHByb3ZpZGVkIGEga2V5IHBhdGggdG8gdXBkYXRlKCkgdGhhdCBkaWQgbm90IGNvbnRhaW4gb25lICcgKyAnb2YgJXMuIERpZCB5b3UgZm9yZ2V0IHRvIGluY2x1ZGUgeyVzOiAuLi59PycsIEFMTF9DT01NQU5EU19MSVNULmpvaW4oJywgJyksIENPTU1BTkRfU0VUKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9TRVQpKSB7XG4gICAgIShPYmplY3Qua2V5cyhzcGVjKS5sZW5ndGggPT09IDEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUga2V5IGluIGFuIG9iamVjdCB3aXRoICVzJywgQ09NTUFORF9TRVQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgIHJldHVybiBzcGVjW0NPTU1BTkRfU0VUXTtcbiAgfVxuXG4gIHZhciBuZXh0VmFsdWUgPSBzaGFsbG93Q29weSh2YWx1ZSk7XG5cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9NRVJHRSkpIHtcbiAgICB2YXIgbWVyZ2VPYmogPSBzcGVjW0NPTU1BTkRfTUVSR0VdO1xuICAgICEobWVyZ2VPYmogJiYgdHlwZW9mIG1lcmdlT2JqID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6ICVzIGV4cGVjdHMgYSBzcGVjIG9mIHR5cGUgXFwnb2JqZWN0XFwnOyBnb3QgJXMnLCBDT01NQU5EX01FUkdFLCBtZXJnZU9iaikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICEobmV4dFZhbHVlICYmIHR5cGVvZiBuZXh0VmFsdWUgPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogJXMgZXhwZWN0cyBhIHRhcmdldCBvZiB0eXBlIFxcJ29iamVjdFxcJzsgZ290ICVzJywgQ09NTUFORF9NRVJHRSwgbmV4dFZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgYXNzaWduKG5leHRWYWx1ZSwgc3BlY1tDT01NQU5EX01FUkdFXSk7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1BVU0gpKSB7XG4gICAgaW52YXJpYW50QXJyYXlDYXNlKHZhbHVlLCBzcGVjLCBDT01NQU5EX1BVU0gpO1xuICAgIHNwZWNbQ09NTUFORF9QVVNIXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBuZXh0VmFsdWUucHVzaChpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfVU5TSElGVCkpIHtcbiAgICBpbnZhcmlhbnRBcnJheUNhc2UodmFsdWUsIHNwZWMsIENPTU1BTkRfVU5TSElGVCk7XG4gICAgc3BlY1tDT01NQU5EX1VOU0hJRlRdLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIG5leHRWYWx1ZS51bnNoaWZ0KGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9TUExJQ0UpKSB7XG4gICAgIUFycmF5LmlzQXJyYXkodmFsdWUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkICVzIHRhcmdldCB0byBiZSBhbiBhcnJheTsgZ290ICVzJywgQ09NTUFORF9TUExJQ0UsIHZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgIUFycmF5LmlzQXJyYXkoc3BlY1tDT01NQU5EX1NQTElDRV0pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5czsgZ290ICVzLiAnICsgJ0RpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXJzIGluIGFuIGFycmF5PycsIENPTU1BTkRfU1BMSUNFLCBzcGVjW0NPTU1BTkRfU1BMSUNFXSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIHNwZWNbQ09NTUFORF9TUExJQ0VdLmZvckVhY2goZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICFBcnJheS5pc0FycmF5KGFyZ3MpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5czsgZ290ICVzLiAnICsgJ0RpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXJzIGluIGFuIGFycmF5PycsIENPTU1BTkRfU1BMSUNFLCBzcGVjW0NPTU1BTkRfU1BMSUNFXSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAgbmV4dFZhbHVlLnNwbGljZS5hcHBseShuZXh0VmFsdWUsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9BUFBMWSkpIHtcbiAgICAhKHR5cGVvZiBzcGVjW0NPTU1BTkRfQVBQTFldID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhIGZ1bmN0aW9uOyBnb3QgJXMuJywgQ09NTUFORF9BUFBMWSwgc3BlY1tDT01NQU5EX0FQUExZXSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIG5leHRWYWx1ZSA9IHNwZWNbQ09NTUFORF9BUFBMWV0obmV4dFZhbHVlKTtcbiAgfVxuXG4gIGZvciAodmFyIGsgaW4gc3BlYykge1xuICAgIGlmICghKEFMTF9DT01NQU5EU19TRVQuaGFzT3duUHJvcGVydHkoaykgJiYgQUxMX0NPTU1BTkRTX1NFVFtrXSkpIHtcbiAgICAgIG5leHRWYWx1ZVtrXSA9IHVwZGF0ZSh2YWx1ZVtrXSwgc3BlY1trXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5leHRWYWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QvbGliL3VwZGF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRXhlY3V0aW9uRW52aXJvbm1lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG4vKipcbiAqIFNpbXBsZSwgbGlnaHR3ZWlnaHQgbW9kdWxlIGFzc2lzdGluZyB3aXRoIHRoZSBkZXRlY3Rpb24gYW5kIGNvbnRleHQgb2ZcbiAqIFdvcmtlci4gSGVscHMgYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFuZCBhbGxvd3MgY29kZSB0byByZWFzb24gYWJvdXRcbiAqIHdoZXRoZXIgb3Igbm90IHRoZXkgYXJlIGluIGEgV29ya2VyLCBldmVuIGlmIHRoZXkgbmV2ZXIgaW5jbHVkZSB0aGUgbWFpblxuICogYFJlYWN0V29ya2VyYCBkZXBlbmRlbmN5LlxuICovXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cbiAgY2FuVXNlRE9NOiBjYW5Vc2VET00sXG5cbiAgY2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG5cbiAgY2FuVXNlRXZlbnRMaXN0ZW5lcnM6IGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuXG4gIGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuLFxuXG4gIGlzSW5Xb3JrZXI6ICFjYW5Vc2VET00gLy8gRm9yIG5vdywgdGhpcyBpcyB0cnVlIC0gbWlnaHQgY2hhbmdlIGluIHRoZSBmdXR1cmUuXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3Qvfi9mYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qc1xuICoqIG1vZHVsZSBpZCA9IDUwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3Qvfi9mYmpzL2xpYi9pbnZhcmlhbnQuanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGtleU9mXG4gKi9cblxuLyoqXG4gKiBBbGxvd3MgZXh0cmFjdGlvbiBvZiBhIG1pbmlmaWVkIGtleS4gTGV0J3MgdGhlIGJ1aWxkIHN5c3RlbSBtaW5pZnkga2V5c1xuICogd2l0aG91dCBsb3NpbmcgdGhlIGFiaWxpdHkgdG8gZHluYW1pY2FsbHkgdXNlIGtleSBzdHJpbmdzIGFzIHZhbHVlc1xuICogdGhlbXNlbHZlcy4gUGFzcyBpbiBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkvdmFsIHBhaXIgYW5kIGl0IHdpbGwgcmV0dXJuXG4gKiB5b3UgdGhlIHN0cmluZyBrZXkgb2YgdGhhdCBzaW5nbGUgcmVjb3JkLiBTdXBwb3NlIHlvdSB3YW50IHRvIGdyYWIgdGhlXG4gKiB2YWx1ZSBmb3IgYSBrZXkgJ2NsYXNzTmFtZScgaW5zaWRlIG9mIGFuIG9iamVjdC4gS2V5L3ZhbCBtaW5pZmljYXRpb24gbWF5XG4gKiBoYXZlIGFsaWFzZWQgdGhhdCBrZXkgdG8gYmUgJ3hhMTInLiBrZXlPZih7Y2xhc3NOYW1lOiBudWxsfSkgd2lsbCByZXR1cm5cbiAqICd4YTEyJyBpbiB0aGF0IGNhc2UuIFJlc29sdmUga2V5cyB5b3Ugd2FudCB0byB1c2Ugb25jZSBhdCBzdGFydHVwIHRpbWUsIHRoZW5cbiAqIHJldXNlIHRob3NlIHJlc29sdXRpb25zLlxuICovXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGtleU9mID0gZnVuY3Rpb24gKG9uZUtleU9iaikge1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBvbmVLZXlPYmopIHtcbiAgICBpZiAoIW9uZUtleU9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5T2Y7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3Qvfi9mYmpzL2xpYi9rZXlPZi5qc1xuICoqIG1vZHVsZSBpZCA9IDUyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBtZW1vO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0fSksXHJcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHR9KSxcclxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cclxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0cmV0dXJuIHN0eWxlcztcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRpZihpZHggPj0gMCkge1xyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHJcblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHR9O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHR1cGRhdGUob2JqKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdGV4dFN0b3JlID0gW107XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHJcblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRpZihtZWRpYSkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdH1cclxuXHJcblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4gKiogbW9kdWxlIGlkID0gNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zd2l0Y2gvYXNzZXRzL2luZGV4LmNzc1xuICoqIG1vZHVsZSBpZCA9IDU0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbmUgY2Fubm90IGJlIHVzZWQgaW5kaXJlY3RcIik7IH07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19hbWRfb3B0aW9uc19fO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9idWlsZGluL2FtZC1vcHRpb25zLmpzXG4gKiogbW9kdWxlIGlkID0gNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=