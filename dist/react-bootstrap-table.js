!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactBootstrapTable=t(require("react"),require("react-dom")):e.ReactBootstrapTable=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=o(n),s=r(24),a=o(s),u=r(8);"undefined"!=typeof window&&(window.BootstrapTable=i["default"],window.TableHeaderColumn=a["default"],window.TableDataSet=u.TableDataSet),t["default"]={BootstrapTable:i["default"],TableHeaderColumn:a["default"],TableDataSet:u.TableDataSet},e.exports=t["default"]},function(t,r){t.exports=e},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={SORT_DESC:"desc",SORT_ASC:"asc",SIZE_PER_PAGE:10,NEXT_PAGE:">",LAST_PAGE:">>",PRE_PAGE:"<",FIRST_PAGE:"<<",ROW_SELECT_BG_COLOR:"",ROW_SELECT_NONE:"none",ROW_SELECT_SINGLE:"radio",ROW_SELECT_MULTI:"checkbox",CELL_EDIT_NONE:"none",CELL_EDIT_CLICK:"click",CELL_EDIT_DBCLICK:"dbclick",SIZE_PER_PAGE_LIST:[10,25,30,50],PAGINATION_SIZE:5,NO_DATA_TEXT:"There is no data to display",SHOW_ONLY_SELECT:"Show Selected Only",SHOW_ALL:"Show All",FILTER_DELAY:500,FILTER_TYPE:{TEXT:"TextFilter",SELECT:"SelectFilter",NUMBER:"NumberFilter",DATE:"DateFilter",CUSTOM:"CustomFilter"}},e.exports=t["default"]},function(e,t,r){var o,n;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o))e.push(r.apply(null,o));else if("object"===n)for(var s in o)i.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(o=[],n=function(){return r}.apply(t,o),!(void 0!==n&&(e.exports=n)))}()},function(e,r){e.exports=t},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=o(n),s=r(2),a=o(s),u=r(3),l=o(u);t["default"]={renderSortCaret:function(e){var t=document.createElement("span");t.className="order",e==a["default"].SORT_ASC&&(t.className+=" dropup");var r=document.createElement("span");return r.className="caret",r.style.margin="10px 5px",t.appendChild(r),t},renderReactSortCaret:function(e){var t=(0,l["default"])("order",{dropup:e==a["default"].SORT_ASC});return i["default"].createElement("span",{className:t},i["default"].createElement("span",{className:"caret",style:{margin:"10px 5px"}}))},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return r==o&&(o=t.clientWidth),document.body.removeChild(t),r-o}},e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),s=o(i),a=r(9),u=o(a);r(54);var l=r(10),p=o(l),c=function(e,t,r,o,i){if(e===!0||"string"==typeof e){var a=e===!0?"text":e;return s["default"].createElement("input",n({},t,{type:a,defaultValue:i,className:(o||"")+" form-control editor edit-text"}))}if(!e){var a=e===!0?"text":e;return s["default"].createElement("input",n({},t,{type:a,defaultValue:i,disabled:"disabled",className:(o||"")+" form-control editor edit-text"}))}if(e.type){if(e.style&&(t.style=e.style),t.className=(o||"")+" form-control editor edit-"+e.type+(e.className?" "+e.className:""),"select"===e.type){var l=[],c=e.options.values;if(Array.isArray(c)){var d;l=c.map(function(e,t){return d=r?r(e):e,s["default"].createElement("option",{key:"option"+t,value:e},d)})}return s["default"].createElement("select",n({},t,{defaultValue:i}),l)}if("textarea"===e.type){e.cols&&(t.cols=e.cols),e.rows&&(t.rows=e.rows);var f=t.onKeyDown,h=null;return f&&(t.onKeyDown=function(e){13!=e.keyCode&&f(e)},h=s["default"].createElement("butto",{className:"btn btn-info btn-xs textarea-save-btn",onClick:f},"save")),s["default"].createElement("div",null,s["default"].createElement("textarea",n({},t,{defaultValue:i})),h)}if("checkbox"===e.type){var y="true:false";e.options&&e.options.values&&(y=e.options.values),t.className=t.className.replace("form-control",""),t.className+=" checkbox pull-right";var v=!(!i||i.toString()!=y.split(":")[0]);return s["default"].createElement("input",n({},t,{type:"checkbox",value:y,defaultChecked:v}))}if("switch"===e.type){var m="true:false";t.className=t.className.replace("form-control",""),t.className+=" checkbox pull-right";var v=!(!i||i.toString()!=m.split(":")[0]);return s["default"].createElement(u["default"],{className:t.className,defaultChecked:v})}if("react-select"===e.type){var g="undefined"!=typeof e.options.multi?e.options.multi:!1;return s["default"].createElement(p["default"],{className:"pull-right",options:e.options.values,multi:g,simpleValue:!0})}return s["default"].createElement("input",n({},t,{type:a,defaultValue:i}))}return s["default"].createElement("input",n({},t,{type:"text",className:(o||"")+" form-control editor edit-text"}))};t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=(o(p),r(45)),d=l["default"].createFactory(c.ToastMessage.animation),f=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"notice",value:function(e,t,r){this.refs.toastr[e](t,r,{mode:"single",timeOut:5e3,extendedTimeOut:1e3,showAnimation:"animated  bounceIn",hideAnimation:"animated bounceOut"})}},{key:"render",value:function(){return l["default"].createElement(c.ToastContainer,{ref:"toastr",toastMessageFactory:d,id:"toast-container",className:"toast-top-right"})}}]),t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r,o){return r=r.toLowerCase(),e.sort(function(e,n){return o?o(e,n,r,t):r==p["default"].SORT_DESC?e[t]>n[t]?-1:e[t]<n[t]?1:0:e[t]<n[t]?-1:e[t]>n[t]?1:0}),e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(2),p=o(l),c=r(14).EventEmitter,d=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.data=e}return i(t,e),a(t,[{key:"setData",value:function(e){this.emit("change",e)}},{key:"clear",value:function(){this.data=null}},{key:"getData",value:function(){return this.data}}]),t}(c);t.TableDataSet=d;var f=function(){function e(t){n(this,e),this.data=t,this.colInfos=null,this.filteredData=null,this.isOnFilter=!1,this.filterObj=null,this.searchText=null,this.sortObj=null,this.pageObj={},this.selected=[],this.multiColumnSearch=!1,this.showOnlySelected=!1,this.remote=!1}return a(e,[{key:"setProps",value:function(e){this.keyField=e.keyField,this.enablePagination=e.isPagination,this.colInfos=e.colInfos,this.remote=e.remote,this.multiColumnSearch=e.multiColumnSearch}},{key:"setData",value:function(e){this.data=e,this.isOnFilter&&(null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this.sortObj&&this.sort(this.sortObj.order,this.sortObj.sortField)}},{key:"getSortInfo",value:function(){return this.sortObj}},{key:"setSelectedRowKey",value:function(e){this.selected=e}},{key:"getSelectedRowKeys",value:function(){return this.selected}},{key:"getCurrentDisplayData",value:function(){return this.isOnFilter?this.filteredData:this.data}},{key:"ignoreNonSelected",value:function(){var e=this;this.showOnlySelected=!this.showOnlySelected,this.showOnlySelected?(this.isOnFilter=!0,this.filteredData=this.data.filter(function(t){var r=e.selected.find(function(r){return t[e.keyField]===r});return"undefined"!=typeof r})):this.isOnFilter=!1}},{key:"sort",value:function(e,t){this.sortObj={order:e,sortField:t};var r=this.getCurrentDisplayData();if(!this.colInfos[t])return this;var o=this.colInfos[t].sortFunc;return r=s(r,t,e,o),this}},{key:"page",value:function(e,t){return this.pageObj.end=e*t-1,this.pageObj.start=this.pageObj.end-(t-1),this}},{key:"edit",value:function(e,t,r){var o=this.getCurrentDisplayData(),n=void 0;return this.enablePagination?(o[this.pageObj.start+t][r]=e,n=o[this.pageObj.start+t][this.keyField]):(o[t][r]=e,n=o[t][this.keyField]),this.isOnFilter&&(this.data.forEach(function(t){t[this.keyField]===n&&(t[r]=e)},this),null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this}},{key:"addAtBegin",value:function(e){if(!e[this.keyField]||""===e[this.keyField].toString())throw this.keyField+" can't be empty value.";var t=this.getCurrentDisplayData();t.forEach(function(t){if(t[this.keyField].toString()===e[this.keyField].toString())throw this.keyField+" "+e[this.keyField]+" already exists"},this),console.log("@@"),t.unshift(e),this.isOnFilter&&this.data.unshift(e)}},{key:"add",value:function(e){if(!e[this.keyField]||""===e[this.keyField].toString())throw this.keyField+" can't be empty value.";var t=this.getCurrentDisplayData();t.forEach(function(t){if(t[this.keyField].toString()===e[this.keyField].toString())throw this.keyField+" "+e[this.keyField]+" already exists"},this),t.push(e),this.isOnFilter&&this.data.push(e)}},{key:"remove",value:function(e){var t=this.getCurrentDisplayData(),r=t.filter(function(t){return-1==e.indexOf(t[this.keyField])},this);this.isOnFilter?(this.data=this.data.filter(function(t){return-1==e.indexOf(t[this.keyField])},this),this.filteredData=r):this.data=r}},{key:"filter",value:function(e){var t=this;0==Object.keys(e).length?(this.filteredData=null,this.isOnFilter=!1,this.filterObj=null):(this.filterObj=e,this.filteredData=this.data.filter(function(r){var o=!0,n=void 0;for(var i in e){var s=r[i];switch(e[i].type){case p["default"].FILTER_TYPE.NUMBER:n=e[i].value.number;break;case p["default"].FILTER_TYPE.CUSTOM:n="object"==typeof e[i].value?void 0:"string"==typeof e[i].value?e[i].value.toLowerCase():e[i].value;break;default:n="string"==typeof e[i].value?e[i].value.toLowerCase():e[i].value,void 0===n&&(n=e[i].toLowerCase())}if(t.colInfos[i]){var a=t.colInfos[i],u=a.format,l=a.filterFormatted,c=a.formatExtraData;l&&u&&(s=u(r[i],r,c))}switch(e[i].type){case p["default"].FILTER_TYPE.NUMBER:o=t.filterNumber(s,n,e[i].value.comparator);break;case p["default"].FILTER_TYPE.DATE:o=t.filterDate(s,n);break;case p["default"].FILTER_TYPE.CUSTOM:o=t.filterCustom(s,n,e[i].value);break;default:o=t.filterText(s,n)}if(!o)break}return o}),this.isOnFilter=!0)}},{key:"filterNumber",value:function(e,t,r){var o=!0;switch(r){case"=":e!=t&&(o=!1);break;case">":t>=e&&(o=!1);break;case">=":t>e&&(o=!1);break;case"<":e>=t&&(o=!1);break;case"<=":e>t&&(o=!1);break;case"!=":e==t&&(o=!1);break;default:console.error("Number comparator provided is not supported")}return o}},{key:"filterDate",value:function(e,t){return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()}},{key:"filterCustom",value:function(e,t,r){return null!=r&&"object"==typeof r?r.callback(e,r.callbackParameters):filterText(e,t)}},{key:"filterText",value:function(e,t){return-1!=e.toString().toLowerCase().indexOf(t)}},{key:"search",value:function(e){var t=this;""===e.trim()?(this.filteredData=null,this.isOnFilter=!1,this.searchText=null):!function(){t.searchText=e;var r=[];t.multiColumnSearch?r=e.split(" "):r.push(e),t.filteredData=t.data.filter(function(e){for(var o=Object.keys(e),n=!1,i=0,s=o.length;s>i;i++){var a=o[i];if(t.colInfos[a]&&e[a]){var u=t.colInfos[a],l=u.format,p=u.filterFormatted,c=u.formatExtraData,d=u.searchable,f=u.hidden,h=e[a];if(!f&&d){p&&l&&(h=l(h,e,c));for(var y=0,v=r.length;v>y;y++){var m=r[y].toLowerCase();if(-1!==h.toString().toLowerCase().indexOf(m)){n=!0;break}}}}}return n}),t.isOnFilter=!0}()}},{key:"getDataIgnoringPagination",value:function(){var e=this.getCurrentDisplayData();return e}},{key:"get",value:function(){var e=this.getCurrentDisplayData();if(0==e.length)return e;if(this.remote||!this.enablePagination)return e;for(var t=[],r=this.pageObj.start;r<=this.pageObj.end&&(t.push(e[r]),r+1!=e.length);r++);return t}},{key:"getKeyField",value:function(){return this.keyField}},{key:"getDataNum",value:function(){return this.getCurrentDisplayData().length}},{key:"isChangedPage",value:function(){return!(!this.pageObj.start||!this.pageObj.end)}},{key:"getAllRowkey",value:function(){return this.data.map(function(e){return e[this.keyField]},this)}}]),e}();t.TableDataStore=f},function(e,t,r){"use strict";e.exports=r(37)},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){return"object"==typeof e?JSON.stringify(e):e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=r(1),a=o(s),u=r(4),l=o(u),p=r(41),c=o(p),d=r(3),f=o(d),h=r(11),y=o(h),v=r(38),m=o(v),g=r(39),b=o(g),E=r(40),P=o(E),T=a["default"].PropTypes.oneOfType([a["default"].PropTypes.string,a["default"].PropTypes.node]),w=a["default"].createClass({displayName:"Select",propTypes:{addLabelText:a["default"].PropTypes.string,allowCreate:a["default"].PropTypes.bool,autoBlur:a["default"].PropTypes.bool,autofocus:a["default"].PropTypes.bool,backspaceRemoves:a["default"].PropTypes.bool,className:a["default"].PropTypes.string,clearAllText:T,clearValueText:T,clearable:a["default"].PropTypes.bool,delimiter:a["default"].PropTypes.string,disabled:a["default"].PropTypes.bool,escapeClearsValue:a["default"].PropTypes.bool,filterOption:a["default"].PropTypes.func,filterOptions:a["default"].PropTypes.any,ignoreAccents:a["default"].PropTypes.bool,ignoreCase:a["default"].PropTypes.bool,inputProps:a["default"].PropTypes.object,isLoading:a["default"].PropTypes.bool,labelKey:a["default"].PropTypes.string,matchPos:a["default"].PropTypes.string,matchProp:a["default"].PropTypes.string,menuBuffer:a["default"].PropTypes.number,menuContainerStyle:a["default"].PropTypes.object,menuStyle:a["default"].PropTypes.object,multi:a["default"].PropTypes.bool,name:a["default"].PropTypes.string,newOptionCreator:a["default"].PropTypes.func,noResultsText:T,onBlur:a["default"].PropTypes.func,onBlurResetsInput:a["default"].PropTypes.bool,onChange:a["default"].PropTypes.func,onClose:a["default"].PropTypes.func,onFocus:a["default"].PropTypes.func,onInputChange:a["default"].PropTypes.func,onMenuScrollToBottom:a["default"].PropTypes.func,onOpen:a["default"].PropTypes.func,onValueClick:a["default"].PropTypes.func,optionComponent:a["default"].PropTypes.func,optionRenderer:a["default"].PropTypes.func,options:a["default"].PropTypes.array,placeholder:T,required:a["default"].PropTypes.bool,scrollMenuIntoView:a["default"].PropTypes.bool,searchable:a["default"].PropTypes.bool,simpleValue:a["default"].PropTypes.bool,style:a["default"].PropTypes.object,tabIndex:a["default"].PropTypes.string,value:a["default"].PropTypes.any,valueComponent:a["default"].PropTypes.func,valueKey:a["default"].PropTypes.string,valueRenderer:a["default"].PropTypes.func,wrapperStyle:a["default"].PropTypes.object},statics:{Async:m["default"]},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',allowCreate:!1,backspaceRemoves:!0,clearable:!0,clearAllText:"Clear all",clearValueText:"Clear value",delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:!0,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,optionComponent:b["default"],placeholder:"Select...",required:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,valueComponent:P["default"],valueKey:"value"}},getInitialState:function(){return{inputValue:"",isFocused:!1,isLoading:!1,isOpen:!1,isPseudoFocused:!1,required:this.props.required&&this.handleRequired(this.props.value,this.props.multi)}},componentDidMount:function(){this.props.autofocus&&this.focus()},componentWillUpdate:function(e,t){if(t.isOpen!==this.state.isOpen){var r=t.isOpen?e.onOpen:e.onClose;r&&r()}},componentDidUpdate:function(e,t){if(this.refs.menu&&this.refs.focused&&this.state.isOpen&&!this.hasScrolledToOption){var r=l["default"].findDOMNode(this.refs.focused),o=l["default"].findDOMNode(this.refs.menu);o.scrollTop=r.offsetTop,this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(t.inputValue!==this.state.inputValue&&this.props.onInputChange&&this.props.onInputChange(this.state.inputValue),this._scrollToFocusedOptionOnUpdate&&this.refs.focused&&this.refs.menu){this._scrollToFocusedOptionOnUpdate=!1;var n=l["default"].findDOMNode(this.refs.focused),i=l["default"].findDOMNode(this.refs.menu),s=n.getBoundingClientRect(),a=i.getBoundingClientRect();(s.bottom>a.bottom||s.top<a.top)&&(i.scrollTop=n.offsetTop+n.clientHeight-i.offsetHeight)}if(this.props.scrollMenuIntoView&&this.refs.menuContainer){var u=this.refs.menuContainer.getBoundingClientRect();window.innerHeight<u.bottom+this.props.menuBuffer&&window.scrollTo(0,window.scrollY+u.bottom+this.props.menuBuffer-window.innerHeight)}e.disabled!==this.props.disabled&&this.setState({isFocused:!1})},focus:function(){this.refs.input&&this.refs.input.focus()},blurInput:function(){this.refs.input&&this.refs.input.blur()},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchEndClearValue:function(e){this.dragging||this.clearValue(e)},handleMouseDown:function(e){return this.props.disabled||"mousedown"===e.type&&0!==e.button?void 0:(e.stopPropagation(),e.preventDefault(),this.props.searchable?void(this.state.isFocused?this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=!0,this.focus())):(this.focus(),this.setState({isOpen:!this.state.isOpen})))},handleMouseDownOnArrow:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.closeMenu())},handleMouseDownOnMenu:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())},closeMenu:function(){this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:""}),this.hasScrolledToOption=!1},handleInputFocus:function(e){var t=this.state.isOpen||this._openAfterFocus;this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:t}),this._openAfterFocus=!1},handleInputBlur:function(e){if(!this.refs.menu||!document.activeElement.isEqualNode(this.refs.menu)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=""),this.setState(t)}},handleInputChange:function(e){this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:e.target.value})},handleKeyDown:function(e){if(!this.props.disabled){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue()));case 9:if(e.shiftKey||!this.state.isOpen)return;return void this.selectFocusedOption();case 13:if(!this.state.isOpen)return;e.stopPropagation(),this.selectFocusedOption();break;case 27:this.state.isOpen?this.closeMenu():this.props.clearable&&this.props.escapeClearsValue&&this.clearValue(e);break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}e.preventDefault()}},handleValueClick:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)},handleMenuScroll:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&!(t.scrollHeight-t.offsetHeight-t.scrollTop)&&this.props.onMenuScrollToBottom()}},handleRequired:function(e,t){return e?t?0===e.length:0===Object.keys(e).length:!0},getOptionLabel:function(e){return e[this.props.labelKey]},getValueArray:function(){var e=this.props.value;if(this.props.multi){if("string"==typeof e&&(e=e.split(this.props.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(this.expandValue).filter(function(e){return e})}var t=this.expandValue(e);return t?[t]:[]},expandValue:function(e){if("string"!=typeof e&&"number"!=typeof e)return e;var t=this.props,r=t.options,o=t.valueKey;if(r)for(var n=0;n<r.length;n++)if(r[n][o]===e)return r[n]},setValue:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.onChange){if(this.props.required){var r=this.handleRequired(e,this.props.multi);this.setState({required:r})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange(e)}},selectValue:function(e){this.hasScrolledToOption=!1,this.props.multi?(this.addValue(e),this.setState({inputValue:""})):(this.setValue(e),this.setState({isOpen:!1,inputValue:"",isPseudoFocused:this.state.isFocused}))},addValue:function(e){var t=this.getValueArray();this.setValue(t.concat(e))},popValue:function(){var e=this.getValueArray();e.length&&e[e.length-1].clearableValue!==!1&&this.setValue(e.slice(0,e.length-1))},removeValue:function(e){var t=this.getValueArray();this.setValue(t.filter(function(t){return t!==e})),this.focus()},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(null),this.setState({isOpen:!1,inputValue:""},this.focus))},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){var t=this._visibleOptions.filter(function(e){return!e.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||t["next"===e?0:t.length-1]});if(t.length){for(var r=-1,o=0;o<t.length;o++)if(this._focusedOption===t[o]){r=o;break}var n=t[0];"next"===e&&r>-1&&r<t.length-1?n=t[r+1]:"previous"===e&&(n=r>0?t[r-1]:t[t.length-1]),this.setState({focusedOption:n})}},selectFocusedOption:function(){return this._focusedOption?this.selectValue(this._focusedOption):void 0},renderLoading:function(){return this.props.isLoading?a["default"].createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},a["default"].createElement("span",{className:"Select-loading"})):void 0},renderValue:function(e,t){var r=this,o=this.props.valueRenderer||this.getOptionLabel,n=this.props.valueComponent;if(!e.length)return this.state.inputValue?null:a["default"].createElement("div",{className:"Select-placeholder"},this.props.placeholder);var i=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return a["default"].createElement(n,{disabled:r.props.disabled||e.clearableValue===!1,key:"value-"+t+"-"+e[r.props.valueKey],onClick:i,onRemove:r.removeValue,value:e},o(e))}):this.state.inputValue?void 0:(t&&(i=null),a["default"].createElement(n,{disabled:this.props.disabled,onClick:i,value:e[0]},o(e[0])))},renderInput:function(e){var t=(0,f["default"])("Select-input",this.props.inputProps.className);return this.props.disabled||!this.props.searchable?a["default"].createElement("div",i({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:"input",style:{border:0,width:1,display:"inline-block"}})):a["default"].createElement(c["default"],i({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,minWidth:"5",ref:"input",required:this.state.required,value:this.state.inputValue}))},renderClear:function(){return!this.props.clearable||!this.props.value||this.props.multi&&!this.props.value.length||this.props.disabled||this.props.isLoading?void 0:a["default"].createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},a["default"].createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}}))},renderArrow:function(){return a["default"].createElement("span",{className:"Select-arrow-zone",onMouseDown:this.handleMouseDownOnArrow},a["default"].createElement("span",{className:"Select-arrow",onMouseDown:this.handleMouseDownOnArrow}))},filterOptions:function(e){var t=this,r=this.state.inputValue,o=this.props.options||[];return"function"==typeof this.props.filterOptions?this.props.filterOptions.call(this,o,r,e):this.props.filterOptions?(this.props.ignoreAccents&&(r=(0,y["default"])(r)),this.props.ignoreCase&&(r=r.toLowerCase()),e&&(e=e.map(function(e){return e[t.props.valueKey]})),o.filter(function(o){if(e&&e.indexOf(o[t.props.valueKey])>-1)return!1;if(t.props.filterOption)return t.props.filterOption.call(t,o,r);if(!r)return!0;var n=String(o[t.props.valueKey]),i=String(o[t.props.labelKey]);return t.props.ignoreAccents&&("label"!==t.props.matchProp&&(n=(0,y["default"])(n)),"value"!==t.props.matchProp&&(i=(0,y["default"])(i))),t.props.ignoreCase&&("label"!==t.props.matchProp&&(n=n.toLowerCase()),"value"!==t.props.matchProp&&(i=i.toLowerCase())),"start"===t.props.matchPos?"label"!==t.props.matchProp&&n.substr(0,r.length)===r||"value"!==t.props.matchProp&&i.substr(0,r.length)===r:"label"!==t.props.matchProp&&n.indexOf(r)>=0||"value"!==t.props.matchProp&&i.indexOf(r)>=0})):o},renderMenu:function(e,t,r){var o=this;if(!e||!e.length)return this.props.noResultsText?a["default"].createElement("div",{className:"Select-noresults"},this.props.noResultsText):null;var n=function(){var n=o.props.optionComponent,i=o.props.optionRenderer||o.getOptionLabel;return{v:e.map(function(e,s){var u=t&&t.indexOf(e)>-1,l=e===r,p=l?"focused":null,c=(0,f["default"])({"Select-option":!0,"is-selected":u,"is-focused":l,"is-disabled":e.disabled});return a["default"].createElement(n,{className:c,isDisabled:e.disabled,isFocused:l,key:"option-"+s+"-"+e[o.props.valueKey],onSelect:o.selectValue,onFocus:o.focusOption,option:e,isSelected:u,ref:p},i(e))})}}();return"object"==typeof n?n.v:void 0},renderHiddenField:function(e){var t=this;if(this.props.name){var r=e.map(function(e){return n(e[t.props.valueKey])}).join(this.props.delimiter);return a["default"].createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:r,disabled:this.props.disabled})}},getFocusableOption:function(e){var t=this._visibleOptions;if(t.length){var r=this.state.focusedOption||e;if(r&&t.indexOf(r)>-1)return r;for(var o=0;o<t.length;o++)if(!t[o].disabled)return t[o]}},render:function(){var e=this.getValueArray(),t=this._visibleOptions=this.filterOptions(this.props.multi?e:null),r=this.state.isOpen;this.props.multi&&!t.length&&e.length&&!this.state.inputValue&&(r=!1);var o=this._focusedOption=this.getFocusableOption(e[0]),n=(0,f["default"])("Select",this.props.className,{"Select--multi":this.props.multi,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":e.length});return a["default"].createElement("div",{ref:"wrapper",className:n,style:this.props.wrapperStyle},this.renderHiddenField(e),a["default"].createElement("div",{ref:"control",className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},this.renderValue(e,r),this.renderInput(e),this.renderLoading(),this.renderClear(),this.renderArrow()),r?a["default"].createElement("div",{ref:"menuContainer",className:"Select-menu-outer",style:this.props.menuContainerStyle},a["default"].createElement("div",{ref:"menu",className:"Select-menu",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},this.renderMenu(t,this.props.multi?null:e,o))):null)}});t["default"]=w,e.exports=t["default"]},function(e,t){"use strict";var r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g
},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];e.exports=function(e){for(var t=0;t<r.length;t++)e=e.replace(r[t].letters,r[t].base);return e}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.jQuery=t.animation=void 0;var i=r(1),s=o(i),a=r(13),u=o(a),l=r(3),p=o(l),c=r(43),d=o(c),f=r(44),h=o(f),y={displayName:"ToastMessage",getDefaultProps:function(){var e={error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"};return{className:"toast",iconClassNames:e,titleClassName:"toast-title",messageClassName:"toast-message",tapToDismiss:!0,closeButton:!1}},handleOnClick:function(e){this.props.handleOnClick(e),this.props.tapToDismiss&&this.hideToast(!0)},_handle_close_button_click:function(e){e.stopPropagation(),this.hideToast(!0)},_handle_remove:function(){this.props.handleRemove(this.props.toastId)},_render_close_button:function(){return this.props.closeButton?s["default"].createElement("button",{className:"toast-close-button",role:"button",onClick:this._handle_close_button_click,dangerouslySetInnerHTML:{__html:"&times;"}}):!1},_render_title_element:function(){return this.props.title?s["default"].createElement("div",{className:this.props.titleClassName},this.props.title):!1},_render_message_element:function(){return this.props.message?s["default"].createElement("div",{className:this.props.messageClassName},this.props.message):!1},render:function(){var e=this.props.iconClassName||this.props.iconClassNames[this.props.type];return s["default"].createElement("div",{className:(0,p["default"])(this.props.className,e),style:this.props.style,onClick:this.handleOnClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._render_close_button(),this._render_title_element(),this._render_message_element())}},v=t.animation=s["default"].createClass((0,u["default"])(y,{displayName:{$set:"ToastMessage.animation"},mixins:{$set:[d["default"]]}})),m=t.jQuery=s["default"].createClass((0,u["default"])(y,{displayName:{$set:"ToastMessage.jQuery"},mixins:{$set:[h["default"]]}}));y.handleMouseEnter=n,y.handleMouseLeave=n,y.hideToast=n;var g=s["default"].createClass(y);g.animation=v,g.jQuery=m,t["default"]=g},function(e,t,r){e.exports=r(49)},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function n(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!n(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],s(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),l=r.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,n,s,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){function r(){l=!1,s.length?u=s.concat(u):p=-1,u.length&&o()}function o(){if(!l){var e=setTimeout(r);l=!0;for(var t=u.length;t;){for(s=u,u=[];++p<t;)s&&s[p].run();p=-1,t=u.length}s=null,l=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function i(){}var s,a=e.exports={},u=[],l=!1,p=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new n(e,t)),1!==u.length||l||setTimeout(o,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=r(23),y=o(h),v=r(19),m=o(v),g=r(33),b=o(g),E=r(34),P=o(E),T=r(22),w=o(T),O=r(8),C=r(26),_=o(C),S=r(17),k=function(e){function t(e){var r=this;if(n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._scrollHeader=function(e){r.refs.header.refs.container.scrollLeft=e.currentTarget.scrollLeft},this._adjustHeaderWidth=function(){var e=r.refs.header.refs.container.childNodes[0],t=r.refs.body.refs.container.childNodes[0];e.offsetWidth!==t.offsetWidth&&(e.style.width=t.offsetWidth+"px");var o=r.refs.body.getBodyHeaderDomProp();r.refs.header.fitHeader(o,r.refs.body.refs.container.scrollHeight>r.refs.body.refs.container.clientHeight)},this._attachCellEditFunc(),Array.isArray(this.props.data)){var o=this.props.data.slice();this.store=new O.TableDataStore(o)}else this.store=new O.TableDataStore(this.props.data.getData()),this.props.data.clear(),this.props.data.on("change",function(e){r.store.setData(e),r.setState({data:r.getTableData()})});if(this.initTable(this.props),this.filter&&!function(){var e=r;r.filter.on("onFilterChange",function(t){e.handleFilterData(t)})}(),this.props.selectRow&&this.props.selectRow.selected){var o=this.props.selectRow.selected.slice();this.store.setSelectedRowKey(o)}this.state={data:this.getTableData(),currPage:this.props.options.page||1,sizePerPage:this.props.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0],selectedRowKeys:this.store.getSelectedRowKeys()}}return i(t,e),s(t,[{key:"initTable",value:function(e){var t=this,r=e.keyField,o="string"==typeof r&&r.length;l["default"].Children.forEach(e.children,function(e){if(e.props.isKey){if(r)throw"Error. Multiple key column be detected in TableHeaderColumn.";r=e.props.dataField}e.props.filter&&(t.filter||(t.filter=new S.Filter),e.props.filter.emitter=t.filter)},this);var n=this.getColumnsDescription(e).reduce(function(e,t){return e[t.name]=t,e},{});if(!o&&!r)throw"Error. No any key column defined in TableHeaderColumn.\n            Use 'isKey={true}' to specify a unique column after version 0.5.4.";this.store.setProps({isPagination:e.pagination,keyField:r,colInfos:n,multiColumnSearch:e.multiColumnSearch,remote:this.isRemoteDataSource()})}},{key:"getTableData",value:function(){var e=[];if(this.props.options.sortName&&this.props.options.sortOrder&&this.store.sort(this.props.options.sortOrder,this.props.options.sortName),this.props.pagination){var t=void 0,r=void 0;this.store.isChangedPage()?(r=this.state.sizePerPage,t=this.state.currPage):(r=this.props.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0],t=this.props.options.page||1),e=this.store.page(t,r).get()}else e=this.store.get();return e}},{key:"getColumnsDescription",value:function(e){var t=e.children;return t.map(function(e,t){return{name:e.props.dataField,align:e.props.dataAlign,sort:e.props.dataSort,format:e.props.dataFormat,formatExtraData:e.props.formatExtraData,filterFormatted:e.props.filterFormatted,editable:e.props.editable,hidden:e.props.hidden,searchable:e.props.searchable,className:e.props.columnClassName,width:e.props.width,text:e.props.children,sortFunc:e.props.sortFunc,index:t}})}},{key:"componentWillReceiveProps",value:function(e){if(this.initTable(e),Array.isArray(e.data)){this.store.setData(e.data.slice());var t=this.refs.pagination,r=t&&t.getCurrentPage()||e.options.page||1,o=t&&t.getSizePerPage()||e.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0];r>Math.ceil(e.data.length/o)&&(r=1);var n=this.store.getSortInfo(),i=e.options.sortName||(n?n.sortField:void 0),s=e.options.sortOrder||(n?n.order:void 0);i&&s&&this.store.sort(s,i);var a=this.store.page(r,o).get();this.setState({data:a,currPage:r,sizePerPage:o})}if(e.selectRow&&e.selectRow.selected){var u=e.selectRow.selected.slice();this.store.setSelectedRowKey(u),this.setState({selectedRowKeys:u})}}},{key:"componentDidMount",value:function(){this._adjustHeaderWidth(),window.addEventListener("resize",this._adjustHeaderWidth),this.refs.body.refs.container.addEventListener("scroll",this._scrollHeader)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._adjustHeaderWidth),this.refs.body.refs.container.removeEventListener("scroll",this._scrollHeader),this.filter&&this.filter.removeAllListeners("onFilterChange")}},{key:"componentDidUpdate",value:function(){this._adjustHeaderWidth(),this._attachCellEditFunc(),this.props.options.afterTableComplete&&this.props.options.afterTableComplete()}},{key:"_attachCellEditFunc",value:function(){this.props.cellEdit&&(this.props.cellEdit.__onCompleteEdit__=this.handleEditCell.bind(this),this.props.cellEdit.mode!==f["default"].CELL_EDIT_NONE&&(this.props.selectRow.clickToSelect=!1))}},{key:"isRemoteDataSource",value:function(e){return(e||this.props).remote}},{key:"render",value:function(){var e=((0,c["default"])("react-bs-table"),this.props.children),t={height:this.props.height,maxHeight:this.props.maxHeight};Array.isArray(this.props.children)||(e=[this.props.children]);var r=this.getColumnsDescription(this.props),o=this.store.getSortInfo(),n=this.renderPagination(),i=this.renderToolBar(),s=this.renderTableFilter(r),a=this.isSelectAll();return l["default"].createElement("div",{className:"react-bs-container",ref:"table"},i,l["default"].createElement("div",{className:"react-bs-table-container",onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),style:t},l["default"].createElement(y["default"],{ref:"header",rowSelectType:this.props.selectRow.mode,hideSelectColumn:this.props.selectRow.hideSelectColumn,sortName:o?o.sortField:void 0,sortOrder:o?o.order:void 0,onSort:this.handleSort.bind(this),onSelectAllRow:this.handleSelectAllRow.bind(this),bordered:this.props.bordered,condensed:this.props.condensed,isFiltered:!!this.filter,tableID:this.props.tableID,isSelectAll:a},this.props.children),l["default"].createElement(m["default"],{height:this.props.height,maxHeight:this.props.maxHeight,ref:"body",data:this.state.data,columns:r,trClassName:this.props.trClassName,striped:this.props.striped,bordered:this.props.bordered,hover:this.props.hover,keyField:this.store.getKeyField(),condensed:this.props.condensed,selectRow:this.props.selectRow,cellEdit:this.props.cellEdit,selectedRowKeys:this.state.selectedRowKeys,onRowClick:this.handleRowClick.bind(this),onRowMouseOver:this.handleRowMouseOver.bind(this),onRowMouseOut:this.handleRowMouseOut.bind(this),onSelectRow:this.handleSelectRow.bind(this),noDataText:this.props.options.noDataText})),s,n)}},{key:"isSelectAll",value:function(){var e=this.store.getSelectedRowKeys(),t=this.store.getAllRowkey();return e.length!==t.length?0===e.length?!1:"indeterminate":!0}},{key:"cleanSelected",value:function(){this.store.setSelectedRowKey([]),this.setState({selectedRowKeys:[]})}},{key:"handleSort",value:function(e,t){this.props.options.onSortChange&&this.props.options.onSortChange(t,e,this.props);var r=this.store.sort(e,t).get();this.setState({data:r})}},{key:"handlePaginationData",value:function(e,t){var r=this.props.options.onPageChange;if(r&&r(e,t),!this.isRemoteDataSource()){var o=this.store.page(e,t).get();this.setState({data:o,currPage:e,sizePerPage:t})}}},{key:"handleMouseLeave",value:function(){this.props.options.onMouseLeave&&this.props.options.onMouseLeave()}},{key:"handleMouseEnter",value:function(){this.props.options.onMouseEnter&&this.props.options.onMouseEnter()}},{key:"handleRowMouseOut",value:function(e){this.props.options.onRowMouseOut&&this.props.options.onRowMouseOut(e)}},{key:"handleRowMouseOver",value:function(e){this.props.options.onRowMouseOver&&this.props.options.onRowMouseOver(e)}},{key:"handleRowClick",value:function(e){this.props.options.onRowClick&&this.props.options.onRowClick(e)}},{key:"handleSelectAllRow",value:function(e){var t=e.currentTarget.checked,r=[],o=!0;this.props.selectRow.onSelectAll&&(o=this.props.selectRow.onSelectAll(t,t?this.store.get():[])),"undefined"!=typeof o&&o===!1||(t&&(r=this.store.getAllRowkey()),this.store.setSelectedRowKey(r),this.setState({selectedRowKeys:r}))}},{key:"handleShowOnlySelected",value:function(){this.store.ignoreNonSelected();var e=void 0;e=this.props.pagination?this.store.page(1,this.state.sizePerPage).get():this.store.get(),this.setState({data:e,currPage:1})}},{key:"handleSelectRow",value:function(e,t){var r=this.store.getSelectedRowKeys(),o=e[this.store.getKeyField()],n=!0;this.props.selectRow.onSelect&&(n=this.props.selectRow.onSelect(e,t)),"undefined"!=typeof n&&n===!1||(this.props.selectRow.mode===f["default"].ROW_SELECT_SINGLE?r=t?[o]:[]:t?r.push(o):r=r.filter(function(e){return o!==e}),this.store.setSelectedRowKey(r),this.setState({selectedRowKeys:r}))}},{key:"handleEditCell",value:function(e,t,r){var o=void 0;l["default"].Children.forEach(this.props.children,function(e,t){return t==r?(o=e.props.dataField,!1):void 0});var n=this.store.edit(e,t,o).get();this.setState({data:n}),this.props.cellEdit.afterSaveCell&&this.props.cellEdit.afterSaveCell(this.state.data[t],o,e)}},{key:"handleAddRowBegin",value:function(){this.refs.body}},{key:"handleAddRowAtBegin",value:function(e){try{this.store.addAtBegin(e)}catch(t){return t}this._handleAfterAddingRow(e)}},{key:"handleAddRow",value:function(e){var t=this,r=this.props.options.beforeInsertRow?this.props.options.beforeInsertRow(e):e;return Promise.resolve(r).then(function(r){e=r;try{t.store.add(e)}catch(o){return o}t._handleAfterAddingRow(e)})["catch"](function(e){return console.log("gledaj ovde"),console.log(e),e.json()})}},{key:"getSizePerPage",value:function(){return this.state.sizePerPage}},{key:"getCurrentPage",value:function(){return this.state.currPage}},{key:"handleDropRow",value:function(e){var t=this,r=e?e:this.store.getSelectedRowKeys();r&&r.length>0&&(this.props.options.handleConfirmDeleteRow?this.props.options.handleConfirmDeleteRow(function(){t.deleteRow(r)}):confirm("Are you sure want delete?")&&this.deleteRow(r))}},{key:"deleteRow",value:function(e){var t=void 0;if(this.store.remove(e),this.store.setSelectedRowKey([]),this.props.pagination){var r=this.state.sizePerPage,o=this.state.currPage,n=Math.ceil(this.store.getDataNum()/r);o>n&&(o=n),t=this.store.page(o,r).get(),this.setState({data:t,selectedRowKeys:this.store.getSelectedRowKeys(),currPage:o})}else t=this.store.get(),this.setState({data:t,selectedRowKeys:this.store.getSelectedRowKeys()});this.props.options.afterDeleteRow&&this.props.options.afterDeleteRow(e)}},{key:"handleFilterData",value:function(e){this.store.filter(e);var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage;t=this.store.page(1,r).get()}else t=this.store.get();this.props.options.afterColumnFilter&&this.props.options.afterColumnFilter(e,this.store.getDataIgnoringPagination()),this.setState({data:t,currPage:1})}},{key:"handleExportCSV",value:function(){var e=this.store.getDataIgnoringPagination(),t=[];this.props.children.map(function(e){e.props.hidden===!1&&t.push(e.props.dataField)}),(0,_["default"])(e,t,this.props.csvFileName)}},{key:"handleSearch",value:function(e){this.store.search(e);var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage;t=this.store.page(1,r).get()}else t=this.store.get();this.props.options.afterSearch&&this.props.options.afterSearch(e,this.store.getDataIgnoringPagination()),this.setState({data:t,currPage:1})}},{key:"renderPagination",value:function(){if(this.props.pagination){var e=void 0;return e=this.isRemoteDataSource()?this.props.fetchInfo.dataTotalSize:this.store.getDataNum(),l["default"].createElement("div",{className:"table-footer-pagination"},l["default"].createElement(b["default"],{ref:"pagination",currPage:this.state.currPage,changePage:this.handlePaginationData.bind(this),sizePerPage:this.state.sizePerPage,sizePerPageList:this.props.options.sizePerPageList||f["default"].SIZE_PER_PAGE_LIST,paginationSize:this.props.options.paginationSize||f["default"].PAGINATION_SIZE,remote:this.isRemoteDataSource(),dataSize:e,onSizePerPageList:this.props.options.onSizePerPageList,prePage:this.props.options.prePage||f["default"].PRE_PAGE,nextPage:this.props.options.nextPage||f["default"].NEXT_PAGE,firstPage:this.props.options.firstPage||f["default"].FIRST_PAGE,lastPage:this.props.options.lastPage||f["default"].LAST_PAGE}))}return null}},{key:"renderToolBar",value:function(){var e=this.props.selectRow&&this.props.selectRow.showOnlySelected;if(e||this.props.insertRow||this.props.deleteRow||this.props.search||this.props.exportCSV){var t=void 0;return t=Array.isArray(this.props.children)?this.props.children.map(function(e){var t=e.props;return{name:t.children,field:t.dataField,autoValue:t.autoValue||!1,editable:t.editable&&"function"==typeof t.editable?t.editable():t.editable,hiddenInPopup:t.hiddenInPopup,format:t.dataFormat?function(e){return t.dataFormat(e,null,t.formatExtraData).replace(/<.*?>/g,"")}:!1}}):[{name:this.props.children.props.children,field:this.props.children.props.dataField,editable:this.props.children.props.editable,hiddenInPopup:this.props.children.props.hiddenInPopup}],l["default"].createElement("div",{className:"tool-bar"},l["default"].createElement(P["default"],{clearSearch:this.props.options.clearSearch,enableInsert:this.props.insertRow,enableDelete:this.props.deleteRow,enableSearch:this.props.search,enableExportCSV:this.props.exportCSV,enableShowOnlySelected:e,columns:t,searchPlaceholder:this.props.searchPlaceholder,onAddRow:this.handleAddRow.bind(this),onAddRowBegin:this.handleAddRowBegin.bind(this),onDropRow:this.handleDropRow.bind(this),onSearch:this.handleSearch.bind(this),onExportCSV:this.handleExportCSV.bind(this),onShowOnlySelected:this.handleShowOnlySelected.bind(this)}))}return null}},{key:"renderTableFilter",value:function(e){return this.props.columnFilter?l["default"].createElement(w["default"],{columns:e,rowSelectType:this.props.selectRow.mode,onFilter:this.handleFilterData.bind(this)}):null}},{key:"_handleAfterAddingRow",value:function(e){var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage,o=Math.ceil(this.store.getDataNum()/r);t=this.store.page(o,r).get(),this.setState({data:t,currPage:o})}else t=this.store.get(),this.setState({data:t});this.props.options.afterInsertRow&&this.props.options.afterInsertRow(e)}}]),t}(l["default"].Component);k.propTypes={keyField:l["default"].PropTypes.string,height:l["default"].PropTypes.string,maxHeight:l["default"].PropTypes.string,tableID:l["default"].PropTypes.string,data:l["default"].PropTypes.oneOfType([l["default"].PropTypes.array,l["default"].PropTypes.object]),remote:l["default"].PropTypes.bool,striped:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,hover:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,pagination:l["default"].PropTypes.bool,searchPlaceholder:l["default"].PropTypes.string,selectRow:l["default"].PropTypes.shape({mode:l["default"].PropTypes.oneOf([f["default"].ROW_SELECT_NONE,f["default"].ROW_SELECT_SINGLE,f["default"].ROW_SELECT_MULTI]),bgColor:l["default"].PropTypes.string,selected:l["default"].PropTypes.array,onSelect:l["default"].PropTypes.func,onSelectAll:l["default"].PropTypes.func,clickToSelect:l["default"].PropTypes.bool,hideSelectColumn:l["default"].PropTypes.bool,clickToSelectAndEditCell:l["default"].PropTypes.bool,showOnlySelected:l["default"].PropTypes.bool}),cellEdit:l["default"].PropTypes.shape({mode:l["default"].PropTypes.string,blurToSave:l["default"].PropTypes.bool,afterSaveCell:l["default"].PropTypes.func}),insertRow:l["default"].PropTypes.bool,deleteRow:l["default"].PropTypes.bool,search:l["default"].PropTypes.bool,columnFilter:l["default"].PropTypes.bool,trClassName:l["default"].PropTypes.any,options:l["default"].PropTypes.shape({beforeInsertRow:l["default"].PropTypes.func,clearSearch:l["default"].PropTypes.bool,sortName:l["default"].PropTypes.string,sortOrder:l["default"].PropTypes.string,afterTableComplete:l["default"].PropTypes.func,afterDeleteRow:l["default"].PropTypes.func,afterInsertRow:l["default"].PropTypes.func,afterSearch:l["default"].PropTypes.func,afterColumnFilter:l["default"].PropTypes.func,onRowClick:l["default"].PropTypes.func,page:l["default"].PropTypes.number,sizePerPageList:l["default"].PropTypes.array,sizePerPage:l["default"].PropTypes.number,paginationSize:l["default"].PropTypes.number,onSortChange:l["default"].PropTypes.func,onPageChange:l["default"].PropTypes.func,onSizePerPageList:l["default"].PropTypes.func,noDataText:l["default"].PropTypes.string,handleConfirmDeleteRow:l["default"].PropTypes.func,prePage:l["default"].PropTypes.string,nextPage:l["default"].PropTypes.string,firstPage:l["default"].PropTypes.string,lastPage:l["default"].PropTypes.string}),fetchInfo:l["default"].PropTypes.shape({dataTotalSize:l["default"].PropTypes.number}),exportCSV:l["default"].PropTypes.bool,csvFileName:l["default"].PropTypes.string},k.defaultProps={height:"100%",maxHeight:void 0,tableID:void 0,striped:!1,bordered:!0,hover:!1,condensed:!1,pagination:!1,searchPlaceholder:void 0,selectRow:{mode:f["default"].ROW_SELECT_NONE,bgColor:f["default"].ROW_SELECT_BG_COLOR,selected:[],onSelect:void 0,onSelectAll:void 0,clickToSelect:!1,hideSelectColumn:!1,clickToSelectAndEditCell:!1,showOnlySelected:!1},cellEdit:{mode:f["default"].CELL_EDIT_NONE,blurToSave:!1,afterSaveCell:void 0},insertRow:!1,deleteRow:!1,search:!1,multiColumnSearch:!1,columnFilter:!1,trClassName:"",options:{clearSearch:!1,sortName:void 0,sortOrder:void 0,afterTableComplete:void 0,afterDeleteRow:void 0,afterInsertRow:void 0,afterSearch:void 0,afterColumnFilter:void 0,onRowClick:void 0,onMouseLeave:void 0,onMouseEnter:void 0,onRowMouseOut:void 0,onRowMouseOver:void 0,page:void 0,sizePerPageList:f["default"].SIZE_PER_PAGE_LIST,sizePerPage:void 0,paginationSize:f["default"].PAGINATION_SIZE,onSizePerPageList:void 0,noDataText:void 0,handleConfirmDeleteRow:void 0,prePage:f["default"].PRE_PAGE,nextPage:f["default"].NEXT_PAGE,firstPage:f["default"].FIRST_PAGE,lastPage:f["default"].LAST_PAGE},fetchInfo:{dataTotalSize:0},exportCSV:!1,csvFileName:void 0},t["default"]=k,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(2),l=o(u),p=r(14).EventEmitter,c=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentFilter={}}return i(t,e),s(t,[{key:"handleFilter",value:function(e,t,r){var o=r||l["default"].FILTER_TYPE.CUSTOM;if(null!=t&&"object"==typeof t){var n=!0;for(var i in t)if(!t[i]||""===t[i]){n=!1;break}n?this.currentFilter[e]={value:t,type:o}:delete this.currentFilter[e];
}else t&&""!==t.trim()?this.currentFilter[e]={value:t.trim(),type:o}:delete this.currentFilter[e];this.emit("onFilterChange",this.currentFilter)}}]),t}(p);t.Filter=c},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=(o(p),r(2)),d=(o(c),function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e={width:parseInt(this.props.width)?this.props.width:35};return l["default"].createElement("th",{style:e},l["default"].createElement("div",{className:"th-inner table-header-column"},this.props.children))}}]),t}(l["default"].Component));t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=r(5),f=o(d),h=r(25),y=o(h),v=r(20),m=o(v),g=r(21),b=o(g),E=r(3),P=o(E),T=function(e){return e&&"function"==typeof e},w=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={currEditCell:null},this.editing=!1}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.adjustBody()}},{key:"componentDidUpdate",value:function(){this.adjustBody()}},{key:"render",value:function(){var e=(0,P["default"])("table-container"),t=(0,P["default"])("table",{"table-striped":this.props.striped,"table-bordered":this.props.bordered,"table-hover":this.props.hover,"table-condensed":this.props.condensed}),r=this._isSelectRowDefined(),o=this.renderTableHeader(r),n=this.props.data.map(function(e,t){var o=this.props.columns.map(function(r,o){var n=e[r.name];if(this.editing&&r.name!==this.props.keyField&&r.editable&&null!=this.state.currEditCell&&this.state.currEditCell.rid==t&&this.state.currEditCell.cid==o){var i=r.format?function(t){return r.format(t,e,r.formatExtraData).replace(/<.*?>/g,"")}:!1;return l["default"].createElement(b["default"],{completeEdit:this.handleCompleteEditCell.bind(this),editable:T(r.editable)?r.editable(n,e,t,o):r.editable,format:r.format?i:!1,key:o,blurToSave:this.props.cellEdit.blurToSave,rowIndex:t,colIndex:o},n)}var s=T(r.className)?r.className(n,e,t,o):r.className;if("undefined"!=typeof r.format){var a=r.format(n,e,r.formatExtraData);return l["default"].isValidElement(a)||(a=l["default"].createElement("div",{dangerouslySetInnerHTML:{__html:a}})),l["default"].createElement(m["default"],{dataAlign:r.align,key:o,className:s,cellEdit:this.props.cellEdit,hidden:r.hidden,onEdit:this.handleEditCell.bind(this),width:r.width},a)}return l["default"].createElement(m["default"],{dataAlign:r.align,key:o,className:s,cellEdit:this.props.cellEdit,hidden:r.hidden,onEdit:this.handleEditCell.bind(this),width:r.width},n)},this),n=-1!=this.props.selectedRowKeys.indexOf(e[this.props.keyField]),i=r&&!this.props.selectRow.hideSelectColumn?this.renderSelectRowColumn(n):null,s=T(this.props.trClassName)?this.props.trClassName(e,t):this.props.trClassName;return l["default"].createElement(y["default"],{isSelected:n,key:t,className:s,selectRow:r?this.props.selectRow:void 0,enableCellEdit:this.props.cellEdit.mode!==c["default"].CELL_EDIT_NONE,onRowClick:this.handleRowClick.bind(this),onRowMouseOver:this.handleRowMouseOver.bind(this),onRowMouseOut:this.handleRowMouseOut.bind(this),onSelectRow:this.handleSelectRow.bind(this)},i,o)},this);0===n.length&&n.push(l["default"].createElement(y["default"],{key:"##table-empty##"},l["default"].createElement("td",{colSpan:this.props.columns.length+(r?1:0),className:"react-bs-table-no-data"},this.props.noDataText||c["default"].NO_DATA_TEXT))),this.editing=!1;var i=this.calculateContainerHeight().toString();return l["default"].createElement("div",{ref:"container",className:e,style:{height:i}},l["default"].createElement("table",{ref:"body",className:t},o,l["default"].createElement("tbody",null,n)))}},{key:"renderTableHeader",value:function(e){var t=null;if(e){var r={width:35,minWidth:35};t=this.props.selectRow.hideSelectColumn?null:l["default"].createElement("th",{style:r,key:-1})}var o=this.props.columns.map(function(e,t){var r=null==e.width?e.width:parseInt(e.width),o={display:e.hidden?"none":null,width:r,maxWidth:r},n=e.sort?f["default"].renderReactSortCaret(c["default"].SORT_DESC):null;return l["default"].createElement("th",{style:o,key:t,className:e.className},e.text,n)});return l["default"].createElement("thead",{ref:"header"},l["default"].createElement("tr",null,t,o))}},{key:"handleRowMouseOut",value:function(e){var t=this.props.data[e-1];this.props.onRowMouseOut(t)}},{key:"handleRowMouseOver",value:function(e){var t=this.props.data[e-1];this.props.onRowMouseOver(t)}},{key:"handleRowClick",value:function(e){var t,r;this.props.data.forEach(function(o,n){n==e-1&&(t=o[this.props.keyField],r=o)},this),this.props.onRowClick(r)}},{key:"handleSelectRow",value:function(e,t){var r,o;this.props.data.forEach(function(t,n){return n==e-1?(r=t[this.props.keyField],o=t,!1):void 0},this),this.props.onSelectRow(o,t)}},{key:"handleSelectRowColumChange",value:function(e){this.props.selectRow.clickToSelect&&this.props.selectRow.clickToSelectAndEditCell||this.handleSelectRow(e.currentTarget.parentElement.parentElement.rowIndex,e.currentTarget.checked)}},{key:"handleEditCell",value:function(e,t){this.editing=!0,this._isSelectRowDefined()&&(t--,this.props.selectRow.hideSelectColumn&&t++),e--;var r={currEditCell:{rid:e,cid:t}};this.props.selectRow.clickToSelectAndEditCell&&this.handleSelectRow(e+1,!0),this.setState(r)}},{key:"cancelEdit",value:function(){var e=this.state.currEditCell;e&&this.handleCompleteEditCell(null,e.rid,e.cid)}},{key:"handleCompleteEditCell",value:function(e,t,r){this.setState({currEditCell:null}),null!=e&&this.props.cellEdit.__onCompleteEdit__(e,t,r)}},{key:"renderSelectRowColumn",value:function(e){return this.props.selectRow.mode==c["default"].ROW_SELECT_SINGLE?l["default"].createElement(m["default"],null,l["default"].createElement("input",{type:"radio",checked:e,onChange:this.handleSelectRowColumChange.bind(this)})):l["default"].createElement(m["default"],null,l["default"].createElement("input",{type:"checkbox",checked:e,onChange:this.handleSelectRowColumChange.bind(this)}))}},{key:"getBodyHeaderDomProp",value:function(){for(var e=this.refs.header.childNodes[0].childNodes,t=[],r=0;r<e.length;r++)t.push({width:e[r].offsetWidth});return t}},{key:"adjustBody",value:function(){this.hardFixHeaderWidth(),this.props.condensed&&(this.refs.body.style.marginTop="-36px"),this.props.maxHeight&&parseInt(this.props.maxHeight)<this.refs.container.offsetHeight&&(this.refs.container.style.height=this.props.maxHeight-42+"px")}},{key:"hardFixHeaderWidth",value:function(){for(var e=this.refs.header.childNodes[0].childNodes,t=0;t<e.length;t++)e[t].style.width=e[t].offsetWidth+"px"}},{key:"calculateContainerHeight",value:function(){return"100%"==this.props.height?this.props.height:parseInt(this.props.height)-42}},{key:"_isSelectRowDefined",value:function(){return this.props.selectRow.mode===c["default"].ROW_SELECT_SINGLE||this.props.selectRow.mode===c["default"].ROW_SELECT_MULTI}}]),t}(l["default"].Component);w.propTypes={height:l["default"].PropTypes.string,data:l["default"].PropTypes.array,columns:l["default"].PropTypes.array,striped:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,hover:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,keyField:l["default"].PropTypes.string,selectedRowKeys:l["default"].PropTypes.array,onRowClick:l["default"].PropTypes.func,onSelectRow:l["default"].PropTypes.func,noDataText:l["default"].PropTypes.string},t["default"]=w,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(2),d=o(c),f=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props.children,o=this.props.width!==e.width||this.props.className!==e.className||this.props.hidden!==e.hidden||this.props.dataAlign!==e.dataAlign||typeof r!=typeof e.children||(""+this.props.onEdit).toString()!==(""+e.onEdit).toString();return o?o:(o="object"==typeof r&&null!==r?"checkbox"===r.props.type||"radio"===r.props.type?o||r.props.type!==e.children.props.type||r.props.checked!==e.children.props.checked:!0:o||r!==e.children,o?o:this.props.cellEdit&&e.cellEdit?o||this.props.cellEdit.mode!==e.cellEdit.mode:!1)}},{key:"handleCellEdit",value:function(e){if(this.props.cellEdit.mode==d["default"].CELL_EDIT_DBCLICK)if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var t=window.getSelection();t.removeAllRanges()}this.props.onEdit(e.currentTarget.parentElement.rowIndex,e.currentTarget.cellIndex)}},{key:"render",value:function(){var e=null==this.props.width?this.props.width:-1!==this.props.width.indexOf("%")?this.props.width:parseInt(this.props.width),t={textAlign:this.props.dataAlign,display:this.props.hidden?"none":null,width:e,maxWidth:e},r=this.props.className;this.props.width&&(r+=" col-md-"+e);var o={};return this.props.cellEdit&&(this.props.cellEdit.mode==d["default"].CELL_EDIT_CLICK?o.onClick=this.handleCellEdit.bind(this):this.props.cellEdit.mode==d["default"].CELL_EDIT_DBCLICK&&(o.onDoubleClick=this.handleCellEdit.bind(this))),p["default"].createElement("td",s({style:t,className:r},o),this.props.children)}}]),t}(p["default"].Component);f.propTypes={dataAlign:p["default"].PropTypes.string,hidden:p["default"].PropTypes.bool,className:p["default"].PropTypes.string},f.defaultProps={dataAlign:"left",hidden:!1,className:""},t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=(o(p),r(6)),d=o(c),f=r(7),h=o(f),y=r(3),v=o(y),m=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.timeouteClear=0,this.state={shakeEditor:!1}}return i(t,e),s(t,[{key:"handleKeyPress",value:function(e){if(13==e.keyCode){var t="checkbox"==e.currentTarget.type?this._getCheckBoxValue(e):e.currentTarget.value;if(!this.validator(t))return;this.props.completeEdit(t,this.props.rowIndex,this.props.colIndex)}else 27==e.keyCode&&this.props.completeEdit(null,this.props.rowIndex,this.props.colIndex)}},{key:"handleBlur",value:function(e){if(this.props.blurToSave){var t="checkbox"==e.currentTarget.type?this._getCheckBoxValue(e):e.currentTarget.value;if(!this.validator(t))return;this.props.completeEdit(t,this.props.rowIndex,this.props.colIndex)}}},{key:"validator",value:function(e){var t=this;if(t.props.editable.validator){var r=t.props.editable.validator(e);if(r!==!0){t.refs.notifier.notice("error",r,"Pressed ESC can cancel");var o=t.refs.inputRef;return t.clearTimeout(),t.setState({shakeEditor:!0}),t.timeouteClear=setTimeout(function(){t.setState({shakeEditor:!1})},300),o.focus(),!1}}return!0}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){0!=this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:"componentDidMount",value:function(){var e=this.refs.inputRef;e.focus()}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"render",value:function(){var e=this.props.editable,t=this.props.format,r={ref:"inputRef",onKeyDown:this.handleKeyPress.bind(this),onBlur:this.handleBlur.bind(this)};e.placeholder&&(r.placeholder=e.placeholder);var o=(0,v["default"])({animated:this.state.shakeEditor,shake:this.state.shakeEditor});return l["default"].createElement("td",{ref:"td",style:{position:"relative"}},(0,d["default"])(e,r,t,o,this.props.children||""),l["default"].createElement(h["default"],{ref:"notifier"}))}},{key:"_getCheckBoxValue",value:function(e){var t="",r=e.currentTarget.value.split(":");return t=e.currentTarget.checked?r[0]:r[1]}}]),t}(l["default"].Component);m.propTypes={completeEdit:l["default"].PropTypes.func,rowIndex:l["default"].PropTypes.number,colIndex:l["default"].PropTypes.number,blurToSave:l["default"].PropTypes.bool},t["default"]=m,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=r(3),f=o(d),h=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filterObj={}}return i(t,e),s(t,[{key:"handleKeyUp",value:function(e){""===e.currentTarget.value.trim()?delete this.filterObj[e.currentTarget.name]:this.filterObj[e.currentTarget.name]=e.currentTarget.value,this.props.onFilter(this.filterObj)}},{key:"render",value:function(){var e=(0,f["default"])("table",{"table-striped":this.props.striped,"table-condensed":this.props.condensed}),t=null;if(this.props.rowSelectType==c["default"].ROW_SELECT_SINGLE||this.props.rowSelectType==c["default"].ROW_SELECT_MULTI){var r={width:35,paddingLeft:0,paddingRight:0};t=l["default"].createElement("th",{style:r,key:-1},"Filter")}var o=this.props.columns.map(function(e){var t={display:e.hidden?"none":null,width:e.width};return l["default"].createElement("th",{key:e.name,style:t},l["default"].createElement("div",{className:"th-inner table-header-column"},l["default"].createElement("input",{size:"10",type:"text",placeholder:e.name,name:e.name,onKeyUp:this.handleKeyUp.bind(this)})))},this);return l["default"].createElement("table",{className:e,style:{marginTop:5}},l["default"].createElement("thead",null,l["default"].createElement("tr",{style:{borderBottomStyle:"hidden"}},t,o)))}}]),t}(l["default"].Component);h.propTypes={columns:l["default"].PropTypes.array,rowSelectType:l["default"].PropTypes.string,onFilter:l["default"].PropTypes.func},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(4),c=o(p),d=r(2),f=o(d),h=r(5),y=o(h),v=r(3),m=o(v),g=r(18),b=o(g),E=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.update(this.props.checked)}},{key:"componentWillReceiveProps",value:function(e){this.update(e.checked)}},{key:"update",value:function(e){c["default"].findDOMNode(this).indeterminate="indeterminate"===e}},{key:"render",value:function(){return l["default"].createElement("input",{className:"react-bs-select-all",type:"checkbox",checked:this.props.checked,onChange:this.props.onChange})}}]),t}(l["default"].Component),P=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.selectRowColumnWidth=null}return i(t,e),s(t,[{key:"render",value:function(){var e=(0,m["default"])("table-header"),t=(0,m["default"])("table","table-hover",{"table-bordered":this.props.bordered,"table-condensed":this.props.condensed}),r=this.props.hideSelectColumn?null:this.renderSelectRowHeader();return this._attachClearSortCaretFunc(),l["default"].createElement("div",{className:"table-header-wrapper"},l["default"].createElement("div",{ref:"container",className:e},l["default"].createElement("table",{className:t,id:this.props.tableID},l["default"].createElement("thead",null,l["default"].createElement("tr",{ref:"header"},r,this.props.children)))))}},{key:"renderSelectRowHeader",value:function(){return this.props.rowSelectType==f["default"].ROW_SELECT_SINGLE?l["default"].createElement(b["default"],{width:this.selectRowColumnWidth}):this.props.rowSelectType==f["default"].ROW_SELECT_MULTI?l["default"].createElement(b["default"],{width:this.selectRowColumnWidth},l["default"].createElement(E,{onChange:this.props.onSelectAllRow,checked:this.props.isSelectAll})):null}},{key:"_attachClearSortCaretFunc",value:function(){if(Array.isArray(this.props.children))for(var e=0;e<this.props.children.length;e++){var t=this.props.children[e].props.dataField,r=t===this.props.sortName?this.props.sortOrder:void 0;this.props.children[e]=l["default"].cloneElement(this.props.children[e],{key:e,onSort:this.props.onSort,sort:r})}else{var t=this.props.children.props.dataField,r=t===this.props.sortName?this.props.sortOrder:void 0;this.props.children=l["default"].cloneElement(this.props.children,{key:0,onSort:this.props.onSort,sort:r})}}},{key:"fitHeader",value:function(e,t){if(Array.isArray(this.props.children)){var r=this.props.rowSelectType!=f["default"].ROW_SELECT_SINGLE&&this.props.rowSelectType!=f["default"].ROW_SELECT_MULTI||this.props.hideSelectColumn?0:1;1==r&&(this.selectRowColumnWidth=e[0].width);for(var o=0;o<this.props.children.length;o++)this.props.children[o]=l["default"].cloneElement(this.props.children[o],{width:e[o+r].width+"px"})}else this.props.children=l["default"].cloneElement(this.props.children,{width:e[0].width+"px"});this.props.condensed&&!this.props.isFiltered&&(this.refs.container.style.height="36px"),this.forceUpdate(),t&&(this.refs.container.style.marginRight=y["default"].getScrollBarWidth()+"px")}}]),t}(l["default"].Component);P.propTypes={rowSelectType:l["default"].PropTypes.string,onSort:l["default"].PropTypes.func,onSelectAllRow:l["default"].PropTypes.func,sortName:l["default"].PropTypes.string,sortOrder:l["default"].PropTypes.string,hideSelectColumn:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,isFiltered:l["default"].PropTypes.bool,isSelectAll:l["default"].PropTypes.oneOf([!0,"indeterminate",!1])},P.defaultProps={},t["default"]=P,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(3),d=(o(c),r(2)),f=o(d),h=r(5),y=o(h),v=r(28),m=o(v),g=r(31),b=o(g),E=r(30),P=o(E),T=r(29),w=o(T),O=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleFilter=this.handleFilter.bind(this)}return i(t,e),a(t,[{key:"handleColumnClick",value:function(e){if(this.props.dataSort){var t=this.props.sort==f["default"].SORT_DESC?f["default"].SORT_ASC:f["default"].SORT_DESC;this.props.onSort(t,this.props.dataField)}}},{key:"handleFilter",value:function(e,t){this.props.filter.emitter.handleFilter(this.props.dataField,e,t)}},{key:"getFilters",value:function(){switch(this.props.filter.type){case f["default"].FILTER_TYPE.TEXT:return p["default"].createElement(b["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.SELECT:return p["default"].createElement(P["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.NUMBER:return p["default"].createElement(w["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.DATE:return p["default"].createElement(m["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.CUSTOM:return this.props.filter.getElement(this.handleFilter,this.props.filter.customFilterParameters)}}},{key:"componentDidMount",value:function(){this.refs.innerDiv.setAttribute("data-field",this.props.dataField)}},{key:"render",value:function(){var e=null!==this.props.width?parseInt(this.props.width):null,t={textAlign:this.props.dataAlign,display:this.props.hidden?"none":null,width:e,maxWidth:e},r=this.props.dataSort?p["default"].createElement("span",{className:"order"},p["default"].createElement("span",{className:"dropdown"},p["default"].createElement("span",{className:"caret",style:{margin:"10px 0 10px 5px",color:"#ccc"}})),p["default"].createElement("span",{className:"dropup"},p["default"].createElement("span",{className:"caret",style:{margin:"10px 0",color:"#ccc"}}))):null,o=this.props.sort?y["default"].renderReactSortCaret(this.props.sort):r,n=this.props.className+" "+(this.props.dataSort?"sort-column":"");return p["default"].createElement("th",{ref:"header-col",className:n,style:t},p["default"].createElement("div",{ref:"innerDiv",className:"th-inner table-header-column",onClick:this.handleColumnClick.bind(this)},this.props.children,o),this.props.filter?this.getFilters():null)}}]),t}(p["default"].Component),C=[];for(var _ in f["default"].FILTER_TYPE)C.push(f["default"].FILTER_TYPE[_]);O.propTypes={dataField:p["default"].PropTypes.string,dataAlign:p["default"].PropTypes.string,dataSort:p["default"].PropTypes.bool,onSort:p["default"].PropTypes.func,dataFormat:p["default"].PropTypes.func,isKey:p["default"].PropTypes.bool,editable:p["default"].PropTypes.any,hidden:p["default"].PropTypes.bool,hiddenInPopup:p["default"].PropTypes.bool,searchable:p["default"].PropTypes.bool,className:p["default"].PropTypes.string,width:p["default"].PropTypes.string,sortFunc:p["default"].PropTypes.func,columnClassName:p["default"].PropTypes.any,filterFormatted:p["default"].PropTypes.bool,sort:p["default"].PropTypes.string,formatExtraData:p["default"].PropTypes.any,filter:p["default"].PropTypes.shape({type:p["default"].PropTypes.oneOf(C),delay:p["default"].PropTypes.number,options:p["default"].PropTypes.oneOfType([p["default"].PropTypes.object,p["default"].PropTypes.arrayOf(p["default"].PropTypes.number)]),numberComparators:p["default"].PropTypes.arrayOf(p["default"].PropTypes.string),emitter:p["default"].PropTypes.object,placeholder:p["default"].PropTypes.string,getElement:p["default"].PropTypes.func,customFilterParameters:p["default"].PropTypes.object})},O.defaultProps={dataAlign:"left",dataSort:!1,dataFormat:void 0,isKey:!1,editable:!0,onSort:void 0,hidden:!1,hiddenInPopup:!1,searchable:!0,className:"",width:null,sortFunc:void 0,columnClassName:"",filterFormatted:!1,sort:void 0,formatExtraData:void 0,filter:void 0},t["default"]=O,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(2),d=(o(c),function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.clickNum=0}return i(t,e),a(t,[{key:"rowClick",value:function(e){var t=this;"INPUT"!==e.target.tagName&&"SELECT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!function(){var r=e.currentTarget.rowIndex;t.props.selectRow&&(t.props.selectRow.clickToSelect?t.props.onSelectRow(r,!t.props.isSelected):t.props.selectRow.clickToSelectAndEditCell&&(t.clickNum++,setTimeout(function(){1===t.clickNum&&t.props.onSelectRow(r,!t.props.isSelected),t.clickNum=0},200))),t.props.onRowClick&&t.props.onRowClick(r)}()}},{key:"rowMouseOut",value:function(e){this.props.onRowMouseOut&&this.props.onRowMouseOut(e.currentTarget.rowIndex)}},{key:"rowMouseOver",value:function(e){this.props.onRowMouseOver&&this.props.onRowMouseOver(e.currentTarget.rowIndex)}},{key:"render",value:function(){this.clickNum=0;var e={style:{backgroundColor:this.props.isSelected?this.props.selectRow.bgColor:null},className:(this.props.isSelected&&this.props.selectRow.className?this.props.selectRow.className:"")+(this.props.className||"")};return this.props.selectRow&&(this.props.selectRow.clickToSelect||this.props.selectRow.clickToSelectAndEditCell)||this.props.onRowClick?p["default"].createElement("tr",s({},e,{onMouseOver:this.rowMouseOver.bind(this),onMouseOut:this.rowMouseOut.bind(this),onClick:this.rowClick.bind(this)}),this.props.children):p["default"].createElement("tr",e,this.props.children);
}}]),t}(p["default"].Component));d.propTypes={isSelected:p["default"].PropTypes.bool,enableCellEdit:p["default"].PropTypes.bool,onRowClick:p["default"].PropTypes.func,onSelectRow:p["default"].PropTypes.func,onRowMouseOut:p["default"].PropTypes.func,onRowMouseOver:p["default"].PropTypes.func},d.defaultProps={onRowClick:void 0},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e,t){var r="";return 0===e.length?r:(r+=t.join(",")+"\n",e.map(function(e){t.map(function(o,n){var i="undefined"!=typeof e[o]?'"'+e[o]+'"':"";r+=i,n+1<t.length&&(r+=",")}),r+="\n"}),r)}if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"!=typeof window)var n=r(27),i=n.saveAs;var s=function(e,t,r){var n=o(e,t);"undefined"!=typeof window&&i(new Blob([n],{type:"text/plain;charset=utf-8"}),r||"spreadsheet.csv")};t["default"]=s,e.exports=t["default"]},function(e,t,r){var o,n,i=i||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,r=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=e.webkitRequestFileSystem,u=e.requestFileSystem||a||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},p="application/octet-stream",c=0,d=500,f=function(t){var o=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,d)},h=function(e,t,r){t=[].concat(t);for(var o=t.length;o--;){var n=e["on"+t[o]];if("function"==typeof n)try{n.call(e,r||e)}catch(i){l(i)}}},y=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},v=function(t,l,d){d||(t=y(t));var v,m,g,b=this,E=t.type,P=!1,T=function(){h(b,"writestart progress write writeend".split(" "))},w=function(){if(m&&s&&"undefined"!=typeof FileReader){var o=new FileReader;return o.onloadend=function(){var e=o.result;m.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),b.readyState=b.DONE,T()},o.readAsDataURL(t),void(b.readyState=b.INIT)}if(!P&&v||(v=r().createObjectURL(t)),m)m.location.href=v;else{var n=e.open(v,"_blank");void 0==n&&s&&(e.location.href=v)}b.readyState=b.DONE,T(),f(v)},O=function(e){return function(){return b.readyState!==b.DONE?e.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return b.readyState=b.INIT,l||(l="download"),n?(v=r().createObjectURL(t),o.href=v,o.download=l,void setTimeout(function(){i(o),T(),f(v),b.readyState=b.DONE})):(e.chrome&&E&&E!==p&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,p),P=!0),a&&"download"!==l&&(l+=".download"),(E===p||a)&&(m=e),u?(c+=t.size,void u(e.TEMPORARY,c,O(function(e){e.root.getDirectory("saved",C,O(function(e){var r=function(){e.getFile(l,C,O(function(e){e.createWriter(O(function(r){r.onwriteend=function(t){m.location.href=e.toURL(),b.readyState=b.DONE,h(b,"writeend",t),f(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){r["on"+e]=b["on"+e]}),r.write(t),b.abort=function(){r.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),w)}),w)};e.getFile(l,{create:!1},O(function(e){e.remove(),r()}),O(function(e){e.code===e.NOT_FOUND_ERR?r():w()}))}),w)}),w)):void w())},m=v.prototype,g=function(e,t,r){return new v(e,t,r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return r||(e=y(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(m.abort=function(){var e=this;e.readyState=e.DONE,h(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=i:null!==r(55)&&null!=r(56)&&(o=[],n=function(){return i}.apply(t,o),!(void 0!==n&&(e.exports=n)))},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this)}return i(t,e),s(t,[{key:"setDefaultDate",value:function(){var e="";if(this.props.defaultValue){var t=new Date(this.props.defaultValue);e=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}return e}},{key:"filter",value:function(e){var t=e.target.value;t?this.props.filterHandler(new Date(t),c["default"].FILTER_TYPE.DATE):this.props.filterHandler(null,c["default"].FILTER_TYPE.DATE)}},{key:"componentDidMount",value:function(){var e=this.refs.inputDate.defaultValue;e&&this.props.filterHandler(new Date(e),c["default"].FILTER_TYPE.DATE)}},{key:"render",value:function(){return l["default"].createElement("input",{ref:"inputDate",className:"filter date-filter form-control",type:"date",onChange:this.filter,defaultValue:this.setDefaultDate()})}}]),t}(l["default"].Component);d.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,defaultValue:l["default"].PropTypes.object,columnName:l["default"].PropTypes.string},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=["=",">",">=","<","<=","!="],y=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.numberComparators=this.props.numberComparators||h,this.timeout=null,this.state={isPlaceholderSelected:void 0==this.props.defaultValue||void 0==this.props.defaultValue.number||this.props.options&&-1==this.props.options.indexOf(this.props.defaultValue.number)},this.onChangeNumber=this.onChangeNumber.bind(this),this.onChangeNumberSet=this.onChangeNumberSet.bind(this),this.onChangeComparator=this.onChangeComparator.bind(this)}return i(t,e),s(t,[{key:"onChangeNumber",value:function(e){if(""!==this.refs.numberFilterComparator.value){this.timeout&&clearTimeout(this.timeout);var t=this,r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler({number:r,comparator:t.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)},t.props.delay)}}},{key:"onChangeNumberSet",value:function(e){this.setState({isPlaceholderSelected:""===e.target.value}),""!==this.refs.numberFilterComparator.value&&this.props.filterHandler({number:e.target.value,comparator:this.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"onChangeComparator",value:function(e){""!==this.refs.numberFilter.value&&this.props.filterHandler({number:this.refs.numberFilter.value,comparator:e.target.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"getComparatorOptions",value:function(){var e=[];e.push(l["default"].createElement("option",{key:"-1"}));for(var t=0;t<this.numberComparators.length;t++)e.push(l["default"].createElement("option",{key:t,value:this.numberComparators[t]},this.numberComparators[t]));return e}},{key:"getNumberOptions",value:function(){var e=[],t=this.props.options;e.push(l["default"].createElement("option",{key:"-1",value:""},this.props.placeholder||"Select "+this.props.columnName+"..."));for(var r=0;r<t.length;r++)e.push(l["default"].createElement("option",{key:r,value:t[r]},t[r]));return e}},{key:"componentDidMount",value:function(){this.refs.numberFilterComparator.value&&this.refs.numberFilter.value&&this.props.filterHandler({number:this.refs.numberFilter.value,comparator:this.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=(0,c["default"])("select-filter","number-filter-input","form-control",{"placeholder-selected":this.state.isPlaceholderSelected});return l["default"].createElement("div",{className:"filter number-filter"},l["default"].createElement("select",{ref:"numberFilterComparator",className:"number-filter-comparator form-control",onChange:this.onChangeComparator,defaultValue:this.props.defaultValue?this.props.defaultValue.comparator:""},this.getComparatorOptions()),this.props.options?l["default"].createElement("select",{ref:"numberFilter",className:e,onChange:this.onChangeNumberSet,defaultValue:this.props.defaultValue?this.props.defaultValue.number:""},this.getNumberOptions()):l["default"].createElement("input",{ref:"numberFilter",type:"number",className:"number-filter-input form-control",placeholder:this.props.placeholder||"Enter "+this.props.columnName+"...",onChange:this.onChangeNumber,defaultValue:this.props.defaultValue?this.props.defaultValue.number:""}))}}]),t}(l["default"].Component);y.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,options:l["default"].PropTypes.arrayOf(l["default"].PropTypes.number),defaultValue:l["default"].PropTypes.shape({number:l["default"].PropTypes.number,comparator:l["default"].PropTypes.oneOf(h)}),delay:l["default"].PropTypes.number,numberComparators:function(e,t){if(e[t])for(var r=0;r<e[t].length;r++){for(var o=!1,n=0;n<h.length;n++)if(h[n]===e[t][r]){o=!0;break}if(!o)return new Error("Number comparator provided is not supported. Use only "+h)}},placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},y.defaultProps={delay:f["default"].FILTER_DELAY},t["default"]=y,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this),this.state={isPlaceholderSelected:void 0==this.props.defaultValue||!this.props.options.hasOwnProperty(this.props.defaultValue)}}return i(t,e),s(t,[{key:"filter",value:function(e){this.setState({isPlaceholderSelected:""===e.target.value}),this.props.filterHandler(e.target.value,f["default"].FILTER_TYPE.SELECT)}},{key:"getOptions",value:function(){var e=[],t=this.props.options;return e.push(l["default"].createElement("option",{key:"-1",value:""},this.props.placeholder||"Select "+this.props.columnName+"...")),Object.keys(t).map(function(r){e.push(l["default"].createElement("option",{key:r,value:r},t[r]))}),e}},{key:"componentDidMount",value:function(){this.refs.selectInput.value&&this.props.filterHandler(this.refs.selectInput.value,f["default"].FILTER_TYPE.SELECT)}},{key:"render",value:function(){var e=(0,c["default"])("filter","select-filter","form-control",{"placeholder-selected":this.state.isPlaceholderSelected});return l["default"].createElement("select",{ref:"selectInput",className:e,onChange:this.filter,defaultValue:void 0!=this.props.defaultValue?this.props.defaultValue:""},this.getOptions())}}]),t}(l["default"].Component);h.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,options:l["default"].PropTypes.object.isRequired,placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this),this.timeout=null}return i(t,e),s(t,[{key:"filter",value:function(e){this.timeout&&clearTimeout(this.timeout);var t=this,r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler(r,c["default"].FILTER_TYPE.TEXT)},t.props.delay)}},{key:"componentDidMount",value:function(){this.refs.inputText.defaultValue&&this.props.filterHandler(this.refs.inputText.defaultValue,c["default"].FILTER_TYPE.TEXT)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){return l["default"].createElement("input",{ref:"inputText",className:"filter text-filter form-control",type:"text",onChange:this.filter,placeholder:this.props.placeholder||"Enter "+this.props.columnName+"...",defaultValue:this.props.defaultValue?this.props.defaultValue:""})}}]),t}(l["default"].Component);d.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,defaultValue:l["default"].PropTypes.string,delay:l["default"].PropTypes.number,placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},d.defaultProps={delay:c["default"].FILTER_DELAY},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),s(t,[{key:"pageBtnClick",value:function(e){e.preventDefault(),this.props.changePage(e.currentTarget.text)}},{key:"render",value:function(){var e=(0,c["default"])({active:this.props.active,disabled:this.props.disable,hidden:this.props.hidden});return l["default"].createElement("li",{className:e},l["default"].createElement("a",{href:"#",onClick:this.pageBtnClick.bind(this)},this.props.children))}}]),t}(l["default"].Component);d.propTypes={changePage:l["default"].PropTypes.func,active:l["default"].PropTypes.bool,disable:l["default"].PropTypes.bool},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(32),c=o(p),d=r(2),f=o(d),h=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"changePage",value:function(e){e=e==this.props.prePage?this.props.currPage-1<1?1:this.props.currPage-1:e==this.props.nextPage?this.props.currPage+1>this.totalPages?this.totalPages:this.props.currPage+1:e==this.props.lastPage?this.totalPages:e==this.props.firstPage?1:parseInt(e),e!=this.props.currPage&&this.props.changePage(e,this.props.sizePerPage)}},{key:"changeSizePerPage",value:function(e){e.preventDefault();var t=parseInt(e.currentTarget.text),r=this.props.currPage;t!=this.props.sizePerPage&&(this.totalPages=Math.ceil(this.props.dataSize/t),r>this.totalPages&&(r=this.totalPages),this.props.changePage(r,t),this.props.onSizePerPageList&&this.props.onSizePerPageList(t))}},{key:"render",value:function(){var e=this;this.totalPages=Math.ceil(this.props.dataSize/this.props.sizePerPage);var t=this.makePage(),r={"float":"right",marginTop:"0px"},o=this.props.sizePerPageList.map(function(t){return l["default"].createElement("li",{key:t,role:"presentation"},l["default"].createElement("a",{role:"menuitem",tabIndex:"-1",href:"#",onClick:e.changeSizePerPage.bind(e)},t))});return l["default"].createElement("div",{className:"row",style:{marginTop:15}},this.props.sizePerPageList.length>1?l["default"].createElement("div",null,l["default"].createElement("div",{className:"col-md-6"},l["default"].createElement("div",{className:"dropdown"},l["default"].createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"pageDropDown","data-toggle":"dropdown","aria-expanded":"true"},this.props.sizePerPage,l["default"].createElement("span",null," ",l["default"].createElement("span",{className:"caret"}))),l["default"].createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"pageDropDown"},o))),l["default"].createElement("div",{className:"col-md-6"},l["default"].createElement("ul",{className:"pagination",style:r},t))):l["default"].createElement("div",{className:"col-md-12"},l["default"].createElement("ul",{className:"pagination",style:r},t)))}},{key:"makePage",value:function(){var e=this.getPages();return e.map(function(e){var t=e===this.props.currPage,r=!1,o=!1;return 1!=this.props.currPage||e!==this.props.firstPage&&e!==this.props.prePage||(r=!0,o=!0),this.props.currPage!=this.totalPages||e!==this.props.nextPage&&e!==this.props.lastPage||(r=!0,o=!0),l["default"].createElement(c["default"],{changePage:this.changePage.bind(this),active:t,disable:r,hidden:o,key:e},e)},this)}},{key:"getPages",value:function(){var e=1,t=this.totalPages;e=Math.max(this.props.currPage-Math.floor(this.props.paginationSize/2),1),t=e+this.props.paginationSize-1,t>this.totalPages&&(t=this.totalPages,e=t-this.props.paginationSize+1);var r;r=1!=e&&this.totalPages>this.props.paginationSize?[this.props.firstPage,this.props.prePage]:this.totalPages>1?[this.props.prePage]:[];for(var o=e;t>=o;o++)o>0&&r.push(o);return t!=this.totalPages?(r.push(this.props.nextPage),r.push(this.props.lastPage)):this.totalPages>1&&r.push(this.props.nextPage),r}},{key:"getCurrentPage",value:function(){return this.props.currPage}},{key:"getSizePerPage",value:function(){return this.props.sizePerPage}}]),t}(l["default"].Component);h.propTypes={currPage:l["default"].PropTypes.number,sizePerPage:l["default"].PropTypes.number,dataSize:l["default"].PropTypes.number,changePage:l["default"].PropTypes.func,sizePerPageList:l["default"].PropTypes.array,paginationSize:l["default"].PropTypes.number,remote:l["default"].PropTypes.bool,onSizePerPageList:l["default"].PropTypes.func,prePage:l["default"].PropTypes.string},h.defaultProps={sizePerPage:f["default"].SIZE_PER_PAGE},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=r(6),y=o(h),v=r(7),m=o(v),g=r(9),b=(o(g),function(e){function t(e){var r=this;n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleShowOnlyToggle=function(e){r.setState({showSelected:!r.state.showSelected}),r.props.onShowOnlySelected()},this.handleClearBtnClick=function(){r.refs.seachInput.value="",r.props.onSearch("")},this.timeouteClear=0,this.state={isInsertRowTrigger:!0,validateState:null,shakeEditor:!1,showSelected:!1}}return i(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:"checkAndParseForm",value:function(){var e,t,r=this,o={},n=!0,i={};return this.props.columns.forEach(function(r,s){if(r.autoValue)e="function"==typeof r.autoValue?r.autoValue():"autovalue-"+(new Date).getTime();else{var a=this.refs[r.field+s];if(e="undefined"!=typeof a?a.value:!0,r.editable&&"checkbox"==r.editable.type){var u=a.value.split(":");e=a.checked?u[0]:u[1]}r.editable&&r.editable.validator&&(t=r.editable.validator(e),t!==!0&&(n=!1,i[r.field]=t))}o[r.field]=e},this),n?o:(r.clearTimeout(),this.setState({validateState:i,shakeEditor:!0}),r.refs.notifier.notice("error","Form validate errors, please checking!","Pressed ESC can cancel"),r.timeouteClear=setTimeout(function(){r.setState({shakeEditor:!1})},300),null)}},{key:"handleSaveBtnClick",value:function(e){var t=this,r=this.checkAndParseForm();r&&this.props.onAddRow(r).then(function(e){if(e){var r="";try{e.errors.map(function(e){r+=e.message+". "})}catch(o){console.log(o),r+=e.toString()}var n=t;n.refs.notifier.notice("error",r,"Pressed ESC can cancel"),n.clearTimeout(),n.setState({shakeEditor:!0,validateState:"this is hack for prevent bootstrap modal hide"}),n.timeouteClear=setTimeout(function(){n.setState({shakeEditor:!1})},300)}else t.setState({validateState:null,shakeEditor:!1},function(){for(var e=document.querySelectorAll(".modal"),t=0;t<e.length;t++)e[t].click()}),t.refs.form.reset()})}},{key:"handleDropRowBtnClick",value:function(e){this.props.onDropRow()}},{key:"handleCloseBtn",value:function(e){this.refs.warning.style.display="none"}},{key:"handleKeyUp",value:function(e){this.props.onSearch(e.currentTarget.value)}},{key:"handleExportCSV",value:function(){this.props.onExportCSV()}},{key:"render",value:function(){var e="bs-table-modal-sm"+(new Date).getTime(),t=this.props.enableInsert?l["default"].createElement("button",{type:"button",onClick:this.props.onAddRowBegin,className:"btn btn-info react-bs-table-add-btn","data-toggle":"modal","data-target":"."+e},l["default"].createElement("i",{className:"glyphicon glyphicon-plus"})," New"):null,r=this.props.enableDelete?l["default"].createElement("button",{type:"button",className:"btn btn-warning react-bs-table-del-btn","data-toggle":"tooltip","data-placement":"right",title:"Drop selected row",onClick:this.handleDropRowBtnClick.bind(this)},l["default"].createElement("i",{className:"glyphicon glyphicon-trash"})," Delete"):null,o=this.renderSearchPanel(),n=this.props.enableShowOnlySelected?l["default"].createElement("button",{type:"button",onClick:this.handleShowOnlyToggle.bind(this),className:"btn btn-primary","data-toggle":"button","aria-pressed":"false"},this.state.showSelected?f["default"].SHOW_ALL:f["default"].SHOW_ONLY_SELECT):null,i=this.props.enableInsert?this.renderInsertRowModal(e):null,s=this.props.enableExportCSV?l["default"].createElement("button",{type:"button",className:"btn btn-success",onClick:this.handleExportCSV.bind(this)},l["default"].createElement("i",{className:"glyphicon glyphicon-export"})," Export to CSV"):null;return l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-8"},l["default"].createElement("div",{className:"btn-group btn-group-sm",role:"group"},s,t,r,n)),l["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-4"},o),l["default"].createElement(m["default"],{ref:"notifier"}),i)}},{key:"renderSearchPanel",value:function(){if(this.props.enableSearch){var e="form-group form-group-sm",t=null;return this.props.clearSearch&&(t=l["default"].createElement("span",{className:"input-group-btn"},l["default"].createElement("button",{className:"btn btn-default",type:"button",onClick:this.handleClearBtnClick},"Clear")),e="form-group form-group-sm input-group input-group-sm"),l["default"].createElement("div",{className:e},l["default"].createElement("input",{ref:"seachInput",className:"form-control",type:"text",placeholder:this.props.searchPlaceholder?this.props.searchPlaceholder:"Search",onKeyUp:this.handleKeyUp.bind(this)}),t)}return null}},{key:"renderInsertRowModal",value:function(e){var t=this.state.validateState||{},r=this.props.columns.map(function(e,r){var o=e.editable,n=e.format,i={ref:e.field+r,placeholder:o.placeholder?o.placeholder:e.name};if(e.autoValue)return null;var s=t[e.field]?l["default"].createElement("span",{className:"help-block bg-danger"},t[e.field]):null,a={display:e.hiddenInPopup?"none":"block"};return l["default"].createElement("div",{className:"form-group",key:e.field,style:a},l["default"].createElement("label",null,e.name),(0,y["default"])(o,i,n,""),s)}),o=(0,c["default"])("modal","fade",e,{"in":this.state.shakeEditor||this.state.validateState}),n=(0,c["default"])("modal-dialog","modal-sm",{animated:this.state.shakeEditor,shake:this.state.shakeEditor});return l["default"].createElement("div",{ref:"modal",className:o,tabIndex:"-1",role:"dialog"},l["default"].createElement("div",{className:n},l["default"].createElement("div",{className:"modal-content"},l["default"].createElement("div",{className:"modal-header"},l["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l["default"].createElement("span",{"aria-hidden":"true"},"")),l["default"].createElement("h4",{className:"modal-title"},"New Record")),l["default"].createElement("div",{className:"modal-body"},l["default"].createElement("form",{ref:"form"},r)),l["default"].createElement("div",{className:"modal-footer"},l["default"].createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close"),l["default"].createElement("button",{type:"button",className:"btn btn-info",onClick:this.handleSaveBtnClick.bind(this)},"Save")))))}}]),t}(l["default"].Component));b.propTypes={onAddRow:l["default"].PropTypes.func,onDropRow:l["default"].PropTypes.func,onShowOnlySelected:l["default"].PropTypes.func,enableInsert:l["default"].PropTypes.bool,enableDelete:l["default"].PropTypes.bool,enableSearch:l["default"].PropTypes.bool,enableShowOnlySelected:l["default"].PropTypes.bool,columns:l["default"].PropTypes.array,searchPlaceholder:l["default"].PropTypes.string,clearSearch:l["default"].PropTypes.bool},b.defaultProps={enableInsert:!1,enableDelete:!1,enableSearch:!1,enableShowOnlySelected:!1,clearSearch:!1},t["default"]=b,e.exports=t["default"]},function(e,t,r){t=e.exports=r(36)(),t.push([e.id,'.rc-switch{position:relative;display:inline-block;box-sizing:border-box;width:44px;height:22px;line-height:20px;vertical-align:middle;border-radius:20px 20px;border:1px solid #ccc;background-color:#ccc;cursor:pointer;transition:all .3s cubic-bezier(.35,0,.25,1)}.rc-switch-inner{color:#fff;font-size:12px;position:absolute;left:24px}.rc-switch:after{position:absolute;width:18px;height:18px;left:2px;top:1px;border-radius:50% 50%;background-color:#fff;content:" ";cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.26);-webkit-transform:scale(1);transform:scale(1);transition:left .3s cubic-bezier(.35,0,.25,1);-webkit-animation-timing-function:cubic-bezier(.35,0,.25,1);animation-timing-function:cubic-bezier(.35,0,.25,1);-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-name:rcSwitchOff;animation-name:rcSwitchOff}.rc-switch:hover:after{-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-name:rcSwitchOn;animation-name:rcSwitchOn}.rc-switch-checked{border:1px solid #87d068;background-color:#87d068}.rc-switch-checked .rc-switch-inner{left:6px}.rc-switch-checked:after{left:22px}.rc-switch-disabled{cursor:no-drop;background:#ccc;border-color:#ccc}.rc-switch-disabled:after{background:#9e9e9e;-webkit-animation-name:none;animation-name:none;cursor:no-drop}.rc-switch-disabled:hover:after{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-name:none;animation-name:none}.rc-switch-label{display:inline-block;line-height:20px;font-size:14px;padding-left:10px;vertical-align:middle;white-space:normal;pointer-events:none;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}@-webkit-keyframes rcSwitchOn{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.25);transform:scale(1.25)}to{-webkit-transform:scale(1.1);transform:scale(1.1)}}@keyframes rcSwitchOn{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.25);transform:scale(1.25)}to{-webkit-transform:scale(1.1);transform:scale(1.1)}}@-webkit-keyframes rcSwitchOff{0%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes rcSwitchOff{0%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}',""]);
},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(o[i]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&o[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(e,t,r){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(){}var i=r(1),s=r(3),a=i.createClass({displayName:"Switch",propTypes:{className:i.PropTypes.string,prefixCls:i.PropTypes.string,disabled:i.PropTypes.bool,style:i.PropTypes.object,checkedChildren:i.PropTypes.any,unCheckedChildren:i.PropTypes.any,onChange:i.PropTypes.func},getDefaultProps:function(){return{prefixCls:"rc-switch",style:{},checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1,onChange:n}},getInitialState:function(){var e=this.props,t=!1;return t="checked"in e?!!e.checked:!!e.defaultChecked,{checked:t}},componentWillReceiveProps:function(e){"checked"in e&&this.setState({checked:!!e.checked})},toggle:function(){var e=!this.state.checked;"checked"in this.props||this.setState({checked:e}),this.props.onChange(e)},render:function(){var e,t=this.props,r=t.className,a=t.prefixCls,u=t.disabled,l=t.style,p=t.checkedChildren,c=t.unCheckedChildren,d=this.state.checked,f=s((e={},o(e,r,!!r),o(e,a,!0),o(e,a+"-checked",d),o(e,a+"-disabled",u),e));return i.createElement("span",{className:f,onClick:u?n:this.toggle,style:l},i.createElement("span",{className:a+"-inner"},d?p:c))}});e.exports=a},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){return e&&"object"!=typeof e&&(e={}),e?e:null}function i(e,t,r){e&&(e[t]=r)}function s(e,t){if(e)for(var r=t.length;r>=0;--r){var o=t.slice(0,r);if(e[o]&&(t===o||e[o].complete))return e[o]}}function a(e,t){return e&&"function"==typeof e.then?e.then(function(e){t(null,e)},function(e){t(e)}):void 0}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l=r(1),p=o(l),c=r(10),d=o(c),f=r(11),h=o(f),y=0,v=p["default"].PropTypes.oneOfType([p["default"].PropTypes.string,p["default"].PropTypes.node]),m=p["default"].createClass({displayName:"Async",propTypes:{cache:p["default"].PropTypes.any,ignoreAccents:p["default"].PropTypes.bool,ignoreCase:p["default"].PropTypes.bool,isLoading:p["default"].PropTypes.bool,loadOptions:p["default"].PropTypes.func.isRequired,loadingPlaceholder:p["default"].PropTypes.string,minimumInput:p["default"].PropTypes.number,noResultsText:p["default"].PropTypes.string,placeholder:v,searchPromptText:p["default"].PropTypes.string,searchingText:p["default"].PropTypes.string},getDefaultProps:function(){return{cache:!0,ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",minimumInput:0,searchingText:"Searching...",searchPromptText:"Type to search"}},getInitialState:function(){return{cache:n(this.props.cache),isLoading:!1,options:[]}},componentWillMount:function(){this._lastInput=""},componentDidMount:function(){this.loadOptions("")},componentWillReceiveProps:function(e){e.cache!==this.props.cache&&this.setState({cache:n(e.cache)})},focus:function(){this.refs.select.focus()},resetState:function(){this._currentRequestId=-1,this.setState({isLoading:!1,options:[]})},getResponseHandler:function(e){var t=this,r=this._currentRequestId=y++;return function(o,n){if(o)throw o;t.isMounted()&&(i(t.state.cache,e,n),r===t._currentRequestId&&t.setState({isLoading:!1,options:n&&n.options||[]}))}},loadOptions:function(e){if(this.props.ignoreAccents&&(e=(0,h["default"])(e)),this.props.ignoreCase&&(e=e.toLowerCase()),this._lastInput=e,e.length<this.props.minimumInput)return this.resetState();var t=s(this.state.cache,e);if(t)return this.setState({options:t.options});this.setState({isLoading:!0});var r=this.getResponseHandler(e);return a(this.props.loadOptions(e,r),r)},render:function(){var e=this.props.noResultsText,t=this.state,r=t.isLoading,o=t.options;this.props.isLoading&&(r=!0);var n=r?this.props.loadingPlaceholder:this.props.placeholder;return o.length||(this._lastInput.length<this.props.minimumInput&&(e=this.props.searchPromptText),r&&(e=this.props.searchingText)),p["default"].createElement(d["default"],u({},this.props,{ref:"select",isLoading:r,noResultsText:e,onInputChange:this.loadOptions,options:o,placeholder:n}))}});e.exports=m},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),i=o(n),s=r(3),a=o(s),u=i["default"].createClass({displayName:"Option",propTypes:{children:i["default"].PropTypes.node,className:i["default"].PropTypes.string,isDisabled:i["default"].PropTypes.bool,isFocused:i["default"].PropTypes.bool,isSelected:i["default"].PropTypes.bool,onFocus:i["default"].PropTypes.func,onSelect:i["default"].PropTypes.func,onUnfocus:i["default"].PropTypes.func,option:i["default"].PropTypes.object.isRequired},blockEvent:function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},handleMouseDown:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)},handleMouseEnter:function(e){this.onFocus(e)},handleMouseMove:function(e){this.onFocus(e)},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},onFocus:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)},render:function(){var e=this.props.option,t=(0,a["default"])(this.props.className,e.className);return e.disabled?i["default"].createElement("div",{className:t,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):i["default"].createElement("div",{className:t,style:e.style,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,title:e.title},this.props.children)}});e.exports=u},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),i=o(n),s=r(3),a=o(s),u=i["default"].createClass({displayName:"Value",propTypes:{children:i["default"].PropTypes.node,disabled:i["default"].PropTypes.bool,onClick:i["default"].PropTypes.func,onRemove:i["default"].PropTypes.func,value:i["default"].PropTypes.object.isRequired},handleMouseDown:function(e){return"mousedown"!==e.type||0===e.button?this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation()):void 0},onRemove:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)},handleTouchEndRemove:function(e){this.dragging||this.onRemove(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},renderRemoveIcon:function(){return!this.props.disabled&&this.props.onRemove?i["default"].createElement("span",{className:"Select-value-icon",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},""):void 0},renderLabel:function(){var e="Select-value-label";return this.props.onClick||this.props.value.href?i["default"].createElement("a",{className:e,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):i["default"].createElement("span",{className:e},this.props.children)},render:function(){return i["default"].createElement("div",{className:(0,a["default"])("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}});e.exports=u},function(e,t,r){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(1),i={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},s="undefined"!=typeof window?function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}().bind(window):void 0,a=n.createClass({displayName:"AutosizeInput",propTypes:{value:n.PropTypes.any,defaultValue:n.PropTypes.any,onChange:n.PropTypes.func,style:n.PropTypes.object,className:n.PropTypes.string,minWidth:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),inputStyle:n.PropTypes.object,inputClassName:n.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.queueUpdateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(this.refs.input),t=this.refs.sizer;if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,this.props.placeholder){var r=this.refs.placeholderSizer;r.style.fontSize=e.fontSize,r.style.fontFamily=e.fontFamily,r.style.fontWeight=e.fontWeight,r.style.fontStyle=e.fontStyle,r.style.letterSpacing=e.letterSpacing}}},queueUpdateInputWidth:function(){s(this.updateInputWidth)},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.scrollWidth){var e=void 0;e=this.props.placeholder?Math.max(this.refs.sizer.scrollWidth,this.refs.placeholderSizer.scrollWidth)+2:this.refs.sizer.scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},select:function(){this.refs.input.select()},render:function(){var e=(this.props.defaultValue||this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),t=this.props.style||{};t.display||(t.display="inline-block");var r=o({},this.props.inputStyle);r.width=this.state.inputWidth,r.boxSizing="content-box";var s=this.props.placeholder?n.createElement("div",{ref:"placeholderSizer",style:i},this.props.placeholder):null;return n.createElement("div",{className:this.props.className,style:t},n.createElement("input",o({},this.props,{ref:"input",className:this.props.inputClassName,style:r})),n.createElement("div",{ref:"sizer",style:i,dangerouslySetInnerHTML:{__html:e}}),s)}});e.exports=a},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var p=r(1),c=o(p),d=r(13),f=o(d),h=r(12),y=o(h),v=function(e){function t(){var e,r,o,n;i(this,t);for(var a=arguments.length,u=Array(a),l=0;a>l;l++)u[l]=arguments[l];return r=o=s(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={toasts:[],toastId:0,previousMessage:null},n=r,s(o,n)}return a(t,e),l(t,[{key:"error",value:function(e,t,r){this._notify(this.props.toastType.error,e,t,r)}},{key:"info",value:function(e,t,r){this._notify(this.props.toastType.info,e,t,r)}},{key:"success",value:function(e,t,r){this._notify(this.props.toastType.success,e,t,r)}},{key:"warning",value:function(e,t,r){this._notify(this.props.toastType.warning,e,t,r)}},{key:"clear",value:function(){var e=this;Object.keys(this.refs).forEach(function(t){e.refs[t].hideToast(!1)})}},{key:"_notify",value:function(e,t,r){var o=this,i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];if(!this.props.preventDuplicates||this.state.previousMessage!==t){var s=this.state.toastId++,a=s,u=(0,f["default"])(i,{$merge:{type:e,title:r,message:t,toastId:a,key:s,ref:"toasts__"+s,handleOnClick:function(e){return"function"==typeof i.handleOnClick&&i.handleOnClick(),o._handle_toast_on_click(e)},handleRemove:this._handle_toast_remove.bind(this)}}),l=n({},""+(this.props.newestOnTop?"$unshift":"$push"),[u]),p=(0,f["default"])(this.state,{toasts:l,previousMessage:{$set:t}});this.setState(p)}}},{key:"_handle_toast_on_click",value:function(e){this.props.onClick(e),e.defaultPrevented||(e.preventDefault(),e.stopPropagation())}},{key:"_handle_toast_remove",value:function(e){var t=this,r=""+(this.props.newestOnTop?"reduceRight":"reduce");this.state.toasts[r](function(r,o,n){return r||o.toastId!==e?!1:(t.setState((0,f["default"])(t.state,{toasts:{$splice:[[n,1]]}})),!0)},!1)}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",u({},this.props,{"aria-live":"polite",role:"alert"}),this.state.toasts.map(function(t){return e.props.toastMessageFactory(t)}))}}]),t}(p.Component);v.propTypes={toastType:p.PropTypes.shape({error:p.PropTypes.string,info:p.PropTypes.string,success:p.PropTypes.string,warning:p.PropTypes.string}).isRequired,id:p.PropTypes.string.isRequired,toastMessageFactory:p.PropTypes.func.isRequired,preventDuplicates:p.PropTypes.bool.isRequired,newestOnTop:p.PropTypes.bool.isRequired,onClick:p.PropTypes.func.isRequired},v.defaultProps={toastType:{error:"error",info:"info",success:"success",warning:"warning"},id:"toast-container",toastMessageFactory:c["default"].createFactory(y["default"]),preventDuplicates:!1,newestOnTop:!0,onClick:function(){}},t["default"]=v},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(48),i=o(n),s=r(4),a=o(s),u=r(46),l=o(u),p=17,c=Object.prototype.toString;t["default"]={getDefaultProps:function(){return{transition:null,showAnimation:"animated bounceIn",hideAnimation:"animated bounceOut",timeOut:5e3,extendedTimeOut:1e3}},componentWillMount:function(){this.classNameQueue=[],this.isHiding=!1,this.intervalId=null},componentDidMount:function(){var e=this;this._is_mounted=!0,this._show();var t=a["default"].findDOMNode(this),r=function o(){e.isHiding&&(e._set_is_hiding(!1),i["default"].removeEndEventListener(t,o),e._handle_remove())};i["default"].addEndEventListener(t,r),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},componentWillUnmount:function(){this._is_mounted=!1,this.intervalId&&clearTimeout(this.intervalId)},_set_transition:function(e){var t=e?"leave":"enter",r=a["default"].findDOMNode(this),o=this.props.transition+"-"+t,n=o+"-active",s=function u(e){if(!e||e.target===r){var t=(0,l["default"])(r);t.remove(o),t.remove(n),i["default"].removeEndEventListener(r,u)}};i["default"].addEndEventListener(r,s),(0,l["default"])(r).add(o),this._queue_class(n)},_clear_transition:function(e){var t=a["default"].findDOMNode(this),r=e?"leave":"enter",o=this.props.transition+"-"+r,n=o+"-active",i=(0,l["default"])(t);i.remove(o),i.remove(n)},_set_animation:function(e){var t=a["default"].findDOMNode(this),r=this._get_animation_classes(e),o=function n(e){e&&e.target!==t||(r.forEach(function(e){return(0,l["default"])(t).remove(e)}),i["default"].removeEndEventListener(t,n))};i["default"].addEndEventListener(t,o),r.forEach(function(e){return(0,l["default"])(t).add(e)})},_get_animation_classes:function(e){var t=e?this.props.hideAnimation:this.props.showAnimation;return"[object Array]"===c.call(t)?t:"string"==typeof t?t.split(" "):void 0},_clear_animation:function(e){var t=a["default"].findDOMNode(this),r=this._get_animation_classes(e);r.forEach(function(e){return(0,l["default"])(t).remove(e)})},_queue_class:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this._flush_class_name_queue,p))},_flush_class_name_queue:function(){var e=this;this._is_mounted&&!function(){var t=a["default"].findDOMNode(e);e.classNameQueue.forEach(function(e){return(0,l["default"])(t).add(e)})}(),this.classNameQueue.length=0,this.timeout=null},_show:function(){this.props.transition?this._set_transition():this.props.showAnimation&&this._set_animation()},handleMouseEnter:function(){clearTimeout(this.intervalId),this._set_interval_id(null),this.isHiding&&(this._set_is_hiding(!1),this.props.hideAnimation?this._clear_animation(!0):this.props.transition&&this._clear_transition(!0))},handleMouseLeave:function(){!this.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.isHiding||null===this.intervalId&&!e||(this._set_is_hiding(!0),this.props.transition?this._set_transition(!0):this.props.hideAnimation?this._set_animation(!0):this._handle_remove())},_set_interval_id:function(e){this.intervalId=e},_set_is_hiding:function(e){this.isHiding=e}}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){e[t.showMethod]({duration:t.showDuration,easing:t.showEasing})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=o(i);t["default"]={getDefaultProps:function(){return{style:{display:"none"},showMethod:"fadeIn",showDuration:300,showEasing:"swing",hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",timeOut:5e3,extendedTimeOut:1e3}},getInitialState:function(){return{intervalId:null,isHiding:!1}},componentDidMount:function(){n(this._get_$_node(),this.props),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},handleMouseEnter:function(){clearTimeout(this.state.intervalId),this._set_interval_id(null),this._set_is_hiding(!1),n(this._get_$_node().stop(!0,!0),this.props)},handleMouseLeave:function(){!this.state.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.state.isHiding||null===this.state.intervalId&&!e||(this.setState({isHiding:!0}),this._get_$_node()[this.props.hideMethod]({duration:this.props.hideDuration,easing:this.props.hideEasing,complete:this._handle_remove}))},_get_$_node:function(){return jQuery(s["default"].findDOMNode(this))},_set_interval_id:function(e){this.setState({intervalId:e})},_set_is_hiding:function(e){this.setState({isHiding:e})}}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ToastMessage=t.ToastContainer=void 0;var n=r(42),i=o(n),s=r(12),a=o(s);t.ToastContainer=i["default"],t.ToastMessage=a["default"]},function(e,t){function r(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,o=e.length;o>r;r++)if(e[r]===t)return r;return-1}function o(e){if(!(this instanceof o))return new o(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new o(e)},o.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var o=t.className.split(" ");return r(o,e)>-1?o:(o.push(e),t.className=o.join(" "),o)}},o.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var o=t.className.split(" "),n=r(o,e);return n>-1&&o.splice(n,1),t.className=o.join(" "),o}},o.prototype.has=function(e){var t=this.el;if(t){var o=t.className.split(" ");return r(o,e)>-1}},o.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))}},function(e,t){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(e),o=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i){var s=Object(i);for(var a in s)o.call(s,a)&&(r[a]=s[a])}}return r}e.exports=r},function(e,t,r){"use strict";function o(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var r in a){var o=a[r];for(var n in o)if(n in t){u.push(o[n]);break}}}function n(e,t,r){e.addEventListener(t,r,!1)}function i(e,t,r){e.removeEventListener(t,r,!1)}var s=r(50),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},u=[];s.canUseDOM&&o();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(r){n(e,r,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(r){i(e,r,t)})}};e.exports=l},function(e,t,r){(function(t){"use strict";function o(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function n(e,r,o){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected target of %s to be an array; got %s.",o,e):u(!1);var n=r[o];Array.isArray(n)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",o,n):u(!1)}function i(e,r){if("object"!=typeof r?"production"!==t.env.NODE_ENV?u(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",v.join(", "),f):u(!1):void 0,l.call(r,f))return 1!==Object.keys(r).length?"production"!==t.env.NODE_ENV?u(!1,"Cannot have more than one key in an object with %s",f):u(!1):void 0,r[f];var a=o(e);if(l.call(r,h)){var g=r[h];g&&"object"==typeof g?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): %s expects a spec of type 'object'; got %s",h,g):u(!1),a&&"object"==typeof a?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): %s expects a target of type 'object'; got %s",h,a):u(!1),s(a,r[h])}l.call(r,p)&&(n(e,r,p),r[p].forEach(function(e){a.push(e)})),l.call(r,c)&&(n(e,r,c),r[c].forEach(function(e){a.unshift(e)})),l.call(r,d)&&(Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"Expected %s target to be an array; got %s",d,e):u(!1),Array.isArray(r[d])?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,r[d]):u(!1),r[d].forEach(function(e){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,r[d]):u(!1),a.splice.apply(a,e)})),l.call(r,y)&&("function"!=typeof r[y]?"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be a function; got %s.",y,r[y]):u(!1):void 0,a=r[y](a));for(var b in r)m.hasOwnProperty(b)&&m[b]||(a[b]=i(e[b],r[b]));return a}var s=r(47),a=r(52),u=r(51),l={}.hasOwnProperty,p=a({$push:null}),c=a({$unshift:null}),d=a({$splice:null}),f=a({$set:null}),h=a({$merge:null}),y=a({$apply:null}),v=[p,c,d,f,h,y],m={};v.forEach(function(e){m[e]=!0}),e.exports=i}).call(t,r(15))},function(e,t){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,r){(function(t){"use strict";function r(e,r,o,n,i,s,a,u){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,n,i,s,a,u],c=0;l=new Error(r.replace(/%s/g,function(){return p[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=r}).call(t,r(15))},function(e,t){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,r){function o(e,t){for(var r=0;r<e.length;r++){var o=e[r],n=f[o.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](o.parts[i]);for(;i<o.parts.length;i++)n.parts.push(l(o.parts[i],t))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(l(o.parts[i],t));f[o.id]={id:o.id,refs:1,parts:s}}}}function n(e){for(var t=[],r={},o=0;o<e.length;o++){var n=e[o],i=n[0],s=n[1],a=n[2],u=n[3],l={css:s,media:a,sourceMap:u};r[i]?r[i].parts.push(l):t.push(r[i]={id:i,parts:[l]})}return t}function i(e,t){var r=v(),o=b[b.length-1];if("top"===e.insertAt)o?o.nextSibling?r.insertBefore(t,o.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var r,o,n;if(t.singleton){var i=g++;r=m||(m=a(t)),o=p.bind(null,r,i,!1),n=p.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=u(t),o=d.bind(null,r),n=function(){s(r),r.href&&URL.revokeObjectURL(r.href)}):(r=a(t),o=c.bind(null,r),n=function(){s(r)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}function p(e,t,r,o){var n=r?"":o.css;if(e.styleSheet)e.styleSheet.cssText=E(t,n);else{var i=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function c(e,t){var r=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function d(e,t){var r=t.css,o=(t.media,t.sourceMap);o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var n=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(n),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},y=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=y()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=n(e);return o(r,t),function(e){for(var i=[],s=0;s<r.length;s++){var a=r[s],u=f[a.id];u.refs--,i.push(u)}if(e){var l=n(e);o(l,t)}for(var s=0;s<i.length;s++){var u=i[s];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete f[u.id]}}}};var E=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var o=r(35);"string"==typeof o&&(o=[[e.id,o,""]]);r(53)(o,{});o.locals&&(e.exports=o.locals)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9yZWFjdC1ib290c3RyYXAtdGFibGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDgwOTYyZTZkMjM0OWQ5MDk1ZDU0Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiUmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiYW1kXCI6XCJyZWFjdFwifSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jbGFzc25hbWVzL2luZGV4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdERPTVwiLFwiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIixcImNvbW1vbmpzXCI6XCJyZWFjdC1kb21cIixcImFtZFwiOlwicmVhY3QtZG9tXCJ9Iiwid2VicGFjazovLy8uL3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL3NyYy9FZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvVGFibGVEYXRhU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zd2l0Y2gvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L2xpYi9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL3V0aWxzL3N0cmlwRGlhY3JpdGljcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRvYXN0ci9saWIvVG9hc3RNZXNzYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtdG9hc3RyL34vcmVhY3QtYWRkb25zLXVwZGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9vdHN0cmFwVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU2VsZWN0Um93SGVhZGVyQ29sdW1uLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUJvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlQ29sdW1uLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUVkaXRDb2x1bW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlRmlsdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUhlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGFibGVIZWFkZXJDb2x1bW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlUm93LmpzIiwid2VicGFjazovLy8uL3NyYy9jc3ZfZXhwb3J0X3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGVzYXZlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlsdGVycy9EYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9maWx0ZXJzL051bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlsdGVycy9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbHRlcnMvVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnaW5hdGlvbi9QYWdlQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdpbmF0aW9uL1BhZ2luYXRpb25MaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy90b29sYmFyL1Rvb2xCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zd2l0Y2gvYXNzZXRzL2luZGV4LmNzcyIsIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL34vcmMtc3dpdGNoL2xpYi9Td2l0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL0FzeW5jLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L2xpYi9PcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL1ZhbHVlLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L34vcmVhY3QtaW5wdXQtYXV0b3NpemUvbGliL0F1dG9zaXplSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0Q29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdE1lc3NhZ2UvYW5pbWF0aW9uTWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0TWVzc2FnZS9qUXVlcnlNaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRvYXN0ci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvfi9lbGVtZW50LWNsYXNzL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QvbGliL09iamVjdC5hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC9saWIvUmVhY3RUcmFuc2l0aW9uRXZlbnRzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3QvbGliL3VwZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0L34vZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0L34vZmJqcy9saWIva2V5T2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL34vcmMtc3dpdGNoL2Fzc2V0cy9pbmRleC5jc3M/N2M5NCIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX0Jvb3RzdHJhcFRhYmxlIiwiX0Jvb3RzdHJhcFRhYmxlMiIsIl9UYWJsZUhlYWRlckNvbHVtbiIsIl9UYWJsZUhlYWRlckNvbHVtbjIiLCJfc3RvcmVUYWJsZURhdGFTdG9yZSIsIndpbmRvdyIsIkJvb3RzdHJhcFRhYmxlIiwiVGFibGVIZWFkZXJDb2x1bW4iLCJUYWJsZURhdGFTZXQiLCJTT1JUX0RFU0MiLCJTT1JUX0FTQyIsIlNJWkVfUEVSX1BBR0UiLCJORVhUX1BBR0UiLCJMQVNUX1BBR0UiLCJQUkVfUEFHRSIsIkZJUlNUX1BBR0UiLCJST1dfU0VMRUNUX0JHX0NPTE9SIiwiUk9XX1NFTEVDVF9OT05FIiwiUk9XX1NFTEVDVF9TSU5HTEUiLCJST1dfU0VMRUNUX01VTFRJIiwiQ0VMTF9FRElUX05PTkUiLCJDRUxMX0VESVRfQ0xJQ0siLCJDRUxMX0VESVRfREJDTElDSyIsIlNJWkVfUEVSX1BBR0VfTElTVCIsIlBBR0lOQVRJT05fU0laRSIsIk5PX0RBVEFfVEVYVCIsIlNIT1dfT05MWV9TRUxFQ1QiLCJTSE9XX0FMTCIsIkZJTFRFUl9ERUxBWSIsIkZJTFRFUl9UWVBFIiwiVEVYVCIsIlNFTEVDVCIsIk5VTUJFUiIsIkRBVEUiLCJDVVNUT00iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJjbGFzc05hbWVzIiwiY2xhc3NlcyIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmciLCJhcmdUeXBlIiwicHVzaCIsIkFycmF5IiwiaXNBcnJheSIsImFwcGx5Iiwia2V5IiwiaGFzT3duIiwiam9pbiIsImhhc093blByb3BlcnR5IiwidW5kZWZpbmVkIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9Db25zdCIsIl9Db25zdDIiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsInJlbmRlclNvcnRDYXJldCIsIm9yZGVyIiwid3JhcCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVyIiwic3R5bGUiLCJtYXJnaW4iLCJhcHBlbmRDaGlsZCIsInJlbmRlclJlYWN0U29ydENhcmV0Iiwib3JkZXJDbGFzcyIsImRyb3B1cCIsImdldFNjcm9sbEJhcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJvdXRlciIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInZpc2liaWxpdHkiLCJvdmVyZmxvdyIsImJvZHkiLCJ3MSIsIm9mZnNldFdpZHRoIiwidzIiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJwcm90b3R5cGUiLCJfcmNTd2l0Y2giLCJfcmNTd2l0Y2gyIiwiX3JlYWN0U2VsZWN0IiwiX3JlYWN0U2VsZWN0MiIsIkVkaXRvciIsImVkaXRhYmxlIiwiYXR0ciIsImZvcm1hdCIsImVkaXRvckNsYXNzIiwiZGVmYXVsdFZhbHVlIiwidHlwZSIsImRpc2FibGVkIiwib3B0aW9ucyIsInZhbHVlcyIsInJvd1ZhbHVlIiwibWFwIiwiZCIsImNvbHMiLCJyb3dzIiwia2V5VXBIYW5kbGVyIiwib25LZXlEb3duIiwic2F2ZUJ0biIsImUiLCJrZXlDb2RlIiwib25DbGljayIsIl92YWx1ZXMiLCJyZXBsYWNlIiwiY2hlY2tlZCIsInRvU3RyaW5nIiwic3BsaXQiLCJkZWZhdWx0Q2hlY2tlZCIsIl92YWx1ZXMyIiwibXVsdGlPcHQiLCJtdWx0aSIsInNpbXBsZVZhbHVlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2dldCIsIl94IiwiX3gyIiwiX3gzIiwiX2FnYWluIiwib2JqZWN0IiwicHJvcGVydHkiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldHRlciIsImdldCIsInBhcmVudCIsImdldFByb3RvdHlwZU9mIiwiX3JlYWN0VG9hc3RyIiwiVG9hc3RyTWVzc2FnZUZhY3RvcnkiLCJjcmVhdGVGYWN0b3J5IiwiVG9hc3RNZXNzYWdlIiwiYW5pbWF0aW9uIiwiTm90aWZpY2F0aW9uIiwiX1JlYWN0JENvbXBvbmVudCIsIm1zZyIsInRpdGxlIiwicmVmcyIsInRvYXN0ciIsIm1vZGUiLCJ0aW1lT3V0IiwiZXh0ZW5kZWRUaW1lT3V0Iiwic2hvd0FuaW1hdGlvbiIsImhpZGVBbmltYXRpb24iLCJUb2FzdENvbnRhaW5lciIsInJlZiIsInRvYXN0TWVzc2FnZUZhY3RvcnkiLCJDb21wb25lbnQiLCJfc29ydCIsImFyciIsInNvcnRGaWVsZCIsInNvcnRGdW5jIiwidG9Mb3dlckNhc2UiLCJzb3J0IiwiYSIsImIiLCJFdmVudEVtaXR0ZXIiLCJfRXZlbnRFbWl0dGVyIiwiZGF0YSIsImVtaXQiLCJUYWJsZURhdGFTdG9yZSIsImNvbEluZm9zIiwiZmlsdGVyZWREYXRhIiwiaXNPbkZpbHRlciIsImZpbHRlck9iaiIsInNlYXJjaFRleHQiLCJzb3J0T2JqIiwicGFnZU9iaiIsInNlbGVjdGVkIiwibXVsdGlDb2x1bW5TZWFyY2giLCJzaG93T25seVNlbGVjdGVkIiwicmVtb3RlIiwia2V5RmllbGQiLCJlbmFibGVQYWdpbmF0aW9uIiwiaXNQYWdpbmF0aW9uIiwiZmlsdGVyIiwic2VhcmNoIiwic2VsZWN0ZWRSb3dLZXlzIiwiX3RoaXMiLCJyb3ciLCJyZXN1bHQiLCJmaW5kIiwieCIsImN1cnJlbnREaXNwbGF5RGF0YSIsImdldEN1cnJlbnREaXNwbGF5RGF0YSIsIl9wYWdlIiwic2l6ZVBlclBhZ2UiLCJlbmQiLCJzdGFydCIsIm5ld1ZhbCIsInJvd0luZGV4IiwiZmllbGROYW1lIiwicm93S2V5Q2FjaGUiLCJmb3JFYWNoIiwibmV3T2JqIiwiY29uc29sZSIsImxvZyIsInVuc2hpZnQiLCJyb3dLZXkiLCJpbmRleE9mIiwiX3RoaXMyIiwia2V5cyIsInZhbGlkIiwiZmlsdGVyVmFsIiwidGFyZ2V0VmFsIiwibnVtYmVyIiwiX2NvbEluZm9zJGtleSIsImZpbHRlckZvcm1hdHRlZCIsImZvcm1hdEV4dHJhRGF0YSIsImZpbHRlck51bWJlciIsImNvbXBhcmF0b3IiLCJmaWx0ZXJEYXRlIiwiZmlsdGVyQ3VzdG9tIiwiZmlsdGVyVGV4dCIsImVycm9yIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJjYWxsYmFja0luZm8iLCJjYWxsYmFjayIsImNhbGxiYWNrUGFyYW1ldGVycyIsIl90aGlzMyIsInRyaW0iLCJzZWFyY2hUZXh0QXJyYXkiLCJrZXlzTGVuZ3RoIiwiX2NvbEluZm9zJGtleTIiLCJzZWFyY2hhYmxlIiwiaGlkZGVuIiwiaiIsInRleHRMZW5ndGgiLCJfZGF0YSIsInN0cmluZ2lmeVZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9yZWFjdERvbSIsIl9yZWFjdERvbTIiLCJfcmVhY3RJbnB1dEF1dG9zaXplIiwiX3JlYWN0SW5wdXRBdXRvc2l6ZTIiLCJfdXRpbHNTdHJpcERpYWNyaXRpY3MiLCJfdXRpbHNTdHJpcERpYWNyaXRpY3MyIiwiX0FzeW5jIiwiX0FzeW5jMiIsIl9PcHRpb24iLCJfT3B0aW9uMiIsIl9WYWx1ZSIsIl9WYWx1ZTIiLCJzdHJpbmdPck5vZGUiLCJQcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJub2RlIiwiU2VsZWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsInByb3BUeXBlcyIsImFkZExhYmVsVGV4dCIsImFsbG93Q3JlYXRlIiwiYm9vbCIsImF1dG9CbHVyIiwiYXV0b2ZvY3VzIiwiYmFja3NwYWNlUmVtb3ZlcyIsImNsZWFyQWxsVGV4dCIsImNsZWFyVmFsdWVUZXh0IiwiY2xlYXJhYmxlIiwiZGVsaW1pdGVyIiwiZXNjYXBlQ2xlYXJzVmFsdWUiLCJmaWx0ZXJPcHRpb24iLCJmdW5jIiwiZmlsdGVyT3B0aW9ucyIsImFueSIsImlnbm9yZUFjY2VudHMiLCJpZ25vcmVDYXNlIiwiaW5wdXRQcm9wcyIsImlzTG9hZGluZyIsImxhYmVsS2V5IiwibWF0Y2hQb3MiLCJtYXRjaFByb3AiLCJtZW51QnVmZmVyIiwibWVudUNvbnRhaW5lclN0eWxlIiwibWVudVN0eWxlIiwibmFtZSIsIm5ld09wdGlvbkNyZWF0b3IiLCJub1Jlc3VsdHNUZXh0Iiwib25CbHVyIiwib25CbHVyUmVzZXRzSW5wdXQiLCJvbkNoYW5nZSIsIm9uQ2xvc2UiLCJvbkZvY3VzIiwib25JbnB1dENoYW5nZSIsIm9uTWVudVNjcm9sbFRvQm90dG9tIiwib25PcGVuIiwib25WYWx1ZUNsaWNrIiwib3B0aW9uQ29tcG9uZW50Iiwib3B0aW9uUmVuZGVyZXIiLCJhcnJheSIsInBsYWNlaG9sZGVyIiwicmVxdWlyZWQiLCJzY3JvbGxNZW51SW50b1ZpZXciLCJ0YWJJbmRleCIsInZhbHVlQ29tcG9uZW50IiwidmFsdWVLZXkiLCJ2YWx1ZVJlbmRlcmVyIiwid3JhcHBlclN0eWxlIiwic3RhdGljcyIsIkFzeW5jIiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwiaW5wdXRWYWx1ZSIsImlzRm9jdXNlZCIsImlzT3BlbiIsImlzUHNldWRvRm9jdXNlZCIsImhhbmRsZVJlcXVpcmVkIiwiY29tcG9uZW50RGlkTW91bnQiLCJmb2N1cyIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJzdGF0ZSIsImhhbmRsZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJtZW51IiwiZm9jdXNlZCIsImhhc1Njcm9sbGVkVG9PcHRpb24iLCJmb2N1c2VkT3B0aW9uTm9kZSIsImZpbmRET01Ob2RlIiwibWVudU5vZGUiLCJzY3JvbGxUb3AiLCJvZmZzZXRUb3AiLCJfc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUiLCJmb2N1c2VkRE9NIiwibWVudURPTSIsImZvY3VzZWRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWVudVJlY3QiLCJib3R0b20iLCJjbGllbnRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJtZW51Q29udGFpbmVyIiwibWVudUNvbnRhaW5lclJlY3QiLCJpbm5lckhlaWdodCIsInNjcm9sbFRvIiwic2Nyb2xsWSIsInNldFN0YXRlIiwiaW5wdXQiLCJibHVySW5wdXQiLCJibHVyIiwiaGFuZGxlVG91Y2hNb3ZlIiwiZXZlbnQiLCJkcmFnZ2luZyIsImhhbmRsZVRvdWNoU3RhcnQiLCJoYW5kbGVUb3VjaEVuZCIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZSIsImNsZWFyVmFsdWUiLCJidXR0b24iLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIl9vcGVuQWZ0ZXJGb2N1cyIsImhhbmRsZU1vdXNlRG93bk9uQXJyb3ciLCJjbG9zZU1lbnUiLCJoYW5kbGVNb3VzZURvd25Pbk1lbnUiLCJoYW5kbGVJbnB1dEZvY3VzIiwiaGFuZGxlSW5wdXRCbHVyIiwiYWN0aXZlRWxlbWVudCIsImlzRXF1YWxOb2RlIiwib25CbHVycmVkU3RhdGUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImhhbmRsZUtleURvd24iLCJwb3BWYWx1ZSIsInNoaWZ0S2V5Iiwic2VsZWN0Rm9jdXNlZE9wdGlvbiIsImZvY3VzUHJldmlvdXNPcHRpb24iLCJmb2N1c05leHRPcHRpb24iLCJoYW5kbGVWYWx1ZUNsaWNrIiwib3B0aW9uIiwiaGFuZGxlTWVudVNjcm9sbCIsInNjcm9sbEhlaWdodCIsImdldE9wdGlvbkxhYmVsIiwib3AiLCJnZXRWYWx1ZUFycmF5IiwiZXhwYW5kVmFsdWUiLCJleHBhbmRlZFZhbHVlIiwiX3Byb3BzIiwic2V0VmFsdWUiLCJzZWxlY3RWYWx1ZSIsImFkZFZhbHVlIiwidmFsdWVBcnJheSIsImNvbmNhdCIsImNsZWFyYWJsZVZhbHVlIiwic2xpY2UiLCJyZW1vdmVWYWx1ZSIsImZvY3VzT3B0aW9uIiwiZm9jdXNlZE9wdGlvbiIsImZvY3VzQWRqYWNlbnRPcHRpb24iLCJkaXIiLCJfdmlzaWJsZU9wdGlvbnMiLCJfZm9jdXNlZE9wdGlvbiIsImZvY3VzZWRJbmRleCIsInJlbmRlckxvYWRpbmciLCJhcmlhLWhpZGRlbiIsInJlbmRlclZhbHVlIiwicmVuZGVyTGFiZWwiLCJWYWx1ZUNvbXBvbmVudCIsIm9uUmVtb3ZlIiwicmVuZGVySW5wdXQiLCJib3JkZXIiLCJkaXNwbGF5IiwibWluV2lkdGgiLCJyZW5kZXJDbGVhciIsImFyaWEtbGFiZWwiLCJvbk1vdXNlRG93biIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwicmVuZGVyQXJyb3ciLCJleGNsdWRlT3B0aW9ucyIsImZpbHRlclZhbHVlIiwidmFsdWVUZXN0IiwiU3RyaW5nIiwibGFiZWxUZXN0Iiwic3Vic3RyIiwicmVuZGVyTWVudSIsIl90aGlzNCIsIl9yZXQiLCJPcHRpb24iLCJ2IiwiaXNTZWxlY3RlZCIsIm9wdGlvblJlZiIsIm9wdGlvbkNsYXNzIiwiU2VsZWN0LW9wdGlvbiIsImlzLXNlbGVjdGVkIiwiaXMtZm9jdXNlZCIsImlzLWRpc2FibGVkIiwiaXNEaXNhYmxlZCIsIm9uU2VsZWN0IiwicmVuZGVySGlkZGVuRmllbGQiLCJfdGhpczUiLCJnZXRGb2N1c2FibGVPcHRpb24iLCJzZWxlY3RlZE9wdGlvbiIsInJlbmRlciIsIlNlbGVjdC0tbXVsdGkiLCJpcy1sb2FkaW5nIiwiaXMtb3BlbiIsImlzLXBzZXVkby1mb2N1c2VkIiwiaXMtc2VhcmNoYWJsZSIsImhhcy12YWx1ZSIsIm9uU2Nyb2xsIiwiYmFzZSIsImxldHRlcnMiLCJzdHIiLCJub29wIiwialF1ZXJ5IiwiX3JlYWN0QWRkb25zVXBkYXRlIiwiX3JlYWN0QWRkb25zVXBkYXRlMiIsIl9hbmltYXRpb25NaXhpbiIsIl9hbmltYXRpb25NaXhpbjIiLCJfalF1ZXJ5TWl4aW4iLCJfalF1ZXJ5TWl4aW4yIiwiVG9hc3RNZXNzYWdlU3BlYyIsImljb25DbGFzc05hbWVzIiwiaW5mbyIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwidGl0bGVDbGFzc05hbWUiLCJtZXNzYWdlQ2xhc3NOYW1lIiwidGFwVG9EaXNtaXNzIiwiY2xvc2VCdXR0b24iLCJoYW5kbGVPbkNsaWNrIiwiaGlkZVRvYXN0IiwiX2hhbmRsZV9jbG9zZV9idXR0b25fY2xpY2siLCJfaGFuZGxlX3JlbW92ZSIsImhhbmRsZVJlbW92ZSIsInRvYXN0SWQiLCJfcmVuZGVyX2Nsb3NlX2J1dHRvbiIsInJvbGUiLCJfcmVuZGVyX3RpdGxlX2VsZW1lbnQiLCJfcmVuZGVyX21lc3NhZ2VfZWxlbWVudCIsIm1lc3NhZ2UiLCJpY29uQ2xhc3NOYW1lIiwib25Nb3VzZUVudGVyIiwiaGFuZGxlTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsImhhbmRsZU1vdXNlTGVhdmUiLCIkc2V0IiwibWl4aW5zIiwiX2V2ZW50cyIsIl9tYXhMaXN0ZW5lcnMiLCJpc0Z1bmN0aW9uIiwiaXNOdW1iZXIiLCJpc09iamVjdCIsImlzVW5kZWZpbmVkIiwiZGVmYXVsdE1heExpc3RlbmVycyIsInNldE1heExpc3RlbmVycyIsIm4iLCJpc05hTiIsImVyIiwibGVuIiwiYXJncyIsImxpc3RlbmVycyIsIkVycm9yIiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW5lciIsIm5ld0xpc3RlbmVyIiwid2FybmVkIiwidHJhY2UiLCJvbiIsIm9uY2UiLCJnIiwicmVtb3ZlTGlzdGVuZXIiLCJmaXJlZCIsImxpc3QiLCJzcGxpY2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJyZXQiLCJsaXN0ZW5lckNvdW50IiwiZXZsaXN0ZW5lciIsImVtaXR0ZXIiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInJ1biIsImNsZWFyVGltZW91dCIsIkl0ZW0iLCJmdW4iLCJwcm9jZXNzIiwibmV4dFRpY2siLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9mZiIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwiX1RhYmxlSGVhZGVyIiwiX1RhYmxlSGVhZGVyMiIsIl9UYWJsZUJvZHkiLCJfVGFibGVCb2R5MiIsIl9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QiLCJfcGFnaW5hdGlvblBhZ2luYXRpb25MaXN0MiIsIl90b29sYmFyVG9vbEJhciIsIl90b29sYmFyVG9vbEJhcjIiLCJfVGFibGVGaWx0ZXIiLCJfVGFibGVGaWx0ZXIyIiwiX2Nzdl9leHBvcnRfdXRpbCIsIl9jc3ZfZXhwb3J0X3V0aWwyIiwiX0ZpbHRlciIsIl9zY3JvbGxIZWFkZXIiLCJoZWFkZXIiLCJjb250YWluZXIiLCJzY3JvbGxMZWZ0IiwiY3VycmVudFRhcmdldCIsIl9hZGp1c3RIZWFkZXJXaWR0aCIsInRhYmxlSGVhZGVyRG9tIiwiY2hpbGROb2RlcyIsInRhYmxlQm9keURvbSIsImhlYWRlclByb3BzIiwiZ2V0Qm9keUhlYWRlckRvbVByb3AiLCJmaXRIZWFkZXIiLCJfYXR0YWNoQ2VsbEVkaXRGdW5jIiwiY29weSIsInN0b3JlIiwiZ2V0RGF0YSIsImNsZWFyIiwic2V0RGF0YSIsImdldFRhYmxlRGF0YSIsImluaXRUYWJsZSIsInNlbGYiLCJjdXJyZW50RmlsdGVyIiwiaGFuZGxlRmlsdGVyRGF0YSIsInNlbGVjdFJvdyIsInNldFNlbGVjdGVkUm93S2V5IiwiY3VyclBhZ2UiLCJwYWdlIiwiZ2V0U2VsZWN0ZWRSb3dLZXlzIiwiaXNLZXlGaWVsZERlZmluZWQiLCJDaGlsZHJlbiIsImNoaWxkcmVuIiwiY29sdW1uIiwiaXNLZXkiLCJkYXRhRmllbGQiLCJGaWx0ZXIiLCJnZXRDb2x1bW5zRGVzY3JpcHRpb24iLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInNldFByb3BzIiwicGFnaW5hdGlvbiIsImlzUmVtb3RlRGF0YVNvdXJjZSIsInNvcnROYW1lIiwic29ydE9yZGVyIiwiaXNDaGFuZ2VkUGFnZSIsIl9yZWYiLCJhbGlnbiIsImRhdGFBbGlnbiIsImRhdGFTb3J0IiwiZGF0YUZvcm1hdCIsImNvbHVtbkNsYXNzTmFtZSIsInRleHQiLCJpbmRleCIsInBhZ2luYXRpb25Eb20iLCJnZXRDdXJyZW50UGFnZSIsImdldFNpemVQZXJQYWdlIiwiTWF0aCIsImNlaWwiLCJzb3J0SW5mbyIsImdldFNvcnRJbmZvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZnRlclRhYmxlQ29tcGxldGUiLCJjZWxsRWRpdCIsIl9fb25Db21wbGV0ZUVkaXRfXyIsImhhbmRsZUVkaXRDZWxsIiwiYmluZCIsImNsaWNrVG9TZWxlY3QiLCJjaGlsZHJlbnMiLCJtYXhIZWlnaHQiLCJjb2x1bW5zIiwicmVuZGVyUGFnaW5hdGlvbiIsInRvb2xCYXIiLCJyZW5kZXJUb29sQmFyIiwidGFibGVGaWx0ZXIiLCJyZW5kZXJUYWJsZUZpbHRlciIsImlzU2VsZWN0QWxsIiwicm93U2VsZWN0VHlwZSIsImhpZGVTZWxlY3RDb2x1bW4iLCJvblNvcnQiLCJoYW5kbGVTb3J0Iiwib25TZWxlY3RBbGxSb3ciLCJoYW5kbGVTZWxlY3RBbGxSb3ciLCJib3JkZXJlZCIsImNvbmRlbnNlZCIsImlzRmlsdGVyZWQiLCJ0YWJsZUlEIiwidHJDbGFzc05hbWUiLCJzdHJpcGVkIiwiaG92ZXIiLCJnZXRLZXlGaWVsZCIsIm9uUm93Q2xpY2siLCJoYW5kbGVSb3dDbGljayIsIm9uUm93TW91c2VPdmVyIiwiaGFuZGxlUm93TW91c2VPdmVyIiwib25Sb3dNb3VzZU91dCIsImhhbmRsZVJvd01vdXNlT3V0Iiwib25TZWxlY3RSb3ciLCJoYW5kbGVTZWxlY3RSb3ciLCJub0RhdGFUZXh0IiwiZGVmYXVsdFNlbGVjdFJvd0tleXMiLCJhbGxSb3dLZXlzIiwiZ2V0QWxsUm93a2V5Iiwib25Tb3J0Q2hhbmdlIiwib25QYWdlQ2hhbmdlIiwib25TZWxlY3RBbGwiLCJpZ25vcmVOb25TZWxlY3RlZCIsImN1cnJTZWxlY3RlZCIsImNvbEluZGV4IiwiZWRpdCIsImFmdGVyU2F2ZUNlbGwiLCJhZGRBdEJlZ2luIiwiX2hhbmRsZUFmdGVyQWRkaW5nUm93IiwiYmVmb3JlUHJvbWlzZSIsImJlZm9yZUluc2VydFJvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImFkZCIsImpzb24iLCJyb3dLZXlzIiwidGhhdCIsImRyb3BSb3dLZXlzIiwiaGFuZGxlQ29uZmlybURlbGV0ZVJvdyIsImRlbGV0ZVJvdyIsImNvbmZpcm0iLCJyZW1vdmUiLCJjdXJyTGFzdFBhZ2UiLCJnZXREYXRhTnVtIiwiYWZ0ZXJEZWxldGVSb3ciLCJhZnRlckNvbHVtbkZpbHRlciIsImdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24iLCJjc3ZGaWxlTmFtZSIsImFmdGVyU2VhcmNoIiwiZGF0YVNpemUiLCJmZXRjaEluZm8iLCJkYXRhVG90YWxTaXplIiwiY2hhbmdlUGFnZSIsImhhbmRsZVBhZ2luYXRpb25EYXRhIiwic2l6ZVBlclBhZ2VMaXN0IiwicGFnaW5hdGlvblNpemUiLCJvblNpemVQZXJQYWdlTGlzdCIsInByZVBhZ2UiLCJuZXh0UGFnZSIsImZpcnN0UGFnZSIsImxhc3RQYWdlIiwiZW5hYmxlU2hvd09ubHlTZWxlY3RlZCIsImluc2VydFJvdyIsImV4cG9ydENTViIsImZpZWxkIiwiYXV0b1ZhbHVlIiwiaGlkZGVuSW5Qb3B1cCIsImNsZWFyU2VhcmNoIiwiZW5hYmxlSW5zZXJ0IiwiZW5hYmxlRGVsZXRlIiwiZW5hYmxlU2VhcmNoIiwiZW5hYmxlRXhwb3J0Q1NWIiwic2VhcmNoUGxhY2Vob2xkZXIiLCJvbkFkZFJvdyIsImhhbmRsZUFkZFJvdyIsIm9uQWRkUm93QmVnaW4iLCJoYW5kbGVBZGRSb3dCZWdpbiIsIm9uRHJvcFJvdyIsImhhbmRsZURyb3BSb3ciLCJvblNlYXJjaCIsImhhbmRsZVNlYXJjaCIsIm9uRXhwb3J0Q1NWIiwiaGFuZGxlRXhwb3J0Q1NWIiwib25TaG93T25seVNlbGVjdGVkIiwiaGFuZGxlU2hvd09ubHlTZWxlY3RlZCIsImNvbHVtbkZpbHRlciIsIm9uRmlsdGVyIiwiYWZ0ZXJJbnNlcnRSb3ciLCJzaGFwZSIsIm9uZU9mIiwiYmdDb2xvciIsImNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCIsImJsdXJUb1NhdmUiLCJkZWZhdWx0UHJvcHMiLCJmaWx0ZXJUeXBlIiwiaGFzVmFsdWUiLCJwcm9wIiwiU2VsZWN0Um93SGVhZGVyQ29sdW1uIiwidGhTdHlsZSIsInBhcnNlSW50IiwiX3V0aWwiLCJfdXRpbDIiLCJfVGFibGVSb3ciLCJfVGFibGVSb3cyIiwiX1RhYmxlQ29sdW1uIiwiX1RhYmxlQ29sdW1uMiIsIl9UYWJsZUVkaXRDb2x1bW4iLCJfVGFibGVFZGl0Q29sdW1uMiIsImlzRnVuIiwiVGFibGVCb2R5IiwiY3VyckVkaXRDZWxsIiwiZWRpdGluZyIsImFkanVzdEJvZHkiLCJjb250YWluZXJDbGFzc2VzIiwidGFibGVDbGFzc2VzIiwidGFibGUtc3RyaXBlZCIsInRhYmxlLWJvcmRlcmVkIiwidGFibGUtaG92ZXIiLCJ0YWJsZS1jb25kZW5zZWQiLCJpc1NlbGVjdFJvd0RlZmluZWQiLCJfaXNTZWxlY3RSb3dEZWZpbmVkIiwidGFibGVIZWFkZXIiLCJyZW5kZXJUYWJsZUhlYWRlciIsInRhYmxlUm93cyIsInIiLCJ0YWJsZUNvbHVtbnMiLCJmaWVsZFZhbHVlIiwicmlkIiwiY2lkIiwiY29tcGxldGVFZGl0IiwiaGFuZGxlQ29tcGxldGVFZGl0Q2VsbCIsInRkQ2xhc3NOYW1lIiwiZm9ybWF0dGVkVmFsdWUiLCJpc1ZhbGlkRWxlbWVudCIsIm9uRWRpdCIsInNlbGVjdFJvd0NvbHVtbiIsInJlbmRlclNlbGVjdFJvd0NvbHVtbiIsImVuYWJsZUNlbGxFZGl0IiwiY29sU3BhbiIsImNhbGN1bGF0ZUNvbnRhaW5lckhlaWdodCIsInNlbGVjdFJvd0hlYWRlciIsInRoZWFkZXIiLCJtYXhXaWR0aCIsInNvcnRDYWVydCIsInRhcmdldFJvdyIsInNlbGVjdGVkUm93IiwicGFyZW50RWxlbWVudCIsImNvbHVtbkluZGV4Iiwic3RhdGVPYmoiLCJoYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZSIsImhlYWRlcnMiLCJoZWFkZXJEb21Qcm9wcyIsImhhcmRGaXhIZWFkZXJXaWR0aCIsIm1hcmdpblRvcCIsIlRhYmxlQ29sdW1uIiwic2hvdWxkVXBkYXRlZCIsInNlbGVjdGlvbiIsImVtcHR5IiwiZ2V0U2VsZWN0aW9uIiwic2VsIiwicmVtb3ZlQWxsUmFuZ2VzIiwiY2VsbEluZGV4IiwidGRTdHlsZSIsInRleHRBbGlnbiIsImNsYXNzbmFtZSIsIm9wdHMiLCJoYW5kbGVDZWxsRWRpdCIsIm9uRG91YmxlQ2xpY2siLCJfRWRpdG9yIiwiX0VkaXRvcjIiLCJfTm90aWZpY2F0aW9uSnMiLCJfTm90aWZpY2F0aW9uSnMyIiwiVGFibGVFZGl0Q29sdW1uIiwidGltZW91dGVDbGVhciIsInNoYWtlRWRpdG9yIiwiX2dldENoZWNrQm94VmFsdWUiLCJ2YWxpZGF0b3IiLCJ0cyIsIm5vdGlmaWVyIiwibm90aWNlIiwiaW5wdXRSZWYiLCJfY2xlYXJUaW1lb3V0IiwiaGFuZGxlS2V5UHJlc3MiLCJoYW5kbGVCbHVyIiwiYW5pbWF0ZWQiLCJzaGFrZSIsIlRhYmxlRmlsdGVyIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJmaWx0ZXJGaWVsZCIsInNpemUiLCJvbktleVVwIiwiaGFuZGxlS2V5VXAiLCJib3JkZXJCb3R0b21TdHlsZSIsIl9TZWxlY3RSb3dIZWFkZXJDb2x1bW4iLCJfU2VsZWN0Um93SGVhZGVyQ29sdW1uMiIsIkNoZWNrYm94IiwidXBkYXRlIiwiaW5kZXRlcm1pbmF0ZSIsIlRhYmxlSGVhZGVyIiwiX1JlYWN0JENvbXBvbmVudDIiLCJzZWxlY3RSb3dDb2x1bW5XaWR0aCIsInNlbGVjdFJvd0hlYWRlckNvbCIsInJlbmRlclNlbGVjdFJvd0hlYWRlciIsIl9hdHRhY2hDbGVhclNvcnRDYXJldEZ1bmMiLCJjbG9uZUVsZW1lbnQiLCJpc1ZlcnRpY2FsU2Nyb2xsQmFyIiwic3RhcnRQb3NpdGlvbiIsImZvcmNlVXBkYXRlIiwibWFyZ2luUmlnaHQiLCJfZmlsdGVyc0RhdGUiLCJfZmlsdGVyc0RhdGUyIiwiX2ZpbHRlcnNUZXh0IiwiX2ZpbHRlcnNUZXh0MiIsIl9maWx0ZXJzU2VsZWN0IiwiX2ZpbHRlcnNTZWxlY3QyIiwiX2ZpbHRlcnNOdW1iZXIiLCJfZmlsdGVyc051bWJlcjIiLCJoYW5kbGVGaWx0ZXIiLCJjb2x1bW5OYW1lIiwiZmlsdGVySGFuZGxlciIsImdldEVsZW1lbnQiLCJjdXN0b21GaWx0ZXJQYXJhbWV0ZXJzIiwiaW5uZXJEaXYiLCJzZXRBdHRyaWJ1dGUiLCJkZWZhdWx0Q2FyZXQiLCJjb2xvciIsInNvcnRDYXJldCIsImhhbmRsZUNvbHVtbkNsaWNrIiwiZ2V0RmlsdGVycyIsImZpbHRlclR5cGVBcnJheSIsImRlbGF5IiwiYXJyYXlPZiIsIm51bWJlckNvbXBhcmF0b3JzIiwiVGFibGVSb3ciLCJjbGlja051bSIsInRhZ05hbWUiLCJ0ckNzcyIsImJhY2tncm91bmRDb2xvciIsIm9uTW91c2VPdmVyIiwicm93TW91c2VPdmVyIiwib25Nb3VzZU91dCIsInJvd01vdXNlT3V0Iiwicm93Q2xpY2siLCJkYXRhU3RyaW5nIiwiY29sIiwiY2VsbCIsImZpbGVzYXZlciIsInNhdmVBcyIsImZpbGVuYW1lIiwiQmxvYiIsInZpZXciLCJuYXZpZ2F0b3IiLCJ0ZXN0IiwidXNlckFnZW50IiwiZG9jIiwiZ2V0X1VSTCIsIlVSTCIsIndlYmtpdFVSTCIsInNhdmVfbGluayIsImNyZWF0ZUVsZW1lbnROUyIsImNhbl91c2Vfc2F2ZV9saW5rIiwiY2xpY2siLCJNb3VzZUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImlzX3NhZmFyaSIsIndlYmtpdF9yZXFfZnMiLCJ3ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbSIsInJlcV9mcyIsInJlcXVlc3RGaWxlU3lzdGVtIiwibW96UmVxdWVzdEZpbGVTeXN0ZW0iLCJ0aHJvd19vdXRzaWRlIiwiZXgiLCJzZXRJbW1lZGlhdGUiLCJmb3JjZV9zYXZlYWJsZV90eXBlIiwiZnNfbWluX3NpemUiLCJhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQiLCJyZXZva2UiLCJmaWxlIiwicmV2b2tlciIsInJldm9rZU9iamVjdFVSTCIsImNocm9tZSIsImRpc3BhdGNoIiwiZXZlbnRfdHlwZXMiLCJhdXRvX2JvbSIsImJsb2IiLCJGaWxlU2F2ZXIiLCJub19hdXRvX2JvbSIsIm9iamVjdF91cmwiLCJ0YXJnZXRfdmlldyIsImJsb2JfY2hhbmdlZCIsImRpc3BhdGNoX2FsbCIsImZzX2Vycm9yIiwiRmlsZVJlYWRlciIsInJlYWRlciIsIm9ubG9hZGVuZCIsImJhc2U2NERhdGEiLCJsb2NhdGlvbiIsImhyZWYiLCJyZWFkeVN0YXRlIiwiRE9ORSIsInJlYWRBc0RhdGFVUkwiLCJJTklUIiwiY3JlYXRlT2JqZWN0VVJMIiwibmV3X3RhYiIsIm9wZW4iLCJhYm9ydGFibGUiLCJjcmVhdGVfaWZfbm90X2ZvdW5kIiwiZXhjbHVzaXZlIiwiZG93bmxvYWQiLCJ3ZWJraXRTbGljZSIsIlRFTVBPUkFSWSIsImZzIiwiZ2V0RGlyZWN0b3J5Iiwic2F2ZSIsImdldEZpbGUiLCJjcmVhdGVXcml0ZXIiLCJ3cml0ZXIiLCJvbndyaXRlZW5kIiwidG9VUkwiLCJvbmVycm9yIiwiY29kZSIsIkFCT1JUX0VSUiIsIndyaXRlIiwiYWJvcnQiLCJXUklUSU5HIiwiTk9UX0ZPVU5EX0VSUiIsIkZTX3Byb3RvIiwibXNTYXZlT3JPcGVuQmxvYiIsIm9ud3JpdGVzdGFydCIsIm9ucHJvZ3Jlc3MiLCJvbndyaXRlIiwib25hYm9ydCIsImNvbnRlbnQiLCJEYXRlRmlsdGVyIiwiZGVmYXVsdERhdGUiLCJEYXRlIiwiZGF0ZVZhbHVlIiwiaW5wdXREYXRlIiwic2V0RGVmYXVsdERhdGUiLCJpc1JlcXVpcmVkIiwibGVnYWxDb21wYXJhdG9ycyIsIk51bWJlckZpbHRlciIsImlzUGxhY2Vob2xkZXJTZWxlY3RlZCIsIm9uQ2hhbmdlTnVtYmVyIiwib25DaGFuZ2VOdW1iZXJTZXQiLCJvbkNoYW5nZUNvbXBhcmF0b3IiLCJudW1iZXJGaWx0ZXJDb21wYXJhdG9yIiwibnVtYmVyRmlsdGVyIiwib3B0aW9uVGFncyIsInNlbGVjdENsYXNzIiwicGxhY2Vob2xkZXItc2VsZWN0ZWQiLCJnZXRDb21wYXJhdG9yT3B0aW9ucyIsImdldE51bWJlck9wdGlvbnMiLCJwcm9wTmFtZSIsImNvbXBhcmF0b3JJc1ZhbGlkIiwiU2VsZWN0RmlsdGVyIiwic2VsZWN0SW5wdXQiLCJnZXRPcHRpb25zIiwiVGV4dEZpbHRlciIsImlucHV0VGV4dCIsIlBhZ2VCdXR0b24iLCJhY3RpdmUiLCJkaXNhYmxlIiwicGFnZUJ0bkNsaWNrIiwiX1BhZ2VCdXR0b25KcyIsIl9QYWdlQnV0dG9uSnMyIiwiUGFnaW5hdGlvbkxpc3QiLCJ0b3RhbFBhZ2VzIiwic2VsZWN0U2l6ZSIsInBhZ2VCdG5zIiwibWFrZVBhZ2UiLCJwYWdlTGlzdFN0eWxlIiwiZmxvYXQiLCJjaGFuZ2VTaXplUGVyUGFnZSIsImRhdGEtdG9nZ2xlIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtbGFiZWxsZWRieSIsInBhZ2VzIiwiZ2V0UGFnZXMiLCJpc0FjdGl2ZSIsInN0YXJ0UGFnZSIsImVuZFBhZ2UiLCJtYXgiLCJmbG9vciIsIlRvb2xCYXIiLCJoYW5kbGVTaG93T25seVRvZ2dsZSIsInNob3dTZWxlY3RlZCIsImhhbmRsZUNsZWFyQnRuQ2xpY2siLCJzZWFjaElucHV0IiwiaXNJbnNlcnRSb3dUcmlnZ2VyIiwidmFsaWRhdGVTdGF0ZSIsInRlbXBWYWx1ZSIsInRlbXBNc2ciLCJpc1ZhbGlkIiwiZ2V0VGltZSIsImRvbSIsImNoZWNrQW5kUGFyc2VGb3JtIiwiZXJyb3JzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm0iLCJyZXNldCIsIm1vZGFsQ2xhc3NOYW1lIiwiaW5zZXJ0QnRuIiwiZGF0YS10YXJnZXQiLCJkZWxldGVCdG4iLCJkYXRhLXBsYWNlbWVudCIsImhhbmRsZURyb3BSb3dCdG5DbGljayIsInNlYXJjaFRleHRJbnB1dCIsInJlbmRlclNlYXJjaFBhbmVsIiwic2hvd1NlbGVjdGVkT25seUJ0biIsImFyaWEtcHJlc3NlZCIsIm1vZGFsIiwicmVuZGVySW5zZXJ0Um93TW9kYWwiLCJjbGVhckJ0biIsImlucHV0RmllbGQiLCJtb2RhbENsYXNzIiwiaW4iLCJkaWFsb2dDbGFzcyIsImRhdGEtZGlzbWlzcyIsImhhbmRsZVNhdmVCdG5DbGljayIsIml0ZW0iLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIl9kZWZpbmVQcm9wZXJ0eSIsIlJlYWN0IiwiU3dpdGNoIiwicHJlZml4Q2xzIiwiY2hlY2tlZENoaWxkcmVuIiwidW5DaGVja2VkQ2hpbGRyZW4iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwidG9nZ2xlIiwiX2NsYXNzTmFtZXMiLCJzd2l0Y2hDbGFzc05hbWUiLCJpbml0Q2FjaGUiLCJjYWNoZSIsInVwZGF0ZUNhY2hlIiwiZ2V0RnJvbUNhY2hlIiwiY2FjaGVLZXkiLCJjb21wbGV0ZSIsInRoZW5Qcm9taXNlIiwicHJvbWlzZSIsImVyciIsIl9TZWxlY3QiLCJfU2VsZWN0MiIsInJlcXVlc3RJZCIsImxvYWRPcHRpb25zIiwibG9hZGluZ1BsYWNlaG9sZGVyIiwibWluaW11bUlucHV0Iiwic2VhcmNoUHJvbXB0VGV4dCIsInNlYXJjaGluZ1RleHQiLCJjb21wb25lbnRXaWxsTW91bnQiLCJfbGFzdElucHV0Iiwic2VsZWN0IiwicmVzZXRTdGF0ZSIsIl9jdXJyZW50UmVxdWVzdElkIiwiZ2V0UmVzcG9uc2VIYW5kbGVyIiwiX3JlcXVlc3RJZCIsImlzTW91bnRlZCIsImNhY2hlUmVzdWx0IiwicmVzcG9uc2VIYW5kbGVyIiwiX3N0YXRlIiwib25VbmZvY3VzIiwiYmxvY2tFdmVudCIsImhhbmRsZU1vdXNlTW92ZSIsIm9uTW91c2VNb3ZlIiwiVmFsdWUiLCJoYW5kbGVUb3VjaEVuZFJlbW92ZSIsInJlbmRlclJlbW92ZUljb24iLCJzaXplclN0eWxlIiwid2hpdGVTcGFjZSIsIm5leHRGcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkF1dG9zaXplSW5wdXQiLCJpbnB1dFN0eWxlIiwiaW5wdXRDbGFzc05hbWUiLCJpbnB1dFdpZHRoIiwiY29weUlucHV0U3R5bGVzIiwidXBkYXRlSW5wdXRXaWR0aCIsInF1ZXVlVXBkYXRlSW5wdXRXaWR0aCIsImdldENvbXB1dGVkU3R5bGUiLCJ3aWR0aE5vZGUiLCJzaXplciIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJmb250U3R5bGUiLCJsZXR0ZXJTcGFjaW5nIiwicGxhY2Vob2xkZXJOb2RlIiwicGxhY2Vob2xkZXJTaXplciIsInNjcm9sbFdpZHRoIiwibmV3SW5wdXRXaWR0aCIsImdldElucHV0IiwiZXNjYXBlZFZhbHVlIiwiYm94U2l6aW5nIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9Ub2FzdE1lc3NhZ2UiLCJfVG9hc3RNZXNzYWdlMiIsIl9Db21wb25lbnQiLCJfT2JqZWN0JGdldFByb3RvdHlwZU8iLCJfdGVtcCIsIl9sZW4iLCJfa2V5IiwidG9hc3RzIiwicHJldmlvdXNNZXNzYWdlIiwib3B0aW9uc092ZXJyaWRlIiwiX25vdGlmeSIsInRvYXN0VHlwZSIsInByZXZlbnREdXBsaWNhdGVzIiwibmV3VG9hc3QiLCIkbWVyZ2UiLCJfaGFuZGxlX3RvYXN0X29uX2NsaWNrIiwiX2hhbmRsZV90b2FzdF9yZW1vdmUiLCJ0b2FzdE9wZXJhdGlvbiIsIm5ld2VzdE9uVG9wIiwiZGVmYXVsdFByZXZlbnRlZCIsIm9wZXJhdGlvbk5hbWUiLCJmb3VuZCIsInRvYXN0IiwiJHNwbGljZSIsImFyaWEtbGl2ZSIsIl9SZWFjdFRyYW5zaXRpb25FdmVudHMiLCJfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMiIsIl9lbGVtZW50Q2xhc3MiLCJfZWxlbWVudENsYXNzMiIsIlRJQ0siLCJ0cmFuc2l0aW9uIiwiY2xhc3NOYW1lUXVldWUiLCJpc0hpZGluZyIsImludGVydmFsSWQiLCJfaXNfbW91bnRlZCIsIl9zaG93Iiwib25IaWRlQ29tcGxldGUiLCJfc2V0X2lzX2hpZGluZyIsInJlbW92ZUVuZEV2ZW50TGlzdGVuZXIiLCJhZGRFbmRFdmVudExpc3RlbmVyIiwiX3NldF9pbnRlcnZhbF9pZCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiX3NldF90cmFuc2l0aW9uIiwiaGlkZSIsImFuaW1hdGlvblR5cGUiLCJhY3RpdmVDbGFzc05hbWUiLCJlbmRMaXN0ZW5lciIsImNsYXNzTGlzdCIsIl9xdWV1ZV9jbGFzcyIsIl9jbGVhcl90cmFuc2l0aW9uIiwiX3NldF9hbmltYXRpb24iLCJhbmltYXRpb25zIiwiX2dldF9hbmltYXRpb25fY2xhc3NlcyIsImFuaW0iLCJfY2xlYXJfYW5pbWF0aW9uIiwiX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUiLCJvdmVycmlkZSIsImNhbGxfc2hvd19tZXRob2QiLCIkbm9kZSIsInNob3dNZXRob2QiLCJkdXJhdGlvbiIsInNob3dEdXJhdGlvbiIsImVhc2luZyIsInNob3dFYXNpbmciLCJoaWRlTWV0aG9kIiwiaGlkZUR1cmF0aW9uIiwiaGlkZUVhc2luZyIsIl9nZXRfJF9ub2RlIiwic3RvcCIsIl9Ub2FzdENvbnRhaW5lciIsIl9Ub2FzdENvbnRhaW5lcjIiLCJFbGVtZW50Q2xhc3MiLCJub2RlVHlwZSIsImVsIiwicXVlcnlTZWxlY3RvciIsImlkeCIsImhhcyIsInNvdXJjZXMiLCJ0byIsIm5leHRJbmRleCIsIm5leHRTb3VyY2UiLCJmcm9tIiwiZGV0ZWN0RXZlbnRzIiwidGVzdEVsIiwiRVZFTlRfTkFNRV9NQVAiLCJhbmltYXRpb25lbmQiLCJ0cmFuc2l0aW9uZW5kIiwiYmFzZUV2ZW50TmFtZSIsImJhc2VFdmVudHMiLCJzdHlsZU5hbWUiLCJlbmRFdmVudHMiLCJldmVudE5hbWUiLCJldmVudExpc3RlbmVyIiwiRXhlY3V0aW9uRW52aXJvbm1lbnQiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwibXNUcmFuc2l0aW9uIiwiV2Via2l0QW5pbWF0aW9uIiwiTW96QW5pbWF0aW9uIiwiT0FuaW1hdGlvbiIsIm1zQW5pbWF0aW9uIiwiY2FuVXNlRE9NIiwiUmVhY3RUcmFuc2l0aW9uRXZlbnRzIiwiZW5kRXZlbnQiLCJzaGFsbG93Q29weSIsImludmFyaWFudEFycmF5Q2FzZSIsInNwZWMiLCJjb21tYW5kIiwiTk9ERV9FTlYiLCJpbnZhcmlhbnQiLCJzcGVjVmFsdWUiLCJBTExfQ09NTUFORFNfTElTVCIsIkNPTU1BTkRfU0VUIiwibmV4dFZhbHVlIiwiQ09NTUFORF9NRVJHRSIsIm1lcmdlT2JqIiwiQ09NTUFORF9QVVNIIiwiQ09NTUFORF9VTlNISUZUIiwiQ09NTUFORF9TUExJQ0UiLCJDT01NQU5EX0FQUExZIiwiayIsIkFMTF9DT01NQU5EU19TRVQiLCJrZXlPZiIsIiRwdXNoIiwiJHVuc2hpZnQiLCIkYXBwbHkiLCJjYW5Vc2VXb3JrZXJzIiwiV29ya2VyIiwiY2FuVXNlRXZlbnRMaXN0ZW5lcnMiLCJhdHRhY2hFdmVudCIsImNhblVzZVZpZXdwb3J0Iiwic2NyZWVuIiwiaXNJbldvcmtlciIsImNvbmRpdGlvbiIsImYiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwib25lS2V5T2JqIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJ0b2EiLCJ1cGRhdGVMaW5rIiwiYXBwbHlUb1RhZyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwicmVwbGFjZVRleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9sZFNyYyIsIm1lbW9pemUiLCJmbiIsIm1lbW8iLCJpc09sZElFIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJCb29sZWFuIiwibG9jYWxzIiwiX193ZWJwYWNrX2FtZF9vcHRpb25zX18iXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVBQUEsZ0JBQUFDLFFBQ0FBLE9BQUFELFFBQUFELEVBQUFHLFFBQUEsU0FBQUEsUUFBQSxjQUNBLGtCQUFBQyxnQkFBQUMsSUFDQUQsUUFBQSxxQkFBQUosR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxvQkFBQUQsRUFBQUcsUUFBQSxTQUFBQSxRQUFBLGNBRUFKLEVBQUEsb0JBQUFDLEVBQUFELEVBQUEsTUFBQUEsRUFBQSxXQUNDTyxLQUFBLFNBQUFDLEVBQUFDLEdBQ0QsTUNBZ0IsVUFBVUMsR0NOMUIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFWLE9BR0EsSUFBQUMsR0FBQVUsRUFBQUQsSUFDQVYsV0FDQVksR0FBQUYsRUFDQUcsUUFBQSxFQVVBLE9BTkFMLEdBQUFFLEdBQUFJLEtBQUFiLEVBQUFELFFBQUFDLElBQUFELFFBQUFTLEdBR0FSLEVBQUFZLFFBQUEsRUFHQVosRUFBQUQsUUF2QkEsR0FBQVcsS0FxQ0EsT0FUQUYsR0FBQU0sRUFBQVAsRUFHQUMsRUFBQU8sRUFBQUwsRUFHQUYsRUFBQVEsRUFBQSxHQUdBUixFQUFBLEtEZ0JNLFNBQVNSLEVBQVFELEVBQVNTLEdBRS9CLFlBTUEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FKekZHLE9BQU9DLGVBQWV2QixFQUFTLGNBQzdCd0IsT0FBTyxHQUtULElBQUlDLEdBQWtCaEIsRUVoRUksSUZrRXRCaUIsRUFBbUJSLEVBQXVCTyxHQUUxQ0UsRUFBcUJsQixFRW5FSSxJRnFFekJtQixFQUFzQlYsRUFBdUJTLEdBRTdDRSxFQUF1QnBCLEVFdEVELEVBRU4sb0JBQVhxQixVQUNSQSxPQUFPQyxl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QTh2QyxHQUFBZ0QsRUFBQTl5QyxFQUNBLFFBQUE4dkMsRUFBQTFuQyxLQUFBLENBQ0EsT0FBQTJGLEdBQUEsRUFBa0JBLEVBQUEraEMsRUFBQUUsTUFBQTl2QyxPQUEyQjZOLElBQzdDK2hDLEVBQUFFLE1BQUFqaUMsV0FDQWdpQyxHQUFBRCxFQUFBbHpDLE9BaUlBLElBQUFzMUMsR0FBQSxXQUNBLEdBQUFhLEtBRUEsaUJBQUFsdEIsRUFBQW10QixHQUVBLE1BREFELEdBQUFsdEIsR0FBQW10QixFQUNBRCxFQUFBcm9DLE9BQUF1b0MsU0FBQXR5QyxLQUFBLFd2RHM5UE0sU0FBUzFFLEVBQVFELEVBQVNTLEd3RGhwUWhDLEdBQUFrZ0MsR0FBQWxnQyxFQUFBLEdBQ0EsaUJBQUFrZ0MsU0FBQTFnQyxFQUFBVyxHQUFBKy9CLEVBQUEsS0FFQWxnQyxHQUFBLElBQUFrZ0MsS0FDQUEsR0FBQXVXLFNBQUFqM0MsRUFBQUQsUUFBQTJnQyxFQUFBdVcsU3hEc3FRTSxTQUFTajNDLEVBQVFELEd5RDdxUXZCQyxFQUFBRCxRQUFBLFdBQTZCLFNBQUFrakIsT0FBQSxvQ3pEb3JRdkIsU0FBU2pqQixFQUFRRCxJMERwclF2QixTQUFBbTNDLEdBQUFsM0MsRUFBQUQsUUFBQW0zQyxJMUR3clE4QnIyQyxLQUFLZCIsImZpbGUiOiJyZWFjdC1ib290c3RyYXAtdGFibGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiLCBcInJlYWN0LWRvbVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJSZWFjdEJvb3RzdHJhcFRhYmxlXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlYWN0Qm9vdHN0cmFwVGFibGVcIl0gPSBmYWN0b3J5KHJvb3RbXCJSZWFjdFwiXSwgcm9vdFtcIlJlYWN0RE9NXCJdKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXykge1xucmV0dXJuIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvblxuICoqLyIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCIsIFwicmVhY3QtZG9tXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlYWN0Qm9vdHN0cmFwVGFibGVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiUmVhY3RCb290c3RyYXBUYWJsZVwiXSA9IGZhY3Rvcnkocm9vdFtcIlJlYWN0XCJdLCByb290W1wiUmVhY3RET01cIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX0Jvb3RzdHJhcFRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX0Jvb3RzdHJhcFRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jvb3RzdHJhcFRhYmxlKTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXJDb2x1bW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXJDb2x1bW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVIZWFkZXJDb2x1bW4pO1xuXHRcblx0dmFyIF9zdG9yZVRhYmxlRGF0YVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuXHQgIHdpbmRvdy5Cb290c3RyYXBUYWJsZSA9IF9Cb290c3RyYXBUYWJsZTJbJ2RlZmF1bHQnXTtcblx0ICB3aW5kb3cuVGFibGVIZWFkZXJDb2x1bW4gPSBfVGFibGVIZWFkZXJDb2x1bW4yWydkZWZhdWx0J107XG5cdCAgd2luZG93LlRhYmxlRGF0YVNldCA9IF9zdG9yZVRhYmxlRGF0YVN0b3JlLlRhYmxlRGF0YVNldDtcblx0fVxuXHRleHBvcnRzWydkZWZhdWx0J10gPSB7XG5cdCAgQm9vdHN0cmFwVGFibGU6IF9Cb290c3RyYXBUYWJsZTJbJ2RlZmF1bHQnXSxcblx0ICBUYWJsZUhlYWRlckNvbHVtbjogX1RhYmxlSGVhZGVyQ29sdW1uMlsnZGVmYXVsdCddLFxuXHQgIFRhYmxlRGF0YVNldDogX3N0b3JlVGFibGVEYXRhU3RvcmUuVGFibGVEYXRhU2V0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXztcblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuXHQgIFNPUlRfREVTQzogXCJkZXNjXCIsXG5cdCAgU09SVF9BU0M6IFwiYXNjXCIsXG5cdCAgU0laRV9QRVJfUEFHRTogMTAsXG5cdCAgTkVYVF9QQUdFOiBcIj5cIixcblx0ICBMQVNUX1BBR0U6IFwiPj5cIixcblx0ICBQUkVfUEFHRTogXCI8XCIsXG5cdCAgRklSU1RfUEFHRTogXCI8PFwiLFxuXHQgIFJPV19TRUxFQ1RfQkdfQ09MT1I6IFwiXCIsXG5cdCAgUk9XX1NFTEVDVF9OT05FOiBcIm5vbmVcIixcblx0ICBST1dfU0VMRUNUX1NJTkdMRTogXCJyYWRpb1wiLFxuXHQgIFJPV19TRUxFQ1RfTVVMVEk6IFwiY2hlY2tib3hcIixcblx0ICBDRUxMX0VESVRfTk9ORTogXCJub25lXCIsXG5cdCAgQ0VMTF9FRElUX0NMSUNLOiBcImNsaWNrXCIsXG5cdCAgQ0VMTF9FRElUX0RCQ0xJQ0s6IFwiZGJjbGlja1wiLFxuXHQgIFNJWkVfUEVSX1BBR0VfTElTVDogWzEwLCAyNSwgMzAsIDUwXSxcblx0ICBQQUdJTkFUSU9OX1NJWkU6IDUsXG5cdCAgTk9fREFUQV9URVhUOiBcIlRoZXJlIGlzIG5vIGRhdGEgdG8gZGlzcGxheVwiLFxuXHQgIFNIT1dfT05MWV9TRUxFQ1Q6IFwiU2hvdyBTZWxlY3RlZCBPbmx5XCIsXG5cdCAgU0hPV19BTEw6IFwiU2hvdyBBbGxcIixcblx0ICBGSUxURVJfREVMQVk6IDUwMCxcblx0ICBGSUxURVJfVFlQRToge1xuXHQgICAgVEVYVDogXCJUZXh0RmlsdGVyXCIsXG5cdCAgICBTRUxFQ1Q6IFwiU2VsZWN0RmlsdGVyXCIsXG5cdCAgICBOVU1CRVI6IFwiTnVtYmVyRmlsdGVyXCIsXG5cdCAgICBEQVRFOiBcIkRhdGVGaWx0ZXJcIixcblx0ICAgIENVU1RPTTogXCJDdXN0b21GaWx0ZXJcIlxuXHQgIH1cblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiFcblx0ICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cblx0ICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuXHQgIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcblx0Ki9cblx0LyogZ2xvYmFsIGRlZmluZSAqL1xuXHRcblx0KGZ1bmN0aW9uICgpIHtcblx0XHQndXNlIHN0cmljdCc7XG5cdFxuXHRcdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdFx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXHRcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblx0XG5cdFx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblx0XG5cdFx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdFx0fVxuXHRcblx0XHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0XHR9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0XHR9XG5cdH0oKSk7XG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X187XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSB7XG5cdFxuXHQgIHJlbmRlclNvcnRDYXJldDogZnVuY3Rpb24gcmVuZGVyU29ydENhcmV0KG9yZGVyKSB7XG5cdCAgICB2YXIgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXHQgICAgd3JhcC5jbGFzc05hbWUgPSBcIm9yZGVyXCI7XG5cdCAgICBpZiAob3JkZXIgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlNPUlRfQVNDKSB3cmFwLmNsYXNzTmFtZSArPSBcIiBkcm9wdXBcIjtcblx0ICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXHQgICAgaW5uZXIuY2xhc3NOYW1lID0gXCJjYXJldFwiO1xuXHQgICAgaW5uZXIuc3R5bGUubWFyZ2luID0gXCIxMHB4IDVweFwiO1xuXHQgICAgd3JhcC5hcHBlbmRDaGlsZChpbm5lcik7XG5cdCAgICByZXR1cm4gd3JhcDtcblx0ICB9LFxuXHRcblx0ICByZW5kZXJSZWFjdFNvcnRDYXJldDogZnVuY3Rpb24gcmVuZGVyUmVhY3RTb3J0Q2FyZXQob3JkZXIpIHtcblx0ICAgIHZhciBvcmRlckNsYXNzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcIm9yZGVyXCIsIHtcblx0ICAgICAgJ2Ryb3B1cCc6IG9yZGVyID09IF9Db25zdDJbJ2RlZmF1bHQnXS5TT1JUX0FTQ1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdzcGFuJyxcblx0ICAgICAgeyBjbGFzc05hbWU6IG9yZGVyQ2xhc3MgfSxcblx0ICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2NhcmV0Jywgc3R5bGU6IHsgbWFyZ2luOiAnMTBweCA1cHgnIH0gfSlcblx0ICAgICk7XG5cdCAgfSxcblx0XG5cdCAgZ2V0U2Nyb2xsQmFyV2lkdGg6IGZ1bmN0aW9uIGdldFNjcm9sbEJhcldpZHRoKCkge1xuXHQgICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXHQgICAgaW5uZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcblx0ICAgIGlubmVyLnN0eWxlLmhlaWdodCA9IFwiMjAwcHhcIjtcblx0XG5cdCAgICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgIG91dGVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHQgICAgb3V0ZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcblx0ICAgIG91dGVyLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuXHQgICAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG5cdCAgICBvdXRlci5zdHlsZS53aWR0aCA9IFwiMjAwcHhcIjtcblx0ICAgIG91dGVyLnN0eWxlLmhlaWdodCA9IFwiMTUwcHhcIjtcblx0ICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0ICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcblx0XG5cdCAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcblx0ICAgIHZhciB3MSA9IGlubmVyLm9mZnNldFdpZHRoO1xuXHQgICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcblx0ICAgIHZhciB3MiA9IGlubmVyLm9mZnNldFdpZHRoO1xuXHQgICAgaWYgKHcxID09IHcyKSB3MiA9IG91dGVyLmNsaWVudFdpZHRoO1xuXHRcblx0ICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3V0ZXIpO1xuXHRcblx0ICAgIHJldHVybiB3MSAtIHcyO1xuXHQgIH1cblx0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNTd2l0Y2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yY1N3aXRjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1N3aXRjaCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblx0XG5cdHZhciBfcmVhY3RTZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBfcmVhY3RTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RTZWxlY3QpO1xuXHRcblx0dmFyIEVkaXRvciA9IGZ1bmN0aW9uIEVkaXRvcihlZGl0YWJsZSwgYXR0ciwgZm9ybWF0LCBlZGl0b3JDbGFzcywgZGVmYXVsdFZhbHVlKSB7XG5cdFxuXHQgICAgaWYgKGVkaXRhYmxlID09PSB0cnVlIHx8IHR5cGVvZiBlZGl0YWJsZSA9PT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIC8vc2ltcGxlIGRlY2xhcmVcblx0ICAgICAgICB2YXIgdHlwZSA9IGVkaXRhYmxlID09PSB0cnVlID8gJ3RleHQnIDogZWRpdGFibGU7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIF9leHRlbmRzKHt9LCBhdHRyLCB7IHR5cGU6IHR5cGUsIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6IChlZGl0b3JDbGFzcyB8fCBcIlwiKSArIFwiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC10ZXh0XCIgfSkpO1xuXHQgICAgfSBlbHNlIGlmICghZWRpdGFibGUpIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IGVkaXRhYmxlID09PSB0cnVlID8gJ3RleHQnIDogZWRpdGFibGU7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIF9leHRlbmRzKHt9LCBhdHRyLCB7IHR5cGU6IHR5cGUsIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLCBkaXNhYmxlZDogJ2Rpc2FibGVkJyxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiAoZWRpdG9yQ2xhc3MgfHwgXCJcIikgKyBcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwiIH0pKTtcblx0ICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSkge1xuXHQgICAgICAgIC8vc3RhbmRhcmQgZGVjbGFyZVxuXHQgICAgICAgIC8vcHV0IHN0eWxlIGlmIGV4aXN0XG5cdCAgICAgICAgZWRpdGFibGUuc3R5bGUgJiYgKGF0dHIuc3R5bGUgPSBlZGl0YWJsZS5zdHlsZSk7XG5cdFxuXHQgICAgICAgIC8vcHV0IGNsYXNzIGlmIGV4aXN0XG5cdCAgICAgICAgYXR0ci5jbGFzc05hbWUgPSAoZWRpdG9yQ2xhc3MgfHwgXCJcIikgKyBcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtXCIgKyBlZGl0YWJsZS50eXBlICsgKGVkaXRhYmxlLmNsYXNzTmFtZSA/IFwiIFwiICsgZWRpdGFibGUuY2xhc3NOYW1lIDogXCJcIik7XG5cdFxuXHQgICAgICAgIGlmIChlZGl0YWJsZS50eXBlID09PSAnc2VsZWN0Jykge1xuXHQgICAgICAgICAgICAvL3Byb2Nlc3Mgc2VsZWN0IGlucHV0XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25zID0gW10sXG5cdCAgICAgICAgICAgICAgICB2YWx1ZXMgPSBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcztcblx0ICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuXHQgICAgICAgICAgICAgICAgLy9vbmx5IGNhbiB1c2UgYXJycmF5IGRhdGEgZm9yIG9wdGlvbnNcblx0ICAgICAgICAgICAgICAgIHZhciByb3dWYWx1ZTtcblx0ICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcm93VmFsdWUgPSBmb3JtYXQgPyBmb3JtYXQoZCkgOiBkO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ29wdGlvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnb3B0aW9uJyArIGksIHZhbHVlOiBkIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJvd1ZhbHVlXG5cdCAgICAgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzZWxlY3QnLFxuXHQgICAgICAgICAgICAgICAgX2V4dGVuZHMoe30sIGF0dHIsIHsgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUgfSksXG5cdCAgICAgICAgICAgICAgICBvcHRpb25zXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlID09PSAndGV4dGFyZWEnKSB7XG5cdCAgICAgICAgICAgIC8vcHJvY2VzcyB0ZXh0YXJlYSBpbnB1dFxuXHQgICAgICAgICAgICAvL3B1dCAgb3RoZXIgaWYgZXhpc3Rcblx0ICAgICAgICAgICAgZWRpdGFibGUuY29scyAmJiAoYXR0ci5jb2xzID0gZWRpdGFibGUuY29scyk7XG5cdCAgICAgICAgICAgIGVkaXRhYmxlLnJvd3MgJiYgKGF0dHIucm93cyA9IGVkaXRhYmxlLnJvd3MpO1xuXHQgICAgICAgICAgICB2YXIga2V5VXBIYW5kbGVyID0gYXR0ci5vbktleURvd24sXG5cdCAgICAgICAgICAgICAgICBzYXZlQnRuID0gbnVsbDtcblx0ICAgICAgICAgICAgaWYgKGtleVVwSGFuZGxlcikge1xuXHQgICAgICAgICAgICAgICAgYXR0ci5vbktleURvd24gPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT0gMTMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3QgUHJlc3NlZCBFTlRFUlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBrZXlVcEhhbmRsZXIoZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIHNhdmVCdG4gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnYnV0dG8nLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnRuIGJ0bi1pbmZvIGJ0bi14cyB0ZXh0YXJlYS1zYXZlLWJ0bicsIG9uQ2xpY2s6IGtleVVwSGFuZGxlciB9LFxuXHQgICAgICAgICAgICAgICAgICAgICdzYXZlJ1xuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJywgX2V4dGVuZHMoe30sIGF0dHIsIHsgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUgfSkpLFxuXHQgICAgICAgICAgICAgICAgc2F2ZUJ0blxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuXHQgICAgICAgICAgICB2YXIgX3ZhbHVlcyA9ICd0cnVlOmZhbHNlJztcblx0ICAgICAgICAgICAgaWYgKGVkaXRhYmxlLm9wdGlvbnMgJiYgZWRpdGFibGUub3B0aW9ucy52YWx1ZXMpIHtcblx0ICAgICAgICAgICAgICAgIC8vIHZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzLnNwbGl0KCc6Jyk7XG5cdCAgICAgICAgICAgICAgICBfdmFsdWVzID0gZWRpdGFibGUub3B0aW9ucy52YWx1ZXM7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYXR0ci5jbGFzc05hbWUgPSBhdHRyLmNsYXNzTmFtZS5yZXBsYWNlKCdmb3JtLWNvbnRyb2wnLCAnJyk7XG5cdCAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lICs9ICcgY2hlY2tib3ggcHVsbC1yaWdodCc7XG5cdFxuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGRlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUudG9TdHJpbmcoKSA9PSBfdmFsdWVzLnNwbGl0KCc6JylbMF0gPyB0cnVlIDogZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIGF0dHIsIHsgdHlwZTogJ2NoZWNrYm94JywgdmFsdWU6IF92YWx1ZXMsIGRlZmF1bHRDaGVja2VkOiBjaGVja2VkIH0pKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdzd2l0Y2gnKSB7XG5cdCAgICAgICAgICAgIHZhciBfdmFsdWVzMiA9ICd0cnVlOmZhbHNlJztcblx0ICAgICAgICAgICAgYXR0ci5jbGFzc05hbWUgPSBhdHRyLmNsYXNzTmFtZS5yZXBsYWNlKCdmb3JtLWNvbnRyb2wnLCAnJyk7XG5cdCAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lICs9ICcgY2hlY2tib3ggcHVsbC1yaWdodCc7XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkID0gZGVmYXVsdFZhbHVlICYmIGRlZmF1bHRWYWx1ZS50b1N0cmluZygpID09IF92YWx1ZXMyLnNwbGl0KCc6JylbMF0gPyB0cnVlIDogZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfcmNTd2l0Y2gyWydkZWZhdWx0J10sIHsgY2xhc3NOYW1lOiBhdHRyLmNsYXNzTmFtZSwgZGVmYXVsdENoZWNrZWQ6IGNoZWNrZWQgfSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlID09PSAncmVhY3Qtc2VsZWN0Jykge1xuXHQgICAgICAgICAgICB2YXIgbXVsdGlPcHQgPSB0eXBlb2YgZWRpdGFibGUub3B0aW9ucy5tdWx0aSAhPT0gJ3VuZGVmaW5lZCcgPyBlZGl0YWJsZS5vcHRpb25zLm11bHRpIDogZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfcmVhY3RTZWxlY3QyWydkZWZhdWx0J10sIHsgY2xhc3NOYW1lOiAncHVsbC1yaWdodCcsIG9wdGlvbnM6IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzLCBtdWx0aTogbXVsdGlPcHQsIHNpbXBsZVZhbHVlOiB0cnVlIH0pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vcHJvY2VzcyBvdGhlciBpbnB1dCB0eXBlLiBhcyBwYXNzd29yZCx1cmwsZW1haWwuLi5cblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIF9leHRlbmRzKHt9LCBhdHRyLCB7IHR5cGU6IHR5cGUsIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICAvL2RlZmF1bHQgcmV0dXJuIGZvciBvdGhlciBjYXNlIG9mIGVkaXRhYmxlXG5cdCAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIGF0dHIsIHsgdHlwZTogJ3RleHQnLCBjbGFzc05hbWU6IChlZGl0b3JDbGFzcyB8fCBcIlwiKSArIFwiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC10ZXh0XCIgfSkpO1xuXHR9O1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gRWRpdG9yO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfcmVhY3RUb2FzdHIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblx0XG5cdHZhciBUb2FzdHJNZXNzYWdlRmFjdG9yeSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVGYWN0b3J5KF9yZWFjdFRvYXN0ci5Ub2FzdE1lc3NhZ2UuYW5pbWF0aW9uKTtcblx0XG5cdHZhciBOb3RpZmljYXRpb24gPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoTm90aWZpY2F0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gTm90aWZpY2F0aW9uKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdGlmaWNhdGlvbik7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTm90aWZpY2F0aW9uLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoTm90aWZpY2F0aW9uLCBbe1xuXHQgICAga2V5OiAnbm90aWNlJyxcblx0XG5cdCAgICAvLyBhbGxvdyB0eXBlIGlzIHN1Y2Nlc3MsaW5mbyx3YXJuaW5nLGVycm9yXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbm90aWNlKHR5cGUsIG1zZywgdGl0bGUpIHtcblx0ICAgICAgdGhpcy5yZWZzLnRvYXN0clt0eXBlXShtc2csIHRpdGxlLCB7XG5cdCAgICAgICAgbW9kZTogJ3NpbmdsZScsXG5cdCAgICAgICAgdGltZU91dDogNTAwMCxcblx0ICAgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDAsXG5cdCAgICAgICAgc2hvd0FuaW1hdGlvbjogXCJhbmltYXRlZCAgYm91bmNlSW5cIixcblx0ICAgICAgICBoaWRlQW5pbWF0aW9uOiBcImFuaW1hdGVkIGJvdW5jZU91dFwiXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX3JlYWN0VG9hc3RyLlRvYXN0Q29udGFpbmVyLCB7IHJlZjogJ3RvYXN0cicsIHRvYXN0TWVzc2FnZUZhY3Rvcnk6IFRvYXN0ck1lc3NhZ2VGYWN0b3J5LFxuXHQgICAgICAgIGlkOiAndG9hc3QtY29udGFpbmVyJywgY2xhc3NOYW1lOiAndG9hc3QtdG9wLXJpZ2h0JyB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBOb3RpZmljYXRpb247XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gTm90aWZpY2F0aW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIEV2ZW50RW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpLkV2ZW50RW1pdHRlcjtcblx0XG5cdGZ1bmN0aW9uIF9zb3J0KGFyciwgc29ydEZpZWxkLCBvcmRlciwgc29ydEZ1bmMpIHtcblx0ICBvcmRlciA9IG9yZGVyLnRvTG93ZXJDYXNlKCk7XG5cdCAgYXJyLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgIGlmIChzb3J0RnVuYykge1xuXHQgICAgICByZXR1cm4gc29ydEZ1bmMoYSwgYiwgb3JkZXIsIHNvcnRGaWVsZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAob3JkZXIgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlNPUlRfREVTQykge1xuXHQgICAgICAgIHJldHVybiBhW3NvcnRGaWVsZF0gPiBiW3NvcnRGaWVsZF0gPyAtMSA6IGFbc29ydEZpZWxkXSA8IGJbc29ydEZpZWxkXSA/IDEgOiAwO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBhW3NvcnRGaWVsZF0gPCBiW3NvcnRGaWVsZF0gPyAtMSA6IGFbc29ydEZpZWxkXSA+IGJbc29ydEZpZWxkXSA/IDEgOiAwO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBhcnI7XG5cdH1cblx0XG5cdHZhciBUYWJsZURhdGFTZXQgPSAoZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVEYXRhU2V0LCBfRXZlbnRFbWl0dGVyKTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVEYXRhU2V0KGRhdGEpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZURhdGFTZXQpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYmxlRGF0YVNldC5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIGRhdGEpO1xuXHQgICAgdGhpcy5kYXRhID0gZGF0YTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZURhdGFTZXQsIFt7XG5cdCAgICBrZXk6ICdzZXREYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHtcblx0ICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGF0YScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZURhdGFTZXQ7XG5cdH0pKEV2ZW50RW1pdHRlcik7XG5cdFxuXHRleHBvcnRzLlRhYmxlRGF0YVNldCA9IFRhYmxlRGF0YVNldDtcblx0XG5cdHZhciBUYWJsZURhdGFTdG9yZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gVGFibGVEYXRhU3RvcmUoZGF0YSkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlRGF0YVN0b3JlKTtcblx0XG5cdCAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXHQgICAgdGhpcy5jb2xJbmZvcyA9IG51bGw7XG5cdCAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XG5cdCAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcblx0ICAgIHRoaXMuZmlsdGVyT2JqID0gbnVsbDtcblx0ICAgIHRoaXMuc2VhcmNoVGV4dCA9IG51bGw7XG5cdCAgICB0aGlzLnNvcnRPYmogPSBudWxsO1xuXHQgICAgdGhpcy5wYWdlT2JqID0ge307XG5cdCAgICB0aGlzLnNlbGVjdGVkID0gW107XG5cdCAgICB0aGlzLm11bHRpQ29sdW1uU2VhcmNoID0gZmFsc2U7XG5cdCAgICB0aGlzLnNob3dPbmx5U2VsZWN0ZWQgPSBmYWxzZTtcblx0ICAgIHRoaXMucmVtb3RlID0gZmFsc2U7IC8vIHJlbW90ZSBkYXRhXG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVEYXRhU3RvcmUsIFt7XG5cdCAgICBrZXk6ICdzZXRQcm9wcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHJvcHMocHJvcHMpIHtcblx0ICAgICAgdGhpcy5rZXlGaWVsZCA9IHByb3BzLmtleUZpZWxkO1xuXHQgICAgICB0aGlzLmVuYWJsZVBhZ2luYXRpb24gPSBwcm9wcy5pc1BhZ2luYXRpb247XG5cdCAgICAgIHRoaXMuY29sSW5mb3MgPSBwcm9wcy5jb2xJbmZvcztcblx0ICAgICAgdGhpcy5yZW1vdGUgPSBwcm9wcy5yZW1vdGU7XG5cdCAgICAgIHRoaXMubXVsdGlDb2x1bW5TZWFyY2ggPSBwcm9wcy5tdWx0aUNvbHVtblNlYXJjaDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXREYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHtcblx0ICAgICAgdGhpcy5kYXRhID0gZGF0YTtcblx0ICAgICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xuXHQgICAgICAgIGlmIChudWxsICE9PSB0aGlzLmZpbHRlck9iaikgdGhpcy5maWx0ZXIodGhpcy5maWx0ZXJPYmopO1xuXHQgICAgICAgIGlmIChudWxsICE9PSB0aGlzLnNlYXJjaFRleHQpIHRoaXMuc2VhcmNoKHRoaXMuc2VhcmNoVGV4dCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMuc29ydE9iaikge1xuXHQgICAgICAgIHRoaXMuc29ydCh0aGlzLnNvcnRPYmoub3JkZXIsIHRoaXMuc29ydE9iai5zb3J0RmllbGQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0U29ydEluZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNvcnRJbmZvKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5zb3J0T2JqO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFNlbGVjdGVkUm93S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RlZFJvd0tleShzZWxlY3RlZFJvd0tleXMpIHtcblx0ICAgICAgdGhpcy5zZWxlY3RlZCA9IHNlbGVjdGVkUm93S2V5cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRTZWxlY3RlZFJvd0tleXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkUm93S2V5cygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3BsYXlEYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50RGlzcGxheURhdGEoKSB7XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHJldHVybiB0aGlzLmZpbHRlcmVkRGF0YTtlbHNlIHJldHVybiB0aGlzLmRhdGE7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaWdub3JlTm9uU2VsZWN0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlnbm9yZU5vblNlbGVjdGVkKCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgdGhpcy5zaG93T25seVNlbGVjdGVkID0gIXRoaXMuc2hvd09ubHlTZWxlY3RlZDtcblx0ICAgICAgaWYgKHRoaXMuc2hvd09ubHlTZWxlY3RlZCkge1xuXHQgICAgICAgIHRoaXMuaXNPbkZpbHRlciA9IHRydWU7XG5cdCAgICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICAgIHZhciByZXN1bHQgPSBfdGhpcy5zZWxlY3RlZC5maW5kKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiByb3dbX3RoaXMua2V5RmllbGRdID09PSB4O1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogZmFsc2U7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzb3J0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzb3J0KG9yZGVyLCBzb3J0RmllbGQpIHtcblx0ICAgICAgdGhpcy5zb3J0T2JqID0ge1xuXHQgICAgICAgIG9yZGVyOiBvcmRlcixcblx0ICAgICAgICBzb3J0RmllbGQ6IHNvcnRGaWVsZFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XG5cdCAgICAgIGlmICghdGhpcy5jb2xJbmZvc1tzb3J0RmllbGRdKSByZXR1cm4gdGhpcztcblx0XG5cdCAgICAgIHZhciBzb3J0RnVuYyA9IHRoaXMuY29sSW5mb3Nbc29ydEZpZWxkXS5zb3J0RnVuYztcblx0XG5cdCAgICAgIGN1cnJlbnREaXNwbGF5RGF0YSA9IF9zb3J0KGN1cnJlbnREaXNwbGF5RGF0YSwgc29ydEZpZWxkLCBvcmRlciwgc29ydEZ1bmMpO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFnZShfcGFnZSwgc2l6ZVBlclBhZ2UpIHtcblx0ICAgICAgdGhpcy5wYWdlT2JqLmVuZCA9IF9wYWdlICogc2l6ZVBlclBhZ2UgLSAxO1xuXHQgICAgICB0aGlzLnBhZ2VPYmouc3RhcnQgPSB0aGlzLnBhZ2VPYmouZW5kIC0gKHNpemVQZXJQYWdlIC0gMSk7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2VkaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXQobmV3VmFsLCByb3dJbmRleCwgZmllbGROYW1lKSB7XG5cdCAgICAgIHZhciBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xuXHQgICAgICB2YXIgcm93S2V5Q2FjaGUgPSB1bmRlZmluZWQ7XG5cdCAgICAgIGlmICghdGhpcy5lbmFibGVQYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgY3VycmVudERpc3BsYXlEYXRhW3Jvd0luZGV4XVtmaWVsZE5hbWVdID0gbmV3VmFsO1xuXHQgICAgICAgIHJvd0tleUNhY2hlID0gY3VycmVudERpc3BsYXlEYXRhW3Jvd0luZGV4XVt0aGlzLmtleUZpZWxkXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBjdXJyZW50RGlzcGxheURhdGFbdGhpcy5wYWdlT2JqLnN0YXJ0ICsgcm93SW5kZXhdW2ZpZWxkTmFtZV0gPSBuZXdWYWw7XG5cdCAgICAgICAgcm93S2V5Q2FjaGUgPSBjdXJyZW50RGlzcGxheURhdGFbdGhpcy5wYWdlT2JqLnN0YXJ0ICsgcm93SW5kZXhdW3RoaXMua2V5RmllbGRdO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcblx0ICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgICBpZiAocm93W3RoaXMua2V5RmllbGRdID09PSByb3dLZXlDYWNoZSkge1xuXHQgICAgICAgICAgICByb3dbZmllbGROYW1lXSA9IG5ld1ZhbDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9LCB0aGlzKTtcblx0ICAgICAgICBpZiAobnVsbCAhPT0gdGhpcy5maWx0ZXJPYmopIHRoaXMuZmlsdGVyKHRoaXMuZmlsdGVyT2JqKTtcblx0ICAgICAgICBpZiAobnVsbCAhPT0gdGhpcy5zZWFyY2hUZXh0KSB0aGlzLnNlYXJjaCh0aGlzLnNlYXJjaFRleHQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FkZEF0QmVnaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEF0QmVnaW4obmV3T2JqKSB7XG5cdCAgICAgIGlmICghbmV3T2JqW3RoaXMua2V5RmllbGRdIHx8IG5ld09ialt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpID09PSAnJykge1xuXHQgICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBjYW4ndCBiZSBlbXB0eSB2YWx1ZS5cIjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcblx0ICAgICAgY3VycmVudERpc3BsYXlEYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIGlmIChyb3dbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSA9PT0gbmV3T2JqW3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkpIHtcblx0ICAgICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBcIiArIG5ld09ialt0aGlzLmtleUZpZWxkXSArIFwiIGFscmVhZHkgZXhpc3RzXCI7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCB0aGlzKTtcblx0ICAgICAgY29uc29sZS5sb2coJ0BAJyk7XG5cdCAgICAgIGN1cnJlbnREaXNwbGF5RGF0YS51bnNoaWZ0KG5ld09iaik7XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcblx0ICAgICAgICB0aGlzLmRhdGEudW5zaGlmdChuZXdPYmopO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWRkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQobmV3T2JqKSB7XG5cdCAgICAgIGlmICghbmV3T2JqW3RoaXMua2V5RmllbGRdIHx8IG5ld09ialt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpID09PSAnJykge1xuXHQgICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBjYW4ndCBiZSBlbXB0eSB2YWx1ZS5cIjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcblx0ICAgICAgY3VycmVudERpc3BsYXlEYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIGlmIChyb3dbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSA9PT0gbmV3T2JqW3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkpIHtcblx0ICAgICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBcIiArIG5ld09ialt0aGlzLmtleUZpZWxkXSArIFwiIGFscmVhZHkgZXhpc3RzXCI7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCB0aGlzKTtcblx0XG5cdCAgICAgIGN1cnJlbnREaXNwbGF5RGF0YS5wdXNoKG5ld09iaik7XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcblx0ICAgICAgICB0aGlzLmRhdGEucHVzaChuZXdPYmopO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUocm93S2V5KSB7XG5cdCAgICAgIHZhciBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xuXHQgICAgICB2YXIgcmVzdWx0ID0gY3VycmVudERpc3BsYXlEYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgcmV0dXJuIHJvd0tleS5pbmRleE9mKHJvd1t0aGlzLmtleUZpZWxkXSkgPT0gLTE7XG5cdCAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xuXHQgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgICAgcmV0dXJuIHJvd0tleS5pbmRleE9mKHJvd1t0aGlzLmtleUZpZWxkXSkgPT0gLTE7XG5cdCAgICAgICAgfSwgdGhpcyk7XG5cdCAgICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSByZXN1bHQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5kYXRhID0gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsdGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoZmlsdGVyT2JqKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlck9iaikubGVuZ3RoID09IDApIHtcblx0ICAgICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy5maWx0ZXJPYmogPSBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuZmlsdGVyT2JqID0gZmlsdGVyT2JqO1xuXHQgICAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gdGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xuXHQgICAgICAgICAgdmFyIGZpbHRlclZhbCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgIGZvciAodmFyIGtleSBpbiBmaWx0ZXJPYmopIHtcblx0ICAgICAgICAgICAgdmFyIHRhcmdldFZhbCA9IHJvd1trZXldO1xuXHRcblx0ICAgICAgICAgICAgc3dpdGNoIChmaWx0ZXJPYmpba2V5XS50eXBlKSB7XG5cdCAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuTlVNQkVSOlxuXHQgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJPYmpba2V5XS52YWx1ZS5udW1iZXI7XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkNVU1RPTTpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsID0gdHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcIm9iamVjdFwiID8gdW5kZWZpbmVkIDogdHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcInN0cmluZ1wiID8gZmlsdGVyT2JqW2tleV0udmFsdWUudG9Mb3dlckNhc2UoKSA6IGZpbHRlck9ialtrZXldLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSB0eXBlb2YgZmlsdGVyT2JqW2tleV0udmFsdWUgPT09IFwic3RyaW5nXCIgPyBmaWx0ZXJPYmpba2V5XS52YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmlsdGVyT2JqW2tleV0udmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJWYWwgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkIGZpbHRlclxuXHQgICAgICAgICAgICAgICAgICAgIGZpbHRlclZhbCA9IGZpbHRlck9ialtrZXldLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmIChfdGhpczIuY29sSW5mb3Nba2V5XSkge1xuXHQgICAgICAgICAgICAgIHZhciBfY29sSW5mb3Mka2V5ID0gX3RoaXMyLmNvbEluZm9zW2tleV07XG5cdCAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IF9jb2xJbmZvcyRrZXkuZm9ybWF0O1xuXHQgICAgICAgICAgICAgIHZhciBmaWx0ZXJGb3JtYXR0ZWQgPSBfY29sSW5mb3Mka2V5LmZpbHRlckZvcm1hdHRlZDtcblx0ICAgICAgICAgICAgICB2YXIgZm9ybWF0RXh0cmFEYXRhID0gX2NvbEluZm9zJGtleS5mb3JtYXRFeHRyYURhdGE7XG5cdFxuXHQgICAgICAgICAgICAgIGlmIChmaWx0ZXJGb3JtYXR0ZWQgJiYgZm9ybWF0KSB7XG5cdCAgICAgICAgICAgICAgICB0YXJnZXRWYWwgPSBmb3JtYXQocm93W2tleV0sIHJvdywgZm9ybWF0RXh0cmFEYXRhKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHN3aXRjaCAoZmlsdGVyT2JqW2tleV0udHlwZSkge1xuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUjpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfdGhpczIuZmlsdGVyTnVtYmVyKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBmaWx0ZXJPYmpba2V5XS52YWx1ZS5jb21wYXJhdG9yKTtcblx0ICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuREFURTpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfdGhpczIuZmlsdGVyRGF0ZSh0YXJnZXRWYWwsIGZpbHRlclZhbCk7XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkNVU1RPTTpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfdGhpczIuZmlsdGVyQ3VzdG9tKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBmaWx0ZXJPYmpba2V5XS52YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgIHZhbGlkID0gX3RoaXMyLmZpbHRlclRleHQodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIXZhbGlkKSB7XG5cdCAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiB2YWxpZDtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0aGlzLmlzT25GaWx0ZXIgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsdGVyTnVtYmVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJOdW1iZXIodGFyZ2V0VmFsLCBmaWx0ZXJWYWwsIGNvbXBhcmF0b3IpIHtcblx0ICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcblx0ICAgICAgc3dpdGNoIChjb21wYXJhdG9yKSB7XG5cdCAgICAgICAgY2FzZSBcIj1cIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCAhPSBmaWx0ZXJWYWwpIHtcblx0ICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgXCI+XCI6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGlmICh0YXJnZXRWYWwgPD0gZmlsdGVyVmFsKSB7XG5cdCAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIFwiPj1cIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCA8IGZpbHRlclZhbCkge1xuXHQgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSBcIjxcIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCA+PSBmaWx0ZXJWYWwpIHtcblx0ICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgXCI8PVwiOlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBpZiAodGFyZ2V0VmFsID4gZmlsdGVyVmFsKSB7XG5cdCAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIFwiIT1cIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCA9PSBmaWx0ZXJWYWwpIHtcblx0ICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJOdW1iZXIgY29tcGFyYXRvciBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdmFsaWQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsdGVyRGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyRGF0ZSh0YXJnZXRWYWwsIGZpbHRlclZhbCkge1xuXHQgICAgICByZXR1cm4gdGFyZ2V0VmFsLmdldERhdGUoKSA9PSBmaWx0ZXJWYWwuZ2V0RGF0ZSgpICYmIHRhcmdldFZhbC5nZXRNb250aCgpID09IGZpbHRlclZhbC5nZXRNb250aCgpICYmIHRhcmdldFZhbC5nZXRGdWxsWWVhcigpID09IGZpbHRlclZhbC5nZXRGdWxsWWVhcigpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZpbHRlckN1c3RvbScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyQ3VzdG9tKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBjYWxsYmFja0luZm8pIHtcblx0ICAgICAgaWYgKGNhbGxiYWNrSW5mbyAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFja0luZm8gPT09IFwib2JqZWN0XCIpIHtcblx0ICAgICAgICByZXR1cm4gY2FsbGJhY2tJbmZvLmNhbGxiYWNrKHRhcmdldFZhbCwgY2FsbGJhY2tJbmZvLmNhbGxiYWNrUGFyYW1ldGVycyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBmaWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmaWx0ZXJUZXh0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKSB7XG5cdCAgICAgIGlmICh0YXJnZXRWYWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZmlsdGVyVmFsKSA9PSAtMSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogR2VuZXJhbCBzZWFyY2ggZnVuY3Rpb25cclxuXHQgICAgICogSXQgd2lsbCBzZWFyY2ggZm9yIHRoZSB0ZXh0IGlmIHRoZSBpbnB1dCBpbmNsdWRlcyB0aGF0IHRleHQ7XHJcblx0ICAgICAqIEl0IHdpbGwgc2VhcmNoIGZvciBleGFjdCBudW1iZXIgaWYgdGhlIGlucHV0IGlzIHRoYXQgbnVtYmVyXHJcblx0ICAgICAqL1xuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKHNlYXJjaFRleHQpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICBpZiAoc2VhcmNoVGV4dC50cmltKCkgPT09IFwiXCIpIHtcblx0ICAgICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gbnVsbDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3RoaXMzLnNlYXJjaFRleHQgPSBzZWFyY2hUZXh0O1xuXHQgICAgICAgICAgdmFyIHNlYXJjaFRleHRBcnJheSA9IFtdO1xuXHRcblx0ICAgICAgICAgIGlmIChfdGhpczMubXVsdGlDb2x1bW5TZWFyY2gpIHtcblx0ICAgICAgICAgICAgc2VhcmNoVGV4dEFycmF5ID0gc2VhcmNoVGV4dC5zcGxpdCgnICcpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2VhcmNoVGV4dEFycmF5LnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgX3RoaXMzLmZpbHRlcmVkRGF0YSA9IF90aGlzMy5kYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocm93KTtcblx0ICAgICAgICAgICAgdmFyIHZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIC8vIGZvciBsb29wcyBhcmUgdWdseSwgYnV0IHBlcmZvcm1hbmNlIG1hdHRlcnMgaGVyZS5cblx0ICAgICAgICAgICAgLy8gQW5kIHlvdSBjYW50IGJyZWFrIGZyb20gYSBmb3JFYWNoLlxuXHQgICAgICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9mb3ItdnMtZm9yZWFjaC82NlxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwga2V5c0xlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwga2V5c0xlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICAgICAgICAgICAgaWYgKF90aGlzMy5jb2xJbmZvc1trZXldICYmIHJvd1trZXldKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgX2NvbEluZm9zJGtleTIgPSBfdGhpczMuY29sSW5mb3Nba2V5XTtcblx0ICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBfY29sSW5mb3Mka2V5Mi5mb3JtYXQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgZmlsdGVyRm9ybWF0dGVkID0gX2NvbEluZm9zJGtleTIuZmlsdGVyRm9ybWF0dGVkO1xuXHQgICAgICAgICAgICAgICAgdmFyIGZvcm1hdEV4dHJhRGF0YSA9IF9jb2xJbmZvcyRrZXkyLmZvcm1hdEV4dHJhRGF0YTtcblx0ICAgICAgICAgICAgICAgIHZhciBzZWFyY2hhYmxlID0gX2NvbEluZm9zJGtleTIuc2VhcmNoYWJsZTtcblx0ICAgICAgICAgICAgICAgIHZhciBoaWRkZW4gPSBfY29sSW5mb3Mka2V5Mi5oaWRkZW47XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIHRhcmdldFZhbCA9IHJvd1trZXldO1xuXHQgICAgICAgICAgICAgICAgaWYgKCFoaWRkZW4gJiYgc2VhcmNoYWJsZSkge1xuXHQgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRm9ybWF0dGVkICYmIGZvcm1hdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRhcmdldFZhbCA9IGZvcm1hdCh0YXJnZXRWYWwsIHJvdywgZm9ybWF0RXh0cmFEYXRhKTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgdGV4dExlbmd0aCA9IHNlYXJjaFRleHRBcnJheS5sZW5ndGg7IGogPCB0ZXh0TGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyVmFsID0gc2VhcmNoVGV4dEFycmF5W2pdLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFZhbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXJWYWwpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiB2YWxpZDtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgX3RoaXMzLmlzT25GaWx0ZXIgPSB0cnVlO1xuXHQgICAgICAgIH0pKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkge1xuXHQgICAgICB2YXIgX2RhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xuXHQgICAgICByZXR1cm4gX2RhdGE7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHZhciBfZGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XG5cdFxuXHQgICAgICBpZiAoX2RhdGEubGVuZ3RoID09IDApIHJldHVybiBfZGF0YTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnJlbW90ZSB8fCAhdGhpcy5lbmFibGVQYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgcmV0dXJuIF9kYXRhO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5wYWdlT2JqLnN0YXJ0OyBpIDw9IHRoaXMucGFnZU9iai5lbmQ7IGkrKykge1xuXHQgICAgICAgICAgcmVzdWx0LnB1c2goX2RhdGFbaV0pO1xuXHQgICAgICAgICAgaWYgKGkgKyAxID09IF9kYXRhLmxlbmd0aCkgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRLZXlGaWVsZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0S2V5RmllbGQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmtleUZpZWxkO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERhdGFOdW0nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGFOdW0oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpLmxlbmd0aDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc0NoYW5nZWRQYWdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NoYW5nZWRQYWdlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wYWdlT2JqLnN0YXJ0ICYmIHRoaXMucGFnZU9iai5lbmQgPyB0cnVlIDogZmFsc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsUm93a2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxSb3drZXkoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmRhdGEubWFwKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICByZXR1cm4gcm93W3RoaXMua2V5RmllbGRdO1xuXHQgICAgICB9LCB0aGlzKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZURhdGFTdG9yZTtcblx0fSkoKTtcblx0XG5cdGV4cG9ydHMuVGFibGVEYXRhU3RvcmUgPSBUYWJsZURhdGFTdG9yZTtcblx0XG5cdDtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9yZWFjdElucHV0QXV0b3NpemUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblx0XG5cdHZhciBfcmVhY3RJbnB1dEF1dG9zaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0SW5wdXRBdXRvc2l6ZSk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF91dGlsc1N0cmlwRGlhY3JpdGljcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF91dGlsc1N0cmlwRGlhY3JpdGljczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsc1N0cmlwRGlhY3JpdGljcyk7XG5cdFxuXHR2YXIgX0FzeW5jID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHR2YXIgX0FzeW5jMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FzeW5jKTtcblx0XG5cdHZhciBfT3B0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX09wdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcHRpb24pO1xuXHRcblx0dmFyIF9WYWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9WYWx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WYWx1ZSk7XG5cdFxuXHRmdW5jdGlvbiBzdHJpbmdpZnlWYWx1ZSh2YWx1ZSkge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgc3RyaW5nT3JOb2RlID0gX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm5vZGVdKTtcblx0XG5cdHZhciBTZWxlY3QgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXHRcblx0XHRkaXNwbGF5TmFtZTogJ1NlbGVjdCcsXG5cdFxuXHRcdHByb3BUeXBlczoge1xuXHRcdFx0YWRkTGFiZWxUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGxhY2Vob2xkZXIgZGlzcGxheWVkIHdoZW4geW91IHdhbnQgdG8gYWRkIGEgbGFiZWwgb24gYSBtdWx0aS12YWx1ZSBpbnB1dFxuXHRcdFx0YWxsb3dDcmVhdGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBhbGxvdyBjcmVhdGlvbiBvZiBuZXcgZW50cmllc1xuXHRcdFx0YXV0b0JsdXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0XHRcdGF1dG9mb2N1czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBhdXRvZm9jdXMgdGhlIGNvbXBvbmVudCBvbiBtb3VudFxuXHRcdFx0YmFja3NwYWNlUmVtb3ZlczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIGJhY2tzcGFjZSByZW1vdmVzIGFuIGl0ZW0gaWYgdGhlcmUgaXMgbm8gdGV4dCBpbnB1dFxuXHRcdFx0Y2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gY2xhc3NOYW1lIGZvciB0aGUgb3V0ZXIgZWxlbWVudFxuXHRcdFx0Y2xlYXJBbGxUZXh0OiBzdHJpbmdPck5vZGUsIC8vIHRpdGxlIGZvciB0aGUgXCJjbGVhclwiIGNvbnRyb2wgd2hlbiBtdWx0aTogdHJ1ZVxuXHRcdFx0Y2xlYXJWYWx1ZVRleHQ6IHN0cmluZ09yTm9kZSwgLy8gdGl0bGUgZm9yIHRoZSBcImNsZWFyXCIgY29udHJvbFxuXHRcdFx0Y2xlYXJhYmxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHNob3VsZCBpdCBiZSBwb3NzaWJsZSB0byByZXNldCB2YWx1ZVxuXHRcdFx0ZGVsaW1pdGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gZGVsaW1pdGVyIHRvIHVzZSB0byBqb2luIG11bHRpcGxlIHZhbHVlcyBmb3IgdGhlIGhpZGRlbiBmaWVsZCB2YWx1ZVxuXHRcdFx0ZGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0aGUgU2VsZWN0IGlzIGRpc2FibGVkIG9yIG5vdFxuXHRcdFx0ZXNjYXBlQ2xlYXJzVmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciBlc2NhcGUgY2xlYXJzIHRoZSB2YWx1ZSB3aGVuIHRoZSBtZW51IGlzIGNsb3NlZFxuXHRcdFx0ZmlsdGVyT3B0aW9uOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBmaWx0ZXIgYSBzaW5nbGUgb3B0aW9uIChvcHRpb24sIGZpbHRlclN0cmluZylcblx0XHRcdGZpbHRlck9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBib29sZWFuIHRvIGVuYWJsZSBkZWZhdWx0IGZpbHRlcmluZyBvciBmdW5jdGlvbiB0byBmaWx0ZXIgdGhlIG9wdGlvbnMgYXJyYXkgKFtvcHRpb25zXSwgZmlsdGVyU3RyaW5nLCBbdmFsdWVzXSlcblx0XHRcdGlnbm9yZUFjY2VudHM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBzdHJpcCBkaWFjcml0aWNzIHdoZW4gZmlsdGVyaW5nXG5cdFx0XHRpZ25vcmVDYXNlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gcGVyZm9ybSBjYXNlLWluc2Vuc2l0aXZlIGZpbHRlcmluZ1xuXHRcdFx0aW5wdXRQcm9wczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsIC8vIGN1c3RvbSBhdHRyaWJ1dGVzIGZvciB0aGUgSW5wdXRcblx0XHRcdGlzTG9hZGluZzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRoZSBTZWxlY3QgaXMgbG9hZGluZyBleHRlcm5hbGx5IG9yIG5vdCAoc3VjaCBhcyBvcHRpb25zIGJlaW5nIGxvYWRlZClcblx0XHRcdGxhYmVsS2V5OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGF0aCBvZiB0aGUgbGFiZWwgdmFsdWUgaW4gb3B0aW9uIG9iamVjdHNcblx0XHRcdG1hdGNoUG9zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gKGFueXxzdGFydCkgbWF0Y2ggdGhlIHN0YXJ0IG9yIGVudGlyZSBzdHJpbmcgd2hlbiBmaWx0ZXJpbmdcblx0XHRcdG1hdGNoUHJvcDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIChhbnl8bGFiZWx8dmFsdWUpIHdoaWNoIG9wdGlvbiBwcm9wZXJ0eSB0byBmaWx0ZXIgb25cblx0XHRcdG1lbnVCdWZmZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLCAvLyBvcHRpb25hbCBidWZmZXIgKGluIHB4KSBiZXR3ZWVuIHRoZSBib3R0b20gb2YgdGhlIHZpZXdwb3J0IGFuZCB0aGUgYm90dG9tIG9mIHRoZSBtZW51XG5cdFx0XHRtZW51Q29udGFpbmVyU3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgbWVudSBjb250YWluZXJcblx0XHRcdG1lbnVTdHlsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsIC8vIG9wdGlvbmFsIHN0eWxlIHRvIGFwcGx5IHRvIHRoZSBtZW51XG5cdFx0XHRtdWx0aTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBtdWx0aS12YWx1ZSBpbnB1dFxuXHRcdFx0bmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGdlbmVyYXRlcyBhIGhpZGRlbiA8aW5wdXQgLz4gdGFnIHdpdGggdGhpcyBmaWVsZCBuYW1lIGZvciBodG1sIGZvcm1zXG5cdFx0XHRuZXdPcHRpb25DcmVhdG9yOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIGZhY3RvcnkgdG8gY3JlYXRlIG5ldyBvcHRpb25zIHdoZW4gYWxsb3dDcmVhdGUgc2V0XG5cdFx0XHRub1Jlc3VsdHNUZXh0OiBzdHJpbmdPck5vZGUsIC8vIHBsYWNlaG9sZGVyIGRpc3BsYXllZCB3aGVuIHRoZXJlIGFyZSBubyBtYXRjaGluZyBzZWFyY2ggcmVzdWx0c1xuXHRcdFx0b25CbHVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQmx1ciBoYW5kbGVyOiBmdW5jdGlvbiAoZXZlbnQpIHt9XG5cdFx0XHRvbkJsdXJSZXNldHNJbnB1dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIGlucHV0IGlzIGNsZWFyZWQgb24gYmx1clxuXHRcdFx0b25DaGFuZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25DaGFuZ2UgaGFuZGxlcjogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7fVxuXHRcdFx0b25DbG9zZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIGNsb3NlZFxuXHRcdFx0b25Gb2N1czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkZvY3VzIGhhbmRsZXI6IGZ1bmN0aW9uIChldmVudCkge31cblx0XHRcdG9uSW5wdXRDaGFuZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25JbnB1dENoYW5nZSBoYW5kbGVyOiBmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge31cblx0XHRcdG9uTWVudVNjcm9sbFRvQm90dG9tOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIGZpcmVzIHdoZW4gdGhlIG1lbnUgaXMgc2Nyb2xsZWQgdG8gdGhlIGJvdHRvbTsgY2FuIGJlIHVzZWQgdG8gcGFnaW5hdGUgb3B0aW9uc1xuXHRcdFx0b25PcGVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIGZpcmVzIHdoZW4gdGhlIG1lbnUgaXMgb3BlbmVkXG5cdFx0XHRvblZhbHVlQ2xpY2s6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25DbGljayBoYW5kbGVyIGZvciB2YWx1ZSBsYWJlbHM6IGZ1bmN0aW9uICh2YWx1ZSwgZXZlbnQpIHt9XG5cdFx0XHRvcHRpb25Db21wb25lbnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb3B0aW9uIGNvbXBvbmVudCB0byByZW5kZXIgaW4gZHJvcGRvd25cblx0XHRcdG9wdGlvblJlbmRlcmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9wdGlvblJlbmRlcmVyOiBmdW5jdGlvbiAob3B0aW9uKSB7fVxuXHRcdFx0b3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSwgLy8gYXJyYXkgb2Ygb3B0aW9uc1xuXHRcdFx0cGxhY2Vob2xkZXI6IHN0cmluZ09yTm9kZSwgLy8gZmllbGQgcGxhY2Vob2xkZXIsIGRpc3BsYXllZCB3aGVuIHRoZXJlJ3Mgbm8gdmFsdWVcblx0XHRcdHJlcXVpcmVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIGFwcGxpZXMgSFRNTDUgcmVxdWlyZWQgYXR0cmlidXRlIHdoZW4gbmVlZGVkXG5cdFx0XHRzY3JvbGxNZW51SW50b1ZpZXc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gYm9vbGVhbiB0byBlbmFibGUgdGhlIHZpZXdwb3J0IHRvIHNoaWZ0IHNvIHRoYXQgdGhlIGZ1bGwgbWVudSBmdWxseSB2aXNpYmxlIHdoZW4gZW5nYWdlZFxuXHRcdFx0c2VhcmNoYWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIGVuYWJsZSBzZWFyY2hpbmcgZmVhdHVyZSBvciBub3Rcblx0XHRcdHNpbXBsZVZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHBhc3MgdGhlIHZhbHVlIHRvIG9uQ2hhbmdlIGFzIGEgc2ltcGxlIHZhbHVlIChsZWdhY3kgcHJlIDEuMCBtb2RlKSwgZGVmYXVsdHMgdG8gZmFsc2Vcblx0XHRcdHN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCwgLy8gb3B0aW9uYWwgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIGNvbnRyb2xcblx0XHRcdHRhYkluZGV4OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gb3B0aW9uYWwgdGFiIGluZGV4IG9mIHRoZSBjb250cm9sXG5cdFx0XHR2YWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksIC8vIGluaXRpYWwgZmllbGQgdmFsdWVcblx0XHRcdHZhbHVlQ29tcG9uZW50OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIHZhbHVlIGNvbXBvbmVudCB0byByZW5kZXJcblx0XHRcdHZhbHVlS2V5OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGF0aCBvZiB0aGUgbGFiZWwgdmFsdWUgaW4gb3B0aW9uIG9iamVjdHNcblx0XHRcdHZhbHVlUmVuZGVyZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gdmFsdWVSZW5kZXJlcjogZnVuY3Rpb24gKG9wdGlvbikge31cblx0XHRcdHdyYXBwZXJTdHlsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QgfSxcblx0XG5cdFx0Ly8gb3B0aW9uYWwgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIGNvbXBvbmVudCB3cmFwcGVyXG5cdFx0c3RhdGljczogeyBBc3luYzogX0FzeW5jMlsnZGVmYXVsdCddIH0sXG5cdFxuXHRcdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0YWRkTGFiZWxUZXh0OiAnQWRkIFwie2xhYmVsfVwiPycsXG5cdFx0XHRcdGFsbG93Q3JlYXRlOiBmYWxzZSxcblx0XHRcdFx0YmFja3NwYWNlUmVtb3ZlczogdHJ1ZSxcblx0XHRcdFx0Y2xlYXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRjbGVhckFsbFRleHQ6ICdDbGVhciBhbGwnLFxuXHRcdFx0XHRjbGVhclZhbHVlVGV4dDogJ0NsZWFyIHZhbHVlJyxcblx0XHRcdFx0ZGVsaW1pdGVyOiAnLCcsXG5cdFx0XHRcdGRpc2FibGVkOiBmYWxzZSxcblx0XHRcdFx0ZXNjYXBlQ2xlYXJzVmFsdWU6IHRydWUsXG5cdFx0XHRcdGZpbHRlck9wdGlvbnM6IHRydWUsXG5cdFx0XHRcdGlnbm9yZUFjY2VudHM6IHRydWUsXG5cdFx0XHRcdGlnbm9yZUNhc2U6IHRydWUsXG5cdFx0XHRcdGlucHV0UHJvcHM6IHt9LFxuXHRcdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0XHRsYWJlbEtleTogJ2xhYmVsJyxcblx0XHRcdFx0bWF0Y2hQb3M6ICdhbnknLFxuXHRcdFx0XHRtYXRjaFByb3A6ICdhbnknLFxuXHRcdFx0XHRtZW51QnVmZmVyOiAwLFxuXHRcdFx0XHRtdWx0aTogZmFsc2UsXG5cdFx0XHRcdG5vUmVzdWx0c1RleHQ6ICdObyByZXN1bHRzIGZvdW5kJyxcblx0XHRcdFx0b25CbHVyUmVzZXRzSW5wdXQ6IHRydWUsXG5cdFx0XHRcdG9wdGlvbkNvbXBvbmVudDogX09wdGlvbjJbJ2RlZmF1bHQnXSxcblx0XHRcdFx0cGxhY2Vob2xkZXI6ICdTZWxlY3QuLi4nLFxuXHRcdFx0XHRyZXF1aXJlZDogZmFsc2UsXG5cdFx0XHRcdHNjcm9sbE1lbnVJbnRvVmlldzogdHJ1ZSxcblx0XHRcdFx0c2VhcmNoYWJsZTogdHJ1ZSxcblx0XHRcdFx0c2ltcGxlVmFsdWU6IGZhbHNlLFxuXHRcdFx0XHR2YWx1ZUNvbXBvbmVudDogX1ZhbHVlMlsnZGVmYXVsdCddLFxuXHRcdFx0XHR2YWx1ZUtleTogJ3ZhbHVlJ1xuXHRcdFx0fTtcblx0XHR9LFxuXHRcblx0XHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGlucHV0VmFsdWU6ICcnLFxuXHRcdFx0XHRpc0ZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0XHRpc09wZW46IGZhbHNlLFxuXHRcdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0XHRyZXF1aXJlZDogdGhpcy5wcm9wcy5yZXF1aXJlZCAmJiB0aGlzLmhhbmRsZVJlcXVpcmVkKHRoaXMucHJvcHMudmFsdWUsIHRoaXMucHJvcHMubXVsdGkpXG5cdFx0XHR9O1xuXHRcdH0sXG5cdFxuXHRcdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRcdGlmICh0aGlzLnByb3BzLmF1dG9mb2N1cykge1xuXHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0Y29tcG9uZW50V2lsbFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuXHRcdFx0aWYgKG5leHRTdGF0ZS5pc09wZW4gIT09IHRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdHZhciBoYW5kbGVyID0gbmV4dFN0YXRlLmlzT3BlbiA/IG5leHRQcm9wcy5vbk9wZW4gOiBuZXh0UHJvcHMub25DbG9zZTtcblx0XHRcdFx0aGFuZGxlciAmJiBoYW5kbGVyKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0Y29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblx0XHRcdC8vIGZvY3VzIHRvIHRoZSBzZWxlY3RlZCBvcHRpb25cblx0XHRcdGlmICh0aGlzLnJlZnMubWVudSAmJiB0aGlzLnJlZnMuZm9jdXNlZCAmJiB0aGlzLnN0YXRlLmlzT3BlbiAmJiAhdGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uKSB7XG5cdFx0XHRcdHZhciBmb2N1c2VkT3B0aW9uTm9kZSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZm9jdXNlZCk7XG5cdFx0XHRcdHZhciBtZW51Tm9kZSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWVudSk7XG5cdFx0XHRcdG1lbnVOb2RlLnNjcm9sbFRvcCA9IGZvY3VzZWRPcHRpb25Ob2RlLm9mZnNldFRvcDtcblx0XHRcdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdHRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbiA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChwcmV2U3RhdGUuaW5wdXRWYWx1ZSAhPT0gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlICYmIHRoaXMucHJvcHMub25JbnB1dENoYW5nZSkge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UodGhpcy5zdGF0ZS5pbnB1dFZhbHVlKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLl9zY3JvbGxUb0ZvY3VzZWRPcHRpb25PblVwZGF0ZSAmJiB0aGlzLnJlZnMuZm9jdXNlZCAmJiB0aGlzLnJlZnMubWVudSkge1xuXHRcdFx0XHR0aGlzLl9zY3JvbGxUb0ZvY3VzZWRPcHRpb25PblVwZGF0ZSA9IGZhbHNlO1xuXHRcdFx0XHR2YXIgZm9jdXNlZERPTSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZm9jdXNlZCk7XG5cdFx0XHRcdHZhciBtZW51RE9NID0gX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMucmVmcy5tZW51KTtcblx0XHRcdFx0dmFyIGZvY3VzZWRSZWN0ID0gZm9jdXNlZERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0dmFyIG1lbnVSZWN0ID0gbWVudURPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0aWYgKGZvY3VzZWRSZWN0LmJvdHRvbSA+IG1lbnVSZWN0LmJvdHRvbSB8fCBmb2N1c2VkUmVjdC50b3AgPCBtZW51UmVjdC50b3ApIHtcblx0XHRcdFx0XHRtZW51RE9NLnNjcm9sbFRvcCA9IGZvY3VzZWRET00ub2Zmc2V0VG9wICsgZm9jdXNlZERPTS5jbGllbnRIZWlnaHQgLSBtZW51RE9NLm9mZnNldEhlaWdodDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2Nyb2xsTWVudUludG9WaWV3ICYmIHRoaXMucmVmcy5tZW51Q29udGFpbmVyKSB7XG5cdFx0XHRcdHZhciBtZW51Q29udGFpbmVyUmVjdCA9IHRoaXMucmVmcy5tZW51Q29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRpZiAod2luZG93LmlubmVySGVpZ2h0IDwgbWVudUNvbnRhaW5lclJlY3QuYm90dG9tICsgdGhpcy5wcm9wcy5tZW51QnVmZmVyKSB7XG5cdFx0XHRcdFx0d2luZG93LnNjcm9sbFRvKDAsIHdpbmRvdy5zY3JvbGxZICsgbWVudUNvbnRhaW5lclJlY3QuYm90dG9tICsgdGhpcy5wcm9wcy5tZW51QnVmZmVyIC0gd2luZG93LmlubmVySGVpZ2h0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHByZXZQcm9wcy5kaXNhYmxlZCAhPT0gdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgaXNGb2N1c2VkOiBmYWxzZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1kaWQtdXBkYXRlLXNldC1zdGF0ZVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0XHRcdGlmICghdGhpcy5yZWZzLmlucHV0KSByZXR1cm47XG5cdFx0XHR0aGlzLnJlZnMuaW5wdXQuZm9jdXMoKTtcblx0XHR9LFxuXHRcblx0XHRibHVySW5wdXQ6IGZ1bmN0aW9uIGJsdXJJbnB1dCgpIHtcblx0XHRcdGlmICghdGhpcy5yZWZzLmlucHV0KSByZXR1cm47XG5cdFx0XHR0aGlzLnJlZnMuaW5wdXQuYmx1cigpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuXHRcdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIG5vdCBiZWluZyBkcmFnZ2VkXG5cdFx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hFbmQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKGV2ZW50KSB7XG5cdFx0XHQvLyBDaGVjayBpZiB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkLCBJbiB0aGlzIGNhc2Vcblx0XHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gZmlyZSB0aGUgY2xpY2sgZXZlbnQgKGJlY2F1c2UgdGhlIHVzZXIgb25seSB3YW50cyB0byBzY3JvbGwpXG5cdFx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXHRcblx0XHRcdC8vIEZpcmUgdGhlIG1vdXNlIGV2ZW50c1xuXHRcdFx0dGhpcy5oYW5kbGVNb3VzZURvd24oZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmRDbGVhclZhbHVlKGV2ZW50KSB7XG5cdFx0XHQvLyBDaGVjayBpZiB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkLCBJbiB0aGlzIGNhc2Vcblx0XHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gZmlyZSB0aGUgY2xpY2sgZXZlbnQgKGJlY2F1c2UgdGhlIHVzZXIgb25seSB3YW50cyB0byBzY3JvbGwpXG5cdFx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXHRcblx0XHRcdC8vIENsZWFyIHRoZSB2YWx1ZVxuXHRcdFx0dGhpcy5jbGVhclZhbHVlKGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuXHRcdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIHByZXZlbnQgZGVmYXVsdCBldmVudCBoYW5kbGVyc1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdC8vIGZvciB0aGUgbm9uLXNlYXJjaGFibGUgc2VsZWN0LCB0b2dnbGUgdGhlIG1lbnVcblx0XHRcdGlmICghdGhpcy5wcm9wcy5zZWFyY2hhYmxlKSB7XG5cdFx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGlzT3BlbjogIXRoaXMuc3RhdGUuaXNPcGVuXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICh0aGlzLnN0YXRlLmlzRm9jdXNlZCkge1xuXHRcdFx0XHQvLyBpZiB0aGUgaW5wdXQgaXMgZm9jdXNlZCwgZW5zdXJlIHRoZSBtZW51IGlzIG9wZW5cblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0aXNPcGVuOiB0cnVlLFxuXHRcdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBvdGhlcndpc2UsIGZvY3VzIHRoZSBpbnB1dCBhbmQgb3BlbiB0aGUgbWVudVxuXHRcdFx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IHRydWU7XG5cdFx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRoYW5kbGVNb3VzZURvd25PbkFycm93OiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25PbkFycm93KGV2ZW50KSB7XG5cdFx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0XHQvLyBidXR0b24sIG9yIGlmIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQsIGlnbm9yZSBpdC5cblx0XHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8IGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBJZiB0aGUgbWVudSBpc24ndCBvcGVuLCBsZXQgdGhlIGV2ZW50IGJ1YmJsZSB0byB0aGUgbWFpbiBoYW5kbGVNb3VzZURvd25cblx0XHRcdGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcHJldmVudCBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBjbG9zZSB0aGUgbWVudVxuXHRcdFx0dGhpcy5jbG9zZU1lbnUoKTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVNb3VzZURvd25Pbk1lbnU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bk9uTWVudShldmVudCkge1xuXHRcdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdHRoaXMuX29wZW5BZnRlckZvY3VzID0gdHJ1ZTtcblx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHR9LFxuXHRcblx0XHRjbG9zZU1lbnU6IGZ1bmN0aW9uIGNsb3NlTWVudSgpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc09wZW46IGZhbHNlLFxuXHRcdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IHRoaXMuc3RhdGUuaXNGb2N1c2VkICYmICF0aGlzLnByb3BzLm11bHRpLFxuXHRcdFx0XHRpbnB1dFZhbHVlOiAnJ1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSBmYWxzZTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVJbnB1dEZvY3VzOiBmdW5jdGlvbiBoYW5kbGVJbnB1dEZvY3VzKGV2ZW50KSB7XG5cdFx0XHR2YXIgaXNPcGVuID0gdGhpcy5zdGF0ZS5pc09wZW4gfHwgdGhpcy5fb3BlbkFmdGVyRm9jdXM7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vbkZvY3VzKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25Gb2N1cyhldmVudCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNGb2N1c2VkOiB0cnVlLFxuXHRcdFx0XHRpc09wZW46IGlzT3BlblxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IGZhbHNlO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZUlucHV0Qmx1cjogZnVuY3Rpb24gaGFuZGxlSW5wdXRCbHVyKGV2ZW50KSB7XG5cdFx0XHRpZiAodGhpcy5yZWZzLm1lbnUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pc0VxdWFsTm9kZSh0aGlzLnJlZnMubWVudSkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICh0aGlzLnByb3BzLm9uQmx1cikge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uQmx1cihldmVudCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgb25CbHVycmVkU3RhdGUgPSB7XG5cdFx0XHRcdGlzRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2Vcblx0XHRcdH07XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vbkJsdXJSZXNldHNJbnB1dCkge1xuXHRcdFx0XHRvbkJsdXJyZWRTdGF0ZS5pbnB1dFZhbHVlID0gJyc7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNldFN0YXRlKG9uQmx1cnJlZFN0YXRlKTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVJbnB1dENoYW5nZTogZnVuY3Rpb24gaGFuZGxlSW5wdXRDaGFuZ2UoZXZlbnQpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc09wZW46IHRydWUsXG5cdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRcdGlucHV0VmFsdWU6IGV2ZW50LnRhcmdldC52YWx1ZVxuXHRcdFx0fSk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlS2V5RG93bjogZnVuY3Rpb24gaGFuZGxlS2V5RG93bihldmVudCkge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHJldHVybjtcblx0XHRcdHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Ly8gYmFja3NwYWNlXG5cdFx0XHRcdFx0aWYgKCF0aGlzLnN0YXRlLmlucHV0VmFsdWUgJiYgdGhpcy5wcm9wcy5iYWNrc3BhY2VSZW1vdmVzKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0dGhpcy5wb3BWYWx1ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHQvLyB0YWJcblx0XHRcdFx0XHRpZiAoZXZlbnQuc2hpZnRLZXkgfHwgIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHQvLyBlbnRlclxuXHRcdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHJldHVybjtcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHR0aGlzLnNlbGVjdEZvY3VzZWRPcHRpb24oKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0XHQvLyBlc2NhcGVcblx0XHRcdFx0XHRpZiAodGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0XHRcdHRoaXMuY2xvc2VNZW51KCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnByb3BzLmNsZWFyYWJsZSAmJiB0aGlzLnByb3BzLmVzY2FwZUNsZWFyc1ZhbHVlKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNsZWFyVmFsdWUoZXZlbnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0XHQvLyB1cFxuXHRcdFx0XHRcdHRoaXMuZm9jdXNQcmV2aW91c09wdGlvbigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRcdC8vIGRvd25cblx0XHRcdFx0XHR0aGlzLmZvY3VzTmV4dE9wdGlvbigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHQvLyBjYXNlIDE4ODogLy8gLFxuXHRcdFx0XHQvLyBcdGlmICh0aGlzLnByb3BzLmFsbG93Q3JlYXRlICYmIHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdFx0Ly8gXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdC8vIFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0Ly8gXHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0XHQvLyBcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFx0XHRyZXR1cm47XG5cdFx0XHRcdC8vIFx0fVxuXHRcdFx0XHQvLyBicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVZhbHVlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVZhbHVlQ2xpY2sob3B0aW9uLCBldmVudCkge1xuXHRcdFx0aWYgKCF0aGlzLnByb3BzLm9uVmFsdWVDbGljaykgcmV0dXJuO1xuXHRcdFx0dGhpcy5wcm9wcy5vblZhbHVlQ2xpY2sob3B0aW9uLCBldmVudCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlTWVudVNjcm9sbDogZnVuY3Rpb24gaGFuZGxlTWVudVNjcm9sbChldmVudCkge1xuXHRcdFx0aWYgKCF0aGlzLnByb3BzLm9uTWVudVNjcm9sbFRvQm90dG9tKSByZXR1cm47XG5cdFx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHRcblx0XHRcdGlmICh0YXJnZXQuc2Nyb2xsSGVpZ2h0ID4gdGFyZ2V0Lm9mZnNldEhlaWdodCAmJiAhKHRhcmdldC5zY3JvbGxIZWlnaHQgLSB0YXJnZXQub2Zmc2V0SGVpZ2h0IC0gdGFyZ2V0LnNjcm9sbFRvcCkpIHtcblx0XHRcdFx0dGhpcy5wcm9wcy5vbk1lbnVTY3JvbGxUb0JvdHRvbSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVJlcXVpcmVkOiBmdW5jdGlvbiBoYW5kbGVSZXF1aXJlZCh2YWx1ZSwgbXVsdGkpIHtcblx0XHRcdGlmICghdmFsdWUpIHJldHVybiB0cnVlO1xuXHRcdFx0cmV0dXJuIG11bHRpID8gdmFsdWUubGVuZ3RoID09PSAwIDogT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMDtcblx0XHR9LFxuXHRcblx0XHRnZXRPcHRpb25MYWJlbDogZnVuY3Rpb24gZ2V0T3B0aW9uTGFiZWwob3ApIHtcblx0XHRcdHJldHVybiBvcFt0aGlzLnByb3BzLmxhYmVsS2V5XTtcblx0XHR9LFxuXHRcblx0XHRnZXRWYWx1ZUFycmF5OiBmdW5jdGlvbiBnZXRWYWx1ZUFycmF5KCkge1xuXHRcdFx0dmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcblx0XHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB2YWx1ZSA9IHZhbHVlLnNwbGl0KHRoaXMucHJvcHMuZGVsaW1pdGVyKTtcblx0XHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG5cdFx0XHRcdFx0dmFsdWUgPSBbdmFsdWVdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2YWx1ZS5tYXAodGhpcy5leHBhbmRWYWx1ZSkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGV4cGFuZGVkVmFsdWUgPSB0aGlzLmV4cGFuZFZhbHVlKHZhbHVlKTtcblx0XHRcdHJldHVybiBleHBhbmRlZFZhbHVlID8gW2V4cGFuZGVkVmFsdWVdIDogW107XG5cdFx0fSxcblx0XG5cdFx0ZXhwYW5kVmFsdWU6IGZ1bmN0aW9uIGV4cGFuZFZhbHVlKHZhbHVlKSB7XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSByZXR1cm4gdmFsdWU7XG5cdFx0XHR2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0XHRcdHZhciBvcHRpb25zID0gX3Byb3BzLm9wdGlvbnM7XG5cdFx0XHR2YXIgdmFsdWVLZXkgPSBfcHJvcHMudmFsdWVLZXk7XG5cdFxuXHRcdFx0aWYgKCFvcHRpb25zKSByZXR1cm47XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKG9wdGlvbnNbaV1bdmFsdWVLZXldID09PSB2YWx1ZSkgcmV0dXJuIG9wdGlvbnNbaV07XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0c2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0XHRcdGlmICh0aGlzLnByb3BzLmF1dG9CbHVyKSB7XG5cdFx0XHRcdHRoaXMuYmx1cklucHV0KCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMub25DaGFuZ2UpIHJldHVybjtcblx0XHRcdGlmICh0aGlzLnByb3BzLnJlcXVpcmVkKSB7XG5cdFx0XHRcdHZhciByZXF1aXJlZCA9IHRoaXMuaGFuZGxlUmVxdWlyZWQodmFsdWUsIHRoaXMucHJvcHMubXVsdGkpO1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgcmVxdWlyZWQ6IHJlcXVpcmVkIH0pO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2ltcGxlVmFsdWUgJiYgdmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSB0aGlzLnByb3BzLm11bHRpID8gdmFsdWUubWFwKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGlbX3RoaXMucHJvcHMudmFsdWVLZXldO1xuXHRcdFx0XHR9KS5qb2luKHRoaXMucHJvcHMuZGVsaW1pdGVyKSA6IHZhbHVlW3RoaXMucHJvcHMudmFsdWVLZXldO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG5cdFx0fSxcblx0XG5cdFx0c2VsZWN0VmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFZhbHVlKHZhbHVlKSB7XG5cdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSBmYWxzZTtcblx0XHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRcdHRoaXMuYWRkVmFsdWUodmFsdWUpO1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpbnB1dFZhbHVlOiAnJ1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpc09wZW46IGZhbHNlLFxuXHRcdFx0XHRcdGlucHV0VmFsdWU6ICcnLFxuXHRcdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogdGhpcy5zdGF0ZS5pc0ZvY3VzZWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0YWRkVmFsdWU6IGZ1bmN0aW9uIGFkZFZhbHVlKHZhbHVlKSB7XG5cdFx0XHR2YXIgdmFsdWVBcnJheSA9IHRoaXMuZ2V0VmFsdWVBcnJheSgpO1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZUFycmF5LmNvbmNhdCh2YWx1ZSkpO1xuXHRcdH0sXG5cdFxuXHRcdHBvcFZhbHVlOiBmdW5jdGlvbiBwb3BWYWx1ZSgpIHtcblx0XHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0XHRpZiAoIXZhbHVlQXJyYXkubGVuZ3RoKSByZXR1cm47XG5cdFx0XHRpZiAodmFsdWVBcnJheVt2YWx1ZUFycmF5Lmxlbmd0aCAtIDFdLmNsZWFyYWJsZVZhbHVlID09PSBmYWxzZSkgcmV0dXJuO1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZUFycmF5LnNsaWNlKDAsIHZhbHVlQXJyYXkubGVuZ3RoIC0gMSkpO1xuXHRcdH0sXG5cdFxuXHRcdHJlbW92ZVZhbHVlOiBmdW5jdGlvbiByZW1vdmVWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHRcdHRoaXMuc2V0VmFsdWUodmFsdWVBcnJheS5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0cmV0dXJuIGkgIT09IHZhbHVlO1xuXHRcdFx0fSkpO1xuXHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdH0sXG5cdFxuXHRcdGNsZWFyVmFsdWU6IGZ1bmN0aW9uIGNsZWFyVmFsdWUoZXZlbnQpIHtcblx0XHRcdC8vIGlmIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgbW91c2Vkb3duIGFuZCBub3QgdGhlIHByaW1hcnlcblx0XHRcdC8vIGJ1dHRvbiwgaWdub3JlIGl0LlxuXHRcdFx0aWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNldFZhbHVlKG51bGwpO1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRcdGlucHV0VmFsdWU6ICcnXG5cdFx0XHR9LCB0aGlzLmZvY3VzKTtcblx0XHR9LFxuXHRcblx0XHRmb2N1c09wdGlvbjogZnVuY3Rpb24gZm9jdXNPcHRpb24ob3B0aW9uKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbjogb3B0aW9uXG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcblx0XHRmb2N1c05leHRPcHRpb246IGZ1bmN0aW9uIGZvY3VzTmV4dE9wdGlvbigpIHtcblx0XHRcdHRoaXMuZm9jdXNBZGphY2VudE9wdGlvbignbmV4dCcpO1xuXHRcdH0sXG5cdFxuXHRcdGZvY3VzUHJldmlvdXNPcHRpb246IGZ1bmN0aW9uIGZvY3VzUHJldmlvdXNPcHRpb24oKSB7XG5cdFx0XHR0aGlzLmZvY3VzQWRqYWNlbnRPcHRpb24oJ3ByZXZpb3VzJyk7XG5cdFx0fSxcblx0XG5cdFx0Zm9jdXNBZGphY2VudE9wdGlvbjogZnVuY3Rpb24gZm9jdXNBZGphY2VudE9wdGlvbihkaXIpIHtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5fdmlzaWJsZU9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdHJldHVybiAhaS5kaXNhYmxlZDtcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5fc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUgPSB0cnVlO1xuXHRcdFx0aWYgKCF0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpc09wZW46IHRydWUsXG5cdFx0XHRcdFx0aW5wdXRWYWx1ZTogJycsXG5cdFx0XHRcdFx0Zm9jdXNlZE9wdGlvbjogdGhpcy5fZm9jdXNlZE9wdGlvbiB8fCBvcHRpb25zW2RpciA9PT0gJ25leHQnID8gMCA6IG9wdGlvbnMubGVuZ3RoIC0gMV1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICghb3B0aW9ucy5sZW5ndGgpIHJldHVybjtcblx0XHRcdHZhciBmb2N1c2VkSW5kZXggPSAtMTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAodGhpcy5fZm9jdXNlZE9wdGlvbiA9PT0gb3B0aW9uc1tpXSkge1xuXHRcdFx0XHRcdGZvY3VzZWRJbmRleCA9IGk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHZhciBmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1swXTtcblx0XHRcdGlmIChkaXIgPT09ICduZXh0JyAmJiBmb2N1c2VkSW5kZXggPiAtMSAmJiBmb2N1c2VkSW5kZXggPCBvcHRpb25zLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbZm9jdXNlZEluZGV4ICsgMV07XG5cdFx0XHR9IGVsc2UgaWYgKGRpciA9PT0gJ3ByZXZpb3VzJykge1xuXHRcdFx0XHRpZiAoZm9jdXNlZEluZGV4ID4gMCkge1xuXHRcdFx0XHRcdGZvY3VzZWRPcHRpb24gPSBvcHRpb25zW2ZvY3VzZWRJbmRleCAtIDFdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvY3VzZWRPcHRpb24gPSBvcHRpb25zW29wdGlvbnMubGVuZ3RoIC0gMV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRmb2N1c2VkT3B0aW9uOiBmb2N1c2VkT3B0aW9uXG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcblx0XHRzZWxlY3RGb2N1c2VkT3B0aW9uOiBmdW5jdGlvbiBzZWxlY3RGb2N1c2VkT3B0aW9uKCkge1xuXHRcdFx0Ly8gaWYgKHRoaXMucHJvcHMuYWxsb3dDcmVhdGUgJiYgIXRoaXMuc3RhdGUuZm9jdXNlZE9wdGlvbikge1xuXHRcdFx0Ly8gXHRyZXR1cm4gdGhpcy5zZWxlY3RWYWx1ZSh0aGlzLnN0YXRlLmlucHV0VmFsdWUpO1xuXHRcdFx0Ly8gfVxuXHRcdFx0aWYgKHRoaXMuX2ZvY3VzZWRPcHRpb24pIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2VsZWN0VmFsdWUodGhpcy5fZm9jdXNlZE9wdGlvbik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyTG9hZGluZzogZnVuY3Rpb24gcmVuZGVyTG9hZGluZygpIHtcblx0XHRcdGlmICghdGhpcy5wcm9wcy5pc0xvYWRpbmcpIHJldHVybjtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J3NwYW4nLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1sb2FkaW5nLXpvbmUnLCAnYXJpYS1oaWRkZW4nOiAndHJ1ZScgfSxcblx0XHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ1NlbGVjdC1sb2FkaW5nJyB9KVxuXHRcdFx0KTtcblx0XHR9LFxuXHRcblx0XHRyZW5kZXJWYWx1ZTogZnVuY3Rpb24gcmVuZGVyVmFsdWUodmFsdWVBcnJheSwgaXNPcGVuKSB7XG5cdFx0XHR2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdFx0XHR2YXIgcmVuZGVyTGFiZWwgPSB0aGlzLnByb3BzLnZhbHVlUmVuZGVyZXIgfHwgdGhpcy5nZXRPcHRpb25MYWJlbDtcblx0XHRcdHZhciBWYWx1ZUNvbXBvbmVudCA9IHRoaXMucHJvcHMudmFsdWVDb21wb25lbnQ7XG5cdFx0XHRpZiAoIXZhbHVlQXJyYXkubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiAhdGhpcy5zdGF0ZS5pbnB1dFZhbHVlID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtcGxhY2Vob2xkZXInIH0sXG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5wbGFjZWhvbGRlclxuXHRcdFx0XHQpIDogbnVsbDtcblx0XHRcdH1cblx0XHRcdHZhciBvbkNsaWNrID0gdGhpcy5wcm9wcy5vblZhbHVlQ2xpY2sgPyB0aGlzLmhhbmRsZVZhbHVlQ2xpY2sgOiBudWxsO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlQXJyYXkubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFZhbHVlQ29tcG9uZW50LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRkaXNhYmxlZDogX3RoaXMyLnByb3BzLmRpc2FibGVkIHx8IHZhbHVlLmNsZWFyYWJsZVZhbHVlID09PSBmYWxzZSxcblx0XHRcdFx0XHRcdFx0a2V5OiAndmFsdWUtJyArIGkgKyAnLScgKyB2YWx1ZVtfdGhpczIucHJvcHMudmFsdWVLZXldLFxuXHRcdFx0XHRcdFx0XHRvbkNsaWNrOiBvbkNsaWNrLFxuXHRcdFx0XHRcdFx0XHRvblJlbW92ZTogX3RoaXMyLnJlbW92ZVZhbHVlLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRyZW5kZXJMYWJlbCh2YWx1ZSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSkge1xuXHRcdFx0XHRpZiAoaXNPcGVuKSBvbkNsaWNrID0gbnVsbDtcblx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFZhbHVlQ29tcG9uZW50LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGRpc2FibGVkOiB0aGlzLnByb3BzLmRpc2FibGVkLFxuXHRcdFx0XHRcdFx0b25DbGljazogb25DbGljayxcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZUFycmF5WzBdXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRyZW5kZXJMYWJlbCh2YWx1ZUFycmF5WzBdKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHJlbmRlcklucHV0OiBmdW5jdGlvbiByZW5kZXJJbnB1dCh2YWx1ZUFycmF5KSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSgnU2VsZWN0LWlucHV0JywgdGhpcy5wcm9wcy5pbnB1dFByb3BzLmNsYXNzTmFtZSk7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCAhdGhpcy5wcm9wcy5zZWFyY2hhYmxlKSB7XG5cdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnZGl2JywgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuaW5wdXRQcm9wcywge1xuXHRcdFx0XHRcdGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHRcdFx0XHRcdHRhYkluZGV4OiB0aGlzLnByb3BzLnRhYkluZGV4IHx8IDAsXG5cdFx0XHRcdFx0b25CbHVyOiB0aGlzLmhhbmRsZUlucHV0Qmx1cixcblx0XHRcdFx0XHRvbkZvY3VzOiB0aGlzLmhhbmRsZUlucHV0Rm9jdXMsXG5cdFx0XHRcdFx0cmVmOiAnaW5wdXQnLFxuXHRcdFx0XHRcdHN0eWxlOiB7IGJvcmRlcjogMCwgd2lkdGg6IDEsIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snIH0gfSkpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9yZWFjdElucHV0QXV0b3NpemUyWydkZWZhdWx0J10sIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmlucHV0UHJvcHMsIHtcblx0XHRcdFx0Y2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdHRhYkluZGV4OiB0aGlzLnByb3BzLnRhYkluZGV4LFxuXHRcdFx0XHRvbkJsdXI6IHRoaXMuaGFuZGxlSW5wdXRCbHVyLFxuXHRcdFx0XHRvbkNoYW5nZTogdGhpcy5oYW5kbGVJbnB1dENoYW5nZSxcblx0XHRcdFx0b25Gb2N1czogdGhpcy5oYW5kbGVJbnB1dEZvY3VzLFxuXHRcdFx0XHRtaW5XaWR0aDogJzUnLFxuXHRcdFx0XHRyZWY6ICdpbnB1dCcsXG5cdFx0XHRcdHJlcXVpcmVkOiB0aGlzLnN0YXRlLnJlcXVpcmVkLFxuXHRcdFx0XHR2YWx1ZTogdGhpcy5zdGF0ZS5pbnB1dFZhbHVlXG5cdFx0XHR9KSk7XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyQ2xlYXI6IGZ1bmN0aW9uIHJlbmRlckNsZWFyKCkge1xuXHRcdFx0aWYgKCF0aGlzLnByb3BzLmNsZWFyYWJsZSB8fCAhdGhpcy5wcm9wcy52YWx1ZSB8fCB0aGlzLnByb3BzLm11bHRpICYmICF0aGlzLnByb3BzLnZhbHVlLmxlbmd0aCB8fCB0aGlzLnByb3BzLmRpc2FibGVkIHx8IHRoaXMucHJvcHMuaXNMb2FkaW5nKSByZXR1cm47XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdzcGFuJyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtY2xlYXItem9uZScsIHRpdGxlOiB0aGlzLnByb3BzLm11bHRpID8gdGhpcy5wcm9wcy5jbGVhckFsbFRleHQgOiB0aGlzLnByb3BzLmNsZWFyVmFsdWVUZXh0LFxuXHRcdFx0XHRcdCdhcmlhLWxhYmVsJzogdGhpcy5wcm9wcy5tdWx0aSA/IHRoaXMucHJvcHMuY2xlYXJBbGxUZXh0IDogdGhpcy5wcm9wcy5jbGVhclZhbHVlVGV4dCxcblx0XHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5jbGVhclZhbHVlLFxuXHRcdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRcdG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcblx0XHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZSB9LFxuXHRcdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWNsZWFyJywgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiAnJnRpbWVzOycgfSB9KVxuXHRcdFx0KTtcblx0XHR9LFxuXHRcblx0XHRyZW5kZXJBcnJvdzogZnVuY3Rpb24gcmVuZGVyQXJyb3coKSB7XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdzcGFuJyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtYXJyb3ctem9uZScsIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bk9uQXJyb3cgfSxcblx0XHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ1NlbGVjdC1hcnJvdycsIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bk9uQXJyb3cgfSlcblx0XHRcdCk7XG5cdFx0fSxcblx0XG5cdFx0ZmlsdGVyT3B0aW9uczogZnVuY3Rpb24gZmlsdGVyT3B0aW9ucyhleGNsdWRlT3B0aW9ucykge1xuXHRcdFx0dmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHRcdFx0dmFyIGZpbHRlclZhbHVlID0gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlO1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnMgfHwgW107XG5cdFx0XHRpZiAodHlwZW9mIHRoaXMucHJvcHMuZmlsdGVyT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5maWx0ZXJPcHRpb25zLmNhbGwodGhpcywgb3B0aW9ucywgZmlsdGVyVmFsdWUsIGV4Y2x1ZGVPcHRpb25zKTtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5wcm9wcy5maWx0ZXJPcHRpb25zKSB7XG5cdFx0XHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUFjY2VudHMpIHtcblx0XHRcdFx0XHRmaWx0ZXJWYWx1ZSA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKGZpbHRlclZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy5wcm9wcy5pZ25vcmVDYXNlKSB7XG5cdFx0XHRcdFx0ZmlsdGVyVmFsdWUgPSBmaWx0ZXJWYWx1ZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChleGNsdWRlT3B0aW9ucykgZXhjbHVkZU9wdGlvbnMgPSBleGNsdWRlT3B0aW9ucy5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0XHRyZXR1cm4gaVtfdGhpczMucHJvcHMudmFsdWVLZXldO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0XHRcdFx0XHRpZiAoZXhjbHVkZU9wdGlvbnMgJiYgZXhjbHVkZU9wdGlvbnMuaW5kZXhPZihvcHRpb25bX3RoaXMzLnByb3BzLnZhbHVlS2V5XSkgPiAtMSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMuZmlsdGVyT3B0aW9uKSByZXR1cm4gX3RoaXMzLnByb3BzLmZpbHRlck9wdGlvbi5jYWxsKF90aGlzMywgb3B0aW9uLCBmaWx0ZXJWYWx1ZSk7XG5cdFx0XHRcdFx0aWYgKCFmaWx0ZXJWYWx1ZSkgcmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0dmFyIHZhbHVlVGVzdCA9IFN0cmluZyhvcHRpb25bX3RoaXMzLnByb3BzLnZhbHVlS2V5XSk7XG5cdFx0XHRcdFx0dmFyIGxhYmVsVGVzdCA9IFN0cmluZyhvcHRpb25bX3RoaXMzLnByb3BzLmxhYmVsS2V5XSk7XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5pZ25vcmVBY2NlbnRzKSB7XG5cdFx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJykgdmFsdWVUZXN0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkodmFsdWVUZXN0KTtcblx0XHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAndmFsdWUnKSBsYWJlbFRlc3QgPSAoMCwgX3V0aWxzU3RyaXBEaWFjcml0aWNzMlsnZGVmYXVsdCddKShsYWJlbFRlc3QpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmlnbm9yZUNhc2UpIHtcblx0XHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAnbGFiZWwnKSB2YWx1ZVRlc3QgPSB2YWx1ZVRlc3QudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAndmFsdWUnKSBsYWJlbFRlc3QgPSBsYWJlbFRlc3QudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIF90aGlzMy5wcm9wcy5tYXRjaFBvcyA9PT0gJ3N0YXJ0JyA/IF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICdsYWJlbCcgJiYgdmFsdWVUZXN0LnN1YnN0cigwLCBmaWx0ZXJWYWx1ZS5sZW5ndGgpID09PSBmaWx0ZXJWYWx1ZSB8fCBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAndmFsdWUnICYmIGxhYmVsVGVzdC5zdWJzdHIoMCwgZmlsdGVyVmFsdWUubGVuZ3RoKSA9PT0gZmlsdGVyVmFsdWUgOiBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAnbGFiZWwnICYmIHZhbHVlVGVzdC5pbmRleE9mKGZpbHRlclZhbHVlKSA+PSAwIHx8IF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScgJiYgbGFiZWxUZXN0LmluZGV4T2YoZmlsdGVyVmFsdWUpID49IDA7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnM7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyTWVudTogZnVuY3Rpb24gcmVuZGVyTWVudShvcHRpb25zLCB2YWx1ZUFycmF5LCBmb2N1c2VkT3B0aW9uKSB7XG5cdFx0XHR2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdFx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgX3JldCA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dmFyIE9wdGlvbiA9IF90aGlzNC5wcm9wcy5vcHRpb25Db21wb25lbnQ7XG5cdFx0XHRcdFx0dmFyIHJlbmRlckxhYmVsID0gX3RoaXM0LnByb3BzLm9wdGlvblJlbmRlcmVyIHx8IF90aGlzNC5nZXRPcHRpb25MYWJlbDtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHY6IG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24sIGkpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGlzU2VsZWN0ZWQgPSB2YWx1ZUFycmF5ICYmIHZhbHVlQXJyYXkuaW5kZXhPZihvcHRpb24pID4gLTE7XG5cdFx0XHRcdFx0XHRcdHZhciBpc0ZvY3VzZWQgPSBvcHRpb24gPT09IGZvY3VzZWRPcHRpb247XG5cdFx0XHRcdFx0XHRcdHZhciBvcHRpb25SZWYgPSBpc0ZvY3VzZWQgPyAnZm9jdXNlZCcgOiBudWxsO1xuXHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9uQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKHtcblx0XHRcdFx0XHRcdFx0XHQnU2VsZWN0LW9wdGlvbic6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0J2lzLXNlbGVjdGVkJzogaXNTZWxlY3RlZCxcblx0XHRcdFx0XHRcdFx0XHQnaXMtZm9jdXNlZCc6IGlzRm9jdXNlZCxcblx0XHRcdFx0XHRcdFx0XHQnaXMtZGlzYWJsZWQnOiBvcHRpb24uZGlzYWJsZWRcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRcdFx0T3B0aW9uLFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogb3B0aW9uQ2xhc3MsXG5cdFx0XHRcdFx0XHRcdFx0XHRpc0Rpc2FibGVkOiBvcHRpb24uZGlzYWJsZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcblx0XHRcdFx0XHRcdFx0XHRcdGtleTogJ29wdGlvbi0nICsgaSArICctJyArIG9wdGlvbltfdGhpczQucHJvcHMudmFsdWVLZXldLFxuXHRcdFx0XHRcdFx0XHRcdFx0b25TZWxlY3Q6IF90aGlzNC5zZWxlY3RWYWx1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdG9uRm9jdXM6IF90aGlzNC5mb2N1c09wdGlvbixcblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbjogb3B0aW9uLFxuXHRcdFx0XHRcdFx0XHRcdFx0aXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcblx0XHRcdFx0XHRcdFx0XHRcdHJlZjogb3B0aW9uUmVmXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRyZW5kZXJMYWJlbChvcHRpb24pXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pKCk7XG5cdFxuXHRcdFx0XHRpZiAodHlwZW9mIF9yZXQgPT09ICdvYmplY3QnKSByZXR1cm4gX3JldC52O1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnByb3BzLm5vUmVzdWx0c1RleHQpIHtcblx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LW5vcmVzdWx0cycgfSxcblx0XHRcdFx0XHR0aGlzLnByb3BzLm5vUmVzdWx0c1RleHRcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHJlbmRlckhpZGRlbkZpZWxkOiBmdW5jdGlvbiByZW5kZXJIaWRkZW5GaWVsZCh2YWx1ZUFycmF5KSB7XG5cdFx0XHR2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMubmFtZSkgcmV0dXJuO1xuXHRcdFx0dmFyIHZhbHVlID0gdmFsdWVBcnJheS5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0cmV0dXJuIHN0cmluZ2lmeVZhbHVlKGlbX3RoaXM1LnByb3BzLnZhbHVlS2V5XSk7XG5cdFx0XHR9KS5qb2luKHRoaXMucHJvcHMuZGVsaW1pdGVyKTtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdoaWRkZW4nLCByZWY6ICd2YWx1ZScsIG5hbWU6IHRoaXMucHJvcHMubmFtZSwgdmFsdWU6IHZhbHVlLCBkaXNhYmxlZDogdGhpcy5wcm9wcy5kaXNhYmxlZCB9KTtcblx0XHR9LFxuXHRcblx0XHRnZXRGb2N1c2FibGVPcHRpb246IGZ1bmN0aW9uIGdldEZvY3VzYWJsZU9wdGlvbihzZWxlY3RlZE9wdGlvbikge1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl92aXNpYmxlT3B0aW9ucztcblx0XHRcdGlmICghb3B0aW9ucy5sZW5ndGgpIHJldHVybjtcblx0XHRcdHZhciBmb2N1c2VkT3B0aW9uID0gdGhpcy5zdGF0ZS5mb2N1c2VkT3B0aW9uIHx8IHNlbGVjdGVkT3B0aW9uO1xuXHRcdFx0aWYgKGZvY3VzZWRPcHRpb24gJiYgb3B0aW9ucy5pbmRleE9mKGZvY3VzZWRPcHRpb24pID4gLTEpIHJldHVybiBmb2N1c2VkT3B0aW9uO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmICghb3B0aW9uc1tpXS5kaXNhYmxlZCkgcmV0dXJuIG9wdGlvbnNbaV07XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHR2YXIgdmFsdWVBcnJheSA9IHRoaXMuZ2V0VmFsdWVBcnJheSgpO1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl92aXNpYmxlT3B0aW9ucyA9IHRoaXMuZmlsdGVyT3B0aW9ucyh0aGlzLnByb3BzLm11bHRpID8gdmFsdWVBcnJheSA6IG51bGwpO1xuXHRcdFx0dmFyIGlzT3BlbiA9IHRoaXMuc3RhdGUuaXNPcGVuO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMubXVsdGkgJiYgIW9wdGlvbnMubGVuZ3RoICYmIHZhbHVlQXJyYXkubGVuZ3RoICYmICF0aGlzLnN0YXRlLmlucHV0VmFsdWUpIGlzT3BlbiA9IGZhbHNlO1xuXHRcdFx0dmFyIGZvY3VzZWRPcHRpb24gPSB0aGlzLl9mb2N1c2VkT3B0aW9uID0gdGhpcy5nZXRGb2N1c2FibGVPcHRpb24odmFsdWVBcnJheVswXSk7XG5cdFx0XHR2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSgnU2VsZWN0JywgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHtcblx0XHRcdFx0J1NlbGVjdC0tbXVsdGknOiB0aGlzLnByb3BzLm11bHRpLFxuXHRcdFx0XHQnaXMtZGlzYWJsZWQnOiB0aGlzLnByb3BzLmRpc2FibGVkLFxuXHRcdFx0XHQnaXMtZm9jdXNlZCc6IHRoaXMuc3RhdGUuaXNGb2N1c2VkLFxuXHRcdFx0XHQnaXMtbG9hZGluZyc6IHRoaXMucHJvcHMuaXNMb2FkaW5nLFxuXHRcdFx0XHQnaXMtb3Blbic6IGlzT3Blbixcblx0XHRcdFx0J2lzLXBzZXVkby1mb2N1c2VkJzogdGhpcy5zdGF0ZS5pc1BzZXVkb0ZvY3VzZWQsXG5cdFx0XHRcdCdpcy1zZWFyY2hhYmxlJzogdGhpcy5wcm9wcy5zZWFyY2hhYmxlLFxuXHRcdFx0XHQnaGFzLXZhbHVlJzogdmFsdWVBcnJheS5sZW5ndGhcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyByZWY6ICd3cmFwcGVyJywgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiB0aGlzLnByb3BzLndyYXBwZXJTdHlsZSB9LFxuXHRcdFx0XHR0aGlzLnJlbmRlckhpZGRlbkZpZWxkKHZhbHVlQXJyYXkpLFxuXHRcdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHR7IHJlZjogJ2NvbnRyb2wnLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAnU2VsZWN0LWNvbnRyb2wnLFxuXHRcdFx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMuc3R5bGUsXG5cdFx0XHRcdFx0XHRvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93bixcblx0XHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bixcblx0XHRcdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG5cdFx0XHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0XHRcdG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSB9LFxuXHRcdFx0XHRcdHRoaXMucmVuZGVyVmFsdWUodmFsdWVBcnJheSwgaXNPcGVuKSxcblx0XHRcdFx0XHR0aGlzLnJlbmRlcklucHV0KHZhbHVlQXJyYXkpLFxuXHRcdFx0XHRcdHRoaXMucmVuZGVyTG9hZGluZygpLFxuXHRcdFx0XHRcdHRoaXMucmVuZGVyQ2xlYXIoKSxcblx0XHRcdFx0XHR0aGlzLnJlbmRlckFycm93KClcblx0XHRcdFx0KSxcblx0XHRcdFx0aXNPcGVuID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0eyByZWY6ICdtZW51Q29udGFpbmVyJywgY2xhc3NOYW1lOiAnU2VsZWN0LW1lbnUtb3V0ZXInLCBzdHlsZTogdGhpcy5wcm9wcy5tZW51Q29udGFpbmVyU3R5bGUgfSxcblx0XHRcdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdFx0eyByZWY6ICdtZW51JywgY2xhc3NOYW1lOiAnU2VsZWN0LW1lbnUnLFxuXHRcdFx0XHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy5tZW51U3R5bGUsXG5cdFx0XHRcdFx0XHRcdG9uU2Nyb2xsOiB0aGlzLmhhbmRsZU1lbnVTY3JvbGwsXG5cdFx0XHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bk9uTWVudSB9LFxuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXJNZW51KG9wdGlvbnMsICF0aGlzLnByb3BzLm11bHRpID8gdmFsdWVBcnJheSA6IG51bGwsIGZvY3VzZWRPcHRpb24pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIDogbnVsbFxuXHRcdFx0KTtcblx0XHR9XG5cdFxuXHR9KTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNlbGVjdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIG1hcCA9IFt7ICdiYXNlJzogJ0EnLCAnbGV0dGVycyc6IC9bXFx1MDA0MVxcdTI0QjZcXHVGRjIxXFx1MDBDMFxcdTAwQzFcXHUwMEMyXFx1MUVBNlxcdTFFQTRcXHUxRUFBXFx1MUVBOFxcdTAwQzNcXHUwMTAwXFx1MDEwMlxcdTFFQjBcXHUxRUFFXFx1MUVCNFxcdTFFQjJcXHUwMjI2XFx1MDFFMFxcdTAwQzRcXHUwMURFXFx1MUVBMlxcdTAwQzVcXHUwMUZBXFx1MDFDRFxcdTAyMDBcXHUwMjAyXFx1MUVBMFxcdTFFQUNcXHUxRUI2XFx1MUUwMFxcdTAxMDRcXHUwMjNBXFx1MkM2Rl0vZyB9LCB7ICdiYXNlJzogJ0FBJywgJ2xldHRlcnMnOiAvW1xcdUE3MzJdL2cgfSwgeyAnYmFzZSc6ICdBRScsICdsZXR0ZXJzJzogL1tcXHUwMEM2XFx1MDFGQ1xcdTAxRTJdL2cgfSwgeyAnYmFzZSc6ICdBTycsICdsZXR0ZXJzJzogL1tcXHVBNzM0XS9nIH0sIHsgJ2Jhc2UnOiAnQVUnLCAnbGV0dGVycyc6IC9bXFx1QTczNl0vZyB9LCB7ICdiYXNlJzogJ0FWJywgJ2xldHRlcnMnOiAvW1xcdUE3MzhcXHVBNzNBXS9nIH0sIHsgJ2Jhc2UnOiAnQVknLCAnbGV0dGVycyc6IC9bXFx1QTczQ10vZyB9LCB7ICdiYXNlJzogJ0InLCAnbGV0dGVycyc6IC9bXFx1MDA0MlxcdTI0QjdcXHVGRjIyXFx1MUUwMlxcdTFFMDRcXHUxRTA2XFx1MDI0M1xcdTAxODJcXHUwMTgxXS9nIH0sIHsgJ2Jhc2UnOiAnQycsICdsZXR0ZXJzJzogL1tcXHUwMDQzXFx1MjRCOFxcdUZGMjNcXHUwMTA2XFx1MDEwOFxcdTAxMEFcXHUwMTBDXFx1MDBDN1xcdTFFMDhcXHUwMTg3XFx1MDIzQlxcdUE3M0VdL2cgfSwgeyAnYmFzZSc6ICdEJywgJ2xldHRlcnMnOiAvW1xcdTAwNDRcXHUyNEI5XFx1RkYyNFxcdTFFMEFcXHUwMTBFXFx1MUUwQ1xcdTFFMTBcXHUxRTEyXFx1MUUwRVxcdTAxMTBcXHUwMThCXFx1MDE4QVxcdTAxODlcXHVBNzc5XS9nIH0sIHsgJ2Jhc2UnOiAnRFonLCAnbGV0dGVycyc6IC9bXFx1MDFGMVxcdTAxQzRdL2cgfSwgeyAnYmFzZSc6ICdEeicsICdsZXR0ZXJzJzogL1tcXHUwMUYyXFx1MDFDNV0vZyB9LCB7ICdiYXNlJzogJ0UnLCAnbGV0dGVycyc6IC9bXFx1MDA0NVxcdTI0QkFcXHVGRjI1XFx1MDBDOFxcdTAwQzlcXHUwMENBXFx1MUVDMFxcdTFFQkVcXHUxRUM0XFx1MUVDMlxcdTFFQkNcXHUwMTEyXFx1MUUxNFxcdTFFMTZcXHUwMTE0XFx1MDExNlxcdTAwQ0JcXHUxRUJBXFx1MDExQVxcdTAyMDRcXHUwMjA2XFx1MUVCOFxcdTFFQzZcXHUwMjI4XFx1MUUxQ1xcdTAxMThcXHUxRTE4XFx1MUUxQVxcdTAxOTBcXHUwMThFXS9nIH0sIHsgJ2Jhc2UnOiAnRicsICdsZXR0ZXJzJzogL1tcXHUwMDQ2XFx1MjRCQlxcdUZGMjZcXHUxRTFFXFx1MDE5MVxcdUE3N0JdL2cgfSwgeyAnYmFzZSc6ICdHJywgJ2xldHRlcnMnOiAvW1xcdTAwNDdcXHUyNEJDXFx1RkYyN1xcdTAxRjRcXHUwMTFDXFx1MUUyMFxcdTAxMUVcXHUwMTIwXFx1MDFFNlxcdTAxMjJcXHUwMUU0XFx1MDE5M1xcdUE3QTBcXHVBNzdEXFx1QTc3RV0vZyB9LCB7ICdiYXNlJzogJ0gnLCAnbGV0dGVycyc6IC9bXFx1MDA0OFxcdTI0QkRcXHVGRjI4XFx1MDEyNFxcdTFFMjJcXHUxRTI2XFx1MDIxRVxcdTFFMjRcXHUxRTI4XFx1MUUyQVxcdTAxMjZcXHUyQzY3XFx1MkM3NVxcdUE3OERdL2cgfSwgeyAnYmFzZSc6ICdJJywgJ2xldHRlcnMnOiAvW1xcdTAwNDlcXHUyNEJFXFx1RkYyOVxcdTAwQ0NcXHUwMENEXFx1MDBDRVxcdTAxMjhcXHUwMTJBXFx1MDEyQ1xcdTAxMzBcXHUwMENGXFx1MUUyRVxcdTFFQzhcXHUwMUNGXFx1MDIwOFxcdTAyMEFcXHUxRUNBXFx1MDEyRVxcdTFFMkNcXHUwMTk3XS9nIH0sIHsgJ2Jhc2UnOiAnSicsICdsZXR0ZXJzJzogL1tcXHUwMDRBXFx1MjRCRlxcdUZGMkFcXHUwMTM0XFx1MDI0OF0vZyB9LCB7ICdiYXNlJzogJ0snLCAnbGV0dGVycyc6IC9bXFx1MDA0QlxcdTI0QzBcXHVGRjJCXFx1MUUzMFxcdTAxRThcXHUxRTMyXFx1MDEzNlxcdTFFMzRcXHUwMTk4XFx1MkM2OVxcdUE3NDBcXHVBNzQyXFx1QTc0NFxcdUE3QTJdL2cgfSwgeyAnYmFzZSc6ICdMJywgJ2xldHRlcnMnOiAvW1xcdTAwNENcXHUyNEMxXFx1RkYyQ1xcdTAxM0ZcXHUwMTM5XFx1MDEzRFxcdTFFMzZcXHUxRTM4XFx1MDEzQlxcdTFFM0NcXHUxRTNBXFx1MDE0MVxcdTAyM0RcXHUyQzYyXFx1MkM2MFxcdUE3NDhcXHVBNzQ2XFx1QTc4MF0vZyB9LCB7ICdiYXNlJzogJ0xKJywgJ2xldHRlcnMnOiAvW1xcdTAxQzddL2cgfSwgeyAnYmFzZSc6ICdMaicsICdsZXR0ZXJzJzogL1tcXHUwMUM4XS9nIH0sIHsgJ2Jhc2UnOiAnTScsICdsZXR0ZXJzJzogL1tcXHUwMDREXFx1MjRDMlxcdUZGMkRcXHUxRTNFXFx1MUU0MFxcdTFFNDJcXHUyQzZFXFx1MDE5Q10vZyB9LCB7ICdiYXNlJzogJ04nLCAnbGV0dGVycyc6IC9bXFx1MDA0RVxcdTI0QzNcXHVGRjJFXFx1MDFGOFxcdTAxNDNcXHUwMEQxXFx1MUU0NFxcdTAxNDdcXHUxRTQ2XFx1MDE0NVxcdTFFNEFcXHUxRTQ4XFx1MDIyMFxcdTAxOURcXHVBNzkwXFx1QTdBNF0vZyB9LCB7ICdiYXNlJzogJ05KJywgJ2xldHRlcnMnOiAvW1xcdTAxQ0FdL2cgfSwgeyAnYmFzZSc6ICdOaicsICdsZXR0ZXJzJzogL1tcXHUwMUNCXS9nIH0sIHsgJ2Jhc2UnOiAnTycsICdsZXR0ZXJzJzogL1tcXHUwMDRGXFx1MjRDNFxcdUZGMkZcXHUwMEQyXFx1MDBEM1xcdTAwRDRcXHUxRUQyXFx1MUVEMFxcdTFFRDZcXHUxRUQ0XFx1MDBENVxcdTFFNENcXHUwMjJDXFx1MUU0RVxcdTAxNENcXHUxRTUwXFx1MUU1MlxcdTAxNEVcXHUwMjJFXFx1MDIzMFxcdTAwRDZcXHUwMjJBXFx1MUVDRVxcdTAxNTBcXHUwMUQxXFx1MDIwQ1xcdTAyMEVcXHUwMUEwXFx1MUVEQ1xcdTFFREFcXHUxRUUwXFx1MUVERVxcdTFFRTJcXHUxRUNDXFx1MUVEOFxcdTAxRUFcXHUwMUVDXFx1MDBEOFxcdTAxRkVcXHUwMTg2XFx1MDE5RlxcdUE3NEFcXHVBNzRDXS9nIH0sIHsgJ2Jhc2UnOiAnT0knLCAnbGV0dGVycyc6IC9bXFx1MDFBMl0vZyB9LCB7ICdiYXNlJzogJ09PJywgJ2xldHRlcnMnOiAvW1xcdUE3NEVdL2cgfSwgeyAnYmFzZSc6ICdPVScsICdsZXR0ZXJzJzogL1tcXHUwMjIyXS9nIH0sIHsgJ2Jhc2UnOiAnUCcsICdsZXR0ZXJzJzogL1tcXHUwMDUwXFx1MjRDNVxcdUZGMzBcXHUxRTU0XFx1MUU1NlxcdTAxQTRcXHUyQzYzXFx1QTc1MFxcdUE3NTJcXHVBNzU0XS9nIH0sIHsgJ2Jhc2UnOiAnUScsICdsZXR0ZXJzJzogL1tcXHUwMDUxXFx1MjRDNlxcdUZGMzFcXHVBNzU2XFx1QTc1OFxcdTAyNEFdL2cgfSwgeyAnYmFzZSc6ICdSJywgJ2xldHRlcnMnOiAvW1xcdTAwNTJcXHUyNEM3XFx1RkYzMlxcdTAxNTRcXHUxRTU4XFx1MDE1OFxcdTAyMTBcXHUwMjEyXFx1MUU1QVxcdTFFNUNcXHUwMTU2XFx1MUU1RVxcdTAyNENcXHUyQzY0XFx1QTc1QVxcdUE3QTZcXHVBNzgyXS9nIH0sIHsgJ2Jhc2UnOiAnUycsICdsZXR0ZXJzJzogL1tcXHUwMDUzXFx1MjRDOFxcdUZGMzNcXHUxRTlFXFx1MDE1QVxcdTFFNjRcXHUwMTVDXFx1MUU2MFxcdTAxNjBcXHUxRTY2XFx1MUU2MlxcdTFFNjhcXHUwMjE4XFx1MDE1RVxcdTJDN0VcXHVBN0E4XFx1QTc4NF0vZyB9LCB7ICdiYXNlJzogJ1QnLCAnbGV0dGVycyc6IC9bXFx1MDA1NFxcdTI0QzlcXHVGRjM0XFx1MUU2QVxcdTAxNjRcXHUxRTZDXFx1MDIxQVxcdTAxNjJcXHUxRTcwXFx1MUU2RVxcdTAxNjZcXHUwMUFDXFx1MDFBRVxcdTAyM0VcXHVBNzg2XS9nIH0sIHsgJ2Jhc2UnOiAnVFonLCAnbGV0dGVycyc6IC9bXFx1QTcyOF0vZyB9LCB7ICdiYXNlJzogJ1UnLCAnbGV0dGVycyc6IC9bXFx1MDA1NVxcdTI0Q0FcXHVGRjM1XFx1MDBEOVxcdTAwREFcXHUwMERCXFx1MDE2OFxcdTFFNzhcXHUwMTZBXFx1MUU3QVxcdTAxNkNcXHUwMERDXFx1MDFEQlxcdTAxRDdcXHUwMUQ1XFx1MDFEOVxcdTFFRTZcXHUwMTZFXFx1MDE3MFxcdTAxRDNcXHUwMjE0XFx1MDIxNlxcdTAxQUZcXHUxRUVBXFx1MUVFOFxcdTFFRUVcXHUxRUVDXFx1MUVGMFxcdTFFRTRcXHUxRTcyXFx1MDE3MlxcdTFFNzZcXHUxRTc0XFx1MDI0NF0vZyB9LCB7ICdiYXNlJzogJ1YnLCAnbGV0dGVycyc6IC9bXFx1MDA1NlxcdTI0Q0JcXHVGRjM2XFx1MUU3Q1xcdTFFN0VcXHUwMUIyXFx1QTc1RVxcdTAyNDVdL2cgfSwgeyAnYmFzZSc6ICdWWScsICdsZXR0ZXJzJzogL1tcXHVBNzYwXS9nIH0sIHsgJ2Jhc2UnOiAnVycsICdsZXR0ZXJzJzogL1tcXHUwMDU3XFx1MjRDQ1xcdUZGMzdcXHUxRTgwXFx1MUU4MlxcdTAxNzRcXHUxRTg2XFx1MUU4NFxcdTFFODhcXHUyQzcyXS9nIH0sIHsgJ2Jhc2UnOiAnWCcsICdsZXR0ZXJzJzogL1tcXHUwMDU4XFx1MjRDRFxcdUZGMzhcXHUxRThBXFx1MUU4Q10vZyB9LCB7ICdiYXNlJzogJ1knLCAnbGV0dGVycyc6IC9bXFx1MDA1OVxcdTI0Q0VcXHVGRjM5XFx1MUVGMlxcdTAwRERcXHUwMTc2XFx1MUVGOFxcdTAyMzJcXHUxRThFXFx1MDE3OFxcdTFFRjZcXHUxRUY0XFx1MDFCM1xcdTAyNEVcXHUxRUZFXS9nIH0sIHsgJ2Jhc2UnOiAnWicsICdsZXR0ZXJzJzogL1tcXHUwMDVBXFx1MjRDRlxcdUZGM0FcXHUwMTc5XFx1MUU5MFxcdTAxN0JcXHUwMTdEXFx1MUU5MlxcdTFFOTRcXHUwMUI1XFx1MDIyNFxcdTJDN0ZcXHUyQzZCXFx1QTc2Ml0vZyB9LCB7ICdiYXNlJzogJ2EnLCAnbGV0dGVycyc6IC9bXFx1MDA2MVxcdTI0RDBcXHVGRjQxXFx1MUU5QVxcdTAwRTBcXHUwMEUxXFx1MDBFMlxcdTFFQTdcXHUxRUE1XFx1MUVBQlxcdTFFQTlcXHUwMEUzXFx1MDEwMVxcdTAxMDNcXHUxRUIxXFx1MUVBRlxcdTFFQjVcXHUxRUIzXFx1MDIyN1xcdTAxRTFcXHUwMEU0XFx1MDFERlxcdTFFQTNcXHUwMEU1XFx1MDFGQlxcdTAxQ0VcXHUwMjAxXFx1MDIwM1xcdTFFQTFcXHUxRUFEXFx1MUVCN1xcdTFFMDFcXHUwMTA1XFx1MkM2NVxcdTAyNTBdL2cgfSwgeyAnYmFzZSc6ICdhYScsICdsZXR0ZXJzJzogL1tcXHVBNzMzXS9nIH0sIHsgJ2Jhc2UnOiAnYWUnLCAnbGV0dGVycyc6IC9bXFx1MDBFNlxcdTAxRkRcXHUwMUUzXS9nIH0sIHsgJ2Jhc2UnOiAnYW8nLCAnbGV0dGVycyc6IC9bXFx1QTczNV0vZyB9LCB7ICdiYXNlJzogJ2F1JywgJ2xldHRlcnMnOiAvW1xcdUE3MzddL2cgfSwgeyAnYmFzZSc6ICdhdicsICdsZXR0ZXJzJzogL1tcXHVBNzM5XFx1QTczQl0vZyB9LCB7ICdiYXNlJzogJ2F5JywgJ2xldHRlcnMnOiAvW1xcdUE3M0RdL2cgfSwgeyAnYmFzZSc6ICdiJywgJ2xldHRlcnMnOiAvW1xcdTAwNjJcXHUyNEQxXFx1RkY0MlxcdTFFMDNcXHUxRTA1XFx1MUUwN1xcdTAxODBcXHUwMTgzXFx1MDI1M10vZyB9LCB7ICdiYXNlJzogJ2MnLCAnbGV0dGVycyc6IC9bXFx1MDA2M1xcdTI0RDJcXHVGRjQzXFx1MDEwN1xcdTAxMDlcXHUwMTBCXFx1MDEwRFxcdTAwRTdcXHUxRTA5XFx1MDE4OFxcdTAyM0NcXHVBNzNGXFx1MjE4NF0vZyB9LCB7ICdiYXNlJzogJ2QnLCAnbGV0dGVycyc6IC9bXFx1MDA2NFxcdTI0RDNcXHVGRjQ0XFx1MUUwQlxcdTAxMEZcXHUxRTBEXFx1MUUxMVxcdTFFMTNcXHUxRTBGXFx1MDExMVxcdTAxOENcXHUwMjU2XFx1MDI1N1xcdUE3N0FdL2cgfSwgeyAnYmFzZSc6ICdkeicsICdsZXR0ZXJzJzogL1tcXHUwMUYzXFx1MDFDNl0vZyB9LCB7ICdiYXNlJzogJ2UnLCAnbGV0dGVycyc6IC9bXFx1MDA2NVxcdTI0RDRcXHVGRjQ1XFx1MDBFOFxcdTAwRTlcXHUwMEVBXFx1MUVDMVxcdTFFQkZcXHUxRUM1XFx1MUVDM1xcdTFFQkRcXHUwMTEzXFx1MUUxNVxcdTFFMTdcXHUwMTE1XFx1MDExN1xcdTAwRUJcXHUxRUJCXFx1MDExQlxcdTAyMDVcXHUwMjA3XFx1MUVCOVxcdTFFQzdcXHUwMjI5XFx1MUUxRFxcdTAxMTlcXHUxRTE5XFx1MUUxQlxcdTAyNDdcXHUwMjVCXFx1MDFERF0vZyB9LCB7ICdiYXNlJzogJ2YnLCAnbGV0dGVycyc6IC9bXFx1MDA2NlxcdTI0RDVcXHVGRjQ2XFx1MUUxRlxcdTAxOTJcXHVBNzdDXS9nIH0sIHsgJ2Jhc2UnOiAnZycsICdsZXR0ZXJzJzogL1tcXHUwMDY3XFx1MjRENlxcdUZGNDdcXHUwMUY1XFx1MDExRFxcdTFFMjFcXHUwMTFGXFx1MDEyMVxcdTAxRTdcXHUwMTIzXFx1MDFFNVxcdTAyNjBcXHVBN0ExXFx1MUQ3OVxcdUE3N0ZdL2cgfSwgeyAnYmFzZSc6ICdoJywgJ2xldHRlcnMnOiAvW1xcdTAwNjhcXHUyNEQ3XFx1RkY0OFxcdTAxMjVcXHUxRTIzXFx1MUUyN1xcdTAyMUZcXHUxRTI1XFx1MUUyOVxcdTFFMkJcXHUxRTk2XFx1MDEyN1xcdTJDNjhcXHUyQzc2XFx1MDI2NV0vZyB9LCB7ICdiYXNlJzogJ2h2JywgJ2xldHRlcnMnOiAvW1xcdTAxOTVdL2cgfSwgeyAnYmFzZSc6ICdpJywgJ2xldHRlcnMnOiAvW1xcdTAwNjlcXHUyNEQ4XFx1RkY0OVxcdTAwRUNcXHUwMEVEXFx1MDBFRVxcdTAxMjlcXHUwMTJCXFx1MDEyRFxcdTAwRUZcXHUxRTJGXFx1MUVDOVxcdTAxRDBcXHUwMjA5XFx1MDIwQlxcdTFFQ0JcXHUwMTJGXFx1MUUyRFxcdTAyNjhcXHUwMTMxXS9nIH0sIHsgJ2Jhc2UnOiAnaicsICdsZXR0ZXJzJzogL1tcXHUwMDZBXFx1MjREOVxcdUZGNEFcXHUwMTM1XFx1MDFGMFxcdTAyNDldL2cgfSwgeyAnYmFzZSc6ICdrJywgJ2xldHRlcnMnOiAvW1xcdTAwNkJcXHUyNERBXFx1RkY0QlxcdTFFMzFcXHUwMUU5XFx1MUUzM1xcdTAxMzdcXHUxRTM1XFx1MDE5OVxcdTJDNkFcXHVBNzQxXFx1QTc0M1xcdUE3NDVcXHVBN0EzXS9nIH0sIHsgJ2Jhc2UnOiAnbCcsICdsZXR0ZXJzJzogL1tcXHUwMDZDXFx1MjREQlxcdUZGNENcXHUwMTQwXFx1MDEzQVxcdTAxM0VcXHUxRTM3XFx1MUUzOVxcdTAxM0NcXHUxRTNEXFx1MUUzQlxcdTAxN0ZcXHUwMTQyXFx1MDE5QVxcdTAyNkJcXHUyQzYxXFx1QTc0OVxcdUE3ODFcXHVBNzQ3XS9nIH0sIHsgJ2Jhc2UnOiAnbGonLCAnbGV0dGVycyc6IC9bXFx1MDFDOV0vZyB9LCB7ICdiYXNlJzogJ20nLCAnbGV0dGVycyc6IC9bXFx1MDA2RFxcdTI0RENcXHVGRjREXFx1MUUzRlxcdTFFNDFcXHUxRTQzXFx1MDI3MVxcdTAyNkZdL2cgfSwgeyAnYmFzZSc6ICduJywgJ2xldHRlcnMnOiAvW1xcdTAwNkVcXHUyNEREXFx1RkY0RVxcdTAxRjlcXHUwMTQ0XFx1MDBGMVxcdTFFNDVcXHUwMTQ4XFx1MUU0N1xcdTAxNDZcXHUxRTRCXFx1MUU0OVxcdTAxOUVcXHUwMjcyXFx1MDE0OVxcdUE3OTFcXHVBN0E1XS9nIH0sIHsgJ2Jhc2UnOiAnbmonLCAnbGV0dGVycyc6IC9bXFx1MDFDQ10vZyB9LCB7ICdiYXNlJzogJ28nLCAnbGV0dGVycyc6IC9bXFx1MDA2RlxcdTI0REVcXHVGRjRGXFx1MDBGMlxcdTAwRjNcXHUwMEY0XFx1MUVEM1xcdTFFRDFcXHUxRUQ3XFx1MUVENVxcdTAwRjVcXHUxRTREXFx1MDIyRFxcdTFFNEZcXHUwMTREXFx1MUU1MVxcdTFFNTNcXHUwMTRGXFx1MDIyRlxcdTAyMzFcXHUwMEY2XFx1MDIyQlxcdTFFQ0ZcXHUwMTUxXFx1MDFEMlxcdTAyMERcXHUwMjBGXFx1MDFBMVxcdTFFRERcXHUxRURCXFx1MUVFMVxcdTFFREZcXHUxRUUzXFx1MUVDRFxcdTFFRDlcXHUwMUVCXFx1MDFFRFxcdTAwRjhcXHUwMUZGXFx1MDI1NFxcdUE3NEJcXHVBNzREXFx1MDI3NV0vZyB9LCB7ICdiYXNlJzogJ29pJywgJ2xldHRlcnMnOiAvW1xcdTAxQTNdL2cgfSwgeyAnYmFzZSc6ICdvdScsICdsZXR0ZXJzJzogL1tcXHUwMjIzXS9nIH0sIHsgJ2Jhc2UnOiAnb28nLCAnbGV0dGVycyc6IC9bXFx1QTc0Rl0vZyB9LCB7ICdiYXNlJzogJ3AnLCAnbGV0dGVycyc6IC9bXFx1MDA3MFxcdTI0REZcXHVGRjUwXFx1MUU1NVxcdTFFNTdcXHUwMUE1XFx1MUQ3RFxcdUE3NTFcXHVBNzUzXFx1QTc1NV0vZyB9LCB7ICdiYXNlJzogJ3EnLCAnbGV0dGVycyc6IC9bXFx1MDA3MVxcdTI0RTBcXHVGRjUxXFx1MDI0QlxcdUE3NTdcXHVBNzU5XS9nIH0sIHsgJ2Jhc2UnOiAncicsICdsZXR0ZXJzJzogL1tcXHUwMDcyXFx1MjRFMVxcdUZGNTJcXHUwMTU1XFx1MUU1OVxcdTAxNTlcXHUwMjExXFx1MDIxM1xcdTFFNUJcXHUxRTVEXFx1MDE1N1xcdTFFNUZcXHUwMjREXFx1MDI3RFxcdUE3NUJcXHVBN0E3XFx1QTc4M10vZyB9LCB7ICdiYXNlJzogJ3MnLCAnbGV0dGVycyc6IC9bXFx1MDA3M1xcdTI0RTJcXHVGRjUzXFx1MDBERlxcdTAxNUJcXHUxRTY1XFx1MDE1RFxcdTFFNjFcXHUwMTYxXFx1MUU2N1xcdTFFNjNcXHUxRTY5XFx1MDIxOVxcdTAxNUZcXHUwMjNGXFx1QTdBOVxcdUE3ODVcXHUxRTlCXS9nIH0sIHsgJ2Jhc2UnOiAndCcsICdsZXR0ZXJzJzogL1tcXHUwMDc0XFx1MjRFM1xcdUZGNTRcXHUxRTZCXFx1MUU5N1xcdTAxNjVcXHUxRTZEXFx1MDIxQlxcdTAxNjNcXHUxRTcxXFx1MUU2RlxcdTAxNjdcXHUwMUFEXFx1MDI4OFxcdTJDNjZcXHVBNzg3XS9nIH0sIHsgJ2Jhc2UnOiAndHonLCAnbGV0dGVycyc6IC9bXFx1QTcyOV0vZyB9LCB7ICdiYXNlJzogJ3UnLCAnbGV0dGVycyc6IC9bXFx1MDA3NVxcdTI0RTRcXHVGRjU1XFx1MDBGOVxcdTAwRkFcXHUwMEZCXFx1MDE2OVxcdTFFNzlcXHUwMTZCXFx1MUU3QlxcdTAxNkRcXHUwMEZDXFx1MDFEQ1xcdTAxRDhcXHUwMUQ2XFx1MDFEQVxcdTFFRTdcXHUwMTZGXFx1MDE3MVxcdTAxRDRcXHUwMjE1XFx1MDIxN1xcdTAxQjBcXHUxRUVCXFx1MUVFOVxcdTFFRUZcXHUxRUVEXFx1MUVGMVxcdTFFRTVcXHUxRTczXFx1MDE3M1xcdTFFNzdcXHUxRTc1XFx1MDI4OV0vZyB9LCB7ICdiYXNlJzogJ3YnLCAnbGV0dGVycyc6IC9bXFx1MDA3NlxcdTI0RTVcXHVGRjU2XFx1MUU3RFxcdTFFN0ZcXHUwMjhCXFx1QTc1RlxcdTAyOENdL2cgfSwgeyAnYmFzZSc6ICd2eScsICdsZXR0ZXJzJzogL1tcXHVBNzYxXS9nIH0sIHsgJ2Jhc2UnOiAndycsICdsZXR0ZXJzJzogL1tcXHUwMDc3XFx1MjRFNlxcdUZGNTdcXHUxRTgxXFx1MUU4M1xcdTAxNzVcXHUxRTg3XFx1MUU4NVxcdTFFOThcXHUxRTg5XFx1MkM3M10vZyB9LCB7ICdiYXNlJzogJ3gnLCAnbGV0dGVycyc6IC9bXFx1MDA3OFxcdTI0RTdcXHVGRjU4XFx1MUU4QlxcdTFFOERdL2cgfSwgeyAnYmFzZSc6ICd5JywgJ2xldHRlcnMnOiAvW1xcdTAwNzlcXHUyNEU4XFx1RkY1OVxcdTFFRjNcXHUwMEZEXFx1MDE3N1xcdTFFRjlcXHUwMjMzXFx1MUU4RlxcdTAwRkZcXHUxRUY3XFx1MUU5OVxcdTFFRjVcXHUwMUI0XFx1MDI0RlxcdTFFRkZdL2cgfSwgeyAnYmFzZSc6ICd6JywgJ2xldHRlcnMnOiAvW1xcdTAwN0FcXHUyNEU5XFx1RkY1QVxcdTAxN0FcXHUxRTkxXFx1MDE3Q1xcdTAxN0VcXHUxRTkzXFx1MUU5NVxcdTAxQjZcXHUwMjI1XFx1MDI0MFxcdTJDNkNcXHVBNzYzXS9nIH1dO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpcERpYWNyaXRpY3Moc3RyKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpKyspIHtcblx0XHRcdHN0ciA9IHN0ci5yZXBsYWNlKG1hcFtpXS5sZXR0ZXJzLCBtYXBbaV0uYmFzZSk7XG5cdFx0fVxuXHRcdHJldHVybiBzdHI7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5qUXVlcnkgPSBleHBvcnRzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0QWRkb25zVXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX3JlYWN0QWRkb25zVXBkYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0QWRkb25zVXBkYXRlKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX2FuaW1hdGlvbk1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2FuaW1hdGlvbk1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuaW1hdGlvbk1peGluKTtcblx0XG5cdHZhciBfalF1ZXJ5TWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblx0XG5cdHZhciBfalF1ZXJ5TWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfalF1ZXJ5TWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIFRvYXN0TWVzc2FnZVNwZWMgPSB7XG5cdCAgZGlzcGxheU5hbWU6IFwiVG9hc3RNZXNzYWdlXCIsXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgdmFyIGljb25DbGFzc05hbWVzID0ge1xuXHQgICAgICBlcnJvcjogXCJ0b2FzdC1lcnJvclwiLFxuXHQgICAgICBpbmZvOiBcInRvYXN0LWluZm9cIixcblx0ICAgICAgc3VjY2VzczogXCJ0b2FzdC1zdWNjZXNzXCIsXG5cdCAgICAgIHdhcm5pbmc6IFwidG9hc3Qtd2FybmluZ1wiXG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGNsYXNzTmFtZTogXCJ0b2FzdFwiLFxuXHQgICAgICBpY29uQ2xhc3NOYW1lczogaWNvbkNsYXNzTmFtZXMsXG5cdCAgICAgIHRpdGxlQ2xhc3NOYW1lOiBcInRvYXN0LXRpdGxlXCIsXG5cdCAgICAgIG1lc3NhZ2VDbGFzc05hbWU6IFwidG9hc3QtbWVzc2FnZVwiLFxuXHQgICAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG5cdCAgICAgIGNsb3NlQnV0dG9uOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGhhbmRsZU9uQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZU9uQ2xpY2soZXZlbnQpIHtcblx0ICAgIHRoaXMucHJvcHMuaGFuZGxlT25DbGljayhldmVudCk7XG5cdCAgICBpZiAodGhpcy5wcm9wcy50YXBUb0Rpc21pc3MpIHtcblx0ICAgICAgdGhpcy5oaWRlVG9hc3QodHJ1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfaGFuZGxlX2Nsb3NlX2J1dHRvbl9jbGljazogZnVuY3Rpb24gX2hhbmRsZV9jbG9zZV9idXR0b25fY2xpY2soZXZlbnQpIHtcblx0ICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgdGhpcy5oaWRlVG9hc3QodHJ1ZSk7XG5cdCAgfSxcblx0ICBfaGFuZGxlX3JlbW92ZTogZnVuY3Rpb24gX2hhbmRsZV9yZW1vdmUoKSB7XG5cdCAgICB0aGlzLnByb3BzLmhhbmRsZVJlbW92ZSh0aGlzLnByb3BzLnRvYXN0SWQpO1xuXHQgIH0sXG5cdCAgX3JlbmRlcl9jbG9zZV9idXR0b246IGZ1bmN0aW9uIF9yZW5kZXJfY2xvc2VfYnV0dG9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucHJvcHMuY2xvc2VCdXR0b24gPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG5cdCAgICAgIGNsYXNzTmFtZTogXCJ0b2FzdC1jbG9zZS1idXR0b25cIiwgcm9sZTogXCJidXR0b25cIixcblx0ICAgICAgb25DbGljazogdGhpcy5faGFuZGxlX2Nsb3NlX2J1dHRvbl9jbGljayxcblx0ICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBcIiZ0aW1lcztcIiB9XG5cdCAgICB9KSA6IGZhbHNlO1xuXHQgIH0sXG5cdCAgX3JlbmRlcl90aXRsZV9lbGVtZW50OiBmdW5jdGlvbiBfcmVuZGVyX3RpdGxlX2VsZW1lbnQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy50aXRsZSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBcImRpdlwiLFxuXHQgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy50aXRsZUNsYXNzTmFtZSB9LFxuXHQgICAgICB0aGlzLnByb3BzLnRpdGxlXG5cdCAgICApIDogZmFsc2U7XG5cdCAgfSxcblx0ICBfcmVuZGVyX21lc3NhZ2VfZWxlbWVudDogZnVuY3Rpb24gX3JlbmRlcl9tZXNzYWdlX2VsZW1lbnQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5tZXNzYWdlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIFwiZGl2XCIsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLm1lc3NhZ2VDbGFzc05hbWUgfSxcblx0ICAgICAgdGhpcy5wcm9wcy5tZXNzYWdlXG5cdCAgICApIDogZmFsc2U7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBpY29uQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5pY29uQ2xhc3NOYW1lIHx8IHRoaXMucHJvcHMuaWNvbkNsYXNzTmFtZXNbdGhpcy5wcm9wcy50eXBlXTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIFwiZGl2XCIsXG5cdCAgICAgIHtcblx0ICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkodGhpcy5wcm9wcy5jbGFzc05hbWUsIGljb25DbGFzc05hbWUpLFxuXHQgICAgICAgIHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlT25DbGljayxcblx0ICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcblx0ICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZVxuXHQgICAgICB9LFxuXHQgICAgICB0aGlzLl9yZW5kZXJfY2xvc2VfYnV0dG9uKCksXG5cdCAgICAgIHRoaXMuX3JlbmRlcl90aXRsZV9lbGVtZW50KCksXG5cdCAgICAgIHRoaXMuX3JlbmRlcl9tZXNzYWdlX2VsZW1lbnQoKVxuXHQgICAgKTtcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgYW5pbWF0aW9uID0gZXhwb3J0cy5hbmltYXRpb24gPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoVG9hc3RNZXNzYWdlU3BlYywge1xuXHQgIGRpc3BsYXlOYW1lOiB7ICRzZXQ6IFwiVG9hc3RNZXNzYWdlLmFuaW1hdGlvblwiIH0sXG5cdCAgbWl4aW5zOiB7ICRzZXQ6IFtfYW5pbWF0aW9uTWl4aW4yLmRlZmF1bHRdIH1cblx0fSkpO1xuXHRcblx0dmFyIGpRdWVyeSA9IGV4cG9ydHMualF1ZXJ5ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKCgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKFRvYXN0TWVzc2FnZVNwZWMsIHtcblx0ICBkaXNwbGF5TmFtZTogeyAkc2V0OiBcIlRvYXN0TWVzc2FnZS5qUXVlcnlcIiB9LFxuXHQgIG1peGluczogeyAkc2V0OiBbX2pRdWVyeU1peGluMi5kZWZhdWx0XSB9XG5cdH0pKTtcblx0XG5cdC8qXG5cdCAqIGFzc2lnbiBkZWZhdWx0IG5vb3AgZnVuY3Rpb25zXG5cdCAqL1xuXHRUb2FzdE1lc3NhZ2VTcGVjLmhhbmRsZU1vdXNlRW50ZXIgPSBub29wO1xuXHRUb2FzdE1lc3NhZ2VTcGVjLmhhbmRsZU1vdXNlTGVhdmUgPSBub29wO1xuXHRUb2FzdE1lc3NhZ2VTcGVjLmhpZGVUb2FzdCA9IG5vb3A7XG5cdFxuXHR2YXIgVG9hc3RNZXNzYWdlID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKFRvYXN0TWVzc2FnZVNwZWMpO1xuXHRcblx0VG9hc3RNZXNzYWdlLmFuaW1hdGlvbiA9IGFuaW1hdGlvbjtcblx0VG9hc3RNZXNzYWdlLmpRdWVyeSA9IGpRdWVyeTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRvYXN0TWVzc2FnZTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuXHQvL1xuXHQvLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuXHQvLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG5cdC8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuXHQvLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG5cdC8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcblx0Ly8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG5cdC8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXHQvL1xuXHQvLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuXHQvLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblx0Ly9cblx0Ly8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuXHQvLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5cdC8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cblx0Ly8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG5cdC8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuXHQvLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG5cdC8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cdFxuXHRmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG5cdCAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuXHQgIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cdFxuXHQvLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcblx0RXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXHRcblx0Ly8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG5cdC8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5cdEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cdFxuXHQvLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncblx0Ly8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuXHQgIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG5cdCAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuXHQgIHRoaXMuX21heExpc3RlbmVycyA9IG47XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG5cdCAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblx0XG5cdCAgaWYgKCF0aGlzLl9ldmVudHMpXG5cdCAgICB0aGlzLl9ldmVudHMgPSB7fTtcblx0XG5cdCAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuXHQgIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG5cdCAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuXHQgICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuXHQgICAgICBlciA9IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcblx0ICAgICAgfVxuXHQgICAgICB0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHRcblx0ICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdFxuXHQgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG5cdCAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0ICAgICAgLy8gZmFzdCBjYXNlc1xuXHQgICAgICBjYXNlIDE6XG5cdCAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlIDI6XG5cdCAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGNhc2UgMzpcblx0ICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICAvLyBzbG93ZXJcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0ICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcblx0ICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXHQgICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuXHQgICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcblx0ICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcblx0ICB2YXIgbTtcblx0XG5cdCAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcblx0ICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzKVxuXHQgICAgdGhpcy5fZXZlbnRzID0ge307XG5cdFxuXHQgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG5cdCAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuXHQgIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG5cdCAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcblx0ICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG5cdCAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuXHQgICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG5cdCAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcblx0ICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuXHQgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuXHQgICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHQgIGVsc2Vcblx0ICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuXHQgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXHRcblx0ICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuXHQgIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcblx0ICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuXHQgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcblx0ICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG5cdCAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcblx0ICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuXHQgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG5cdCAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcblx0ICB2YXIgZmlyZWQgPSBmYWxzZTtcblx0XG5cdCAgZnVuY3Rpb24gZygpIHtcblx0ICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cdFxuXHQgICAgaWYgKCFmaXJlZCkge1xuXHQgICAgICBmaXJlZCA9IHRydWU7XG5cdCAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG5cdCAgdGhpcy5vbih0eXBlLCBnKTtcblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHQvLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcblx0ICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblx0XG5cdCAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcblx0ICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG5cdCAgICByZXR1cm4gdGhpcztcblx0XG5cdCAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0ICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcblx0ICBwb3NpdGlvbiA9IC0xO1xuXHRcblx0ICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcblx0ICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG5cdCAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHQgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcblx0ICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblx0XG5cdCAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuXHQgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuXHQgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcblx0ICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuXHQgICAgICAgIHBvc2l0aW9uID0gaTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwb3NpdGlvbiA8IDApXG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHRcblx0ICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICBsaXN0Lmxlbmd0aCA9IDA7XG5cdCAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcblx0ICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG5cdCAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50cylcblx0ICAgIHJldHVybiB0aGlzO1xuXHRcblx0ICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG5cdCAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuXHQgICAgICB0aGlzLl9ldmVudHMgPSB7fTtcblx0ICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcblx0ICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH1cblx0XG5cdCAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG5cdCAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcblx0ICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuXHQgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcblx0ICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcblx0ICAgIH1cblx0ICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuXHQgICAgdGhpcy5fZXZlbnRzID0ge307XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9XG5cdFxuXHQgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0XG5cdCAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuXHQgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuXHQgIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG5cdCAgICAvLyBMSUZPIG9yZGVyXG5cdCAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcblx0ICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcblx0ICB9XG5cdCAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0ICB2YXIgcmV0O1xuXHQgIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG5cdCAgICByZXQgPSBbXTtcblx0ICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG5cdCAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcblx0ICBlbHNlXG5cdCAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcblx0ICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuXHQgIGlmICh0aGlzLl9ldmVudHMpIHtcblx0ICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHRcblx0ICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKVxuXHQgICAgICByZXR1cm4gMTtcblx0ICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG5cdCAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcblx0ICB9XG5cdCAgcmV0dXJuIDA7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcblx0ICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcblx0ICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc09iamVjdChhcmcpIHtcblx0ICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcblx0ICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG5cdH1cblxuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHRcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVIZWFkZXIpO1xuXHRcblx0dmFyIF9UYWJsZUJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0XG5cdHZhciBfVGFibGVCb2R5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlQm9keSk7XG5cdFxuXHR2YXIgX3BhZ2luYXRpb25QYWdpbmF0aW9uTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFnaW5hdGlvblBhZ2luYXRpb25MaXN0KTtcblx0XG5cdHZhciBfdG9vbGJhclRvb2xCYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0XG5cdHZhciBfdG9vbGJhclRvb2xCYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9vbGJhclRvb2xCYXIpO1xuXHRcblx0dmFyIF9UYWJsZUZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9UYWJsZUZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUZpbHRlcik7XG5cdFxuXHR2YXIgX3N0b3JlVGFibGVEYXRhU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9jc3ZfZXhwb3J0X3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfY3N2X2V4cG9ydF91dGlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nzdl9leHBvcnRfdXRpbCk7XG5cdFxuXHR2YXIgX0ZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIEJvb3RzdHJhcFRhYmxlID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKEJvb3RzdHJhcFRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQm9vdHN0cmFwVGFibGUocHJvcHMpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb3RzdHJhcFRhYmxlKTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihCb290c3RyYXBUYWJsZS5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0XG5cdCAgICB0aGlzLl9zY3JvbGxIZWFkZXIgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5yZWZzLmhlYWRlci5yZWZzLmNvbnRhaW5lci5zY3JvbGxMZWZ0ID0gZS5jdXJyZW50VGFyZ2V0LnNjcm9sbExlZnQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgdGFibGVIZWFkZXJEb20gPSBfdGhpcy5yZWZzLmhlYWRlci5yZWZzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdO1xuXHQgICAgICB2YXIgdGFibGVCb2R5RG9tID0gX3RoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmNoaWxkTm9kZXNbMF07XG5cdCAgICAgIGlmICh0YWJsZUhlYWRlckRvbS5vZmZzZXRXaWR0aCAhPT0gdGFibGVCb2R5RG9tLm9mZnNldFdpZHRoKSB7XG5cdCAgICAgICAgdGFibGVIZWFkZXJEb20uc3R5bGUud2lkdGggPSB0YWJsZUJvZHlEb20ub2Zmc2V0V2lkdGggKyBcInB4XCI7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGhlYWRlclByb3BzID0gX3RoaXMucmVmcy5ib2R5LmdldEJvZHlIZWFkZXJEb21Qcm9wKCk7XG5cdCAgICAgIF90aGlzLnJlZnMuaGVhZGVyLmZpdEhlYWRlcihoZWFkZXJQcm9wcywgX3RoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLnNjcm9sbEhlaWdodCA+IF90aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQpO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLl9hdHRhY2hDZWxsRWRpdEZ1bmMoKTtcblx0XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5kYXRhKSkge1xuXHQgICAgICB0aGlzLnN0b3JlID0gbmV3IF9zdG9yZVRhYmxlRGF0YVN0b3JlLlRhYmxlRGF0YVN0b3JlKHRoaXMucHJvcHMuZGF0YS5nZXREYXRhKCkpO1xuXHQgICAgICB0aGlzLnByb3BzLmRhdGEuY2xlYXIoKTtcblx0ICAgICAgdGhpcy5wcm9wcy5kYXRhLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIF90aGlzLnN0b3JlLnNldERhdGEoZGF0YSk7XG5cdCAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgZGF0YTogX3RoaXMuZ2V0VGFibGVEYXRhKClcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgY29weSA9IHRoaXMucHJvcHMuZGF0YS5zbGljZSgpO1xuXHQgICAgICB0aGlzLnN0b3JlID0gbmV3IF9zdG9yZVRhYmxlRGF0YVN0b3JlLlRhYmxlRGF0YVN0b3JlKGNvcHkpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuaW5pdFRhYmxlKHRoaXMucHJvcHMpO1xuXHRcblx0ICAgIGlmICh0aGlzLmZpbHRlcikge1xuXHQgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBzZWxmID0gX3RoaXM7XG5cdCAgICAgICAgX3RoaXMuZmlsdGVyLm9uKCdvbkZpbHRlckNoYW5nZScsIGZ1bmN0aW9uIChjdXJyZW50RmlsdGVyKSB7XG5cdCAgICAgICAgICBzZWxmLmhhbmRsZUZpbHRlckRhdGEoY3VycmVudEZpbHRlcik7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93ICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LnNlbGVjdGVkKSB7XG5cdCAgICAgIHZhciBjb3B5ID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQuc2xpY2UoKTtcblx0ICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjb3B5KTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLnN0YXRlID0ge1xuXHQgICAgICBkYXRhOiB0aGlzLmdldFRhYmxlRGF0YSgpLFxuXHQgICAgICBjdXJyUGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLnBhZ2UgfHwgMSxcblx0ICAgICAgc2l6ZVBlclBhZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uU0laRV9QRVJfUEFHRV9MSVNUWzBdLFxuXHQgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKClcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQm9vdHN0cmFwVGFibGUsIFt7XG5cdCAgICBrZXk6ICdpbml0VGFibGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRUYWJsZShwcm9wcykge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBrZXlGaWVsZCA9IHByb3BzLmtleUZpZWxkO1xuXHRcblx0ICAgICAgdmFyIGlzS2V5RmllbGREZWZpbmVkID0gdHlwZW9mIGtleUZpZWxkID09PSAnc3RyaW5nJyAmJiBrZXlGaWVsZC5sZW5ndGg7XG5cdCAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgaWYgKGNvbHVtbi5wcm9wcy5pc0tleSkge1xuXHQgICAgICAgICAgaWYgKGtleUZpZWxkKSB7XG5cdCAgICAgICAgICAgIHRocm93IFwiRXJyb3IuIE11bHRpcGxlIGtleSBjb2x1bW4gYmUgZGV0ZWN0ZWQgaW4gVGFibGVIZWFkZXJDb2x1bW4uXCI7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBrZXlGaWVsZCA9IGNvbHVtbi5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb2x1bW4ucHJvcHMuZmlsdGVyKSB7XG5cdCAgICAgICAgICAvLyBhIGNvbHVtbiBjb250YWlucyBhIGZpbHRlclxuXHQgICAgICAgICAgaWYgKCFfdGhpczIuZmlsdGVyKSB7XG5cdCAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgY3JlYXRlIHRoZSBmaWx0ZXIgb24gdGhlIEJvb3RzdHJhcFRhYmxlXG5cdCAgICAgICAgICAgIF90aGlzMi5maWx0ZXIgPSBuZXcgX0ZpbHRlci5GaWx0ZXIoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIC8vIHBhc3MgdGhlIGZpbHRlciB0byBjb2x1bW4gd2l0aCBmaWx0ZXJcblx0ICAgICAgICAgIGNvbHVtbi5wcm9wcy5maWx0ZXIuZW1pdHRlciA9IF90aGlzMi5maWx0ZXI7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCB0aGlzKTtcblx0XG5cdCAgICAgIHZhciBjb2xJbmZvcyA9IHRoaXMuZ2V0Q29sdW1uc0Rlc2NyaXB0aW9uKHByb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIpIHtcblx0ICAgICAgICBwcmV2W2N1cnIubmFtZV0gPSBjdXJyO1xuXHQgICAgICAgIHJldHVybiBwcmV2O1xuXHQgICAgICB9LCB7fSk7XG5cdFxuXHQgICAgICBpZiAoIWlzS2V5RmllbGREZWZpbmVkICYmICFrZXlGaWVsZCkgdGhyb3cgJ0Vycm9yLiBObyBhbnkga2V5IGNvbHVtbiBkZWZpbmVkIGluIFRhYmxlSGVhZGVyQ29sdW1uLlxcbiAgICAgICAgICAgIFVzZSBcXCdpc0tleT17dHJ1ZX1cXCcgdG8gc3BlY2lmeSBhIHVuaXF1ZSBjb2x1bW4gYWZ0ZXIgdmVyc2lvbiAwLjUuNC4nO1xuXHRcblx0ICAgICAgdGhpcy5zdG9yZS5zZXRQcm9wcyh7XG5cdCAgICAgICAgaXNQYWdpbmF0aW9uOiBwcm9wcy5wYWdpbmF0aW9uLFxuXHQgICAgICAgIGtleUZpZWxkOiBrZXlGaWVsZCxcblx0ICAgICAgICBjb2xJbmZvczogY29sSW5mb3MsXG5cdCAgICAgICAgbXVsdGlDb2x1bW5TZWFyY2g6IHByb3BzLm11bHRpQ29sdW1uU2VhcmNoLFxuXHQgICAgICAgIHJlbW90ZTogdGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRUYWJsZURhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRhYmxlRGF0YSgpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5zb3J0TmFtZSAmJiB0aGlzLnByb3BzLm9wdGlvbnMuc29ydE9yZGVyKSB0aGlzLnN0b3JlLnNvcnQodGhpcy5wcm9wcy5vcHRpb25zLnNvcnRPcmRlciwgdGhpcy5wcm9wcy5vcHRpb25zLnNvcnROYW1lKTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcblx0ICAgICAgICB2YXIgcGFnZSA9IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgc2l6ZVBlclBhZ2UgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RvcmUuaXNDaGFuZ2VkUGFnZSgpKSB7XG5cdCAgICAgICAgICBzaXplUGVyUGFnZSA9IHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2U7XG5cdCAgICAgICAgICBwYWdlID0gdGhpcy5zdGF0ZS5jdXJyUGFnZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc2l6ZVBlclBhZ2UgPSB0aGlzLnByb3BzLm9wdGlvbnMuc2l6ZVBlclBhZ2UgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlNJWkVfUEVSX1BBR0VfTElTVFswXTtcblx0ICAgICAgICAgIHBhZ2UgPSB0aGlzLnByb3BzLm9wdGlvbnMucGFnZSB8fCAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UocGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDb2x1bW5zRGVzY3JpcHRpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbHVtbnNEZXNjcmlwdGlvbihfcmVmKSB7XG5cdCAgICAgIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cdFxuXHQgICAgICByZXR1cm4gY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgbmFtZTogY29sdW1uLnByb3BzLmRhdGFGaWVsZCxcblx0ICAgICAgICAgIGFsaWduOiBjb2x1bW4ucHJvcHMuZGF0YUFsaWduLFxuXHQgICAgICAgICAgc29ydDogY29sdW1uLnByb3BzLmRhdGFTb3J0LFxuXHQgICAgICAgICAgZm9ybWF0OiBjb2x1bW4ucHJvcHMuZGF0YUZvcm1hdCxcblx0ICAgICAgICAgIGZvcm1hdEV4dHJhRGF0YTogY29sdW1uLnByb3BzLmZvcm1hdEV4dHJhRGF0YSxcblx0ICAgICAgICAgIGZpbHRlckZvcm1hdHRlZDogY29sdW1uLnByb3BzLmZpbHRlckZvcm1hdHRlZCxcblx0ICAgICAgICAgIGVkaXRhYmxlOiBjb2x1bW4ucHJvcHMuZWRpdGFibGUsXG5cdCAgICAgICAgICBoaWRkZW46IGNvbHVtbi5wcm9wcy5oaWRkZW4sXG5cdCAgICAgICAgICBzZWFyY2hhYmxlOiBjb2x1bW4ucHJvcHMuc2VhcmNoYWJsZSxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogY29sdW1uLnByb3BzLmNvbHVtbkNsYXNzTmFtZSxcblx0ICAgICAgICAgIHdpZHRoOiBjb2x1bW4ucHJvcHMud2lkdGgsXG5cdCAgICAgICAgICB0ZXh0OiBjb2x1bW4ucHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICBzb3J0RnVuYzogY29sdW1uLnByb3BzLnNvcnRGdW5jLFxuXHQgICAgICAgICAgaW5kZXg6IGlcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLmluaXRUYWJsZShuZXh0UHJvcHMpO1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0UHJvcHMuZGF0YSkpIHtcblx0ICAgICAgICB0aGlzLnN0b3JlLnNldERhdGEobmV4dFByb3BzLmRhdGEuc2xpY2UoKSk7XG5cdCAgICAgICAgdmFyIHBhZ2luYXRpb25Eb20gPSB0aGlzLnJlZnMucGFnaW5hdGlvbjtcblx0ICAgICAgICB2YXIgcGFnZSA9IHBhZ2luYXRpb25Eb20gJiYgcGFnaW5hdGlvbkRvbS5nZXRDdXJyZW50UGFnZSgpIHx8IG5leHRQcm9wcy5vcHRpb25zLnBhZ2UgfHwgMTtcblx0ICAgICAgICB2YXIgc2l6ZVBlclBhZ2UgPSBwYWdpbmF0aW9uRG9tICYmIHBhZ2luYXRpb25Eb20uZ2V0U2l6ZVBlclBhZ2UoKSB8fCBuZXh0UHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uU0laRV9QRVJfUEFHRV9MSVNUWzBdO1xuXHQgICAgICAgIC8vICMxMjVcblx0ICAgICAgICBpZiAocGFnZSA+IE1hdGguY2VpbChuZXh0UHJvcHMuZGF0YS5sZW5ndGggLyBzaXplUGVyUGFnZSkpIHBhZ2UgPSAxO1xuXHQgICAgICAgIHZhciBzb3J0SW5mbyA9IHRoaXMuc3RvcmUuZ2V0U29ydEluZm8oKTtcblx0ICAgICAgICB2YXIgc29ydEZpZWxkID0gbmV4dFByb3BzLm9wdGlvbnMuc29ydE5hbWUgfHwgKHNvcnRJbmZvID8gc29ydEluZm8uc29ydEZpZWxkIDogdW5kZWZpbmVkKTtcblx0ICAgICAgICB2YXIgc29ydE9yZGVyID0gbmV4dFByb3BzLm9wdGlvbnMuc29ydE9yZGVyIHx8IChzb3J0SW5mbyA/IHNvcnRJbmZvLm9yZGVyIDogdW5kZWZpbmVkKTtcblx0ICAgICAgICBpZiAoc29ydEZpZWxkICYmIHNvcnRPcmRlcikgdGhpcy5zdG9yZS5zb3J0KHNvcnRPcmRlciwgc29ydEZpZWxkKTtcblx0ICAgICAgICB2YXIgZGF0YSA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgY3VyclBhZ2U6IHBhZ2UsXG5cdCAgICAgICAgICBzaXplUGVyUGFnZTogc2l6ZVBlclBhZ2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAobmV4dFByb3BzLnNlbGVjdFJvdyAmJiBuZXh0UHJvcHMuc2VsZWN0Um93LnNlbGVjdGVkKSB7XG5cdCAgICAgICAgLy9zZXQgZGVmYXVsdCBzZWxlY3Qgcm93cyB0byBzdG9yZS5cblx0ICAgICAgICB2YXIgY29weSA9IG5leHRQcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQuc2xpY2UoKTtcblx0ICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KGNvcHkpO1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBjb3B5XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKCk7XG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCk7XG5cdCAgICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3Njcm9sbEhlYWRlcik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGgpO1xuXHQgICAgICB0aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zY3JvbGxIZWFkZXIpO1xuXHQgICAgICBpZiAodGhpcy5maWx0ZXIpIHtcblx0ICAgICAgICB0aGlzLmZpbHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJvbkZpbHRlckNoYW5nZVwiKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgICB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCgpO1xuXHQgICAgICB0aGlzLl9hdHRhY2hDZWxsRWRpdEZ1bmMoKTtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUpIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYXR0YWNoQ2VsbEVkaXRGdW5jJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYXR0YWNoQ2VsbEVkaXRGdW5jKCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdCkge1xuXHQgICAgICAgIHRoaXMucHJvcHMuY2VsbEVkaXQuX19vbkNvbXBsZXRlRWRpdF9fID0gdGhpcy5oYW5kbGVFZGl0Q2VsbC5iaW5kKHRoaXMpO1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfTk9ORSkgdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXHJcblx0ICAgICAqIFJldHVybnMgdHJ1ZSBpZiBpbiB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uLFxyXG5cdCAgICAgKiB0aGUgZGF0YWdyaWQgc2hvdWxkIGxvYWQgaXRzIGRhdGEgcmVtb3RlbHkuXHJcblx0ICAgICAqXHJcblx0ICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtwcm9wc10gT3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgdGhpcy5wcm9wcyB3aWxsIGJlIHVzZWRcclxuXHQgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuXHQgICAgICovXG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNSZW1vdGVEYXRhU291cmNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc1JlbW90ZURhdGFTb3VyY2UocHJvcHMpIHtcblx0ICAgICAgcmV0dXJuIChwcm9wcyB8fCB0aGlzLnByb3BzKS5yZW1vdGU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFxuXHQgICAgICB2YXIgdGFibGVDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJyZWFjdC1icy10YWJsZVwiKTtcblx0ICAgICAgdmFyIGNoaWxkcmVucyA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cdCAgICAgIHZhciBzdHlsZSA9IHtcblx0ICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuaGVpZ2h0LFxuXHQgICAgICAgIG1heEhlaWdodDogdGhpcy5wcm9wcy5tYXhIZWlnaHRcblx0ICAgICAgfTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XG5cdCAgICAgICAgY2hpbGRyZW5zID0gW3RoaXMucHJvcHMuY2hpbGRyZW5dO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5nZXRDb2x1bW5zRGVzY3JpcHRpb24odGhpcy5wcm9wcyk7XG5cdCAgICAgIHZhciBzb3J0SW5mbyA9IHRoaXMuc3RvcmUuZ2V0U29ydEluZm8oKTtcblx0ICAgICAgdmFyIHBhZ2luYXRpb24gPSB0aGlzLnJlbmRlclBhZ2luYXRpb24oKTtcblx0ICAgICAgdmFyIHRvb2xCYXIgPSB0aGlzLnJlbmRlclRvb2xCYXIoKTtcblx0ICAgICAgdmFyIHRhYmxlRmlsdGVyID0gdGhpcy5yZW5kZXJUYWJsZUZpbHRlcihjb2x1bW5zKTtcblx0ICAgICAgdmFyIGlzU2VsZWN0QWxsID0gdGhpcy5pc1NlbGVjdEFsbCgpO1xuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdyZWFjdC1icy1jb250YWluZXInLCByZWY6ICd0YWJsZScgfSxcblx0ICAgICAgICB0b29sQmFyLFxuXHQgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JlYWN0LWJzLXRhYmxlLWNvbnRhaW5lcicsXG5cdCAgICAgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9UYWJsZUhlYWRlcjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIHJlZjogJ2hlYWRlcicsXG5cdCAgICAgICAgICAgICAgcm93U2VsZWN0VHlwZTogdGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSxcblx0ICAgICAgICAgICAgICBoaWRlU2VsZWN0Q29sdW1uOiB0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uLFxuXHQgICAgICAgICAgICAgIHNvcnROYW1lOiBzb3J0SW5mbyA/IHNvcnRJbmZvLnNvcnRGaWVsZCA6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICBzb3J0T3JkZXI6IHNvcnRJbmZvID8gc29ydEluZm8ub3JkZXIgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgb25Tb3J0OiB0aGlzLmhhbmRsZVNvcnQuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICBvblNlbGVjdEFsbFJvdzogdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICBib3JkZXJlZDogdGhpcy5wcm9wcy5ib3JkZXJlZCxcblx0ICAgICAgICAgICAgICBjb25kZW5zZWQ6IHRoaXMucHJvcHMuY29uZGVuc2VkLFxuXHQgICAgICAgICAgICAgIGlzRmlsdGVyZWQ6IHRoaXMuZmlsdGVyID8gdHJ1ZSA6IGZhbHNlLFxuXHQgICAgICAgICAgICAgIHRhYmxlSUQ6IHRoaXMucHJvcHMudGFibGVJRCxcblx0ICAgICAgICAgICAgICBpc1NlbGVjdEFsbDogaXNTZWxlY3RBbGwgfSxcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9UYWJsZUJvZHkyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodCxcblx0ICAgICAgICAgICAgbWF4SGVpZ2h0OiB0aGlzLnByb3BzLm1heEhlaWdodCxcblx0ICAgICAgICAgICAgcmVmOiAnYm9keScsXG5cdCAgICAgICAgICAgIGRhdGE6IHRoaXMuc3RhdGUuZGF0YSxcblx0ICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgICAgICAgdHJDbGFzc05hbWU6IHRoaXMucHJvcHMudHJDbGFzc05hbWUsXG5cdCAgICAgICAgICAgIHN0cmlwZWQ6IHRoaXMucHJvcHMuc3RyaXBlZCxcblx0ICAgICAgICAgICAgYm9yZGVyZWQ6IHRoaXMucHJvcHMuYm9yZGVyZWQsXG5cdCAgICAgICAgICAgIGhvdmVyOiB0aGlzLnByb3BzLmhvdmVyLFxuXHQgICAgICAgICAgICBrZXlGaWVsZDogdGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpLFxuXHQgICAgICAgICAgICBjb25kZW5zZWQ6IHRoaXMucHJvcHMuY29uZGVuc2VkLFxuXHQgICAgICAgICAgICBzZWxlY3RSb3c6IHRoaXMucHJvcHMuc2VsZWN0Um93LFxuXHQgICAgICAgICAgICBjZWxsRWRpdDogdGhpcy5wcm9wcy5jZWxsRWRpdCxcblx0ICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnN0YXRlLnNlbGVjdGVkUm93S2V5cyxcblx0ICAgICAgICAgICAgb25Sb3dDbGljazogdGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvblJvd01vdXNlT3ZlcjogdGhpcy5oYW5kbGVSb3dNb3VzZU92ZXIuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25Sb3dNb3VzZU91dDogdGhpcy5oYW5kbGVSb3dNb3VzZU91dC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvblNlbGVjdFJvdzogdGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgbm9EYXRhVGV4dDogdGhpcy5wcm9wcy5vcHRpb25zLm5vRGF0YVRleHRcblx0ICAgICAgICAgIH0pXG5cdCAgICAgICAgKSxcblx0ICAgICAgICB0YWJsZUZpbHRlcixcblx0ICAgICAgICBwYWdpbmF0aW9uXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNTZWxlY3RBbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0QWxsKCkge1xuXHQgICAgICB2YXIgZGVmYXVsdFNlbGVjdFJvd0tleXMgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO1xuXHQgICAgICB2YXIgYWxsUm93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0QWxsUm93a2V5KCk7XG5cdCAgICAgIGlmIChkZWZhdWx0U2VsZWN0Um93S2V5cy5sZW5ndGggIT09IGFsbFJvd0tleXMubGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWxlY3RSb3dLZXlzLmxlbmd0aCA9PT0gMCA/IGZhbHNlIDogJ2luZGV0ZXJtaW5hdGUnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2xlYW5TZWxlY3RlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYW5TZWxlY3RlZCgpIHtcblx0ICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShbXSk7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHNlbGVjdGVkUm93S2V5czogW11cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlU29ydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU29ydChvcmRlciwgc29ydEZpZWxkKSB7XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Tb3J0Q2hhbmdlKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uU29ydENoYW5nZShzb3J0RmllbGQsIG9yZGVyLCB0aGlzLnByb3BzKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuc3RvcmUuc29ydChvcmRlciwgc29ydEZpZWxkKS5nZXQoKTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgZGF0YTogcmVzdWx0XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVBhZ2luYXRpb25EYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVQYWdpbmF0aW9uRGF0YShwYWdlLCBzaXplUGVyUGFnZSkge1xuXHQgICAgICB2YXIgb25QYWdlQ2hhbmdlID0gdGhpcy5wcm9wcy5vcHRpb25zLm9uUGFnZUNoYW5nZTtcblx0XG5cdCAgICAgIGlmIChvblBhZ2VDaGFuZ2UpIHtcblx0ICAgICAgICBvblBhZ2VDaGFuZ2UocGFnZSwgc2l6ZVBlclBhZ2UpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICBjdXJyUGFnZTogcGFnZSxcblx0ICAgICAgICBzaXplUGVyUGFnZTogc2l6ZVBlclBhZ2Vcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlTW91c2VMZWF2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlTGVhdmUpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUxlYXZlKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVNb3VzZUVudGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uTW91c2VFbnRlcikge1xuXHQgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlRW50ZXIoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVJvd01vdXNlT3V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSb3dNb3VzZU91dChyb3cpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3V0KSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdXQocm93KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVJvd01vdXNlT3ZlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm93TW91c2VPdmVyKHJvdykge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdmVyKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdmVyKHJvdyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVSb3dDbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm93Q2xpY2socm93KSB7XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dDbGljaykge1xuXHQgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblJvd0NsaWNrKHJvdyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVTZWxlY3RBbGxSb3cnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdEFsbFJvdyhlKSB7XG5cdCAgICAgIHZhciBpc1NlbGVjdGVkID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ7XG5cdCAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBbXTtcblx0ICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdEFsbCkge1xuXHQgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0QWxsKGlzU2VsZWN0ZWQsIGlzU2VsZWN0ZWQgPyB0aGlzLnN0b3JlLmdldCgpIDogW10pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcgfHwgcmVzdWx0ICE9PSBmYWxzZSkge1xuXHQgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG5cdCAgICAgICAgICBzZWxlY3RlZFJvd0tleXMgPSB0aGlzLnN0b3JlLmdldEFsbFJvd2tleSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShzZWxlY3RlZFJvd0tleXMpO1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBzZWxlY3RlZFJvd0tleXNcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVNob3dPbmx5U2VsZWN0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNob3dPbmx5U2VsZWN0ZWQoKSB7XG5cdCAgICAgIHRoaXMuc3RvcmUuaWdub3JlTm9uU2VsZWN0ZWQoKTtcblx0ICAgICAgdmFyIHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xuXHQgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZSgxLCB0aGlzLnN0YXRlLnNpemVQZXJQYWdlKS5nZXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICBjdXJyUGFnZTogMVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVTZWxlY3RSb3cnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdFJvdyhyb3csIGlzU2VsZWN0ZWQpIHtcblx0ICAgICAgdmFyIGN1cnJTZWxlY3RlZCA9IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCk7XG5cdCAgICAgIHZhciByb3dLZXkgPSByb3dbdGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpXTtcblx0ICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdCkge1xuXHQgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0KHJvdywgaXNTZWxlY3RlZCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJyB8fCByZXN1bHQgIT09IGZhbHNlKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSkge1xuXHQgICAgICAgICAgY3VyclNlbGVjdGVkID0gaXNTZWxlY3RlZCA/IFtyb3dLZXldIDogW107XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG5cdCAgICAgICAgICAgIGN1cnJTZWxlY3RlZC5wdXNoKHJvd0tleSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjdXJyU2VsZWN0ZWQgPSBjdXJyU2VsZWN0ZWQuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gcm93S2V5ICE9PSBrZXk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjdXJyU2VsZWN0ZWQpO1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBjdXJyU2VsZWN0ZWRcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUVkaXRDZWxsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFZGl0Q2VsbChuZXdWYWwsIHJvd0luZGV4LCBjb2xJbmRleCkge1xuXHQgICAgICB2YXIgZmllbGROYW1lID0gdW5kZWZpbmVkO1xuXHQgICAgICBfcmVhY3QyWydkZWZhdWx0J10uQ2hpbGRyZW4uZm9yRWFjaCh0aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgaWYgKGkgPT0gY29sSW5kZXgpIHtcblx0ICAgICAgICAgIGZpZWxkTmFtZSA9IGNvbHVtbi5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHZhciByZXN1bHQgPSB0aGlzLnN0b3JlLmVkaXQobmV3VmFsLCByb3dJbmRleCwgZmllbGROYW1lKS5nZXQoKTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgZGF0YTogcmVzdWx0XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQuYWZ0ZXJTYXZlQ2VsbCkge1xuXHQgICAgICAgIHRoaXMucHJvcHMuY2VsbEVkaXQuYWZ0ZXJTYXZlQ2VsbCh0aGlzLnN0YXRlLmRhdGFbcm93SW5kZXhdLCBmaWVsZE5hbWUsIG5ld1ZhbCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVBZGRSb3dCZWdpbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQWRkUm93QmVnaW4oKSB7XG5cdCAgICAgIGlmICh0aGlzLnJlZnMuYm9keSkge1xuXHQgICAgICAgIC8vIHRoaXMucmVmcy5ib2R5LmNhbmNlbEVkaXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUFkZFJvd0F0QmVnaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUFkZFJvd0F0QmVnaW4obmV3T2JqKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSB1bmRlZmluZWQ7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgdGhpcy5zdG9yZS5hZGRBdEJlZ2luKG5ld09iaik7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLl9oYW5kbGVBZnRlckFkZGluZ1JvdyhuZXdPYmopO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUFkZFJvdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQWRkUm93KG5ld09iaikge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBiZWZvcmVQcm9taXNlID0gdGhpcy5wcm9wcy5vcHRpb25zLmJlZm9yZUluc2VydFJvdyA/IHRoaXMucHJvcHMub3B0aW9ucy5iZWZvcmVJbnNlcnRSb3cobmV3T2JqKSA6IG5ld09iajtcblx0XG5cdCAgICAgIC8vZXhlY3V0ZSBiZWZvcmUgYWRkIHJvd1xuXHRcblx0ICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShiZWZvcmVQcm9taXNlKS50aGVuKGZ1bmN0aW9uIChtc2cpIHtcblx0ICAgICAgICBuZXdPYmogPSBtc2c7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIF90aGlzMy5zdG9yZS5hZGQobmV3T2JqKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICByZXR1cm4gZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF90aGlzMy5faGFuZGxlQWZ0ZXJBZGRpbmdSb3cobmV3T2JqKTtcblx0ICAgICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcImdsZWRhaiBvdmRlXCIpO1xuXHQgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuXHQgICAgICAgIHJldHVybiBlLmpzb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0U2l6ZVBlclBhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpemVQZXJQYWdlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDdXJyZW50UGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2UoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJQYWdlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZURyb3BSb3cnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZURyb3BSb3cocm93S2V5cykge1xuXHQgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICAgIHZhciBkcm9wUm93S2V5cyA9IHJvd0tleXMgPyByb3dLZXlzIDogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKTtcblx0ICAgICAgLy9hZGQgY29uZmlybSBiZWZvcmUgdGhlIGRlbGV0ZSBhY3Rpb24gaWYgdGhhdCBvcHRpb24gaXMgc2V0LlxuXHQgICAgICBpZiAoZHJvcFJvd0tleXMgJiYgZHJvcFJvd0tleXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuaGFuZGxlQ29uZmlybURlbGV0ZVJvdykge1xuXHQgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmhhbmRsZUNvbmZpcm1EZWxldGVSb3coZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0aGF0LmRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB3YW50IGRlbGV0ZT8nKSkge1xuXHQgICAgICAgICAgdGhpcy5kZWxldGVSb3coZHJvcFJvd0tleXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RlbGV0ZVJvdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUm93KGRyb3BSb3dLZXlzKSB7XG5cdFxuXHQgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICB0aGlzLnN0b3JlLnJlbW92ZShkcm9wUm93S2V5cyk7IC8vcmVtb3ZlIHNlbGVjdGVkIFJvd1xuXHQgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KFtdKTsgLy9jbGVhciBzZWxlY3RlZCByb3cga2V5XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgdmFyIHNpemVQZXJQYWdlID0gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0ICAgICAgICB2YXIgY3VyclBhZ2UgPSB0aGlzLnN0YXRlLmN1cnJQYWdlO1xuXHRcblx0ICAgICAgICB2YXIgY3Vyckxhc3RQYWdlID0gTWF0aC5jZWlsKHRoaXMuc3RvcmUuZ2V0RGF0YU51bSgpIC8gc2l6ZVBlclBhZ2UpO1xuXHQgICAgICAgIGlmIChjdXJyUGFnZSA+IGN1cnJMYXN0UGFnZSkgY3VyclBhZ2UgPSBjdXJyTGFzdFBhZ2U7XG5cdCAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKGN1cnJQYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBkYXRhOiByZXN1bHQsXG5cdCAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCksXG5cdCAgICAgICAgICBjdXJyUGFnZTogY3VyclBhZ2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgZGF0YTogcmVzdWx0LFxuXHQgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdykge1xuXHQgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVGaWx0ZXJEYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXJEYXRhKGZpbHRlck9iaikge1xuXHQgICAgICB0aGlzLnN0b3JlLmZpbHRlcihmaWx0ZXJPYmopO1xuXHQgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgdmFyIHNpemVQZXJQYWdlID0gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0XG5cdCAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHNpemVQZXJQYWdlKS5nZXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJDb2x1bW5GaWx0ZXIpIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckNvbHVtbkZpbHRlcihmaWx0ZXJPYmosIHRoaXMuc3RvcmUuZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpKTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgZGF0YTogcmVzdWx0LFxuXHQgICAgICAgIGN1cnJQYWdlOiAxXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUV4cG9ydENTVicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRXhwb3J0Q1NWKCkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCk7XG5cdCAgICAgIHZhciBrZXlzID0gW107XG5cdCAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICBpZiAoY29sdW1uLnByb3BzLmhpZGRlbiA9PT0gZmFsc2UpIHtcblx0ICAgICAgICAgIGtleXMucHVzaChjb2x1bW4ucHJvcHMuZGF0YUZpZWxkKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICAoMCwgX2Nzdl9leHBvcnRfdXRpbDJbJ2RlZmF1bHQnXSkocmVzdWx0LCBrZXlzLCB0aGlzLnByb3BzLmNzdkZpbGVOYW1lKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVTZWFyY2gnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaChzZWFyY2hUZXh0KSB7XG5cdCAgICAgIHRoaXMuc3RvcmUuc2VhcmNoKHNlYXJjaFRleHQpO1xuXHQgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgdmFyIHNpemVQZXJQYWdlID0gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0XG5cdCAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHNpemVQZXJQYWdlKS5nZXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJTZWFyY2gpIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclNlYXJjaChzZWFyY2hUZXh0LCB0aGlzLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKSk7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICBjdXJyUGFnZTogMVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXJQYWdpbmF0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQYWdpbmF0aW9uKCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgdmFyIGRhdGFTaXplID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIGlmICh0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpKSB7XG5cdCAgICAgICAgICBkYXRhU2l6ZSA9IHRoaXMucHJvcHMuZmV0Y2hJbmZvLmRhdGFUb3RhbFNpemU7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRhdGFTaXplID0gdGhpcy5zdG9yZS5nZXREYXRhTnVtKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd0YWJsZS1mb290ZXItcGFnaW5hdGlvbicgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgcmVmOiAncGFnaW5hdGlvbicsXG5cdCAgICAgICAgICAgIGN1cnJQYWdlOiB0aGlzLnN0YXRlLmN1cnJQYWdlLFxuXHQgICAgICAgICAgICBjaGFuZ2VQYWdlOiB0aGlzLmhhbmRsZVBhZ2luYXRpb25EYXRhLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIHNpemVQZXJQYWdlOiB0aGlzLnN0YXRlLnNpemVQZXJQYWdlLFxuXHQgICAgICAgICAgICBzaXplUGVyUGFnZUxpc3Q6IHRoaXMucHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZUxpc3QgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlNJWkVfUEVSX1BBR0VfTElTVCxcblx0ICAgICAgICAgICAgcGFnaW5hdGlvblNpemU6IHRoaXMucHJvcHMub3B0aW9ucy5wYWdpbmF0aW9uU2l6ZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uUEFHSU5BVElPTl9TSVpFLFxuXHQgICAgICAgICAgICByZW1vdGU6IHRoaXMuaXNSZW1vdGVEYXRhU291cmNlKCksXG5cdCAgICAgICAgICAgIGRhdGFTaXplOiBkYXRhU2l6ZSxcblx0ICAgICAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q6IHRoaXMucHJvcHMub3B0aW9ucy5vblNpemVQZXJQYWdlTGlzdCxcblx0ICAgICAgICAgICAgcHJlUGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLnByZVBhZ2UgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlBSRV9QQUdFLFxuXHQgICAgICAgICAgICBuZXh0UGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLm5leHRQYWdlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5ORVhUX1BBR0UsXG5cdCAgICAgICAgICAgIGZpcnN0UGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLmZpcnN0UGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uRklSU1RfUEFHRSxcblx0ICAgICAgICAgICAgbGFzdFBhZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5sYXN0UGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uTEFTVF9QQUdFXG5cdCAgICAgICAgICB9KVxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyVG9vbEJhcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyVG9vbEJhcigpIHtcblx0ICAgICAgdmFyIGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQgPSB0aGlzLnByb3BzLnNlbGVjdFJvdyAmJiB0aGlzLnByb3BzLnNlbGVjdFJvdy5zaG93T25seVNlbGVjdGVkO1xuXHQgICAgICBpZiAoZW5hYmxlU2hvd09ubHlTZWxlY3RlZCB8fCB0aGlzLnByb3BzLmluc2VydFJvdyB8fCB0aGlzLnByb3BzLmRlbGV0ZVJvdyB8fCB0aGlzLnByb3BzLnNlYXJjaCB8fCB0aGlzLnByb3BzLmV4cG9ydENTVikge1xuXHQgICAgICAgIHZhciBjb2x1bW5zID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XG5cdCAgICAgICAgICBjb2x1bW5zID0gdGhpcy5wcm9wcy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSBjb2x1bW4ucHJvcHM7XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgbmFtZTogcHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgZmllbGQ6IHByb3BzLmRhdGFGaWVsZCxcblx0ICAgICAgICAgICAgICAvL3doZW4geW91IHdhbnQgc2FtZSBhdXRvIGdlbmVyYXRlIHZhbHVlIGFuZCBub3QgYWxsb3cgZWRpdCwgZXhhbXBsZSBJRCBmaWVsZFxuXHQgICAgICAgICAgICAgIGF1dG9WYWx1ZTogcHJvcHMuYXV0b1ZhbHVlIHx8IGZhbHNlLFxuXHQgICAgICAgICAgICAgIC8vZm9yIGNyZWF0ZSBlZGl0b3IsIG5vIHBhcmFtcyBmb3IgY29sdW1uLmVkaXRhYmxlKCkgaW5kaWNhdGUgdGhhdCBlZGl0b3IgZm9yIG5ldyByb3dcblx0ICAgICAgICAgICAgICBlZGl0YWJsZTogcHJvcHMuZWRpdGFibGUgJiYgdHlwZW9mIHByb3BzLmVkaXRhYmxlID09PSBcImZ1bmN0aW9uXCIgPyBwcm9wcy5lZGl0YWJsZSgpIDogcHJvcHMuZWRpdGFibGUsXG5cdCAgICAgICAgICAgICAgLy9oaWRkZW4gaW4gcG9wdXBcblx0ICAgICAgICAgICAgICBoaWRkZW5JblBvcHVwOiBwcm9wcy5oaWRkZW5JblBvcHVwLFxuXHQgICAgICAgICAgICAgIGZvcm1hdDogcHJvcHMuZGF0YUZvcm1hdCA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzLmRhdGFGb3JtYXQodmFsdWUsIG51bGwsIHByb3BzLmZvcm1hdEV4dHJhRGF0YSkucmVwbGFjZSgvPC4qPz4vZywgJycpO1xuXHQgICAgICAgICAgICAgIH0gOiBmYWxzZVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGNvbHVtbnMgPSBbe1xuXHQgICAgICAgICAgICBuYW1lOiB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICBmaWVsZDogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5kYXRhRmllbGQsXG5cdCAgICAgICAgICAgIGVkaXRhYmxlOiB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLmVkaXRhYmxlLFxuXHQgICAgICAgICAgICBoaWRkZW5JblBvcHVwOiB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLmhpZGRlbkluUG9wdXBcblx0ICAgICAgICAgIH1dO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAndG9vbC1iYXInIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfdG9vbGJhclRvb2xCYXIyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgY2xlYXJTZWFyY2g6IHRoaXMucHJvcHMub3B0aW9ucy5jbGVhclNlYXJjaCxcblx0ICAgICAgICAgICAgZW5hYmxlSW5zZXJ0OiB0aGlzLnByb3BzLmluc2VydFJvdyxcblx0ICAgICAgICAgICAgZW5hYmxlRGVsZXRlOiB0aGlzLnByb3BzLmRlbGV0ZVJvdyxcblx0ICAgICAgICAgICAgZW5hYmxlU2VhcmNoOiB0aGlzLnByb3BzLnNlYXJjaCxcblx0ICAgICAgICAgICAgZW5hYmxlRXhwb3J0Q1NWOiB0aGlzLnByb3BzLmV4cG9ydENTVixcblx0ICAgICAgICAgICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogZW5hYmxlU2hvd09ubHlTZWxlY3RlZCxcblx0ICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgICAgICAgc2VhcmNoUGxhY2Vob2xkZXI6IHRoaXMucHJvcHMuc2VhcmNoUGxhY2Vob2xkZXIsXG5cdCAgICAgICAgICAgIG9uQWRkUm93OiB0aGlzLmhhbmRsZUFkZFJvdy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvbkFkZFJvd0JlZ2luOiB0aGlzLmhhbmRsZUFkZFJvd0JlZ2luLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIG9uRHJvcFJvdzogdGhpcy5oYW5kbGVEcm9wUm93LmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIG9uU2VhcmNoOiB0aGlzLmhhbmRsZVNlYXJjaC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvbkV4cG9ydENTVjogdGhpcy5oYW5kbGVFeHBvcnRDU1YuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25TaG93T25seVNlbGVjdGVkOiB0aGlzLmhhbmRsZVNob3dPbmx5U2VsZWN0ZWQuYmluZCh0aGlzKVxuXHQgICAgICAgICAgfSlcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyVGFibGVGaWx0ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclRhYmxlRmlsdGVyKGNvbHVtbnMpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY29sdW1uRmlsdGVyKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9UYWJsZUZpbHRlcjJbJ2RlZmF1bHQnXSwgeyBjb2x1bW5zOiBjb2x1bW5zLFxuXHQgICAgICAgICAgcm93U2VsZWN0VHlwZTogdGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSxcblx0ICAgICAgICAgIG9uRmlsdGVyOiB0aGlzLmhhbmRsZUZpbHRlckRhdGEuYmluZCh0aGlzKSB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19oYW5kbGVBZnRlckFkZGluZ1JvdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUFmdGVyQWRkaW5nUm93KG5ld09iaikge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgLy9pZiBwYWdpbmF0aW9uIGlzIGVuYWJsZWQgYW5kIGluc2VydCByb3cgYmUgdHJpZ2dlciwgY2hhbmdlIHRvIGxhc3QgcGFnZVxuXHQgICAgICAgIHZhciBzaXplUGVyUGFnZSA9IHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2U7XG5cdFxuXHQgICAgICAgIHZhciBjdXJyTGFzdFBhZ2UgPSBNYXRoLmNlaWwodGhpcy5zdG9yZS5nZXREYXRhTnVtKCkgLyBzaXplUGVyUGFnZSk7XG5cdCAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKGN1cnJMYXN0UGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgZGF0YTogcmVzdWx0LFxuXHQgICAgICAgICAgY3VyclBhZ2U6IGN1cnJMYXN0UGFnZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBkYXRhOiByZXN1bHRcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckluc2VydFJvdykge1xuXHQgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckluc2VydFJvdyhuZXdPYmopO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQm9vdHN0cmFwVGFibGU7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0Qm9vdHN0cmFwVGFibGUucHJvcFR5cGVzID0ge1xuXHQgIGtleUZpZWxkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBoZWlnaHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIG1heEhlaWdodDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgdGFibGVJRDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgZGF0YTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksIF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0XSksXG5cdCAgcmVtb3RlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHJlbW90ZSBkYXRhLCBkZWZhdWx0IGlzIGZhbHNlXG5cdCAgc3RyaXBlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGJvcmRlcmVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgaG92ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBjb25kZW5zZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBwYWdpbmF0aW9uOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgc2VhcmNoUGxhY2Vob2xkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHNlbGVjdFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICBtb2RlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mKFtfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9OT05FLCBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9TSU5HTEUsIF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX01VTFRJXSksXG5cdCAgICBiZ0NvbG9yOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNlbGVjdGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgb25TZWxlY3Q6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2VsZWN0QWxsOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBjbGlja1RvU2VsZWN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBoaWRlU2VsZWN0Q29sdW1uOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjbGlja1RvU2VsZWN0QW5kRWRpdENlbGw6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dPbmx5U2VsZWN0ZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbFxuXHQgIH0pLFxuXHQgIGNlbGxFZGl0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnNoYXBlKHtcblx0ICAgIG1vZGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgYmx1clRvU2F2ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgYWZ0ZXJTYXZlQ2VsbDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jXG5cdCAgfSksXG5cdCAgaW5zZXJ0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgZGVsZXRlUm93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgc2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgY29sdW1uRmlsdGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgdHJDbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LFxuXHQgIG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgYmVmb3JlSW5zZXJ0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBjbGVhclNlYXJjaDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgc29ydE5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgc29ydE9yZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGFmdGVyVGFibGVDb21wbGV0ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgYWZ0ZXJEZWxldGVSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGFmdGVySW5zZXJ0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBhZnRlclNlYXJjaDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgYWZ0ZXJDb2x1bW5GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uUm93Q2xpY2s6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgc2l6ZVBlclBhZ2VMaXN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgc2l6ZVBlclBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgcGFnaW5hdGlvblNpemU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgb25Tb3J0Q2hhbmdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblBhZ2VDaGFuZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2l6ZVBlclBhZ2VMaXN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBub0RhdGFUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGhhbmRsZUNvbmZpcm1EZWxldGVSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHByZVBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgbmV4dFBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZmlyc3RQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGxhc3RQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHQgIH0pLFxuXHQgIGZldGNoSW5mbzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICBkYXRhVG90YWxTaXplOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlclxuXHQgIH0pLFxuXHQgIGV4cG9ydENTVjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGNzdkZpbGVOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRCb290c3RyYXBUYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgaGVpZ2h0OiBcIjEwMCVcIixcblx0ICBtYXhIZWlnaHQ6IHVuZGVmaW5lZCxcblx0ICB0YWJsZUlEOiB1bmRlZmluZWQsXG5cdCAgc3RyaXBlZDogZmFsc2UsXG5cdCAgYm9yZGVyZWQ6IHRydWUsXG5cdCAgaG92ZXI6IGZhbHNlLFxuXHQgIGNvbmRlbnNlZDogZmFsc2UsXG5cdCAgcGFnaW5hdGlvbjogZmFsc2UsXG5cdCAgc2VhcmNoUGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcblx0ICBzZWxlY3RSb3c6IHtcblx0ICAgIG1vZGU6IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX05PTkUsXG5cdCAgICBiZ0NvbG9yOiBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9CR19DT0xPUixcblx0ICAgIHNlbGVjdGVkOiBbXSxcblx0ICAgIG9uU2VsZWN0OiB1bmRlZmluZWQsXG5cdCAgICBvblNlbGVjdEFsbDogdW5kZWZpbmVkLFxuXHQgICAgY2xpY2tUb1NlbGVjdDogZmFsc2UsXG5cdCAgICBoaWRlU2VsZWN0Q29sdW1uOiBmYWxzZSxcblx0ICAgIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbDogZmFsc2UsXG5cdCAgICBzaG93T25seVNlbGVjdGVkOiBmYWxzZVxuXHQgIH0sXG5cdCAgY2VsbEVkaXQ6IHtcblx0ICAgIG1vZGU6IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfTk9ORSxcblx0ICAgIGJsdXJUb1NhdmU6IGZhbHNlLFxuXHQgICAgYWZ0ZXJTYXZlQ2VsbDogdW5kZWZpbmVkXG5cdCAgfSxcblx0ICBpbnNlcnRSb3c6IGZhbHNlLFxuXHQgIGRlbGV0ZVJvdzogZmFsc2UsXG5cdCAgc2VhcmNoOiBmYWxzZSxcblx0ICBtdWx0aUNvbHVtblNlYXJjaDogZmFsc2UsXG5cdCAgY29sdW1uRmlsdGVyOiBmYWxzZSxcblx0ICB0ckNsYXNzTmFtZTogJycsXG5cdCAgb3B0aW9uczoge1xuXHQgICAgY2xlYXJTZWFyY2g6IGZhbHNlLFxuXHQgICAgc29ydE5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHNvcnRPcmRlcjogdW5kZWZpbmVkLFxuXHQgICAgYWZ0ZXJUYWJsZUNvbXBsZXRlOiB1bmRlZmluZWQsXG5cdCAgICBhZnRlckRlbGV0ZVJvdzogdW5kZWZpbmVkLFxuXHQgICAgYWZ0ZXJJbnNlcnRSb3c6IHVuZGVmaW5lZCxcblx0ICAgIGFmdGVyU2VhcmNoOiB1bmRlZmluZWQsXG5cdCAgICBhZnRlckNvbHVtbkZpbHRlcjogdW5kZWZpbmVkLFxuXHQgICAgb25Sb3dDbGljazogdW5kZWZpbmVkLFxuXHQgICAgb25Nb3VzZUxlYXZlOiB1bmRlZmluZWQsXG5cdCAgICBvbk1vdXNlRW50ZXI6IHVuZGVmaW5lZCxcblx0ICAgIG9uUm93TW91c2VPdXQ6IHVuZGVmaW5lZCxcblx0ICAgIG9uUm93TW91c2VPdmVyOiB1bmRlZmluZWQsXG5cdCAgICBwYWdlOiB1bmRlZmluZWQsXG5cdCAgICBzaXplUGVyUGFnZUxpc3Q6IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFX0xJU1QsXG5cdCAgICBzaXplUGVyUGFnZTogdW5kZWZpbmVkLFxuXHQgICAgcGFnaW5hdGlvblNpemU6IF9Db25zdDJbJ2RlZmF1bHQnXS5QQUdJTkFUSU9OX1NJWkUsXG5cdCAgICBvblNpemVQZXJQYWdlTGlzdDogdW5kZWZpbmVkLFxuXHQgICAgbm9EYXRhVGV4dDogdW5kZWZpbmVkLFxuXHQgICAgaGFuZGxlQ29uZmlybURlbGV0ZVJvdzogdW5kZWZpbmVkLFxuXHQgICAgcHJlUGFnZTogX0NvbnN0MlsnZGVmYXVsdCddLlBSRV9QQUdFLFxuXHQgICAgbmV4dFBhZ2U6IF9Db25zdDJbJ2RlZmF1bHQnXS5ORVhUX1BBR0UsXG5cdCAgICBmaXJzdFBhZ2U6IF9Db25zdDJbJ2RlZmF1bHQnXS5GSVJTVF9QQUdFLFxuXHQgICAgbGFzdFBhZ2U6IF9Db25zdDJbJ2RlZmF1bHQnXS5MQVNUX1BBR0Vcblx0ICB9LFxuXHQgIGZldGNoSW5mbzoge1xuXHQgICAgZGF0YVRvdGFsU2l6ZTogMFxuXHQgIH0sXG5cdCAgZXhwb3J0Q1NWOiBmYWxzZSxcblx0ICBjc3ZGaWxlTmFtZTogdW5kZWZpbmVkXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBCb290c3RyYXBUYWJsZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KS5FdmVudEVtaXR0ZXI7XG5cdFxuXHR2YXIgRmlsdGVyID0gKGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG5cdCAgICBfaW5oZXJpdHMoRmlsdGVyLCBfRXZlbnRFbWl0dGVyKTtcblx0XG5cdCAgICBmdW5jdGlvbiBGaWx0ZXIoZGF0YSkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXIpO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihGaWx0ZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBkYXRhKTtcblx0ICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXIgPSB7fTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoRmlsdGVyLCBbe1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUZpbHRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcihkYXRhRmllbGQsIHZhbHVlLCB0eXBlKSB7XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJUeXBlID0gdHlwZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuQ1VTVE9NO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgICAgICAgLy8gdmFsdWUgb2YgdGhlIGZpbHRlciBpcyBhbiBvYmplY3Rcblx0ICAgICAgICAgICAgICAgIHZhciBoYXNWYWx1ZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZVtwcm9wXSB8fCB2YWx1ZVtwcm9wXSA9PT0gXCJcIikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGlzIHVuZGVmaW5lZCBvciBlbXB0eSwgd2UgcmVtb3ZlIHRoZSBmaWx0ZXJcblx0ICAgICAgICAgICAgICAgIGhhc1ZhbHVlID8gdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF0gPSB7IHZhbHVlOiB2YWx1ZSwgdHlwZTogZmlsdGVyVHlwZSB9IDogZGVsZXRlIHRoaXMuY3VycmVudEZpbHRlcltkYXRhRmllbGRdO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSB8fCB2YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZpbHRlcltkYXRhRmllbGRdID0geyB2YWx1ZTogdmFsdWUudHJpbSgpLCB0eXBlOiBmaWx0ZXJUeXBlIH07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5lbWl0KCdvbkZpbHRlckNoYW5nZScsIHRoaXMuY3VycmVudEZpbHRlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBGaWx0ZXI7XG5cdH0pKEV2ZW50RW1pdHRlcik7XG5cdFxuXHRleHBvcnRzLkZpbHRlciA9IEZpbHRlcjtcblxuLyoqKi8gfSxcbi8qIDE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIFNlbGVjdFJvd0hlYWRlckNvbHVtbiA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhTZWxlY3RSb3dIZWFkZXJDb2x1bW4sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBTZWxlY3RSb3dIZWFkZXJDb2x1bW4oKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0Um93SGVhZGVyQ29sdW1uKTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTZWxlY3RSb3dIZWFkZXJDb2x1bW4ucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhTZWxlY3RSb3dIZWFkZXJDb2x1bW4sIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHRoU3R5bGUgPSB7XG5cdCAgICAgICAgd2lkdGg6IHBhcnNlSW50KHRoaXMucHJvcHMud2lkdGgpID8gdGhpcy5wcm9wcy53aWR0aCA6IDM1XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RoJyxcblx0ICAgICAgICB7IHN0eWxlOiB0aFN0eWxlIH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGgtaW5uZXIgdGFibGUtaGVhZGVyLWNvbHVtbicgfSxcblx0ICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gU2VsZWN0Um93SGVhZGVyQ29sdW1uO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNlbGVjdFJvd0hlYWRlckNvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfdXRpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsKTtcblx0XG5cdHZhciBfVGFibGVSb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBfVGFibGVSb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVSb3cpO1xuXHRcblx0dmFyIF9UYWJsZUNvbHVtbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9UYWJsZUNvbHVtbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUNvbHVtbik7XG5cdFxuXHR2YXIgX1RhYmxlRWRpdENvbHVtbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9UYWJsZUVkaXRDb2x1bW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVFZGl0Q29sdW1uKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgaXNGdW4gPSBmdW5jdGlvbiBpc0Z1bihvYmopIHtcblx0ICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIjtcblx0fTtcblx0XG5cdHZhciBUYWJsZUJvZHkgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVCb2R5LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVCb2R5KHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVCb2R5KTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUJvZHkucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICB0aGlzLnN0YXRlID0ge1xuXHQgICAgICBjdXJyRWRpdENlbGw6IG51bGxcblx0ICAgIH07XG5cdCAgICB0aGlzLmVkaXRpbmcgPSBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZUJvZHksIFt7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHRoaXMuYWRqdXN0Qm9keSgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgICB0aGlzLmFkanVzdEJvZHkoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIGNvbnRhaW5lckNsYXNzZXMgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwidGFibGUtY29udGFpbmVyXCIpO1xuXHRcblx0ICAgICAgdmFyIHRhYmxlQ2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJ0YWJsZVwiLCB7XG5cdCAgICAgICAgJ3RhYmxlLXN0cmlwZWQnOiB0aGlzLnByb3BzLnN0cmlwZWQsXG5cdCAgICAgICAgJ3RhYmxlLWJvcmRlcmVkJzogdGhpcy5wcm9wcy5ib3JkZXJlZCxcblx0ICAgICAgICAndGFibGUtaG92ZXInOiB0aGlzLnByb3BzLmhvdmVyLFxuXHQgICAgICAgICd0YWJsZS1jb25kZW5zZWQnOiB0aGlzLnByb3BzLmNvbmRlbnNlZFxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHZhciBpc1NlbGVjdFJvd0RlZmluZWQgPSB0aGlzLl9pc1NlbGVjdFJvd0RlZmluZWQoKTtcblx0ICAgICAgdmFyIHRhYmxlSGVhZGVyID0gdGhpcy5yZW5kZXJUYWJsZUhlYWRlcihpc1NlbGVjdFJvd0RlZmluZWQpO1xuXHRcblx0ICAgICAgdmFyIHRhYmxlUm93cyA9IHRoaXMucHJvcHMuZGF0YS5tYXAoZnVuY3Rpb24gKGRhdGEsIHIpIHtcblx0ICAgICAgICB2YXIgdGFibGVDb2x1bW5zID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgICB2YXIgZmllbGRWYWx1ZSA9IGRhdGFbY29sdW1uLm5hbWVdO1xuXHQgICAgICAgICAgaWYgKHRoaXMuZWRpdGluZyAmJiBjb2x1bW4ubmFtZSAhPT0gdGhpcy5wcm9wcy5rZXlGaWVsZCAmJiAvLyBLZXkgZmllbGQgY2FuJ3QgYmUgZWRpdFxuXHQgICAgICAgICAgY29sdW1uLmVkaXRhYmxlICYmIC8vIGNvbHVtbiBpcyBlZGl0YWJsZT8gZGVmYXVsdCBpcyB0cnVlLCB1c2VyIGNhbiBzZXQgaXQgZmFsc2Vcblx0ICAgICAgICAgIHRoaXMuc3RhdGUuY3VyckVkaXRDZWxsICE9IG51bGwgJiYgdGhpcy5zdGF0ZS5jdXJyRWRpdENlbGwucmlkID09IHIgJiYgdGhpcy5zdGF0ZS5jdXJyRWRpdENlbGwuY2lkID09IGkpIHtcblx0ICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGNvbHVtbi5mb3JtYXQgPyBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gY29sdW1uLmZvcm1hdCh2YWx1ZSwgZGF0YSwgY29sdW1uLmZvcm1hdEV4dHJhRGF0YSkucmVwbGFjZSgvPC4qPz4vZywgJycpO1xuXHQgICAgICAgICAgICB9IDogZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgX1RhYmxlRWRpdENvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgICAgICB7IGNvbXBsZXRlRWRpdDogdGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjb2x1bW4gZWRpdG9yIGN1c3RvbWl6ZVxuXHQgICAgICAgICAgICAgICAgZWRpdGFibGU6IGlzRnVuKGNvbHVtbi5lZGl0YWJsZSkgPyBjb2x1bW4uZWRpdGFibGUoZmllbGRWYWx1ZSwgZGF0YSwgciwgaSkgOiBjb2x1bW4uZWRpdGFibGUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6IGNvbHVtbi5mb3JtYXQgPyBmb3JtYXQgOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgIGtleTogaSxcblx0ICAgICAgICAgICAgICAgIGJsdXJUb1NhdmU6IHRoaXMucHJvcHMuY2VsbEVkaXQuYmx1clRvU2F2ZSxcblx0ICAgICAgICAgICAgICAgIHJvd0luZGV4OiByLFxuXHQgICAgICAgICAgICAgICAgY29sSW5kZXg6IGkgfSxcblx0ICAgICAgICAgICAgICBmaWVsZFZhbHVlXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjbGFzc05hbWUgY3VzdG9taXplXG5cdCAgICAgICAgICAgIHZhciB0ZENsYXNzTmFtZSA9IGlzRnVuKGNvbHVtbi5jbGFzc05hbWUpID8gY29sdW1uLmNsYXNzTmFtZShmaWVsZFZhbHVlLCBkYXRhLCByLCBpKSA6IGNvbHVtbi5jbGFzc05hbWU7XG5cdFxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGNvbHVtbi5mb3JtYXQgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBjb2x1bW4uZm9ybWF0KGZpZWxkVmFsdWUsIGRhdGEsIGNvbHVtbi5mb3JtYXRFeHRyYURhdGEpO1xuXHQgICAgICAgICAgICAgIGlmICghX3JlYWN0MlsnZGVmYXVsdCddLmlzVmFsaWRFbGVtZW50KGZvcm1hdHRlZFZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnZGl2JywgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGZvcm1hdHRlZFZhbHVlIH0gfSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9UYWJsZUNvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgICAgICAgIHsgZGF0YUFsaWduOiBjb2x1bW4uYWxpZ24sXG5cdCAgICAgICAgICAgICAgICAgIGtleTogaSxcblx0ICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0ZENsYXNzTmFtZSxcblx0ICAgICAgICAgICAgICAgICAgY2VsbEVkaXQ6IHRoaXMucHJvcHMuY2VsbEVkaXQsXG5cdCAgICAgICAgICAgICAgICAgIGhpZGRlbjogY29sdW1uLmhpZGRlbixcblx0ICAgICAgICAgICAgICAgICAgb25FZGl0OiB0aGlzLmhhbmRsZUVkaXRDZWxsLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgIHdpZHRoOiBjb2x1bW4ud2lkdGggfSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlXG5cdCAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfVGFibGVDb2x1bW4yWydkZWZhdWx0J10sXG5cdCAgICAgICAgICAgICAgICB7IGRhdGFBbGlnbjogY29sdW1uLmFsaWduLFxuXHQgICAgICAgICAgICAgICAgICBrZXk6IGksXG5cdCAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGRDbGFzc05hbWUsXG5cdCAgICAgICAgICAgICAgICAgIGNlbGxFZGl0OiB0aGlzLnByb3BzLmNlbGxFZGl0LFxuXHQgICAgICAgICAgICAgICAgICBoaWRkZW46IGNvbHVtbi5oaWRkZW4sXG5cdCAgICAgICAgICAgICAgICAgIG9uRWRpdDogdGhpcy5oYW5kbGVFZGl0Q2VsbC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICB3aWR0aDogY29sdW1uLndpZHRoIH0sXG5cdCAgICAgICAgICAgICAgICBmaWVsZFZhbHVlXG5cdCAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHRoaXMpO1xuXHQgICAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMucHJvcHMuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoZGF0YVt0aGlzLnByb3BzLmtleUZpZWxkXSkgIT0gLTE7XG5cdCAgICAgICAgdmFyIHNlbGVjdFJvd0NvbHVtbiA9IGlzU2VsZWN0Um93RGVmaW5lZCAmJiAhdGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbiA/IHRoaXMucmVuZGVyU2VsZWN0Um93Q29sdW1uKHNlbGVjdGVkKSA6IG51bGw7XG5cdCAgICAgICAgLy9hZGQgYnkgYmx1ZXNwcmluZyBmb3IgY2xhc3NOYW1lIGN1c3RvbWl6ZVxuXHQgICAgICAgIHZhciB0ckNsYXNzTmFtZSA9IGlzRnVuKHRoaXMucHJvcHMudHJDbGFzc05hbWUpID8gdGhpcy5wcm9wcy50ckNsYXNzTmFtZShkYXRhLCByKSA6IHRoaXMucHJvcHMudHJDbGFzc05hbWU7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX1RhYmxlUm93MlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgeyBpc1NlbGVjdGVkOiBzZWxlY3RlZCwga2V5OiByLCBjbGFzc05hbWU6IHRyQ2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBzZWxlY3RSb3c6IGlzU2VsZWN0Um93RGVmaW5lZCA/IHRoaXMucHJvcHMuc2VsZWN0Um93IDogdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICBlbmFibGVDZWxsRWRpdDogdGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlICE9PSBfQ29uc3QyWydkZWZhdWx0J10uQ0VMTF9FRElUX05PTkUsXG5cdCAgICAgICAgICAgIG9uUm93Q2xpY2s6IHRoaXMuaGFuZGxlUm93Q2xpY2suYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25Sb3dNb3VzZU92ZXI6IHRoaXMuaGFuZGxlUm93TW91c2VPdmVyLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIG9uUm93TW91c2VPdXQ6IHRoaXMuaGFuZGxlUm93TW91c2VPdXQuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25TZWxlY3RSb3c6IHRoaXMuaGFuZGxlU2VsZWN0Um93LmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgIHNlbGVjdFJvd0NvbHVtbixcblx0ICAgICAgICAgIHRhYmxlQ29sdW1uc1xuXHQgICAgICAgICk7XG5cdCAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgaWYgKHRhYmxlUm93cy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICB0YWJsZVJvd3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9UYWJsZVJvdzJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgIHsga2V5OiAnIyN0YWJsZS1lbXB0eSMjJyB9LFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICd0ZCcsXG5cdCAgICAgICAgICAgIHsgY29sU3BhbjogdGhpcy5wcm9wcy5jb2x1bW5zLmxlbmd0aCArIChpc1NlbGVjdFJvd0RlZmluZWQgPyAxIDogMCksXG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmVhY3QtYnMtdGFibGUtbm8tZGF0YScgfSxcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5ub0RhdGFUZXh0IHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5OT19EQVRBX1RFWFRcblx0ICAgICAgICAgIClcblx0ICAgICAgICApKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy5lZGl0aW5nID0gZmFsc2U7XG5cdFxuXHQgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYWxjdWxhdGVDb250YWluZXJIZWlnaHQoKS50b1N0cmluZygpO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgcmVmOiAnY29udGFpbmVyJywgY2xhc3NOYW1lOiBjb250YWluZXJDbGFzc2VzLCBzdHlsZTogeyBoZWlnaHQ6IGhlaWdodCB9IH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGFibGUnLFxuXHQgICAgICAgICAgeyByZWY6ICdib2R5JywgY2xhc3NOYW1lOiB0YWJsZUNsYXNzZXMgfSxcblx0ICAgICAgICAgIHRhYmxlSGVhZGVyLFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICd0Ym9keScsXG5cdCAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgIHRhYmxlUm93c1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXJUYWJsZUhlYWRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyVGFibGVIZWFkZXIoaXNTZWxlY3RSb3dEZWZpbmVkKSB7XG5cdCAgICAgIHZhciBzZWxlY3RSb3dIZWFkZXIgPSBudWxsO1xuXHRcblx0ICAgICAgaWYgKGlzU2VsZWN0Um93RGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBzdHlsZSA9IHtcblx0ICAgICAgICAgIHdpZHRoOiAzNSxcblx0ICAgICAgICAgIG1pbldpZHRoOiAzNVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgc2VsZWN0Um93SGVhZGVyID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbiA/IG51bGwgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgndGgnLCB7IHN0eWxlOiBzdHlsZSwga2V5OiAtMSB9KTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgdGhlYWRlciA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuXHQgICAgICAgIHZhciB3aWR0aCA9IGNvbHVtbi53aWR0aCA9PSBudWxsID8gY29sdW1uLndpZHRoIDogcGFyc2VJbnQoY29sdW1uLndpZHRoKTtcblx0ICAgICAgICB2YXIgc3R5bGUgPSB7XG5cdCAgICAgICAgICBkaXNwbGF5OiBjb2x1bW4uaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuXHQgICAgICAgICAgbWF4V2lkdGg6IHdpZHRoXG5cdCAgICAgICAgICAvKiogYWRkIG1pbi13ZHRoIHRvIGZpeCB1c2VyIGFzc2lnbiBjb2x1bW4gd2lkdGggbm90IGVxIG9mZnNldFdpZHRoIGluIGxhcmdlIGNvbHVtbiB0YWJsZSAqKi9cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHZhciBzb3J0Q2FlcnQgPSBjb2x1bW4uc29ydCA/IF91dGlsMlsnZGVmYXVsdCddLnJlbmRlclJlYWN0U29ydENhcmV0KF9Db25zdDJbJ2RlZmF1bHQnXS5TT1JUX0RFU0MpIDogbnVsbDtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGgnLFxuXHQgICAgICAgICAgeyBzdHlsZTogc3R5bGUsIGtleTogaSwgY2xhc3NOYW1lOiBjb2x1bW4uY2xhc3NOYW1lIH0sXG5cdCAgICAgICAgICBjb2x1bW4udGV4dCxcblx0ICAgICAgICAgIHNvcnRDYWVydFxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0aGVhZCcsXG5cdCAgICAgICAgeyByZWY6ICdoZWFkZXInIH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIHNlbGVjdFJvd0hlYWRlcixcblx0ICAgICAgICAgIHRoZWFkZXJcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlUm93TW91c2VPdXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvd01vdXNlT3V0KHJvd0luZGV4KSB7XG5cdCAgICAgIHZhciB0YXJnZXRSb3cgPSB0aGlzLnByb3BzLmRhdGFbcm93SW5kZXggLSAxXTtcblx0ICAgICAgdGhpcy5wcm9wcy5vblJvd01vdXNlT3V0KHRhcmdldFJvdyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlUm93TW91c2VPdmVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSb3dNb3VzZU92ZXIocm93SW5kZXgpIHtcblx0ICAgICAgdmFyIHRhcmdldFJvdyA9IHRoaXMucHJvcHMuZGF0YVtyb3dJbmRleCAtIDFdO1xuXHQgICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKHRhcmdldFJvdyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlUm93Q2xpY2snLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvd0NsaWNrKHJvd0luZGV4KSB7XG5cdCAgICAgIHZhciBrZXksIHNlbGVjdGVkUm93O1xuXHQgICAgICB0aGlzLnByb3BzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93LCBpKSB7XG5cdCAgICAgICAgaWYgKGkgPT0gcm93SW5kZXggLSAxKSB7XG5cdCAgICAgICAgICBrZXkgPSByb3dbdGhpcy5wcm9wcy5rZXlGaWVsZF07XG5cdCAgICAgICAgICBzZWxlY3RlZFJvdyA9IHJvdztcblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHRoaXMpO1xuXHQgICAgICB0aGlzLnByb3BzLm9uUm93Q2xpY2soc2VsZWN0ZWRSb3cpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVNlbGVjdFJvdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Um93KHJvd0luZGV4LCBpc1NlbGVjdGVkKSB7XG5cdCAgICAgIHZhciBrZXksIHNlbGVjdGVkUm93O1xuXHQgICAgICB0aGlzLnByb3BzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93LCBpKSB7XG5cdCAgICAgICAgaWYgKGkgPT0gcm93SW5kZXggLSAxKSB7XG5cdCAgICAgICAgICBrZXkgPSByb3dbdGhpcy5wcm9wcy5rZXlGaWVsZF07XG5cdCAgICAgICAgICBzZWxlY3RlZFJvdyA9IHJvdztcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHRoaXMpO1xuXHQgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0Um93KHNlbGVjdGVkUm93LCBpc1NlbGVjdGVkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Um93Q29sdW1DaGFuZ2UoZSkge1xuXHQgICAgICBpZiAoIXRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3QgfHwgIXRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkge1xuXHQgICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0Um93KGUuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucm93SW5kZXgsIGUuY3VycmVudFRhcmdldC5jaGVja2VkKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUVkaXRDZWxsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFZGl0Q2VsbChyb3dJbmRleCwgY29sdW1uSW5kZXgpIHtcblx0ICAgICAgdGhpcy5lZGl0aW5nID0gdHJ1ZTtcblx0ICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0Um93RGVmaW5lZCgpKSB7XG5cdCAgICAgICAgY29sdW1uSW5kZXgtLTtcblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbikgY29sdW1uSW5kZXgrKztcblx0ICAgICAgfVxuXHQgICAgICByb3dJbmRleC0tO1xuXHQgICAgICB2YXIgc3RhdGVPYmogPSB7XG5cdCAgICAgICAgY3VyckVkaXRDZWxsOiB7XG5cdCAgICAgICAgICByaWQ6IHJvd0luZGV4LFxuXHQgICAgICAgICAgY2lkOiBjb2x1bW5JbmRleFxuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpIHtcblx0ICAgICAgICB0aGlzLmhhbmRsZVNlbGVjdFJvdyhyb3dJbmRleCArIDEsIHRydWUpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGVPYmopO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NhbmNlbEVkaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbmNlbEVkaXQoKSB7XG5cdCAgICAgIHZhciBjdXJyRWRpdENlbGwgPSB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbDtcblx0ICAgICAgaWYgKGN1cnJFZGl0Q2VsbCkge1xuXHQgICAgICAgIHRoaXMuaGFuZGxlQ29tcGxldGVFZGl0Q2VsbChudWxsLCBjdXJyRWRpdENlbGwucmlkLCBjdXJyRWRpdENlbGwuY2lkKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUNvbXBsZXRlRWRpdENlbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlRWRpdENlbGwobmV3VmFsLCByb3dJbmRleCwgY29sdW1uSW5kZXgpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJFZGl0Q2VsbDogbnVsbCB9KTtcblx0ICAgICAgaWYgKG51bGwgIT0gbmV3VmFsKSB0aGlzLnByb3BzLmNlbGxFZGl0Ll9fb25Db21wbGV0ZUVkaXRfXyhuZXdWYWwsIHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyU2VsZWN0Um93Q29sdW1uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJTZWxlY3RSb3dDb2x1bW4oc2VsZWN0ZWQpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfU0lOR0xFKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX1RhYmxlQ29sdW1uMlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgdHlwZTogJ3JhZGlvJywgY2hlY2tlZDogc2VsZWN0ZWQsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlLmJpbmQodGhpcykgfSlcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9UYWJsZUNvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcsIGNoZWNrZWQ6IHNlbGVjdGVkLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZS5iaW5kKHRoaXMpIH0pXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEJvZHlIZWFkZXJEb21Qcm9wJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb2R5SGVhZGVyRG9tUHJvcCgpIHtcblx0ICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlcztcblx0ICAgICAgdmFyIGhlYWRlckRvbVByb3BzID0gW107XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGhlYWRlckRvbVByb3BzLnB1c2goe1xuXHQgICAgICAgICAgd2lkdGg6IGhlYWRlcnNbaV0ub2Zmc2V0V2lkdGhcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gaGVhZGVyRG9tUHJvcHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWRqdXN0Qm9keScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRqdXN0Qm9keSgpIHtcblx0ICAgICAgdGhpcy5oYXJkRml4SGVhZGVyV2lkdGgoKTtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY29uZGVuc2VkKSB7XG5cdCAgICAgICAgdGhpcy5yZWZzLmJvZHkuc3R5bGUubWFyZ2luVG9wID0gXCItMzZweFwiO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5tYXhIZWlnaHQgJiYgcGFyc2VJbnQodGhpcy5wcm9wcy5tYXhIZWlnaHQpIDwgdGhpcy5yZWZzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQpIHtcblx0ICAgICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMucHJvcHMubWF4SGVpZ2h0IC0gNDIgKyBcInB4XCI7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXJkRml4SGVhZGVyV2lkdGgnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhcmRGaXhIZWFkZXJXaWR0aCgpIHtcblx0ICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlcztcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaGVhZGVyc1tpXS5zdHlsZS53aWR0aCA9IGhlYWRlcnNbaV0ub2Zmc2V0V2lkdGggKyBcInB4XCI7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjYWxjdWxhdGVDb250YWluZXJIZWlnaHQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZUNvbnRhaW5lckhlaWdodCgpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuaGVpZ2h0ID09IFwiMTAwJVwiKSByZXR1cm4gdGhpcy5wcm9wcy5oZWlnaHQ7ZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMucHJvcHMuaGVpZ2h0KSAtIDQyO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2lzU2VsZWN0Um93RGVmaW5lZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2lzU2VsZWN0Um93RGVmaW5lZCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSB8fCB0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlID09PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZUJvZHk7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVCb2R5LnByb3BUeXBlcyA9IHtcblx0ICBoZWlnaHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGRhdGE6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgY29sdW1uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSxcblx0ICBzdHJpcGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgYm9yZGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBob3ZlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbmRlbnNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGtleUZpZWxkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzZWxlY3RlZFJvd0tleXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgb25Sb3dDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uU2VsZWN0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgbm9EYXRhVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVGFibGVCb2R5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgVGFibGVDb2x1bW4gPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUYWJsZUNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVGFibGVDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVDb2x1bW4pO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUNvbHVtbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGFibGVDb2x1bW4sIFt7XG5cdCAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cdFxuXHQgICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlZCA9IHRoaXMucHJvcHMud2lkdGggIT09IG5leHRQcm9wcy53aWR0aCB8fCB0aGlzLnByb3BzLmNsYXNzTmFtZSAhPT0gbmV4dFByb3BzLmNsYXNzTmFtZSB8fCB0aGlzLnByb3BzLmhpZGRlbiAhPT0gbmV4dFByb3BzLmhpZGRlbiB8fCB0aGlzLnByb3BzLmRhdGFBbGlnbiAhPT0gbmV4dFByb3BzLmRhdGFBbGlnbiB8fCB0eXBlb2YgY2hpbGRyZW4gIT09IHR5cGVvZiBuZXh0UHJvcHMuY2hpbGRyZW4gfHwgKCcnICsgdGhpcy5wcm9wcy5vbkVkaXQpLnRvU3RyaW5nKCkgIT09ICgnJyArIG5leHRQcm9wcy5vbkVkaXQpLnRvU3RyaW5nKCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlZCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZWQ7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnICYmIGNoaWxkcmVuICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4ucHJvcHMudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBjaGlsZHJlbi5wcm9wcy50eXBlID09PSAncmFkaW8nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHwgY2hpbGRyZW4ucHJvcHMudHlwZSAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLnR5cGUgfHwgY2hpbGRyZW4ucHJvcHMuY2hlY2tlZCAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLmNoZWNrZWQ7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHwgY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoISh0aGlzLnByb3BzLmNlbGxFZGl0ICYmIG5leHRQcm9wcy5jZWxsRWRpdCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkIHx8IHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSAhPT0gbmV4dFByb3BzLmNlbGxFZGl0Lm1vZGU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlQ2VsbEVkaXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDZWxsRWRpdChlKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLkNFTExfRURJVF9EQkNMSUNLKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkVkaXQoZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucm93SW5kZXgsIGUuY3VycmVudFRhcmdldC5jZWxsSW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMucHJvcHMud2lkdGggPT0gbnVsbCA/IHRoaXMucHJvcHMud2lkdGggOiB0aGlzLnByb3BzLndpZHRoLmluZGV4T2YoJyUnKSAhPT0gLTEgPyB0aGlzLnByb3BzLndpZHRoIDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCk7XG5cdCAgICAgICAgICAgIHZhciB0ZFN0eWxlID0ge1xuXHQgICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0aGlzLnByb3BzLmRhdGFBbGlnbixcblx0ICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuXHQgICAgICAgICAgICAgICAgbWF4V2lkdGg6IHdpZHRoXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHZhciBjbGFzc25hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMud2lkdGgpIHtcblx0ICAgICAgICAgICAgICAgIGNsYXNzbmFtZSArPSBcIiBjb2wtbWQtXCIgKyB3aWR0aDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIG9wdHMgPSB7fTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLkNFTExfRURJVF9DTElDSykge1xuXHQgICAgICAgICAgICAgICAgICAgIG9wdHMub25DbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfREJDTElDSykge1xuXHQgICAgICAgICAgICAgICAgICAgIG9wdHMub25Eb3VibGVDbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAgICAgICAgX2V4dGVuZHMoeyBzdHlsZTogdGRTdHlsZSwgY2xhc3NOYW1lOiBjbGFzc25hbWUgfSwgb3B0cyksXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUYWJsZUNvbHVtbjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZUNvbHVtbi5wcm9wVHlwZXMgPSB7XG5cdCAgICBkYXRhQWxpZ246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgaGlkZGVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRUYWJsZUNvbHVtbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBkYXRhQWxpZ246IFwibGVmdFwiLFxuXHQgICAgaGlkZGVuOiBmYWxzZSxcblx0ICAgIGNsYXNzTmFtZTogXCJcIlxuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUNvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX0VkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX0VkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FZGl0b3IpO1xuXHRcblx0dmFyIF9Ob3RpZmljYXRpb25KcyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX05vdGlmaWNhdGlvbkpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vdGlmaWNhdGlvbkpzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgVGFibGVFZGl0Q29sdW1uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVGFibGVFZGl0Q29sdW1uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUYWJsZUVkaXRDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVFZGl0Q29sdW1uKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVFZGl0Q29sdW1uLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHQgICAgICAgIHRoaXMudGltZW91dGVDbGVhciA9IDA7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2hha2VFZGl0b3I6IGZhbHNlXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGFibGVFZGl0Q29sdW1uLCBbe1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUtleVByZXNzJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG5cdCAgICAgICAgICAgICAgICAvL1ByZXNzZWQgRU5URVJcblx0ICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC50eXBlID09ICdjaGVja2JveCcgPyB0aGlzLl9nZXRDaGVja0JveFZhbHVlKGUpIDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQodmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQobnVsbCwgdGhpcy5wcm9wcy5yb3dJbmRleCwgdGhpcy5wcm9wcy5jb2xJbmRleCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlQmx1cicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUJsdXIoZSkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5ibHVyVG9TYXZlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudHlwZSA9PSAnY2hlY2tib3gnID8gdGhpcy5fZ2V0Q2hlY2tCb3hWYWx1ZShlKSA6IGUuY3VycmVudFRhcmdldC52YWx1ZTtcblx0ICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQodmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3ZhbGlkYXRvcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkge1xuXHQgICAgICAgICAgICB2YXIgdHMgPSB0aGlzO1xuXHQgICAgICAgICAgICBpZiAodHMucHJvcHMuZWRpdGFibGUudmFsaWRhdG9yKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSB0cy5wcm9wcy5lZGl0YWJsZS52YWxpZGF0b3IodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHZhbGlkICE9PSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgdmFsaWQsIFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0cy5yZWZzLmlucHV0UmVmO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vYW5pbWF0ZSBpbnB1dFxuXHQgICAgICAgICAgICAgICAgICAgIHRzLmNsZWFyVGltZW91dCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHsgc2hha2VFZGl0b3I6IHRydWUgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMudGltZW91dGVDbGVhciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7IHNoYWtlRWRpdG9yOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuXHQgICAgICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjbGVhclRpbWVvdXQnLFxuXHQgICAgICAgIHZhbHVlOiAoZnVuY3Rpb24gKF9jbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJUaW1lb3V0KCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jbGVhclRpbWVvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgY2xlYXJUaW1lb3V0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jbGVhclRpbWVvdXQudG9TdHJpbmcoKTtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSkoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy50aW1lb3V0ZUNsZWFyICE9IDApIHtcblx0ICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRlQ2xlYXIpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5yZWZzLmlucHV0UmVmO1xuXHQgICAgICAgICAgICAvLyBpbnB1dC52YWx1ZSA9IHRoaXMucHJvcHMuY2hpbGRyZW58fCcnO1xuXHQgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IHRoaXMucHJvcHMuZWRpdGFibGUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdCxcblx0ICAgICAgICAgICAgICAgIGF0dHIgPSB7XG5cdCAgICAgICAgICAgICAgICByZWY6IFwiaW5wdXRSZWZcIixcblx0ICAgICAgICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlQcmVzcy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIuYmluZCh0aGlzKVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvL3B1dCBwbGFjZWhvbGRlciBpZiBleGlzdFxuXHQgICAgICAgICAgICBlZGl0YWJsZS5wbGFjZWhvbGRlciAmJiAoYXR0ci5wbGFjZWhvbGRlciA9IGVkaXRhYmxlLnBsYWNlaG9sZGVyKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBlZGl0b3JDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoeyAnYW5pbWF0ZWQnOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yLCAnc2hha2UnOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yIH0pO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAgICAgICAgeyByZWY6ICd0ZCcsIHN0eWxlOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0gfSxcblx0ICAgICAgICAgICAgICAgICgwLCBfRWRpdG9yMlsnZGVmYXVsdCddKShlZGl0YWJsZSwgYXR0ciwgZm9ybWF0LCBlZGl0b3JDbGFzcywgdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCAnJyksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uSnMyWydkZWZhdWx0J10sIHsgcmVmOiAnbm90aWZpZXInIH0pXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ19nZXRDaGVja0JveFZhbHVlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENoZWNrQm94VmFsdWUoZSkge1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcblx0ICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGUuY3VycmVudFRhcmdldC52YWx1ZS5zcGxpdCgnOicpO1xuXHQgICAgICAgICAgICB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC5jaGVja2VkID8gdmFsdWVzWzBdIDogdmFsdWVzWzFdO1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUYWJsZUVkaXRDb2x1bW47XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVFZGl0Q29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICAgIGNvbXBsZXRlRWRpdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcm93SW5kZXg6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgY29sSW5kZXg6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgYmx1clRvU2F2ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUVkaXRDb2x1bW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgVGFibGVGaWx0ZXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZUZpbHRlcihwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlRmlsdGVyKTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIHRoaXMuZmlsdGVyT2JqID0ge307XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVGaWx0ZXIsIFt7XG5cdCAgICBrZXk6ICdoYW5kbGVLZXlVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5VXAoZSkge1xuXHQgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikgZGVsZXRlIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXTtlbHNlIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcblx0XG5cdCAgICAgIHRoaXMucHJvcHMub25GaWx0ZXIodGhpcy5maWx0ZXJPYmopO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgdGFibGVDbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcInRhYmxlXCIsIHtcblx0ICAgICAgICAndGFibGUtc3RyaXBlZCc6IHRoaXMucHJvcHMuc3RyaXBlZCxcblx0ICAgICAgICAndGFibGUtY29uZGVuc2VkJzogdGhpcy5wcm9wcy5jb25kZW5zZWRcblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBzZWxlY3RSb3dIZWFkZXIgPSBudWxsO1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9TSU5HTEUgfHwgdGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX01VTFRJKSB7XG5cdCAgICAgICAgdmFyIHN0eWxlID0ge1xuXHQgICAgICAgICAgd2lkdGg6IDM1LFxuXHQgICAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXG5cdCAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHNlbGVjdFJvd0hlYWRlciA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgIHsgc3R5bGU6IHN0eWxlLCBrZXk6IC0xIH0sXG5cdCAgICAgICAgICAnRmlsdGVyJ1xuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGZpbHRlckZpZWxkID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgdmFyIHRoU3R5bGUgPSB7XG5cdCAgICAgICAgICBkaXNwbGF5OiBjb2x1bW4uaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgICAgd2lkdGg6IGNvbHVtbi53aWR0aFxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgIHsga2V5OiBjb2x1bW4ubmFtZSwgc3R5bGU6IHRoU3R5bGUgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHNpemU6ICcxMCcsIHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6IGNvbHVtbi5uYW1lLCBuYW1lOiBjb2x1bW4ubmFtZSwgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpIH0pXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGFibGUnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiB0YWJsZUNsYXNzZXMsIHN0eWxlOiB7IG1hcmdpblRvcDogNSB9IH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGhlYWQnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgICB7IHN0eWxlOiB7IGJvcmRlckJvdHRvbVN0eWxlOiAnaGlkZGVuJyB9IH0sXG5cdCAgICAgICAgICAgIHNlbGVjdFJvd0hlYWRlcixcblx0ICAgICAgICAgICAgZmlsdGVyRmllbGRcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gVGFibGVGaWx0ZXI7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVGaWx0ZXIucHJvcFR5cGVzID0ge1xuXHQgIGNvbHVtbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgcm93U2VsZWN0VHlwZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgb25GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUZpbHRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3V0aWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9TZWxlY3RSb3dIZWFkZXJDb2x1bW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfU2VsZWN0Um93SGVhZGVyQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdFJvd0hlYWRlckNvbHVtbik7XG5cdFxuXHR2YXIgQ2hlY2tib3ggPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDaGVja2JveCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGVja2JveCk7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hlY2tib3gucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDaGVja2JveCwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdGhpcy51cGRhdGUodGhpcy5wcm9wcy5jaGVja2VkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG5cdCAgICAgIHRoaXMudXBkYXRlKHByb3BzLmNoZWNrZWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3VwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGNoZWNrZWQpIHtcblx0ICAgICAgX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMpLmluZGV0ZXJtaW5hdGUgPSBjaGVja2VkID09PSAnaW5kZXRlcm1pbmF0ZSc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGNsYXNzTmFtZTogJ3JlYWN0LWJzLXNlbGVjdC1hbGwnLCB0eXBlOiAnY2hlY2tib3gnLCBjaGVja2VkOiB0aGlzLnByb3BzLmNoZWNrZWQsIG9uQ2hhbmdlOiB0aGlzLnByb3BzLm9uQ2hhbmdlIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIENoZWNrYm94O1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdHZhciBUYWJsZUhlYWRlciA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQyKTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVIZWFkZXIocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUhlYWRlcik7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVIZWFkZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoID0gbnVsbDtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZUhlYWRlciwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJ0YWJsZS1oZWFkZXJcIik7XG5cdCAgICAgIHZhciB0YWJsZUNsYXNzZXMgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwidGFibGVcIiwgXCJ0YWJsZS1ob3ZlclwiLCB7XG5cdCAgICAgICAgXCJ0YWJsZS1ib3JkZXJlZFwiOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxuXHQgICAgICAgIFwidGFibGUtY29uZGVuc2VkXCI6IHRoaXMucHJvcHMuY29uZGVuc2VkXG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgc2VsZWN0Um93SGVhZGVyQ29sID0gdGhpcy5wcm9wcy5oaWRlU2VsZWN0Q29sdW1uID8gbnVsbCA6IHRoaXMucmVuZGVyU2VsZWN0Um93SGVhZGVyKCk7XG5cdCAgICAgIHRoaXMuX2F0dGFjaENsZWFyU29ydENhcmV0RnVuYygpO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndGFibGUtaGVhZGVyLXdyYXBwZXInIH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgcmVmOiAnY29udGFpbmVyJywgY2xhc3NOYW1lOiBjb250YWluZXJDbGFzc2VzIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3RhYmxlJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHRhYmxlQ2xhc3NlcywgaWQ6IHRoaXMucHJvcHMudGFibGVJRCB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAndGhlYWQnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgICAgICAgeyByZWY6ICdoZWFkZXInIH0sXG5cdCAgICAgICAgICAgICAgICBzZWxlY3RSb3dIZWFkZXJDb2wsXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlclNlbGVjdFJvd0hlYWRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyU2VsZWN0Um93SGVhZGVyKCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfU2VsZWN0Um93SGVhZGVyQ29sdW1uMlsnZGVmYXVsdCddLCB7IHdpZHRoOiB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoIH0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9TZWxlY3RSb3dIZWFkZXJDb2x1bW4yWydkZWZhdWx0J10sXG5cdCAgICAgICAgICB7IHdpZHRoOiB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChDaGVja2JveCwgeyBvbkNoYW5nZTogdGhpcy5wcm9wcy5vblNlbGVjdEFsbFJvdywgY2hlY2tlZDogdGhpcy5wcm9wcy5pc1NlbGVjdEFsbCB9KVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jKCkge1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbltpXS5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgICB2YXIgc29ydCA9IGZpZWxkID09PSB0aGlzLnByb3BzLnNvcnROYW1lID8gdGhpcy5wcm9wcy5zb3J0T3JkZXIgOiB1bmRlZmluZWQ7XG5cdCAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuW2ldID0gX3JlYWN0MlsnZGVmYXVsdCddLmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuW2ldLCB7IGtleTogaSwgb25Tb3J0OiB0aGlzLnByb3BzLm9uU29ydCwgc29ydDogc29ydCB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgdmFyIHNvcnQgPSBmaWVsZCA9PT0gdGhpcy5wcm9wcy5zb3J0TmFtZSA/IHRoaXMucHJvcHMuc29ydE9yZGVyIDogdW5kZWZpbmVkO1xuXHQgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4gPSBfcmVhY3QyWydkZWZhdWx0J10uY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4sIHsga2V5OiAwLCBvblNvcnQ6IHRoaXMucHJvcHMub25Tb3J0LCBzb3J0OiBzb3J0IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZml0SGVhZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaXRIZWFkZXIoaGVhZGVyUHJvcHMsIGlzVmVydGljYWxTY3JvbGxCYXIpIHtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpIHtcblx0ICAgICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9ICh0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfU0lOR0xFIHx8IHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSSkgJiYgIXRoaXMucHJvcHMuaGlkZVNlbGVjdENvbHVtbiA/IDEgOiAwO1xuXHQgICAgICAgIGlmIChzdGFydFBvc2l0aW9uID09IDEpIHRoaXMuc2VsZWN0Um93Q29sdW1uV2lkdGggPSBoZWFkZXJQcm9wc1swXS53aWR0aDtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5baV0gPSBfcmVhY3QyWydkZWZhdWx0J10uY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW5baV0sIHsgd2lkdGg6IGhlYWRlclByb3BzW2kgKyBzdGFydFBvc2l0aW9uXS53aWR0aCArIFwicHhcIiB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbiwgeyB3aWR0aDogaGVhZGVyUHJvcHNbMF0ud2lkdGggKyBcInB4XCIgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY29uZGVuc2VkICYmICF0aGlzLnByb3BzLmlzRmlsdGVyZWQpIHtcblx0ICAgICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMzZweFwiO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcblx0ICAgICAgaWYgKGlzVmVydGljYWxTY3JvbGxCYXIpIHRoaXMucmVmcy5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBfdXRpbDJbJ2RlZmF1bHQnXS5nZXRTY3JvbGxCYXJXaWR0aCgpICsgXCJweFwiO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlSGVhZGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlSGVhZGVyLnByb3BUeXBlcyA9IHtcblx0ICByb3dTZWxlY3RUeXBlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBvblNvcnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblNlbGVjdEFsbFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIHNvcnROYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzb3J0T3JkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGhpZGVTZWxlY3RDb2x1bW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBib3JkZXJlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbmRlbnNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGlzRmlsdGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBpc1NlbGVjdEFsbDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ2luZGV0ZXJtaW5hdGUnLCBmYWxzZV0pXG5cdH07XG5cdFxuXHRUYWJsZUhlYWRlci5kZWZhdWx0UHJvcHMgPSB7fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVGFibGVIZWFkZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfdXRpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsKTtcblx0XG5cdHZhciBfZmlsdGVyc0RhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfZmlsdGVyc0RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsdGVyc0RhdGUpO1xuXHRcblx0dmFyIF9maWx0ZXJzVGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRcblx0dmFyIF9maWx0ZXJzVGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maWx0ZXJzVGV4dCk7XG5cdFxuXHR2YXIgX2ZpbHRlcnNTZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfZmlsdGVyc1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maWx0ZXJzU2VsZWN0KTtcblx0XG5cdHZhciBfZmlsdGVyc051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0dmFyIF9maWx0ZXJzTnVtYmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlcnNOdW1iZXIpO1xuXHRcblx0dmFyIFRhYmxlSGVhZGVyQ29sdW1uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRhYmxlSGVhZGVyQ29sdW1uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVIZWFkZXJDb2x1bW4ocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUhlYWRlckNvbHVtbik7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVIZWFkZXJDb2x1bW4ucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICB0aGlzLmhhbmRsZUZpbHRlciA9IHRoaXMuaGFuZGxlRmlsdGVyLmJpbmQodGhpcyk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVIZWFkZXJDb2x1bW4sIFt7XG5cdCAgICBrZXk6ICdoYW5kbGVDb2x1bW5DbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ29sdW1uQ2xpY2soZSkge1xuXHQgICAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvcnQpIHJldHVybjtcblx0ICAgICAgdmFyIG9yZGVyID0gdGhpcy5wcm9wcy5zb3J0ID09IF9Db25zdDJbJ2RlZmF1bHQnXS5TT1JUX0RFU0MgPyBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9BU0MgOiBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9ERVNDO1xuXHQgICAgICB0aGlzLnByb3BzLm9uU29ydChvcmRlciwgdGhpcy5wcm9wcy5kYXRhRmllbGQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZUZpbHRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKHZhbHVlLCB0eXBlKSB7XG5cdCAgICAgIHRoaXMucHJvcHMuZmlsdGVyLmVtaXR0ZXIuaGFuZGxlRmlsdGVyKHRoaXMucHJvcHMuZGF0YUZpZWxkLCB2YWx1ZSwgdHlwZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RmlsdGVycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmlsdGVycygpIHtcblx0ICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmZpbHRlci50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuVEVYVDpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJzVGV4dDJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuZmlsdGVyLCB7IGNvbHVtbk5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4sIGZpbHRlckhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyIH0pKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5TRUxFQ1Q6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfZmlsdGVyc1NlbGVjdDJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuZmlsdGVyLCB7IGNvbHVtbk5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXIgfSkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJzTnVtYmVyMlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5maWx0ZXIsIHsgY29sdW1uTmFtZTogdGhpcy5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyOiB0aGlzLmhhbmRsZUZpbHRlciB9KSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuREFURTpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJzRGF0ZTJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuZmlsdGVyLCB7IGNvbHVtbk5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4sIGZpbHRlckhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyIH0pKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5DVVNUT006XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLmZpbHRlci5nZXRFbGVtZW50KHRoaXMuaGFuZGxlRmlsdGVyLCB0aGlzLnByb3BzLmZpbHRlci5jdXN0b21GaWx0ZXJQYXJhbWV0ZXJzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdGhpcy5yZWZzLmlubmVyRGl2LnNldEF0dHJpYnV0ZShcImRhdGEtZmllbGRcIiwgdGhpcy5wcm9wcy5kYXRhRmllbGQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgd2lkdGggPSB0aGlzLnByb3BzLndpZHRoICE9PSBudWxsID8gcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCkgOiBudWxsO1xuXHQgICAgICB2YXIgdGhTdHlsZSA9IHtcblx0ICAgICAgICB0ZXh0QWxpZ246IHRoaXMucHJvcHMuZGF0YUFsaWduLFxuXHQgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgIHdpZHRoOiB3aWR0aCxcblx0ICAgICAgICBtYXhXaWR0aDogd2lkdGhcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBkZWZhdWx0Q2FyZXQgPSAhdGhpcy5wcm9wcy5kYXRhU29ydCA/IG51bGwgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdvcmRlcicgfSxcblx0ICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZHJvcGRvd24nIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnY2FyZXQnLCBzdHlsZTogeyBtYXJnaW46ICcxMHB4IDAgMTBweCA1cHgnLCBjb2xvcjogJyNjY2MnIH0gfSlcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdkcm9wdXAnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnY2FyZXQnLCBzdHlsZTogeyBtYXJnaW46ICcxMHB4IDAnLCBjb2xvcjogJyNjY2MnIH0gfSlcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICAgIHZhciBzb3J0Q2FyZXQgPSB0aGlzLnByb3BzLnNvcnQgPyBfdXRpbDJbJ2RlZmF1bHQnXS5yZW5kZXJSZWFjdFNvcnRDYXJldCh0aGlzLnByb3BzLnNvcnQpIDogZGVmYXVsdENhcmV0O1xuXHRcblx0ICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIFwiICsgKHRoaXMucHJvcHMuZGF0YVNvcnQgPyBcInNvcnQtY29sdW1uXCIgOiBcIlwiKTtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0aCcsXG5cdCAgICAgICAgeyByZWY6ICdoZWFkZXItY29sJywgY2xhc3NOYW1lOiBjbGFzc2VzLCBzdHlsZTogdGhTdHlsZSB9LFxuXHQgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IHJlZjogJ2lubmVyRGl2JywgY2xhc3NOYW1lOiAndGgtaW5uZXIgdGFibGUtaGVhZGVyLWNvbHVtbicsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29sdW1uQ2xpY2suYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgIHNvcnRDYXJldFxuXHQgICAgICAgICksXG5cdCAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXIgPyB0aGlzLmdldEZpbHRlcnMoKSA6IG51bGxcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZUhlYWRlckNvbHVtbjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgZmlsdGVyVHlwZUFycmF5ID0gW107XG5cdGZvciAodmFyIGtleSBpbiBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUpIHtcblx0ICBmaWx0ZXJUeXBlQXJyYXkucHVzaChfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEVba2V5XSk7XG5cdH1cblx0XG5cdFRhYmxlSGVhZGVyQ29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICBkYXRhRmllbGQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGRhdGFBbGlnbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgZGF0YVNvcnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvblNvcnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBkYXRhRm9ybWF0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgaXNLZXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBlZGl0YWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksXG5cdCAgaGlkZGVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgaGlkZGVuSW5Qb3B1cDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIHNlYXJjaGFibGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBjbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHdpZHRoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzb3J0RnVuYzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIGNvbHVtbkNsYXNzTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksXG5cdCAgZmlsdGVyRm9ybWF0dGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgc29ydDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgZm9ybWF0RXh0cmFEYXRhOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSxcblx0ICBmaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgdHlwZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihmaWx0ZXJUeXBlQXJyYXkpLFxuXHQgICAgZGVsYXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgb3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBmb3IgU2VsZWN0RmlsdGVyXG5cdCAgICBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5T2YoX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIpIC8vZm9yIE51bWJlckZpbHRlclxuXHQgICAgXSksXG5cdCAgICBudW1iZXJDb21wYXJhdG9yczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nKSxcblx0ICAgIGVtaXR0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgcGxhY2Vob2xkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZ2V0RWxlbWVudDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgY3VzdG9tRmlsdGVyUGFyYW1ldGVyczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3Rcblx0ICB9KVxuXHR9O1xuXHRcblx0VGFibGVIZWFkZXJDb2x1bW4uZGVmYXVsdFByb3BzID0ge1xuXHQgIGRhdGFBbGlnbjogXCJsZWZ0XCIsXG5cdCAgZGF0YVNvcnQ6IGZhbHNlLFxuXHQgIGRhdGFGb3JtYXQ6IHVuZGVmaW5lZCxcblx0ICBpc0tleTogZmFsc2UsXG5cdCAgZWRpdGFibGU6IHRydWUsXG5cdCAgb25Tb3J0OiB1bmRlZmluZWQsXG5cdCAgaGlkZGVuOiBmYWxzZSxcblx0ICBoaWRkZW5JblBvcHVwOiBmYWxzZSxcblx0ICBzZWFyY2hhYmxlOiB0cnVlLFxuXHQgIGNsYXNzTmFtZTogXCJcIixcblx0ICB3aWR0aDogbnVsbCxcblx0ICBzb3J0RnVuYzogdW5kZWZpbmVkLFxuXHQgIGNvbHVtbkNsYXNzTmFtZTogJycsXG5cdCAgZmlsdGVyRm9ybWF0dGVkOiBmYWxzZSxcblx0ICBzb3J0OiB1bmRlZmluZWQsXG5cdCAgZm9ybWF0RXh0cmFEYXRhOiB1bmRlZmluZWQsXG5cdCAgZmlsdGVyOiB1bmRlZmluZWRcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFRhYmxlSGVhZGVyQ29sdW1uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIFRhYmxlUm93ID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRhYmxlUm93LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVSb3cocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZVJvdyk7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVSb3cucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICB0aGlzLmNsaWNrTnVtID0gMDtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZVJvdywgW3tcblx0ICAgIGtleTogJ3Jvd0NsaWNrJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByb3dDbGljayhlKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSAhPT0gXCJJTlBVVFwiICYmIGUudGFyZ2V0LnRhZ05hbWUgIT09IFwiU0VMRUNUXCIgJiYgZS50YXJnZXQudGFnTmFtZSAhPT0gXCJURVhUQVJFQVwiKSB7XG5cdCAgICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHZhciByb3dJbmRleCA9IGUuY3VycmVudFRhcmdldC5yb3dJbmRleDtcblx0ICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5zZWxlY3RSb3cpIHtcblx0ICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0KSB7XG5cdCAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25TZWxlY3RSb3cocm93SW5kZXgsICFfdGhpcy5wcm9wcy5pc1NlbGVjdGVkKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXMuY2xpY2tOdW0rKztcblx0ICAgICAgICAgICAgICAvKiogaWYgY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsIGlzIGVuYWJsZWQsXHJcblx0ICAgICAgICAgICAgICAgKiAgdGhlcmUgc2hvdWxkIGJlIGEgZGVsYXkgdG8gcHJldmVudCBhIHNlbGVjdGlvbiBjaGFuZ2VkIHdoZW5cclxuXHQgICAgICAgICAgICAgICAqICB1c2VyIGRibGljayB0byBlZGl0IGNlbGwgb24gc2FtZSByb3cgYnV0IGRpZmZlcmVudCBjZWxsXHJcblx0ICAgICAgICAgICAgICAqKi9cblx0ICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jbGlja051bSA9PT0gMSkge1xuXHQgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdFJvdyhyb3dJbmRleCwgIV90aGlzLnByb3BzLmlzU2VsZWN0ZWQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tOdW0gPSAwO1xuXHQgICAgICAgICAgICAgIH0sIDIwMCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vblJvd0NsaWNrKSBfdGhpcy5wcm9wcy5vblJvd0NsaWNrKHJvd0luZGV4KTtcblx0ICAgICAgICB9KSgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncm93TW91c2VPdXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJvd01vdXNlT3V0KGUpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub25Sb3dNb3VzZU91dCkge1xuXHQgICAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU91dChlLmN1cnJlbnRUYXJnZXQucm93SW5kZXgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncm93TW91c2VPdmVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByb3dNb3VzZU92ZXIoZSkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5vblJvd01vdXNlT3Zlcikge1xuXHQgICAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU92ZXIoZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB0aGlzLmNsaWNrTnVtID0gMDtcblx0ICAgICAgdmFyIHRyQ3NzID0ge1xuXHQgICAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMuaXNTZWxlY3RlZCA/IHRoaXMucHJvcHMuc2VsZWN0Um93LmJnQ29sb3IgOiBudWxsXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjbGFzc05hbWU6ICh0aGlzLnByb3BzLmlzU2VsZWN0ZWQgJiYgdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xhc3NOYW1lID8gdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xhc3NOYW1lIDogJycpICsgKHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnKVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93ICYmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0IHx8IHRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkgfHwgdGhpcy5wcm9wcy5vblJvd0NsaWNrKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RyJyxcblx0ICAgICAgICAgIF9leHRlbmRzKHt9LCB0ckNzcywge1xuXHQgICAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5yb3dNb3VzZU92ZXIuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25Nb3VzZU91dDogdGhpcy5yb3dNb3VzZU91dC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnJvd0NsaWNrLmJpbmQodGhpcykgfSksXG5cdCAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgdHJDc3MsXG5cdCAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlUm93O1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlUm93LnByb3BUeXBlcyA9IHtcblx0ICBpc1NlbGVjdGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgZW5hYmxlQ2VsbEVkaXQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvblJvd0NsaWNrOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25TZWxlY3RSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblJvd01vdXNlT3V0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dNb3VzZU92ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRUYWJsZVJvdy5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgb25Sb3dDbGljazogdW5kZWZpbmVkXG5cdH07XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFRhYmxlUm93O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuXHQgIHZhciBmaWxlc2F2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0ICB2YXIgc2F2ZUFzID0gZmlsZXNhdmVyLnNhdmVBcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9TdHJpbmcoZGF0YSwga2V5cykge1xuXHQgIHZhciBkYXRhU3RyaW5nID0gXCJcIjtcblx0ICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHJldHVybiBkYXRhU3RyaW5nO1xuXHRcblx0ICBkYXRhU3RyaW5nICs9IGtleXMuam9pbignLCcpICsgJ1xcbic7XG5cdFxuXHQgIGRhdGEubWFwKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgIGtleXMubWFwKGZ1bmN0aW9uIChjb2wsIGkpIHtcblx0ICAgICAgdmFyIGNlbGwgPSB0eXBlb2Ygcm93W2NvbF0gIT09ICd1bmRlZmluZWQnID8gJ1wiJyArIHJvd1tjb2xdICsgJ1wiJyA6IFwiXCI7XG5cdCAgICAgIGRhdGFTdHJpbmcgKz0gY2VsbDtcblx0ICAgICAgaWYgKGkgKyAxIDwga2V5cy5sZW5ndGgpIGRhdGFTdHJpbmcgKz0gJywnO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgZGF0YVN0cmluZyArPSAnXFxuJztcblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIGRhdGFTdHJpbmc7XG5cdH07XG5cdFxuXHR2YXIgZXhwb3J0Q1NWID0gZnVuY3Rpb24gZXhwb3J0Q1NWKGRhdGEsIGtleXMsIGZpbGVuYW1lKSB7XG5cdCAgdmFyIGRhdGFTdHJpbmcgPSB0b1N0cmluZyhkYXRhLCBrZXlzKTtcblx0ICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIHNhdmVBcyhuZXcgQmxvYihbZGF0YVN0cmluZ10sIHsgdHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIiB9KSwgZmlsZW5hbWUgfHwgJ3NwcmVhZHNoZWV0LmNzdicpO1xuXHQgIH1cblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGV4cG9ydENTVjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIEZpbGVTYXZlci5qc1xyXG5cdCAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxyXG5cdCAqIDEuMS4yMDE1MTAwM1xyXG5cdCAqXHJcblx0ICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxyXG5cdCAqIExpY2Vuc2U6IE1JVFxyXG5cdCAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcblx0ICovXG5cdFxuXHQvKmdsb2JhbCBzZWxmICovXG5cdC8qanNsaW50IGJpdHdpc2U6IHRydWUsIGluZGVudDogNCwgbGF4YnJlYWs6IHRydWUsIGxheGNvbW1hOiB0cnVlLCBzbWFydHRhYnM6IHRydWUsIHBsdXNwbHVzOiB0cnVlICovXG5cdFxuXHQvKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0ZpbGVTYXZlci5qcyAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbiAodmlldykge1xuXHRcdFwidXNlIHN0cmljdFwiO1xuXHRcdC8vIElFIDwxMCBpcyBleHBsaWNpdGx5IHVuc3VwcG9ydGVkXG5cdFx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyIGRvYyA9IHZpZXcuZG9jdW1lbnQsXG5cdFx0ICAgXG5cdFx0Ly8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcblx0XHRnZXRfVVJMID0gZnVuY3Rpb24gZ2V0X1VSTCgpIHtcblx0XHRcdHJldHVybiB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3O1xuXHRcdH0sXG5cdFx0ICAgIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKSxcblx0XHQgICAgY2FuX3VzZV9zYXZlX2xpbmsgPSAoXCJkb3dubG9hZFwiIGluIHNhdmVfbGluayksXG5cdFx0ICAgIGNsaWNrID0gZnVuY3Rpb24gY2xpY2sobm9kZSkge1xuXHRcdFx0dmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtcblx0XHRcdG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fSxcblx0XHQgICAgaXNfc2FmYXJpID0gL1ZlcnNpb25cXC9bXFxkXFwuXSsuKlNhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcblx0XHQgICAgd2Via2l0X3JlcV9mcyA9IHZpZXcud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0sXG5cdFx0ICAgIHJlcV9mcyA9IHZpZXcucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2Via2l0X3JlcV9mcyB8fCB2aWV3Lm1velJlcXVlc3RGaWxlU3lzdGVtLFxuXHRcdCAgICB0aHJvd19vdXRzaWRlID0gZnVuY3Rpb24gdGhyb3dfb3V0c2lkZShleCkge1xuXHRcdFx0KHZpZXcuc2V0SW1tZWRpYXRlIHx8IHZpZXcuc2V0VGltZW91dCkoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aHJvdyBleDtcblx0XHRcdH0sIDApO1xuXHRcdH0sXG5cdFx0ICAgIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLFxuXHRcdCAgICBmc19taW5fc2l6ZSA9IDAsXG5cdFx0ICAgXG5cdFx0Ly8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzUyOTcjYzcgYW5kXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvRmlsZVNhdmVyLmpzL2NvbW1pdC80ODU5MzBhI2NvbW1pdGNvbW1lbnQtODc2ODA0N1xuXHRcdC8vIGZvciB0aGUgcmVhc29uaW5nIGJlaGluZCB0aGUgdGltZW91dCBhbmQgcmV2b2NhdGlvbiBmbG93XG5cdFx0YXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0ID0gNTAwLFxuXHRcdCAgICAvLyBpbiBtc1xuXHRcdHJldm9rZSA9IGZ1bmN0aW9uIHJldm9rZShmaWxlKSB7XG5cdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uIHJldm9rZXIoKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdC8vIGZpbGUgaXMgYW4gb2JqZWN0IFVSTFxuXHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKHZpZXcuY2hyb21lKSB7XG5cdFx0XHRcdHJldm9rZXIoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdCAgICBkaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoKGZpbGVzYXZlciwgZXZlbnRfdHlwZXMsIGV2ZW50KSB7XG5cdFx0XHRldmVudF90eXBlcyA9IFtdLmNvbmNhdChldmVudF90eXBlcyk7XG5cdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0dmFyIGxpc3RlbmVyID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50X3R5cGVzW2ldXTtcblx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyLmNhbGwoZmlsZXNhdmVyLCBldmVudCB8fCBmaWxlc2F2ZXIpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHR0aHJvd19vdXRzaWRlKGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdCAgICBhdXRvX2JvbSA9IGZ1bmN0aW9uIGF1dG9fYm9tKGJsb2IpIHtcblx0XHRcdC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXG5cdFx0XHRpZiAoL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1wi77u/XCIsIGJsb2JdLCB7IHR5cGU6IGJsb2IudHlwZSB9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBibG9iO1xuXHRcdH0sXG5cdFx0ICAgIEZpbGVTYXZlciA9IGZ1bmN0aW9uIEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XG5cdFx0XHR9XG5cdFx0XHQvLyBGaXJzdCB0cnkgYS5kb3dubG9hZCwgdGhlbiB3ZWIgZmlsZXN5c3RlbSwgdGhlbiBvYmplY3QgVVJMc1xuXHRcdFx0dmFyIGZpbGVzYXZlciA9IHRoaXMsXG5cdFx0XHQgICAgdHlwZSA9IGJsb2IudHlwZSxcblx0XHRcdCAgICBibG9iX2NoYW5nZWQgPSBmYWxzZSxcblx0XHRcdCAgICBvYmplY3RfdXJsLFxuXHRcdFx0ICAgIHRhcmdldF92aWV3LFxuXHRcdFx0ICAgIGRpc3BhdGNoX2FsbCA9IGZ1bmN0aW9uIGRpc3BhdGNoX2FsbCgpIHtcblx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xuXHRcdFx0fSxcblx0XHRcdCAgIFxuXHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xuXHRcdFx0ZnNfZXJyb3IgPSBmdW5jdGlvbiBmc19lcnJvcigpIHtcblx0XHRcdFx0aWYgKHRhcmdldF92aWV3ICYmIGlzX3NhZmFyaSAmJiB0eXBlb2YgRmlsZVJlYWRlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgdXJsc1xuXHRcdFx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRcdHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgYmFzZTY0RGF0YSA9IHJlYWRlci5yZXN1bHQ7XG5cdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gXCJkYXRhOmF0dGFjaG1lbnQvZmlsZVwiICsgYmFzZTY0RGF0YS5zbGljZShiYXNlNjREYXRhLnNlYXJjaCgvWyw7XS8pKTtcblx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXG5cdFx0XHRcdGlmIChibG9iX2NoYW5nZWQgfHwgIW9iamVjdF91cmwpIHtcblx0XHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGFyZ2V0X3ZpZXcpIHtcblx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YXIgbmV3X3RhYiA9IHZpZXcub3BlbihvYmplY3RfdXJsLCBcIl9ibGFua1wiKTtcblx0XHRcdFx0XHRpZiAobmV3X3RhYiA9PSB1bmRlZmluZWQgJiYgaXNfc2FmYXJpKSB7XG5cdFx0XHRcdFx0XHQvL0FwcGxlIGRvIG5vdCBhbGxvdyB3aW5kb3cub3Blbiwgc2VlIGh0dHA6Ly9iaXQubHkvMWtaZmZSSVxuXHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdH0sXG5cdFx0XHQgICAgYWJvcnRhYmxlID0gZnVuY3Rpb24gYWJvcnRhYmxlKGZ1bmMpIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoZmlsZXNhdmVyLnJlYWR5U3RhdGUgIT09IGZpbGVzYXZlci5ET05FKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHQgICAgY3JlYXRlX2lmX25vdF9mb3VuZCA9IHsgY3JlYXRlOiB0cnVlLCBleGNsdXNpdmU6IGZhbHNlIH0sXG5cdFx0XHQgICAgc2xpY2U7XG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0aWYgKCFuYW1lKSB7XG5cdFx0XHRcdG5hbWUgPSBcImRvd25sb2FkXCI7XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2FuX3VzZV9zYXZlX2xpbmspIHtcblx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0c2F2ZV9saW5rLmRvd25sb2FkID0gbmFtZTtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Y2xpY2soc2F2ZV9saW5rKTtcblx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vIE9iamVjdCBhbmQgd2ViIGZpbGVzeXN0ZW0gVVJMcyBoYXZlIGEgcHJvYmxlbSBzYXZpbmcgaW4gR29vZ2xlIENocm9tZSB3aGVuXG5cdFx0XHQvLyB2aWV3ZWQgaW4gYSB0YWIsIHNvIEkgZm9yY2Ugc2F2ZSB3aXRoIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVxuXHRcdFx0Ly8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTExNThcblx0XHRcdC8vIFVwZGF0ZTogR29vZ2xlIGVycmFudGx5IGNsb3NlZCA5MTE1OCwgSSBzdWJtaXR0ZWQgaXQgYWdhaW46XG5cdFx0XHQvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzg5NjQyXG5cdFx0XHRpZiAodmlldy5jaHJvbWUgJiYgdHlwZSAmJiB0eXBlICE9PSBmb3JjZV9zYXZlYWJsZV90eXBlKSB7XG5cdFx0XHRcdHNsaWNlID0gYmxvYi5zbGljZSB8fCBibG9iLndlYmtpdFNsaWNlO1xuXHRcdFx0XHRibG9iID0gc2xpY2UuY2FsbChibG9iLCAwLCBibG9iLnNpemUsIGZvcmNlX3NhdmVhYmxlX3R5cGUpO1xuXHRcdFx0XHRibG9iX2NoYW5nZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gU2luY2UgSSBjYW4ndCBiZSBzdXJlIHRoYXQgdGhlIGd1ZXNzZWQgbWVkaWEgdHlwZSB3aWxsIHRyaWdnZXIgYSBkb3dubG9hZFxuXHRcdFx0Ly8gaW4gV2ViS2l0LCBJIGFwcGVuZCAuZG93bmxvYWQgdG8gdGhlIGZpbGVuYW1lLlxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTY1NDQwXG5cdFx0XHRpZiAod2Via2l0X3JlcV9mcyAmJiBuYW1lICE9PSBcImRvd25sb2FkXCIpIHtcblx0XHRcdFx0bmFtZSArPSBcIi5kb3dubG9hZFwiO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGUgPT09IGZvcmNlX3NhdmVhYmxlX3R5cGUgfHwgd2Via2l0X3JlcV9mcykge1xuXHRcdFx0XHR0YXJnZXRfdmlldyA9IHZpZXc7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXJlcV9mcykge1xuXHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRmc19taW5fc2l6ZSArPSBibG9iLnNpemU7XG5cdFx0XHRyZXFfZnModmlldy5URU1QT1JBUlksIGZzX21pbl9zaXplLCBhYm9ydGFibGUoZnVuY3Rpb24gKGZzKSB7XG5cdFx0XHRcdGZzLnJvb3QuZ2V0RGlyZWN0b3J5KFwic2F2ZWRcIiwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uIChkaXIpIHtcblx0XHRcdFx0XHR2YXIgc2F2ZSA9IGZ1bmN0aW9uIHNhdmUoKSB7XG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24gKGZpbGUpIHtcblx0XHRcdFx0XHRcdFx0ZmlsZS5jcmVhdGVXcml0ZXIoYWJvcnRhYmxlKGZ1bmN0aW9uICh3cml0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHR3cml0ZXIub253cml0ZWVuZCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVlbmRcIiwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV2b2tlKGZpbGUpO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3IgPSB3cml0ZXIuZXJyb3I7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZXJyb3IuY29kZSAhPT0gZXJyb3IuQUJPUlRfRVJSKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgYWJvcnRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlcltcIm9uXCIgKyBldmVudF0gPSBmaWxlc2F2ZXJbXCJvblwiICsgZXZlbnRdO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci53cml0ZShibG9iKTtcblx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5XUklUSU5HO1xuXHRcdFx0XHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGRpci5nZXRGaWxlKG5hbWUsIHsgY3JlYXRlOiBmYWxzZSB9LCBhYm9ydGFibGUoZnVuY3Rpb24gKGZpbGUpIHtcblx0XHRcdFx0XHRcdC8vIGRlbGV0ZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzXG5cdFx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0c2F2ZSgpO1xuXHRcdFx0XHRcdH0pLCBhYm9ydGFibGUoZnVuY3Rpb24gKGV4KSB7XG5cdFx0XHRcdFx0XHRpZiAoZXguY29kZSA9PT0gZXguTk9UX0ZPVU5EX0VSUikge1xuXHRcdFx0XHRcdFx0XHRzYXZlKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pKTtcblx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0fSxcblx0XHQgICAgRlNfcHJvdG8gPSBGaWxlU2F2ZXIucHJvdG90eXBlLFxuXHRcdCAgICBzYXZlQXMgPSBmdW5jdGlvbiBzYXZlQXMoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdHJldHVybiBuZXcgRmlsZVNhdmVyKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKTtcblx0XHR9O1xuXHRcdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0XHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCBuYW1lIHx8IFwiZG93bmxvYWRcIik7XG5cdFx0XHR9O1xuXHRcdH1cblx0XG5cdFx0RlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgZmlsZXNhdmVyID0gdGhpcztcblx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwiYWJvcnRcIik7XG5cdFx0fTtcblx0XHRGU19wcm90by5yZWFkeVN0YXRlID0gRlNfcHJvdG8uSU5JVCA9IDA7XG5cdFx0RlNfcHJvdG8uV1JJVElORyA9IDE7XG5cdFx0RlNfcHJvdG8uRE9ORSA9IDI7XG5cdFxuXHRcdEZTX3Byb3RvLmVycm9yID0gRlNfcHJvdG8ub253cml0ZXN0YXJ0ID0gRlNfcHJvdG8ub25wcm9ncmVzcyA9IEZTX3Byb3RvLm9ud3JpdGUgPSBGU19wcm90by5vbmFib3J0ID0gRlNfcHJvdG8ub25lcnJvciA9IEZTX3Byb3RvLm9ud3JpdGVlbmQgPSBudWxsO1xuXHRcblx0XHRyZXR1cm4gc2F2ZUFzO1xuXHR9KSh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93IHx8IHVuZGVmaW5lZC5jb250ZW50KTtcblx0Ly8gYHNlbGZgIGlzIHVuZGVmaW5lZCBpbiBGaXJlZm94IGZvciBBbmRyb2lkIGNvbnRlbnQgc2NyaXB0IGNvbnRleHRcblx0Ly8gd2hpbGUgYHRoaXNgIGlzIG5zSUNvbnRlbnRGcmFtZU1lc3NhZ2VNYW5hZ2VyXG5cdC8vIHdpdGggYW4gYXR0cmlidXRlIGBjb250ZW50YCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB3aW5kb3dcblx0XG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMuc2F2ZUFzID0gc2F2ZUFzO1xuXHR9IGVsc2UgaWYgKFwiZnVuY3Rpb25cIiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KSAhPT0gbnVsbCAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSAhPSBudWxsKSB7XG5cdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHNhdmVBcztcblx0XHR9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBEYXRlRmlsdGVyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoRGF0ZUZpbHRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gRGF0ZUZpbHRlcihwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlRmlsdGVyKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF0ZUZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICB0aGlzLmZpbHRlciA9IHRoaXMuZmlsdGVyLmJpbmQodGhpcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKERhdGVGaWx0ZXIsIFt7XG5cdCAgICAgICAga2V5OiAnc2V0RGVmYXVsdERhdGUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0RGF0ZSgpIHtcblx0ICAgICAgICAgICAgdmFyIGRlZmF1bHREYXRlID0gXCJcIjtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGFwcHJvcHJpYXRlIGZvcm1hdCBmb3IgdGhlIGlucHV0IHR5cGU9ZGF0ZSwgaS5lLiBcIllZWVktTU0tRERcIlxuXHQgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5ldyBEYXRlKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHREYXRlID0gZGVmYXVsdFZhbHVlLmdldEZ1bGxZZWFyKCkgKyAnLScgKyAoXCIwXCIgKyAoZGVmYXVsdFZhbHVlLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpICsgJy0nICsgKFwiMFwiICsgZGVmYXVsdFZhbHVlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RGF0ZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZmlsdGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHZhciBkYXRlVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICAgICAgICAgIGlmIChkYXRlVmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihuZXcgRGF0ZShkYXRlVmFsdWUpLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuREFURSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIobnVsbCwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkRBVEUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYXRlVmFsdWUgPSB0aGlzLnJlZnMuaW5wdXREYXRlLmRlZmF1bHRWYWx1ZTtcblx0ICAgICAgICAgICAgaWYgKGRhdGVWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKG5ldyBEYXRlKGRhdGVWYWx1ZSksIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5EQVRFKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHJlZjogJ2lucHV0RGF0ZScsXG5cdCAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdmaWx0ZXIgZGF0ZS1maWx0ZXIgZm9ybS1jb250cm9sJyxcblx0ICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmZpbHRlcixcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdGhpcy5zZXREZWZhdWx0RGF0ZSgpIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gRGF0ZUZpbHRlcjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHQ7XG5cdFxuXHREYXRlRmlsdGVyLnByb3BUeXBlcyA9IHtcblx0ICAgIGZpbHRlckhhbmRsZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHQgICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGNvbHVtbk5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBEYXRlRmlsdGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDI5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgbGVnYWxDb21wYXJhdG9ycyA9IFtcIj1cIiwgXCI+XCIsIFwiPj1cIiwgXCI8XCIsIFwiPD1cIiwgXCIhPVwiXTtcblx0XG5cdHZhciBOdW1iZXJGaWx0ZXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhOdW1iZXJGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIE51bWJlckZpbHRlcihwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOdW1iZXJGaWx0ZXIpO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihOdW1iZXJGaWx0ZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICAgICAgdGhpcy5udW1iZXJDb21wYXJhdG9ycyA9IHRoaXMucHJvcHMubnVtYmVyQ29tcGFyYXRvcnMgfHwgbGVnYWxDb21wYXJhdG9ycztcblx0ICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuXHQgICAgICAgIHRoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIGlzUGxhY2Vob2xkZXJTZWxlY3RlZDogdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgPT0gdW5kZWZpbmVkIHx8IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlciA9PSB1bmRlZmluZWQgfHwgdGhpcy5wcm9wcy5vcHRpb25zICYmIHRoaXMucHJvcHMub3B0aW9ucy5pbmRleE9mKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlcikgPT0gLTFcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHRoaXMub25DaGFuZ2VOdW1iZXIgPSB0aGlzLm9uQ2hhbmdlTnVtYmVyLmJpbmQodGhpcyk7XG5cdCAgICAgICAgdGhpcy5vbkNoYW5nZU51bWJlclNldCA9IHRoaXMub25DaGFuZ2VOdW1iZXJTZXQuYmluZCh0aGlzKTtcblx0ICAgICAgICB0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvciA9IHRoaXMub25DaGFuZ2VDb21wYXJhdG9yLmJpbmQodGhpcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKE51bWJlckZpbHRlciwgW3tcblx0ICAgICAgICBrZXk6ICdvbkNoYW5nZU51bWJlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlTnVtYmVyKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSA9PT0gXCJcIikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcblx0ICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICAgICAgdmFyIGZpbHRlclZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuXHQgICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGYucHJvcHMuZmlsdGVySGFuZGxlcih7IG51bWJlcjogZmlsdGVyVmFsdWUsIGNvbXBhcmF0b3I6IHNlbGYucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlIH0sIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5OVU1CRVIpO1xuXHQgICAgICAgICAgICB9LCBzZWxmLnByb3BzLmRlbGF5KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnb25DaGFuZ2VOdW1iZXJTZXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZU51bWJlclNldChldmVudCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNQbGFjZWhvbGRlclNlbGVjdGVkOiBldmVudC50YXJnZXQudmFsdWUgPT09IFwiXCIgfSk7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSA9PT0gXCJcIikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7IG51bWJlcjogZXZlbnQudGFyZ2V0LnZhbHVlLCBjb21wYXJhdG9yOiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSB9LCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuTlVNQkVSKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnb25DaGFuZ2VDb21wYXJhdG9yJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2VDb21wYXJhdG9yKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHsgbnVtYmVyOiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlLCBjb21wYXJhdG9yOiBldmVudC50YXJnZXQudmFsdWUgfSwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUik7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldENvbXBhcmF0b3JPcHRpb25zJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tcGFyYXRvck9wdGlvbnMoKSB7XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25UYWdzID0gW107XG5cdCAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnb3B0aW9uJywgeyBrZXk6ICctMScgfSkpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubnVtYmVyQ29tcGFyYXRvcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnb3B0aW9uJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGtleTogaSwgdmFsdWU6IHRoaXMubnVtYmVyQ29tcGFyYXRvcnNbaV0gfSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLm51bWJlckNvbXBhcmF0b3JzW2ldXG5cdCAgICAgICAgICAgICAgICApKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgcmV0dXJuIG9wdGlvblRhZ3M7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldE51bWJlck9wdGlvbnMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROdW1iZXJPcHRpb25zKCkge1xuXHQgICAgICAgICAgICB2YXIgb3B0aW9uVGFncyA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucztcblx0XG5cdCAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdvcHRpb24nLFxuXHQgICAgICAgICAgICAgICAgeyBrZXk6ICctMScsIHZhbHVlOiAnJyB9LFxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCAnU2VsZWN0ICcgKyB0aGlzLnByb3BzLmNvbHVtbk5hbWUgKyAnLi4uJ1xuXHQgICAgICAgICAgICApKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBvcHRpb25UYWdzLnB1c2goX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ29wdGlvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGksIHZhbHVlOiBvcHRpb25zW2ldIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXVxuXHQgICAgICAgICAgICAgICAgKSk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHJldHVybiBvcHRpb25UYWdzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgJiYgdGhpcy5yZWZzLm51bWJlckZpbHRlci52YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHsgbnVtYmVyOiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlIH0sIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5OVU1CRVIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJzZWxlY3QtZmlsdGVyXCIsIFwibnVtYmVyLWZpbHRlci1pbnB1dFwiLCBcImZvcm0tY29udHJvbFwiLCB7IFwicGxhY2Vob2xkZXItc2VsZWN0ZWRcIjogdGhpcy5zdGF0ZS5pc1BsYWNlaG9sZGVyU2VsZWN0ZWQgfSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZmlsdGVyIG51bWJlci1maWx0ZXInIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc2VsZWN0Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IHJlZjogJ251bWJlckZpbHRlckNvbXBhcmF0b3InLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdudW1iZXItZmlsdGVyLWNvbXBhcmF0b3IgZm9ybS1jb250cm9sJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VDb21wYXJhdG9yLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlID8gdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUuY29tcGFyYXRvciA6IFwiXCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENvbXBhcmF0b3JPcHRpb25zKClcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc2VsZWN0Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IHJlZjogJ251bWJlckZpbHRlcicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogc2VsZWN0Q2xhc3MsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlID8gdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyIDogXCJcIiB9LFxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TnVtYmVyT3B0aW9ucygpXG5cdCAgICAgICAgICAgICAgICApIDogX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyByZWY6ICdudW1iZXJGaWx0ZXInLFxuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuXHQgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ251bWJlci1maWx0ZXItaW5wdXQgZm9ybS1jb250cm9sJyxcblx0ICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCAnRW50ZXIgJyArIHRoaXMucHJvcHMuY29sdW1uTmFtZSArICcuLi4nLFxuXHQgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlTnVtYmVyLFxuXHQgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgPyB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZS5udW1iZXIgOiBcIlwiIH0pXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBOdW1iZXJGaWx0ZXI7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0O1xuXHRcblx0TnVtYmVyRmlsdGVyLnByb3BUeXBlcyA9IHtcblx0ICAgIGZpbHRlckhhbmRsZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHQgICAgb3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyKSxcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICAgICAgbnVtYmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICAgICAgICBjb21wYXJhdG9yOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mKGxlZ2FsQ29tcGFyYXRvcnMpXG5cdCAgICB9KSxcblx0ICAgIGRlbGF5OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICAgIG51bWJlckNvbXBhcmF0b3JzOiBmdW5jdGlvbiBudW1iZXJDb21wYXJhdG9ycyhwcm9wcywgcHJvcE5hbWUpIHtcblx0ICAgICAgICBpZiAoIXByb3BzW3Byb3BOYW1lXSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHNbcHJvcE5hbWVdLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBjb21wYXJhdG9ySXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlZ2FsQ29tcGFyYXRvcnMubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChsZWdhbENvbXBhcmF0b3JzW2pdID09PSBwcm9wc1twcm9wTmFtZV1baV0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb21wYXJhdG9ySXNWYWxpZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFjb21wYXJhdG9ySXNWYWxpZCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignTnVtYmVyIGNvbXBhcmF0b3IgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZC4gVXNlIG9ubHkgJyArIGxlZ2FsQ29tcGFyYXRvcnMpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHBsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNvbHVtbk5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHROdW1iZXJGaWx0ZXIuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZGVsYXk6IF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfREVMQVlcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IE51bWJlckZpbHRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBTZWxlY3RGaWx0ZXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0XHRfaW5oZXJpdHMoU2VsZWN0RmlsdGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdFx0ZnVuY3Rpb24gU2VsZWN0RmlsdGVyKHByb3BzKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0RmlsdGVyKTtcblx0XG5cdFx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTZWxlY3RGaWx0ZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdFx0XHR0aGlzLmZpbHRlciA9IHRoaXMuZmlsdGVyLmJpbmQodGhpcyk7XG5cdFx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0XHRpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlID09IHVuZGVmaW5lZCB8fCAhdGhpcy5wcm9wcy5vcHRpb25zLmhhc093blByb3BlcnR5KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKVxuXHRcdFx0fTtcblx0XHR9XG5cdFxuXHRcdF9jcmVhdGVDbGFzcyhTZWxlY3RGaWx0ZXIsIFt7XG5cdFx0XHRrZXk6ICdmaWx0ZXInLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIGZpbHRlcihldmVudCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgaXNQbGFjZWhvbGRlclNlbGVjdGVkOiBldmVudC50YXJnZXQudmFsdWUgPT09IFwiXCIgfSk7XG5cdFx0XHRcdHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihldmVudC50YXJnZXQudmFsdWUsIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5TRUxFQ1QpO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2dldE9wdGlvbnMnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG5cdFx0XHRcdHZhciBvcHRpb25UYWdzID0gW107XG5cdFx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xuXHRcdFx0XHRvcHRpb25UYWdzLnB1c2goX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J29wdGlvbicsXG5cdFx0XHRcdFx0eyBrZXk6ICctMScsIHZhbHVlOiAnJyB9LFxuXHRcdFx0XHRcdHRoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgJ1NlbGVjdCAnICsgdGhpcy5wcm9wcy5jb2x1bW5OYW1lICsgJy4uLidcblx0XHRcdFx0KSk7XG5cdFx0XHRcdE9iamVjdC5rZXlzKG9wdGlvbnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0b3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0J29wdGlvbicsXG5cdFx0XHRcdFx0XHR7IGtleToga2V5LCB2YWx1ZToga2V5IH0sXG5cdFx0XHRcdFx0XHRvcHRpb25zW2tleV1cblx0XHRcdFx0XHQpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybiBvcHRpb25UYWdzO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRcdFx0aWYgKHRoaXMucmVmcy5zZWxlY3RJbnB1dC52YWx1ZSkge1xuXHRcdFx0XHRcdHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih0aGlzLnJlZnMuc2VsZWN0SW5wdXQudmFsdWUsIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5TRUxFQ1QpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAncmVuZGVyJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHRcdHZhciBzZWxlY3RDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJmaWx0ZXJcIiwgXCJzZWxlY3QtZmlsdGVyXCIsIFwiZm9ybS1jb250cm9sXCIsIHsgXCJwbGFjZWhvbGRlci1zZWxlY3RlZFwiOiB0aGlzLnN0YXRlLmlzUGxhY2Vob2xkZXJTZWxlY3RlZCB9KTtcblx0XG5cdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHQnc2VsZWN0Jyxcblx0XHRcdFx0XHR7IHJlZjogJ3NlbGVjdElucHV0Jyxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZTogc2VsZWN0Q2xhc3MsXG5cdFx0XHRcdFx0XHRvbkNoYW5nZTogdGhpcy5maWx0ZXIsXG5cdFx0XHRcdFx0XHRkZWZhdWx0VmFsdWU6IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlICE9IHVuZGVmaW5lZCA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIDogXCJcIiB9LFxuXHRcdFx0XHRcdHRoaXMuZ2V0T3B0aW9ucygpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fV0pO1xuXHRcblx0XHRyZXR1cm4gU2VsZWN0RmlsdGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdDtcblx0XG5cdFNlbGVjdEZpbHRlci5wcm9wVHlwZXMgPSB7XG5cdFx0ZmlsdGVySGFuZGxlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdFx0b3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblx0XHRwbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdFx0Y29sdW1uTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNlbGVjdEZpbHRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIFRleHRGaWx0ZXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0XHRfaW5oZXJpdHMoVGV4dEZpbHRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHRcdGZ1bmN0aW9uIFRleHRGaWx0ZXIocHJvcHMpIHtcblx0XHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0RmlsdGVyKTtcblx0XG5cdFx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXh0RmlsdGVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHRcdFx0dGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xuXHRcdFx0dGhpcy50aW1lb3V0ID0gbnVsbDtcblx0XHR9XG5cdFxuXHRcdF9jcmVhdGVDbGFzcyhUZXh0RmlsdGVyLCBbe1xuXHRcdFx0a2V5OiAnZmlsdGVyJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoZXZlbnQpIHtcblx0XHRcdFx0aWYgKHRoaXMudGltZW91dCkge1xuXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdFx0dmFyIGZpbHRlclZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuXHRcdFx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRzZWxmLnByb3BzLmZpbHRlckhhbmRsZXIoZmlsdGVyVmFsdWUsIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5URVhUKTtcblx0XHRcdFx0fSwgc2VsZi5wcm9wcy5kZWxheSk7XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdFx0XHRpZiAodGhpcy5yZWZzLmlucHV0VGV4dC5kZWZhdWx0VmFsdWUpIHtcblx0XHRcdFx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIodGhpcy5yZWZzLmlucHV0VGV4dC5kZWZhdWx0VmFsdWUsIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5URVhUKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAncmVuZGVyJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHJlZjogJ2lucHV0VGV4dCcsXG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiAnZmlsdGVyIHRleHQtZmlsdGVyIGZvcm0tY29udHJvbCcsXG5cdFx0XHRcdFx0dHlwZTogJ3RleHQnLFxuXHRcdFx0XHRcdG9uQ2hhbmdlOiB0aGlzLmZpbHRlcixcblx0XHRcdFx0XHRwbGFjZWhvbGRlcjogdGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCAnRW50ZXIgJyArIHRoaXMucHJvcHMuY29sdW1uTmFtZSArICcuLi4nLFxuXHRcdFx0XHRcdGRlZmF1bHRWYWx1ZTogdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgPyB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA6IFwiXCIgfSk7XG5cdFx0XHR9XG5cdFx0fV0pO1xuXHRcblx0XHRyZXR1cm4gVGV4dEZpbHRlcjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHQ7XG5cdFxuXHRUZXh0RmlsdGVyLnByb3BUeXBlcyA9IHtcblx0XHRmaWx0ZXJIYW5kbGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0XHRkZWZhdWx0VmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHRcdGRlbGF5OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0XHRwbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdFx0Y29sdW1uTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdFRleHRGaWx0ZXIuZGVmYXVsdFByb3BzID0ge1xuXHRcdGRlbGF5OiBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX0RFTEFZXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUZXh0RmlsdGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgUGFnZUJ1dHRvbiA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhQYWdlQnV0dG9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUGFnZUJ1dHRvbihwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2VCdXR0b24pO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhZ2VCdXR0b24ucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUGFnZUJ1dHRvbiwgW3tcblx0ICAgIGtleTogJ3BhZ2VCdG5DbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFnZUJ0bkNsaWNrKGUpIHtcblx0ICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICB0aGlzLnByb3BzLmNoYW5nZVBhZ2UoZS5jdXJyZW50VGFyZ2V0LnRleHQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgY2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoe1xuXHQgICAgICAgICdhY3RpdmUnOiB0aGlzLnByb3BzLmFjdGl2ZSxcblx0ICAgICAgICAnZGlzYWJsZWQnOiB0aGlzLnByb3BzLmRpc2FibGUsXG5cdCAgICAgICAgJ2hpZGRlbic6IHRoaXMucHJvcHMuaGlkZGVuXG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NlcyB9LFxuXHQgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgeyBocmVmOiAnIycsIG9uQ2xpY2s6IHRoaXMucGFnZUJ0bkNsaWNrLmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUGFnZUJ1dHRvbjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRQYWdlQnV0dG9uLnByb3BUeXBlcyA9IHtcblx0ICBjaGFuZ2VQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgYWN0aXZlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgZGlzYWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBQYWdlQnV0dG9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfUGFnZUJ1dHRvbkpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX1BhZ2VCdXR0b25KczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYWdlQnV0dG9uSnMpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBQYWdpbmF0aW9uTGlzdCA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhQYWdpbmF0aW9uTGlzdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBhZ2luYXRpb25MaXN0KCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2luYXRpb25MaXN0KTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihQYWdpbmF0aW9uTGlzdC5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFBhZ2luYXRpb25MaXN0LCBbe1xuXHQgICAga2V5OiAnY2hhbmdlUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlUGFnZShwYWdlKSB7XG5cdCAgICAgIGlmIChwYWdlID09IHRoaXMucHJvcHMucHJlUGFnZSkge1xuXHQgICAgICAgIHBhZ2UgPSB0aGlzLnByb3BzLmN1cnJQYWdlIC0gMSA8IDEgPyAxIDogdGhpcy5wcm9wcy5jdXJyUGFnZSAtIDE7XG5cdCAgICAgIH0gZWxzZSBpZiAocGFnZSA9PSB0aGlzLnByb3BzLm5leHRQYWdlKSB7XG5cdCAgICAgICAgcGFnZSA9IHRoaXMucHJvcHMuY3VyclBhZ2UgKyAxID4gdGhpcy50b3RhbFBhZ2VzID8gdGhpcy50b3RhbFBhZ2VzIDogdGhpcy5wcm9wcy5jdXJyUGFnZSArIDE7XG5cdCAgICAgIH0gZWxzZSBpZiAocGFnZSA9PSB0aGlzLnByb3BzLmxhc3RQYWdlKSB7XG5cdCAgICAgICAgcGFnZSA9IHRoaXMudG90YWxQYWdlcztcblx0ICAgICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMuZmlyc3RQYWdlKSB7XG5cdCAgICAgICAgcGFnZSA9IDE7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcGFnZSA9IHBhcnNlSW50KHBhZ2UpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAocGFnZSAhPSB0aGlzLnByb3BzLmN1cnJQYWdlKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VQYWdlKHBhZ2UsIHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2hhbmdlU2l6ZVBlclBhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVNpemVQZXJQYWdlKGUpIHtcblx0ICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0ICAgICAgdmFyIHNlbGVjdFNpemUgPSBwYXJzZUludChlLmN1cnJlbnRUYXJnZXQudGV4dCk7XG5cdCAgICAgIHZhciBjdXJyUGFnZSA9IHRoaXMucHJvcHMuY3VyclBhZ2U7XG5cdFxuXHQgICAgICBpZiAoc2VsZWN0U2l6ZSAhPSB0aGlzLnByb3BzLnNpemVQZXJQYWdlKSB7XG5cdCAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMucHJvcHMuZGF0YVNpemUgLyBzZWxlY3RTaXplKTtcblx0ICAgICAgICBpZiAoY3VyclBhZ2UgPiB0aGlzLnRvdGFsUGFnZXMpIGN1cnJQYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xuXHRcblx0ICAgICAgICB0aGlzLnByb3BzLmNoYW5nZVBhZ2UoY3VyclBhZ2UsIHNlbGVjdFNpemUpO1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLm9uU2l6ZVBlclBhZ2VMaXN0KSB7XG5cdCAgICAgICAgICB0aGlzLnByb3BzLm9uU2l6ZVBlclBhZ2VMaXN0KHNlbGVjdFNpemUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMucHJvcHMuZGF0YVNpemUgLyB0aGlzLnByb3BzLnNpemVQZXJQYWdlKTtcblx0ICAgICAgdmFyIHBhZ2VCdG5zID0gdGhpcy5tYWtlUGFnZSgpO1xuXHQgICAgICB2YXIgcGFnZUxpc3RTdHlsZSA9IHtcblx0ICAgICAgICBmbG9hdDogXCJyaWdodFwiLFxuXHQgICAgICAgIG1hcmdpblRvcDogXCIwcHhcIiAvL292ZXJyaWRlIHRoZSBtYXJnaW4tdG9wIGRlZmluZWQgaW4gLnBhZ2luYXRpb24gY2xhc3MgaW4gYm9vdHN0cmFwLlxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHNpemVQZXJQYWdlTGlzdCA9IHRoaXMucHJvcHMuc2l6ZVBlclBhZ2VMaXN0Lm1hcChmdW5jdGlvbiAoc2l6ZVBlclBhZ2UpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgeyBrZXk6IHNpemVQZXJQYWdlLCByb2xlOiAncHJlc2VudGF0aW9uJyB9LFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgeyByb2xlOiAnbWVudWl0ZW0nLCB0YWJJbmRleDogJy0xJywgaHJlZjogJyMnLCBvbkNsaWNrOiBfdGhpcy5jaGFuZ2VTaXplUGVyUGFnZS5iaW5kKF90aGlzKSB9LFxuXHQgICAgICAgICAgICBzaXplUGVyUGFnZVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAncm93Jywgc3R5bGU6IHsgbWFyZ2luVG9wOiAxNSB9IH0sXG5cdCAgICAgICAgdGhpcy5wcm9wcy5zaXplUGVyUGFnZUxpc3QubGVuZ3RoID4gMSA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC1tZC02JyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Ryb3Bkb3duJyB9LFxuXHQgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGUnLCB0eXBlOiAnYnV0dG9uJywgaWQ6ICdwYWdlRHJvcERvd24nLCAnZGF0YS10b2dnbGUnOiAnZHJvcGRvd24nLFxuXHQgICAgICAgICAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6ICd0cnVlJyB9LFxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zaXplUGVyUGFnZSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICAgIFwiIFwiLFxuXHQgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnY2FyZXQnIH0pXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Ryb3Bkb3duLW1lbnUnLCByb2xlOiAnbWVudScsICdhcmlhLWxhYmVsbGVkYnknOiAncGFnZURyb3BEb3duJyB9LFxuXHQgICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2VMaXN0XG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC1tZC02JyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAndWwnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFnaW5hdGlvbicsIHN0eWxlOiBwYWdlTGlzdFN0eWxlIH0sXG5cdCAgICAgICAgICAgICAgcGFnZUJ0bnNcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICkgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb2wtbWQtMTInIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYWdpbmF0aW9uJywgc3R5bGU6IHBhZ2VMaXN0U3R5bGUgfSxcblx0ICAgICAgICAgICAgcGFnZUJ0bnNcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWFrZVBhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VQYWdlKCkge1xuXHQgICAgICB2YXIgcGFnZXMgPSB0aGlzLmdldFBhZ2VzKCk7XG5cdCAgICAgIHJldHVybiBwYWdlcy5tYXAoZnVuY3Rpb24gKHBhZ2UpIHtcblx0ICAgICAgICB2YXIgaXNBY3RpdmUgPSBwYWdlID09PSB0aGlzLnByb3BzLmN1cnJQYWdlO1xuXHQgICAgICAgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBoaWRkZW4gPSBmYWxzZTtcblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXJyUGFnZSA9PSAxICYmIChwYWdlID09PSB0aGlzLnByb3BzLmZpcnN0UGFnZSB8fCBwYWdlID09PSB0aGlzLnByb3BzLnByZVBhZ2UpKSB7XG5cdCAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXJyUGFnZSA9PSB0aGlzLnRvdGFsUGFnZXMgJiYgKHBhZ2UgPT09IHRoaXMucHJvcHMubmV4dFBhZ2UgfHwgcGFnZSA9PT0gdGhpcy5wcm9wcy5sYXN0UGFnZSkpIHtcblx0ICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgICAgIGhpZGRlbiA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9QYWdlQnV0dG9uSnMyWydkZWZhdWx0J10sXG5cdCAgICAgICAgICB7IGNoYW5nZVBhZ2U6IHRoaXMuY2hhbmdlUGFnZS5iaW5kKHRoaXMpLCBhY3RpdmU6IGlzQWN0aXZlLCBkaXNhYmxlOiBkaXNhYmxlZCwgaGlkZGVuOiBoaWRkZW4sIGtleTogcGFnZSB9LFxuXHQgICAgICAgICAgcGFnZVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0sIHRoaXMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFBhZ2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYWdlcygpIHtcblx0ICAgICAgdmFyIHN0YXJ0UGFnZSA9IDEsXG5cdCAgICAgICAgICBlbmRQYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xuXHRcblx0ICAgICAgc3RhcnRQYWdlID0gTWF0aC5tYXgodGhpcy5wcm9wcy5jdXJyUGFnZSAtIE1hdGguZmxvb3IodGhpcy5wcm9wcy5wYWdpbmF0aW9uU2l6ZSAvIDIpLCAxKTtcblx0ICAgICAgZW5kUGFnZSA9IHN0YXJ0UGFnZSArIHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUgLSAxO1xuXHRcblx0ICAgICAgaWYgKGVuZFBhZ2UgPiB0aGlzLnRvdGFsUGFnZXMpIHtcblx0ICAgICAgICBlbmRQYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xuXHQgICAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSB0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplICsgMTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcGFnZXM7XG5cdCAgICAgIGlmIChzdGFydFBhZ2UgIT0gMSAmJiB0aGlzLnRvdGFsUGFnZXMgPiB0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplKSB7XG5cdCAgICAgICAgcGFnZXMgPSBbdGhpcy5wcm9wcy5maXJzdFBhZ2UsIHRoaXMucHJvcHMucHJlUGFnZV07XG5cdCAgICAgIH0gZWxzZSBpZiAodGhpcy50b3RhbFBhZ2VzID4gMSkge1xuXHQgICAgICAgIHBhZ2VzID0gW3RoaXMucHJvcHMucHJlUGFnZV07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcGFnZXMgPSBbXTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBpID0gc3RhcnRQYWdlOyBpIDw9IGVuZFBhZ2U7IGkrKykge1xuXHQgICAgICAgIGlmIChpID4gMCkgcGFnZXMucHVzaChpKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZW5kUGFnZSAhPSB0aGlzLnRvdGFsUGFnZXMpIHtcblx0ICAgICAgICBwYWdlcy5wdXNoKHRoaXMucHJvcHMubmV4dFBhZ2UpO1xuXHQgICAgICAgIHBhZ2VzLnB1c2godGhpcy5wcm9wcy5sYXN0UGFnZSk7XG5cdCAgICAgIH0gZWxzZSBpZiAodGhpcy50b3RhbFBhZ2VzID4gMSkge1xuXHQgICAgICAgIHBhZ2VzLnB1c2godGhpcy5wcm9wcy5uZXh0UGFnZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHBhZ2VzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEN1cnJlbnRQYWdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY3VyclBhZ2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0U2l6ZVBlclBhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpemVQZXJQYWdlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9wcy5zaXplUGVyUGFnZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBQYWdpbmF0aW9uTGlzdDtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRQYWdpbmF0aW9uTGlzdC5wcm9wVHlwZXMgPSB7XG5cdCAgY3VyclBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHNpemVQZXJQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICBkYXRhU2l6ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgY2hhbmdlUGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIHNpemVQZXJQYWdlTGlzdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSxcblx0ICBwYWdpbmF0aW9uU2l6ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgcmVtb3RlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgb25TaXplUGVyUGFnZUxpc3Q6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBwcmVQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0UGFnaW5hdGlvbkxpc3QuZGVmYXVsdFByb3BzID0ge1xuXHQgIHNpemVQZXJQYWdlOiBfQ29uc3QyWydkZWZhdWx0J10uU0laRV9QRVJfUEFHRVxuXHR9O1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gUGFnaW5hdGlvbkxpc3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfRWRpdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfRWRpdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VkaXRvcik7XG5cdFxuXHR2YXIgX05vdGlmaWNhdGlvbkpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfTm90aWZpY2F0aW9uSnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTm90aWZpY2F0aW9uSnMpO1xuXHRcblx0dmFyIF9yY1N3aXRjaCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JjU3dpdGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjU3dpdGNoKTtcblx0XG5cdHZhciBUb29sQmFyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVG9vbEJhciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVG9vbEJhcihwcm9wcykge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb29sQmFyKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG9vbEJhci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0XG5cdCAgICAgICAgdGhpcy5oYW5kbGVTaG93T25seVRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNob3dTZWxlY3RlZDogIV90aGlzLnN0YXRlLnNob3dTZWxlY3RlZFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgX3RoaXMucHJvcHMub25TaG93T25seVNlbGVjdGVkKCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdGhpcy5oYW5kbGVDbGVhckJ0bkNsaWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5yZWZzLnNlYWNoSW5wdXQudmFsdWUgPSAnJztcblx0ICAgICAgICAgICAgX3RoaXMucHJvcHMub25TZWFyY2goJycpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHRoaXMudGltZW91dGVDbGVhciA9IDA7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgaXNJbnNlcnRSb3dUcmlnZ2VyOiB0cnVlLFxuXHQgICAgICAgICAgICB2YWxpZGF0ZVN0YXRlOiBudWxsLFxuXHQgICAgICAgICAgICBzaGFrZUVkaXRvcjogZmFsc2UsXG5cdCAgICAgICAgICAgIHNob3dTZWxlY3RlZDogZmFsc2Vcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhUb29sQmFyLCBbe1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NsZWFyVGltZW91dCcsXG5cdCAgICAgICAgdmFsdWU6IChmdW5jdGlvbiAoX2NsZWFyVGltZW91dCkge1xuXHQgICAgICAgICAgICBmdW5jdGlvbiBjbGVhclRpbWVvdXQoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX2NsZWFyVGltZW91dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBjbGVhclRpbWVvdXQudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX2NsZWFyVGltZW91dC50b1N0cmluZygpO1xuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9KShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnRpbWVvdXRlQ2xlYXIpIHtcblx0ICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRlQ2xlYXIpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY2hlY2tBbmRQYXJzZUZvcm0nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0FuZFBhcnNlRm9ybSgpIHtcblx0ICAgICAgICAgICAgdmFyIHRzID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgIG5ld09iaiA9IHt9LFxuXHQgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRydWUsXG5cdCAgICAgICAgICAgICAgICB0ZW1wVmFsdWUsXG5cdCAgICAgICAgICAgICAgICB0ZW1wTXNnLFxuXHQgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZSA9IHt9O1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmF1dG9WYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vd2hlbiB5b3Ugd2FudCBzYW1lIGF1dG8gZ2VuZXJhdGUgdmFsdWUgYW5kIG5vdCBhbGxvdyBlZGl0LCBleGFtcGxlIElEIGZpZWxkXG5cdCAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gdHlwZW9mIGNvbHVtbi5hdXRvVmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IGNvbHVtbi5hdXRvVmFsdWUoKSA6ICdhdXRvdmFsdWUtJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZG9tID0gdGhpcy5yZWZzW2NvbHVtbi5maWVsZCArIGldO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZG9tICE9PSAndW5kZWZpbmVkJykgdGVtcFZhbHVlID0gZG9tLnZhbHVlO2Vsc2UgdGVtcFZhbHVlID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5lZGl0YWJsZSAmJiBjb2x1bW4uZWRpdGFibGUudHlwZSA9PSAnY2hlY2tib3gnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBkb20udmFsdWUuc3BsaXQoJzonKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gZG9tLmNoZWNrZWQgPyB2YWx1ZXNbMF0gOiB2YWx1ZXNbMV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmVkaXRhYmxlICYmIGNvbHVtbi5lZGl0YWJsZS52YWxpZGF0b3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy9wcm9jZXNzIHZhbGlkYXRlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBNc2cgPSBjb2x1bW4uZWRpdGFibGUudmFsaWRhdG9yKHRlbXBWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wTXNnICE9PSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZVN0YXRlW2NvbHVtbi5maWVsZF0gPSB0ZW1wTXNnO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIG5ld09ialtjb2x1bW4uZmllbGRdID0gdGVtcFZhbHVlO1xuXHQgICAgICAgICAgICB9LCB0aGlzKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3T2JqO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdHMuY2xlYXJUaW1lb3V0KCk7XG5cdCAgICAgICAgICAgICAgICAvL3Nob3cgZXJyb3IgaW4gZm9ybSBhbmQgc2hha2UgaXRcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0ZVN0YXRlOiB2YWxpZGF0ZVN0YXRlLCBzaGFrZUVkaXRvcjogdHJ1ZSB9KTtcblx0ICAgICAgICAgICAgICAgIC8vbm90aWZpZXIgZXJyb3Jcblx0ICAgICAgICAgICAgICAgIHRzLnJlZnMubm90aWZpZXIubm90aWNlKCdlcnJvcicsIFwiRm9ybSB2YWxpZGF0ZSBlcnJvcnMsIHBsZWFzZSBjaGVja2luZyFcIiwgXCJQcmVzc2VkIEVTQyBjYW4gY2FuY2VsXCIpO1xuXHQgICAgICAgICAgICAgICAgLy9jbGVhciBhbmltYXRlIGNsYXNzXG5cdCAgICAgICAgICAgICAgICB0cy50aW1lb3V0ZUNsZWFyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMuc2V0U3RhdGUoeyBzaGFrZUVkaXRvcjogZmFsc2UgfSk7XG5cdCAgICAgICAgICAgICAgICB9LCAzMDApO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlU2F2ZUJ0bkNsaWNrJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2F2ZUJ0bkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgbmV3T2JqID0gdGhpcy5jaGVja0FuZFBhcnNlRm9ybSgpO1xuXHQgICAgICAgICAgICBpZiAoIW5ld09iaikge1xuXHQgICAgICAgICAgICAgICAgLy92YWxpZGF0ZSBlcnJvcnNcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uQWRkUm93KG5ld09iaikudGhlbihmdW5jdGlvbiAobXNnKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKG1zZykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJyc7XG5cdCAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbXNnLmVycm9ycy5tYXAoZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGVycm9yLm1lc3NhZ2UgKyAnLiAnO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gbXNnLnRvU3RyaW5nKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSBfdGhpczI7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgbWVzc2FnZSwgXCJQcmVzc2VkIEVTQyBjYW4gY2FuY2VsXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRzLmNsZWFyVGltZW91dCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vc2hha2UgZm9ybSBhbmQgaGFjayBwcmV2ZW50IG1vZGFsIGhpZGVcblx0ICAgICAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7IHNoYWtlRWRpdG9yOiB0cnVlLCB2YWxpZGF0ZVN0YXRlOiBcInRoaXMgaXMgaGFjayBmb3IgcHJldmVudCBib290c3RyYXAgbW9kYWwgaGlkZVwiIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgYW5pbWF0ZSBjbGFzc1xuXHQgICAgICAgICAgICAgICAgICAgIHRzLnRpbWVvdXRlQ2xlYXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHMuc2V0U3RhdGUoeyBzaGFrZUVkaXRvcjogZmFsc2UgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy9yZXNldCBzdGF0ZSBhbmQgaGlkZSBtb2RhbCBoaWRlXG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZTogbnVsbCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2hha2VFZGl0b3I6IGZhbHNlXG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBcIm1vZGFsXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1baV0uY2xpY2soKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgZm9ybVxuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWZzLmZvcm0ucmVzZXQoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZURyb3BSb3dCdG5DbGljaycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZURyb3BSb3dCdG5DbGljayhlKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMub25Ecm9wUm93KCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUNsb3NlQnRuJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2VCdG4oZSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlZnMud2FybmluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUtleVVwJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5VXAoZSkge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUV4cG9ydENTVicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydENTVigpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkV4cG9ydENTVigpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBtb2RhbENsYXNzTmFtZSA9IFwiYnMtdGFibGUtbW9kYWwtc21cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgICAgICAgICAgICB2YXIgaW5zZXJ0QnRuID0gdGhpcy5wcm9wcy5lbmFibGVJbnNlcnQgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgb25DbGljazogdGhpcy5wcm9wcy5vbkFkZFJvd0JlZ2luLCBjbGFzc05hbWU6ICdidG4gYnRuLWluZm8gcmVhY3QtYnMtdGFibGUtYWRkLWJ0bicsXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogJ21vZGFsJywgJ2RhdGEtdGFyZ2V0JzogJy4nICsgbW9kYWxDbGFzc05hbWUgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdnbHlwaGljb24gZ2x5cGhpY29uLXBsdXMnIH0pLFxuXHQgICAgICAgICAgICAgICAgJyBOZXcnXG5cdCAgICAgICAgICAgICkgOiBudWxsO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGRlbGV0ZUJ0biA9IHRoaXMucHJvcHMuZW5hYmxlRGVsZXRlID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogJ2J1dHRvbicsIGNsYXNzTmFtZTogJ2J0biBidG4td2FybmluZyByZWFjdC1icy10YWJsZS1kZWwtYnRuJywgJ2RhdGEtdG9nZ2xlJzogJ3Rvb2x0aXAnLFxuXHQgICAgICAgICAgICAgICAgICAgICdkYXRhLXBsYWNlbWVudCc6ICdyaWdodCcsIHRpdGxlOiAnRHJvcCBzZWxlY3RlZCByb3cnLFxuXHQgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlRHJvcFJvd0J0bkNsaWNrLmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoJyB9KSxcblx0ICAgICAgICAgICAgICAgICcgRGVsZXRlJ1xuXHQgICAgICAgICAgICApIDogbnVsbDtcblx0XG5cdCAgICAgICAgICAgIHZhciBzZWFyY2hUZXh0SW5wdXQgPSB0aGlzLnJlbmRlclNlYXJjaFBhbmVsKCk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgc2hvd1NlbGVjdGVkT25seUJ0biA9IHRoaXMucHJvcHMuZW5hYmxlU2hvd09ubHlTZWxlY3RlZCA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICB7IHR5cGU6ICdidXR0b24nLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNob3dPbmx5VG9nZ2xlLmJpbmQodGhpcyksIGNsYXNzTmFtZTogJ2J0biBidG4tcHJpbWFyeScsXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogJ2J1dHRvbicsICdhcmlhLXByZXNzZWQnOiAnZmFsc2UnIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNob3dTZWxlY3RlZCA/IF9Db25zdDJbJ2RlZmF1bHQnXS5TSE9XX0FMTCA6IF9Db25zdDJbJ2RlZmF1bHQnXS5TSE9XX09OTFlfU0VMRUNUXG5cdCAgICAgICAgICAgICkgOiBudWxsO1xuXHRcblx0ICAgICAgICAgICAgdmFyIG1vZGFsID0gdGhpcy5wcm9wcy5lbmFibGVJbnNlcnQgPyB0aGlzLnJlbmRlckluc2VydFJvd01vZGFsKG1vZGFsQ2xhc3NOYW1lKSA6IG51bGw7XG5cdCAgICAgICAgICAgIHZhciB3YXJuaW5nU3R5bGUgPSB7XG5cdCAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcblx0ICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMFxuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgdmFyIGV4cG9ydENTViA9IHRoaXMucHJvcHMuZW5hYmxlRXhwb3J0Q1NWID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogJ2J1dHRvbicsIGNsYXNzTmFtZTogJ2J0biBidG4tc3VjY2VzcycsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlRXhwb3J0Q1NWLmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdnbHlwaGljb24gZ2x5cGhpY29uLWV4cG9ydCcgfSksXG5cdCAgICAgICAgICAgICAgICAnIEV4cG9ydCB0byBDU1YnXG5cdCAgICAgICAgICAgICkgOiBudWxsO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JvdycgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNvbC1sZy04JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidG4tZ3JvdXAgYnRuLWdyb3VwLXNtJywgcm9sZTogJ2dyb3VwJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRDU1YsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEJ0bixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQnRuLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VsZWN0ZWRPbmx5QnRuXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNvbC1sZy00JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIHNlYXJjaFRleHRJbnB1dFxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9Ob3RpZmljYXRpb25KczJbJ2RlZmF1bHQnXSwgeyByZWY6ICdub3RpZmllcicgfSksXG5cdCAgICAgICAgICAgICAgICBtb2RhbFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXJTZWFyY2hQYW5lbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclNlYXJjaFBhbmVsKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5lbmFibGVTZWFyY2gpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzID0gJ2Zvcm0tZ3JvdXAgZm9ybS1ncm91cC1zbSc7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2xlYXJCdG4gPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2xlYXJTZWFyY2gpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjbGVhckJ0biA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaW5wdXQtZ3JvdXAtYnRuJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0biBidG4tZGVmYXVsdCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGVhckJ0bkNsaWNrIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2xlYXInXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgPSAnZm9ybS1ncm91cCBmb3JtLWdyb3VwLXNtIGlucHV0LWdyb3VwIGlucHV0LWdyb3VwLXNtJztcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHJlZjogJ3NlYWNoSW5wdXQnLCBjbGFzc05hbWU6ICdmb3JtLWNvbnRyb2wnLCB0eXBlOiAndGV4dCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnNlYXJjaFBsYWNlaG9sZGVyID8gdGhpcy5wcm9wcy5zZWFyY2hQbGFjZWhvbGRlciA6ICdTZWFyY2gnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcykgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgY2xlYXJCdG5cblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXJJbnNlcnRSb3dNb2RhbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckluc2VydFJvd01vZGFsKG1vZGFsQ2xhc3NOYW1lKSB7XG5cdCAgICAgICAgICAgIHZhciB2YWxpZGF0ZVN0YXRlID0gdGhpcy5zdGF0ZS52YWxpZGF0ZVN0YXRlIHx8IHt9O1xuXHQgICAgICAgICAgICB2YXIgaW5wdXRGaWVsZCA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gY29sdW1uLmVkaXRhYmxlLFxuXHQgICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IGNvbHVtbi5mb3JtYXQsXG5cdCAgICAgICAgICAgICAgICAgICAgYXR0ciA9IHsgcmVmOiBjb2x1bW4uZmllbGQgKyBpLCBwbGFjZWhvbGRlcjogZWRpdGFibGUucGxhY2Vob2xkZXIgPyBlZGl0YWJsZS5wbGFjZWhvbGRlciA6IGNvbHVtbi5uYW1lIH07XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5hdXRvVmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvL3doZW4geW91IHdhbnQgc2FtZSBhdXRvIGdlbmVyYXRlIHZhbHVlIGFuZCBub3QgYWxsb3cgZWRpdCwgZXhhbXBsZSBJRCBmaWVsZFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gdmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGVscC1ibG9jayBiZy1kYW5nZXInIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdXG5cdCAgICAgICAgICAgICAgICApIDogbnVsbDtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBsZXQgZWRpdG9yID0gRWRpdG9yKGVkaXRhYmxlLGF0dHIsZm9ybWF0KTtcblx0ICAgICAgICAgICAgICAgIC8vIGlmKGVkaXRvci5wcm9wcy50eXBlICYmIGVkaXRvci5wcm9wcy50eXBlID09ICdjaGVja2JveCcpe1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0geyBkaXNwbGF5OiBjb2x1bW4uaGlkZGVuSW5Qb3B1cCA/ICdub25lJyA6ICdibG9jaycgfTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Zvcm0tZ3JvdXAnLCBrZXk6IGNvbHVtbi5maWVsZCwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdsYWJlbCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5uYW1lXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX0VkaXRvcjJbJ2RlZmF1bHQnXSkoZWRpdGFibGUsIGF0dHIsIGZvcm1hdCwgJycpLFxuXHQgICAgICAgICAgICAgICAgICAgIGVycm9yXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIG1vZGFsQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwibW9kYWxcIiwgXCJmYWRlXCIsIG1vZGFsQ2xhc3NOYW1lLCB7XG5cdCAgICAgICAgICAgICAgICAnaW4nOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yIHx8IHRoaXMuc3RhdGUudmFsaWRhdGVTdGF0ZSAvL2hhY2sgcHJldmVudCBib290c3RyYXAgbW9kYWwgaGlkZSBieSByZVJlbmRlclxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIGRpYWxvZ0NsYXNzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcIm1vZGFsLWRpYWxvZ1wiLCBcIm1vZGFsLXNtXCIsIHtcblx0ICAgICAgICAgICAgICAgIFwiYW5pbWF0ZWRcIjogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvcixcblx0ICAgICAgICAgICAgICAgIFwic2hha2VcIjogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvclxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IHJlZjogJ21vZGFsJywgY2xhc3NOYW1lOiBtb2RhbENsYXNzLCB0YWJJbmRleDogJy0xJywgcm9sZTogJ2RpYWxvZycgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBkaWFsb2dDbGFzcyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbC1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbC1oZWFkZXInIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICdidXR0b24nLCBjbGFzc05hbWU6ICdjbG9zZScsICdkYXRhLWRpc21pc3MnOiAnbW9kYWwnLCAnYXJpYS1sYWJlbCc6ICdDbG9zZScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ8OXJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaDQnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbW9kYWwtdGl0bGUnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05ldyBSZWNvcmQnXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vZGFsLWJvZHknIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9ybScsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyByZWY6ICdmb3JtJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RmllbGRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbW9kYWwtZm9vdGVyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgY2xhc3NOYW1lOiAnYnRuIGJ0bi1kZWZhdWx0JywgJ2RhdGEtZGlzbWlzcyc6ICdtb2RhbCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2xvc2UnXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgY2xhc3NOYW1lOiAnYnRuIGJ0bi1pbmZvJywgb25DbGljazogdGhpcy5oYW5kbGVTYXZlQnRuQ2xpY2suYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTYXZlJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVG9vbEJhcjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRUb29sQmFyLnByb3BUeXBlcyA9IHtcblx0ICAgIG9uQWRkUm93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkRyb3BSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2hvd09ubHlTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZW5hYmxlSW5zZXJ0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBlbmFibGVEZWxldGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGVuYWJsZVNlYXJjaDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgY29sdW1uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHNlYXJjaFBsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNsZWFyU2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdFRvb2xCYXIuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZW5hYmxlSW5zZXJ0OiBmYWxzZSxcblx0ICAgIGVuYWJsZURlbGV0ZTogZmFsc2UsXG5cdCAgICBlbmFibGVTZWFyY2g6IGZhbHNlLFxuXHQgICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogZmFsc2UsXG5cdCAgICBjbGVhclNlYXJjaDogZmFsc2Vcblx0fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVG9vbEJhcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucmMtc3dpdGNoe3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDo0NHB4O2hlaWdodDoyMnB4O2xpbmUtaGVpZ2h0OjIwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlO2JvcmRlci1yYWRpdXM6MjBweCAyMHB4O2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjphbGwgLjNzIGN1YmljLWJlemllciguMzUsMCwuMjUsMSl9LnJjLXN3aXRjaC1pbm5lcntjb2xvcjojZmZmO2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MjRweH0ucmMtc3dpdGNoOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7bGVmdDoycHg7dG9wOjFweDtib3JkZXItcmFkaXVzOjUwJSA1MCU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2NvbnRlbnQ6XFxcIiBcXFwiO2N1cnNvcjpwb2ludGVyO2JveC1zaGFkb3c6MCAycHggNXB4IHJnYmEoMCwwLDAsLjI2KTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNpdGlvbjpsZWZ0IC4zcyBjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKTstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouM3M7YW5pbWF0aW9uLWR1cmF0aW9uOi4zczstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT2ZmO2FuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT2ZmfS5yYy1zd2l0Y2g6aG92ZXI6YWZ0ZXJ7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT247YW5pbWF0aW9uLW5hbWU6cmNTd2l0Y2hPbn0ucmMtc3dpdGNoLWNoZWNrZWR7Ym9yZGVyOjFweCBzb2xpZCAjODdkMDY4O2JhY2tncm91bmQtY29sb3I6Izg3ZDA2OH0ucmMtc3dpdGNoLWNoZWNrZWQgLnJjLXN3aXRjaC1pbm5lcntsZWZ0OjZweH0ucmMtc3dpdGNoLWNoZWNrZWQ6YWZ0ZXJ7bGVmdDoyMnB4fS5yYy1zd2l0Y2gtZGlzYWJsZWR7Y3Vyc29yOm5vLWRyb3A7YmFja2dyb3VuZDojY2NjO2JvcmRlci1jb2xvcjojY2NjfS5yYy1zd2l0Y2gtZGlzYWJsZWQ6YWZ0ZXJ7YmFja2dyb3VuZDojOWU5ZTllOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6bm9uZTthbmltYXRpb24tbmFtZTpub25lO2N1cnNvcjpuby1kcm9wfS5yYy1zd2l0Y2gtZGlzYWJsZWQ6aG92ZXI6YWZ0ZXJ7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6bm9uZTthbmltYXRpb24tbmFtZTpub25lfS5yYy1zd2l0Y2gtbGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MjBweDtmb250LXNpemU6MTRweDtwYWRkaW5nLWxlZnQ6MTBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2hpdGUtc3BhY2U6bm9ybWFsO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDp0ZXh0Oy1tb3otdXNlci1zZWxlY3Q6dGV4dDstbXMtdXNlci1zZWxlY3Q6dGV4dDt1c2VyLXNlbGVjdDp0ZXh0fUAtd2Via2l0LWtleWZyYW1lcyByY1N3aXRjaE9uezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yNSk7dHJhbnNmb3JtOnNjYWxlKDEuMjUpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9fUBrZXlmcmFtZXMgcmNTd2l0Y2hPbnswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMjUpO3RyYW5zZm9ybTpzY2FsZSgxLjI1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgcmNTd2l0Y2hPZmZ7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fUBrZXlmcmFtZXMgcmNTd2l0Y2hPZmZ7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdC8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBsaXN0ID0gW107XHJcblx0XHJcblx0XHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0XHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdFx0fTtcclxuXHRcclxuXHRcdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0XHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRyZXR1cm4gbGlzdDtcclxuXHR9O1xyXG5cblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGNsYXNzTmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgU3dpdGNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnU3dpdGNoJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBwcmVmaXhDbHM6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkaXNhYmxlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGNoZWNrZWRDaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHVuQ2hlY2tlZENoaWxkcmVuOiBSZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHByZWZpeENsczogJ3JjLXN3aXRjaCcsXG5cdCAgICAgIHN0eWxlOiB7fSxcblx0ICAgICAgY2hlY2tlZENoaWxkcmVuOiBudWxsLFxuXHQgICAgICB1bkNoZWNrZWRDaGlsZHJlbjogbnVsbCxcblx0ICAgICAgY2xhc3NOYW1lOiAnJyxcblx0ICAgICAgZGVmYXVsdENoZWNrZWQ6IGZhbHNlLFxuXHQgICAgICBvbkNoYW5nZTogbm9vcFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG5cdCAgICBpZiAoJ2NoZWNrZWQnIGluIHByb3BzKSB7XG5cdCAgICAgIGNoZWNrZWQgPSAhIXByb3BzLmNoZWNrZWQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjaGVja2VkID0gISFwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblx0ICAgIH1cblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCdjaGVja2VkJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY2hlY2tlZDogISFuZXh0UHJvcHMuY2hlY2tlZFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuXHQgICAgdmFyIGNoZWNrZWQgPSAhdGhpcy5zdGF0ZS5jaGVja2VkO1xuXHQgICAgaWYgKCEoJ2NoZWNrZWQnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGNoZWNrZWQpO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX2NsYXNzTmFtZXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgdmFyIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkO1xuXHQgICAgdmFyIHN0eWxlID0gX3Byb3BzLnN0eWxlO1xuXHQgICAgdmFyIGNoZWNrZWRDaGlsZHJlbiA9IF9wcm9wcy5jaGVja2VkQ2hpbGRyZW47XG5cdCAgICB2YXIgdW5DaGVja2VkQ2hpbGRyZW4gPSBfcHJvcHMudW5DaGVja2VkQ2hpbGRyZW47XG5cdFxuXHQgICAgdmFyIGNoZWNrZWQgPSB0aGlzLnN0YXRlLmNoZWNrZWQ7XG5cdCAgICB2YXIgc3dpdGNoQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzKSk7XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3NwYW4nLFxuXHQgICAgICB7IGNsYXNzTmFtZTogc3dpdGNoQ2xhc3NOYW1lLFxuXHQgICAgICAgIG9uQ2xpY2s6IGRpc2FibGVkID8gbm9vcCA6IHRoaXMudG9nZ2xlLFxuXHQgICAgICAgIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdzcGFuJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lcicgfSxcblx0ICAgICAgICBjaGVja2VkID8gY2hlY2tlZENoaWxkcmVuIDogdW5DaGVja2VkQ2hpbGRyZW5cblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBTd2l0Y2g7XG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblx0XG5cdHZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHNTdHJpcERpYWNyaXRpY3MpO1xuXHRcblx0dmFyIHJlcXVlc3RJZCA9IDA7XG5cdFxuXHRmdW5jdGlvbiBpbml0Q2FjaGUoY2FjaGUpIHtcblx0XHRpZiAoY2FjaGUgJiYgdHlwZW9mIGNhY2hlICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0Y2FjaGUgPSB7fTtcblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlID8gY2FjaGUgOiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVDYWNoZShjYWNoZSwgaW5wdXQsIGRhdGEpIHtcblx0XHRpZiAoIWNhY2hlKSByZXR1cm47XG5cdFx0Y2FjaGVbaW5wdXRdID0gZGF0YTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKGNhY2hlLCBpbnB1dCkge1xuXHRcdGlmICghY2FjaGUpIHJldHVybjtcblx0XHRmb3IgKHZhciBpID0gaW5wdXQubGVuZ3RoOyBpID49IDA7IC0taSkge1xuXHRcdFx0dmFyIGNhY2hlS2V5ID0gaW5wdXQuc2xpY2UoMCwgaSk7XG5cdFx0XHRpZiAoY2FjaGVbY2FjaGVLZXldICYmIChpbnB1dCA9PT0gY2FjaGVLZXkgfHwgY2FjaGVbY2FjaGVLZXldLmNvbXBsZXRlKSkge1xuXHRcdFx0XHRyZXR1cm4gY2FjaGVbY2FjaGVLZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdGhlblByb21pc2UocHJvbWlzZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIXByb21pc2UgfHwgdHlwZW9mIHByb21pc2UudGhlbiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuO1xuXHRcdHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdGNhbGxiYWNrKG51bGwsIGRhdGEpO1xuXHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdGNhbGxiYWNrKGVycik7XG5cdFx0fSk7XG5cdH1cblx0XG5cdHZhciBzdHJpbmdPck5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZV0pO1xuXHRcblx0dmFyIEFzeW5jID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblx0XHRkaXNwbGF5TmFtZTogJ0FzeW5jJyxcblx0XG5cdFx0cHJvcFR5cGVzOiB7XG5cdFx0XHRjYWNoZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksIC8vIG9iamVjdCB0byB1c2UgdG8gY2FjaGUgcmVzdWx0cywgY2FuIGJlIG51bGwgdG8gZGlzYWJsZSBjYWNoZVxuXHRcdFx0aWdub3JlQWNjZW50czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIHN0cmlwIGRpYWNyaXRpY3Mgd2hlbiBmaWx0ZXJpbmcgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRcdGlnbm9yZUNhc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBwZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgZmlsdGVyaW5nIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0XHRpc0xvYWRpbmc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gb3ZlcnJpZGVzIHRoZSBpc0xvYWRpbmcgc3RhdGUgd2hlbiBzZXQgdG8gdHJ1ZVxuXHRcdFx0bG9hZE9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLCAvLyBmdW5jdGlvbiB0byBjYWxsIHRvIGxvYWQgb3B0aW9ucyBhc3luY2hyb25vdXNseVxuXHRcdFx0bG9hZGluZ1BsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcmVwbGFjZXMgdGhlIHBsYWNlaG9sZGVyIHdoaWxlIG9wdGlvbnMgYXJlIGxvYWRpbmdcblx0XHRcdG1pbmltdW1JbnB1dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsIC8vIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgdHJpZ2dlciBsb2FkT3B0aW9uc1xuXHRcdFx0bm9SZXN1bHRzVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHBsYWNlaG9sZGVyIGRpc3BsYXllZCB3aGVuIHRoZXJlIGFyZSBubyBtYXRjaGluZyBzZWFyY2ggcmVzdWx0cyAoc2hhcmVkIHdpdGggU2VsZWN0KVxuXHRcdFx0cGxhY2Vob2xkZXI6IHN0cmluZ09yTm9kZSwgLy8gZmllbGQgcGxhY2Vob2xkZXIsIGRpc3BsYXllZCB3aGVuIHRoZXJlJ3Mgbm8gdmFsdWUgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRcdHNlYXJjaFByb21wdFRleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBsYWJlbCB0byBwcm9tcHQgZm9yIHNlYXJjaCBpbnB1dFxuXHRcdFx0c2VhcmNoaW5nVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcgfSxcblx0XHQvLyBtZXNzYWdlIHRvIGRpc3BsYXkgd2hpbGUgb3B0aW9ucyBhcmUgbG9hZGluZ1xuXHRcdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRcdGlnbm9yZUFjY2VudHM6IHRydWUsXG5cdFx0XHRcdGlnbm9yZUNhc2U6IHRydWUsXG5cdFx0XHRcdGxvYWRpbmdQbGFjZWhvbGRlcjogJ0xvYWRpbmcuLi4nLFxuXHRcdFx0XHRtaW5pbXVtSW5wdXQ6IDAsXG5cdFx0XHRcdHNlYXJjaGluZ1RleHQ6ICdTZWFyY2hpbmcuLi4nLFxuXHRcdFx0XHRzZWFyY2hQcm9tcHRUZXh0OiAnVHlwZSB0byBzZWFyY2gnXG5cdFx0XHR9O1xuXHRcdH0sXG5cdFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRjYWNoZTogaW5pdENhY2hlKHRoaXMucHJvcHMuY2FjaGUpLFxuXHRcdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0XHRvcHRpb25zOiBbXVxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHRcdFx0dGhpcy5fbGFzdElucHV0ID0gJyc7XG5cdFx0fSxcblx0XHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0XHR0aGlzLmxvYWRPcHRpb25zKCcnKTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0XHRpZiAobmV4dFByb3BzLmNhY2hlICE9PSB0aGlzLnByb3BzLmNhY2hlKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGNhY2hlOiBpbml0Q2FjaGUobmV4dFByb3BzLmNhY2hlKVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0XHRcdHRoaXMucmVmcy5zZWxlY3QuZm9jdXMoKTtcblx0XHR9LFxuXHRcdHJlc2V0U3RhdGU6IGZ1bmN0aW9uIHJlc2V0U3RhdGUoKSB7XG5cdFx0XHR0aGlzLl9jdXJyZW50UmVxdWVzdElkID0gLTE7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdFx0b3B0aW9uczogW11cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0Z2V0UmVzcG9uc2VIYW5kbGVyOiBmdW5jdGlvbiBnZXRSZXNwb25zZUhhbmRsZXIoaW5wdXQpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHRcdFx0dmFyIF9yZXF1ZXN0SWQgPSB0aGlzLl9jdXJyZW50UmVxdWVzdElkID0gcmVxdWVzdElkKys7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuXHRcdFx0XHRpZiAoZXJyKSB0aHJvdyBlcnI7XG5cdFx0XHRcdGlmICghX3RoaXMuaXNNb3VudGVkKCkpIHJldHVybjtcblx0XHRcdFx0dXBkYXRlQ2FjaGUoX3RoaXMuc3RhdGUuY2FjaGUsIGlucHV0LCBkYXRhKTtcblx0XHRcdFx0aWYgKF9yZXF1ZXN0SWQgIT09IF90aGlzLl9jdXJyZW50UmVxdWVzdElkKSByZXR1cm47XG5cdFx0XHRcdF90aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0XHRcdG9wdGlvbnM6IGRhdGEgJiYgZGF0YS5vcHRpb25zIHx8IFtdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGxvYWRPcHRpb25zOiBmdW5jdGlvbiBsb2FkT3B0aW9ucyhpbnB1dCkge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQWNjZW50cykgaW5wdXQgPSAoMCwgX3V0aWxzU3RyaXBEaWFjcml0aWNzMlsnZGVmYXVsdCddKShpbnB1dCk7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5pZ25vcmVDYXNlKSBpbnB1dCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR0aGlzLl9sYXN0SW5wdXQgPSBpbnB1dDtcblx0XHRcdGlmIChpbnB1dC5sZW5ndGggPCB0aGlzLnByb3BzLm1pbmltdW1JbnB1dCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZXNldFN0YXRlKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY2FjaGVSZXN1bHQgPSBnZXRGcm9tQ2FjaGUodGhpcy5zdGF0ZS5jYWNoZSwgaW5wdXQpO1xuXHRcdFx0aWYgKGNhY2hlUmVzdWx0KSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRvcHRpb25zOiBjYWNoZVJlc3VsdC5vcHRpb25zXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzTG9hZGluZzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgcmVzcG9uc2VIYW5kbGVyID0gdGhpcy5nZXRSZXNwb25zZUhhbmRsZXIoaW5wdXQpO1xuXHRcdFx0cmV0dXJuIHRoZW5Qcm9taXNlKHRoaXMucHJvcHMubG9hZE9wdGlvbnMoaW5wdXQsIHJlc3BvbnNlSGFuZGxlciksIHJlc3BvbnNlSGFuZGxlcik7XG5cdFx0fSxcblx0XHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdHZhciBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0O1xuXHRcdFx0dmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFx0XHR2YXIgaXNMb2FkaW5nID0gX3N0YXRlLmlzTG9hZGluZztcblx0XHRcdHZhciBvcHRpb25zID0gX3N0YXRlLm9wdGlvbnM7XG5cdFxuXHRcdFx0aWYgKHRoaXMucHJvcHMuaXNMb2FkaW5nKSBpc0xvYWRpbmcgPSB0cnVlO1xuXHRcdFx0dmFyIHBsYWNlaG9sZGVyID0gaXNMb2FkaW5nID8gdGhpcy5wcm9wcy5sb2FkaW5nUGxhY2Vob2xkZXIgOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyO1xuXHRcdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAodGhpcy5fbGFzdElucHV0Lmxlbmd0aCA8IHRoaXMucHJvcHMubWluaW11bUlucHV0KSBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5zZWFyY2hQcm9tcHRUZXh0O1xuXHRcdFx0XHRpZiAoaXNMb2FkaW5nKSBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5zZWFyY2hpbmdUZXh0O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9TZWxlY3QyWydkZWZhdWx0J10sIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7XG5cdFx0XHRcdHJlZjogJ3NlbGVjdCcsXG5cdFx0XHRcdGlzTG9hZGluZzogaXNMb2FkaW5nLFxuXHRcdFx0XHRub1Jlc3VsdHNUZXh0OiBub1Jlc3VsdHNUZXh0LFxuXHRcdFx0XHRvbklucHV0Q2hhbmdlOiB0aGlzLmxvYWRPcHRpb25zLFxuXHRcdFx0XHRvcHRpb25zOiBvcHRpb25zLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJcblx0XHRcdH0pKTtcblx0XHR9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBc3luYztcblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBPcHRpb24gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXHRcdGRpc3BsYXlOYW1lOiAnT3B0aW9uJyxcblx0XG5cdFx0cHJvcFR5cGVzOiB7XG5cdFx0XHRjaGlsZHJlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlLFxuXHRcdFx0Y2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gY2xhc3NOYW1lIChiYXNlZCBvbiBtb3VzZSBwb3NpdGlvbilcblx0XHRcdGlzRGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gdGhlIG9wdGlvbiBpcyBkaXNhYmxlZFxuXHRcdFx0aXNGb2N1c2VkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHRoZSBvcHRpb24gaXMgZm9jdXNlZFxuXHRcdFx0aXNTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB0aGUgb3B0aW9uIGlzIHNlbGVjdGVkXG5cdFx0XHRvbkZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgbW91c2VFbnRlciBvbiBvcHRpb24gZWxlbWVudFxuXHRcdFx0b25TZWxlY3Q6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSBjbGljayBvbiBvcHRpb24gZWxlbWVudFxuXHRcdFx0b25VbmZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgbW91c2VMZWF2ZSBvbiBvcHRpb24gZWxlbWVudFxuXHRcdFx0b3B0aW9uOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkIH0sXG5cdFx0Ly8gb2JqZWN0IHRoYXQgaXMgYmFzZSBmb3IgdGhhdCBvcHRpb25cblx0XHRibG9ja0V2ZW50OiBmdW5jdGlvbiBibG9ja0V2ZW50KGV2ZW50KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgIT09ICdBJyB8fCAhKCdocmVmJyBpbiBldmVudC50YXJnZXQpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChldmVudC50YXJnZXQudGFyZ2V0KSB7XG5cdFx0XHRcdHdpbmRvdy5vcGVuKGV2ZW50LnRhcmdldC5ocmVmLCBldmVudC50YXJnZXQudGFyZ2V0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZXZlbnQudGFyZ2V0LmhyZWY7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdHRoaXMucHJvcHMub25TZWxlY3QodGhpcy5wcm9wcy5vcHRpb24sIGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKGV2ZW50KSB7XG5cdFx0XHR0aGlzLm9uRm9jdXMoZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG5cdFx0XHR0aGlzLm9uRm9jdXMoZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoRW5kOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCkge1xuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblx0XG5cdFx0XHR0aGlzLmhhbmRsZU1vdXNlRG93bihldmVudCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcblx0XHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkXG5cdFx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaFN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG5cdFx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgbm90IGJlaW5nIGRyYWdnZWRcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblx0XHR9LFxuXHRcblx0XHRvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGV2ZW50KSB7XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMuaXNGb2N1c2VkKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25Gb2N1cyh0aGlzLnByb3BzLm9wdGlvbiwgZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHR2YXIgb3B0aW9uID0gdGhpcy5wcm9wcy5vcHRpb247XG5cdFxuXHRcdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkodGhpcy5wcm9wcy5jbGFzc05hbWUsIG9wdGlvbi5jbGFzc05hbWUpO1xuXHRcblx0XHRcdHJldHVybiBvcHRpb24uZGlzYWJsZWQgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMuYmxvY2tFdmVudCxcblx0XHRcdFx0XHRvbkNsaWNrOiB0aGlzLmJsb2NrRXZlbnQgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdFx0XHRzdHlsZTogb3B0aW9uLnN0eWxlLFxuXHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bixcblx0XHRcdFx0XHRvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcblx0XHRcdFx0XHRvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3VzZU1vdmUsXG5cdFx0XHRcdFx0b25Ub3VjaFN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG5cdFx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuXHRcdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG5cdFx0XHRcdFx0dGl0bGU6IG9wdGlvbi50aXRsZSB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9wdGlvbjtcblxuLyoqKi8gfSxcbi8qIDQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBWYWx1ZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVDbGFzcyh7XG5cdFxuXHRcdGRpc3BsYXlOYW1lOiAnVmFsdWUnLFxuXHRcblx0XHRwcm9wVHlwZXM6IHtcblx0XHRcdGNoaWxkcmVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm5vZGUsXG5cdFx0XHRkaXNhYmxlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBkaXNhYmxlZCBwcm9wIHBhc3NlZCB0byBSZWFjdFNlbGVjdFxuXHRcdFx0b25DbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIGNsaWNrIG9uIHZhbHVlIGxhYmVsXG5cdFx0XHRvblJlbW92ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIHJlbW92YWwgb2YgdGhlIHZhbHVlXG5cdFx0XHR2YWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCB9LFxuXHRcblx0XHQvLyB0aGUgb3B0aW9uIG9iamVjdCBmb3IgdGhpcyB2YWx1ZVxuXHRcdGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG5cdFx0XHRpZiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLm9uQ2xpY2spIHtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRoaXMucHJvcHMub25DbGljayh0aGlzLnByb3BzLnZhbHVlLCBldmVudCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLnZhbHVlLmhyZWYpIHtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0b25SZW1vdmU6IGZ1bmN0aW9uIG9uUmVtb3ZlKGV2ZW50KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR0aGlzLnByb3BzLm9uUmVtb3ZlKHRoaXMucHJvcHMudmFsdWUpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoRW5kUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZFJlbW92ZShldmVudCkge1xuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblx0XG5cdFx0XHQvLyBGaXJlIHRoZSBtb3VzZSBldmVudHNcblx0XHRcdHRoaXMub25SZW1vdmUoZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuXHRcdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIG5vdCBiZWluZyBkcmFnZ2VkXG5cdFx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyUmVtb3ZlSWNvbjogZnVuY3Rpb24gcmVuZGVyUmVtb3ZlSWNvbigpIHtcblx0XHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLm9uUmVtb3ZlKSByZXR1cm47XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdzcGFuJyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtdmFsdWUtaWNvbicsXG5cdFx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMub25SZW1vdmUsXG5cdFx0XHRcdFx0b25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZFJlbW92ZSxcblx0XHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUgfSxcblx0XHRcdFx0J8OXJ1xuXHRcdFx0KTtcblx0XHR9LFxuXHRcblx0XHRyZW5kZXJMYWJlbDogZnVuY3Rpb24gcmVuZGVyTGFiZWwoKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lID0gJ1NlbGVjdC12YWx1ZS1sYWJlbCc7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5vbkNsaWNrIHx8IHRoaXMucHJvcHMudmFsdWUuaHJlZiA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnYScsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGhyZWY6IHRoaXMucHJvcHMudmFsdWUuaHJlZiwgdGFyZ2V0OiB0aGlzLnByb3BzLnZhbHVlLnRhcmdldCwgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duLCBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZU1vdXNlRG93biB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpIDogX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdzcGFuJyxcblx0XHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdC12YWx1ZScsIHRoaXMucHJvcHMudmFsdWUuY2xhc3NOYW1lKSxcblx0XHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy52YWx1ZS5zdHlsZSxcblx0XHRcdFx0XHR0aXRsZTogdGhpcy5wcm9wcy52YWx1ZS50aXRsZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGlzLnJlbmRlclJlbW92ZUljb24oKSxcblx0XHRcdFx0dGhpcy5yZW5kZXJMYWJlbCgpXG5cdFx0XHQpO1xuXHRcdH1cblx0XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBWYWx1ZTtcblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBzaXplclN0eWxlID0geyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdmlzaWJpbGl0eTogJ2hpZGRlbicsIGhlaWdodDogMCwgd2lkdGg6IDAsIG92ZXJmbG93OiAnc2Nyb2xsJywgd2hpdGVTcGFjZTogJ25vd3JhcCcgfTtcblx0XG5cdHZhciBuZXh0RnJhbWUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IChmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG5cdFx0fTtcblx0fSkoKS5iaW5kKHdpbmRvdykgOiB1bmRlZmluZWQ7IC8vIElmIHdpbmRvdyBpcyB1bmRlZmluZWQsIHRoZW4gd2UgY2FuJ3QgZGVmaW5lIGEgbmV4dEZyYW1lIGZ1bmN0aW9uXG5cdFxuXHR2YXIgQXV0b3NpemVJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0XHRkaXNwbGF5TmFtZTogJ0F1dG9zaXplSW5wdXQnLFxuXHRcblx0XHRwcm9wVHlwZXM6IHtcblx0XHRcdHZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuYW55LCAvLyBmaWVsZCB2YWx1ZVxuXHRcdFx0ZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuYW55LCAvLyBkZWZhdWx0IGZpZWxkIHZhbHVlXG5cdFx0XHRvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQ2hhbmdlIGhhbmRsZXI6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7fVxuXHRcdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsIC8vIGNzcyBzdHlsZXMgZm9yIHRoZSBvdXRlciBlbGVtZW50XG5cdFx0XHRjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSBmb3IgdGhlIG91dGVyIGVsZW1lbnRcblx0XHRcdG1pbldpZHRoOiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFsvLyBtaW5pbXVtIHdpZHRoIGZvciBpbnB1dCBlbGVtZW50XG5cdFx0XHRSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG5cdFx0XHRpbnB1dFN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCAvLyBjc3Mgc3R5bGVzIGZvciB0aGUgaW5wdXQgZWxlbWVudFxuXHRcdFx0aW5wdXRDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcgLy8gY2xhc3NOYW1lIGZvciB0aGUgaW5wdXQgZWxlbWVudFxuXHRcdH0sXG5cdFx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRtaW5XaWR0aDogMVxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5wdXRXaWR0aDogdGhpcy5wcm9wcy5taW5XaWR0aFxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRcdHRoaXMuY29weUlucHV0U3R5bGVzKCk7XG5cdFx0XHR0aGlzLnVwZGF0ZUlucHV0V2lkdGgoKTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHRcdFx0dGhpcy5xdWV1ZVVwZGF0ZUlucHV0V2lkdGgoKTtcblx0XHR9LFxuXHRcdGNvcHlJbnB1dFN0eWxlczogZnVuY3Rpb24gY29weUlucHV0U3R5bGVzKCkge1xuXHRcdFx0aWYgKCF0aGlzLmlzTW91bnRlZCgpIHx8ICF3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR2YXIgaW5wdXRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMucmVmcy5pbnB1dCk7XG5cdFx0XHR2YXIgd2lkdGhOb2RlID0gdGhpcy5yZWZzLnNpemVyO1xuXHRcdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRTaXplID0gaW5wdXRTdHlsZS5mb250U2l6ZTtcblx0XHRcdHdpZHRoTm9kZS5zdHlsZS5mb250RmFtaWx5ID0gaW5wdXRTdHlsZS5mb250RmFtaWx5O1xuXHRcdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRXZWlnaHQgPSBpbnB1dFN0eWxlLmZvbnRXZWlnaHQ7XG5cdFx0XHR3aWR0aE5vZGUuc3R5bGUuZm9udFN0eWxlID0gaW5wdXRTdHlsZS5mb250U3R5bGU7XG5cdFx0XHR3aWR0aE5vZGUuc3R5bGUubGV0dGVyU3BhY2luZyA9IGlucHV0U3R5bGUubGV0dGVyU3BhY2luZztcblx0XHRcdGlmICh0aGlzLnByb3BzLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHRcdHZhciBwbGFjZWhvbGRlck5vZGUgPSB0aGlzLnJlZnMucGxhY2Vob2xkZXJTaXplcjtcblx0XHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRTaXplID0gaW5wdXRTdHlsZS5mb250U2l6ZTtcblx0XHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRGYW1pbHkgPSBpbnB1dFN0eWxlLmZvbnRGYW1pbHk7XG5cdFx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250V2VpZ2h0ID0gaW5wdXRTdHlsZS5mb250V2VpZ2h0O1xuXHRcdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUuZm9udFN0eWxlID0gaW5wdXRTdHlsZS5mb250U3R5bGU7XG5cdFx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gaW5wdXRTdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cXVldWVVcGRhdGVJbnB1dFdpZHRoOiBmdW5jdGlvbiBxdWV1ZVVwZGF0ZUlucHV0V2lkdGgoKSB7XG5cdFx0XHRuZXh0RnJhbWUodGhpcy51cGRhdGVJbnB1dFdpZHRoKTtcblx0XHR9LFxuXHRcdHVwZGF0ZUlucHV0V2lkdGg6IGZ1bmN0aW9uIHVwZGF0ZUlucHV0V2lkdGgoKSB7XG5cdFx0XHRpZiAoIXRoaXMuaXNNb3VudGVkKCkgfHwgdHlwZW9mIHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIG5ld0lucHV0V2lkdGggPSB1bmRlZmluZWQ7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5wbGFjZWhvbGRlcikge1xuXHRcdFx0XHRuZXdJbnB1dFdpZHRoID0gTWF0aC5tYXgodGhpcy5yZWZzLnNpemVyLnNjcm9sbFdpZHRoLCB0aGlzLnJlZnMucGxhY2Vob2xkZXJTaXplci5zY3JvbGxXaWR0aCkgKyAyO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3SW5wdXRXaWR0aCA9IHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCArIDI7XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3SW5wdXRXaWR0aCA8IHRoaXMucHJvcHMubWluV2lkdGgpIHtcblx0XHRcdFx0bmV3SW5wdXRXaWR0aCA9IHRoaXMucHJvcHMubWluV2lkdGg7XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3SW5wdXRXaWR0aCAhPT0gdGhpcy5zdGF0ZS5pbnB1dFdpZHRoKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGlucHV0V2lkdGg6IG5ld0lucHV0V2lkdGhcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZWZzLmlucHV0O1xuXHRcdH0sXG5cdFx0Zm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LmZvY3VzKCk7XG5cdFx0fSxcblx0XHRibHVyOiBmdW5jdGlvbiBibHVyKCkge1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LmJsdXIoKTtcblx0XHR9LFxuXHRcdHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KCkge1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LnNlbGVjdCgpO1xuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHR2YXIgZXNjYXBlZFZhbHVlID0gKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIHx8IHRoaXMucHJvcHMudmFsdWUgfHwgJycpLnJlcGxhY2UoL1xcJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC8gL2csICcmbmJzcDsnKS5yZXBsYWNlKC9cXDwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXD4vZywgJyZndDsnKTtcblx0XHRcdHZhciB3cmFwcGVyU3R5bGUgPSB0aGlzLnByb3BzLnN0eWxlIHx8IHt9O1xuXHRcdFx0aWYgKCF3cmFwcGVyU3R5bGUuZGlzcGxheSkgd3JhcHBlclN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0XHRcdHZhciBpbnB1dFN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuaW5wdXRTdHlsZSk7XG5cdFx0XHRpbnB1dFN0eWxlLndpZHRoID0gdGhpcy5zdGF0ZS5pbnB1dFdpZHRoO1xuXHRcdFx0aW5wdXRTdHlsZS5ib3hTaXppbmcgPSAnY29udGVudC1ib3gnO1xuXHRcdFx0dmFyIHBsYWNlaG9sZGVyID0gdGhpcy5wcm9wcy5wbGFjZWhvbGRlciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IHJlZjogJ3BsYWNlaG9sZGVyU2l6ZXInLCBzdHlsZTogc2l6ZXJTdHlsZSB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLnBsYWNlaG9sZGVyXG5cdFx0XHQpIDogbnVsbDtcblx0XHRcdHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lLCBzdHlsZTogd3JhcHBlclN0eWxlIH0sXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcmVmOiAnaW5wdXQnLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuaW5wdXRDbGFzc05hbWUsIHN0eWxlOiBpbnB1dFN0eWxlIH0pKSxcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyByZWY6ICdzaXplcicsIHN0eWxlOiBzaXplclN0eWxlLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGVzY2FwZWRWYWx1ZSB9IH0pLFxuXHRcdFx0XHRwbGFjZWhvbGRlclxuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBdXRvc2l6ZUlucHV0O1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0QWRkb25zVXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX3JlYWN0QWRkb25zVXBkYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0QWRkb25zVXBkYXRlKTtcblx0XG5cdHZhciBfVG9hc3RNZXNzYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX1RvYXN0TWVzc2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2FzdE1lc3NhZ2UpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBUb2FzdENvbnRhaW5lciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRvYXN0Q29udGFpbmVyLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVG9hc3RDb250YWluZXIoKSB7XG5cdCAgICB2YXIgX09iamVjdCRnZXRQcm90b3R5cGVPO1xuXHRcblx0ICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvYXN0Q29udGFpbmVyKTtcblx0XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9PYmplY3QkZ2V0UHJvdG90eXBlTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihUb2FzdENvbnRhaW5lcikpLmNhbGwuYXBwbHkoX09iamVjdCRnZXRQcm90b3R5cGVPLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIHRvYXN0czogW10sXG5cdCAgICAgIHRvYXN0SWQ6IDAsXG5cdCAgICAgIHByZXZpb3VzTWVzc2FnZTogbnVsbFxuXHQgICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVG9hc3RDb250YWluZXIsIFt7XG5cdCAgICBrZXk6IFwiZXJyb3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcihtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG5cdCAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5lcnJvciwgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImluZm9cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpbmZvKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcblx0ICAgICAgdGhpcy5fbm90aWZ5KHRoaXMucHJvcHMudG9hc3RUeXBlLmluZm8sIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzdWNjZXNzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3VjY2VzcyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG5cdCAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5zdWNjZXNzLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwid2FybmluZ1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuXHQgICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUud2FybmluZywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImNsZWFyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgT2JqZWN0LmtleXModGhpcy5yZWZzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBfdGhpczIucmVmc1trZXldLmhpZGVUb2FzdChmYWxzZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfbm90aWZ5XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX25vdGlmeSh0eXBlLCBtZXNzYWdlLCB0aXRsZSkge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBvcHRpb25zT3ZlcnJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnByZXZlbnREdXBsaWNhdGVzKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUucHJldmlvdXNNZXNzYWdlID09PSBtZXNzYWdlKSB7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHZhciBrZXkgPSB0aGlzLnN0YXRlLnRvYXN0SWQrKztcblx0ICAgICAgdmFyIHRvYXN0SWQgPSBrZXk7XG5cdCAgICAgIHZhciBuZXdUb2FzdCA9ICgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKG9wdGlvbnNPdmVycmlkZSwge1xuXHQgICAgICAgICRtZXJnZToge1xuXHQgICAgICAgICAgdHlwZTogdHlwZSxcblx0ICAgICAgICAgIHRpdGxlOiB0aXRsZSxcblx0ICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdCAgICAgICAgICB0b2FzdElkOiB0b2FzdElkLFxuXHQgICAgICAgICAga2V5OiBrZXksXG5cdCAgICAgICAgICByZWY6IFwidG9hc3RzX19cIiArIGtleSxcblx0ICAgICAgICAgIGhhbmRsZU9uQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZU9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9uc092ZXJyaWRlLmhhbmRsZU9uQ2xpY2spIHtcblx0ICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGUuaGFuZGxlT25DbGljaygpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2hhbmRsZV90b2FzdF9vbl9jbGljayhlKTtcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBoYW5kbGVSZW1vdmU6IHRoaXMuX2hhbmRsZV90b2FzdF9yZW1vdmUuYmluZCh0aGlzKVxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciB0b2FzdE9wZXJhdGlvbiA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJcIiArICh0aGlzLnByb3BzLm5ld2VzdE9uVG9wID8gXCIkdW5zaGlmdFwiIDogXCIkcHVzaFwiKSwgW25ld1RvYXN0XSk7XG5cdFxuXHQgICAgICB2YXIgbmV4dFN0YXRlID0gKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkodGhpcy5zdGF0ZSwge1xuXHQgICAgICAgIHRvYXN0czogdG9hc3RPcGVyYXRpb24sXG5cdCAgICAgICAgcHJldmlvdXNNZXNzYWdlOiB7ICRzZXQ6IG1lc3NhZ2UgfVxuXHQgICAgICB9KTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfaGFuZGxlX3RvYXN0X29uX2NsaWNrXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZV90b2FzdF9vbl9jbGljayhldmVudCkge1xuXHQgICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZXZlbnQpO1xuXHQgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2hhbmRsZV90b2FzdF9yZW1vdmVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlX3RvYXN0X3JlbW92ZSh0b2FzdElkKSB7XG5cdCAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgdmFyIG9wZXJhdGlvbk5hbWUgPSBcIlwiICsgKHRoaXMucHJvcHMubmV3ZXN0T25Ub3AgPyBcInJlZHVjZVJpZ2h0XCIgOiBcInJlZHVjZVwiKTtcblx0ICAgICAgdGhpcy5zdGF0ZS50b2FzdHNbb3BlcmF0aW9uTmFtZV0oZnVuY3Rpb24gKGZvdW5kLCB0b2FzdCwgaW5kZXgpIHtcblx0ICAgICAgICBpZiAoZm91bmQgfHwgdG9hc3QudG9hc3RJZCAhPT0gdG9hc3RJZCkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpczQuc2V0U3RhdGUoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoX3RoaXM0LnN0YXRlLCB7XG5cdCAgICAgICAgICB0b2FzdHM6IHsgJHNwbGljZTogW1tpbmRleCwgMV1dIH1cblx0ICAgICAgICB9KSk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0sIGZhbHNlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IFwiYXJpYS1saXZlXCI6IFwicG9saXRlXCIsIHJvbGU6IFwiYWxlcnRcIiB9KSxcblx0ICAgICAgICB0aGlzLnN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24gKHRvYXN0KSB7XG5cdCAgICAgICAgICByZXR1cm4gX3RoaXM1LnByb3BzLnRvYXN0TWVzc2FnZUZhY3RvcnkodG9hc3QpO1xuXHQgICAgICAgIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gVG9hc3RDb250YWluZXI7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRUb2FzdENvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG5cdCAgdG9hc3RUeXBlOiBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcblx0ICAgIGVycm9yOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGluZm86IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgc3VjY2VzczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB3YXJuaW5nOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHQgIH0pLmlzUmVxdWlyZWQsXG5cdCAgaWQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgdG9hc3RNZXNzYWdlRmFjdG9yeTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdCAgcHJldmVudER1cGxpY2F0ZXM6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXHQgIG5ld2VzdE9uVG9wOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblx0ICBvbkNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuXHR9O1xuXHRUb2FzdENvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgdG9hc3RUeXBlOiB7XG5cdCAgICBlcnJvcjogXCJlcnJvclwiLFxuXHQgICAgaW5mbzogXCJpbmZvXCIsXG5cdCAgICBzdWNjZXNzOiBcInN1Y2Nlc3NcIixcblx0ICAgIHdhcm5pbmc6IFwid2FybmluZ1wiXG5cdCAgfSxcblx0ICBpZDogXCJ0b2FzdC1jb250YWluZXJcIixcblx0ICB0b2FzdE1lc3NhZ2VGYWN0b3J5OiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRmFjdG9yeShfVG9hc3RNZXNzYWdlMi5kZWZhdWx0KSxcblx0ICBwcmV2ZW50RHVwbGljYXRlczogZmFsc2UsXG5cdCAgbmV3ZXN0T25Ub3A6IHRydWUsXG5cdCAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHt9XG5cdH07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRvYXN0Q29udGFpbmVyO1xuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1JlYWN0VHJhbnNpdGlvbkV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVhY3RUcmFuc2l0aW9uRXZlbnRzKTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX2VsZW1lbnRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0dmFyIF9lbGVtZW50Q2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWxlbWVudENsYXNzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVElDSyA9IDE3O1xuXHR2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB0cmFuc2l0aW9uOiBudWxsLCAvLyBzb21lIGV4YW1wbGVzIGRlZmluZWQgaW4gaW5kZXguc2NzcyAoc2NhbGUsIGZhZGVJbk91dCwgcm90YXRlKVxuXHQgICAgICBzaG93QW5pbWF0aW9uOiBcImFuaW1hdGVkIGJvdW5jZUluXCIsIC8vIG9yIG90aGVyIGFuaW1hdGlvbnMgZnJvbSBhbmltYXRlLmNzc1xuXHQgICAgICBoaWRlQW5pbWF0aW9uOiBcImFuaW1hdGVkIGJvdW5jZU91dFwiLFxuXHQgICAgICB0aW1lT3V0OiA1MDAwLFxuXHQgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDBcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHRoaXMuY2xhc3NOYW1lUXVldWUgPSBbXTtcblx0ICAgIHRoaXMuaXNIaWRpbmcgPSBmYWxzZTtcblx0ICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG5cdCAgfSxcblx0ICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuX2lzX21vdW50ZWQgPSB0cnVlO1xuXHQgICAgdGhpcy5fc2hvdygpO1xuXHQgICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG5cdFxuXHQgICAgdmFyIG9uSGlkZUNvbXBsZXRlID0gZnVuY3Rpb24gb25IaWRlQ29tcGxldGUoKSB7XG5cdCAgICAgIGlmIChfdGhpcy5pc0hpZGluZykge1xuXHQgICAgICAgIF90aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcblx0ICAgICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgb25IaWRlQ29tcGxldGUpO1xuXHQgICAgICAgIF90aGlzLl9oYW5kbGVfcmVtb3ZlKCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgb25IaWRlQ29tcGxldGUpO1xuXHRcblx0ICAgIGlmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLnRpbWVPdXQpKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIHRoaXMuX2lzX21vdW50ZWQgPSBmYWxzZTtcblx0ICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWxJZCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfc2V0X3RyYW5zaXRpb246IGZ1bmN0aW9uIF9zZXRfdHJhbnNpdGlvbihoaWRlKSB7XG5cdCAgICB2YXIgYW5pbWF0aW9uVHlwZSA9IGhpZGUgPyBcImxlYXZlXCIgOiBcImVudGVyXCI7XG5cdCAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLnRyYW5zaXRpb24gKyBcIi1cIiArIGFuaW1hdGlvblR5cGU7XG5cdCAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgXCItYWN0aXZlXCI7XG5cdFxuXHQgICAgdmFyIGVuZExpc3RlbmVyID0gZnVuY3Rpb24gZW5kTGlzdGVuZXIoZSkge1xuXHQgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGNsYXNzTGlzdCA9ICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKTtcblx0ICAgICAgY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHQgICAgICBjbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzTmFtZSk7XG5cdFxuXHQgICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHRcblx0ICAgICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoY2xhc3NOYW1lKTtcblx0XG5cdCAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG5cdCAgICB0aGlzLl9xdWV1ZV9jbGFzcyhhY3RpdmVDbGFzc05hbWUpO1xuXHQgIH0sXG5cdCAgX2NsZWFyX3RyYW5zaXRpb246IGZ1bmN0aW9uIF9jbGVhcl90cmFuc2l0aW9uKGhpZGUpIHtcblx0ICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdmFyIGFuaW1hdGlvblR5cGUgPSBoaWRlID8gXCJsZWF2ZVwiIDogXCJlbnRlclwiO1xuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMudHJhbnNpdGlvbiArIFwiLVwiICsgYW5pbWF0aW9uVHlwZTtcblx0ICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBjbGFzc05hbWUgKyBcIi1hY3RpdmVcIjtcblx0XG5cdCAgICB2YXIgY2xhc3NMaXN0ID0gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpO1xuXHQgICAgY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHQgICAgY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzc05hbWUpO1xuXHQgIH0sXG5cdCAgX3NldF9hbmltYXRpb246IGZ1bmN0aW9uIF9zZXRfYW5pbWF0aW9uKGhpZGUpIHtcblx0ICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLl9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSk7XG5cdCAgICB2YXIgZW5kTGlzdGVuZXIgPSBmdW5jdGlvbiBlbmRMaXN0ZW5lcihlKSB7XG5cdCAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBub2RlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW0pIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLnJlbW92ZShhbmltKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHRcblx0ICAgIGFuaW1hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbSkge1xuXHQgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLmFkZChhbmltKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgX2dldF9hbmltYXRpb25fY2xhc3NlczogZnVuY3Rpb24gX2dldF9hbmltYXRpb25fY2xhc3NlcyhoaWRlKSB7XG5cdCAgICB2YXIgYW5pbWF0aW9ucyA9IGhpZGUgPyB0aGlzLnByb3BzLmhpZGVBbmltYXRpb24gOiB0aGlzLnByb3BzLnNob3dBbmltYXRpb247XG5cdCAgICBpZiAoXCJbb2JqZWN0IEFycmF5XVwiID09PSB0b1N0cmluZy5jYWxsKGFuaW1hdGlvbnMpKSB7XG5cdCAgICAgIHJldHVybiBhbmltYXRpb25zO1xuXHQgICAgfSBlbHNlIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYW5pbWF0aW9ucykge1xuXHQgICAgICByZXR1cm4gYW5pbWF0aW9ucy5zcGxpdChcIiBcIik7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfY2xlYXJfYW5pbWF0aW9uOiBmdW5jdGlvbiBfY2xlYXJfYW5pbWF0aW9uKGhpZGUpIHtcblx0ICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLl9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSk7XG5cdCAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuXHQgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLnJlbW92ZShhbmltYXRpb24pO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBfcXVldWVfY2xhc3M6IGZ1bmN0aW9uIF9xdWV1ZV9jbGFzcyhjbGFzc05hbWUpIHtcblx0ICAgIHRoaXMuY2xhc3NOYW1lUXVldWUucHVzaChjbGFzc05hbWUpO1xuXHRcblx0ICAgIGlmICghdGhpcy50aW1lb3V0KSB7XG5cdCAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZSwgVElDSyk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZTogZnVuY3Rpb24gX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICBpZiAodGhpcy5faXNfbW91bnRlZCkge1xuXHQgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKF90aGlzMik7XG5cdCAgICAgICAgX3RoaXMyLmNsYXNzTmFtZVF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuXHQgICAgICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoY2xhc3NOYW1lKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSkoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuY2xhc3NOYW1lUXVldWUubGVuZ3RoID0gMDtcblx0ICAgIHRoaXMudGltZW91dCA9IG51bGw7XG5cdCAgfSxcblx0ICBfc2hvdzogZnVuY3Rpb24gX3Nob3coKSB7XG5cdCAgICBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG5cdCAgICAgIHRoaXMuX3NldF90cmFuc2l0aW9uKCk7XG5cdCAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2hvd0FuaW1hdGlvbikge1xuXHQgICAgICB0aGlzLl9zZXRfYW5pbWF0aW9uKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuXHQgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWxJZCk7XG5cdCAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQobnVsbCk7XG5cdCAgICBpZiAodGhpcy5pc0hpZGluZykge1xuXHQgICAgICB0aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLmhpZGVBbmltYXRpb24pIHtcblx0ICAgICAgICB0aGlzLl9jbGVhcl9hbmltYXRpb24odHJ1ZSk7XG5cdCAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG5cdCAgICAgICAgdGhpcy5fY2xlYXJfdHJhbnNpdGlvbih0cnVlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcblx0ICAgIGlmICghdGhpcy5pc0hpZGluZyAmJiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCB8fCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCA+IDApKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCkpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgaGlkZVRvYXN0OiBmdW5jdGlvbiBoaWRlVG9hc3Qob3ZlcnJpZGUpIHtcblx0ICAgIGlmICh0aGlzLmlzSGlkaW5nIHx8IHRoaXMuaW50ZXJ2YWxJZCA9PT0gbnVsbCAmJiAhb3ZlcnJpZGUpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX3NldF9pc19oaWRpbmcodHJ1ZSk7XG5cdCAgICBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG5cdCAgICAgIHRoaXMuX3NldF90cmFuc2l0aW9uKHRydWUpO1xuXHQgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhpZGVBbmltYXRpb24pIHtcblx0ICAgICAgdGhpcy5fc2V0X2FuaW1hdGlvbih0cnVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZV9yZW1vdmUoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIF9zZXRfaW50ZXJ2YWxfaWQ6IGZ1bmN0aW9uIF9zZXRfaW50ZXJ2YWxfaWQoaW50ZXJ2YWxJZCkge1xuXHQgICAgdGhpcy5pbnRlcnZhbElkID0gaW50ZXJ2YWxJZDtcblx0ICB9LFxuXHQgIF9zZXRfaXNfaGlkaW5nOiBmdW5jdGlvbiBfc2V0X2lzX2hpZGluZyhpc0hpZGluZykge1xuXHQgICAgdGhpcy5pc0hpZGluZyA9IGlzSGlkaW5nO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjYWxsX3Nob3dfbWV0aG9kKCRub2RlLCBwcm9wcykge1xuXHQgICRub2RlW3Byb3BzLnNob3dNZXRob2RdKHtcblx0ICAgIGR1cmF0aW9uOiBwcm9wcy5zaG93RHVyYXRpb24sXG5cdCAgICBlYXNpbmc6IHByb3BzLnNob3dFYXNpbmdcblx0ICB9KTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc3R5bGU6IHtcblx0ICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIiB9LFxuXHQgICAgICAvLyBlZmZlY3RpdmUgJC5oaWRlKClcblx0ICAgICAgc2hvd01ldGhvZDogXCJmYWRlSW5cIiwgLy8gc2xpZGVEb3duLCBhbmQgc2hvdyBhcmUgYnVpbHQgaW50byBqUXVlcnlcblx0ICAgICAgc2hvd0R1cmF0aW9uOiAzMDAsXG5cdCAgICAgIHNob3dFYXNpbmc6IFwic3dpbmdcIiwgLy8gYW5kIGxpbmVhciBhcmUgYnVpbHQgaW50byBqUXVlcnlcblx0ICAgICAgaGlkZU1ldGhvZDogXCJmYWRlT3V0XCIsXG5cdCAgICAgIGhpZGVEdXJhdGlvbjogMTAwMCxcblx0ICAgICAgaGlkZUVhc2luZzogXCJzd2luZ1wiLFxuXHQgICAgICAvL1xuXHQgICAgICB0aW1lT3V0OiA1MDAwLFxuXHQgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDBcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGludGVydmFsSWQ6IG51bGwsXG5cdCAgICAgIGlzSGlkaW5nOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIGNhbGxfc2hvd19tZXRob2QodGhpcy5fZ2V0XyRfbm9kZSgpLCB0aGlzLnByb3BzKTtcblx0ICAgIGlmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLnRpbWVPdXQpKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG5cdCAgICBjbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5pbnRlcnZhbElkKTtcblx0ICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChudWxsKTtcblx0ICAgIHRoaXMuX3NldF9pc19oaWRpbmcoZmFsc2UpO1xuXHRcblx0ICAgIGNhbGxfc2hvd19tZXRob2QodGhpcy5fZ2V0XyRfbm9kZSgpLnN0b3AodHJ1ZSwgdHJ1ZSksIHRoaXMucHJvcHMpO1xuXHQgIH0sXG5cdCAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcblx0ICAgIGlmICghdGhpcy5zdGF0ZS5pc0hpZGluZyAmJiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCB8fCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCA+IDApKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCkpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgaGlkZVRvYXN0OiBmdW5jdGlvbiBoaWRlVG9hc3Qob3ZlcnJpZGUpIHtcblx0ICAgIGlmICh0aGlzLnN0YXRlLmlzSGlkaW5nIHx8IHRoaXMuc3RhdGUuaW50ZXJ2YWxJZCA9PT0gbnVsbCAmJiAhb3ZlcnJpZGUpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7IGlzSGlkaW5nOiB0cnVlIH0pO1xuXHRcblx0ICAgIHRoaXMuX2dldF8kX25vZGUoKVt0aGlzLnByb3BzLmhpZGVNZXRob2RdKHtcblx0ICAgICAgZHVyYXRpb246IHRoaXMucHJvcHMuaGlkZUR1cmF0aW9uLFxuXHQgICAgICBlYXNpbmc6IHRoaXMucHJvcHMuaGlkZUVhc2luZyxcblx0ICAgICAgY29tcGxldGU6IHRoaXMuX2hhbmRsZV9yZW1vdmVcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgX2dldF8kX25vZGU6IGZ1bmN0aW9uIF9nZXRfJF9ub2RlKCkge1xuXHQgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblx0ICAgIHJldHVybiBqUXVlcnkoX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpKTtcblx0ICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5kZWYgKi9cblx0ICB9LFxuXHQgIF9zZXRfaW50ZXJ2YWxfaWQ6IGZ1bmN0aW9uIF9zZXRfaW50ZXJ2YWxfaWQoaW50ZXJ2YWxJZCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIGludGVydmFsSWQ6IGludGVydmFsSWRcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgX3NldF9pc19oaWRpbmc6IGZ1bmN0aW9uIF9zZXRfaXNfaGlkaW5nKGlzSGlkaW5nKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgaXNIaWRpbmc6IGlzSGlkaW5nXG5cdCAgICB9KTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Ub2FzdE1lc3NhZ2UgPSBleHBvcnRzLlRvYXN0Q29udGFpbmVyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9Ub2FzdENvbnRhaW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9Ub2FzdENvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2FzdENvbnRhaW5lcik7XG5cdFxuXHR2YXIgX1RvYXN0TWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9Ub2FzdE1lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9hc3RNZXNzYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLlRvYXN0Q29udGFpbmVyID0gX1RvYXN0Q29udGFpbmVyMi5kZWZhdWx0O1xuXHRleHBvcnRzLlRvYXN0TWVzc2FnZSA9IF9Ub2FzdE1lc3NhZ2UyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRzKSB7XG5cdCAgcmV0dXJuIG5ldyBFbGVtZW50Q2xhc3Mob3B0cylcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5kZXhPZihhcnIsIHByb3ApIHtcblx0ICBpZiAoYXJyLmluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihwcm9wKVxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG5cdCAgICBpZiAoYXJyW2ldID09PSBwcm9wKSByZXR1cm4gaVxuXHQgIHJldHVybiAtMVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBFbGVtZW50Q2xhc3Mob3B0cykge1xuXHQgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBFbGVtZW50Q2xhc3MpKSByZXR1cm4gbmV3IEVsZW1lbnRDbGFzcyhvcHRzKVxuXHQgIHZhciBzZWxmID0gdGhpc1xuXHQgIGlmICghb3B0cykgb3B0cyA9IHt9XG5cdFxuXHQgIC8vIHNpbWlsYXIgZG9pbmcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCBidXQgd29ya3MgaW4gSUU4XG5cdCAgaWYgKG9wdHMubm9kZVR5cGUpIG9wdHMgPSB7ZWw6IG9wdHN9XG5cdFxuXHQgIHRoaXMub3B0cyA9IG9wdHNcblx0ICB0aGlzLmVsID0gb3B0cy5lbCB8fCBkb2N1bWVudC5ib2R5XG5cdCAgaWYgKHR5cGVvZiB0aGlzLmVsICE9PSAnb2JqZWN0JykgdGhpcy5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5lbClcblx0fVxuXHRcblx0RWxlbWVudENsYXNzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcblx0ICB2YXIgZWwgPSB0aGlzLmVsXG5cdCAgaWYgKCFlbCkgcmV0dXJuXG5cdCAgaWYgKGVsLmNsYXNzTmFtZSA9PT0gXCJcIikgcmV0dXJuIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZVxuXHQgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylcblx0ICBpZiAoaW5kZXhPZihjbGFzc2VzLCBjbGFzc05hbWUpID4gLTEpIHJldHVybiBjbGFzc2VzXG5cdCAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSlcblx0ICBlbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKVxuXHQgIHJldHVybiBjbGFzc2VzXG5cdH1cblx0XG5cdEVsZW1lbnRDbGFzcy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG5cdCAgdmFyIGVsID0gdGhpcy5lbFxuXHQgIGlmICghZWwpIHJldHVyblxuXHQgIGlmIChlbC5jbGFzc05hbWUgPT09IFwiXCIpIHJldHVyblxuXHQgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylcblx0ICB2YXIgaWR4ID0gaW5kZXhPZihjbGFzc2VzLCBjbGFzc05hbWUpXG5cdCAgaWYgKGlkeCA+IC0xKSBjbGFzc2VzLnNwbGljZShpZHgsIDEpXG5cdCAgZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJylcblx0ICByZXR1cm4gY2xhc3Nlc1xuXHR9XG5cdFxuXHRFbGVtZW50Q2xhc3MucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuXHQgIHZhciBlbCA9IHRoaXMuZWxcblx0ICBpZiAoIWVsKSByZXR1cm5cblx0ICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpXG5cdCAgcmV0dXJuIGluZGV4T2YoY2xhc3NlcywgY2xhc3NOYW1lKSA+IC0xXG5cdH1cblx0XG5cdEVsZW1lbnRDbGFzcy5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG5cdCAgdmFyIGVsID0gdGhpcy5lbFxuXHQgIGlmICghZWwpIHJldHVyblxuXHQgIGlmICh0aGlzLmhhcyhjbGFzc05hbWUpKSB0aGlzLnJlbW92ZShjbGFzc05hbWUpXG5cdCAgZWxzZSB0aGlzLmFkZChjbGFzc05hbWUpXG5cdH1cblxuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKlxuXHQgKiBAcHJvdmlkZXNNb2R1bGUgT2JqZWN0LmFzc2lnblxuXHQgKi9cblx0XG5cdC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1vYmplY3QuYXNzaWduXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2VzKSB7XG5cdCAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIHRhcmdldCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcblx0ICB9XG5cdFxuXHQgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXHQgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFxuXHQgIGZvciAodmFyIG5leHRJbmRleCA9IDE7IG5leHRJbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IG5leHRJbmRleCsrKSB7XG5cdCAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tuZXh0SW5kZXhdO1xuXHQgICAgaWYgKG5leHRTb3VyY2UgPT0gbnVsbCkge1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZnJvbSA9IE9iamVjdChuZXh0U291cmNlKTtcblx0XG5cdCAgICAvLyBXZSBkb24ndCBjdXJyZW50bHkgc3VwcG9ydCBhY2Nlc3NvcnMgbm9yIHByb3hpZXMuIFRoZXJlZm9yZSB0aGlzXG5cdCAgICAvLyBjb3B5IGNhbm5vdCB0aHJvdy4gSWYgd2UgZXZlciBzdXBwb3J0ZWQgdGhpcyB0aGVuIHdlIG11c3QgaGFuZGxlXG5cdCAgICAvLyBleGNlcHRpb25zIGFuZCBzaWRlLWVmZmVjdHMuIFdlIGRvbid0IHN1cHBvcnQgc3ltYm9scyBzbyB0aGV5IHdvbid0XG5cdCAgICAvLyBiZSB0cmFuc2ZlcnJlZC5cblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHQgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdCAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRvO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VHJhbnNpdGlvbkV2ZW50c1xuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuXHRcblx0LyoqXG5cdCAqIEVWRU5UX05BTUVfTUFQIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIGV2ZW50IGZpcmVkIHdoZW4gYVxuXHQgKiB0cmFuc2l0aW9uL2FuaW1hdGlvbiBlbmRzLCBiYXNlZCBvbiB0aGUgc3R5bGUgcHJvcGVydHkgdXNlZCB0b1xuXHQgKiBkZWZpbmUgdGhhdCBldmVudC5cblx0ICovXG5cdHZhciBFVkVOVF9OQU1FX01BUCA9IHtcblx0ICB0cmFuc2l0aW9uZW5kOiB7XG5cdCAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcblx0ICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuXHQgICAgJ01velRyYW5zaXRpb24nOiAnbW96VHJhbnNpdGlvbkVuZCcsXG5cdCAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuXHQgICAgJ21zVHJhbnNpdGlvbic6ICdNU1RyYW5zaXRpb25FbmQnXG5cdCAgfSxcblx0XG5cdCAgYW5pbWF0aW9uZW5kOiB7XG5cdCAgICAnYW5pbWF0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG5cdCAgICAnV2Via2l0QW5pbWF0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG5cdCAgICAnTW96QW5pbWF0aW9uJzogJ21vekFuaW1hdGlvbkVuZCcsXG5cdCAgICAnT0FuaW1hdGlvbic6ICdvQW5pbWF0aW9uRW5kJyxcblx0ICAgICdtc0FuaW1hdGlvbic6ICdNU0FuaW1hdGlvbkVuZCdcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgZW5kRXZlbnRzID0gW107XG5cdFxuXHRmdW5jdGlvbiBkZXRlY3RFdmVudHMoKSB7XG5cdCAgdmFyIHRlc3RFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgIHZhciBzdHlsZSA9IHRlc3RFbC5zdHlsZTtcblx0XG5cdCAgLy8gT24gc29tZSBwbGF0Zm9ybXMsIGluIHBhcnRpY3VsYXIgc29tZSByZWxlYXNlcyBvZiBBbmRyb2lkIDQueCxcblx0ICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcblx0ICAvLyBzdHlsZSBvYmplY3QgYnV0IHRoZSBldmVudHMgdGhhdCBmaXJlIHdpbGwgc3RpbGwgYmUgcHJlZml4ZWQsIHNvIHdlIG5lZWRcblx0ICAvLyB0byBjaGVjayBpZiB0aGUgdW4tcHJlZml4ZWQgZXZlbnRzIGFyZSB1c2VhYmxlLCBhbmQgaWYgbm90IHJlbW92ZSB0aGVtXG5cdCAgLy8gZnJvbSB0aGUgbWFwXG5cdCAgaWYgKCEoJ0FuaW1hdGlvbkV2ZW50JyBpbiB3aW5kb3cpKSB7XG5cdCAgICBkZWxldGUgRVZFTlRfTkFNRV9NQVAuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbjtcblx0ICB9XG5cdFxuXHQgIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcblx0ICAgIGRlbGV0ZSBFVkVOVF9OQU1FX01BUC50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb247XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBiYXNlRXZlbnROYW1lIGluIEVWRU5UX05BTUVfTUFQKSB7XG5cdCAgICB2YXIgYmFzZUV2ZW50cyA9IEVWRU5UX05BTUVfTUFQW2Jhc2VFdmVudE5hbWVdO1xuXHQgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIGJhc2VFdmVudHMpIHtcblx0ICAgICAgaWYgKHN0eWxlTmFtZSBpbiBzdHlsZSkge1xuXHQgICAgICAgIGVuZEV2ZW50cy5wdXNoKGJhc2VFdmVudHNbc3R5bGVOYW1lXSk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcblx0ICBkZXRlY3RFdmVudHMoKTtcblx0fVxuXHRcblx0Ly8gV2UgdXNlIHRoZSByYXcge2FkZHxyZW1vdmV9RXZlbnRMaXN0ZW5lcigpIGNhbGwgYmVjYXVzZSBFdmVudExpc3RlbmVyXG5cdC8vIGRvZXMgbm90IGtub3cgaG93IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgYW5kIHdlIHJlYWxseSBzaG91bGRcblx0Ly8gY2xlYW4gdXAuIEFsc28sIHRoZXNlIGV2ZW50cyBhcmUgbm90IHRyaWdnZXJlZCBpbiBvbGRlciBicm93c2Vyc1xuXHQvLyBzbyB3ZSBzaG91bGQgYmUgQS1PSyBoZXJlLlxuXHRcblx0ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIpIHtcblx0ICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyLCBmYWxzZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBldmVudExpc3RlbmVyKSB7XG5cdCAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuXHR9XG5cdFxuXHR2YXIgUmVhY3RUcmFuc2l0aW9uRXZlbnRzID0ge1xuXHQgIGFkZEVuZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChub2RlLCBldmVudExpc3RlbmVyKSB7XG5cdCAgICBpZiAoZW5kRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAvLyBJZiBDU1MgdHJhbnNpdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQsIHRyaWdnZXIgYW4gXCJlbmQgYW5pbWF0aW9uXCJcblx0ICAgICAgLy8gZXZlbnQgaW1tZWRpYXRlbHkuXG5cdCAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGV2ZW50TGlzdGVuZXIsIDApO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBlbmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZW5kRXZlbnQpIHtcblx0ICAgICAgYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRFdmVudCwgZXZlbnRMaXN0ZW5lcik7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICByZW1vdmVFbmRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAobm9kZSwgZXZlbnRMaXN0ZW5lcikge1xuXHQgICAgaWYgKGVuZEV2ZW50cy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZW5kRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGVuZEV2ZW50KSB7XG5cdCAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdFRyYW5zaXRpb25FdmVudHM7XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIHVwZGF0ZVxuXHQgKi9cblx0XG5cdC8qIGdsb2JhbCBoYXNPd25Qcm9wZXJ0eTp0cnVlICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdHZhciBrZXlPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHR2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9ICh7fSkuaGFzT3duUHJvcGVydHk7XG5cdFxuXHRmdW5jdGlvbiBzaGFsbG93Q29weSh4KSB7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcblx0ICAgIHJldHVybiB4LmNvbmNhdCgpO1xuXHQgIH0gZWxzZSBpZiAoeCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcpIHtcblx0ICAgIHJldHVybiBhc3NpZ24obmV3IHguY29uc3RydWN0b3IoKSwgeCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiB4O1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIENPTU1BTkRfUFVTSCA9IGtleU9mKHsgJHB1c2g6IG51bGwgfSk7XG5cdHZhciBDT01NQU5EX1VOU0hJRlQgPSBrZXlPZih7ICR1bnNoaWZ0OiBudWxsIH0pO1xuXHR2YXIgQ09NTUFORF9TUExJQ0UgPSBrZXlPZih7ICRzcGxpY2U6IG51bGwgfSk7XG5cdHZhciBDT01NQU5EX1NFVCA9IGtleU9mKHsgJHNldDogbnVsbCB9KTtcblx0dmFyIENPTU1BTkRfTUVSR0UgPSBrZXlPZih7ICRtZXJnZTogbnVsbCB9KTtcblx0dmFyIENPTU1BTkRfQVBQTFkgPSBrZXlPZih7ICRhcHBseTogbnVsbCB9KTtcblx0XG5cdHZhciBBTExfQ09NTUFORFNfTElTVCA9IFtDT01NQU5EX1BVU0gsIENPTU1BTkRfVU5TSElGVCwgQ09NTUFORF9TUExJQ0UsIENPTU1BTkRfU0VULCBDT01NQU5EX01FUkdFLCBDT01NQU5EX0FQUExZXTtcblx0XG5cdHZhciBBTExfQ09NTUFORFNfU0VUID0ge307XG5cdFxuXHRBTExfQ09NTUFORFNfTElTVC5mb3JFYWNoKGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgQUxMX0NPTU1BTkRTX1NFVFtjb21tYW5kXSA9IHRydWU7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gaW52YXJpYW50QXJyYXlDYXNlKHZhbHVlLCBzcGVjLCBjb21tYW5kKSB7XG5cdCAgIUFycmF5LmlzQXJyYXkodmFsdWUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCB0YXJnZXQgb2YgJXMgdG8gYmUgYW4gYXJyYXk7IGdvdCAlcy4nLCBjb21tYW5kLCB2YWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHQgIHZhciBzcGVjVmFsdWUgPSBzcGVjW2NvbW1hbmRdO1xuXHQgICFBcnJheS5pc0FycmF5KHNwZWNWYWx1ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXk7IGdvdCAlcy4gJyArICdEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVyIGluIGFuIGFycmF5PycsIGNvbW1hbmQsIHNwZWNWYWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGUodmFsdWUsIHNwZWMpIHtcblx0ICAhKHR5cGVvZiBzcGVjID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IFlvdSBwcm92aWRlZCBhIGtleSBwYXRoIHRvIHVwZGF0ZSgpIHRoYXQgZGlkIG5vdCBjb250YWluIG9uZSAnICsgJ29mICVzLiBEaWQgeW91IGZvcmdldCB0byBpbmNsdWRlIHslczogLi4ufT8nLCBBTExfQ09NTUFORFNfTElTVC5qb2luKCcsICcpLCBDT01NQU5EX1NFVCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHRcblx0ICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1NFVCkpIHtcblx0ICAgICEoT2JqZWN0LmtleXMoc3BlYykubGVuZ3RoID09PSAxKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgaGF2ZSBtb3JlIHRoYW4gb25lIGtleSBpbiBhbiBvYmplY3Qgd2l0aCAlcycsIENPTU1BTkRfU0VUKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgcmV0dXJuIHNwZWNbQ09NTUFORF9TRVRdO1xuXHQgIH1cblx0XG5cdCAgdmFyIG5leHRWYWx1ZSA9IHNoYWxsb3dDb3B5KHZhbHVlKTtcblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9NRVJHRSkpIHtcblx0ICAgIHZhciBtZXJnZU9iaiA9IHNwZWNbQ09NTUFORF9NRVJHRV07XG5cdCAgICAhKG1lcmdlT2JqICYmIHR5cGVvZiBtZXJnZU9iaiA9PT0gJ29iamVjdCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiAlcyBleHBlY3RzIGEgc3BlYyBvZiB0eXBlIFxcJ29iamVjdFxcJzsgZ290ICVzJywgQ09NTUFORF9NRVJHRSwgbWVyZ2VPYmopIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0ICAgICEobmV4dFZhbHVlICYmIHR5cGVvZiBuZXh0VmFsdWUgPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogJXMgZXhwZWN0cyBhIHRhcmdldCBvZiB0eXBlIFxcJ29iamVjdFxcJzsgZ290ICVzJywgQ09NTUFORF9NRVJHRSwgbmV4dFZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICBhc3NpZ24obmV4dFZhbHVlLCBzcGVjW0NPTU1BTkRfTUVSR0VdKTtcblx0ICB9XG5cdFxuXHQgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfUFVTSCkpIHtcblx0ICAgIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgQ09NTUFORF9QVVNIKTtcblx0ICAgIHNwZWNbQ09NTUFORF9QVVNIXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIG5leHRWYWx1ZS5wdXNoKGl0ZW0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1VOU0hJRlQpKSB7XG5cdCAgICBpbnZhcmlhbnRBcnJheUNhc2UodmFsdWUsIHNwZWMsIENPTU1BTkRfVU5TSElGVCk7XG5cdCAgICBzcGVjW0NPTU1BTkRfVU5TSElGVF0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICBuZXh0VmFsdWUudW5zaGlmdChpdGVtKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9TUExJQ0UpKSB7XG5cdCAgICAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgJXMgdGFyZ2V0IHRvIGJlIGFuIGFycmF5OyBnb3QgJXMnLCBDT01NQU5EX1NQTElDRSwgdmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0ICAgICFBcnJheS5pc0FycmF5KHNwZWNbQ09NTUFORF9TUExJQ0VdKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhbiBhcnJheSBvZiBhcnJheXM7IGdvdCAlcy4gJyArICdEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVycyBpbiBhbiBhcnJheT8nLCBDT01NQU5EX1NQTElDRSwgc3BlY1tDT01NQU5EX1NQTElDRV0pIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0ICAgIHNwZWNbQ09NTUFORF9TUExJQ0VdLmZvckVhY2goZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgICAgIUFycmF5LmlzQXJyYXkoYXJncykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzOyBnb3QgJXMuICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlcnMgaW4gYW4gYXJyYXk/JywgQ09NTUFORF9TUExJQ0UsIHNwZWNbQ09NTUFORF9TUExJQ0VdKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICAgIG5leHRWYWx1ZS5zcGxpY2UuYXBwbHkobmV4dFZhbHVlLCBhcmdzKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9BUFBMWSkpIHtcblx0ICAgICEodHlwZW9mIHNwZWNbQ09NTUFORF9BUFBMWV0gPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGEgZnVuY3Rpb247IGdvdCAlcy4nLCBDT01NQU5EX0FQUExZLCBzcGVjW0NPTU1BTkRfQVBQTFldKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICBuZXh0VmFsdWUgPSBzcGVjW0NPTU1BTkRfQVBQTFldKG5leHRWYWx1ZSk7XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBrIGluIHNwZWMpIHtcblx0ICAgIGlmICghKEFMTF9DT01NQU5EU19TRVQuaGFzT3duUHJvcGVydHkoaykgJiYgQUxMX0NPTU1BTkRTX1NFVFtrXSkpIHtcblx0ICAgICAgbmV4dFZhbHVlW2tdID0gdXBkYXRlKHZhbHVlW2tdLCBzcGVjW2tdKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBuZXh0VmFsdWU7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gdXBkYXRlO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxNSkpKVxuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKlxuXHQgKiBAcHJvdmlkZXNNb2R1bGUgRXhlY3V0aW9uRW52aXJvbm1lbnRcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG5cdCAqIFdvcmtlci4gSGVscHMgYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFuZCBhbGxvd3MgY29kZSB0byByZWFzb24gYWJvdXRcblx0ICogd2hldGhlciBvciBub3QgdGhleSBhcmUgaW4gYSBXb3JrZXIsIGV2ZW4gaWYgdGhleSBuZXZlciBpbmNsdWRlIHRoZSBtYWluXG5cdCAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cblx0ICovXG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblx0XG5cdCAgY2FuVXNlRE9NOiBjYW5Vc2VET00sXG5cdFxuXHQgIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXHRcblx0ICBjYW5Vc2VFdmVudExpc3RlbmVyczogY2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXG5cdFxuXHQgIGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuLFxuXHRcblx0ICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXHRcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cbi8qKiovIH0sXG4vKiA1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIGludmFyaWFudFxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdCAqXG5cdCAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG5cdCAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHQgKiBleHBlY3RpbmcuXG5cdCAqXG5cdCAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdCAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICB2YXIgZXJyb3I7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuXHQgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuXHQgICAgICB9KSk7XG5cdCAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdCAgICB9XG5cdFxuXHQgICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuXHQgICAgdGhyb3cgZXJyb3I7XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTUpKSlcblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIGtleU9mXG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIEFsbG93cyBleHRyYWN0aW9uIG9mIGEgbWluaWZpZWQga2V5LiBMZXQncyB0aGUgYnVpbGQgc3lzdGVtIG1pbmlmeSBrZXlzXG5cdCAqIHdpdGhvdXQgbG9zaW5nIHRoZSBhYmlsaXR5IHRvIGR5bmFtaWNhbGx5IHVzZSBrZXkgc3RyaW5ncyBhcyB2YWx1ZXNcblx0ICogdGhlbXNlbHZlcy4gUGFzcyBpbiBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkvdmFsIHBhaXIgYW5kIGl0IHdpbGwgcmV0dXJuXG5cdCAqIHlvdSB0aGUgc3RyaW5nIGtleSBvZiB0aGF0IHNpbmdsZSByZWNvcmQuIFN1cHBvc2UgeW91IHdhbnQgdG8gZ3JhYiB0aGVcblx0ICogdmFsdWUgZm9yIGEga2V5ICdjbGFzc05hbWUnIGluc2lkZSBvZiBhbiBvYmplY3QuIEtleS92YWwgbWluaWZpY2F0aW9uIG1heVxuXHQgKiBoYXZlIGFsaWFzZWQgdGhhdCBrZXkgdG8gYmUgJ3hhMTInLiBrZXlPZih7Y2xhc3NOYW1lOiBudWxsfSkgd2lsbCByZXR1cm5cblx0ICogJ3hhMTInIGluIHRoYXQgY2FzZS4gUmVzb2x2ZSBrZXlzIHlvdSB3YW50IHRvIHVzZSBvbmNlIGF0IHN0YXJ0dXAgdGltZSwgdGhlblxuXHQgKiByZXVzZSB0aG9zZSByZXNvbHV0aW9ucy5cblx0ICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIGtleU9mID0gZnVuY3Rpb24gKG9uZUtleU9iaikge1xuXHQgIHZhciBrZXk7XG5cdCAgZm9yIChrZXkgaW4gb25lS2V5T2JqKSB7XG5cdCAgICBpZiAoIW9uZUtleU9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGtleTtcblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGtleU9mO1xuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0dmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0XHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIG1lbW87XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0fSksXHJcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0XHR9KSxcclxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdFx0aWYoZmFsc2UpIHtcclxuXHRcdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0XHR9XHJcblx0XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdFx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblx0XHJcblx0XHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHRcclxuXHRcdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHRcdHZhciBzdHlsZXMgPSBbXTtcclxuXHRcdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3R5bGVzO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0XHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0XHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRcdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdFx0aWYoaWR4ID49IDApIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdFx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdFx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cdFxyXG5cdFx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHRcdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dXBkYXRlKG9iaik7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0dmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cdFxyXG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHRcclxuXHRcdGlmKG1lZGlhKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHRcdH1cclxuXHRcclxuXHRcdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihzb3VyY2VNYXApIHtcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblx0XHJcblx0XHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHRcclxuXHRcdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cdFxyXG5cdFx0aWYob2xkU3JjKVxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcblx0fVxyXG5cblxuLyoqKi8gfSxcbi8qIDU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cbi8qKiovIH0sXG4vKiA1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIHt9KSlcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHJlYWN0LWJvb3RzdHJhcC10YWJsZS5qc1xuICoqLyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgODA5NjJlNmQyMzQ5ZDkwOTVkNTRcbiAqKi8iLCJpbXBvcnQgQm9vdHN0cmFwVGFibGUgZnJvbSAnLi9Cb290c3RyYXBUYWJsZSc7XHJcbmltcG9ydCBUYWJsZUhlYWRlckNvbHVtbiBmcm9tICcuL1RhYmxlSGVhZGVyQ29sdW1uJztcclxuaW1wb3J0IHtUYWJsZURhdGFTZXR9IGZyb20gJy4vc3RvcmUvVGFibGVEYXRhU3RvcmUnO1xyXG5cclxuaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gIHdpbmRvdy5Cb290c3RyYXBUYWJsZSA9IEJvb3RzdHJhcFRhYmxlO1xyXG4gIHdpbmRvdy5UYWJsZUhlYWRlckNvbHVtbiA9IFRhYmxlSGVhZGVyQ29sdW1uO1xyXG4gIHdpbmRvdy5UYWJsZURhdGFTZXQgPSBUYWJsZURhdGFTZXQ7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIEJvb3RzdHJhcFRhYmxlLFxyXG4gIFRhYmxlSGVhZGVyQ29sdW1uLFxyXG4gIFRhYmxlRGF0YVNldFxyXG59O1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9pbmRleC5qc1xuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9XG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gIFNPUlRfREVTQzogXCJkZXNjXCIsXHJcbiAgU09SVF9BU0M6IFwiYXNjXCIsXHJcbiAgU0laRV9QRVJfUEFHRTogMTAsXHJcbiAgTkVYVF9QQUdFOiBcIj5cIixcclxuICBMQVNUX1BBR0U6IFwiPj5cIixcclxuICBQUkVfUEFHRTogXCI8XCIsXHJcbiAgRklSU1RfUEFHRTogXCI8PFwiLFxyXG4gIFJPV19TRUxFQ1RfQkdfQ09MT1I6IFwiXCIsXHJcbiAgUk9XX1NFTEVDVF9OT05FOiBcIm5vbmVcIixcclxuICBST1dfU0VMRUNUX1NJTkdMRTogXCJyYWRpb1wiLFxyXG4gIFJPV19TRUxFQ1RfTVVMVEk6IFwiY2hlY2tib3hcIixcclxuICBDRUxMX0VESVRfTk9ORTogXCJub25lXCIsXHJcbiAgQ0VMTF9FRElUX0NMSUNLOiBcImNsaWNrXCIsXHJcbiAgQ0VMTF9FRElUX0RCQ0xJQ0s6IFwiZGJjbGlja1wiLFxyXG4gIFNJWkVfUEVSX1BBR0VfTElTVDogWzEwLCAyNSwgMzAsIDUwXSxcclxuICBQQUdJTkFUSU9OX1NJWkU6IDUsXHJcbiAgTk9fREFUQV9URVhUOiBcIlRoZXJlIGlzIG5vIGRhdGEgdG8gZGlzcGxheVwiLFxyXG4gIFNIT1dfT05MWV9TRUxFQ1Q6IFwiU2hvdyBTZWxlY3RlZCBPbmx5XCIsXHJcbiAgU0hPV19BTEw6IFwiU2hvdyBBbGxcIixcclxuICBGSUxURVJfREVMQVk6IDUwMCxcclxuICBGSUxURVJfVFlQRToge1xyXG4gICAgVEVYVDogXCJUZXh0RmlsdGVyXCIsXHJcbiAgICBTRUxFQ1Q6IFwiU2VsZWN0RmlsdGVyXCIsXHJcbiAgICBOVU1CRVI6IFwiTnVtYmVyRmlsdGVyXCIsXHJcbiAgICBEQVRFOiBcIkRhdGVGaWx0ZXJcIixcclxuICAgIENVU1RPTTogXCJDdXN0b21GaWx0ZXJcIlxyXG4gIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9Db25zdC5qc1xuICoqLyIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY2xhc3NuYW1lcy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdERPTVwiLFwiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIixcImNvbW1vbmpzXCI6XCJyZWFjdC1kb21cIixcImFtZFwiOlwicmVhY3QtZG9tXCJ9XG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHJcbiAgcmVuZGVyU29ydENhcmV0KG9yZGVyKSB7XHJcbiAgICB2YXIgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgd3JhcC5jbGFzc05hbWUgPSBcIm9yZGVyXCI7XHJcbiAgICBpZihvcmRlciA9PSBDb25zdC5TT1JUX0FTQykgd3JhcC5jbGFzc05hbWUgKz0gXCIgZHJvcHVwXCI7XHJcbiAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIGlubmVyLmNsYXNzTmFtZSA9IFwiY2FyZXRcIjtcclxuICAgIGlubmVyLnN0eWxlLm1hcmdpbiA9IFwiMTBweCA1cHhcIjtcclxuICAgIHdyYXAuYXBwZW5kQ2hpbGQoaW5uZXIpO1xyXG4gICAgcmV0dXJuIHdyYXA7XHJcbiAgfSxcclxuXHJcbiAgcmVuZGVyUmVhY3RTb3J0Q2FyZXQob3JkZXIpe1xyXG4gICAgdmFyIG9yZGVyQ2xhc3MgPSBjbGFzc1NldChcIm9yZGVyXCIsIHtcclxuICAgICAgJ2Ryb3B1cCc6IG9yZGVyID09IENvbnN0LlNPUlRfQVNDXHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17b3JkZXJDbGFzc30+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIiBzdHlsZT17e21hcmdpbjogJzEwcHggNXB4J319Pjwvc3Bhbj5cclxuICAgICAgPC9zcGFuPlxyXG4gICAgKTtcclxuICB9LFxyXG5cclxuICBnZXRTY3JvbGxCYXJXaWR0aCgpe1xyXG4gICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgIGlubmVyLnN0eWxlLmhlaWdodCA9IFwiMjAwcHhcIjtcclxuXHJcbiAgICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG91dGVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgb3V0ZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcclxuICAgIG91dGVyLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xyXG4gICAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgICBvdXRlci5zdHlsZS53aWR0aCA9IFwiMjAwcHhcIjtcclxuICAgIG91dGVyLnN0eWxlLmhlaWdodCA9IFwiMTUwcHhcIjtcclxuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgIG91dGVyLmFwcGVuZENoaWxkIChpbm5lcik7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCAob3V0ZXIpO1xyXG4gICAgdmFyIHcxID0gaW5uZXIub2Zmc2V0V2lkdGg7XHJcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG4gICAgdmFyIHcyID0gaW5uZXIub2Zmc2V0V2lkdGg7XHJcbiAgICBpZiAodzEgPT0gdzIpIHcyID0gb3V0ZXIuY2xpZW50V2lkdGg7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCAob3V0ZXIpO1xyXG5cclxuICAgIHJldHVybiAodzEgLSB3Mik7XHJcbiAgfVxyXG5cclxufTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdXRpbC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBTd2l0Y2ggZnJvbSAncmMtc3dpdGNoJztcclxuaW1wb3J0ICdyYy1zd2l0Y2gvYXNzZXRzL2luZGV4LmNzcyc7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JztcclxuXHJcbnZhciBFZGl0b3IgPSBmdW5jdGlvbiAoZWRpdGFibGUsIGF0dHIsIGZvcm1hdCwgZWRpdG9yQ2xhc3MsIGRlZmF1bHRWYWx1ZSkge1xyXG5cclxuXHJcbiAgICBpZiAoZWRpdGFibGUgPT09IHRydWUgfHwgdHlwZW9mIGVkaXRhYmxlID09PSBcInN0cmluZ1wiKSB7Ly9zaW1wbGUgZGVjbGFyZVxyXG4gICAgICAgIHZhciB0eXBlID0gZWRpdGFibGUgPT09IHRydWUgPyAndGV4dCcgOiBlZGl0YWJsZTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8aW5wdXQgey4uLmF0dHJ9IHR5cGU9e3R5cGV9IGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KGVkaXRvckNsYXNzfHxcIlwiKStcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwifS8+XHJcbiAgICAgICAgKVxyXG4gICAgfSBlbHNlIGlmICghZWRpdGFibGUpIHtcclxuICAgICAgICB2YXIgdHlwZSA9IGVkaXRhYmxlID09PSB0cnVlID8gJ3RleHQnIDogZWRpdGFibGU7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGlucHV0IHsuLi5hdHRyfSB0eXBlPXt0eXBlfSBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX0gZGlzYWJsZWQ9J2Rpc2FibGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KGVkaXRvckNsYXNzfHxcIlwiKStcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwifS8+XHJcbiAgICAgICAgKVxyXG4gICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlKSB7Ly9zdGFuZGFyZCBkZWNsYXJlXHJcbiAgICAgICAgLy9wdXQgc3R5bGUgaWYgZXhpc3RcclxuICAgICAgICBlZGl0YWJsZS5zdHlsZSAmJiAoYXR0ci5zdHlsZSA9IGVkaXRhYmxlLnN0eWxlKTtcclxuXHJcbiAgICAgICAgLy9wdXQgY2xhc3MgaWYgZXhpc3RcclxuICAgICAgICBhdHRyLmNsYXNzTmFtZSA9IChlZGl0b3JDbGFzcyB8fCBcIlwiKSArXHJcbiAgICAgICAgICAgIFwiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC1cIiArXHJcbiAgICAgICAgICAgIGVkaXRhYmxlLnR5cGUgK1xyXG4gICAgICAgICAgICAoZWRpdGFibGUuY2xhc3NOYW1lID8gKFwiIFwiICsgZWRpdGFibGUuY2xhc3NOYW1lKSA6IFwiXCIpO1xyXG5cclxuICAgICAgICBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3NlbGVjdCcpIHsvL3Byb2Nlc3Mgc2VsZWN0IGlucHV0XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gW10sIHZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7Ly9vbmx5IGNhbiB1c2UgYXJycmF5IGRhdGEgZm9yIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIHZhciByb3dWYWx1ZTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93VmFsdWUgPSBmb3JtYXQgPyBmb3JtYXQoZCkgOiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXsnb3B0aW9uJytpfSB2YWx1ZT17ZH0+e3Jvd1ZhbHVlfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0IHsuLi5hdHRyfSBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX0+e29wdGlvbnN9PC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlID09PSAndGV4dGFyZWEnKSB7Ly9wcm9jZXNzIHRleHRhcmVhIGlucHV0XHJcbiAgICAgICAgICAgIC8vcHV0ICBvdGhlciBpZiBleGlzdFxyXG4gICAgICAgICAgICBlZGl0YWJsZS5jb2xzICYmIChhdHRyLmNvbHMgPSBlZGl0YWJsZS5jb2xzKTtcclxuICAgICAgICAgICAgZWRpdGFibGUucm93cyAmJiAoYXR0ci5yb3dzID0gZWRpdGFibGUucm93cyk7XHJcbiAgICAgICAgICAgIHZhciBrZXlVcEhhbmRsZXIgPSBhdHRyLm9uS2V5RG93biwgc2F2ZUJ0biA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChrZXlVcEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIGF0dHIub25LZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlICE9IDEzKSB7IC8vbm90IFByZXNzZWQgRU5URVJcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5VXBIYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBzYXZlQnRuID0gPGJ1dHRvIGNsYXNzTmFtZT1cImJ0biBidG4taW5mbyBidG4teHMgdGV4dGFyZWEtc2F2ZS1idG5cIiBvbkNsaWNrPXtrZXlVcEhhbmRsZXJ9PnNhdmU8L2J1dHRvPlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgey4uLmF0dHJ9IGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfT48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgICAgIHtzYXZlQnRufVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWVzID0gJ3RydWU6ZmFsc2UnO1xyXG4gICAgICAgICAgICBpZiAoZWRpdGFibGUub3B0aW9ucyAmJiBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gdmFsdWVzID0gZWRpdGFibGUub3B0aW9ucy52YWx1ZXMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lID0gYXR0ci5jbGFzc05hbWUucmVwbGFjZSgnZm9ybS1jb250cm9sJywgJycpO1xyXG4gICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSArPSAnIGNoZWNrYm94IHB1bGwtcmlnaHQnO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNoZWNrZWQgPSBkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkgPT0gdmFsdWVzLnNwbGl0KCc6JylbMF0gPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHsuLi5hdHRyfSB0eXBlPSdjaGVja2JveCcgdmFsdWU9e3ZhbHVlc30gZGVmYXVsdENoZWNrZWQ9e2NoZWNrZWR9Lz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdzd2l0Y2gnKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZXMgPSAndHJ1ZTpmYWxzZSc7XHJcbiAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lID0gYXR0ci5jbGFzc05hbWUucmVwbGFjZSgnZm9ybS1jb250cm9sJywgJycpO1xyXG4gICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSArPSAnIGNoZWNrYm94IHB1bGwtcmlnaHQnO1xyXG4gICAgICAgICAgICBsZXQgY2hlY2tlZCA9IGRlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUudG9TdHJpbmcoKSA9PSB2YWx1ZXMuc3BsaXQoJzonKVswXSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxTd2l0Y2ggY2xhc3NOYW1lPXthdHRyLmNsYXNzTmFtZX0gZGVmYXVsdENoZWNrZWQ9e2NoZWNrZWR9Lz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3JlYWN0LXNlbGVjdCcpIHtcclxuICAgICAgICAgICAgbGV0IG11bHRpT3B0ID0gdHlwZW9mIGVkaXRhYmxlLm9wdGlvbnMubXVsdGkgIT09ICd1bmRlZmluZWQnID8gZWRpdGFibGUub3B0aW9ucy5tdWx0aSA6IGZhbHNlXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8U2VsZWN0IGNsYXNzTmFtZT1cInB1bGwtcmlnaHRcIiBvcHRpb25zPXtlZGl0YWJsZS5vcHRpb25zLnZhbHVlc30gbXVsdGk9e211bHRpT3B0fSBzaW1wbGVWYWx1ZT17dHJ1ZX0vPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSBlbHNlIHsvL3Byb2Nlc3Mgb3RoZXIgaW5wdXQgdHlwZS4gYXMgcGFzc3dvcmQsdXJsLGVtYWlsLi4uXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgey4uLmF0dHJ9IHR5cGU9e3R5cGV9IGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfS8+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2RlZmF1bHQgcmV0dXJuIGZvciBvdGhlciBjYXNlIG9mIGVkaXRhYmxlXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxpbnB1dCB7Li4uYXR0cn0gdHlwZT1cInRleHRcIiBjbGFzc05hbWU9eyhlZGl0b3JDbGFzc3x8XCJcIikrXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIn0vPlxyXG4gICAgKVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9FZGl0b3IuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIFRvYXN0Q29udGFpbmVyLFxyXG4gIFRvYXN0TWVzc2FnZSxcclxufSBmcm9tIFwicmVhY3QtdG9hc3RyXCI7XHJcblxyXG5cclxudmFyIFRvYXN0ck1lc3NhZ2VGYWN0b3J5PVJlYWN0LmNyZWF0ZUZhY3RvcnkoVG9hc3RNZXNzYWdlLmFuaW1hdGlvbik7XHJcblxyXG5jbGFzcyBOb3RpZmljYXRpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcbiAgLy8gYWxsb3cgdHlwZSBpcyBzdWNjZXNzLGluZm8sd2FybmluZyxlcnJvclxyXG4gIG5vdGljZSh0eXBlLG1zZyx0aXRsZSl7XHJcbiAgICB0aGlzLnJlZnMudG9hc3RyW3R5cGVdKFxyXG4gICAgICAgIG1zZyx0aXRsZSwge1xyXG4gICAgICAgICAgbW9kZTonc2luZ2xlJyxcclxuICAgICAgICAgIHRpbWVPdXQ6IDUwMDAsXHJcbiAgICAgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDAsXHJcbiAgICAgICAgICBzaG93QW5pbWF0aW9uOiBcImFuaW1hdGVkICBib3VuY2VJblwiLFxyXG4gICAgICAgICAgaGlkZUFuaW1hdGlvbjogXCJhbmltYXRlZCBib3VuY2VPdXRcIlxyXG4gICAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCl7XHJcbiAgICByZXR1cm4oXHJcbiAgICAgICAgPFRvYXN0Q29udGFpbmVyIHJlZj1cInRvYXN0clwiIHRvYXN0TWVzc2FnZUZhY3Rvcnk9e1RvYXN0ck1lc3NhZ2VGYWN0b3J5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0b2FzdC1jb250YWluZXJcIiAgY2xhc3NOYW1lPVwidG9hc3QtdG9wLXJpZ2h0XCI+PC9Ub2FzdENvbnRhaW5lcj5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvTm90aWZpY2F0aW9uLmpzXG4gKiovIiwiaW1wb3J0IENvbnN0IGZyb20gXCIuLi9Db25zdFwiO1xyXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xyXG5cclxuZnVuY3Rpb24gX3NvcnQoYXJyLCBzb3J0RmllbGQsIG9yZGVyLCBzb3J0RnVuYykge1xyXG4gIG9yZGVyID0gb3JkZXIudG9Mb3dlckNhc2UoKTtcclxuICBhcnIuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgaWYgKHNvcnRGdW5jKSB7XHJcbiAgICAgIHJldHVybiBzb3J0RnVuYyhhLCBiLCBvcmRlciwgc29ydEZpZWxkKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChvcmRlciA9PSBDb25zdC5TT1JUX0RFU0MpIHtcclxuICAgICAgICByZXR1cm4gYVtzb3J0RmllbGRdID4gYltzb3J0RmllbGRdID8gLTEgOiAoKGFbc29ydEZpZWxkXSA8IGJbc29ydEZpZWxkXSkgPyAxIDogMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGFbc29ydEZpZWxkXSA8IGJbc29ydEZpZWxkXSA/IC0xIDogKChhW3NvcnRGaWVsZF0gPiBiW3NvcnRGaWVsZF0pID8gMSA6IDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBhcnI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJsZURhdGFTZXQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgIHN1cGVyKGRhdGEpO1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICB9XHJcblxyXG4gIHNldERhdGEoZGF0YSkge1xyXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBkYXRhKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGdldERhdGEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhYmxlRGF0YVN0b3JlIHtcclxuXHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuY29sSW5mb3MgPSBudWxsO1xyXG4gICAgdGhpcy5maWx0ZXJlZERhdGEgPSBudWxsO1xyXG4gICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XHJcbiAgICB0aGlzLmZpbHRlck9iaiA9IG51bGw7XHJcbiAgICB0aGlzLnNlYXJjaFRleHQgPSBudWxsO1xyXG4gICAgdGhpcy5zb3J0T2JqID0gbnVsbDtcclxuICAgIHRoaXMucGFnZU9iaiA9IHt9O1xyXG4gICAgdGhpcy5zZWxlY3RlZCA9IFtdO1xyXG4gICAgdGhpcy5tdWx0aUNvbHVtblNlYXJjaCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93T25seVNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnJlbW90ZSA9IGZhbHNlOyAvLyByZW1vdGUgZGF0YVxyXG4gIH1cclxuXHJcbiAgc2V0UHJvcHMocHJvcHMpIHtcclxuICAgIHRoaXMua2V5RmllbGQgPSBwcm9wcy5rZXlGaWVsZDtcclxuICAgIHRoaXMuZW5hYmxlUGFnaW5hdGlvbiA9IHByb3BzLmlzUGFnaW5hdGlvbjtcclxuICAgIHRoaXMuY29sSW5mb3MgPSBwcm9wcy5jb2xJbmZvcztcclxuICAgIHRoaXMucmVtb3RlID0gcHJvcHMucmVtb3RlO1xyXG4gICAgdGhpcy5tdWx0aUNvbHVtblNlYXJjaCA9IHByb3BzLm11bHRpQ29sdW1uU2VhcmNoO1xyXG4gIH1cclxuXHJcbiAgc2V0RGF0YShkYXRhKSB7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xyXG4gICAgICBpZiAobnVsbCAhPT0gdGhpcy5maWx0ZXJPYmopIHRoaXMuZmlsdGVyKHRoaXMuZmlsdGVyT2JqKTtcclxuICAgICAgaWYgKG51bGwgIT09IHRoaXMuc2VhcmNoVGV4dCkgdGhpcy5zZWFyY2godGhpcy5zZWFyY2hUZXh0KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNvcnRPYmopIHtcclxuICAgICAgdGhpcy5zb3J0KHRoaXMuc29ydE9iai5vcmRlciwgdGhpcy5zb3J0T2JqLnNvcnRGaWVsZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTb3J0SW5mbygpIHtcclxuICAgIHJldHVybiB0aGlzLnNvcnRPYmo7XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZFJvd0tleShzZWxlY3RlZFJvd0tleXMpIHtcclxuICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZFJvd0tleXM7XHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RlZFJvd0tleXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZDtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnREaXNwbGF5RGF0YSgpIHtcclxuICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHJldHVybiB0aGlzLmZpbHRlcmVkRGF0YTtcclxuICAgIGVsc2UgcmV0dXJuIHRoaXMuZGF0YTtcclxuICB9XHJcblxyXG4gIGlnbm9yZU5vblNlbGVjdGVkKCkge1xyXG4gICAgdGhpcy5zaG93T25seVNlbGVjdGVkID0gIXRoaXMuc2hvd09ubHlTZWxlY3RlZDtcclxuICAgIGlmKHRoaXMuc2hvd09ubHlTZWxlY3RlZCl7XHJcbiAgICAgIHRoaXMuaXNPbkZpbHRlciA9IHRydWU7XHJcbiAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gdGhpcy5kYXRhLmZpbHRlciggcm93ID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5zZWxlY3RlZC5maW5kKHggPT4gcm93W3RoaXMua2V5RmllbGRdID09PSB4KVxyXG4gICAgICAgIHJldHVybiB0eXBlb2YgcmVzdWx0ICE9PSAndW5kZWZpbmVkJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNvcnQob3JkZXIsIHNvcnRGaWVsZCkge1xyXG4gICAgdGhpcy5zb3J0T2JqID0ge1xyXG4gICAgICBvcmRlcjogb3JkZXIsXHJcbiAgICAgIHNvcnRGaWVsZDogc29ydEZpZWxkXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xyXG4gICAgaWYoIXRoaXMuY29sSW5mb3Nbc29ydEZpZWxkXSkgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgY29uc3QgeyBzb3J0RnVuYyB9ID0gdGhpcy5jb2xJbmZvc1tzb3J0RmllbGRdO1xyXG4gICAgY3VycmVudERpc3BsYXlEYXRhID0gX3NvcnQoY3VycmVudERpc3BsYXlEYXRhLCBzb3J0RmllbGQsIG9yZGVyLCBzb3J0RnVuYyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwYWdlKHBhZ2UsIHNpemVQZXJQYWdlKSB7XHJcbiAgICB0aGlzLnBhZ2VPYmouZW5kID0gcGFnZSAqIHNpemVQZXJQYWdlIC0gMTtcclxuICAgIHRoaXMucGFnZU9iai5zdGFydCA9IHRoaXMucGFnZU9iai5lbmQgLSAoc2l6ZVBlclBhZ2UgLSAxKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZWRpdChuZXdWYWwsIHJvd0luZGV4LCBmaWVsZE5hbWUpIHtcclxuICAgIGxldCBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xyXG4gICAgbGV0IHJvd0tleUNhY2hlO1xyXG4gICAgaWYgKCF0aGlzLmVuYWJsZVBhZ2luYXRpb24pIHtcclxuICAgICAgY3VycmVudERpc3BsYXlEYXRhW3Jvd0luZGV4XVtmaWVsZE5hbWVdID0gbmV3VmFsO1xyXG4gICAgICByb3dLZXlDYWNoZSA9IGN1cnJlbnREaXNwbGF5RGF0YVtyb3dJbmRleF1bdGhpcy5rZXlGaWVsZF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdXJyZW50RGlzcGxheURhdGFbdGhpcy5wYWdlT2JqLnN0YXJ0ICsgcm93SW5kZXhdW2ZpZWxkTmFtZV0gPSBuZXdWYWw7XHJcbiAgICAgIHJvd0tleUNhY2hlID0gY3VycmVudERpc3BsYXlEYXRhW3RoaXMucGFnZU9iai5zdGFydCArIHJvd0luZGV4XVt0aGlzLmtleUZpZWxkXTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcclxuICAgICAgdGhpcy5kYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgIGlmIChyb3dbdGhpcy5rZXlGaWVsZF0gPT09IHJvd0tleUNhY2hlKSB7XHJcbiAgICAgICAgICByb3dbZmllbGROYW1lXSA9IG5ld1ZhbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIHRoaXMpO1xyXG4gICAgICBpZiAobnVsbCAhPT0gdGhpcy5maWx0ZXJPYmopIHRoaXMuZmlsdGVyKHRoaXMuZmlsdGVyT2JqKTtcclxuICAgICAgaWYgKG51bGwgIT09IHRoaXMuc2VhcmNoVGV4dCkgdGhpcy5zZWFyY2godGhpcy5zZWFyY2hUZXh0KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgYWRkQXRCZWdpbihuZXdPYmopIHtcclxuICAgIGlmICghbmV3T2JqW3RoaXMua2V5RmllbGRdIHx8IG5ld09ialt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpID09PSAnJykge1xyXG4gICAgICB0aHJvdyB0aGlzLmtleUZpZWxkICsgXCIgY2FuJ3QgYmUgZW1wdHkgdmFsdWUuXCI7XHJcbiAgICB9XHJcbiAgICBsZXQgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcclxuICAgIGN1cnJlbnREaXNwbGF5RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgaWYgKHJvd1t0aGlzLmtleUZpZWxkXS50b1N0cmluZygpID09PSBuZXdPYmpbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSkge1xyXG4gICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBcIiArIG5ld09ialt0aGlzLmtleUZpZWxkXSArIFwiIGFscmVhZHkgZXhpc3RzXCI7XHJcbiAgICAgIH1cclxuICAgIH0sIHRoaXMpO1xyXG4gICAgY29uc29sZS5sb2coJ0BAJyk7XHJcbiAgICBjdXJyZW50RGlzcGxheURhdGEudW5zaGlmdChuZXdPYmopO1xyXG4gICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xyXG4gICAgICB0aGlzLmRhdGEudW5zaGlmdChuZXdPYmopO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkKG5ld09iaikge1xyXG4gICAgaWYgKCFuZXdPYmpbdGhpcy5rZXlGaWVsZF0gfHwgbmV3T2JqW3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkgPT09ICcnKSB7XHJcbiAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBjYW4ndCBiZSBlbXB0eSB2YWx1ZS5cIjtcclxuICAgIH1cclxuICAgIGxldCBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xyXG4gICAgY3VycmVudERpc3BsYXlEYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICBpZiAocm93W3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkgPT09IG5ld09ialt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpKSB7XHJcbiAgICAgICAgdGhyb3cgdGhpcy5rZXlGaWVsZCArIFwiIFwiICsgbmV3T2JqW3RoaXMua2V5RmllbGRdICsgXCIgYWxyZWFkeSBleGlzdHNcIjtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgY3VycmVudERpc3BsYXlEYXRhLnB1c2gobmV3T2JqKTtcclxuICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcclxuICAgICAgdGhpcy5kYXRhLnB1c2gobmV3T2JqKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZShyb3dLZXkpIHtcclxuICAgIGxldCBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xyXG4gICAgbGV0IHJlc3VsdCA9IGN1cnJlbnREaXNwbGF5RGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICByZXR1cm4gcm93S2V5LmluZGV4T2Yocm93W3RoaXMua2V5RmllbGRdKSA9PSAtMTtcclxuICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcclxuICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgcmV0dXJuIHJvd0tleS5pbmRleE9mKHJvd1t0aGlzLmtleUZpZWxkXSkgPT0gLTE7XHJcbiAgICAgIH0sIHRoaXMpO1xyXG4gICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IHJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZGF0YSA9IHJlc3VsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpbHRlcihmaWx0ZXJPYmopIHtcclxuICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJPYmopLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gbnVsbDtcclxuICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZmlsdGVyT2JqID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmlsdGVyT2JqID0gZmlsdGVyT2JqO1xyXG4gICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoIHJvdyA9PiB7XHJcbiAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICBsZXQgZmlsdGVyVmFsO1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBmaWx0ZXJPYmopIHtcclxuICAgICAgICAgIGxldCB0YXJnZXRWYWwgPSByb3dba2V5XTtcclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKGZpbHRlck9ialtrZXldLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVI6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJPYmpba2V5XS52YWx1ZS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5DVVNUT006XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSAodHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcIm9iamVjdFwiKSA/XHJcbiAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCA6XHJcbiAgICAgICAgICAgICAgICAgICh0eXBlb2YgZmlsdGVyT2JqW2tleV0udmFsdWUgPT09IFwic3RyaW5nXCIpID8gZmlsdGVyT2JqW2tleV0udmFsdWUudG9Mb3dlckNhc2UoKSA6IGZpbHRlck9ialtrZXldLnZhbHVlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSAodHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcInN0cmluZ1wiKSA/IGZpbHRlck9ialtrZXldLnZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmaWx0ZXJPYmpba2V5XS52YWx1ZTtcclxuICAgICAgICAgICAgICBpZiAoZmlsdGVyVmFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkIGZpbHRlclxyXG4gICAgICAgICAgICAgICAgZmlsdGVyVmFsID0gZmlsdGVyT2JqW2tleV0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5jb2xJbmZvc1trZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZm9ybWF0LCBmaWx0ZXJGb3JtYXR0ZWQsIGZvcm1hdEV4dHJhRGF0YSB9ID0gdGhpcy5jb2xJbmZvc1trZXldO1xyXG4gICAgICAgICAgICBpZihmaWx0ZXJGb3JtYXR0ZWQgJiYgZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgdGFyZ2V0VmFsID0gZm9ybWF0KHJvd1trZXldLCByb3csIGZvcm1hdEV4dHJhRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKGZpbHRlck9ialtrZXldLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVI6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB2YWxpZCA9IHRoaXMuZmlsdGVyTnVtYmVyKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBmaWx0ZXJPYmpba2V5XS52YWx1ZS5jb21wYXJhdG9yKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLkRBVEU6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB2YWxpZCA9IHRoaXMuZmlsdGVyRGF0ZSh0YXJnZXRWYWwsIGZpbHRlclZhbCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5DVVNUT006XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB2YWxpZCA9IHRoaXMuZmlsdGVyQ3VzdG9tKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBmaWx0ZXJPYmpba2V5XS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgIHZhbGlkID0gdGhpcy5maWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCF2YWxpZCkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5pc09uRmlsdGVyID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpbHRlck51bWJlcih0YXJnZXRWYWwsIGZpbHRlclZhbCwgY29tcGFyYXRvcikge1xyXG4gICAgbGV0IHZhbGlkID0gdHJ1ZTtcclxuICAgIHN3aXRjaCAoY29tcGFyYXRvcikge1xyXG4gICAgICBjYXNlIFwiPVwiOlxyXG4gICAgICB7XHJcbiAgICAgICAgaWYgKHRhcmdldFZhbCAhPSBmaWx0ZXJWYWwpIHtcclxuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCI+XCI6XHJcbiAgICAgIHtcclxuICAgICAgICBpZiAodGFyZ2V0VmFsIDw9IGZpbHRlclZhbCkge1xyXG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcIj49XCI6XHJcbiAgICAgIHtcclxuICAgICAgICBpZiAodGFyZ2V0VmFsIDwgZmlsdGVyVmFsKSB7XHJcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwiPFwiOlxyXG4gICAgICB7XHJcbiAgICAgICAgaWYgKHRhcmdldFZhbCA+PSBmaWx0ZXJWYWwpIHtcclxuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCI8PVwiOlxyXG4gICAgICB7XHJcbiAgICAgICAgaWYgKHRhcmdldFZhbCA+IGZpbHRlclZhbCkge1xyXG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcIiE9XCI6XHJcbiAgICAgIHtcclxuICAgICAgICBpZiAodGFyZ2V0VmFsID09IGZpbHRlclZhbCkge1xyXG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJOdW1iZXIgY29tcGFyYXRvciBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsaWQ7XHJcbiAgfVxyXG5cclxuICBmaWx0ZXJEYXRlKHRhcmdldFZhbCwgZmlsdGVyVmFsKSB7XHJcbiAgICByZXR1cm4gKHRhcmdldFZhbC5nZXREYXRlKCkgPT0gZmlsdGVyVmFsLmdldERhdGUoKSAmJlxyXG4gICAgICAgIHRhcmdldFZhbC5nZXRNb250aCgpID09IGZpbHRlclZhbC5nZXRNb250aCgpICYmXHJcbiAgICAgICAgdGFyZ2V0VmFsLmdldEZ1bGxZZWFyKCkgPT0gZmlsdGVyVmFsLmdldEZ1bGxZZWFyKCkpO1xyXG4gIH1cclxuXHJcbiAgZmlsdGVyQ3VzdG9tKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBjYWxsYmFja0luZm8pIHtcclxuICAgIGlmIChjYWxsYmFja0luZm8gIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2tJbmZvID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgIHJldHVybiBjYWxsYmFja0luZm8uY2FsbGJhY2sodGFyZ2V0VmFsLCBjYWxsYmFja0luZm8uY2FsbGJhY2tQYXJhbWV0ZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmlsdGVyVGV4dCh0YXJnZXRWYWwsIGZpbHRlclZhbCk7XHJcbiAgfVxyXG5cclxuICBmaWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKSB7XHJcbiAgICBpZiAodGFyZ2V0VmFsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZpbHRlclZhbCkgPT0gLTEpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyogR2VuZXJhbCBzZWFyY2ggZnVuY3Rpb25cclxuICAgKiBJdCB3aWxsIHNlYXJjaCBmb3IgdGhlIHRleHQgaWYgdGhlIGlucHV0IGluY2x1ZGVzIHRoYXQgdGV4dDtcclxuICAgKiBJdCB3aWxsIHNlYXJjaCBmb3IgZXhhY3QgbnVtYmVyIGlmIHRoZSBpbnB1dCBpcyB0aGF0IG51bWJlclxyXG4gICAqL1xyXG4gIHNlYXJjaChzZWFyY2hUZXh0KSB7XHJcbiAgICBpZiAoc2VhcmNoVGV4dC50cmltKCkgPT09IFwiXCIpIHtcclxuICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSBudWxsO1xyXG4gICAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VhcmNoVGV4dCA9IHNlYXJjaFRleHQ7XHJcbiAgICAgIGxldCBzZWFyY2hUZXh0QXJyYXkgPSBbXTtcclxuXHJcbiAgICAgIGlmICh0aGlzLm11bHRpQ29sdW1uU2VhcmNoKSB7XHJcbiAgICAgICAgc2VhcmNoVGV4dEFycmF5ID0gc2VhcmNoVGV4dC5zcGxpdCgnICcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlYXJjaFRleHRBcnJheS5wdXNoKHNlYXJjaFRleHQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoIHJvdyA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJvdyk7XHJcbiAgICAgICAgbGV0IHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgLy8gZm9yIGxvb3BzIGFyZSB1Z2x5LCBidXQgcGVyZm9ybWFuY2UgbWF0dGVycyBoZXJlLlxyXG4gICAgICAgIC8vIEFuZCB5b3UgY2FudCBicmVhayBmcm9tIGEgZm9yRWFjaC5cclxuICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9mb3ItdnMtZm9yZWFjaC82NlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBrZXlzTGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBrZXlzTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICBpZiAodGhpcy5jb2xJbmZvc1trZXldICYmIHJvd1trZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZm9ybWF0LCBmaWx0ZXJGb3JtYXR0ZWQsIGZvcm1hdEV4dHJhRGF0YSwgc2VhcmNoYWJsZSwgaGlkZGVuIH0gPSB0aGlzLmNvbEluZm9zW2tleV07XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRWYWwgPSByb3dba2V5XTtcclxuICAgICAgICAgICAgaWYgKCFoaWRkZW4gJiYgc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICAgIGlmIChmaWx0ZXJGb3JtYXR0ZWQgJiYgZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRWYWwgPSBmb3JtYXQodGFyZ2V0VmFsLCByb3csIGZvcm1hdEV4dHJhRGF0YSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCB0ZXh0TGVuZ3RoID0gc2VhcmNoVGV4dEFycmF5Lmxlbmd0aDsgaiA8IHRleHRMZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyVmFsID0gc2VhcmNoVGV4dEFycmF5W2pdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0VmFsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZpbHRlclZhbCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuaXNPbkZpbHRlciA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkge1xyXG4gICAgbGV0IF9kYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcclxuICAgIHJldHVybiBfZGF0YTtcclxuICB9XHJcblxyXG4gIGdldCgpIHtcclxuICAgIGxldCBfZGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XHJcblxyXG4gICAgaWYgKF9kYXRhLmxlbmd0aCA9PSAwKSByZXR1cm4gX2RhdGE7XHJcblxyXG4gICAgaWYgKHRoaXMucmVtb3RlIHx8ICF0aGlzLmVuYWJsZVBhZ2luYXRpb24pIHtcclxuICAgICAgcmV0dXJuIF9kYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5wYWdlT2JqLnN0YXJ0OyBpIDw9IHRoaXMucGFnZU9iai5lbmQ7IGkrKykge1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKF9kYXRhW2ldKTtcclxuICAgICAgICBpZiAoaSArIDEgPT0gX2RhdGEubGVuZ3RoKWJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRLZXlGaWVsZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmtleUZpZWxkO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YU51bSgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIGlzQ2hhbmdlZFBhZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYWdlT2JqLnN0YXJ0ICYmIHRoaXMucGFnZU9iai5lbmQgPyB0cnVlIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnZXRBbGxSb3drZXkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgIHJldHVybiByb3dbdGhpcy5rZXlGaWVsZF07XHJcbiAgICB9LCB0aGlzKTtcclxuICB9XHJcblxyXG59XHJcbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc3RvcmUvVGFibGVEYXRhU3RvcmUuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9Td2l0Y2gnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zd2l0Y2gvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfcmVhY3RJbnB1dEF1dG9zaXplID0gcmVxdWlyZSgncmVhY3QtaW5wdXQtYXV0b3NpemUnKTtcblxudmFyIF9yZWFjdElucHV0QXV0b3NpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RJbnB1dEF1dG9zaXplKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MgPSByZXF1aXJlKCcuL3V0aWxzL3N0cmlwRGlhY3JpdGljcycpO1xuXG52YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzU3RyaXBEaWFjcml0aWNzKTtcblxudmFyIF9Bc3luYyA9IHJlcXVpcmUoJy4vQXN5bmMnKTtcblxudmFyIF9Bc3luYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Bc3luYyk7XG5cbnZhciBfT3B0aW9uID0gcmVxdWlyZSgnLi9PcHRpb24nKTtcblxudmFyIF9PcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0aW9uKTtcblxudmFyIF9WYWx1ZSA9IHJlcXVpcmUoJy4vVmFsdWUnKTtcblxudmFyIF9WYWx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WYWx1ZSk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeVZhbHVlKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cbn1cblxudmFyIHN0cmluZ09yTm9kZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlXSk7XG5cbnZhciBTZWxlY3QgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXG5cdGRpc3BsYXlOYW1lOiAnU2VsZWN0JyxcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRhZGRMYWJlbFRleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwbGFjZWhvbGRlciBkaXNwbGF5ZWQgd2hlbiB5b3Ugd2FudCB0byBhZGQgYSBsYWJlbCBvbiBhIG11bHRpLXZhbHVlIGlucHV0XG5cdFx0YWxsb3dDcmVhdGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBhbGxvdyBjcmVhdGlvbiBvZiBuZXcgZW50cmllc1xuXHRcdGF1dG9CbHVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdFx0YXV0b2ZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIGF1dG9mb2N1cyB0aGUgY29tcG9uZW50IG9uIG1vdW50XG5cdFx0YmFja3NwYWNlUmVtb3ZlczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIGJhY2tzcGFjZSByZW1vdmVzIGFuIGl0ZW0gaWYgdGhlcmUgaXMgbm8gdGV4dCBpbnB1dFxuXHRcdGNsYXNzTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSBmb3IgdGhlIG91dGVyIGVsZW1lbnRcblx0XHRjbGVhckFsbFRleHQ6IHN0cmluZ09yTm9kZSwgLy8gdGl0bGUgZm9yIHRoZSBcImNsZWFyXCIgY29udHJvbCB3aGVuIG11bHRpOiB0cnVlXG5cdFx0Y2xlYXJWYWx1ZVRleHQ6IHN0cmluZ09yTm9kZSwgLy8gdGl0bGUgZm9yIHRoZSBcImNsZWFyXCIgY29udHJvbFxuXHRcdGNsZWFyYWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBzaG91bGQgaXQgYmUgcG9zc2libGUgdG8gcmVzZXQgdmFsdWVcblx0XHRkZWxpbWl0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBkZWxpbWl0ZXIgdG8gdXNlIHRvIGpvaW4gbXVsdGlwbGUgdmFsdWVzIGZvciB0aGUgaGlkZGVuIGZpZWxkIHZhbHVlXG5cdFx0ZGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0aGUgU2VsZWN0IGlzIGRpc2FibGVkIG9yIG5vdFxuXHRcdGVzY2FwZUNsZWFyc1ZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgZXNjYXBlIGNsZWFycyB0aGUgdmFsdWUgd2hlbiB0aGUgbWVudSBpcyBjbG9zZWRcblx0XHRmaWx0ZXJPcHRpb246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGZpbHRlciBhIHNpbmdsZSBvcHRpb24gKG9wdGlvbiwgZmlsdGVyU3RyaW5nKVxuXHRcdGZpbHRlck9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBib29sZWFuIHRvIGVuYWJsZSBkZWZhdWx0IGZpbHRlcmluZyBvciBmdW5jdGlvbiB0byBmaWx0ZXIgdGhlIG9wdGlvbnMgYXJyYXkgKFtvcHRpb25zXSwgZmlsdGVyU3RyaW5nLCBbdmFsdWVzXSlcblx0XHRpZ25vcmVBY2NlbnRzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gc3RyaXAgZGlhY3JpdGljcyB3aGVuIGZpbHRlcmluZ1xuXHRcdGlnbm9yZUNhc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBwZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgZmlsdGVyaW5nXG5cdFx0aW5wdXRQcm9wczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsIC8vIGN1c3RvbSBhdHRyaWJ1dGVzIGZvciB0aGUgSW5wdXRcblx0XHRpc0xvYWRpbmc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0aGUgU2VsZWN0IGlzIGxvYWRpbmcgZXh0ZXJuYWxseSBvciBub3QgKHN1Y2ggYXMgb3B0aW9ucyBiZWluZyBsb2FkZWQpXG5cdFx0bGFiZWxLZXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwYXRoIG9mIHRoZSBsYWJlbCB2YWx1ZSBpbiBvcHRpb24gb2JqZWN0c1xuXHRcdG1hdGNoUG9zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gKGFueXxzdGFydCkgbWF0Y2ggdGhlIHN0YXJ0IG9yIGVudGlyZSBzdHJpbmcgd2hlbiBmaWx0ZXJpbmdcblx0XHRtYXRjaFByb3A6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyAoYW55fGxhYmVsfHZhbHVlKSB3aGljaCBvcHRpb24gcHJvcGVydHkgdG8gZmlsdGVyIG9uXG5cdFx0bWVudUJ1ZmZlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsIC8vIG9wdGlvbmFsIGJ1ZmZlciAoaW4gcHgpIGJldHdlZW4gdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQgYW5kIHRoZSBib3R0b20gb2YgdGhlIG1lbnVcblx0XHRtZW51Q29udGFpbmVyU3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgbWVudSBjb250YWluZXJcblx0XHRtZW51U3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgbWVudVxuXHRcdG11bHRpOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIG11bHRpLXZhbHVlIGlucHV0XG5cdFx0bmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGdlbmVyYXRlcyBhIGhpZGRlbiA8aW5wdXQgLz4gdGFnIHdpdGggdGhpcyBmaWVsZCBuYW1lIGZvciBodG1sIGZvcm1zXG5cdFx0bmV3T3B0aW9uQ3JlYXRvcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmYWN0b3J5IHRvIGNyZWF0ZSBuZXcgb3B0aW9ucyB3aGVuIGFsbG93Q3JlYXRlIHNldFxuXHRcdG5vUmVzdWx0c1RleHQ6IHN0cmluZ09yTm9kZSwgLy8gcGxhY2Vob2xkZXIgZGlzcGxheWVkIHdoZW4gdGhlcmUgYXJlIG5vIG1hdGNoaW5nIHNlYXJjaCByZXN1bHRzXG5cdFx0b25CbHVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQmx1ciBoYW5kbGVyOiBmdW5jdGlvbiAoZXZlbnQpIHt9XG5cdFx0b25CbHVyUmVzZXRzSW5wdXQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciBpbnB1dCBpcyBjbGVhcmVkIG9uIGJsdXJcblx0XHRvbkNoYW5nZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkNoYW5nZSBoYW5kbGVyOiBmdW5jdGlvbiAobmV3VmFsdWUpIHt9XG5cdFx0b25DbG9zZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIGNsb3NlZFxuXHRcdG9uRm9jdXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25Gb2N1cyBoYW5kbGVyOiBmdW5jdGlvbiAoZXZlbnQpIHt9XG5cdFx0b25JbnB1dENoYW5nZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbklucHV0Q2hhbmdlIGhhbmRsZXI6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7fVxuXHRcdG9uTWVudVNjcm9sbFRvQm90dG9tOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIGZpcmVzIHdoZW4gdGhlIG1lbnUgaXMgc2Nyb2xsZWQgdG8gdGhlIGJvdHRvbTsgY2FuIGJlIHVzZWQgdG8gcGFnaW5hdGUgb3B0aW9uc1xuXHRcdG9uT3BlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIG9wZW5lZFxuXHRcdG9uVmFsdWVDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkNsaWNrIGhhbmRsZXIgZm9yIHZhbHVlIGxhYmVsczogZnVuY3Rpb24gKHZhbHVlLCBldmVudCkge31cblx0XHRvcHRpb25Db21wb25lbnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb3B0aW9uIGNvbXBvbmVudCB0byByZW5kZXIgaW4gZHJvcGRvd25cblx0XHRvcHRpb25SZW5kZXJlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvcHRpb25SZW5kZXJlcjogZnVuY3Rpb24gKG9wdGlvbikge31cblx0XHRvcHRpb25zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LCAvLyBhcnJheSBvZiBvcHRpb25zXG5cdFx0cGxhY2Vob2xkZXI6IHN0cmluZ09yTm9kZSwgLy8gZmllbGQgcGxhY2Vob2xkZXIsIGRpc3BsYXllZCB3aGVuIHRoZXJlJ3Mgbm8gdmFsdWVcblx0XHRyZXF1aXJlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBhcHBsaWVzIEhUTUw1IHJlcXVpcmVkIGF0dHJpYnV0ZSB3aGVuIG5lZWRlZFxuXHRcdHNjcm9sbE1lbnVJbnRvVmlldzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBib29sZWFuIHRvIGVuYWJsZSB0aGUgdmlld3BvcnQgdG8gc2hpZnQgc28gdGhhdCB0aGUgZnVsbCBtZW51IGZ1bGx5IHZpc2libGUgd2hlbiBlbmdhZ2VkXG5cdFx0c2VhcmNoYWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIGVuYWJsZSBzZWFyY2hpbmcgZmVhdHVyZSBvciBub3Rcblx0XHRzaW1wbGVWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBwYXNzIHRoZSB2YWx1ZSB0byBvbkNoYW5nZSBhcyBhIHNpbXBsZSB2YWx1ZSAobGVnYWN5IHByZSAxLjAgbW9kZSksIGRlZmF1bHRzIHRvIGZhbHNlXG5cdFx0c3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgY29udHJvbFxuXHRcdHRhYkluZGV4OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gb3B0aW9uYWwgdGFiIGluZGV4IG9mIHRoZSBjb250cm9sXG5cdFx0dmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBpbml0aWFsIGZpZWxkIHZhbHVlXG5cdFx0dmFsdWVDb21wb25lbnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gdmFsdWUgY29tcG9uZW50IHRvIHJlbmRlclxuXHRcdHZhbHVlS2V5OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGF0aCBvZiB0aGUgbGFiZWwgdmFsdWUgaW4gb3B0aW9uIG9iamVjdHNcblx0XHR2YWx1ZVJlbmRlcmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIHZhbHVlUmVuZGVyZXI6IGZ1bmN0aW9uIChvcHRpb24pIHt9XG5cdFx0d3JhcHBlclN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCB9LFxuXG5cdC8vIG9wdGlvbmFsIHN0eWxlIHRvIGFwcGx5IHRvIHRoZSBjb21wb25lbnQgd3JhcHBlclxuXHRzdGF0aWNzOiB7IEFzeW5jOiBfQXN5bmMyWydkZWZhdWx0J10gfSxcblxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YWRkTGFiZWxUZXh0OiAnQWRkIFwie2xhYmVsfVwiPycsXG5cdFx0XHRhbGxvd0NyZWF0ZTogZmFsc2UsXG5cdFx0XHRiYWNrc3BhY2VSZW1vdmVzOiB0cnVlLFxuXHRcdFx0Y2xlYXJhYmxlOiB0cnVlLFxuXHRcdFx0Y2xlYXJBbGxUZXh0OiAnQ2xlYXIgYWxsJyxcblx0XHRcdGNsZWFyVmFsdWVUZXh0OiAnQ2xlYXIgdmFsdWUnLFxuXHRcdFx0ZGVsaW1pdGVyOiAnLCcsXG5cdFx0XHRkaXNhYmxlZDogZmFsc2UsXG5cdFx0XHRlc2NhcGVDbGVhcnNWYWx1ZTogdHJ1ZSxcblx0XHRcdGZpbHRlck9wdGlvbnM6IHRydWUsXG5cdFx0XHRpZ25vcmVBY2NlbnRzOiB0cnVlLFxuXHRcdFx0aWdub3JlQ2FzZTogdHJ1ZSxcblx0XHRcdGlucHV0UHJvcHM6IHt9LFxuXHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdGxhYmVsS2V5OiAnbGFiZWwnLFxuXHRcdFx0bWF0Y2hQb3M6ICdhbnknLFxuXHRcdFx0bWF0Y2hQcm9wOiAnYW55Jyxcblx0XHRcdG1lbnVCdWZmZXI6IDAsXG5cdFx0XHRtdWx0aTogZmFsc2UsXG5cdFx0XHRub1Jlc3VsdHNUZXh0OiAnTm8gcmVzdWx0cyBmb3VuZCcsXG5cdFx0XHRvbkJsdXJSZXNldHNJbnB1dDogdHJ1ZSxcblx0XHRcdG9wdGlvbkNvbXBvbmVudDogX09wdGlvbjJbJ2RlZmF1bHQnXSxcblx0XHRcdHBsYWNlaG9sZGVyOiAnU2VsZWN0Li4uJyxcblx0XHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHRcdHNjcm9sbE1lbnVJbnRvVmlldzogdHJ1ZSxcblx0XHRcdHNlYXJjaGFibGU6IHRydWUsXG5cdFx0XHRzaW1wbGVWYWx1ZTogZmFsc2UsXG5cdFx0XHR2YWx1ZUNvbXBvbmVudDogX1ZhbHVlMlsnZGVmYXVsdCddLFxuXHRcdFx0dmFsdWVLZXk6ICd2YWx1ZSdcblx0XHR9O1xuXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpbnB1dFZhbHVlOiAnJyxcblx0XHRcdGlzRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRyZXF1aXJlZDogdGhpcy5wcm9wcy5yZXF1aXJlZCAmJiB0aGlzLmhhbmRsZVJlcXVpcmVkKHRoaXMucHJvcHMudmFsdWUsIHRoaXMucHJvcHMubXVsdGkpXG5cdFx0fTtcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0aWYgKHRoaXMucHJvcHMuYXV0b2ZvY3VzKSB7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcblx0XHRpZiAobmV4dFN0YXRlLmlzT3BlbiAhPT0gdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdHZhciBoYW5kbGVyID0gbmV4dFN0YXRlLmlzT3BlbiA/IG5leHRQcm9wcy5vbk9wZW4gOiBuZXh0UHJvcHMub25DbG9zZTtcblx0XHRcdGhhbmRsZXIgJiYgaGFuZGxlcigpO1xuXHRcdH1cblx0fSxcblxuXHRjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuXHRcdC8vIGZvY3VzIHRvIHRoZSBzZWxlY3RlZCBvcHRpb25cblx0XHRpZiAodGhpcy5yZWZzLm1lbnUgJiYgdGhpcy5yZWZzLmZvY3VzZWQgJiYgdGhpcy5zdGF0ZS5pc09wZW4gJiYgIXRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbikge1xuXHRcdFx0dmFyIGZvY3VzZWRPcHRpb25Ob2RlID0gX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMucmVmcy5mb2N1c2VkKTtcblx0XHRcdHZhciBtZW51Tm9kZSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWVudSk7XG5cdFx0XHRtZW51Tm9kZS5zY3JvbGxUb3AgPSBmb2N1c2VkT3B0aW9uTm9kZS5vZmZzZXRUb3A7XG5cdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAocHJldlN0YXRlLmlucHV0VmFsdWUgIT09IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSAmJiB0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UpIHtcblx0XHRcdHRoaXMucHJvcHMub25JbnB1dENoYW5nZSh0aGlzLnN0YXRlLmlucHV0VmFsdWUpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUgJiYgdGhpcy5yZWZzLmZvY3VzZWQgJiYgdGhpcy5yZWZzLm1lbnUpIHtcblx0XHRcdHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlID0gZmFsc2U7XG5cdFx0XHR2YXIgZm9jdXNlZERPTSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZm9jdXNlZCk7XG5cdFx0XHR2YXIgbWVudURPTSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWVudSk7XG5cdFx0XHR2YXIgZm9jdXNlZFJlY3QgPSBmb2N1c2VkRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0dmFyIG1lbnVSZWN0ID0gbWVudURPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdGlmIChmb2N1c2VkUmVjdC5ib3R0b20gPiBtZW51UmVjdC5ib3R0b20gfHwgZm9jdXNlZFJlY3QudG9wIDwgbWVudVJlY3QudG9wKSB7XG5cdFx0XHRcdG1lbnVET00uc2Nyb2xsVG9wID0gZm9jdXNlZERPTS5vZmZzZXRUb3AgKyBmb2N1c2VkRE9NLmNsaWVudEhlaWdodCAtIG1lbnVET00ub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAodGhpcy5wcm9wcy5zY3JvbGxNZW51SW50b1ZpZXcgJiYgdGhpcy5yZWZzLm1lbnVDb250YWluZXIpIHtcblx0XHRcdHZhciBtZW51Q29udGFpbmVyUmVjdCA9IHRoaXMucmVmcy5tZW51Q29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0aWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IG1lbnVDb250YWluZXJSZWN0LmJvdHRvbSArIHRoaXMucHJvcHMubWVudUJ1ZmZlcikge1xuXHRcdFx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgd2luZG93LnNjcm9sbFkgKyBtZW51Q29udGFpbmVyUmVjdC5ib3R0b20gKyB0aGlzLnByb3BzLm1lbnVCdWZmZXIgLSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocHJldlByb3BzLmRpc2FibGVkICE9PSB0aGlzLnByb3BzLmRpc2FibGVkKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgaXNGb2N1c2VkOiBmYWxzZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1kaWQtdXBkYXRlLXNldC1zdGF0ZVxuXHRcdH1cblx0fSxcblxuXHRmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG5cdFx0aWYgKCF0aGlzLnJlZnMuaW5wdXQpIHJldHVybjtcblx0XHR0aGlzLnJlZnMuaW5wdXQuZm9jdXMoKTtcblx0fSxcblxuXHRibHVySW5wdXQ6IGZ1bmN0aW9uIGJsdXJJbnB1dCgpIHtcblx0XHRpZiAoIXRoaXMucmVmcy5pbnB1dCkgcmV0dXJuO1xuXHRcdHRoaXMucmVmcy5pbnB1dC5ibHVyKCk7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgbm90IGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hFbmQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKGV2ZW50KSB7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXG5cdFx0Ly8gRmlyZSB0aGUgbW91c2UgZXZlbnRzXG5cdFx0dGhpcy5oYW5kbGVNb3VzZURvd24oZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmRDbGVhclZhbHVlKGV2ZW50KSB7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXG5cdFx0Ly8gQ2xlYXIgdGhlIHZhbHVlXG5cdFx0dGhpcy5jbGVhclZhbHVlKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuXHRcdC8vIGlmIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgbW91c2Vkb3duIGFuZCBub3QgdGhlIHByaW1hcnlcblx0XHQvLyBidXR0b24sIG9yIGlmIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQsIGlnbm9yZSBpdC5cblx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBwcmV2ZW50IGRlZmF1bHQgZXZlbnQgaGFuZGxlcnNcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gZm9yIHRoZSBub24tc2VhcmNoYWJsZSBzZWxlY3QsIHRvZ2dsZSB0aGUgbWVudVxuXHRcdGlmICghdGhpcy5wcm9wcy5zZWFyY2hhYmxlKSB7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogIXRoaXMuc3RhdGUuaXNPcGVuXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5zdGF0ZS5pc0ZvY3VzZWQpIHtcblx0XHRcdC8vIGlmIHRoZSBpbnB1dCBpcyBmb2N1c2VkLCBlbnN1cmUgdGhlIG1lbnUgaXMgb3BlblxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG90aGVyd2lzZSwgZm9jdXMgdGhlIGlucHV0IGFuZCBvcGVuIHRoZSBtZW51XG5cdFx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IHRydWU7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdGhhbmRsZU1vdXNlRG93bk9uQXJyb3c6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bk9uQXJyb3coZXZlbnQpIHtcblx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIElmIHRoZSBtZW51IGlzbid0IG9wZW4sIGxldCB0aGUgZXZlbnQgYnViYmxlIHRvIHRoZSBtYWluIGhhbmRsZU1vdXNlRG93blxuXHRcdGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Ly8gcHJldmVudCBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBjbG9zZSB0aGUgbWVudVxuXHRcdHRoaXMuY2xvc2VNZW51KCk7XG5cdH0sXG5cblx0aGFuZGxlTW91c2VEb3duT25NZW51OiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Pbk1lbnUoZXZlbnQpIHtcblx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IHRydWU7XG5cdFx0dGhpcy5mb2N1cygpO1xuXHR9LFxuXG5cdGNsb3NlTWVudTogZnVuY3Rpb24gY2xvc2VNZW51KCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdGlzUHNldWRvRm9jdXNlZDogdGhpcy5zdGF0ZS5pc0ZvY3VzZWQgJiYgIXRoaXMucHJvcHMubXVsdGksXG5cdFx0XHRpbnB1dFZhbHVlOiAnJ1xuXHRcdH0pO1xuXHRcdHRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbiA9IGZhbHNlO1xuXHR9LFxuXG5cdGhhbmRsZUlucHV0Rm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUlucHV0Rm9jdXMoZXZlbnQpIHtcblx0XHR2YXIgaXNPcGVuID0gdGhpcy5zdGF0ZS5pc09wZW4gfHwgdGhpcy5fb3BlbkFmdGVyRm9jdXM7XG5cdFx0aWYgKHRoaXMucHJvcHMub25Gb2N1cykge1xuXHRcdFx0dGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcblx0XHR9XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpc0ZvY3VzZWQ6IHRydWUsXG5cdFx0XHRpc09wZW46IGlzT3BlblxuXHRcdH0pO1xuXHRcdHRoaXMuX29wZW5BZnRlckZvY3VzID0gZmFsc2U7XG5cdH0sXG5cblx0aGFuZGxlSW5wdXRCbHVyOiBmdW5jdGlvbiBoYW5kbGVJbnB1dEJsdXIoZXZlbnQpIHtcblx0XHRpZiAodGhpcy5yZWZzLm1lbnUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pc0VxdWFsTm9kZSh0aGlzLnJlZnMubWVudSkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5wcm9wcy5vbkJsdXIpIHtcblx0XHRcdHRoaXMucHJvcHMub25CbHVyKGV2ZW50KTtcblx0XHR9XG5cdFx0dmFyIG9uQmx1cnJlZFN0YXRlID0ge1xuXHRcdFx0aXNGb2N1c2VkOiBmYWxzZSxcblx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlXG5cdFx0fTtcblx0XHRpZiAodGhpcy5wcm9wcy5vbkJsdXJSZXNldHNJbnB1dCkge1xuXHRcdFx0b25CbHVycmVkU3RhdGUuaW5wdXRWYWx1ZSA9ICcnO1xuXHRcdH1cblx0XHR0aGlzLnNldFN0YXRlKG9uQmx1cnJlZFN0YXRlKTtcblx0fSxcblxuXHRoYW5kbGVJbnB1dENoYW5nZTogZnVuY3Rpb24gaGFuZGxlSW5wdXRDaGFuZ2UoZXZlbnQpIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRpbnB1dFZhbHVlOiBldmVudC50YXJnZXQudmFsdWVcblx0XHR9KTtcblx0fSxcblxuXHRoYW5kbGVLZXlEb3duOiBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHJldHVybjtcblx0XHRzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblx0XHRcdGNhc2UgODpcblx0XHRcdFx0Ly8gYmFja3NwYWNlXG5cdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5pbnB1dFZhbHVlICYmIHRoaXMucHJvcHMuYmFja3NwYWNlUmVtb3Zlcykge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0dGhpcy5wb3BWYWx1ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Ly8gdGFiXG5cdFx0XHRcdGlmIChldmVudC5zaGlmdEtleSB8fCAhdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zZWxlY3RGb2N1c2VkT3B0aW9uKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdC8vIGVudGVyXG5cdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHJldHVybjtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdC8vIGVzY2FwZVxuXHRcdFx0XHRpZiAodGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0XHR0aGlzLmNsb3NlTWVudSgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuY2xlYXJhYmxlICYmIHRoaXMucHJvcHMuZXNjYXBlQ2xlYXJzVmFsdWUpIHtcblx0XHRcdFx0XHR0aGlzLmNsZWFyVmFsdWUoZXZlbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0Ly8gdXBcblx0XHRcdFx0dGhpcy5mb2N1c1ByZXZpb3VzT3B0aW9uKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0Ly8gZG93blxuXHRcdFx0XHR0aGlzLmZvY3VzTmV4dE9wdGlvbigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdC8vIGNhc2UgMTg4OiAvLyAsXG5cdFx0XHQvLyBcdGlmICh0aGlzLnByb3BzLmFsbG93Q3JlYXRlICYmIHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdC8vIFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0Ly8gXHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0Ly8gXHR9IGVsc2Uge1xuXHRcdFx0Ly8gXHRcdHJldHVybjtcblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gYnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0sXG5cblx0aGFuZGxlVmFsdWVDbGljazogZnVuY3Rpb24gaGFuZGxlVmFsdWVDbGljayhvcHRpb24sIGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLnByb3BzLm9uVmFsdWVDbGljaykgcmV0dXJuO1xuXHRcdHRoaXMucHJvcHMub25WYWx1ZUNsaWNrKG9wdGlvbiwgZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZU1lbnVTY3JvbGw6IGZ1bmN0aW9uIGhhbmRsZU1lbnVTY3JvbGwoZXZlbnQpIHtcblx0XHRpZiAoIXRoaXMucHJvcHMub25NZW51U2Nyb2xsVG9Cb3R0b20pIHJldHVybjtcblx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXG5cdFx0aWYgKHRhcmdldC5zY3JvbGxIZWlnaHQgPiB0YXJnZXQub2Zmc2V0SGVpZ2h0ICYmICEodGFyZ2V0LnNjcm9sbEhlaWdodCAtIHRhcmdldC5vZmZzZXRIZWlnaHQgLSB0YXJnZXQuc2Nyb2xsVG9wKSkge1xuXHRcdFx0dGhpcy5wcm9wcy5vbk1lbnVTY3JvbGxUb0JvdHRvbSgpO1xuXHRcdH1cblx0fSxcblxuXHRoYW5kbGVSZXF1aXJlZDogZnVuY3Rpb24gaGFuZGxlUmVxdWlyZWQodmFsdWUsIG11bHRpKSB7XG5cdFx0aWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XG5cdFx0cmV0dXJuIG11bHRpID8gdmFsdWUubGVuZ3RoID09PSAwIDogT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMDtcblx0fSxcblxuXHRnZXRPcHRpb25MYWJlbDogZnVuY3Rpb24gZ2V0T3B0aW9uTGFiZWwob3ApIHtcblx0XHRyZXR1cm4gb3BbdGhpcy5wcm9wcy5sYWJlbEtleV07XG5cdH0sXG5cblx0Z2V0VmFsdWVBcnJheTogZnVuY3Rpb24gZ2V0VmFsdWVBcnJheSgpIHtcblx0XHR2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlO1xuXHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgdmFsdWUgPSB2YWx1ZS5zcGxpdCh0aGlzLnByb3BzLmRlbGltaXRlcik7XG5cdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG5cdFx0XHRcdHZhbHVlID0gW3ZhbHVlXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZS5tYXAodGhpcy5leHBhbmRWYWx1ZSkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHZhciBleHBhbmRlZFZhbHVlID0gdGhpcy5leHBhbmRWYWx1ZSh2YWx1ZSk7XG5cdFx0cmV0dXJuIGV4cGFuZGVkVmFsdWUgPyBbZXhwYW5kZWRWYWx1ZV0gOiBbXTtcblx0fSxcblxuXHRleHBhbmRWYWx1ZTogZnVuY3Rpb24gZXhwYW5kVmFsdWUodmFsdWUpIHtcblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSByZXR1cm4gdmFsdWU7XG5cdFx0dmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdFx0dmFyIG9wdGlvbnMgPSBfcHJvcHMub3B0aW9ucztcblx0XHR2YXIgdmFsdWVLZXkgPSBfcHJvcHMudmFsdWVLZXk7XG5cblx0XHRpZiAoIW9wdGlvbnMpIHJldHVybjtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChvcHRpb25zW2ldW3ZhbHVlS2V5XSA9PT0gdmFsdWUpIHJldHVybiBvcHRpb25zW2ldO1xuXHRcdH1cblx0fSxcblxuXHRzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0aWYgKHRoaXMucHJvcHMuYXV0b0JsdXIpIHtcblx0XHRcdHRoaXMuYmx1cklucHV0KCk7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5wcm9wcy5vbkNoYW5nZSkgcmV0dXJuO1xuXHRcdGlmICh0aGlzLnByb3BzLnJlcXVpcmVkKSB7XG5cdFx0XHR2YXIgcmVxdWlyZWQgPSB0aGlzLmhhbmRsZVJlcXVpcmVkKHZhbHVlLCB0aGlzLnByb3BzLm11bHRpKTtcblx0XHRcdHRoaXMuc2V0U3RhdGUoeyByZXF1aXJlZDogcmVxdWlyZWQgfSk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnByb3BzLnNpbXBsZVZhbHVlICYmIHZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMucHJvcHMubXVsdGkgPyB2YWx1ZS5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0cmV0dXJuIGlbX3RoaXMucHJvcHMudmFsdWVLZXldO1xuXHRcdFx0fSkuam9pbih0aGlzLnByb3BzLmRlbGltaXRlcikgOiB2YWx1ZVt0aGlzLnByb3BzLnZhbHVlS2V5XTtcblx0XHR9XG5cdFx0dGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG5cdH0sXG5cblx0c2VsZWN0VmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFZhbHVlKHZhbHVlKSB7XG5cdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gZmFsc2U7XG5cdFx0aWYgKHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdHRoaXMuYWRkVmFsdWUodmFsdWUpO1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlucHV0VmFsdWU6ICcnXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdFx0aW5wdXRWYWx1ZTogJycsXG5cdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogdGhpcy5zdGF0ZS5pc0ZvY3VzZWRcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblxuXHRhZGRWYWx1ZTogZnVuY3Rpb24gYWRkVmFsdWUodmFsdWUpIHtcblx0XHR2YXIgdmFsdWVBcnJheSA9IHRoaXMuZ2V0VmFsdWVBcnJheSgpO1xuXHRcdHRoaXMuc2V0VmFsdWUodmFsdWVBcnJheS5jb25jYXQodmFsdWUpKTtcblx0fSxcblxuXHRwb3BWYWx1ZTogZnVuY3Rpb24gcG9wVmFsdWUoKSB7XG5cdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHRpZiAoIXZhbHVlQXJyYXkubGVuZ3RoKSByZXR1cm47XG5cdFx0aWYgKHZhbHVlQXJyYXlbdmFsdWVBcnJheS5sZW5ndGggLSAxXS5jbGVhcmFibGVWYWx1ZSA9PT0gZmFsc2UpIHJldHVybjtcblx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuc2xpY2UoMCwgdmFsdWVBcnJheS5sZW5ndGggLSAxKSk7XG5cdH0sXG5cblx0cmVtb3ZlVmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVZhbHVlKHZhbHVlKSB7XG5cdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRyZXR1cm4gaSAhPT0gdmFsdWU7XG5cdFx0fSkpO1xuXHRcdHRoaXMuZm9jdXMoKTtcblx0fSxcblxuXHRjbGVhclZhbHVlOiBmdW5jdGlvbiBjbGVhclZhbHVlKGV2ZW50KSB7XG5cdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdC8vIGJ1dHRvbiwgaWdub3JlIGl0LlxuXHRcdGlmIChldmVudCAmJiBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLnNldFZhbHVlKG51bGwpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdGlucHV0VmFsdWU6ICcnXG5cdFx0fSwgdGhpcy5mb2N1cyk7XG5cdH0sXG5cblx0Zm9jdXNPcHRpb246IGZ1bmN0aW9uIGZvY3VzT3B0aW9uKG9wdGlvbikge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0Zm9jdXNlZE9wdGlvbjogb3B0aW9uXG5cdFx0fSk7XG5cdH0sXG5cblx0Zm9jdXNOZXh0T3B0aW9uOiBmdW5jdGlvbiBmb2N1c05leHRPcHRpb24oKSB7XG5cdFx0dGhpcy5mb2N1c0FkamFjZW50T3B0aW9uKCduZXh0Jyk7XG5cdH0sXG5cblx0Zm9jdXNQcmV2aW91c09wdGlvbjogZnVuY3Rpb24gZm9jdXNQcmV2aW91c09wdGlvbigpIHtcblx0XHR0aGlzLmZvY3VzQWRqYWNlbnRPcHRpb24oJ3ByZXZpb3VzJyk7XG5cdH0sXG5cblx0Zm9jdXNBZGphY2VudE9wdGlvbjogZnVuY3Rpb24gZm9jdXNBZGphY2VudE9wdGlvbihkaXIpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3Zpc2libGVPcHRpb25zLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHRcdFx0cmV0dXJuICFpLmRpc2FibGVkO1xuXHRcdH0pO1xuXHRcdHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlID0gdHJ1ZTtcblx0XHRpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNPcGVuOiB0cnVlLFxuXHRcdFx0XHRpbnB1dFZhbHVlOiAnJyxcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbjogdGhpcy5fZm9jdXNlZE9wdGlvbiB8fCBvcHRpb25zW2RpciA9PT0gJ25leHQnID8gMCA6IG9wdGlvbnMubGVuZ3RoIC0gMV1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIW9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG5cdFx0dmFyIGZvY3VzZWRJbmRleCA9IC0xO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHRoaXMuX2ZvY3VzZWRPcHRpb24gPT09IG9wdGlvbnNbaV0pIHtcblx0XHRcdFx0Zm9jdXNlZEluZGV4ID0gaTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHZhciBmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1swXTtcblx0XHRpZiAoZGlyID09PSAnbmV4dCcgJiYgZm9jdXNlZEluZGV4ID4gLTEgJiYgZm9jdXNlZEluZGV4IDwgb3B0aW9ucy5sZW5ndGggLSAxKSB7XG5cdFx0XHRmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1tmb2N1c2VkSW5kZXggKyAxXTtcblx0XHR9IGVsc2UgaWYgKGRpciA9PT0gJ3ByZXZpb3VzJykge1xuXHRcdFx0aWYgKGZvY3VzZWRJbmRleCA+IDApIHtcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbZm9jdXNlZEluZGV4IC0gMV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1tvcHRpb25zLmxlbmd0aCAtIDFdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGZvY3VzZWRPcHRpb246IGZvY3VzZWRPcHRpb25cblx0XHR9KTtcblx0fSxcblxuXHRzZWxlY3RGb2N1c2VkT3B0aW9uOiBmdW5jdGlvbiBzZWxlY3RGb2N1c2VkT3B0aW9uKCkge1xuXHRcdC8vIGlmICh0aGlzLnByb3BzLmFsbG93Q3JlYXRlICYmICF0aGlzLnN0YXRlLmZvY3VzZWRPcHRpb24pIHtcblx0XHQvLyBcdHJldHVybiB0aGlzLnNlbGVjdFZhbHVlKHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSk7XG5cdFx0Ly8gfVxuXHRcdGlmICh0aGlzLl9mb2N1c2VkT3B0aW9uKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZWxlY3RWYWx1ZSh0aGlzLl9mb2N1c2VkT3B0aW9uKTtcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyTG9hZGluZzogZnVuY3Rpb24gcmVuZGVyTG9hZGluZygpIHtcblx0XHRpZiAoIXRoaXMucHJvcHMuaXNMb2FkaW5nKSByZXR1cm47XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3NwYW4nLFxuXHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtbG9hZGluZy16b25lJywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0sXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWxvYWRpbmcnIH0pXG5cdFx0KTtcblx0fSxcblxuXHRyZW5kZXJWYWx1ZTogZnVuY3Rpb24gcmVuZGVyVmFsdWUodmFsdWVBcnJheSwgaXNPcGVuKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHR2YXIgcmVuZGVyTGFiZWwgPSB0aGlzLnByb3BzLnZhbHVlUmVuZGVyZXIgfHwgdGhpcy5nZXRPcHRpb25MYWJlbDtcblx0XHR2YXIgVmFsdWVDb21wb25lbnQgPSB0aGlzLnByb3BzLnZhbHVlQ29tcG9uZW50O1xuXHRcdGlmICghdmFsdWVBcnJheS5sZW5ndGgpIHtcblx0XHRcdHJldHVybiAhdGhpcy5zdGF0ZS5pbnB1dFZhbHVlID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1wbGFjZWhvbGRlcicgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5wbGFjZWhvbGRlclxuXHRcdFx0KSA6IG51bGw7XG5cdFx0fVxuXHRcdHZhciBvbkNsaWNrID0gdGhpcy5wcm9wcy5vblZhbHVlQ2xpY2sgPyB0aGlzLmhhbmRsZVZhbHVlQ2xpY2sgOiBudWxsO1xuXHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWVBcnJheS5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG5cdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRWYWx1ZUNvbXBvbmVudCxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkaXNhYmxlZDogX3RoaXMyLnByb3BzLmRpc2FibGVkIHx8IHZhbHVlLmNsZWFyYWJsZVZhbHVlID09PSBmYWxzZSxcblx0XHRcdFx0XHRcdGtleTogJ3ZhbHVlLScgKyBpICsgJy0nICsgdmFsdWVbX3RoaXMyLnByb3BzLnZhbHVlS2V5XSxcblx0XHRcdFx0XHRcdG9uQ2xpY2s6IG9uQ2xpY2ssXG5cdFx0XHRcdFx0XHRvblJlbW92ZTogX3RoaXMyLnJlbW92ZVZhbHVlLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRyZW5kZXJMYWJlbCh2YWx1ZSlcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSkge1xuXHRcdFx0aWYgKGlzT3Blbikgb25DbGljayA9IG51bGw7XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFZhbHVlQ29tcG9uZW50LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQsXG5cdFx0XHRcdFx0b25DbGljazogb25DbGljayxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVBcnJheVswXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZW5kZXJMYWJlbCh2YWx1ZUFycmF5WzBdKVxuXHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVySW5wdXQ6IGZ1bmN0aW9uIHJlbmRlcklucHV0KHZhbHVlQXJyYXkpIHtcblx0XHR2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSgnU2VsZWN0LWlucHV0JywgdGhpcy5wcm9wcy5pbnB1dFByb3BzLmNsYXNzTmFtZSk7XG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgIXRoaXMucHJvcHMuc2VhcmNoYWJsZSkge1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLCB7XG5cdFx0XHRcdGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHRcdFx0XHR0YWJJbmRleDogdGhpcy5wcm9wcy50YWJJbmRleCB8fCAwLFxuXHRcdFx0XHRvbkJsdXI6IHRoaXMuaGFuZGxlSW5wdXRCbHVyLFxuXHRcdFx0XHRvbkZvY3VzOiB0aGlzLmhhbmRsZUlucHV0Rm9jdXMsXG5cdFx0XHRcdHJlZjogJ2lucHV0Jyxcblx0XHRcdFx0c3R5bGU6IHsgYm9yZGVyOiAwLCB3aWR0aDogMSwgZGlzcGxheTogJ2lubGluZS1ibG9jaycgfSB9KSk7XG5cdFx0fVxuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfcmVhY3RJbnB1dEF1dG9zaXplMlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLCB7XG5cdFx0XHRjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdHRhYkluZGV4OiB0aGlzLnByb3BzLnRhYkluZGV4LFxuXHRcdFx0b25CbHVyOiB0aGlzLmhhbmRsZUlucHV0Qmx1cixcblx0XHRcdG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLFxuXHRcdFx0b25Gb2N1czogdGhpcy5oYW5kbGVJbnB1dEZvY3VzLFxuXHRcdFx0bWluV2lkdGg6ICc1Jyxcblx0XHRcdHJlZjogJ2lucHV0Jyxcblx0XHRcdHJlcXVpcmVkOiB0aGlzLnN0YXRlLnJlcXVpcmVkLFxuXHRcdFx0dmFsdWU6IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZVxuXHRcdH0pKTtcblx0fSxcblxuXHRyZW5kZXJDbGVhcjogZnVuY3Rpb24gcmVuZGVyQ2xlYXIoKSB7XG5cdFx0aWYgKCF0aGlzLnByb3BzLmNsZWFyYWJsZSB8fCAhdGhpcy5wcm9wcy52YWx1ZSB8fCB0aGlzLnByb3BzLm11bHRpICYmICF0aGlzLnByb3BzLnZhbHVlLmxlbmd0aCB8fCB0aGlzLnByb3BzLmRpc2FibGVkIHx8IHRoaXMucHJvcHMuaXNMb2FkaW5nKSByZXR1cm47XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3NwYW4nLFxuXHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtY2xlYXItem9uZScsIHRpdGxlOiB0aGlzLnByb3BzLm11bHRpID8gdGhpcy5wcm9wcy5jbGVhckFsbFRleHQgOiB0aGlzLnByb3BzLmNsZWFyVmFsdWVUZXh0LFxuXHRcdFx0XHQnYXJpYS1sYWJlbCc6IHRoaXMucHJvcHMubXVsdGkgPyB0aGlzLnByb3BzLmNsZWFyQWxsVGV4dCA6IHRoaXMucHJvcHMuY2xlYXJWYWx1ZVRleHQsXG5cdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmNsZWFyVmFsdWUsXG5cdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG5cdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmRDbGVhclZhbHVlIH0sXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWNsZWFyJywgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiAnJnRpbWVzOycgfSB9KVxuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyQXJyb3c6IGZ1bmN0aW9uIHJlbmRlckFycm93KCkge1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdzcGFuJyxcblx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LWFycm93LXpvbmUnLCBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd25PbkFycm93IH0sXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWFycm93Jywgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duT25BcnJvdyB9KVxuXHRcdCk7XG5cdH0sXG5cblx0ZmlsdGVyT3B0aW9uczogZnVuY3Rpb24gZmlsdGVyT3B0aW9ucyhleGNsdWRlT3B0aW9ucykge1xuXHRcdHZhciBfdGhpczMgPSB0aGlzO1xuXG5cdFx0dmFyIGZpbHRlclZhbHVlID0gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlO1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zIHx8IFtdO1xuXHRcdGlmICh0eXBlb2YgdGhpcy5wcm9wcy5maWx0ZXJPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5maWx0ZXJPcHRpb25zLmNhbGwodGhpcywgb3B0aW9ucywgZmlsdGVyVmFsdWUsIGV4Y2x1ZGVPcHRpb25zKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuZmlsdGVyT3B0aW9ucykge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQWNjZW50cykge1xuXHRcdFx0XHRmaWx0ZXJWYWx1ZSA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKGZpbHRlclZhbHVlKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUNhc2UpIHtcblx0XHRcdFx0ZmlsdGVyVmFsdWUgPSBmaWx0ZXJWYWx1ZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGV4Y2x1ZGVPcHRpb25zKSBleGNsdWRlT3B0aW9ucyA9IGV4Y2x1ZGVPcHRpb25zLm1hcChmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRyZXR1cm4gaVtfdGhpczMucHJvcHMudmFsdWVLZXldO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvbikge1xuXHRcdFx0XHRpZiAoZXhjbHVkZU9wdGlvbnMgJiYgZXhjbHVkZU9wdGlvbnMuaW5kZXhPZihvcHRpb25bX3RoaXMzLnByb3BzLnZhbHVlS2V5XSkgPiAtMSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmZpbHRlck9wdGlvbikgcmV0dXJuIF90aGlzMy5wcm9wcy5maWx0ZXJPcHRpb24uY2FsbChfdGhpczMsIG9wdGlvbiwgZmlsdGVyVmFsdWUpO1xuXHRcdFx0XHRpZiAoIWZpbHRlclZhbHVlKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFx0dmFyIHZhbHVlVGVzdCA9IFN0cmluZyhvcHRpb25bX3RoaXMzLnByb3BzLnZhbHVlS2V5XSk7XG5cdFx0XHRcdHZhciBsYWJlbFRlc3QgPSBTdHJpbmcob3B0aW9uW190aGlzMy5wcm9wcy5sYWJlbEtleV0pO1xuXHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmlnbm9yZUFjY2VudHMpIHtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJykgdmFsdWVUZXN0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkodmFsdWVUZXN0KTtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJykgbGFiZWxUZXN0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkobGFiZWxUZXN0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmlnbm9yZUNhc2UpIHtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJykgdmFsdWVUZXN0ID0gdmFsdWVUZXN0LnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScpIGxhYmVsVGVzdCA9IGxhYmVsVGVzdC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBfdGhpczMucHJvcHMubWF0Y2hQb3MgPT09ICdzdGFydCcgPyBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAnbGFiZWwnICYmIHZhbHVlVGVzdC5zdWJzdHIoMCwgZmlsdGVyVmFsdWUubGVuZ3RoKSA9PT0gZmlsdGVyVmFsdWUgfHwgX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJyAmJiBsYWJlbFRlc3Quc3Vic3RyKDAsIGZpbHRlclZhbHVlLmxlbmd0aCkgPT09IGZpbHRlclZhbHVlIDogX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJyAmJiB2YWx1ZVRlc3QuaW5kZXhPZihmaWx0ZXJWYWx1ZSkgPj0gMCB8fCBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAndmFsdWUnICYmIGxhYmVsVGVzdC5pbmRleE9mKGZpbHRlclZhbHVlKSA+PSAwO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBvcHRpb25zO1xuXHRcdH1cblx0fSxcblxuXHRyZW5kZXJNZW51OiBmdW5jdGlvbiByZW5kZXJNZW51KG9wdGlvbnMsIHZhbHVlQXJyYXksIGZvY3VzZWRPcHRpb24pIHtcblx0XHR2YXIgX3RoaXM0ID0gdGhpcztcblxuXHRcdGlmIChvcHRpb25zICYmIG9wdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgX3JldCA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBPcHRpb24gPSBfdGhpczQucHJvcHMub3B0aW9uQ29tcG9uZW50O1xuXHRcdFx0XHR2YXIgcmVuZGVyTGFiZWwgPSBfdGhpczQucHJvcHMub3B0aW9uUmVuZGVyZXIgfHwgX3RoaXM0LmdldE9wdGlvbkxhYmVsO1xuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0djogb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaSkge1xuXHRcdFx0XHRcdFx0dmFyIGlzU2VsZWN0ZWQgPSB2YWx1ZUFycmF5ICYmIHZhbHVlQXJyYXkuaW5kZXhPZihvcHRpb24pID4gLTE7XG5cdFx0XHRcdFx0XHR2YXIgaXNGb2N1c2VkID0gb3B0aW9uID09PSBmb2N1c2VkT3B0aW9uO1xuXHRcdFx0XHRcdFx0dmFyIG9wdGlvblJlZiA9IGlzRm9jdXNlZCA/ICdmb2N1c2VkJyA6IG51bGw7XG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9uQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKHtcblx0XHRcdFx0XHRcdFx0J1NlbGVjdC1vcHRpb24nOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHQnaXMtc2VsZWN0ZWQnOiBpc1NlbGVjdGVkLFxuXHRcdFx0XHRcdFx0XHQnaXMtZm9jdXNlZCc6IGlzRm9jdXNlZCxcblx0XHRcdFx0XHRcdFx0J2lzLWRpc2FibGVkJzogb3B0aW9uLmRpc2FibGVkXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRPcHRpb24sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6IG9wdGlvbkNsYXNzLFxuXHRcdFx0XHRcdFx0XHRcdGlzRGlzYWJsZWQ6IG9wdGlvbi5kaXNhYmxlZCxcblx0XHRcdFx0XHRcdFx0XHRpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcblx0XHRcdFx0XHRcdFx0XHRrZXk6ICdvcHRpb24tJyArIGkgKyAnLScgKyBvcHRpb25bX3RoaXM0LnByb3BzLnZhbHVlS2V5XSxcblx0XHRcdFx0XHRcdFx0XHRvblNlbGVjdDogX3RoaXM0LnNlbGVjdFZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdG9uRm9jdXM6IF90aGlzNC5mb2N1c09wdGlvbixcblx0XHRcdFx0XHRcdFx0XHRvcHRpb246IG9wdGlvbixcblx0XHRcdFx0XHRcdFx0XHRpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuXHRcdFx0XHRcdFx0XHRcdHJlZjogb3B0aW9uUmVmXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJlbmRlckxhYmVsKG9wdGlvbilcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fTtcblx0XHRcdH0pKCk7XG5cblx0XHRcdGlmICh0eXBlb2YgX3JldCA9PT0gJ29iamVjdCcpIHJldHVybiBfcmV0LnY7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnByb3BzLm5vUmVzdWx0c1RleHQpIHtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LW5vcmVzdWx0cycgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0XG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVySGlkZGVuRmllbGQ6IGZ1bmN0aW9uIHJlbmRlckhpZGRlbkZpZWxkKHZhbHVlQXJyYXkpIHtcblx0XHR2YXIgX3RoaXM1ID0gdGhpcztcblxuXHRcdGlmICghdGhpcy5wcm9wcy5uYW1lKSByZXR1cm47XG5cdFx0dmFyIHZhbHVlID0gdmFsdWVBcnJheS5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdHJldHVybiBzdHJpbmdpZnlWYWx1ZShpW190aGlzNS5wcm9wcy52YWx1ZUtleV0pO1xuXHRcdH0pLmpvaW4odGhpcy5wcm9wcy5kZWxpbWl0ZXIpO1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdoaWRkZW4nLCByZWY6ICd2YWx1ZScsIG5hbWU6IHRoaXMucHJvcHMubmFtZSwgdmFsdWU6IHZhbHVlLCBkaXNhYmxlZDogdGhpcy5wcm9wcy5kaXNhYmxlZCB9KTtcblx0fSxcblxuXHRnZXRGb2N1c2FibGVPcHRpb246IGZ1bmN0aW9uIGdldEZvY3VzYWJsZU9wdGlvbihzZWxlY3RlZE9wdGlvbikge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5fdmlzaWJsZU9wdGlvbnM7XG5cdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuXHRcdHZhciBmb2N1c2VkT3B0aW9uID0gdGhpcy5zdGF0ZS5mb2N1c2VkT3B0aW9uIHx8IHNlbGVjdGVkT3B0aW9uO1xuXHRcdGlmIChmb2N1c2VkT3B0aW9uICYmIG9wdGlvbnMuaW5kZXhPZihmb2N1c2VkT3B0aW9uKSA+IC0xKSByZXR1cm4gZm9jdXNlZE9wdGlvbjtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICghb3B0aW9uc1tpXS5kaXNhYmxlZCkgcmV0dXJuIG9wdGlvbnNbaV07XG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl92aXNpYmxlT3B0aW9ucyA9IHRoaXMuZmlsdGVyT3B0aW9ucyh0aGlzLnByb3BzLm11bHRpID8gdmFsdWVBcnJheSA6IG51bGwpO1xuXHRcdHZhciBpc09wZW4gPSB0aGlzLnN0YXRlLmlzT3Blbjtcblx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSAmJiAhb3B0aW9ucy5sZW5ndGggJiYgdmFsdWVBcnJheS5sZW5ndGggJiYgIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSkgaXNPcGVuID0gZmFsc2U7XG5cdFx0dmFyIGZvY3VzZWRPcHRpb24gPSB0aGlzLl9mb2N1c2VkT3B0aW9uID0gdGhpcy5nZXRGb2N1c2FibGVPcHRpb24odmFsdWVBcnJheVswXSk7XG5cdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdCcsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCB7XG5cdFx0XHQnU2VsZWN0LS1tdWx0aSc6IHRoaXMucHJvcHMubXVsdGksXG5cdFx0XHQnaXMtZGlzYWJsZWQnOiB0aGlzLnByb3BzLmRpc2FibGVkLFxuXHRcdFx0J2lzLWZvY3VzZWQnOiB0aGlzLnN0YXRlLmlzRm9jdXNlZCxcblx0XHRcdCdpcy1sb2FkaW5nJzogdGhpcy5wcm9wcy5pc0xvYWRpbmcsXG5cdFx0XHQnaXMtb3Blbic6IGlzT3Blbixcblx0XHRcdCdpcy1wc2V1ZG8tZm9jdXNlZCc6IHRoaXMuc3RhdGUuaXNQc2V1ZG9Gb2N1c2VkLFxuXHRcdFx0J2lzLXNlYXJjaGFibGUnOiB0aGlzLnByb3BzLnNlYXJjaGFibGUsXG5cdFx0XHQnaGFzLXZhbHVlJzogdmFsdWVBcnJheS5sZW5ndGhcblx0XHR9KTtcblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdHsgcmVmOiAnd3JhcHBlcicsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogdGhpcy5wcm9wcy53cmFwcGVyU3R5bGUgfSxcblx0XHRcdHRoaXMucmVuZGVySGlkZGVuRmllbGQodmFsdWVBcnJheSksXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgcmVmOiAnY29udHJvbCcsXG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiAnU2VsZWN0LWNvbnRyb2wnLFxuXHRcdFx0XHRcdHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuXHRcdFx0XHRcdG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuXHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bixcblx0XHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuXHRcdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRcdG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSB9LFxuXHRcdFx0XHR0aGlzLnJlbmRlclZhbHVlKHZhbHVlQXJyYXksIGlzT3BlbiksXG5cdFx0XHRcdHRoaXMucmVuZGVySW5wdXQodmFsdWVBcnJheSksXG5cdFx0XHRcdHRoaXMucmVuZGVyTG9hZGluZygpLFxuXHRcdFx0XHR0aGlzLnJlbmRlckNsZWFyKCksXG5cdFx0XHRcdHRoaXMucmVuZGVyQXJyb3coKVxuXHRcdFx0KSxcblx0XHRcdGlzT3BlbiA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyByZWY6ICdtZW51Q29udGFpbmVyJywgY2xhc3NOYW1lOiAnU2VsZWN0LW1lbnUtb3V0ZXInLCBzdHlsZTogdGhpcy5wcm9wcy5tZW51Q29udGFpbmVyU3R5bGUgfSxcblx0XHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0eyByZWY6ICdtZW51JywgY2xhc3NOYW1lOiAnU2VsZWN0LW1lbnUnLFxuXHRcdFx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMubWVudVN0eWxlLFxuXHRcdFx0XHRcdFx0b25TY3JvbGw6IHRoaXMuaGFuZGxlTWVudVNjcm9sbCxcblx0XHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bk9uTWVudSB9LFxuXHRcdFx0XHRcdHRoaXMucmVuZGVyTWVudShvcHRpb25zLCAhdGhpcy5wcm9wcy5tdWx0aSA/IHZhbHVlQXJyYXkgOiBudWxsLCBmb2N1c2VkT3B0aW9uKVxuXHRcdFx0XHQpXG5cdFx0XHQpIDogbnVsbFxuXHRcdCk7XG5cdH1cblxufSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNlbGVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9saWIvU2VsZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIG1hcCA9IFt7ICdiYXNlJzogJ0EnLCAnbGV0dGVycyc6IC9bXFx1MDA0MVxcdTI0QjZcXHVGRjIxXFx1MDBDMFxcdTAwQzFcXHUwMEMyXFx1MUVBNlxcdTFFQTRcXHUxRUFBXFx1MUVBOFxcdTAwQzNcXHUwMTAwXFx1MDEwMlxcdTFFQjBcXHUxRUFFXFx1MUVCNFxcdTFFQjJcXHUwMjI2XFx1MDFFMFxcdTAwQzRcXHUwMURFXFx1MUVBMlxcdTAwQzVcXHUwMUZBXFx1MDFDRFxcdTAyMDBcXHUwMjAyXFx1MUVBMFxcdTFFQUNcXHUxRUI2XFx1MUUwMFxcdTAxMDRcXHUwMjNBXFx1MkM2Rl0vZyB9LCB7ICdiYXNlJzogJ0FBJywgJ2xldHRlcnMnOiAvW1xcdUE3MzJdL2cgfSwgeyAnYmFzZSc6ICdBRScsICdsZXR0ZXJzJzogL1tcXHUwMEM2XFx1MDFGQ1xcdTAxRTJdL2cgfSwgeyAnYmFzZSc6ICdBTycsICdsZXR0ZXJzJzogL1tcXHVBNzM0XS9nIH0sIHsgJ2Jhc2UnOiAnQVUnLCAnbGV0dGVycyc6IC9bXFx1QTczNl0vZyB9LCB7ICdiYXNlJzogJ0FWJywgJ2xldHRlcnMnOiAvW1xcdUE3MzhcXHVBNzNBXS9nIH0sIHsgJ2Jhc2UnOiAnQVknLCAnbGV0dGVycyc6IC9bXFx1QTczQ10vZyB9LCB7ICdiYXNlJzogJ0InLCAnbGV0dGVycyc6IC9bXFx1MDA0MlxcdTI0QjdcXHVGRjIyXFx1MUUwMlxcdTFFMDRcXHUxRTA2XFx1MDI0M1xcdTAxODJcXHUwMTgxXS9nIH0sIHsgJ2Jhc2UnOiAnQycsICdsZXR0ZXJzJzogL1tcXHUwMDQzXFx1MjRCOFxcdUZGMjNcXHUwMTA2XFx1MDEwOFxcdTAxMEFcXHUwMTBDXFx1MDBDN1xcdTFFMDhcXHUwMTg3XFx1MDIzQlxcdUE3M0VdL2cgfSwgeyAnYmFzZSc6ICdEJywgJ2xldHRlcnMnOiAvW1xcdTAwNDRcXHUyNEI5XFx1RkYyNFxcdTFFMEFcXHUwMTBFXFx1MUUwQ1xcdTFFMTBcXHUxRTEyXFx1MUUwRVxcdTAxMTBcXHUwMThCXFx1MDE4QVxcdTAxODlcXHVBNzc5XS9nIH0sIHsgJ2Jhc2UnOiAnRFonLCAnbGV0dGVycyc6IC9bXFx1MDFGMVxcdTAxQzRdL2cgfSwgeyAnYmFzZSc6ICdEeicsICdsZXR0ZXJzJzogL1tcXHUwMUYyXFx1MDFDNV0vZyB9LCB7ICdiYXNlJzogJ0UnLCAnbGV0dGVycyc6IC9bXFx1MDA0NVxcdTI0QkFcXHVGRjI1XFx1MDBDOFxcdTAwQzlcXHUwMENBXFx1MUVDMFxcdTFFQkVcXHUxRUM0XFx1MUVDMlxcdTFFQkNcXHUwMTEyXFx1MUUxNFxcdTFFMTZcXHUwMTE0XFx1MDExNlxcdTAwQ0JcXHUxRUJBXFx1MDExQVxcdTAyMDRcXHUwMjA2XFx1MUVCOFxcdTFFQzZcXHUwMjI4XFx1MUUxQ1xcdTAxMThcXHUxRTE4XFx1MUUxQVxcdTAxOTBcXHUwMThFXS9nIH0sIHsgJ2Jhc2UnOiAnRicsICdsZXR0ZXJzJzogL1tcXHUwMDQ2XFx1MjRCQlxcdUZGMjZcXHUxRTFFXFx1MDE5MVxcdUE3N0JdL2cgfSwgeyAnYmFzZSc6ICdHJywgJ2xldHRlcnMnOiAvW1xcdTAwNDdcXHUyNEJDXFx1RkYyN1xcdTAxRjRcXHUwMTFDXFx1MUUyMFxcdTAxMUVcXHUwMTIwXFx1MDFFNlxcdTAxMjJcXHUwMUU0XFx1MDE5M1xcdUE3QTBcXHVBNzdEXFx1QTc3RV0vZyB9LCB7ICdiYXNlJzogJ0gnLCAnbGV0dGVycyc6IC9bXFx1MDA0OFxcdTI0QkRcXHVGRjI4XFx1MDEyNFxcdTFFMjJcXHUxRTI2XFx1MDIxRVxcdTFFMjRcXHUxRTI4XFx1MUUyQVxcdTAxMjZcXHUyQzY3XFx1MkM3NVxcdUE3OERdL2cgfSwgeyAnYmFzZSc6ICdJJywgJ2xldHRlcnMnOiAvW1xcdTAwNDlcXHUyNEJFXFx1RkYyOVxcdTAwQ0NcXHUwMENEXFx1MDBDRVxcdTAxMjhcXHUwMTJBXFx1MDEyQ1xcdTAxMzBcXHUwMENGXFx1MUUyRVxcdTFFQzhcXHUwMUNGXFx1MDIwOFxcdTAyMEFcXHUxRUNBXFx1MDEyRVxcdTFFMkNcXHUwMTk3XS9nIH0sIHsgJ2Jhc2UnOiAnSicsICdsZXR0ZXJzJzogL1tcXHUwMDRBXFx1MjRCRlxcdUZGMkFcXHUwMTM0XFx1MDI0OF0vZyB9LCB7ICdiYXNlJzogJ0snLCAnbGV0dGVycyc6IC9bXFx1MDA0QlxcdTI0QzBcXHVGRjJCXFx1MUUzMFxcdTAxRThcXHUxRTMyXFx1MDEzNlxcdTFFMzRcXHUwMTk4XFx1MkM2OVxcdUE3NDBcXHVBNzQyXFx1QTc0NFxcdUE3QTJdL2cgfSwgeyAnYmFzZSc6ICdMJywgJ2xldHRlcnMnOiAvW1xcdTAwNENcXHUyNEMxXFx1RkYyQ1xcdTAxM0ZcXHUwMTM5XFx1MDEzRFxcdTFFMzZcXHUxRTM4XFx1MDEzQlxcdTFFM0NcXHUxRTNBXFx1MDE0MVxcdTAyM0RcXHUyQzYyXFx1MkM2MFxcdUE3NDhcXHVBNzQ2XFx1QTc4MF0vZyB9LCB7ICdiYXNlJzogJ0xKJywgJ2xldHRlcnMnOiAvW1xcdTAxQzddL2cgfSwgeyAnYmFzZSc6ICdMaicsICdsZXR0ZXJzJzogL1tcXHUwMUM4XS9nIH0sIHsgJ2Jhc2UnOiAnTScsICdsZXR0ZXJzJzogL1tcXHUwMDREXFx1MjRDMlxcdUZGMkRcXHUxRTNFXFx1MUU0MFxcdTFFNDJcXHUyQzZFXFx1MDE5Q10vZyB9LCB7ICdiYXNlJzogJ04nLCAnbGV0dGVycyc6IC9bXFx1MDA0RVxcdTI0QzNcXHVGRjJFXFx1MDFGOFxcdTAxNDNcXHUwMEQxXFx1MUU0NFxcdTAxNDdcXHUxRTQ2XFx1MDE0NVxcdTFFNEFcXHUxRTQ4XFx1MDIyMFxcdTAxOURcXHVBNzkwXFx1QTdBNF0vZyB9LCB7ICdiYXNlJzogJ05KJywgJ2xldHRlcnMnOiAvW1xcdTAxQ0FdL2cgfSwgeyAnYmFzZSc6ICdOaicsICdsZXR0ZXJzJzogL1tcXHUwMUNCXS9nIH0sIHsgJ2Jhc2UnOiAnTycsICdsZXR0ZXJzJzogL1tcXHUwMDRGXFx1MjRDNFxcdUZGMkZcXHUwMEQyXFx1MDBEM1xcdTAwRDRcXHUxRUQyXFx1MUVEMFxcdTFFRDZcXHUxRUQ0XFx1MDBENVxcdTFFNENcXHUwMjJDXFx1MUU0RVxcdTAxNENcXHUxRTUwXFx1MUU1MlxcdTAxNEVcXHUwMjJFXFx1MDIzMFxcdTAwRDZcXHUwMjJBXFx1MUVDRVxcdTAxNTBcXHUwMUQxXFx1MDIwQ1xcdTAyMEVcXHUwMUEwXFx1MUVEQ1xcdTFFREFcXHUxRUUwXFx1MUVERVxcdTFFRTJcXHUxRUNDXFx1MUVEOFxcdTAxRUFcXHUwMUVDXFx1MDBEOFxcdTAxRkVcXHUwMTg2XFx1MDE5RlxcdUE3NEFcXHVBNzRDXS9nIH0sIHsgJ2Jhc2UnOiAnT0knLCAnbGV0dGVycyc6IC9bXFx1MDFBMl0vZyB9LCB7ICdiYXNlJzogJ09PJywgJ2xldHRlcnMnOiAvW1xcdUE3NEVdL2cgfSwgeyAnYmFzZSc6ICdPVScsICdsZXR0ZXJzJzogL1tcXHUwMjIyXS9nIH0sIHsgJ2Jhc2UnOiAnUCcsICdsZXR0ZXJzJzogL1tcXHUwMDUwXFx1MjRDNVxcdUZGMzBcXHUxRTU0XFx1MUU1NlxcdTAxQTRcXHUyQzYzXFx1QTc1MFxcdUE3NTJcXHVBNzU0XS9nIH0sIHsgJ2Jhc2UnOiAnUScsICdsZXR0ZXJzJzogL1tcXHUwMDUxXFx1MjRDNlxcdUZGMzFcXHVBNzU2XFx1QTc1OFxcdTAyNEFdL2cgfSwgeyAnYmFzZSc6ICdSJywgJ2xldHRlcnMnOiAvW1xcdTAwNTJcXHUyNEM3XFx1RkYzMlxcdTAxNTRcXHUxRTU4XFx1MDE1OFxcdTAyMTBcXHUwMjEyXFx1MUU1QVxcdTFFNUNcXHUwMTU2XFx1MUU1RVxcdTAyNENcXHUyQzY0XFx1QTc1QVxcdUE3QTZcXHVBNzgyXS9nIH0sIHsgJ2Jhc2UnOiAnUycsICdsZXR0ZXJzJzogL1tcXHUwMDUzXFx1MjRDOFxcdUZGMzNcXHUxRTlFXFx1MDE1QVxcdTFFNjRcXHUwMTVDXFx1MUU2MFxcdTAxNjBcXHUxRTY2XFx1MUU2MlxcdTFFNjhcXHUwMjE4XFx1MDE1RVxcdTJDN0VcXHVBN0E4XFx1QTc4NF0vZyB9LCB7ICdiYXNlJzogJ1QnLCAnbGV0dGVycyc6IC9bXFx1MDA1NFxcdTI0QzlcXHVGRjM0XFx1MUU2QVxcdTAxNjRcXHUxRTZDXFx1MDIxQVxcdTAxNjJcXHUxRTcwXFx1MUU2RVxcdTAxNjZcXHUwMUFDXFx1MDFBRVxcdTAyM0VcXHVBNzg2XS9nIH0sIHsgJ2Jhc2UnOiAnVFonLCAnbGV0dGVycyc6IC9bXFx1QTcyOF0vZyB9LCB7ICdiYXNlJzogJ1UnLCAnbGV0dGVycyc6IC9bXFx1MDA1NVxcdTI0Q0FcXHVGRjM1XFx1MDBEOVxcdTAwREFcXHUwMERCXFx1MDE2OFxcdTFFNzhcXHUwMTZBXFx1MUU3QVxcdTAxNkNcXHUwMERDXFx1MDFEQlxcdTAxRDdcXHUwMUQ1XFx1MDFEOVxcdTFFRTZcXHUwMTZFXFx1MDE3MFxcdTAxRDNcXHUwMjE0XFx1MDIxNlxcdTAxQUZcXHUxRUVBXFx1MUVFOFxcdTFFRUVcXHUxRUVDXFx1MUVGMFxcdTFFRTRcXHUxRTcyXFx1MDE3MlxcdTFFNzZcXHUxRTc0XFx1MDI0NF0vZyB9LCB7ICdiYXNlJzogJ1YnLCAnbGV0dGVycyc6IC9bXFx1MDA1NlxcdTI0Q0JcXHVGRjM2XFx1MUU3Q1xcdTFFN0VcXHUwMUIyXFx1QTc1RVxcdTAyNDVdL2cgfSwgeyAnYmFzZSc6ICdWWScsICdsZXR0ZXJzJzogL1tcXHVBNzYwXS9nIH0sIHsgJ2Jhc2UnOiAnVycsICdsZXR0ZXJzJzogL1tcXHUwMDU3XFx1MjRDQ1xcdUZGMzdcXHUxRTgwXFx1MUU4MlxcdTAxNzRcXHUxRTg2XFx1MUU4NFxcdTFFODhcXHUyQzcyXS9nIH0sIHsgJ2Jhc2UnOiAnWCcsICdsZXR0ZXJzJzogL1tcXHUwMDU4XFx1MjRDRFxcdUZGMzhcXHUxRThBXFx1MUU4Q10vZyB9LCB7ICdiYXNlJzogJ1knLCAnbGV0dGVycyc6IC9bXFx1MDA1OVxcdTI0Q0VcXHVGRjM5XFx1MUVGMlxcdTAwRERcXHUwMTc2XFx1MUVGOFxcdTAyMzJcXHUxRThFXFx1MDE3OFxcdTFFRjZcXHUxRUY0XFx1MDFCM1xcdTAyNEVcXHUxRUZFXS9nIH0sIHsgJ2Jhc2UnOiAnWicsICdsZXR0ZXJzJzogL1tcXHUwMDVBXFx1MjRDRlxcdUZGM0FcXHUwMTc5XFx1MUU5MFxcdTAxN0JcXHUwMTdEXFx1MUU5MlxcdTFFOTRcXHUwMUI1XFx1MDIyNFxcdTJDN0ZcXHUyQzZCXFx1QTc2Ml0vZyB9LCB7ICdiYXNlJzogJ2EnLCAnbGV0dGVycyc6IC9bXFx1MDA2MVxcdTI0RDBcXHVGRjQxXFx1MUU5QVxcdTAwRTBcXHUwMEUxXFx1MDBFMlxcdTFFQTdcXHUxRUE1XFx1MUVBQlxcdTFFQTlcXHUwMEUzXFx1MDEwMVxcdTAxMDNcXHUxRUIxXFx1MUVBRlxcdTFFQjVcXHUxRUIzXFx1MDIyN1xcdTAxRTFcXHUwMEU0XFx1MDFERlxcdTFFQTNcXHUwMEU1XFx1MDFGQlxcdTAxQ0VcXHUwMjAxXFx1MDIwM1xcdTFFQTFcXHUxRUFEXFx1MUVCN1xcdTFFMDFcXHUwMTA1XFx1MkM2NVxcdTAyNTBdL2cgfSwgeyAnYmFzZSc6ICdhYScsICdsZXR0ZXJzJzogL1tcXHVBNzMzXS9nIH0sIHsgJ2Jhc2UnOiAnYWUnLCAnbGV0dGVycyc6IC9bXFx1MDBFNlxcdTAxRkRcXHUwMUUzXS9nIH0sIHsgJ2Jhc2UnOiAnYW8nLCAnbGV0dGVycyc6IC9bXFx1QTczNV0vZyB9LCB7ICdiYXNlJzogJ2F1JywgJ2xldHRlcnMnOiAvW1xcdUE3MzddL2cgfSwgeyAnYmFzZSc6ICdhdicsICdsZXR0ZXJzJzogL1tcXHVBNzM5XFx1QTczQl0vZyB9LCB7ICdiYXNlJzogJ2F5JywgJ2xldHRlcnMnOiAvW1xcdUE3M0RdL2cgfSwgeyAnYmFzZSc6ICdiJywgJ2xldHRlcnMnOiAvW1xcdTAwNjJcXHUyNEQxXFx1RkY0MlxcdTFFMDNcXHUxRTA1XFx1MUUwN1xcdTAxODBcXHUwMTgzXFx1MDI1M10vZyB9LCB7ICdiYXNlJzogJ2MnLCAnbGV0dGVycyc6IC9bXFx1MDA2M1xcdTI0RDJcXHVGRjQzXFx1MDEwN1xcdTAxMDlcXHUwMTBCXFx1MDEwRFxcdTAwRTdcXHUxRTA5XFx1MDE4OFxcdTAyM0NcXHVBNzNGXFx1MjE4NF0vZyB9LCB7ICdiYXNlJzogJ2QnLCAnbGV0dGVycyc6IC9bXFx1MDA2NFxcdTI0RDNcXHVGRjQ0XFx1MUUwQlxcdTAxMEZcXHUxRTBEXFx1MUUxMVxcdTFFMTNcXHUxRTBGXFx1MDExMVxcdTAxOENcXHUwMjU2XFx1MDI1N1xcdUE3N0FdL2cgfSwgeyAnYmFzZSc6ICdkeicsICdsZXR0ZXJzJzogL1tcXHUwMUYzXFx1MDFDNl0vZyB9LCB7ICdiYXNlJzogJ2UnLCAnbGV0dGVycyc6IC9bXFx1MDA2NVxcdTI0RDRcXHVGRjQ1XFx1MDBFOFxcdTAwRTlcXHUwMEVBXFx1MUVDMVxcdTFFQkZcXHUxRUM1XFx1MUVDM1xcdTFFQkRcXHUwMTEzXFx1MUUxNVxcdTFFMTdcXHUwMTE1XFx1MDExN1xcdTAwRUJcXHUxRUJCXFx1MDExQlxcdTAyMDVcXHUwMjA3XFx1MUVCOVxcdTFFQzdcXHUwMjI5XFx1MUUxRFxcdTAxMTlcXHUxRTE5XFx1MUUxQlxcdTAyNDdcXHUwMjVCXFx1MDFERF0vZyB9LCB7ICdiYXNlJzogJ2YnLCAnbGV0dGVycyc6IC9bXFx1MDA2NlxcdTI0RDVcXHVGRjQ2XFx1MUUxRlxcdTAxOTJcXHVBNzdDXS9nIH0sIHsgJ2Jhc2UnOiAnZycsICdsZXR0ZXJzJzogL1tcXHUwMDY3XFx1MjRENlxcdUZGNDdcXHUwMUY1XFx1MDExRFxcdTFFMjFcXHUwMTFGXFx1MDEyMVxcdTAxRTdcXHUwMTIzXFx1MDFFNVxcdTAyNjBcXHVBN0ExXFx1MUQ3OVxcdUE3N0ZdL2cgfSwgeyAnYmFzZSc6ICdoJywgJ2xldHRlcnMnOiAvW1xcdTAwNjhcXHUyNEQ3XFx1RkY0OFxcdTAxMjVcXHUxRTIzXFx1MUUyN1xcdTAyMUZcXHUxRTI1XFx1MUUyOVxcdTFFMkJcXHUxRTk2XFx1MDEyN1xcdTJDNjhcXHUyQzc2XFx1MDI2NV0vZyB9LCB7ICdiYXNlJzogJ2h2JywgJ2xldHRlcnMnOiAvW1xcdTAxOTVdL2cgfSwgeyAnYmFzZSc6ICdpJywgJ2xldHRlcnMnOiAvW1xcdTAwNjlcXHUyNEQ4XFx1RkY0OVxcdTAwRUNcXHUwMEVEXFx1MDBFRVxcdTAxMjlcXHUwMTJCXFx1MDEyRFxcdTAwRUZcXHUxRTJGXFx1MUVDOVxcdTAxRDBcXHUwMjA5XFx1MDIwQlxcdTFFQ0JcXHUwMTJGXFx1MUUyRFxcdTAyNjhcXHUwMTMxXS9nIH0sIHsgJ2Jhc2UnOiAnaicsICdsZXR0ZXJzJzogL1tcXHUwMDZBXFx1MjREOVxcdUZGNEFcXHUwMTM1XFx1MDFGMFxcdTAyNDldL2cgfSwgeyAnYmFzZSc6ICdrJywgJ2xldHRlcnMnOiAvW1xcdTAwNkJcXHUyNERBXFx1RkY0QlxcdTFFMzFcXHUwMUU5XFx1MUUzM1xcdTAxMzdcXHUxRTM1XFx1MDE5OVxcdTJDNkFcXHVBNzQxXFx1QTc0M1xcdUE3NDVcXHVBN0EzXS9nIH0sIHsgJ2Jhc2UnOiAnbCcsICdsZXR0ZXJzJzogL1tcXHUwMDZDXFx1MjREQlxcdUZGNENcXHUwMTQwXFx1MDEzQVxcdTAxM0VcXHUxRTM3XFx1MUUzOVxcdTAxM0NcXHUxRTNEXFx1MUUzQlxcdTAxN0ZcXHUwMTQyXFx1MDE5QVxcdTAyNkJcXHUyQzYxXFx1QTc0OVxcdUE3ODFcXHVBNzQ3XS9nIH0sIHsgJ2Jhc2UnOiAnbGonLCAnbGV0dGVycyc6IC9bXFx1MDFDOV0vZyB9LCB7ICdiYXNlJzogJ20nLCAnbGV0dGVycyc6IC9bXFx1MDA2RFxcdTI0RENcXHVGRjREXFx1MUUzRlxcdTFFNDFcXHUxRTQzXFx1MDI3MVxcdTAyNkZdL2cgfSwgeyAnYmFzZSc6ICduJywgJ2xldHRlcnMnOiAvW1xcdTAwNkVcXHUyNEREXFx1RkY0RVxcdTAxRjlcXHUwMTQ0XFx1MDBGMVxcdTFFNDVcXHUwMTQ4XFx1MUU0N1xcdTAxNDZcXHUxRTRCXFx1MUU0OVxcdTAxOUVcXHUwMjcyXFx1MDE0OVxcdUE3OTFcXHVBN0E1XS9nIH0sIHsgJ2Jhc2UnOiAnbmonLCAnbGV0dGVycyc6IC9bXFx1MDFDQ10vZyB9LCB7ICdiYXNlJzogJ28nLCAnbGV0dGVycyc6IC9bXFx1MDA2RlxcdTI0REVcXHVGRjRGXFx1MDBGMlxcdTAwRjNcXHUwMEY0XFx1MUVEM1xcdTFFRDFcXHUxRUQ3XFx1MUVENVxcdTAwRjVcXHUxRTREXFx1MDIyRFxcdTFFNEZcXHUwMTREXFx1MUU1MVxcdTFFNTNcXHUwMTRGXFx1MDIyRlxcdTAyMzFcXHUwMEY2XFx1MDIyQlxcdTFFQ0ZcXHUwMTUxXFx1MDFEMlxcdTAyMERcXHUwMjBGXFx1MDFBMVxcdTFFRERcXHUxRURCXFx1MUVFMVxcdTFFREZcXHUxRUUzXFx1MUVDRFxcdTFFRDlcXHUwMUVCXFx1MDFFRFxcdTAwRjhcXHUwMUZGXFx1MDI1NFxcdUE3NEJcXHVBNzREXFx1MDI3NV0vZyB9LCB7ICdiYXNlJzogJ29pJywgJ2xldHRlcnMnOiAvW1xcdTAxQTNdL2cgfSwgeyAnYmFzZSc6ICdvdScsICdsZXR0ZXJzJzogL1tcXHUwMjIzXS9nIH0sIHsgJ2Jhc2UnOiAnb28nLCAnbGV0dGVycyc6IC9bXFx1QTc0Rl0vZyB9LCB7ICdiYXNlJzogJ3AnLCAnbGV0dGVycyc6IC9bXFx1MDA3MFxcdTI0REZcXHVGRjUwXFx1MUU1NVxcdTFFNTdcXHUwMUE1XFx1MUQ3RFxcdUE3NTFcXHVBNzUzXFx1QTc1NV0vZyB9LCB7ICdiYXNlJzogJ3EnLCAnbGV0dGVycyc6IC9bXFx1MDA3MVxcdTI0RTBcXHVGRjUxXFx1MDI0QlxcdUE3NTdcXHVBNzU5XS9nIH0sIHsgJ2Jhc2UnOiAncicsICdsZXR0ZXJzJzogL1tcXHUwMDcyXFx1MjRFMVxcdUZGNTJcXHUwMTU1XFx1MUU1OVxcdTAxNTlcXHUwMjExXFx1MDIxM1xcdTFFNUJcXHUxRTVEXFx1MDE1N1xcdTFFNUZcXHUwMjREXFx1MDI3RFxcdUE3NUJcXHVBN0E3XFx1QTc4M10vZyB9LCB7ICdiYXNlJzogJ3MnLCAnbGV0dGVycyc6IC9bXFx1MDA3M1xcdTI0RTJcXHVGRjUzXFx1MDBERlxcdTAxNUJcXHUxRTY1XFx1MDE1RFxcdTFFNjFcXHUwMTYxXFx1MUU2N1xcdTFFNjNcXHUxRTY5XFx1MDIxOVxcdTAxNUZcXHUwMjNGXFx1QTdBOVxcdUE3ODVcXHUxRTlCXS9nIH0sIHsgJ2Jhc2UnOiAndCcsICdsZXR0ZXJzJzogL1tcXHUwMDc0XFx1MjRFM1xcdUZGNTRcXHUxRTZCXFx1MUU5N1xcdTAxNjVcXHUxRTZEXFx1MDIxQlxcdTAxNjNcXHUxRTcxXFx1MUU2RlxcdTAxNjdcXHUwMUFEXFx1MDI4OFxcdTJDNjZcXHVBNzg3XS9nIH0sIHsgJ2Jhc2UnOiAndHonLCAnbGV0dGVycyc6IC9bXFx1QTcyOV0vZyB9LCB7ICdiYXNlJzogJ3UnLCAnbGV0dGVycyc6IC9bXFx1MDA3NVxcdTI0RTRcXHVGRjU1XFx1MDBGOVxcdTAwRkFcXHUwMEZCXFx1MDE2OVxcdTFFNzlcXHUwMTZCXFx1MUU3QlxcdTAxNkRcXHUwMEZDXFx1MDFEQ1xcdTAxRDhcXHUwMUQ2XFx1MDFEQVxcdTFFRTdcXHUwMTZGXFx1MDE3MVxcdTAxRDRcXHUwMjE1XFx1MDIxN1xcdTAxQjBcXHUxRUVCXFx1MUVFOVxcdTFFRUZcXHUxRUVEXFx1MUVGMVxcdTFFRTVcXHUxRTczXFx1MDE3M1xcdTFFNzdcXHUxRTc1XFx1MDI4OV0vZyB9LCB7ICdiYXNlJzogJ3YnLCAnbGV0dGVycyc6IC9bXFx1MDA3NlxcdTI0RTVcXHVGRjU2XFx1MUU3RFxcdTFFN0ZcXHUwMjhCXFx1QTc1RlxcdTAyOENdL2cgfSwgeyAnYmFzZSc6ICd2eScsICdsZXR0ZXJzJzogL1tcXHVBNzYxXS9nIH0sIHsgJ2Jhc2UnOiAndycsICdsZXR0ZXJzJzogL1tcXHUwMDc3XFx1MjRFNlxcdUZGNTdcXHUxRTgxXFx1MUU4M1xcdTAxNzVcXHUxRTg3XFx1MUU4NVxcdTFFOThcXHUxRTg5XFx1MkM3M10vZyB9LCB7ICdiYXNlJzogJ3gnLCAnbGV0dGVycyc6IC9bXFx1MDA3OFxcdTI0RTdcXHVGRjU4XFx1MUU4QlxcdTFFOERdL2cgfSwgeyAnYmFzZSc6ICd5JywgJ2xldHRlcnMnOiAvW1xcdTAwNzlcXHUyNEU4XFx1RkY1OVxcdTFFRjNcXHUwMEZEXFx1MDE3N1xcdTFFRjlcXHUwMjMzXFx1MUU4RlxcdTAwRkZcXHUxRUY3XFx1MUU5OVxcdTFFRjVcXHUwMUI0XFx1MDI0RlxcdTFFRkZdL2cgfSwgeyAnYmFzZSc6ICd6JywgJ2xldHRlcnMnOiAvW1xcdTAwN0FcXHUyNEU5XFx1RkY1QVxcdTAxN0FcXHUxRTkxXFx1MDE3Q1xcdTAxN0VcXHUxRTkzXFx1MUU5NVxcdTAxQjZcXHUwMjI1XFx1MDI0MFxcdTJDNkNcXHVBNzYzXS9nIH1dO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmlwRGlhY3JpdGljcyhzdHIpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpKyspIHtcblx0XHRzdHIgPSBzdHIucmVwbGFjZShtYXBbaV0ubGV0dGVycywgbWFwW2ldLmJhc2UpO1xuXHR9XG5cdHJldHVybiBzdHI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9saWIvdXRpbHMvc3RyaXBEaWFjcml0aWNzLmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5qUXVlcnkgPSBleHBvcnRzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RBZGRvbnNVcGRhdGUgPSByZXF1aXJlKFwicmVhY3QtYWRkb25zLXVwZGF0ZVwiKTtcblxudmFyIF9yZWFjdEFkZG9uc1VwZGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1VwZGF0ZSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfYW5pbWF0aW9uTWl4aW4gPSByZXF1aXJlKFwiLi9hbmltYXRpb25NaXhpblwiKTtcblxudmFyIF9hbmltYXRpb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmltYXRpb25NaXhpbik7XG5cbnZhciBfalF1ZXJ5TWl4aW4gPSByZXF1aXJlKFwiLi9qUXVlcnlNaXhpblwiKTtcblxudmFyIF9qUXVlcnlNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qUXVlcnlNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgVG9hc3RNZXNzYWdlU3BlYyA9IHtcbiAgZGlzcGxheU5hbWU6IFwiVG9hc3RNZXNzYWdlXCIsXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgdmFyIGljb25DbGFzc05hbWVzID0ge1xuICAgICAgZXJyb3I6IFwidG9hc3QtZXJyb3JcIixcbiAgICAgIGluZm86IFwidG9hc3QtaW5mb1wiLFxuICAgICAgc3VjY2VzczogXCJ0b2FzdC1zdWNjZXNzXCIsXG4gICAgICB3YXJuaW5nOiBcInRvYXN0LXdhcm5pbmdcIlxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2xhc3NOYW1lOiBcInRvYXN0XCIsXG4gICAgICBpY29uQ2xhc3NOYW1lczogaWNvbkNsYXNzTmFtZXMsXG4gICAgICB0aXRsZUNsYXNzTmFtZTogXCJ0b2FzdC10aXRsZVwiLFxuICAgICAgbWVzc2FnZUNsYXNzTmFtZTogXCJ0b2FzdC1tZXNzYWdlXCIsXG4gICAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgICBjbG9zZUJ1dHRvbjogZmFsc2VcbiAgICB9O1xuICB9LFxuICBoYW5kbGVPbkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVPbkNsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5oYW5kbGVPbkNsaWNrKGV2ZW50KTtcbiAgICBpZiAodGhpcy5wcm9wcy50YXBUb0Rpc21pc3MpIHtcbiAgICAgIHRoaXMuaGlkZVRvYXN0KHRydWUpO1xuICAgIH1cbiAgfSxcbiAgX2hhbmRsZV9jbG9zZV9idXR0b25fY2xpY2s6IGZ1bmN0aW9uIF9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5oaWRlVG9hc3QodHJ1ZSk7XG4gIH0sXG4gIF9oYW5kbGVfcmVtb3ZlOiBmdW5jdGlvbiBfaGFuZGxlX3JlbW92ZSgpIHtcbiAgICB0aGlzLnByb3BzLmhhbmRsZVJlbW92ZSh0aGlzLnByb3BzLnRvYXN0SWQpO1xuICB9LFxuICBfcmVuZGVyX2Nsb3NlX2J1dHRvbjogZnVuY3Rpb24gX3JlbmRlcl9jbG9zZV9idXR0b24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2xvc2VCdXR0b24gPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidG9hc3QtY2xvc2UtYnV0dG9uXCIsIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBcIiZ0aW1lcztcIiB9XG4gICAgfSkgOiBmYWxzZTtcbiAgfSxcbiAgX3JlbmRlcl90aXRsZV9lbGVtZW50OiBmdW5jdGlvbiBfcmVuZGVyX3RpdGxlX2VsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudGl0bGUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy50aXRsZUNsYXNzTmFtZSB9LFxuICAgICAgdGhpcy5wcm9wcy50aXRsZVxuICAgICkgOiBmYWxzZTtcbiAgfSxcbiAgX3JlbmRlcl9tZXNzYWdlX2VsZW1lbnQ6IGZ1bmN0aW9uIF9yZW5kZXJfbWVzc2FnZV9lbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLm1lc3NhZ2UgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5tZXNzYWdlQ2xhc3NOYW1lIH0sXG4gICAgICB0aGlzLnByb3BzLm1lc3NhZ2VcbiAgICApIDogZmFsc2U7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBpY29uQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5pY29uQ2xhc3NOYW1lIHx8IHRoaXMucHJvcHMuaWNvbkNsYXNzTmFtZXNbdGhpcy5wcm9wcy50eXBlXTtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KSh0aGlzLnByb3BzLmNsYXNzTmFtZSwgaWNvbkNsYXNzTmFtZSksXG4gICAgICAgIHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZU9uQ2xpY2ssXG4gICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZVxuICAgICAgfSxcbiAgICAgIHRoaXMuX3JlbmRlcl9jbG9zZV9idXR0b24oKSxcbiAgICAgIHRoaXMuX3JlbmRlcl90aXRsZV9lbGVtZW50KCksXG4gICAgICB0aGlzLl9yZW5kZXJfbWVzc2FnZV9lbGVtZW50KClcbiAgICApO1xuICB9XG59O1xuXG52YXIgYW5pbWF0aW9uID0gZXhwb3J0cy5hbmltYXRpb24gPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoVG9hc3RNZXNzYWdlU3BlYywge1xuICBkaXNwbGF5TmFtZTogeyAkc2V0OiBcIlRvYXN0TWVzc2FnZS5hbmltYXRpb25cIiB9LFxuICBtaXhpbnM6IHsgJHNldDogW19hbmltYXRpb25NaXhpbjIuZGVmYXVsdF0gfVxufSkpO1xuXG52YXIgalF1ZXJ5ID0gZXhwb3J0cy5qUXVlcnkgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoVG9hc3RNZXNzYWdlU3BlYywge1xuICBkaXNwbGF5TmFtZTogeyAkc2V0OiBcIlRvYXN0TWVzc2FnZS5qUXVlcnlcIiB9LFxuICBtaXhpbnM6IHsgJHNldDogW19qUXVlcnlNaXhpbjIuZGVmYXVsdF0gfVxufSkpO1xuXG4vKlxuICogYXNzaWduIGRlZmF1bHQgbm9vcCBmdW5jdGlvbnNcbiAqL1xuVG9hc3RNZXNzYWdlU3BlYy5oYW5kbGVNb3VzZUVudGVyID0gbm9vcDtcblRvYXN0TWVzc2FnZVNwZWMuaGFuZGxlTW91c2VMZWF2ZSA9IG5vb3A7XG5Ub2FzdE1lc3NhZ2VTcGVjLmhpZGVUb2FzdCA9IG5vb3A7XG5cbnZhciBUb2FzdE1lc3NhZ2UgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoVG9hc3RNZXNzYWdlU3BlYyk7XG5cblRvYXN0TWVzc2FnZS5hbmltYXRpb24gPSBhbmltYXRpb247XG5Ub2FzdE1lc3NhZ2UualF1ZXJ5ID0galF1ZXJ5O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2FzdE1lc3NhZ2U7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdE1lc3NhZ2UvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdyZWFjdC9saWIvdXBkYXRlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL34vcmVhY3QtYWRkb25zLXVwZGF0ZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vZXZlbnRzL2V2ZW50cy5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBUYWJsZUhlYWRlciBmcm9tICcuL1RhYmxlSGVhZGVyJztcclxuaW1wb3J0IFRhYmxlQm9keSBmcm9tICcuL1RhYmxlQm9keSc7XHJcbmltcG9ydCBQYWdpbmF0aW9uTGlzdCBmcm9tICcuL3BhZ2luYXRpb24vUGFnaW5hdGlvbkxpc3QnO1xyXG5pbXBvcnQgVG9vbEJhciBmcm9tICcuL3Rvb2xiYXIvVG9vbEJhcic7XHJcbmltcG9ydCBUYWJsZUZpbHRlciBmcm9tICcuL1RhYmxlRmlsdGVyJztcclxuaW1wb3J0IHtUYWJsZURhdGFTdG9yZX0gZnJvbSAnLi9zdG9yZS9UYWJsZURhdGFTdG9yZSc7XHJcbmltcG9ydCBleHBvcnRDU1YgZnJvbSAnLi9jc3ZfZXhwb3J0X3V0aWwnO1xyXG5pbXBvcnQge0ZpbHRlcn0gZnJvbSAnLi9GaWx0ZXInO1xyXG5cclxuY2xhc3MgQm9vdHN0cmFwVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuX2F0dGFjaENlbGxFZGl0RnVuYygpO1xyXG5cclxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmRhdGEpKSB7XHJcbiAgICAgIHRoaXMuc3RvcmUgPSBuZXcgVGFibGVEYXRhU3RvcmUodGhpcy5wcm9wcy5kYXRhLmdldERhdGEoKSk7XHJcbiAgICAgIHRoaXMucHJvcHMuZGF0YS5jbGVhcigpO1xyXG4gICAgICB0aGlzLnByb3BzLmRhdGEub24oJ2NoYW5nZScsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5zZXREYXRhKGRhdGEpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZGF0YTogdGhpcy5nZXRUYWJsZURhdGEoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGNvcHkgPSB0aGlzLnByb3BzLmRhdGEuc2xpY2UoKTtcclxuICAgICAgdGhpcy5zdG9yZSA9IG5ldyBUYWJsZURhdGFTdG9yZShjb3B5KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmluaXRUYWJsZSh0aGlzLnByb3BzKTtcclxuXHJcbiAgICBpZiAodGhpcy5maWx0ZXIpIHtcclxuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHRoaXMuZmlsdGVyLm9uKCdvbkZpbHRlckNoYW5nZScsIChjdXJyZW50RmlsdGVyKSA9PiB7XHJcbiAgICAgICAgc2VsZi5oYW5kbGVGaWx0ZXJEYXRhKGN1cnJlbnRGaWx0ZXIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cgJiYgdGhpcy5wcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQpIHtcclxuICAgICAgbGV0IGNvcHkgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZC5zbGljZSgpO1xyXG4gICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KGNvcHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGRhdGE6IHRoaXMuZ2V0VGFibGVEYXRhKCksXHJcbiAgICAgIGN1cnJQYWdlOiB0aGlzLnByb3BzLm9wdGlvbnMucGFnZSB8fCAxLFxyXG4gICAgICBzaXplUGVyUGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVFswXSxcclxuICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaW5pdFRhYmxlKHByb3BzKXtcclxuICAgIGxldCB7a2V5RmllbGR9ID0gcHJvcHM7XHJcblxyXG4gICAgY29uc3QgaXNLZXlGaWVsZERlZmluZWQgPSB0eXBlb2Yga2V5RmllbGQgPT09ICdzdHJpbmcnICYmIGtleUZpZWxkLmxlbmd0aDtcclxuICAgIFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGNvbHVtbj0+IHtcclxuICAgICAgaWYgKGNvbHVtbi5wcm9wcy5pc0tleSkge1xyXG4gICAgICAgIGlmIChrZXlGaWVsZCkge1xyXG4gICAgICAgICAgdGhyb3cgXCJFcnJvci4gTXVsdGlwbGUga2V5IGNvbHVtbiBiZSBkZXRlY3RlZCBpbiBUYWJsZUhlYWRlckNvbHVtbi5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAga2V5RmllbGQgPSBjb2x1bW4ucHJvcHMuZGF0YUZpZWxkO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjb2x1bW4ucHJvcHMuZmlsdGVyKSB7XHJcbiAgICAgICAgLy8gYSBjb2x1bW4gY29udGFpbnMgYSBmaWx0ZXJcclxuICAgICAgICBpZiAoIXRoaXMuZmlsdGVyKSB7XHJcbiAgICAgICAgICAvLyBmaXJzdCB0aW1lIGNyZWF0ZSB0aGUgZmlsdGVyIG9uIHRoZSBCb290c3RyYXBUYWJsZVxyXG4gICAgICAgICAgdGhpcy5maWx0ZXIgPSBuZXcgRmlsdGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHBhc3MgdGhlIGZpbHRlciB0byBjb2x1bW4gd2l0aCBmaWx0ZXJcclxuICAgICAgICBjb2x1bW4ucHJvcHMuZmlsdGVyLmVtaXR0ZXIgPSB0aGlzLmZpbHRlcjtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgbGV0IGNvbEluZm9zID0gdGhpcy5nZXRDb2x1bW5zRGVzY3JpcHRpb24ocHJvcHMpLnJlZHVjZSgoIHByZXYsIGN1cnIgKSA9PiB7XHJcbiAgICAgIHByZXZbY3Vyci5uYW1lXSA9IGN1cnI7XHJcbiAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgfSwge30pO1xyXG5cclxuICAgIGlmICghaXNLZXlGaWVsZERlZmluZWQgJiYgIWtleUZpZWxkKVxyXG4gICAgICB0aHJvdyBgRXJyb3IuIE5vIGFueSBrZXkgY29sdW1uIGRlZmluZWQgaW4gVGFibGVIZWFkZXJDb2x1bW4uXHJcbiAgICAgICAgICAgIFVzZSAnaXNLZXk9e3RydWV9JyB0byBzcGVjaWZ5IGEgdW5pcXVlIGNvbHVtbiBhZnRlciB2ZXJzaW9uIDAuNS40LmA7XHJcblxyXG4gICAgdGhpcy5zdG9yZS5zZXRQcm9wcyh7XHJcbiAgICAgIGlzUGFnaW5hdGlvbjogcHJvcHMucGFnaW5hdGlvbixcclxuICAgICAga2V5RmllbGQ6IGtleUZpZWxkLFxyXG4gICAgICBjb2xJbmZvczogY29sSW5mb3MsXHJcbiAgICAgIG11bHRpQ29sdW1uU2VhcmNoOiBwcm9wcy5tdWx0aUNvbHVtblNlYXJjaCxcclxuICAgICAgcmVtb3RlOiB0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFRhYmxlRGF0YSgpIHtcclxuICAgICBsZXQgcmVzdWx0ID0gW107XHJcblxyXG4gICAgIGlmKHRoaXMucHJvcHMub3B0aW9ucy5zb3J0TmFtZSAmJiB0aGlzLnByb3BzLm9wdGlvbnMuc29ydE9yZGVyKVxyXG4gICAgICAgdGhpcy5zdG9yZS5zb3J0KHRoaXMucHJvcHMub3B0aW9ucy5zb3J0T3JkZXIsIHRoaXMucHJvcHMub3B0aW9ucy5zb3J0TmFtZSk7XHJcblxyXG4gICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcclxuICAgICAgIGxldCBwYWdlLCBzaXplUGVyUGFnZTtcclxuICAgICAgIGlmICh0aGlzLnN0b3JlLmlzQ2hhbmdlZFBhZ2UoKSkge1xyXG4gICAgICAgIHNpemVQZXJQYWdlID0gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcclxuICAgICAgICBwYWdlID0gdGhpcy5zdGF0ZS5jdXJyUGFnZTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIHNpemVQZXJQYWdlID0gdGhpcy5wcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVFswXTtcclxuICAgICAgICAgcGFnZSA9IHRoaXMucHJvcHMub3B0aW9ucy5wYWdlIHx8IDE7XHJcbiAgICAgICB9XHJcbiAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UocGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xyXG4gICAgIH1cclxuICAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29sdW1uc0Rlc2NyaXB0aW9uKHsgY2hpbGRyZW4gfSkge1xyXG4gICAgcmV0dXJuIGNoaWxkcmVuLm1hcCgoY29sdW1uLCBpKSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZTogY29sdW1uLnByb3BzLmRhdGFGaWVsZCxcclxuICAgICAgICBhbGlnbjogY29sdW1uLnByb3BzLmRhdGFBbGlnbixcclxuICAgICAgICBzb3J0OiBjb2x1bW4ucHJvcHMuZGF0YVNvcnQsXHJcbiAgICAgICAgZm9ybWF0OiBjb2x1bW4ucHJvcHMuZGF0YUZvcm1hdCxcclxuICAgICAgICBmb3JtYXRFeHRyYURhdGE6IGNvbHVtbi5wcm9wcy5mb3JtYXRFeHRyYURhdGEsXHJcbiAgICAgICAgZmlsdGVyRm9ybWF0dGVkOiBjb2x1bW4ucHJvcHMuZmlsdGVyRm9ybWF0dGVkLFxyXG4gICAgICAgIGVkaXRhYmxlOiBjb2x1bW4ucHJvcHMuZWRpdGFibGUsXHJcbiAgICAgICAgaGlkZGVuOiBjb2x1bW4ucHJvcHMuaGlkZGVuLFxyXG4gICAgICAgIHNlYXJjaGFibGU6IGNvbHVtbi5wcm9wcy5zZWFyY2hhYmxlLFxyXG4gICAgICAgIGNsYXNzTmFtZTogY29sdW1uLnByb3BzLmNvbHVtbkNsYXNzTmFtZSxcclxuICAgICAgICB3aWR0aDogY29sdW1uLnByb3BzLndpZHRoLFxyXG4gICAgICAgIHRleHQ6IGNvbHVtbi5wcm9wcy5jaGlsZHJlbixcclxuICAgICAgICBzb3J0RnVuYzogY29sdW1uLnByb3BzLnNvcnRGdW5jLFxyXG4gICAgICAgIGluZGV4OiBpXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XHJcbiAgICB0aGlzLmluaXRUYWJsZShuZXh0UHJvcHMpO1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dFByb3BzLmRhdGEpKSB7XHJcbiAgICAgIHRoaXMuc3RvcmUuc2V0RGF0YShuZXh0UHJvcHMuZGF0YS5zbGljZSgpKTtcclxuICAgICAgbGV0IHBhZ2luYXRpb25Eb20gPSB0aGlzLnJlZnMucGFnaW5hdGlvbjtcclxuICAgICAgbGV0IHBhZ2UgPSBwYWdpbmF0aW9uRG9tICYmIHBhZ2luYXRpb25Eb20uZ2V0Q3VycmVudFBhZ2UoKSB8fCBuZXh0UHJvcHMub3B0aW9ucy5wYWdlIHx8IDE7XHJcbiAgICAgIGxldCBzaXplUGVyUGFnZSA9IHBhZ2luYXRpb25Eb20gJiYgcGFnaW5hdGlvbkRvbS5nZXRTaXplUGVyUGFnZSgpIHx8IG5leHRQcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVFswXTtcclxuICAgICAgLy8gIzEyNVxyXG4gICAgICBpZihwYWdlID4gTWF0aC5jZWlsKG5leHRQcm9wcy5kYXRhLmxlbmd0aCAvIHNpemVQZXJQYWdlKSkgcGFnZSA9IDE7XHJcbiAgICAgIGxldCBzb3J0SW5mbyA9IHRoaXMuc3RvcmUuZ2V0U29ydEluZm8oKTtcclxuICAgICAgbGV0IHNvcnRGaWVsZCA9IG5leHRQcm9wcy5vcHRpb25zLnNvcnROYW1lIHx8IChzb3J0SW5mbyA/IHNvcnRJbmZvLnNvcnRGaWVsZCA6IHVuZGVmaW5lZCk7XHJcbiAgICAgIGxldCBzb3J0T3JkZXIgPSBuZXh0UHJvcHMub3B0aW9ucy5zb3J0T3JkZXIgfHwgKHNvcnRJbmZvID8gc29ydEluZm8ub3JkZXIgOiB1bmRlZmluZWQpO1xyXG4gICAgICBpZihzb3J0RmllbGQgJiYgc29ydE9yZGVyKSB0aGlzLnN0b3JlLnNvcnQoc29ydE9yZGVyLCBzb3J0RmllbGQpO1xyXG4gICAgICBsZXQgZGF0YSA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgY3VyclBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgc2l6ZVBlclBhZ2U6IHNpemVQZXJQYWdlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKG5leHRQcm9wcy5zZWxlY3RSb3cgJiYgbmV4dFByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZCkge1xyXG4gICAgICAvL3NldCBkZWZhdWx0IHNlbGVjdCByb3dzIHRvIHN0b3JlLlxyXG4gICAgICBsZXQgY29weSA9IG5leHRQcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQuc2xpY2UoKTtcclxuICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjb3B5KTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBjb3B5XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCgpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKTtcclxuICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3Njcm9sbEhlYWRlcik7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCk7XHJcbiAgICB0aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zY3JvbGxIZWFkZXIpO1xyXG4gICAgaWYgKHRoaXMuZmlsdGVyKSB7XHJcbiAgICAgIHRoaXMuZmlsdGVyLnJlbW92ZUFsbExpc3RlbmVycyhcIm9uRmlsdGVyQ2hhbmdlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGgoKTtcclxuICAgIHRoaXMuX2F0dGFjaENlbGxFZGl0RnVuYygpO1xyXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUpXHJcbiAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUoKTtcclxuICB9XHJcblxyXG4gIF9hdHRhY2hDZWxsRWRpdEZ1bmMoKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdCkge1xyXG4gICAgICB0aGlzLnByb3BzLmNlbGxFZGl0Ll9fb25Db21wbGV0ZUVkaXRfXyA9IHRoaXMuaGFuZGxlRWRpdENlbGwuYmluZCh0aGlzKTtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSAhPT0gQ29uc3QuQ0VMTF9FRElUX05PTkUpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIGluIHRoZSBjdXJyZW50IGNvbmZpZ3VyYXRpb24sXHJcbiAgICogdGhlIGRhdGFncmlkIHNob3VsZCBsb2FkIGl0cyBkYXRhIHJlbW90ZWx5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW3Byb3BzXSBPcHRpb25hbC4gSWYgbm90IGdpdmVuLCB0aGlzLnByb3BzIHdpbGwgYmUgdXNlZFxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgaXNSZW1vdGVEYXRhU291cmNlKHByb3BzKSB7XHJcbiAgICByZXR1cm4gKHByb3BzIHx8IHRoaXMucHJvcHMpLnJlbW90ZTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgdmFyIHRhYmxlQ2xhc3MgPSBjbGFzc1NldChcInJlYWN0LWJzLXRhYmxlXCIpO1xyXG4gICAgICAgIHZhciBjaGlsZHJlbnMgPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBzdHlsZSA9IHtcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodCxcclxuICAgICAgICAgICAgbWF4SGVpZ2h0OiB0aGlzLnByb3BzLm1heEhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVucyA9IFt0aGlzLnByb3BzLmNoaWxkcmVuXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLmdldENvbHVtbnNEZXNjcmlwdGlvbih0aGlzLnByb3BzKTtcclxuICAgICAgICB2YXIgc29ydEluZm8gPSB0aGlzLnN0b3JlLmdldFNvcnRJbmZvKCk7XHJcbiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSB0aGlzLnJlbmRlclBhZ2luYXRpb24oKTtcclxuICAgICAgICB2YXIgdG9vbEJhciA9IHRoaXMucmVuZGVyVG9vbEJhcigpO1xyXG4gICAgICAgIHZhciB0YWJsZUZpbHRlciA9IHRoaXMucmVuZGVyVGFibGVGaWx0ZXIoY29sdW1ucyk7XHJcbiAgICAgICAgdmFyIGlzU2VsZWN0QWxsID0gdGhpcy5pc1NlbGVjdEFsbCgpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVhY3QtYnMtY29udGFpbmVyXCIgcmVmPVwidGFibGVcIj5cclxuICAgICAgICAgICAgICAgIHt0b29sQmFyfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWFjdC1icy10YWJsZS1jb250YWluZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMuaGFuZGxlTW91c2VFbnRlci5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuaGFuZGxlTW91c2VMZWF2ZS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9XCJoZWFkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3RUeXBlPXt0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlU2VsZWN0Q29sdW1uPXt0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0TmFtZT17c29ydEluZm8gPyBzb3J0SW5mby5zb3J0RmllbGQgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRPcmRlcj17c29ydEluZm8gPyBzb3J0SW5mby5vcmRlciA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Tb3J0PXt0aGlzLmhhbmRsZVNvcnQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RBbGxSb3c9e3RoaXMuaGFuZGxlU2VsZWN0QWxsUm93LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcmVkPXt0aGlzLnByb3BzLmJvcmRlcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZWQ9e3RoaXMucHJvcHMuY29uZGVuc2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZpbHRlcmVkPXt0aGlzLmZpbHRlciA/IHRydWUgOiBmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVJRD17dGhpcy5wcm9wcy50YWJsZUlEfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdEFsbD17aXNTZWxlY3RBbGx9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXt0aGlzLnByb3BzLmhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0PXt0aGlzLnByb3BzLm1heEhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwiYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZGF0YX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJDbGFzc05hbWU9e3RoaXMucHJvcHMudHJDbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZWQ9e3RoaXMucHJvcHMuc3RyaXBlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyZWQ9e3RoaXMucHJvcHMuYm9yZGVyZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyPXt0aGlzLnByb3BzLmhvdmVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlGaWVsZD17dGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZWQ9e3RoaXMucHJvcHMuY29uZGVuc2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RSb3c9e3RoaXMucHJvcHMuc2VsZWN0Um93fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsRWRpdD17dGhpcy5wcm9wcy5jZWxsRWRpdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzPXt0aGlzLnN0YXRlLnNlbGVjdGVkUm93S2V5c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Sb3dDbGljaz17dGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJvd01vdXNlT3Zlcj17dGhpcy5oYW5kbGVSb3dNb3VzZU92ZXIuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Sb3dNb3VzZU91dD17dGhpcy5oYW5kbGVSb3dNb3VzZU91dC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdFJvdz17dGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9EYXRhVGV4dD17dGhpcy5wcm9wcy5vcHRpb25zLm5vRGF0YVRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAge3RhYmxlRmlsdGVyfVxyXG4gICAgICAgICAgICAgICAge3BhZ2luYXRpb259XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgaXNTZWxlY3RBbGwoKXtcclxuICAgIHZhciBkZWZhdWx0U2VsZWN0Um93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCk7XHJcbiAgICB2YXIgYWxsUm93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0QWxsUm93a2V5KCk7XHJcbiAgICBpZihkZWZhdWx0U2VsZWN0Um93S2V5cy5sZW5ndGggIT09IGFsbFJvd0tleXMubGVuZ3RoKXtcclxuICAgICAgcmV0dXJuIGRlZmF1bHRTZWxlY3RSb3dLZXlzLmxlbmd0aCA9PT0gMCA/IGZhbHNlIDogJ2luZGV0ZXJtaW5hdGUnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhblNlbGVjdGVkKCkge1xyXG4gICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShbXSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTb3J0KG9yZGVyLCBzb3J0RmllbGQpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Tb3J0Q2hhbmdlKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblNvcnRDaGFuZ2Uoc29ydEZpZWxkLCBvcmRlciwgdGhpcy5wcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IHRoaXMuc3RvcmUuc29ydChvcmRlciwgc29ydEZpZWxkKS5nZXQoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlUGFnaW5hdGlvbkRhdGEocGFnZSwgc2l6ZVBlclBhZ2UpIHtcclxuICAgIGNvbnN0IHtvblBhZ2VDaGFuZ2V9ID0gdGhpcy5wcm9wcy5vcHRpb25zO1xyXG4gICAgaWYgKG9uUGFnZUNoYW5nZSkge1xyXG4gICAgICBvblBhZ2VDaGFuZ2UocGFnZSwgc2l6ZVBlclBhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKHBhZ2UsIHNpemVQZXJQYWdlKS5nZXQoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIGN1cnJQYWdlOiBwYWdlLFxyXG4gICAgICBzaXplUGVyUGFnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVNb3VzZUxlYXZlKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlTGVhdmUpIHtcclxuICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uTW91c2VMZWF2ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTW91c2VFbnRlcigpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUVudGVyKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlRW50ZXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVJvd01vdXNlT3V0KHJvdykge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3V0KSB7XHJcbiAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3V0KHJvdyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSb3dNb3VzZU92ZXIocm93KSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdmVyKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3Zlcihyb3cpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUm93Q2xpY2socm93KSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uUm93Q2xpY2spIHtcclxuICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uUm93Q2xpY2socm93KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVNlbGVjdEFsbFJvdyhlKSB7XHJcbiAgICB2YXIgaXNTZWxlY3RlZCA9IGUuY3VycmVudFRhcmdldC5jaGVja2VkO1xyXG4gICAgbGV0IHNlbGVjdGVkUm93S2V5cyA9IFtdO1xyXG4gICAgbGV0IHJlc3VsdCA9IHRydWU7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cub25TZWxlY3RBbGwpIHtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cub25TZWxlY3RBbGwoaXNTZWxlY3RlZCxcclxuICAgICAgICBpc1NlbGVjdGVkID8gdGhpcy5zdG9yZS5nZXQoKSA6IFtdKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcgfHwgcmVzdWx0ICE9PSBmYWxzZSkge1xyXG4gICAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIHNlbGVjdGVkUm93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0QWxsUm93a2V5KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoc2VsZWN0ZWRSb3dLZXlzKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBzZWxlY3RlZFJvd0tleXNcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTaG93T25seVNlbGVjdGVkKCkge1xyXG4gICAgdGhpcy5zdG9yZS5pZ25vcmVOb25TZWxlY3RlZCgpO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIGN1cnJQYWdlOiAxLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWxlY3RSb3cocm93LCBpc1NlbGVjdGVkKSB7XHJcbiAgICBsZXQgY3VyclNlbGVjdGVkID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKTtcclxuICAgIGxldCByb3dLZXkgPSByb3dbdGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpXTtcclxuICAgIGxldCByZXN1bHQgPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0KSB7XHJcbiAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0KHJvdywgaXNTZWxlY3RlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICd1bmRlZmluZWQnIHx8IHJlc3VsdCAhPT0gZmFsc2UpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IENvbnN0LlJPV19TRUxFQ1RfU0lOR0xFKSB7XHJcbiAgICAgICAgY3VyclNlbGVjdGVkID0gaXNTZWxlY3RlZCA/IFtyb3dLZXldIDogW11cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgY3VyclNlbGVjdGVkLnB1c2gocm93S2V5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3VyclNlbGVjdGVkID0gY3VyclNlbGVjdGVkLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb3dLZXkgIT09IGtleTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjdXJyU2VsZWN0ZWQpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBzZWxlY3RlZFJvd0tleXM6IGN1cnJTZWxlY3RlZFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUVkaXRDZWxsKG5ld1ZhbCwgcm93SW5kZXgsIGNvbEluZGV4KSB7XHJcbiAgICBsZXQgZmllbGROYW1lO1xyXG4gICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaCh0aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY29sdW1uLCBpKSB7XHJcbiAgICAgIGlmIChpID09IGNvbEluZGV4KSB7XHJcbiAgICAgICAgZmllbGROYW1lID0gY29sdW1uLnByb3BzLmRhdGFGaWVsZDtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCByZXN1bHQgPSB0aGlzLnN0b3JlLmVkaXQobmV3VmFsLCByb3dJbmRleCwgZmllbGROYW1lKS5nZXQoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0LmFmdGVyU2F2ZUNlbGwpIHtcclxuICAgICAgdGhpcy5wcm9wcy5jZWxsRWRpdC5hZnRlclNhdmVDZWxsKHRoaXMuc3RhdGUuZGF0YVtyb3dJbmRleF0sIGZpZWxkTmFtZSwgbmV3VmFsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFkZFJvd0JlZ2luKCkge1xyXG4gICAgaWYgKHRoaXMucmVmcy5ib2R5KSB7XHJcbiAgICAgIC8vIHRoaXMucmVmcy5ib2R5LmNhbmNlbEVkaXQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFkZFJvd0F0QmVnaW4obmV3T2JqKSB7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5zdG9yZS5hZGRBdEJlZ2luKG5ld09iaik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faGFuZGxlQWZ0ZXJBZGRpbmdSb3cobmV3T2JqKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUFkZFJvdyhuZXdPYmopIHtcclxuXHJcbiAgICBsZXQgYmVmb3JlUHJvbWlzZSA9IHRoaXMucHJvcHMub3B0aW9ucy5iZWZvcmVJbnNlcnRSb3cgPyB0aGlzLnByb3BzLm9wdGlvbnMuYmVmb3JlSW5zZXJ0Um93KG5ld09iaikgOiBuZXdPYmpcclxuXHJcbiAgICAvL2V4ZWN1dGUgYmVmb3JlIGFkZCByb3dcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJlZm9yZVByb21pc2UpLnRoZW4oKG1zZyk9PiB7XHJcbiAgICAgICAgbmV3T2JqID0gbXNnXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZS5hZGQobmV3T2JqKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faGFuZGxlQWZ0ZXJBZGRpbmdSb3cobmV3T2JqKTtcclxuXHJcbiAgICB9KS5jYXRjaCgoZSk9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnbGVkYWogb3ZkZVwiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgICAgcmV0dXJuIGUuanNvbigpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0U2l6ZVBlclBhZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRQYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VyclBhZ2U7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEcm9wUm93KHJvd0tleXMpIHtcclxuICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgIGxldCBkcm9wUm93S2V5cyA9IHJvd0tleXM/cm93S2V5czp0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO1xyXG4gICAgLy9hZGQgY29uZmlybSBiZWZvcmUgdGhlIGRlbGV0ZSBhY3Rpb24gaWYgdGhhdCBvcHRpb24gaXMgc2V0LlxyXG4gICAgaWYgKGRyb3BSb3dLZXlzICYmIGRyb3BSb3dLZXlzLmxlbmd0aCA+IDApIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5oYW5kbGVDb25maXJtRGVsZXRlUm93KXtcclxuICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuaGFuZGxlQ29uZmlybURlbGV0ZVJvdyhcclxuICAgICAgICAgIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoYXQuZGVsZXRlUm93KGRyb3BSb3dLZXlzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2UgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB3YW50IGRlbGV0ZT8nKSkge1xyXG4gICAgICAgIHRoaXMuZGVsZXRlUm93KGRyb3BSb3dLZXlzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlUm93KGRyb3BSb3dLZXlzKXtcclxuXHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgdGhpcy5zdG9yZS5yZW1vdmUoZHJvcFJvd0tleXMpOyAgLy9yZW1vdmUgc2VsZWN0ZWQgUm93XHJcbiAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KFtdKTsgIC8vY2xlYXIgc2VsZWN0ZWQgcm93IGtleVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcclxuICAgICAgY29uc3QgeyBzaXplUGVyUGFnZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgbGV0IHsgY3VyclBhZ2UgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgIGxldCBjdXJyTGFzdFBhZ2UgPSBNYXRoLmNlaWwodGhpcy5zdG9yZS5nZXREYXRhTnVtKCkgLyBzaXplUGVyUGFnZSk7XHJcbiAgICAgIGlmIChjdXJyUGFnZSA+IGN1cnJMYXN0UGFnZSlcclxuICAgICAgICBjdXJyUGFnZSA9IGN1cnJMYXN0UGFnZTtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKGN1cnJQYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCksXHJcbiAgICAgICAgY3VyclBhZ2VcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdykge1xyXG4gICAgICB0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJEZWxldGVSb3coZHJvcFJvd0tleXMpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIGhhbmRsZUZpbHRlckRhdGEoZmlsdGVyT2JqKSB7XHJcbiAgICB0aGlzLnN0b3JlLmZpbHRlcihmaWx0ZXJPYmopO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcclxuICAgICAgY29uc3QgeyBzaXplUGVyUGFnZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHNpemVQZXJQYWdlKS5nZXQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJDb2x1bW5GaWx0ZXIpXHJcbiAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckNvbHVtbkZpbHRlcihmaWx0ZXJPYmosXHJcbiAgICAgICAgdGhpcy5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgY3VyclBhZ2U6IDFcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRXhwb3J0Q1NWKCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpO1xyXG4gICAgdmFyIGtleXMgPSBbXTtcclxuICAgIHRoaXMucHJvcHMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKGNvbHVtbikge1xyXG4gICAgICBpZiAoY29sdW1uLnByb3BzLmhpZGRlbiA9PT0gZmFsc2UpIHtcclxuICAgICAgICBrZXlzLnB1c2goY29sdW1uLnByb3BzLmRhdGFGaWVsZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZXhwb3J0Q1NWKHJlc3VsdCwga2V5cywgdGhpcy5wcm9wcy5jc3ZGaWxlTmFtZSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWFyY2goc2VhcmNoVGV4dCkge1xyXG4gICAgdGhpcy5zdG9yZS5zZWFyY2goc2VhcmNoVGV4dCk7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICBjb25zdCB7IHNpemVQZXJQYWdlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UoMSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcclxuICAgIH1cclxuICAgIGlmKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclNlYXJjaClcclxuICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyU2VhcmNoKHNlYXJjaFRleHQsIHRoaXMuc3RvcmUuZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIGN1cnJQYWdlOiAxXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlclBhZ2luYXRpb24oKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgIGxldCBkYXRhU2l6ZTtcclxuICAgICAgaWYgKHRoaXMuaXNSZW1vdGVEYXRhU291cmNlKCkpIHtcclxuICAgICAgICBkYXRhU2l6ZSA9IHRoaXMucHJvcHMuZmV0Y2hJbmZvLmRhdGFUb3RhbFNpemU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVNpemUgPSB0aGlzLnN0b3JlLmdldERhdGFOdW0oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtZm9vdGVyLXBhZ2luYXRpb25cIj5cclxuICAgICAgICAgIDxQYWdpbmF0aW9uTGlzdFxyXG4gICAgICAgICAgICByZWY9XCJwYWdpbmF0aW9uXCJcclxuICAgICAgICAgICAgY3VyclBhZ2U9eyB0aGlzLnN0YXRlLmN1cnJQYWdlIH1cclxuICAgICAgICAgICAgY2hhbmdlUGFnZT17dGhpcy5oYW5kbGVQYWdpbmF0aW9uRGF0YS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICBzaXplUGVyUGFnZT17IHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2UgfVxyXG4gICAgICAgICAgICBzaXplUGVyUGFnZUxpc3Q9e3RoaXMucHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZUxpc3QgfHwgQ29uc3QuU0laRV9QRVJfUEFHRV9MSVNUfVxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uU2l6ZT17dGhpcy5wcm9wcy5vcHRpb25zLnBhZ2luYXRpb25TaXplIHx8IENvbnN0LlBBR0lOQVRJT05fU0laRX1cclxuICAgICAgICAgICAgcmVtb3RlPXt0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpfVxyXG4gICAgICAgICAgICBkYXRhU2l6ZT17ZGF0YVNpemV9XHJcbiAgICAgICAgICAgIG9uU2l6ZVBlclBhZ2VMaXN0PXt0aGlzLnByb3BzLm9wdGlvbnMub25TaXplUGVyUGFnZUxpc3R9XHJcbiAgICAgICAgICAgIHByZVBhZ2U9e3RoaXMucHJvcHMub3B0aW9ucy5wcmVQYWdlIHx8IENvbnN0LlBSRV9QQUdFfVxyXG4gICAgICAgICAgICBuZXh0UGFnZT17dGhpcy5wcm9wcy5vcHRpb25zLm5leHRQYWdlIHx8IENvbnN0Lk5FWFRfUEFHRX1cclxuICAgICAgICAgICAgZmlyc3RQYWdlPXt0aGlzLnByb3BzLm9wdGlvbnMuZmlyc3RQYWdlIHx8IENvbnN0LkZJUlNUX1BBR0V9XHJcbiAgICAgICAgICAgIGxhc3RQYWdlPXt0aGlzLnByb3BzLm9wdGlvbnMubGFzdFBhZ2UgfHwgQ29uc3QuTEFTVF9QQUdFfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyVG9vbEJhcigpIHtcclxuICAgIGxldCBlbmFibGVTaG93T25seVNlbGVjdGVkID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cgJiYgdGhpcy5wcm9wcy5zZWxlY3RSb3cuc2hvd09ubHlTZWxlY3RlZDtcclxuICAgIGlmIChlbmFibGVTaG93T25seVNlbGVjdGVkXHJcbiAgICAgICAgfHwgdGhpcy5wcm9wcy5pbnNlcnRSb3dcclxuICAgICAgICB8fCB0aGlzLnByb3BzLmRlbGV0ZVJvd1xyXG4gICAgICAgIHx8IHRoaXMucHJvcHMuc2VhcmNoXHJcbiAgICAgICAgfHwgdGhpcy5wcm9wcy5leHBvcnRDU1YpIHtcclxuICAgICAgbGV0IGNvbHVtbnM7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgY29sdW1ucyA9IHRoaXMucHJvcHMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgIHZhciBwcm9wcyA9IGNvbHVtbi5wcm9wcztcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHByb3BzLmNoaWxkcmVuLFxyXG4gICAgICAgICAgICBmaWVsZDogcHJvcHMuZGF0YUZpZWxkLFxyXG4gICAgICAgICAgICAvL3doZW4geW91IHdhbnQgc2FtZSBhdXRvIGdlbmVyYXRlIHZhbHVlIGFuZCBub3QgYWxsb3cgZWRpdCwgZXhhbXBsZSBJRCBmaWVsZFxyXG4gICAgICAgICAgICBhdXRvVmFsdWU6IHByb3BzLmF1dG9WYWx1ZSB8fCBmYWxzZSxcclxuICAgICAgICAgICAgLy9mb3IgY3JlYXRlIGVkaXRvciwgbm8gcGFyYW1zIGZvciBjb2x1bW4uZWRpdGFibGUoKSBpbmRpY2F0ZSB0aGF0IGVkaXRvciBmb3IgbmV3IHJvd1xyXG4gICAgICAgICAgICBlZGl0YWJsZTogcHJvcHMuZWRpdGFibGUgJiYgKHR5cGVvZiBwcm9wcy5lZGl0YWJsZSA9PT0gXCJmdW5jdGlvblwiKSA/IHByb3BzLmVkaXRhYmxlKCkgOiBwcm9wcy5lZGl0YWJsZSxcclxuICAgICAgICAgICAgLy9oaWRkZW4gaW4gcG9wdXBcclxuICAgICAgICAgICAgaGlkZGVuSW5Qb3B1cDogcHJvcHMuaGlkZGVuSW5Qb3B1cCxcclxuICAgICAgICAgICAgZm9ybWF0OiBwcm9wcy5kYXRhRm9ybWF0ID8gZnVuY3Rpb24odmFsdWUpe1xyXG4gICAgICAgICAgICAgIHJldHVybiBwcm9wcy5kYXRhRm9ybWF0KHZhbHVlLCBudWxsLCBwcm9wcy5mb3JtYXRFeHRyYURhdGEpLnJlcGxhY2UoLzwuKj8+L2csJycpO1xyXG4gICAgICAgICAgICB9IDogZmFsc2VcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29sdW1ucyA9IFt7XHJcbiAgICAgICAgICBuYW1lOiB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLmNoaWxkcmVuLFxyXG4gICAgICAgICAgZmllbGQ6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuZGF0YUZpZWxkLFxyXG4gICAgICAgICAgZWRpdGFibGU6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuZWRpdGFibGUsXHJcbiAgICAgICAgICBoaWRkZW5JblBvcHVwOiB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLmhpZGRlbkluUG9wdXBcclxuICAgICAgICB9XTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbC1iYXJcIj5cclxuICAgICAgICAgIDxUb29sQmFyXHJcbiAgICAgICAgICAgIGNsZWFyU2VhcmNoPXt0aGlzLnByb3BzLm9wdGlvbnMuY2xlYXJTZWFyY2h9XHJcbiAgICAgICAgICAgIGVuYWJsZUluc2VydD17dGhpcy5wcm9wcy5pbnNlcnRSb3d9XHJcbiAgICAgICAgICAgIGVuYWJsZURlbGV0ZT17dGhpcy5wcm9wcy5kZWxldGVSb3d9XHJcbiAgICAgICAgICAgIGVuYWJsZVNlYXJjaD17dGhpcy5wcm9wcy5zZWFyY2h9XHJcbiAgICAgICAgICAgIGVuYWJsZUV4cG9ydENTVj17dGhpcy5wcm9wcy5leHBvcnRDU1Z9XHJcbiAgICAgICAgICAgIGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQ9e2VuYWJsZVNob3dPbmx5U2VsZWN0ZWR9XHJcbiAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgICAgICAgIHNlYXJjaFBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnNlYXJjaFBsYWNlaG9sZGVyfVxyXG4gICAgICAgICAgICBvbkFkZFJvdz17dGhpcy5oYW5kbGVBZGRSb3cuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgb25BZGRSb3dCZWdpbj17dGhpcy5oYW5kbGVBZGRSb3dCZWdpbi5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICBvbkRyb3BSb3c9e3RoaXMuaGFuZGxlRHJvcFJvdy5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICBvblNlYXJjaD17dGhpcy5oYW5kbGVTZWFyY2guYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgb25FeHBvcnRDU1Y9e3RoaXMuaGFuZGxlRXhwb3J0Q1NWLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgIG9uU2hvd09ubHlTZWxlY3RlZD17dGhpcy5oYW5kbGVTaG93T25seVNlbGVjdGVkLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlclRhYmxlRmlsdGVyKGNvbHVtbnMpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmNvbHVtbkZpbHRlcikge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxUYWJsZUZpbHRlciBjb2x1bW5zPXtjb2x1bW5zfVxyXG4gICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3RUeXBlPXt0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICBvbkZpbHRlcj17dGhpcy5oYW5kbGVGaWx0ZXJEYXRhLmJpbmQodGhpcyl9Lz5cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3Njcm9sbEhlYWRlciA9IChlKSA9PiB7XHJcbiAgICB0aGlzLnJlZnMuaGVhZGVyLnJlZnMuY29udGFpbmVyLnNjcm9sbExlZnQgPSBlLmN1cnJlbnRUYXJnZXQuc2Nyb2xsTGVmdDtcclxuICB9XHJcblxyXG4gIF9hZGp1c3RIZWFkZXJXaWR0aCA9ICgpID0+IHtcclxuICAgIHZhciB0YWJsZUhlYWRlckRvbSA9IHRoaXMucmVmcy5oZWFkZXIucmVmcy5jb250YWluZXIuY2hpbGROb2Rlc1swXTtcclxuICAgIHZhciB0YWJsZUJvZHlEb20gPSB0aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdO1xyXG4gICAgaWYodGFibGVIZWFkZXJEb20ub2Zmc2V0V2lkdGggIT09IHRhYmxlQm9keURvbS5vZmZzZXRXaWR0aCl7XHJcbiAgICAgIHRhYmxlSGVhZGVyRG9tLnN0eWxlLndpZHRoID0gdGFibGVCb2R5RG9tLm9mZnNldFdpZHRoICsgXCJweFwiO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaGVhZGVyUHJvcHMgPSB0aGlzLnJlZnMuYm9keS5nZXRCb2R5SGVhZGVyRG9tUHJvcCgpO1xyXG4gICAgdGhpcy5yZWZzLmhlYWRlci5maXRIZWFkZXIoaGVhZGVyUHJvcHMsXHJcbiAgICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLnNjcm9sbEhlaWdodCA+IHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmNsaWVudEhlaWdodCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQWZ0ZXJBZGRpbmdSb3cobmV3T2JqKSB7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICAvL2lmIHBhZ2luYXRpb24gaXMgZW5hYmxlZCBhbmQgaW5zZXJ0IHJvdyBiZSB0cmlnZ2VyLCBjaGFuZ2UgdG8gbGFzdCBwYWdlXHJcbiAgICAgIGNvbnN0IHsgc2l6ZVBlclBhZ2UgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgIGNvbnN0IGN1cnJMYXN0UGFnZSA9IE1hdGguY2VpbCh0aGlzLnN0b3JlLmdldERhdGFOdW0oKSAvIHNpemVQZXJQYWdlKTtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKGN1cnJMYXN0UGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgY3VyclBhZ2U6IGN1cnJMYXN0UGFnZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckluc2VydFJvdykge1xyXG4gICAgICB0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJJbnNlcnRSb3cobmV3T2JqKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkJvb3RzdHJhcFRhYmxlLnByb3BUeXBlcyA9IHtcclxuICAgIGtleUZpZWxkOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgaGVpZ2h0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgbWF4SGVpZ2h0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgdGFibGVJRDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGRhdGE6IFJlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW1JlYWN0LlByb3BUeXBlcy5hcnJheSwgUmVhY3QuUHJvcFR5cGVzLm9iamVjdF0pLFxyXG4gICAgcmVtb3RlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCwgLy8gcmVtb3RlIGRhdGEsIGRlZmF1bHQgaXMgZmFsc2VcclxuICAgIHN0cmlwZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgYm9yZGVyZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgaG92ZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgY29uZGVuc2VkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIHBhZ2luYXRpb246IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgc2VhcmNoUGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBzZWxlY3RSb3c6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgbW9kZTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFtcclxuICAgICAgICAgICAgQ29uc3QuUk9XX1NFTEVDVF9OT05FLFxyXG4gICAgICAgICAgICBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSxcclxuICAgICAgICAgICAgQ29uc3QuUk9XX1NFTEVDVF9NVUxUSVxyXG4gICAgICAgIF0pLFxyXG4gICAgICAgIGJnQ29sb3I6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgc2VsZWN0ZWQ6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcclxuICAgICAgICBvblNlbGVjdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgb25TZWxlY3RBbGw6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIGNsaWNrVG9TZWxlY3Q6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIGhpZGVTZWxlY3RDb2x1bW46IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgc2hvd09ubHlTZWxlY3RlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2xcclxuICAgIH0pLFxyXG4gICAgY2VsbEVkaXQ6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgbW9kZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBibHVyVG9TYXZlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgICAgICBhZnRlclNhdmVDZWxsOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xyXG4gICAgfSksXHJcbiAgICBpbnNlcnRSb3c6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgZGVsZXRlUm93OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIHNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBjb2x1bW5GaWx0ZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgdHJDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5hbnksXHJcbiAgICBvcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgICAgIGJlZm9yZUluc2VydFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgY2xlYXJTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIHNvcnROYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIHNvcnRPcmRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBhZnRlclRhYmxlQ29tcGxldGU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIGFmdGVyRGVsZXRlUm93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBhZnRlckluc2VydFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgYWZ0ZXJTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIGFmdGVyQ29sdW1uRmlsdGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBvblJvd0NsaWNrOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBwYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIHNpemVQZXJQYWdlTGlzdDogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgICAgIHNpemVQZXJQYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIHBhZ2luYXRpb25TaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIG9uU29ydENoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgb25QYWdlQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBvblNpemVQZXJQYWdlTGlzdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgbm9EYXRhVGV4dDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBoYW5kbGVDb25maXJtRGVsZXRlUm93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBwcmVQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIG5leHRQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGZpcnN0UGFnZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBsYXN0UGFnZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG4gICAgfSksXHJcbiAgICBmZXRjaEluZm86IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgZGF0YVRvdGFsU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICAgIH0pLFxyXG4gICAgZXhwb3J0Q1NWOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGNzdkZpbGVOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcbkJvb3RzdHJhcFRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICBtYXhIZWlnaHQ6IHVuZGVmaW5lZCxcclxuICAgIHRhYmxlSUQ6IHVuZGVmaW5lZCxcclxuICAgIHN0cmlwZWQ6IGZhbHNlLFxyXG4gICAgYm9yZGVyZWQ6IHRydWUsXHJcbiAgICBob3ZlcjogZmFsc2UsXHJcbiAgICBjb25kZW5zZWQ6IGZhbHNlLFxyXG4gICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICBzZWFyY2hQbGFjZWhvbGRlcjogdW5kZWZpbmVkLFxyXG4gICAgc2VsZWN0Um93OiB7XHJcbiAgICAgICAgbW9kZTogQ29uc3QuUk9XX1NFTEVDVF9OT05FLFxyXG4gICAgICAgIGJnQ29sb3I6IENvbnN0LlJPV19TRUxFQ1RfQkdfQ09MT1IsXHJcbiAgICAgICAgc2VsZWN0ZWQ6IFtdLFxyXG4gICAgICAgIG9uU2VsZWN0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgb25TZWxlY3RBbGw6IHVuZGVmaW5lZCxcclxuICAgICAgICBjbGlja1RvU2VsZWN0OiBmYWxzZSxcclxuICAgICAgICBoaWRlU2VsZWN0Q29sdW1uOiBmYWxzZSxcclxuICAgICAgICBjbGlja1RvU2VsZWN0QW5kRWRpdENlbGw6IGZhbHNlLFxyXG4gICAgICAgIHNob3dPbmx5U2VsZWN0ZWQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgY2VsbEVkaXQ6IHtcclxuICAgICAgICBtb2RlOiBDb25zdC5DRUxMX0VESVRfTk9ORSxcclxuICAgICAgICBibHVyVG9TYXZlOiBmYWxzZSxcclxuICAgICAgICBhZnRlclNhdmVDZWxsOiB1bmRlZmluZWRcclxuICAgIH0sXHJcbiAgICBpbnNlcnRSb3c6IGZhbHNlLFxyXG4gICAgZGVsZXRlUm93OiBmYWxzZSxcclxuICAgIHNlYXJjaDogZmFsc2UsXHJcbiAgICBtdWx0aUNvbHVtblNlYXJjaDogZmFsc2UsXHJcbiAgICBjb2x1bW5GaWx0ZXI6IGZhbHNlLFxyXG4gICAgdHJDbGFzc05hbWU6ICcnLFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICAgIGNsZWFyU2VhcmNoOiBmYWxzZSxcclxuICAgICAgICBzb3J0TmFtZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIHNvcnRPcmRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFmdGVyVGFibGVDb21wbGV0ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFmdGVyRGVsZXRlUm93OiB1bmRlZmluZWQsXHJcbiAgICAgICAgYWZ0ZXJJbnNlcnRSb3c6IHVuZGVmaW5lZCxcclxuICAgICAgICBhZnRlclNlYXJjaDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFmdGVyQ29sdW1uRmlsdGVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgb25Sb3dDbGljazogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uTW91c2VMZWF2ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uTW91c2VFbnRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uUm93TW91c2VPdXQ6IHVuZGVmaW5lZCxcclxuICAgICAgICBvblJvd01vdXNlT3ZlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIHBhZ2U6IHVuZGVmaW5lZCxcclxuICAgICAgICBzaXplUGVyUGFnZUxpc3Q6IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVCxcclxuICAgICAgICBzaXplUGVyUGFnZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIHBhZ2luYXRpb25TaXplOiBDb25zdC5QQUdJTkFUSU9OX1NJWkUsXHJcbiAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q6IHVuZGVmaW5lZCxcclxuICAgICAgICBub0RhdGFUZXh0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgaGFuZGxlQ29uZmlybURlbGV0ZVJvdzogdW5kZWZpbmVkLFxyXG4gICAgICAgIHByZVBhZ2U6IENvbnN0LlBSRV9QQUdFLFxyXG4gICAgICAgIG5leHRQYWdlOiBDb25zdC5ORVhUX1BBR0UsXHJcbiAgICAgICAgZmlyc3RQYWdlOiBDb25zdC5GSVJTVF9QQUdFLFxyXG4gICAgICAgIGxhc3RQYWdlOiBDb25zdC5MQVNUX1BBR0VcclxuICAgIH0sXHJcbiAgICBmZXRjaEluZm86IHtcclxuICAgICAgICBkYXRhVG90YWxTaXplOiAwLFxyXG4gICAgfSxcclxuICAgIGV4cG9ydENTVjogZmFsc2UsXHJcbiAgICBjc3ZGaWxlTmFtZTogdW5kZWZpbmVkXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCb290c3RyYXBUYWJsZTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvQm9vdHN0cmFwVGFibGUuanNcbiAqKi8iLCJpbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsdGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXIgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVGaWx0ZXIoZGF0YUZpZWxkLCB2YWx1ZSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IGZpbHRlclR5cGUgPSB0eXBlIHx8IENvbnN0LkZJTFRFUl9UWVBFLkNVU1RPTTtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAvLyB2YWx1ZSBvZiB0aGUgZmlsdGVyIGlzIGFuIG9iamVjdFxyXG4gICAgICAgICAgICBsZXQgaGFzVmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlW3Byb3BdIHx8IHZhbHVlW3Byb3BdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGlzIHVuZGVmaW5lZCBvciBlbXB0eSwgd2UgcmVtb3ZlIHRoZSBmaWx0ZXJcclxuICAgICAgICAgICAgKGhhc1ZhbHVlKSA/IHRoaXMuY3VycmVudEZpbHRlcltkYXRhRmllbGRdID0ge3ZhbHVlOiB2YWx1ZSwgdHlwZTogZmlsdGVyVHlwZX0gOiBkZWxldGUgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF07XHJcbiAgICAgICAgfSBlbHNlIGlmICghdmFsdWUgfHwgdmFsdWUudHJpbSgpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXSA9IHt2YWx1ZTogdmFsdWUudHJpbSgpLCB0eXBlOiBmaWx0ZXJUeXBlfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbWl0KCdvbkZpbHRlckNoYW5nZScsIHRoaXMuY3VycmVudEZpbHRlcik7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvRmlsdGVyLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcblxyXG5jbGFzcyBTZWxlY3RSb3dIZWFkZXJDb2x1bW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIHRoU3R5bGUgPSB7XHJcbiAgICAgIHdpZHRoOiBwYXJzZUludCh0aGlzLnByb3BzLndpZHRoKT90aGlzLnByb3BzLndpZHRoOjM1XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgPHRoIHN0eWxlPXt0aFN0eWxlfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRoLWlubmVyIHRhYmxlLWhlYWRlci1jb2x1bW5cIj5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L3RoPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0Um93SGVhZGVyQ29sdW1uO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9TZWxlY3RSb3dIZWFkZXJDb2x1bW4uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4vdXRpbCc7XHJcbmltcG9ydCBUYWJsZVJvdyBmcm9tICcuL1RhYmxlUm93JztcclxuaW1wb3J0IFRhYmxlQ29sdW1uIGZyb20gJy4vVGFibGVDb2x1bW4nO1xyXG5pbXBvcnQgVGFibGVFZGl0Q29sdW1uIGZyb20gJy4vVGFibGVFZGl0Q29sdW1uJztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5cclxudmFyIGlzRnVuPWZ1bmN0aW9uKG9iail7XHJcbiAgcmV0dXJuIG9iaiYmKHR5cGVvZiBvYmo9PT1cImZ1bmN0aW9uXCIpO1xyXG5cclxufTtcclxuY2xhc3MgVGFibGVCb2R5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY3VyckVkaXRDZWxsOiBudWxsXHJcbiAgICB9O1xyXG4gICAgdGhpcy5lZGl0aW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpe1xyXG4gICAgdGhpcy5hZGp1c3RCb2R5KCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUoKXtcclxuICAgIHRoaXMuYWRqdXN0Qm9keSgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCl7XHJcbiAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9IGNsYXNzU2V0KFwidGFibGUtY29udGFpbmVyXCIpO1xyXG5cclxuICAgIHZhciB0YWJsZUNsYXNzZXMgPSBjbGFzc1NldChcInRhYmxlXCIsIHtcclxuICAgICAgJ3RhYmxlLXN0cmlwZWQnOiB0aGlzLnByb3BzLnN0cmlwZWQsXHJcbiAgICAgICd0YWJsZS1ib3JkZXJlZCc6IHRoaXMucHJvcHMuYm9yZGVyZWQsXHJcbiAgICAgICd0YWJsZS1ob3Zlcic6IHRoaXMucHJvcHMuaG92ZXIsXHJcbiAgICAgICd0YWJsZS1jb25kZW5zZWQnOiB0aGlzLnByb3BzLmNvbmRlbnNlZFxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGlzU2VsZWN0Um93RGVmaW5lZCA9IHRoaXMuX2lzU2VsZWN0Um93RGVmaW5lZCgpO1xyXG4gICAgdmFyIHRhYmxlSGVhZGVyID0gdGhpcy5yZW5kZXJUYWJsZUhlYWRlcihpc1NlbGVjdFJvd0RlZmluZWQpO1xyXG5cclxuICAgIHZhciB0YWJsZVJvd3MgPSB0aGlzLnByb3BzLmRhdGEubWFwKGZ1bmN0aW9uKGRhdGEsIHIpe1xyXG4gICAgICB2YXIgdGFibGVDb2x1bW5zID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbihjb2x1bW4sIGkpe1xyXG4gICAgICAgIHZhciBmaWVsZFZhbHVlID0gZGF0YVtjb2x1bW4ubmFtZV07XHJcbiAgICAgICAgaWYodGhpcy5lZGl0aW5nICYmXHJcbiAgICAgICAgICBjb2x1bW4ubmFtZSAhPT0gdGhpcy5wcm9wcy5rZXlGaWVsZCAmJiAvLyBLZXkgZmllbGQgY2FuJ3QgYmUgZWRpdFxyXG4gICAgICAgICAgY29sdW1uLmVkaXRhYmxlICYmIC8vIGNvbHVtbiBpcyBlZGl0YWJsZT8gZGVmYXVsdCBpcyB0cnVlLCB1c2VyIGNhbiBzZXQgaXQgZmFsc2VcclxuICAgICAgICAgIHRoaXMuc3RhdGUuY3VyckVkaXRDZWxsICE9IG51bGwgJiZcclxuICAgICAgICAgIHRoaXMuc3RhdGUuY3VyckVkaXRDZWxsLnJpZCA9PSByICYmXHJcbiAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbC5jaWQgPT0gaSl7XHJcbiAgICAgICAgICAgIHZhciBmb3JtYXQ9Y29sdW1uLmZvcm1hdD9mdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5mb3JtYXQodmFsdWUsIGRhdGEsIGNvbHVtbi5mb3JtYXRFeHRyYURhdGEpLnJlcGxhY2UoLzwuKj8+L2csJycpO1xyXG4gICAgICAgICAgICB9OmZhbHNlO1xyXG5cclxuICAgICAgICAgIHJldHVybihcclxuICAgICAgICAgICAgICA8VGFibGVFZGl0Q29sdW1uIGNvbXBsZXRlRWRpdD17dGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjb2x1bW4gZWRpdG9yIGN1c3RvbWl6ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU9e2lzRnVuKGNvbHVtbi5lZGl0YWJsZSk/Y29sdW1uLmVkaXRhYmxlKGZpZWxkVmFsdWUsZGF0YSxyLGkpOmNvbHVtbi5lZGl0YWJsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdD17Y29sdW1uLmZvcm1hdD9mb3JtYXQ6ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibHVyVG9TYXZlPXt0aGlzLnByb3BzLmNlbGxFZGl0LmJsdXJUb1NhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dJbmRleD17cn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbEluZGV4PXtpfT5cclxuICAgICAgICAgICAgICAgIHtmaWVsZFZhbHVlfVxyXG4gICAgICAgICAgICAgIDwvVGFibGVFZGl0Q29sdW1uPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgLy9hZGQgYnkgYmx1ZXNwcmluZyBmb3IgY2xhc3NOYW1lIGN1c3RvbWl6ZVxyXG4gICAgICAgICAgdmFyIHRkQ2xhc3NOYW1lPWlzRnVuKGNvbHVtbi5jbGFzc05hbWUpP2NvbHVtbi5jbGFzc05hbWUoZmllbGRWYWx1ZSxkYXRhLHIsaSk6Y29sdW1uLmNsYXNzTmFtZTtcclxuXHJcbiAgICAgICAgICBpZih0eXBlb2YgY29sdW1uLmZvcm1hdCAhPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IGNvbHVtbi5mb3JtYXQoZmllbGRWYWx1ZSwgZGF0YSwgY29sdW1uLmZvcm1hdEV4dHJhRGF0YSk7XHJcbiAgICAgICAgICAgIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoZm9ybWF0dGVkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBmb3JtYXR0ZWRWYWx1ZX19PjwvZGl2PjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4oXHJcbiAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGRhdGFBbGlnbj17Y29sdW1uLmFsaWdufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGRDbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxFZGl0PXt0aGlzLnByb3BzLmNlbGxFZGl0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW49e2NvbHVtbi5oaWRkZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdD17dGhpcy5oYW5kbGVFZGl0Q2VsbC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17Y29sdW1uLndpZHRofT5cclxuICAgICAgICAgICAgICAgIHtmb3JtYXR0ZWRWYWx1ZX1cclxuICAgICAgICAgICAgICA8L1RhYmxlQ29sdW1uPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybihcclxuICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZGF0YUFsaWduPXtjb2x1bW4uYWxpZ259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0ZENsYXNzTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEVkaXQ9e3RoaXMucHJvcHMuY2VsbEVkaXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbj17Y29sdW1uLmhpZGRlbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0PXt0aGlzLmhhbmRsZUVkaXRDZWxsLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXtjb2x1bW4ud2lkdGh9PlxyXG4gICAgICAgICAgICAgICAge2ZpZWxkVmFsdWV9XHJcbiAgICAgICAgICAgICAgPC9UYWJsZUNvbHVtbj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgdGhpcyk7XHJcbiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMucHJvcHMuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoZGF0YVt0aGlzLnByb3BzLmtleUZpZWxkXSkgIT0gLTE7XHJcbiAgICAgIHZhciBzZWxlY3RSb3dDb2x1bW4gPSBpc1NlbGVjdFJvd0RlZmluZWQgJiYgIXRoaXMucHJvcHMuc2VsZWN0Um93LmhpZGVTZWxlY3RDb2x1bW4/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2VsZWN0Um93Q29sdW1uKHNlbGVjdGVkKTpudWxsO1xyXG4gICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjbGFzc05hbWUgY3VzdG9taXplXHJcbiAgICAgIHZhciB0ckNsYXNzTmFtZT1pc0Z1bih0aGlzLnByb3BzLnRyQ2xhc3NOYW1lKT90aGlzLnByb3BzLnRyQ2xhc3NOYW1lKGRhdGEscik6dGhpcy5wcm9wcy50ckNsYXNzTmFtZTtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8VGFibGVSb3cgaXNTZWxlY3RlZD17c2VsZWN0ZWR9IGtleT17cn0gY2xhc3NOYW1lPXt0ckNsYXNzTmFtZX1cclxuICAgICAgICAgIHNlbGVjdFJvdz17aXNTZWxlY3RSb3dEZWZpbmVkP3RoaXMucHJvcHMuc2VsZWN0Um93OnVuZGVmaW5lZH1cclxuICAgICAgICAgIGVuYWJsZUNlbGxFZGl0PXt0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IENvbnN0LkNFTExfRURJVF9OT05FfVxyXG4gICAgICAgICAgb25Sb3dDbGljaz17dGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgb25Sb3dNb3VzZU92ZXI9e3RoaXMuaGFuZGxlUm93TW91c2VPdmVyLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICBvblJvd01vdXNlT3V0PXt0aGlzLmhhbmRsZVJvd01vdXNlT3V0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICBvblNlbGVjdFJvdz17dGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKX0+XHJcbiAgICAgICAgICB7c2VsZWN0Um93Q29sdW1ufVxyXG4gICAgICAgICAge3RhYmxlQ29sdW1uc31cclxuICAgICAgICA8L1RhYmxlUm93PlxyXG4gICAgICApXHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICBpZih0YWJsZVJvd3MubGVuZ3RoID09PSAwKXtcclxuICAgICAgdGFibGVSb3dzLnB1c2goXHJcbiAgICAgIDxUYWJsZVJvdyBrZXk9XCIjI3RhYmxlLWVtcHR5IyNcIj5cclxuICAgICAgICA8dGQgY29sU3Bhbj17dGhpcy5wcm9wcy5jb2x1bW5zLmxlbmd0aCsoaXNTZWxlY3RSb3dEZWZpbmVkPzE6MCl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlYWN0LWJzLXRhYmxlLW5vLWRhdGFcIj5cclxuICAgICAgICAgICAge3RoaXMucHJvcHMubm9EYXRhVGV4dHx8Q29uc3QuTk9fREFUQV9URVhUfVxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICAgIDwvVGFibGVSb3c+KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVkaXRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYWxjdWxhdGVDb250YWluZXJIZWlnaHQoKS50b1N0cmluZygpO1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgPGRpdiByZWY9XCJjb250YWluZXJcIiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzZXN9IHN0eWxlPXt7aGVpZ2h0OiBoZWlnaHR9fT5cclxuICAgICAgICA8dGFibGUgcmVmPVwiYm9keVwiIGNsYXNzTmFtZT17dGFibGVDbGFzc2VzfT5cclxuICAgICAgICAgIHt0YWJsZUhlYWRlcn1cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAge3RhYmxlUm93c31cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZW5kZXJUYWJsZUhlYWRlcihpc1NlbGVjdFJvd0RlZmluZWQpe1xyXG4gICAgdmFyIHNlbGVjdFJvd0hlYWRlciA9IG51bGw7XHJcblxyXG4gICAgaWYoaXNTZWxlY3RSb3dEZWZpbmVkKXtcclxuICAgICAgbGV0IHN0eWxlID0ge1xyXG4gICAgICAgIHdpZHRoOjM1LFxyXG4gICAgICAgIG1pbldpZHRoOjM1XHJcbiAgICAgIH1cclxuICAgICAgc2VsZWN0Um93SGVhZGVyID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbj9udWxsOig8dGggc3R5bGU9e3N0eWxlfSBrZXk9ey0xfT48L3RoPik7XHJcbiAgICB9XHJcbiAgICB2YXIgdGhlYWRlciA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24oY29sdW1uLCBpKXtcclxuICAgICAgbGV0IHdpZHRoID0gY29sdW1uLndpZHRoID09IG51bGw/Y29sdW1uLndpZHRoOnBhcnNlSW50KGNvbHVtbi53aWR0aCk7XHJcbiAgICAgIGxldCBzdHlsZT17XHJcbiAgICAgICAgZGlzcGxheTogY29sdW1uLmhpZGRlbj9cIm5vbmVcIjpudWxsLFxyXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICBtYXhXaWR0aDogd2lkdGhcclxuICAgICAgICAvKiogYWRkIG1pbi13ZHRoIHRvIGZpeCB1c2VyIGFzc2lnbiBjb2x1bW4gd2lkdGggbm90IGVxIG9mZnNldFdpZHRoIGluIGxhcmdlIGNvbHVtbiB0YWJsZSAqKi9cclxuICAgICAgfTtcclxuICAgICAgbGV0IHNvcnRDYWVydCA9IGNvbHVtbi5zb3J0PyhVdGlsLnJlbmRlclJlYWN0U29ydENhcmV0KENvbnN0LlNPUlRfREVTQykpOm51bGw7XHJcbiAgICAgIHJldHVybiAoPHRoIHN0eWxlPXtzdHlsZX0ga2V5PXtpfSBjbGFzc05hbWU9e2NvbHVtbi5jbGFzc05hbWV9Pntjb2x1bW4udGV4dH17c29ydENhZXJ0fTwvdGg+KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgPHRoZWFkIHJlZj1cImhlYWRlclwiPlxyXG4gICAgICAgIDx0cj57c2VsZWN0Um93SGVhZGVyfXt0aGVhZGVyfTwvdHI+XHJcbiAgICAgIDwvdGhlYWQ+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVSb3dNb3VzZU91dChyb3dJbmRleCl7XHJcbiAgICBjb25zdCB0YXJnZXRSb3cgPSB0aGlzLnByb3BzLmRhdGFbcm93SW5kZXgtMV07XHJcbiAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdXQodGFyZ2V0Um93KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVJvd01vdXNlT3Zlcihyb3dJbmRleCl7XHJcbiAgICBjb25zdCB0YXJnZXRSb3cgPSB0aGlzLnByb3BzLmRhdGFbcm93SW5kZXgtMV07XHJcbiAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKHRhcmdldFJvdyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSb3dDbGljayhyb3dJbmRleCl7XHJcbiAgICB2YXIga2V5LCBzZWxlY3RlZFJvdztcclxuICAgIHRoaXMucHJvcHMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHJvdywgaSl7XHJcbiAgICAgIGlmKGkgPT0gcm93SW5kZXgtMSl7XHJcbiAgICAgICAga2V5ID0gcm93W3RoaXMucHJvcHMua2V5RmllbGRdO1xyXG4gICAgICAgIHNlbGVjdGVkUm93ID0gcm93O1xyXG4gICAgICB9XHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHRoaXMucHJvcHMub25Sb3dDbGljayhzZWxlY3RlZFJvdyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWxlY3RSb3cocm93SW5kZXgsIGlzU2VsZWN0ZWQpe1xyXG4gICAgdmFyIGtleSwgc2VsZWN0ZWRSb3c7XHJcbiAgICB0aGlzLnByb3BzLmRhdGEuZm9yRWFjaChmdW5jdGlvbihyb3csIGkpe1xyXG4gICAgICBpZihpID09IHJvd0luZGV4LTEpe1xyXG4gICAgICAgIGtleSA9IHJvd1t0aGlzLnByb3BzLmtleUZpZWxkXTtcclxuICAgICAgICBzZWxlY3RlZFJvdyA9IHJvdztcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0sIHRoaXMpO1xyXG4gICAgdGhpcy5wcm9wcy5vblNlbGVjdFJvdyhzZWxlY3RlZFJvdywgaXNTZWxlY3RlZCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZShlKXtcclxuICAgIGlmKCF0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0IHx8ICF0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpe1xyXG4gICAgICB0aGlzLmhhbmRsZVNlbGVjdFJvdyhcclxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJvd0luZGV4LCBlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVFZGl0Q2VsbChyb3dJbmRleCwgY29sdW1uSW5kZXgpe1xyXG4gICAgdGhpcy5lZGl0aW5nID0gdHJ1ZTtcclxuICAgIGlmKHRoaXMuX2lzU2VsZWN0Um93RGVmaW5lZCgpKXtcclxuICAgICAgY29sdW1uSW5kZXgtLTtcclxuICAgICAgaWYodGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbilcclxuICAgICAgICBjb2x1bW5JbmRleCsrO1xyXG4gICAgfVxyXG4gICAgcm93SW5kZXgtLTtcclxuICAgIHZhciBzdGF0ZU9iaiA9IHtcclxuICAgICAgY3VyckVkaXRDZWxsOiB7XHJcbiAgICAgICAgcmlkOiByb3dJbmRleCxcclxuICAgICAgICBjaWQ6IGNvbHVtbkluZGV4XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYodGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsKXtcclxuICAgICAgdGhpcy5oYW5kbGVTZWxlY3RSb3cocm93SW5kZXgrMSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlT2JqKTtcclxuICB9XHJcblxyXG4gIGNhbmNlbEVkaXQoKXtcclxuICAgIHZhciBjdXJyRWRpdENlbGw9dGhpcy5zdGF0ZS5jdXJyRWRpdENlbGw7XHJcbiAgICBpZihjdXJyRWRpdENlbGwpe1xyXG4gICAgICB0aGlzLmhhbmRsZUNvbXBsZXRlRWRpdENlbGwobnVsbCxjdXJyRWRpdENlbGwucmlkLGN1cnJFZGl0Q2VsbC5jaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ29tcGxldGVFZGl0Q2VsbChuZXdWYWwsIHJvd0luZGV4LCBjb2x1bW5JbmRleCl7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyRWRpdENlbGw6IG51bGx9KTtcclxuICAgIGlmKG51bGwgIT0gbmV3VmFsKVxyXG4gICAgICB0aGlzLnByb3BzLmNlbGxFZGl0Ll9fb25Db21wbGV0ZUVkaXRfXyhuZXdWYWwsIHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJTZWxlY3RSb3dDb2x1bW4oc2VsZWN0ZWQpe1xyXG4gICAgaWYodGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PSBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSkge1xyXG4gICAgICByZXR1cm4gKDxUYWJsZUNvbHVtbj48aW5wdXQgdHlwZT1cInJhZGlvXCIgY2hlY2tlZD17c2VsZWN0ZWR9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlLmJpbmQodGhpcyl9Lz48L1RhYmxlQ29sdW1uPik7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIHJldHVybiAoPFRhYmxlQ29sdW1uID48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17c2VsZWN0ZWR9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlLmJpbmQodGhpcyl9Lz48L1RhYmxlQ29sdW1uPik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRCb2R5SGVhZGVyRG9tUHJvcCgpe1xyXG4gICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2RlcztcclxuICAgIHZhciBoZWFkZXJEb21Qcm9wcyA9IFtdO1xyXG4gICAgZm9yKGxldCBpPTA7aTxoZWFkZXJzLmxlbmd0aDtpKyspe1xyXG4gICAgICBoZWFkZXJEb21Qcm9wcy5wdXNoKHtcclxuICAgICAgICB3aWR0aDpoZWFkZXJzW2ldLm9mZnNldFdpZHRoXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGhlYWRlckRvbVByb3BzO1xyXG4gIH1cclxuXHJcbiAgYWRqdXN0Qm9keSgpIHtcclxuICAgIHRoaXMuaGFyZEZpeEhlYWRlcldpZHRoKCk7XHJcbiAgICBpZih0aGlzLnByb3BzLmNvbmRlbnNlZCkge1xyXG4gICAgICB0aGlzLnJlZnMuYm9keS5zdHlsZS5tYXJnaW5Ub3AgPSBcIi0zNnB4XCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5wcm9wcy5tYXhIZWlnaHQgJiZcclxuICAgICAgcGFyc2VJbnQodGhpcy5wcm9wcy5tYXhIZWlnaHQpIDwgdGhpcy5yZWZzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQpIHtcclxuICAgICAgdGhpcy5yZWZzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAodGhpcy5wcm9wcy5tYXhIZWlnaHQgLSA0MikgKyBcInB4XCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYXJkRml4SGVhZGVyV2lkdGgoKXtcclxuICAgIHZhciBoZWFkZXJzID0gdGhpcy5yZWZzLmhlYWRlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XHJcbiAgICBmb3IobGV0IGk9MDtpPGhlYWRlcnMubGVuZ3RoO2krKyl7XHJcbiAgICAgIGhlYWRlcnNbaV0uc3R5bGUud2lkdGggPSBoZWFkZXJzW2ldLm9mZnNldFdpZHRoICsgXCJweFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2FsY3VsYXRlQ29udGFpbmVySGVpZ2h0KCl7XHJcbiAgICBpZih0aGlzLnByb3BzLmhlaWdodCA9PSBcIjEwMCVcIikgcmV0dXJuIHRoaXMucHJvcHMuaGVpZ2h0O1xyXG4gICAgZWxzZXtcclxuICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMucHJvcHMuaGVpZ2h0KSAtIDQyO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2lzU2VsZWN0Um93RGVmaW5lZCgpe1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IENvbnN0LlJPV19TRUxFQ1RfU0lOR0xFIHx8XHJcbiAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlID09PSBDb25zdC5ST1dfU0VMRUNUX01VTFRJO1xyXG4gIH1cclxufVxyXG5UYWJsZUJvZHkucHJvcFR5cGVzID0ge1xyXG4gIGhlaWdodDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICBkYXRhOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgY29sdW1uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gIHN0cmlwZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGJvcmRlcmVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBob3ZlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgY29uZGVuc2VkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBrZXlGaWVsZDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICBzZWxlY3RlZFJvd0tleXM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcclxuICBvblJvd0NsaWNrOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBvblNlbGVjdFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgbm9EYXRhVGV4dDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUJvZHk7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlQm9keS5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuL0NvbnN0JztcclxuXHJcbmNsYXNzIFRhYmxlQ29sdW1uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcclxuICAgICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGxldCBzaG91bGRVcGRhdGVkID0gdGhpcy5wcm9wcy53aWR0aCAhPT0gbmV4dFByb3BzLndpZHRoXHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuY2xhc3NOYW1lICE9PSBuZXh0UHJvcHMuY2xhc3NOYW1lXHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuaGlkZGVuICE9PSBuZXh0UHJvcHMuaGlkZGVuXHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuZGF0YUFsaWduICE9PSBuZXh0UHJvcHMuZGF0YUFsaWduXHJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBjaGlsZHJlbiAhPT0gdHlwZW9mIG5leHRQcm9wcy5jaGlsZHJlblxyXG4gICAgICAgICAgICB8fCAoJycgKyB0aGlzLnByb3BzLm9uRWRpdCkudG9TdHJpbmcoKSAhPT0gKCcnICsgbmV4dFByb3BzLm9uRWRpdCkudG9TdHJpbmcoKVxyXG5cclxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkVXBkYXRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnICYmIGNoaWxkcmVuICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5wcm9wcy50eXBlID09PSAnY2hlY2tib3gnIHx8IGNoaWxkcmVuLnByb3BzLnR5cGUgPT09ICdyYWRpbycpIHtcclxuICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZWQgPSBzaG91bGRVcGRhdGVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHJvcHMudHlwZSAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLnR5cGUgfHxcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wcm9wcy5jaGVja2VkICE9PSBuZXh0UHJvcHMuY2hpbGRyZW4ucHJvcHMuY2hlY2tlZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHwgY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCEodGhpcy5wcm9wcy5jZWxsRWRpdCAmJiBuZXh0UHJvcHMuY2VsbEVkaXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkVXBkYXRlZFxyXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlICE9PSBuZXh0UHJvcHMuY2VsbEVkaXQubW9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2VsbEVkaXQoZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gQ29uc3QuQ0VMTF9FRElUX0RCQ0xJQ0spIHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkVkaXQoXHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnJvd0luZGV4LFxyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2VsbEluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5wcm9wcy53aWR0aCA9PSBudWxsID9cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy53aWR0aCA6IHRoaXMucHJvcHMud2lkdGguaW5kZXhPZignJScpICE9PSAtMSA/IHRoaXMucHJvcHMud2lkdGggOiBwYXJzZUludCh0aGlzLnByb3BzLndpZHRoKTtcclxuICAgICAgICB2YXIgdGRTdHlsZSA9IHtcclxuICAgICAgICAgICAgdGV4dEFsaWduOiB0aGlzLnByb3BzLmRhdGFBbGlnbixcclxuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy5oaWRkZW4gPyBcIm5vbmVcIiA6IG51bGwsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgbWF4V2lkdGg6IHdpZHRoXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgY2xhc3NuYW1lID0gdGhpcy5wcm9wcy5jbGFzc05hbWU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMud2lkdGgpIHtcclxuICAgICAgICAgICAgY2xhc3NuYW1lICs9IFwiIGNvbC1tZC1cIiArIHdpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHZhciBvcHRzID0ge307XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSA9PSBDb25zdC5DRUxMX0VESVRfQ0xJQ0spIHtcclxuICAgICAgICAgICAgICAgIG9wdHMub25DbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gQ29uc3QuQ0VMTF9FRElUX0RCQ0xJQ0spIHtcclxuICAgICAgICAgICAgICAgIG9wdHMub25Eb3VibGVDbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dGQgc3R5bGU9e3RkU3R5bGV9IGNsYXNzTmFtZT17Y2xhc3NuYW1lfSB7Li4ub3B0c30+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuVGFibGVDb2x1bW4ucHJvcFR5cGVzID0ge1xyXG4gICAgZGF0YUFsaWduOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgaGlkZGVuOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuVGFibGVDb2x1bW4uZGVmYXVsdFByb3BzID0ge1xyXG4gICAgZGF0YUFsaWduOiBcImxlZnRcIixcclxuICAgIGhpZGRlbjogZmFsc2UsXHJcbiAgICBjbGFzc05hbWU6IFwiXCJcclxufVxyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUNvbHVtbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVGFibGVDb2x1bW4uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBFZGl0b3IgZnJvbSAnLi9FZGl0b3InXHJcbmltcG9ydCBOb3RpZmllciBmcm9tICcuL05vdGlmaWNhdGlvbi5qcyc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbmNsYXNzIFRhYmxlRWRpdENvbHVtbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyPTA7XHJcbiAgICAgICAgdGhpcy5zdGF0ZT17XHJcbiAgICAgICAgICAgIHNoYWtlRWRpdG9yOmZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgaGFuZGxlS2V5UHJlc3MoZSl7XHJcbiAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7IC8vUHJlc3NlZCBFTlRFUlxyXG4gICAgICBsZXQgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudHlwZSA9PSAnY2hlY2tib3gnP1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldENoZWNrQm94VmFsdWUoZSk6ZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgICAgaWYoIXRoaXMudmFsaWRhdG9yKHZhbHVlKSl7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQoXHJcbiAgICAgICAgdmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xyXG4gICAgfWVsc2UgaWYoZS5rZXlDb2RlID09IDI3KXtcclxuICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQoXHJcbiAgICAgICAgbnVsbCwgdGhpcy5wcm9wcy5yb3dJbmRleCwgdGhpcy5wcm9wcy5jb2xJbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVCbHVyKGUpe1xyXG4gICAgaWYodGhpcy5wcm9wcy5ibHVyVG9TYXZlKXtcclxuICAgICAgbGV0IHZhbHVlID0gZS5jdXJyZW50VGFyZ2V0LnR5cGUgPT0gJ2NoZWNrYm94Jz9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRDaGVja0JveFZhbHVlKGUpOmUuY3VycmVudFRhcmdldC52YWx1ZTtcclxuICAgICAgaWYoIXRoaXMudmFsaWRhdG9yKHZhbHVlKSl7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQoXHJcbiAgICAgICAgICB2YWx1ZSwgdGhpcy5wcm9wcy5yb3dJbmRleCwgdGhpcy5wcm9wcy5jb2xJbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHZhbGlkYXRvcih2YWx1ZSl7XHJcbiAgICAgIHZhciB0cz10aGlzO1xyXG4gICAgICBpZih0cy5wcm9wcy5lZGl0YWJsZS52YWxpZGF0b3Ipe1xyXG4gICAgICAgICAgdmFyIHZhbGlkPXRzLnByb3BzLmVkaXRhYmxlLnZhbGlkYXRvcih2YWx1ZSk7XHJcbiAgICAgICAgICBpZih2YWxpZCE9PXRydWUpe1xyXG4gICAgICAgICAgICAgIHRzLnJlZnMubm90aWZpZXIubm90aWNlKCdlcnJvcicsdmFsaWQsXCJQcmVzc2VkIEVTQyBjYW4gY2FuY2VsXCIpO1xyXG4gICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRzLnJlZnMuaW5wdXRSZWY7XHJcbiAgICAgICAgICAgICAgLy9hbmltYXRlIGlucHV0XHJcbiAgICAgICAgICAgICAgdHMuY2xlYXJUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgICAgdHMuc2V0U3RhdGUoe3NoYWtlRWRpdG9yOnRydWV9KTtcclxuICAgICAgICAgICAgICB0cy50aW1lb3V0ZUNsZWFyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0cy5zZXRTdGF0ZSh7c2hha2VFZGl0b3I6ZmFsc2V9KTt9LDMwMCk7XHJcbiAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gIH1cclxuICBjbGVhclRpbWVvdXQoKXtcclxuICAgICAgaWYodGhpcy50aW1lb3V0ZUNsZWFyIT0wKXtcclxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRlQ2xlYXIpO1xyXG4gICAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyPTA7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgY29tcG9uZW50RGlkTW91bnQoKXtcclxuICAgICAgdmFyIGlucHV0ID0gdGhpcy5yZWZzLmlucHV0UmVmO1xyXG4gICAgICAvLyBpbnB1dC52YWx1ZSA9IHRoaXMucHJvcHMuY2hpbGRyZW58fCcnO1xyXG4gICAgICBpbnB1dC5mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICB0aGlzLmNsZWFyVGltZW91dCgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCl7XHJcbiAgICB2YXIgZWRpdGFibGU9dGhpcy5wcm9wcy5lZGl0YWJsZSxcclxuICAgICAgICBmb3JtYXQ9dGhpcy5wcm9wcy5mb3JtYXQsXHJcbiAgICAgICAgYXR0cj17XHJcbiAgICAgICAgICAgIHJlZjpcImlucHV0UmVmXCIsXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjp0aGlzLmhhbmRsZUtleVByZXNzLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgIG9uQmx1cjp0aGlzLmhhbmRsZUJsdXIuYmluZCh0aGlzKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9wdXQgcGxhY2Vob2xkZXIgaWYgZXhpc3RcclxuICAgICAgICBlZGl0YWJsZS5wbGFjZWhvbGRlciYmKGF0dHIucGxhY2Vob2xkZXI9ZWRpdGFibGUucGxhY2Vob2xkZXIpO1xyXG5cclxuICAgIHZhciBlZGl0b3JDbGFzcz1jbGFzc1NldCh7J2FuaW1hdGVkJzp0aGlzLnN0YXRlLnNoYWtlRWRpdG9yLCdzaGFrZSc6dGhpcy5zdGF0ZS5zaGFrZUVkaXRvcn0pO1xyXG4gICAgcmV0dXJuKFxyXG4gICAgICAgIDx0ZCByZWY9XCJ0ZFwiIHN0eWxlPXt7cG9zaXRpb246J3JlbGF0aXZlJ319PlxyXG4gICAgICAgICAgICB7RWRpdG9yKGVkaXRhYmxlLGF0dHIsZm9ybWF0LGVkaXRvckNsYXNzLHRoaXMucHJvcHMuY2hpbGRyZW58fCcnKX1cclxuICAgICAgICAgICAgPE5vdGlmaWVyIHJlZj1cIm5vdGlmaWVyXCI+PC9Ob3RpZmllcj5cclxuICAgICAgICA8L3RkPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgX2dldENoZWNrQm94VmFsdWUoZSl7XHJcbiAgICBsZXQgdmFsdWUgPSAnJztcclxuICAgIGxldCB2YWx1ZXMgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWUuc3BsaXQoJzonKTtcclxuICAgIHZhbHVlID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ/dmFsdWVzWzBdOnZhbHVlc1sxXTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG59XHJcblRhYmxlRWRpdENvbHVtbi5wcm9wVHlwZXMgPSB7XHJcbiAgY29tcGxldGVFZGl0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICByb3dJbmRleDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICBjb2xJbmRleDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICBibHVyVG9TYXZlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRhYmxlRWRpdENvbHVtbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVGFibGVFZGl0Q29sdW1uLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcblxyXG5jbGFzcyBUYWJsZUZpbHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuZmlsdGVyT2JqID0ge307XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlVcChlKXtcclxuICAgIGlmKGUuY3VycmVudFRhcmdldC52YWx1ZS50cmltKCkgPT09IFwiXCIpXHJcbiAgICAgIGRlbGV0ZSB0aGlzLmZpbHRlck9ialtlLmN1cnJlbnRUYXJnZXQubmFtZV07XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcclxuXHJcbiAgICB0aGlzLnByb3BzLm9uRmlsdGVyKHRoaXMuZmlsdGVyT2JqKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIHRhYmxlQ2xhc3NlcyA9IGNsYXNzU2V0KFwidGFibGVcIiwge1xyXG4gICAgICAndGFibGUtc3RyaXBlZCc6IHRoaXMucHJvcHMuc3RyaXBlZCxcclxuICAgICAgJ3RhYmxlLWNvbmRlbnNlZCc6IHRoaXMucHJvcHMuY29uZGVuc2VkXHJcbiAgICB9KTtcclxuICAgIHZhciBzZWxlY3RSb3dIZWFkZXIgPSBudWxsO1xyXG5cclxuICAgIGlmKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSB8fFxyXG4gICAgICAgIHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBDb25zdC5ST1dfU0VMRUNUX01VTFRJKXtcclxuICAgICAgbGV0IHN0eWxlID0ge1xyXG4gICAgICAgIHdpZHRoOjM1LFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogMFxyXG4gICAgICB9XHJcbiAgICAgIHNlbGVjdFJvd0hlYWRlciA9ICg8dGggc3R5bGU9e3N0eWxlfSBrZXk9ey0xfT5GaWx0ZXI8L3RoPik7XHJcbiAgICB9XHJcbiAgICB2YXIgZmlsdGVyRmllbGQgPSB0aGlzLnByb3BzLmNvbHVtbnMubWFwKGZ1bmN0aW9uKGNvbHVtbil7XHJcbiAgICAgIHZhciB0aFN0eWxlID0ge1xyXG4gICAgICAgIGRpc3BsYXk6IGNvbHVtbi5oaWRkZW4/XCJub25lXCI6bnVsbCxcclxuICAgICAgICB3aWR0aDogY29sdW1uLndpZHRoXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybihcclxuICAgICAgICA8dGgga2V5PXtjb2x1bW4ubmFtZX0gc3R5bGU9e3RoU3R5bGV9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dCBzaXplPVwiMTBcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPXtjb2x1bW4ubmFtZX0gbmFtZT17Y29sdW1uLm5hbWV9IG9uS2V5VXA9e3RoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKX0vPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC90aD5cclxuICAgICAgKVxyXG4gICAgfSwgdGhpcyk7XHJcbiAgICByZXR1cm4oXHJcbiAgICAgIDx0YWJsZSBjbGFzc05hbWU9e3RhYmxlQ2xhc3Nlc30gc3R5bGU9e3ttYXJnaW5Ub3A6NX19PlxyXG4gICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgIDx0ciBzdHlsZT17e2JvcmRlckJvdHRvbVN0eWxlOiAnaGlkZGVuJ319PlxyXG4gICAgICAgICAgICB7c2VsZWN0Um93SGVhZGVyfXtmaWx0ZXJGaWVsZH1cclxuICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgPC90aGVhZD5cclxuICAgICAgPC90YWJsZT5cclxuICAgIClcclxuICB9XHJcbn1cclxuVGFibGVGaWx0ZXIucHJvcFR5cGVzID0ge1xyXG4gIGNvbHVtbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcclxuICByb3dTZWxlY3RUeXBlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIG9uRmlsdGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUZpbHRlcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVGFibGVGaWx0ZXIuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCBTZWxlY3RSb3dIZWFkZXJDb2x1bW4gZnJvbSAnLi9TZWxlY3RSb3dIZWFkZXJDb2x1bW4nO1xyXG5cclxuY2xhc3MgQ2hlY2tib3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7IHRoaXMudXBkYXRlKHRoaXMucHJvcHMuY2hlY2tlZCk7IH1cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7IHRoaXMudXBkYXRlKHByb3BzLmNoZWNrZWQpOyB9XHJcbiAgdXBkYXRlKGNoZWNrZWQpIHtcclxuICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLmluZGV0ZXJtaW5hdGUgPSBjaGVja2VkID09PSAnaW5kZXRlcm1pbmF0ZSc7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gPGlucHV0IGNsYXNzTmFtZT0ncmVhY3QtYnMtc2VsZWN0LWFsbCcgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17dGhpcy5wcm9wcy5jaGVja2VkfSBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX0gLz5cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFRhYmxlSGVhZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zZWxlY3RSb3dDb2x1bW5XaWR0aCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKXtcclxuICAgIHZhciBjb250YWluZXJDbGFzc2VzID0gY2xhc3NTZXQoXCJ0YWJsZS1oZWFkZXJcIik7XHJcbiAgICB2YXIgdGFibGVDbGFzc2VzID0gY2xhc3NTZXQoXCJ0YWJsZVwiLCBcInRhYmxlLWhvdmVyXCIsIHtcclxuICAgICAgICBcInRhYmxlLWJvcmRlcmVkXCI6IHRoaXMucHJvcHMuYm9yZGVyZWQsXHJcbiAgICAgICAgXCJ0YWJsZS1jb25kZW5zZWRcIjogdGhpcy5wcm9wcy5jb25kZW5zZWRcclxuICAgIH0pO1xyXG4gICAgdmFyIHNlbGVjdFJvd0hlYWRlckNvbCA9IHRoaXMucHJvcHMuaGlkZVNlbGVjdENvbHVtbj9udWxsOnRoaXMucmVuZGVyU2VsZWN0Um93SGVhZGVyKCk7XHJcbiAgICB0aGlzLl9hdHRhY2hDbGVhclNvcnRDYXJldEZ1bmMoKTtcclxuXHJcbiAgICByZXR1cm4oXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtaGVhZGVyLXdyYXBwZXJcIj5cclxuICAgICAgICA8ZGl2IHJlZj1cImNvbnRhaW5lclwiIGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3Nlc30+XHJcbiAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPXt0YWJsZUNsYXNzZXN9IGlkPXt0aGlzLnByb3BzLnRhYmxlSUR9PlxyXG4gICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgPHRyIHJlZj1cImhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAge3NlbGVjdFJvd0hlYWRlckNvbH1cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIHJlbmRlclNlbGVjdFJvd0hlYWRlcigpe1xyXG4gICAgaWYodGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IENvbnN0LlJPV19TRUxFQ1RfU0lOR0xFKSB7XHJcbiAgICAgIHJldHVybiAoPFNlbGVjdFJvd0hlYWRlckNvbHVtbiB3aWR0aD17dGhpcy5zZWxlY3RSb3dDb2x1bW5XaWR0aH0+PC9TZWxlY3RSb3dIZWFkZXJDb2x1bW4+KTtcclxuICAgIH1lbHNlIGlmKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBDb25zdC5ST1dfU0VMRUNUX01VTFRJKXtcclxuICAgICAgcmV0dXJuICg8U2VsZWN0Um93SGVhZGVyQ29sdW1uIHdpZHRoPXt0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRofT5cclxuICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17dGhpcy5wcm9wcy5vblNlbGVjdEFsbFJvd30gY2hlY2tlZD17dGhpcy5wcm9wcy5pc1NlbGVjdEFsbH0vPlxyXG4gICAgICAgIDwvU2VsZWN0Um93SGVhZGVyQ29sdW1uPlxyXG4gICAgICApO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2F0dGFjaENsZWFyU29ydENhcmV0RnVuYygpe1xyXG4gICAgaWYoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSl7XHJcbiAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5wcm9wcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXtcclxuICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMucHJvcHMuY2hpbGRyZW5baV0ucHJvcHMuZGF0YUZpZWxkO1xyXG4gICAgICAgIGNvbnN0IHNvcnQgPSBmaWVsZCA9PT0gdGhpcy5wcm9wcy5zb3J0TmFtZSA/IHRoaXMucHJvcHMuc29ydE9yZGVyIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5baV0gPVxyXG4gICAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW5baV0sXHJcbiAgICAgICAgICAgIHsga2V5OiBpLCBvblNvcnQ6IHRoaXMucHJvcHMub25Tb3J0LCBzb3J0IH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBmaWVsZCA9IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuZGF0YUZpZWxkO1xyXG4gICAgICBjb25zdCBzb3J0ID0gZmllbGQgPT09IHRoaXMucHJvcHMuc29ydE5hbWUgPyB0aGlzLnByb3BzLnNvcnRPcmRlciA6IHVuZGVmaW5lZDtcclxuICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbiA9XHJcbiAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4sIHtrZXk6IDAsIG9uU29ydDogdGhpcy5wcm9wcy5vblNvcnQsIHNvcnR9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpdEhlYWRlcihoZWFkZXJQcm9wcywgaXNWZXJ0aWNhbFNjcm9sbEJhcil7XHJcbiAgICBpZihBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKXtcclxuICAgICAgbGV0IHN0YXJ0UG9zaXRpb24gPSAodGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IENvbnN0LlJPV19TRUxFQ1RfU0lOR0xFIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBDb25zdC5ST1dfU0VMRUNUX01VTFRJKSAmJiAhdGhpcy5wcm9wcy5oaWRlU2VsZWN0Q29sdW1uID8gMTowO1xyXG4gICAgICBpZihzdGFydFBvc2l0aW9uID09IDEpXHJcbiAgICAgICAgdGhpcy5zZWxlY3RSb3dDb2x1bW5XaWR0aCA9IGhlYWRlclByb3BzWzBdLndpZHRoO1xyXG4gICAgICBmb3IobGV0IGk9MDtpPHRoaXMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbltpXSA9XHJcbiAgICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbltpXSwge3dpZHRoOiBoZWFkZXJQcm9wc1tpK3N0YXJ0UG9zaXRpb25dLndpZHRoK1wicHhcIn0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnByb3BzLmNoaWxkcmVuID1cclxuICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbiwge3dpZHRoOiBoZWFkZXJQcm9wc1swXS53aWR0aCtcInB4XCJ9KTtcclxuICAgIH1cclxuICAgIGlmKHRoaXMucHJvcHMuY29uZGVuc2VkICYmICF0aGlzLnByb3BzLmlzRmlsdGVyZWQpIHtcclxuICAgICAgdGhpcy5yZWZzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjM2cHhcIjtcclxuICAgIH1cclxuICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcclxuICAgIGlmKGlzVmVydGljYWxTY3JvbGxCYXIpXHJcbiAgICAgIHRoaXMucmVmcy5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBVdGlsLmdldFNjcm9sbEJhcldpZHRoKCkgKyBcInB4XCI7XHJcbiAgfVxyXG59XHJcblRhYmxlSGVhZGVyLnByb3BUeXBlcyA9IHtcclxuICByb3dTZWxlY3RUeXBlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIG9uU29ydDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25TZWxlY3RBbGxSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIHNvcnROYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIHNvcnRPcmRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICBoaWRlU2VsZWN0Q29sdW1uOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBib3JkZXJlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgY29uZGVuc2VkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBpc0ZpbHRlcmVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBpc1NlbGVjdEFsbDogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFt0cnVlLCAnaW5kZXRlcm1pbmF0ZScsIGZhbHNlXSlcclxufTtcclxuXHJcblRhYmxlSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgVGFibGVIZWFkZXI7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlSGVhZGVyLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4vdXRpbCc7XHJcbmltcG9ydCBEYXRlRmlsdGVyIGZyb20gJy4vZmlsdGVycy9EYXRlJztcclxuaW1wb3J0IFRleHRGaWx0ZXIgZnJvbSAnLi9maWx0ZXJzL1RleHQnO1xyXG5pbXBvcnQgU2VsZWN0RmlsdGVyIGZyb20gJy4vZmlsdGVycy9TZWxlY3QnO1xyXG5pbXBvcnQgTnVtYmVyRmlsdGVyIGZyb20gJy4vZmlsdGVycy9OdW1iZXInO1xyXG5cclxuY2xhc3MgVGFibGVIZWFkZXJDb2x1bW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5oYW5kbGVGaWx0ZXIgPSB0aGlzLmhhbmRsZUZpbHRlci5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ29sdW1uQ2xpY2soZSkge1xyXG4gICAgaWYgKCF0aGlzLnByb3BzLmRhdGFTb3J0KXJldHVybjtcclxuICAgIGxldCBvcmRlciA9IHRoaXMucHJvcHMuc29ydCA9PSBDb25zdC5TT1JUX0RFU0MgPyBDb25zdC5TT1JUX0FTQyA6IENvbnN0LlNPUlRfREVTQztcclxuICAgIHRoaXMucHJvcHMub25Tb3J0KG9yZGVyLCB0aGlzLnByb3BzLmRhdGFGaWVsZCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVGaWx0ZXIodmFsdWUsIHR5cGUpIHtcclxuICAgIHRoaXMucHJvcHMuZmlsdGVyLmVtaXR0ZXIuaGFuZGxlRmlsdGVyKHRoaXMucHJvcHMuZGF0YUZpZWxkLCB2YWx1ZSwgdHlwZSk7XHJcbiAgfVxyXG5cclxuICBnZXRGaWx0ZXJzKCkge1xyXG4gICAgc3dpdGNoICh0aGlzLnByb3BzLmZpbHRlci50eXBlKSB7XHJcbiAgICAgIGNhc2UgQ29uc3QuRklMVEVSX1RZUEUuVEVYVDpcclxuICAgICAge1xyXG4gICAgICAgIHJldHVybiA8VGV4dEZpbHRlciB7Li4udGhpcy5wcm9wcy5maWx0ZXJ9IGNvbHVtbk5hbWU9e3RoaXMucHJvcHMuY2hpbGRyZW59IGZpbHRlckhhbmRsZXI9e3RoaXMuaGFuZGxlRmlsdGVyfS8+O1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgQ29uc3QuRklMVEVSX1RZUEUuU0VMRUNUOlxyXG4gICAgICB7XHJcbiAgICAgICAgcmV0dXJuIDxTZWxlY3RGaWx0ZXIgey4uLnRoaXMucHJvcHMuZmlsdGVyfSBjb2x1bW5OYW1lPXt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcj17dGhpcy5oYW5kbGVGaWx0ZXJ9Lz47XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVI6XHJcbiAgICAgIHtcclxuICAgICAgICByZXR1cm4gPE51bWJlckZpbHRlciB7Li4udGhpcy5wcm9wcy5maWx0ZXJ9IGNvbHVtbk5hbWU9e3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyPXt0aGlzLmhhbmRsZUZpbHRlcn0vPjtcclxuICAgICAgfVxyXG4gICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLkRBVEU6XHJcbiAgICAgIHtcclxuICAgICAgICByZXR1cm4gPERhdGVGaWx0ZXIgey4uLnRoaXMucHJvcHMuZmlsdGVyfSBjb2x1bW5OYW1lPXt0aGlzLnByb3BzLmNoaWxkcmVufSBmaWx0ZXJIYW5kbGVyPXt0aGlzLmhhbmRsZUZpbHRlcn0vPjtcclxuICAgICAgfVxyXG4gICAgICBjYXNlIENvbnN0LkZJTFRFUl9UWVBFLkNVU1RPTTpcclxuICAgICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmZpbHRlci5nZXRFbGVtZW50KHRoaXMuaGFuZGxlRmlsdGVyLCB0aGlzLnByb3BzLmZpbHRlci5jdXN0b21GaWx0ZXJQYXJhbWV0ZXJzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICB0aGlzLnJlZnMuaW5uZXJEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1maWVsZFwiLCB0aGlzLnByb3BzLmRhdGFGaWVsZCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICB2YXIgd2lkdGggPSB0aGlzLnByb3BzLndpZHRoICE9PSBudWxsID8gcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCkgOiBudWxsO1xyXG4gICAgdmFyIHRoU3R5bGUgPSB7XHJcbiAgICAgIHRleHRBbGlnbjogdGhpcy5wcm9wcy5kYXRhQWxpZ24sXHJcbiAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxyXG4gICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgIG1heFdpZHRoOiB3aWR0aFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBkZWZhdWx0Q2FyZXQgPSAoIXRoaXMucHJvcHMuZGF0YVNvcnQpID8gbnVsbCA6IChcclxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib3JkZXJcIj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIiBzdHlsZT17e21hcmdpbjogJzEwcHggMCAxMHB4IDVweCcsIGNvbG9yOiAnI2NjYyd9fT48L3NwYW4+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRyb3B1cFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIiBzdHlsZT17e21hcmdpbjogJzEwcHggMCcsIGNvbG9yOiAnI2NjYyd9fT48L3NwYW4+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L3NwYW4+XHJcbiAgICApO1xyXG4gICAgY29uc3Qgc29ydENhcmV0ID0gdGhpcy5wcm9wcy5zb3J0ID8gVXRpbC5yZW5kZXJSZWFjdFNvcnRDYXJldCh0aGlzLnByb3BzLnNvcnQpIDogZGVmYXVsdENhcmV0O1xyXG5cclxuICAgIHZhciBjbGFzc2VzID0gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyBcIiBcIiArICh0aGlzLnByb3BzLmRhdGFTb3J0ID8gXCJzb3J0LWNvbHVtblwiIDogXCJcIik7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8dGggcmVmPSdoZWFkZXItY29sJyBjbGFzc05hbWU9e2NsYXNzZXN9IHN0eWxlPXt0aFN0eWxlfT5cclxuICAgICAgICA8ZGl2IHJlZj1cImlubmVyRGl2XCIgY2xhc3NOYW1lPVwidGgtaW5uZXIgdGFibGUtaGVhZGVyLWNvbHVtblwiXHJcbiAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNvbHVtbkNsaWNrLmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59e3NvcnRDYXJldH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICB7dGhpcy5wcm9wcy5maWx0ZXIgPyB0aGlzLmdldEZpbHRlcnMoKSA6IG51bGx9XHJcbiAgICAgIDwvdGg+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG52YXIgZmlsdGVyVHlwZUFycmF5ID0gW107XHJcbmZvciAobGV0IGtleSBpbiBDb25zdC5GSUxURVJfVFlQRSkge1xyXG4gIGZpbHRlclR5cGVBcnJheS5wdXNoKENvbnN0LkZJTFRFUl9UWVBFW2tleV0pO1xyXG59XHJcblxyXG5UYWJsZUhlYWRlckNvbHVtbi5wcm9wVHlwZXMgPSB7XHJcbiAgZGF0YUZpZWxkOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRhdGFBbGlnbjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICBkYXRhU29ydDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgb25Tb3J0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBkYXRhRm9ybWF0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBpc0tleTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgZWRpdGFibGU6IFJlYWN0LlByb3BUeXBlcy5hbnksXHJcbiAgaGlkZGVuOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBoaWRkZW5JblBvcHVwOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBzZWFyY2hhYmxlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgd2lkdGg6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc29ydEZ1bmM6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIGNvbHVtbkNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLmFueSxcclxuICBmaWx0ZXJGb3JtYXR0ZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIHNvcnQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZm9ybWF0RXh0cmFEYXRhOiBSZWFjdC5Qcm9wVHlwZXMuYW55LFxyXG4gIGZpbHRlcjogUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgIHR5cGU6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihmaWx0ZXJUeXBlQXJyYXkpLFxyXG4gICAgZGVsYXk6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICBvcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgICAgUmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgLy8gZm9yIFNlbGVjdEZpbHRlclxyXG4gICAgICBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihSZWFjdC5Qcm9wVHlwZXMubnVtYmVyKSAvL2ZvciBOdW1iZXJGaWx0ZXJcclxuICAgIF0pLFxyXG4gICAgbnVtYmVyQ29tcGFyYXRvcnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxyXG4gICAgZW1pdHRlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcclxuICAgIHBsYWNlaG9sZGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgZ2V0RWxlbWVudDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBjdXN0b21GaWx0ZXJQYXJhbWV0ZXJzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XHJcbiAgfSlcclxufTtcclxuXHJcblRhYmxlSGVhZGVyQ29sdW1uLmRlZmF1bHRQcm9wcyA9IHtcclxuICBkYXRhQWxpZ246IFwibGVmdFwiLFxyXG4gIGRhdGFTb3J0OiBmYWxzZSxcclxuICBkYXRhRm9ybWF0OiB1bmRlZmluZWQsXHJcbiAgaXNLZXk6IGZhbHNlLFxyXG4gIGVkaXRhYmxlOiB0cnVlLFxyXG4gIG9uU29ydDogdW5kZWZpbmVkLFxyXG4gIGhpZGRlbjogZmFsc2UsXHJcbiAgaGlkZGVuSW5Qb3B1cDogZmFsc2UsXHJcbiAgc2VhcmNoYWJsZTogdHJ1ZSxcclxuICBjbGFzc05hbWU6IFwiXCIsXHJcbiAgd2lkdGg6IG51bGwsXHJcbiAgc29ydEZ1bmM6IHVuZGVmaW5lZCxcclxuICBjb2x1bW5DbGFzc05hbWU6ICcnLFxyXG4gIGZpbHRlckZvcm1hdHRlZDogZmFsc2UsXHJcbiAgc29ydDogdW5kZWZpbmVkLFxyXG4gIGZvcm1hdEV4dHJhRGF0YTogdW5kZWZpbmVkLFxyXG4gIGZpbHRlcjogdW5kZWZpbmVkXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUhlYWRlckNvbHVtbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVGFibGVIZWFkZXJDb2x1bW4uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcblxyXG5jbGFzcyBUYWJsZVJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuY2xpY2tOdW0gPSAwO1xyXG4gIH1cclxuXHJcbiAgcm93Q2xpY2soZSl7XHJcbiAgICBpZihlLnRhcmdldC50YWdOYW1lICE9PSBcIklOUFVUXCIgJiZcclxuICAgICAgICBlLnRhcmdldC50YWdOYW1lICE9PSBcIlNFTEVDVFwiICYmXHJcbiAgICAgICAgZS50YXJnZXQudGFnTmFtZSAhPT0gXCJURVhUQVJFQVwiKSB7XHJcbiAgICAgIGNvbnN0IHJvd0luZGV4ID0gZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4O1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cpIHtcclxuICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25TZWxlY3RSb3cocm93SW5kZXgsICF0aGlzLnByb3BzLmlzU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGlja051bSsrO1xyXG4gICAgICAgICAgICAvKiogaWYgY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsIGlzIGVuYWJsZWQsXHJcbiAgICAgICAgICAgICAqICB0aGVyZSBzaG91bGQgYmUgYSBkZWxheSB0byBwcmV2ZW50IGEgc2VsZWN0aW9uIGNoYW5nZWQgd2hlblxyXG4gICAgICAgICAgICAgKiAgdXNlciBkYmxpY2sgdG8gZWRpdCBjZWxsIG9uIHNhbWUgcm93IGJ1dCBkaWZmZXJlbnQgY2VsbFxyXG4gICAgICAgICAgICAqKi9cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYodGhpcy5jbGlja051bSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdFJvdyhyb3dJbmRleCwgIXRoaXMucHJvcHMuaXNTZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMuY2xpY2tOdW0gPSAwO1xyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uUm93Q2xpY2spIHRoaXMucHJvcHMub25Sb3dDbGljayhyb3dJbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByb3dNb3VzZU91dChlKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vblJvd01vdXNlT3V0KSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU91dChlLmN1cnJlbnRUYXJnZXQucm93SW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcm93TW91c2VPdmVyKGUpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU92ZXIoZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdGhpcy5jbGlja051bSA9IDA7XHJcbiAgICB2YXIgdHJDc3M9e1xyXG4gICAgICBzdHlsZTp7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmlzU2VsZWN0ZWQ/dGhpcy5wcm9wcy5zZWxlY3RSb3cuYmdDb2xvcjpudWxsXHJcbiAgICAgIH0sXHJcbiAgICAgIGNsYXNzTmFtZToodGhpcy5wcm9wcy5pc1NlbGVjdGVkICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA/IHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA6ICcnKSArICh0aGlzLnByb3BzLmNsYXNzTmFtZXx8JycpXHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHRoaXMucHJvcHMuc2VsZWN0Um93ICYmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0IHx8XHJcbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkgfHwgdGhpcy5wcm9wcy5vblJvd0NsaWNrKXtcclxuICAgICAgcmV0dXJuKFxyXG4gICAgICAgIDx0ciB7Li4udHJDc3N9XHJcbiAgICAgICAgICAgIG9uTW91c2VPdmVyPXt0aGlzLnJvd01vdXNlT3Zlci5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICBvbk1vdXNlT3V0PXt0aGlzLnJvd01vdXNlT3V0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucm93Q2xpY2suYmluZCh0aGlzKX0+e3RoaXMucHJvcHMuY2hpbGRyZW59PC90cj5cclxuICAgICAgKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgIHJldHVybihcclxuICAgICAgICA8dHIgey4uLnRyQ3NzfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3RyPlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblRhYmxlUm93LnByb3BUeXBlcyA9IHtcclxuICBpc1NlbGVjdGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBlbmFibGVDZWxsRWRpdDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgb25Sb3dDbGljazogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25TZWxlY3RSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG9uUm93TW91c2VPdXQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG9uUm93TW91c2VPdmVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5UYWJsZVJvdy5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgb25Sb3dDbGljazogdW5kZWZpbmVkXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgVGFibGVSb3c7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlUm93LmpzXG4gKiovIiwiaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gIHZhciBmaWxlc2F2ZXIgPSByZXF1aXJlKCcuL2ZpbGVzYXZlcicpO1xyXG4gIHZhciBzYXZlQXMgPSBmaWxlc2F2ZXIuc2F2ZUFzXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvU3RyaW5nKGRhdGEsIGtleXMpIHtcclxuICB2YXIgZGF0YVN0cmluZyA9IFwiXCI7XHJcbiAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZGF0YVN0cmluZztcclxuXHJcbiAgZGF0YVN0cmluZyArPSBrZXlzLmpvaW4oJywnKSArICdcXG4nXHJcblxyXG4gIGRhdGEubWFwKGZ1bmN0aW9uKHJvdykge1xyXG4gICAga2V5cy5tYXAoZnVuY3Rpb24oY29sLCBpKSB7XHJcbiAgICAgIGxldCBjZWxsID0gdHlwZW9mIHJvd1tjb2xdICE9PSAndW5kZWZpbmVkJyA/ICgnXCInK3Jvd1tjb2xdKydcIicpIDogXCJcIjtcclxuICAgICAgZGF0YVN0cmluZyArPSBjZWxsO1xyXG4gICAgICBpZiAoaSsxIDwga2V5cy5sZW5ndGgpXHJcbiAgICAgICAgZGF0YVN0cmluZyArPSAnLCc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkYXRhU3RyaW5nICs9ICdcXG4nO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gZGF0YVN0cmluZztcclxufTtcclxuXHJcbnZhciBleHBvcnRDU1YgPSBmdW5jdGlvbihkYXRhLCBrZXlzLCBmaWxlbmFtZSkge1xyXG4gIHZhciBkYXRhU3RyaW5nID0gdG9TdHJpbmcoZGF0YSwga2V5cyk7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBzYXZlQXMoIG5ldyBCbG9iKFtkYXRhU3RyaW5nXSwge3R5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCJ9KSwgZmlsZW5hbWUgfHwgJ3NwcmVhZHNoZWV0LmNzdicgKTtcclxuICB9XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZXhwb3J0Q1NWO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jc3ZfZXhwb3J0X3V0aWwuanNcbiAqKi8iLCIvKiBGaWxlU2F2ZXIuanNcclxuICogQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXHJcbiAqIDEuMS4yMDE1MTAwM1xyXG4gKlxyXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cclxuXHJcbi8qZ2xvYmFsIHNlbGYgKi9cclxuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cclxuXHJcbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXHJcblxyXG52YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbih2aWV3KSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0Ly8gSUUgPDEwIGlzIGV4cGxpY2l0bHkgdW5zdXBwb3J0ZWRcclxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHR2YXJcclxuXHRcdCAgZG9jID0gdmlldy5kb2N1bWVudFxyXG5cdFx0ICAvLyBvbmx5IGdldCBVUkwgd2hlbiBuZWNlc3NhcnkgaW4gY2FzZSBCbG9iLmpzIGhhc24ndCBvdmVycmlkZGVuIGl0IHlldFxyXG5cdFx0LCBnZXRfVVJMID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3O1xyXG5cdFx0fVxyXG5cdFx0LCBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcclxuXHRcdCwgY2FuX3VzZV9zYXZlX2xpbmsgPSBcImRvd25sb2FkXCIgaW4gc2F2ZV9saW5rXHJcblx0XHQsIGNsaWNrID0gZnVuY3Rpb24obm9kZSkge1xyXG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xyXG5cdFx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG5cdFx0fVxyXG5cdFx0LCBpc19zYWZhcmkgPSAvVmVyc2lvblxcL1tcXGRcXC5dKy4qU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXHJcblx0XHQsIHdlYmtpdF9yZXFfZnMgPSB2aWV3LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtXHJcblx0XHQsIHJlcV9mcyA9IHZpZXcucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2Via2l0X3JlcV9mcyB8fCB2aWV3Lm1velJlcXVlc3RGaWxlU3lzdGVtXHJcblx0XHQsIHRocm93X291dHNpZGUgPSBmdW5jdGlvbihleCkge1xyXG5cdFx0XHQodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR0aHJvdyBleDtcclxuXHRcdFx0fSwgMCk7XHJcblx0XHR9XHJcblx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXHJcblx0XHQsIGZzX21pbl9zaXplID0gMFxyXG5cdFx0Ly8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzUyOTcjYzcgYW5kXHJcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvY29tbWl0LzQ4NTkzMGEjY29tbWl0Y29tbWVudC04NzY4MDQ3XHJcblx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xyXG5cdFx0LCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSA1MDAgLy8gaW4gbXNcclxuXHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xyXG5cdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIikgeyAvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcclxuXHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XHJcblx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcclxuXHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZiAodmlldy5jaHJvbWUpIHtcclxuXHRcdFx0XHRyZXZva2VyKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2V0VGltZW91dChyZXZva2VyLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcclxuXHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xyXG5cdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcclxuXHRcdFx0d2hpbGUgKGktLSkge1xyXG5cdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XHJcblx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcclxuXHRcdFx0Ly8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcclxuXHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1wiXFx1ZmVmZlwiLCBibG9iXSwge3R5cGU6IGJsb2IudHlwZX0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBibG9iO1xyXG5cdFx0fVxyXG5cdFx0LCBGaWxlU2F2ZXIgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG5cdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XHJcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdCAgZmlsZXNhdmVyID0gdGhpc1xyXG5cdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxyXG5cdFx0XHRcdCwgYmxvYl9jaGFuZ2VkID0gZmFsc2VcclxuXHRcdFx0XHQsIG9iamVjdF91cmxcclxuXHRcdFx0XHQsIHRhcmdldF92aWV3XHJcblx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xyXG5cdFx0XHRcdCwgZnNfZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmICh0YXJnZXRfdmlldyAmJiBpc19zYWZhcmkgJiYgdHlwZW9mIEZpbGVSZWFkZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdFx0XHRcdFx0Ly8gU2FmYXJpIGRvZXNuJ3QgYWxsb3cgZG93bmxvYWRpbmcgb2YgYmxvYiB1cmxzXHJcblx0XHRcdFx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cdFx0XHRcdFx0XHRyZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGJhc2U2NERhdGEgPSByZWFkZXIucmVzdWx0O1xyXG5cdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBcImRhdGE6YXR0YWNobWVudC9maWxlXCIgKyBiYXNlNjREYXRhLnNsaWNlKGJhc2U2NERhdGEuc2VhcmNoKC9bLDtdLykpO1xyXG5cdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XHJcblx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxyXG5cdFx0XHRcdFx0aWYgKGJsb2JfY2hhbmdlZCB8fCAhb2JqZWN0X3VybCkge1xyXG5cdFx0XHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICh0YXJnZXRfdmlldykge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHZhciBuZXdfdGFiID0gdmlldy5vcGVuKG9iamVjdF91cmwsIFwiX2JsYW5rXCIpO1xyXG5cdFx0XHRcdFx0XHRpZiAobmV3X3RhYiA9PSB1bmRlZmluZWQgJiYgaXNfc2FmYXJpKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly9BcHBsZSBkbyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwOi8vYml0Lmx5LzFrWmZmUklcclxuXHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XHJcblx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcclxuXHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LCBhYm9ydGFibGUgPSBmdW5jdGlvbihmdW5jKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdGlmIChmaWxlc2F2ZXIucmVhZHlTdGF0ZSAhPT0gZmlsZXNhdmVyLkRPTkUpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQsIGNyZWF0ZV9pZl9ub3RfZm91bmQgPSB7Y3JlYXRlOiB0cnVlLCBleGNsdXNpdmU6IGZhbHNlfVxyXG5cdFx0XHRcdCwgc2xpY2VcclxuXHRcdFx0O1xyXG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xyXG5cdFx0XHRpZiAoIW5hbWUpIHtcclxuXHRcdFx0XHRuYW1lID0gXCJkb3dubG9hZFwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xyXG5cdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcclxuXHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xyXG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XHJcblx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XHJcblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxyXG5cdFx0XHQvLyB2aWV3ZWQgaW4gYSB0YWIsIHNvIEkgZm9yY2Ugc2F2ZSB3aXRoIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVxyXG5cdFx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MTE1OFxyXG5cdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxyXG5cdFx0XHQvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzg5NjQyXHJcblx0XHRcdGlmICh2aWV3LmNocm9tZSAmJiB0eXBlICYmIHR5cGUgIT09IGZvcmNlX3NhdmVhYmxlX3R5cGUpIHtcclxuXHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcclxuXHRcdFx0XHRibG9iID0gc2xpY2UuY2FsbChibG9iLCAwLCBibG9iLnNpemUsIGZvcmNlX3NhdmVhYmxlX3R5cGUpO1xyXG5cdFx0XHRcdGJsb2JfY2hhbmdlZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gU2luY2UgSSBjYW4ndCBiZSBzdXJlIHRoYXQgdGhlIGd1ZXNzZWQgbWVkaWEgdHlwZSB3aWxsIHRyaWdnZXIgYSBkb3dubG9hZFxyXG5cdFx0XHQvLyBpbiBXZWJLaXQsIEkgYXBwZW5kIC5kb3dubG9hZCB0byB0aGUgZmlsZW5hbWUuXHJcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxyXG5cdFx0XHRpZiAod2Via2l0X3JlcV9mcyAmJiBuYW1lICE9PSBcImRvd25sb2FkXCIpIHtcclxuXHRcdFx0XHRuYW1lICs9IFwiLmRvd25sb2FkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHR5cGUgPT09IGZvcmNlX3NhdmVhYmxlX3R5cGUgfHwgd2Via2l0X3JlcV9mcykge1xyXG5cdFx0XHRcdHRhcmdldF92aWV3ID0gdmlldztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXJlcV9mcykge1xyXG5cdFx0XHRcdGZzX2Vycm9yKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZzX21pbl9zaXplICs9IGJsb2Iuc2l6ZTtcclxuXHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZzKSB7XHJcblx0XHRcdFx0ZnMucm9vdC5nZXREaXJlY3RvcnkoXCJzYXZlZFwiLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZGlyKSB7XHJcblx0XHRcdFx0XHR2YXIgc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xyXG5cdFx0XHRcdFx0XHRcdGZpbGUuY3JlYXRlV3JpdGVyKGFib3J0YWJsZShmdW5jdGlvbih3cml0ZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbndyaXRlZW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV2b2tlKGZpbGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IHdyaXRlci5lcnJvcjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yLmNvZGUgIT09IGVycm9yLkFCT1JUX0VSUikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgYWJvcnRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLndyaXRlKGJsb2IpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5hYm9ydCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLldSSVRJTkc7XHJcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcclxuXHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7Y3JlYXRlOiBmYWxzZX0sIGFib3J0YWJsZShmdW5jdGlvbihmaWxlKSB7XHJcblx0XHRcdFx0XHRcdC8vIGRlbGV0ZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzXHJcblx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRcdHNhdmUoKTtcclxuXHRcdFx0XHRcdH0pLCBhYm9ydGFibGUoZnVuY3Rpb24oZXgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGV4LmNvZGUgPT09IGV4Lk5PVF9GT1VORF9FUlIpIHtcclxuXHRcdFx0XHRcdFx0XHRzYXZlKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHRcdH0pLCBmc19lcnJvcik7XHJcblx0XHRcdH0pLCBmc19lcnJvcik7XHJcblx0XHR9XHJcblx0XHQsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxyXG5cdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XHJcblx0XHR9XHJcblx0O1xyXG5cdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcclxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XHJcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcclxuXHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUgfHwgXCJkb3dubG9hZFwiKTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRGU19wcm90by5hYm9ydCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGZpbGVzYXZlciA9IHRoaXM7XHJcblx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcImFib3J0XCIpO1xyXG5cdH07XHJcblx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xyXG5cdEZTX3Byb3RvLldSSVRJTkcgPSAxO1xyXG5cdEZTX3Byb3RvLkRPTkUgPSAyO1xyXG5cclxuXHRGU19wcm90by5lcnJvciA9XHJcblx0RlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cclxuXHRGU19wcm90by5vbnByb2dyZXNzID1cclxuXHRGU19wcm90by5vbndyaXRlID1cclxuXHRGU19wcm90by5vbmFib3J0ID1cclxuXHRGU19wcm90by5vbmVycm9yID1cclxuXHRGU19wcm90by5vbndyaXRlZW5kID1cclxuXHRcdG51bGw7XHJcblxyXG5cdHJldHVybiBzYXZlQXM7XHJcbn0oXHJcblx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxyXG5cdHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XHJcblx0fHwgdGhpcy5jb250ZW50XHJcbikpO1xyXG4vLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxyXG4vLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcclxuLy8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XHJcbn0gZWxzZSBpZiAoKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsKSAmJiAoZGVmaW5lLmFtZCAhPSBudWxsKSkge1xyXG4gIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gc2F2ZUFzO1xyXG4gIH0pO1xyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZpbGVzYXZlci5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuLi9Db25zdCc7XHJcblxyXG5jbGFzcyBEYXRlRmlsdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREZWZhdWx0RGF0ZSgpIHtcclxuICAgICAgICBsZXQgZGVmYXVsdERhdGUgID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgZm9yIHRoZSBpbnB1dCB0eXBlPWRhdGUsIGkuZS4gXCJZWVlZLU1NLUREXCJcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gbmV3IERhdGUodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgICAgICBkZWZhdWx0RGF0ZSA9IGAke2RlZmF1bHRWYWx1ZS5nZXRGdWxsWWVhcigpfS0keyhcIjBcIiArIChkZWZhdWx0VmFsdWUuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMil9LSR7KFwiMFwiICsgZGVmYXVsdFZhbHVlLmdldERhdGUoKSkuc2xpY2UoLTIpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkZWZhdWx0RGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXIoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgaWYgKGRhdGVWYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIobmV3IERhdGUoZGF0ZVZhbHVlKSwgQ29uc3QuRklMVEVSX1RZUEUuREFURSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKG51bGwsIENvbnN0LkZJTFRFUl9UWVBFLkRBVEUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSB0aGlzLnJlZnMuaW5wdXREYXRlLmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICBpZiAoZGF0ZVZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihuZXcgRGF0ZShkYXRlVmFsdWUpLCBDb25zdC5GSUxURVJfVFlQRS5EQVRFKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxpbnB1dCByZWY9XCJpbnB1dERhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsdGVyIGRhdGUtZmlsdGVyIGZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5maWx0ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RoaXMuc2V0RGVmYXVsdERhdGUoKX0gLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuRGF0ZUZpbHRlci5wcm9wVHlwZXMgPSB7XHJcbiAgICBmaWx0ZXJIYW5kbGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxyXG4gICAgY29sdW1uTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0ZUZpbHRlcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmlsdGVycy9EYXRlLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi4vQ29uc3QnO1xyXG5cclxuY29uc3QgbGVnYWxDb21wYXJhdG9ycyA9IFtcIj1cIiwgXCI+XCIsIFwiPj1cIiwgXCI8XCIsIFwiPD1cIiwgXCIhPVwiXTtcclxuXHJcbmNsYXNzIE51bWJlckZpbHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLm51bWJlckNvbXBhcmF0b3JzID0gdGhpcy5wcm9wcy5udW1iZXJDb21wYXJhdG9ycyB8fCBsZWdhbENvbXBhcmF0b3JzO1xyXG4gICAgICAgIHRoaXMudGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNQbGFjZWhvbGRlclNlbGVjdGVkOiAodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlciA9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMub3B0aW9ucyAmJiB0aGlzLnByb3BzLm9wdGlvbnMuaW5kZXhPZih0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZS5udW1iZXIpID09IC0xKSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2VOdW1iZXIgPSB0aGlzLm9uQ2hhbmdlTnVtYmVyLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZU51bWJlclNldCA9IHRoaXMub25DaGFuZ2VOdW1iZXJTZXQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvciA9IHRoaXMub25DaGFuZ2VDb21wYXJhdG9yLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DaGFuZ2VOdW1iZXIoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnByb3BzLmZpbHRlckhhbmRsZXIoe251bWJlcjogZmlsdGVyVmFsdWUsIGNvbXBhcmF0b3I6IHNlbGYucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlfSxcclxuICAgICAgICAgICAgICAgIENvbnN0LkZJTFRFUl9UWVBFLk5VTUJFUik7XHJcbiAgICAgICAgfSwgc2VsZi5wcm9wcy5kZWxheSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DaGFuZ2VOdW1iZXJTZXQoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6IChldmVudC50YXJnZXQudmFsdWUgPT09IFwiXCIpfSk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHtudW1iZXI6IGV2ZW50LnRhcmdldC52YWx1ZSwgY29tcGFyYXRvcjogdGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWV9LFxyXG4gICAgICAgICAgICBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hhbmdlQ29tcGFyYXRvcihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHtudW1iZXI6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUsIGNvbXBhcmF0b3I6IGV2ZW50LnRhcmdldC52YWx1ZX0sXHJcbiAgICAgICAgICAgIENvbnN0LkZJTFRFUl9UWVBFLk5VTUJFUik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29tcGFyYXRvck9wdGlvbnMoKSB7XHJcbiAgICAgICAgbGV0IG9wdGlvblRhZ3MgPSBbXTtcclxuICAgICAgICBvcHRpb25UYWdzLnB1c2goPG9wdGlvbiBrZXk9XCItMVwiPjwvb3B0aW9uPik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bWJlckNvbXBhcmF0b3JzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT17aX0gdmFsdWU9e3RoaXMubnVtYmVyQ29tcGFyYXRvcnNbaV19Pnt0aGlzLm51bWJlckNvbXBhcmF0b3JzW2ldfTwvb3B0aW9uPik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcclxuICAgIH1cclxuXHJcbiAgICBnZXROdW1iZXJPcHRpb25zKCkge1xyXG4gICAgICAgIGxldCBvcHRpb25UYWdzID0gW107XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucztcclxuXHJcbiAgICAgICAgb3B0aW9uVGFncy5wdXNoKDxvcHRpb24ga2V5PVwiLTFcIiB2YWx1ZT1cIlwiPnt0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGBTZWxlY3QgJHt0aGlzLnByb3BzLmNvbHVtbk5hbWV9Li4uYH08L29wdGlvbj4pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvcHRpb25UYWdzLnB1c2goPG9wdGlvbiBrZXk9e2l9IHZhbHVlPXtvcHRpb25zW2ldfT57b3B0aW9uc1tpXX08L29wdGlvbj4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvblRhZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlICYmIHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHtudW1iZXI6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yOiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZX0sXHJcbiAgICAgICAgICAgICAgICBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdENsYXNzID0gY2xhc3NTZXQoXCJzZWxlY3QtZmlsdGVyXCIsIFwibnVtYmVyLWZpbHRlci1pbnB1dFwiLCBcImZvcm0tY29udHJvbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcInBsYWNlaG9sZGVyLXNlbGVjdGVkXCI6IHRoaXMuc3RhdGUuaXNQbGFjZWhvbGRlclNlbGVjdGVkIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbHRlciBudW1iZXItZmlsdGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0IHJlZj1cIm51bWJlckZpbHRlckNvbXBhcmF0b3JcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJudW1iZXItZmlsdGVyLWNvbXBhcmF0b3IgZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VDb21wYXJhdG9yfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkgPyB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZS5jb21wYXJhdG9yIDogXCJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0Q29tcGFyYXRvck9wdGlvbnMoKX1cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgeyh0aGlzLnByb3BzLm9wdGlvbnMpID8gPHNlbGVjdCByZWY9XCJudW1iZXJGaWx0ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdENsYXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZU51bWJlclNldH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlciA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwifT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXROdW1iZXJPcHRpb25zKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4gOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCByZWY9XCJudW1iZXJGaWx0ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm51bWJlci1maWx0ZXItaW5wdXQgZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCBgRW50ZXIgJHt0aGlzLnByb3BzLmNvbHVtbk5hbWV9Li4uYH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZU51bWJlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJ9IC8+fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuTnVtYmVyRmlsdGVyLnByb3BUeXBlcyA9IHtcclxuICAgIGZpbHRlckhhbmRsZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICBvcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihSZWFjdC5Qcm9wVHlwZXMubnVtYmVyKSxcclxuICAgIGRlZmF1bHRWYWx1ZTogUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgICAgICBudW1iZXI6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICAgICAgY29tcGFyYXRvcjogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKGxlZ2FsQ29tcGFyYXRvcnMpXHJcbiAgICB9KSxcclxuICAgIGRlbGF5OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgbnVtYmVyQ29tcGFyYXRvcnM6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSkge1xyXG4gICAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1twcm9wTmFtZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNvbXBhcmF0b3JJc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGVnYWxDb21wYXJhdG9ycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2FsQ29tcGFyYXRvcnNbal0gPT09IHByb3BzW3Byb3BOYW1lXVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcmF0b3JJc1ZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWNvbXBhcmF0b3JJc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKGBOdW1iZXIgY29tcGFyYXRvciBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkLiBVc2Ugb25seSAke2xlZ2FsQ29tcGFyYXRvcnN9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBjb2x1bW5OYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcblxyXG5OdW1iZXJGaWx0ZXIuZGVmYXVsdFByb3BzID0ge1xyXG4gICAgZGVsYXk6IENvbnN0LkZJTFRFUl9ERUxBWVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTnVtYmVyRmlsdGVyO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9maWx0ZXJzL051bWJlci5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4uL0NvbnN0JztcclxuXHJcbmNsYXNzIFNlbGVjdEZpbHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHRcdHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuYmluZCh0aGlzKTtcclxuXHRcdHRoaXMuc3RhdGUgPSB7XHJcblx0XHRcdGlzUGxhY2Vob2xkZXJTZWxlY3RlZDogKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlID09IHVuZGVmaW5lZCB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQhdGhpcy5wcm9wcy5vcHRpb25zLmhhc093blByb3BlcnR5KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSlcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRmaWx0ZXIoZXZlbnQpIHtcclxuXHRcdHRoaXMuc2V0U3RhdGUoe2lzUGxhY2Vob2xkZXJTZWxlY3RlZDogKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gXCJcIil9KTtcclxuXHRcdHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihldmVudC50YXJnZXQudmFsdWUsIENvbnN0LkZJTFRFUl9UWVBFLlNFTEVDVCk7XHJcblx0fVxyXG5cclxuXHRnZXRPcHRpb25zKCkge1xyXG5cdFx0bGV0IG9wdGlvblRhZ3MgPSBbXTtcclxuXHRcdGNvbnN0IG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnM7XHJcblx0XHRvcHRpb25UYWdzLnB1c2goPG9wdGlvbiBrZXk9XCItMVwiIHZhbHVlPVwiXCI+e3RoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgYFNlbGVjdCAke3RoaXMucHJvcHMuY29sdW1uTmFtZX0uLi5gfTwvb3B0aW9uPik7XHJcblx0XHRPYmplY3Qua2V5cyhvcHRpb25zKS5tYXAoKGtleSkgPT4ge1xyXG5cdFx0XHRvcHRpb25UYWdzLnB1c2goPG9wdGlvbiBrZXk9e2tleX0gdmFsdWU9e2tleX0+e29wdGlvbnNba2V5XX08L29wdGlvbj4pO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gb3B0aW9uVGFncztcclxuXHR9XHJcblxyXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xyXG5cdFx0aWYgKHRoaXMucmVmcy5zZWxlY3RJbnB1dC52YWx1ZSkge1xyXG5cdFx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIodGhpcy5yZWZzLnNlbGVjdElucHV0LnZhbHVlLCBDb25zdC5GSUxURVJfVFlQRS5TRUxFQ1QpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0dmFyIHNlbGVjdENsYXNzID0gY2xhc3NTZXQoXCJmaWx0ZXJcIiwgXCJzZWxlY3QtZmlsdGVyXCIsIFwiZm9ybS1jb250cm9sXCIsXHJcblx0XHRcdFx0XHRcdFx0e1wicGxhY2Vob2xkZXItc2VsZWN0ZWRcIjogdGhpcy5zdGF0ZS5pc1BsYWNlaG9sZGVyU2VsZWN0ZWR9KTtcclxuXHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8c2VsZWN0IHJlZj1cInNlbGVjdElucHV0XCJcclxuXHRcdFx0XHRcdGNsYXNzTmFtZT17c2VsZWN0Q2xhc3N9XHJcblx0XHRcdFx0XHRvbkNoYW5nZT17dGhpcy5maWx0ZXJ9XHJcblx0XHRcdFx0XHRkZWZhdWx0VmFsdWU9eyh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSAhPSB1bmRlZmluZWQpID8gdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgOiBcIlwifT5cclxuXHRcdFx0XHR7dGhpcy5nZXRPcHRpb25zKCl9XHJcblx0XHRcdDwvc2VsZWN0PlxyXG5cdFx0KTtcclxuXHR9XHJcbn07XHJcblxyXG5TZWxlY3RGaWx0ZXIucHJvcFR5cGVzID0ge1xyXG5cdGZpbHRlckhhbmRsZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcblx0b3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG5cdHBsYWNlaG9sZGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG5cdGNvbHVtbk5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlbGVjdEZpbHRlcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmlsdGVycy9TZWxlY3QuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi4vQ29uc3QnO1xyXG5cclxuY2xhc3MgVGV4dEZpbHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHRcdHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuYmluZCh0aGlzKTtcclxuXHRcdHRoaXMudGltZW91dCA9IG51bGw7XHJcblx0fVxyXG5cclxuXHRmaWx0ZXIoZXZlbnQpIHtcclxuXHRcdGlmICh0aGlzLnRpbWVvdXQpIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBzZWxmID0gdGhpcztcclxuXHRcdGNvbnN0IGZpbHRlclZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG5cdFx0dGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0c2VsZi5wcm9wcy5maWx0ZXJIYW5kbGVyKGZpbHRlclZhbHVlLCBDb25zdC5GSUxURVJfVFlQRS5URVhUKTtcclxuXHRcdH0sIHNlbGYucHJvcHMuZGVsYXkpO1xyXG5cdH1cclxuXHJcblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XHJcblx0XHRpZiAodGhpcy5yZWZzLmlucHV0VGV4dC5kZWZhdWx0VmFsdWUpIHtcclxuXHRcdFx0dGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHRoaXMucmVmcy5pbnB1dFRleHQuZGVmYXVsdFZhbHVlLCBDb25zdC5GSUxURVJfVFlQRS5URVhUKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8aW5wdXQgcmVmPVwiaW5wdXRUZXh0XCJcclxuXHRcdFx0XHQgICBjbGFzc05hbWU9XCJmaWx0ZXIgdGV4dC1maWx0ZXIgZm9ybS1jb250cm9sXCJcclxuXHRcdFx0XHQgICB0eXBlPVwidGV4dFwiXHJcblx0XHRcdFx0ICAgb25DaGFuZ2U9e3RoaXMuZmlsdGVyfVxyXG5cdFx0XHRcdCAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGBFbnRlciAke3RoaXMucHJvcHMuY29sdW1uTmFtZX0uLi5gfVxyXG5cdFx0XHRcdCAgIGRlZmF1bHRWYWx1ZT17KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIDogXCJcIn0gLz5cclxuXHRcdCk7XHJcblx0fVxyXG59O1xyXG5cclxuVGV4dEZpbHRlci5wcm9wVHlwZXMgPSB7XHJcblx0ZmlsdGVySGFuZGxlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRkZWZhdWx0VmFsdWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcblx0ZGVsYXk6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcblx0cGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcblx0Y29sdW1uTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuVGV4dEZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XHJcblx0ZGVsYXk6IENvbnN0LkZJTFRFUl9ERUxBWVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXh0RmlsdGVyO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9maWx0ZXJzL1RleHQuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcblxyXG5jbGFzcyBQYWdlQnV0dG9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdH1cclxuXHJcbiAgcGFnZUJ0bkNsaWNrKGUpe1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5wcm9wcy5jaGFuZ2VQYWdlKGUuY3VycmVudFRhcmdldC50ZXh0KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIGNsYXNzZXMgPSBjbGFzc1NldCh7XHJcbiAgICAgICAgJ2FjdGl2ZSc6IHRoaXMucHJvcHMuYWN0aXZlLFxyXG4gICAgICAgICdkaXNhYmxlZCc6IHRoaXMucHJvcHMuZGlzYWJsZSxcclxuICAgICAgICAnaGlkZGVuJzogdGhpcy5wcm9wcy5oaWRkZW5cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc2VzfT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMucGFnZUJ0bkNsaWNrLmJpbmQodGhpcyl9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYT48L2xpPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5QYWdlQnV0dG9uLnByb3BUeXBlcyA9IHtcclxuICBjaGFuZ2VQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBhY3RpdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGRpc2FibGU6IFJlYWN0LlByb3BUeXBlcy5ib29sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYWdlQnV0dG9uO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9wYWdpbmF0aW9uL1BhZ2VCdXR0b24uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUGFnZUJ1dHRvbiBmcm9tICcuL1BhZ2VCdXR0b24uanMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi4vQ29uc3QnO1xyXG5cclxuY2xhc3MgUGFnaW5hdGlvbkxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjaGFuZ2VQYWdlKHBhZ2UpIHtcclxuICAgIGlmIChwYWdlID09IHRoaXMucHJvcHMucHJlUGFnZSkge1xyXG4gICAgICBwYWdlID0gdGhpcy5wcm9wcy5jdXJyUGFnZSAtIDEgPCAxID8gMSA6IHRoaXMucHJvcHMuY3VyclBhZ2UgLSAxO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMubmV4dFBhZ2UpIHtcclxuICAgICAgcGFnZSA9IHRoaXMucHJvcHMuY3VyclBhZ2UgKyAxID4gdGhpcy50b3RhbFBhZ2VzID8gdGhpcy50b3RhbFBhZ2VzIDogdGhpcy5wcm9wcy5jdXJyUGFnZSArIDE7XHJcbiAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gdGhpcy5wcm9wcy5sYXN0UGFnZSkge1xyXG4gICAgICBwYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMuZmlyc3RQYWdlKSB7XHJcbiAgICAgIHBhZ2UgPSAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGFnZSA9IHBhcnNlSW50KHBhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYWdlICE9IHRoaXMucHJvcHMuY3VyclBhZ2UpIHtcclxuICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VQYWdlKHBhZ2UsIHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hhbmdlU2l6ZVBlclBhZ2UoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnN0IHNlbGVjdFNpemUgPSBwYXJzZUludChlLmN1cnJlbnRUYXJnZXQudGV4dCk7XHJcbiAgICBsZXQgeyBjdXJyUGFnZSB9ID0gdGhpcy5wcm9wcztcclxuICAgIGlmIChzZWxlY3RTaXplICE9IHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpIHtcclxuICAgICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMucHJvcHMuZGF0YVNpemUgLyBzZWxlY3RTaXplKTtcclxuICAgICAgaWYgKGN1cnJQYWdlID4gdGhpcy50b3RhbFBhZ2VzKVxyXG4gICAgICAgIGN1cnJQYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xyXG5cclxuICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VQYWdlKGN1cnJQYWdlLCBzZWxlY3RTaXplKTtcclxuICAgICAgaWYodGhpcy5wcm9wcy5vblNpemVQZXJQYWdlTGlzdCl7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNpemVQZXJQYWdlTGlzdChzZWxlY3RTaXplKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMucHJvcHMuZGF0YVNpemUgLyB0aGlzLnByb3BzLnNpemVQZXJQYWdlKTtcclxuICAgIHZhciBwYWdlQnRucyA9IHRoaXMubWFrZVBhZ2UoKTtcclxuICAgIHZhciBwYWdlTGlzdFN0eWxlID0ge1xyXG4gICAgICBmbG9hdDogXCJyaWdodFwiLFxyXG4gICAgICBtYXJnaW5Ub3A6IFwiMHB4XCIgIC8vb3ZlcnJpZGUgdGhlIG1hcmdpbi10b3AgZGVmaW5lZCBpbiAucGFnaW5hdGlvbiBjbGFzcyBpbiBib290c3RyYXAuXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNpemVQZXJQYWdlTGlzdCA9IHRoaXMucHJvcHMuc2l6ZVBlclBhZ2VMaXN0Lm1hcCgoc2l6ZVBlclBhZ2UpID0+IHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8bGkga2V5PXtzaXplUGVyUGFnZX0gcm9sZT1cInByZXNlbnRhdGlvblwiPlxyXG4gICAgICAgICAgPGEgcm9sZT1cIm1lbnVpdGVtXCIgdGFiSW5kZXg9XCItMVwiIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy5jaGFuZ2VTaXplUGVyUGFnZS5iaW5kKHRoaXMpfT57c2l6ZVBlclBhZ2V9PC9hPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIHN0eWxlPXt7IG1hcmdpblRvcDogMTUgfX0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5zaXplUGVyUGFnZUxpc3QubGVuZ3RoID4gMVxyXG4gICAgICAgICAgPyA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVwiIHR5cGU9XCJidXR0b25cIiBpZD1cInBhZ2VEcm9wRG93blwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNpemVQZXJQYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiIGFyaWEtbGFiZWxsZWRieT1cInBhZ2VEcm9wRG93blwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3NpemVQZXJQYWdlTGlzdH1cclxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFnaW5hdGlvblwiIHN0eWxlPXtwYWdlTGlzdFN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICB7cGFnZUJ0bnN9XHJcbiAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cclxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFnaW5hdGlvblwiIHN0eWxlPXtwYWdlTGlzdFN0eWxlfT5cclxuICAgICAgICAgICAgICAgIHtwYWdlQnRuc31cclxuICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgbWFrZVBhZ2UoKSB7XHJcbiAgICB2YXIgcGFnZXMgPSB0aGlzLmdldFBhZ2VzKCk7XHJcbiAgICByZXR1cm4gcGFnZXMubWFwKGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgIHZhciBpc0FjdGl2ZSA9IHBhZ2UgPT09IHRoaXMucHJvcHMuY3VyclBhZ2U7XHJcbiAgICAgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB2YXIgaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgIGlmKHRoaXMucHJvcHMuY3VyclBhZ2UgPT0gMSAmJlxyXG4gICAgICAgIChwYWdlID09PSB0aGlzLnByb3BzLmZpcnN0UGFnZSB8fCBwYWdlID09PSB0aGlzLnByb3BzLnByZVBhZ2UpKXtcclxuICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGhpZGRlbiA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYodGhpcy5wcm9wcy5jdXJyUGFnZSA9PSB0aGlzLnRvdGFsUGFnZXMgJiZcclxuICAgICAgICAocGFnZSA9PT0gdGhpcy5wcm9wcy5uZXh0UGFnZSB8fCBwYWdlID09PSB0aGlzLnByb3BzLmxhc3RQYWdlKSl7XHJcbiAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFBhZ2VCdXR0b24gY2hhbmdlUGFnZT17dGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcyl9IGFjdGl2ZT17aXNBY3RpdmV9IGRpc2FibGU9e2Rpc2FibGVkfSBoaWRkZW49e2hpZGRlbn0ga2V5PXtwYWdlfT57cGFnZX08L1BhZ2VCdXR0b24+XHJcbiAgICAgIClcclxuICAgIH0sIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UGFnZXMoKSB7XHJcbiAgICB2YXIgc3RhcnRQYWdlID0gMSwgZW5kUGFnZSA9IHRoaXMudG90YWxQYWdlcztcclxuXHJcbiAgICBzdGFydFBhZ2UgPSBNYXRoLm1heCh0aGlzLnByb3BzLmN1cnJQYWdlIC0gTWF0aC5mbG9vcih0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplIC8gMiksIDEpO1xyXG4gICAgZW5kUGFnZSA9IHN0YXJ0UGFnZSArIHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUgLSAxO1xyXG5cclxuICAgIGlmIChlbmRQYWdlID4gdGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgIGVuZFBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XHJcbiAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSB0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplICsgMTtcclxuICAgIH1cclxuICAgIHZhciBwYWdlcztcclxuICAgIGlmKHN0YXJ0UGFnZSAhPSAxICYmIHRoaXMudG90YWxQYWdlcyA+IHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUpIHtcclxuICAgICAgcGFnZXMgPSBbdGhpcy5wcm9wcy5maXJzdFBhZ2UsIHRoaXMucHJvcHMucHJlUGFnZV07XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMudG90YWxQYWdlcyA+IDEpIHtcclxuICAgICAgcGFnZXMgPSBbdGhpcy5wcm9wcy5wcmVQYWdlXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwYWdlcyA9IFtdXHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gc3RhcnRQYWdlOyBpIDw9IGVuZFBhZ2U7IGkrKykge1xyXG4gICAgICBpZiAoaSA+IDApcGFnZXMucHVzaChpKTtcclxuICAgIH1cclxuICAgIGlmIChlbmRQYWdlICE9IHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICBwYWdlcy5wdXNoKHRoaXMucHJvcHMubmV4dFBhZ2UpO1xyXG4gICAgICBwYWdlcy5wdXNoKHRoaXMucHJvcHMubGFzdFBhZ2UpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKXtcclxuICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLm5leHRQYWdlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYWdlcztcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRQYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY3VyclBhZ2U7XHJcbiAgfVxyXG5cclxuICBnZXRTaXplUGVyUGFnZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLnNpemVQZXJQYWdlO1xyXG4gIH1cclxufVxyXG5QYWdpbmF0aW9uTGlzdC5wcm9wVHlwZXMgPSB7XHJcbiAgY3VyclBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgc2l6ZVBlclBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgZGF0YVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgY2hhbmdlUGFnZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgc2l6ZVBlclBhZ2VMaXN0OiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgcGFnaW5hdGlvblNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgcmVtb3RlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBvblNpemVQZXJQYWdlTGlzdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgcHJlUGFnZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuUGFnaW5hdGlvbkxpc3QuZGVmYXVsdFByb3BzID0ge1xyXG4gIHNpemVQZXJQYWdlOiBDb25zdC5TSVpFX1BFUl9QQUdFXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYWdpbmF0aW9uTGlzdDtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcGFnaW5hdGlvbi9QYWdpbmF0aW9uTGlzdC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4uL0NvbnN0JztcclxuaW1wb3J0IEVkaXRvciBmcm9tICcuLi9FZGl0b3InO1xyXG5pbXBvcnQgTm90aWZpZXIgZnJvbSAnLi4vTm90aWZpY2F0aW9uLmpzJztcclxuaW1wb3J0IFN3aXRjaCBmcm9tICdyYy1zd2l0Y2gnO1xyXG5cclxuY2xhc3MgVG9vbEJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpc0luc2VydFJvd1RyaWdnZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbGlkYXRlU3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgIHNoYWtlRWRpdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgc2hvd1NlbGVjdGVkOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclRpbWVvdXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZW91dGVDbGVhcikge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0ZUNsZWFyKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBbmRQYXJzZUZvcm0oKSB7XHJcbiAgICAgICAgdmFyIHRzID0gdGhpcywgbmV3T2JqID0ge30sIGlzVmFsaWQgPSB0cnVlLCB0ZW1wVmFsdWUsIHRlbXBNc2csIHZhbGlkYXRlU3RhdGUgPSB7fTtcclxuICAgICAgICB0aGlzLnByb3BzLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4uYXV0b1ZhbHVlKSB7Ly93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcclxuICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IHR5cGVvZiBjb2x1bW4uYXV0b1ZhbHVlID09ICdmdW5jdGlvbicgPyBjb2x1bW4uYXV0b1ZhbHVlKCkgOiAoJ2F1dG92YWx1ZS0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IHRoaXMucmVmc1tjb2x1bW4uZmllbGQgKyBpXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIGRvbSAhPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gZG9tLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IHRydWVcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmVkaXRhYmxlICYmIGNvbHVtbi5lZGl0YWJsZS50eXBlID09ICdjaGVja2JveCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVzID0gZG9tLnZhbHVlLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gZG9tLmNoZWNrZWQgPyB2YWx1ZXNbMF0gOiB2YWx1ZXNbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5lZGl0YWJsZSAmJiBjb2x1bW4uZWRpdGFibGUudmFsaWRhdG9yKSB7Ly9wcm9jZXNzIHZhbGlkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcE1zZyA9IGNvbHVtbi5lZGl0YWJsZS52YWxpZGF0b3IodGVtcFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wTXNnICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdID0gdGVtcE1zZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ld09ialtjb2x1bW4uZmllbGRdID0gdGVtcFZhbHVlO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3T2JqO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRzLmNsZWFyVGltZW91dCgpO1xyXG4gICAgICAgICAgICAvL3Nob3cgZXJyb3IgaW4gZm9ybSBhbmQgc2hha2UgaXRcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dmFsaWRhdGVTdGF0ZTogdmFsaWRhdGVTdGF0ZSwgc2hha2VFZGl0b3I6IHRydWV9KTtcclxuICAgICAgICAgICAgLy9ub3RpZmllciBlcnJvclxyXG4gICAgICAgICAgICB0cy5yZWZzLm5vdGlmaWVyLm5vdGljZSgnZXJyb3InLCBcIkZvcm0gdmFsaWRhdGUgZXJyb3JzLCBwbGVhc2UgY2hlY2tpbmchXCIsIFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcclxuICAgICAgICAgICAgLy9jbGVhciBhbmltYXRlIGNsYXNzXHJcbiAgICAgICAgICAgIHRzLnRpbWVvdXRlQ2xlYXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHtzaGFrZUVkaXRvcjogZmFsc2V9KTtcclxuICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNhdmVCdG5DbGljayhlKSB7XHJcbiAgICAgICAgdmFyIG5ld09iaiA9IHRoaXMuY2hlY2tBbmRQYXJzZUZvcm0oKTtcclxuICAgICAgICBpZiAoIW5ld09iaikgey8vdmFsaWRhdGUgZXJyb3JzXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFkZFJvdyhuZXdPYmopLnRoZW4oKG1zZyk9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAobXNnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9ICcnXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZy5lcnJvcnMubWFwKChlcnJvcik9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gKGVycm9yLm1lc3NhZ2UgKyAnLiAnKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4KVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gbXNnLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdHMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgbWVzc2FnZSwgXCJQcmVzc2VkIEVTQyBjYW4gY2FuY2VsXCIpO1xyXG4gICAgICAgICAgICAgICAgdHMuY2xlYXJUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgICAgICAvL3NoYWtlIGZvcm0gYW5kIGhhY2sgcHJldmVudCBtb2RhbCBoaWRlXHJcbiAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7c2hha2VFZGl0b3I6IHRydWUsIHZhbGlkYXRlU3RhdGU6IFwidGhpcyBpcyBoYWNrIGZvciBwcmV2ZW50IGJvb3RzdHJhcCBtb2RhbCBoaWRlXCJ9KTtcclxuICAgICAgICAgICAgICAgIC8vY2xlYXIgYW5pbWF0ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgdHMudGltZW91dGVDbGVhciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHtzaGFrZUVkaXRvcjogZmFsc2V9KTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL3Jlc2V0IHN0YXRlIGFuZCBoaWRlIG1vZGFsIGhpZGVcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hha2VFZGl0b3I6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgXCJtb2RhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtW2ldLmNsaWNrKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vcmVzZXQgZm9ybVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLmZvcm0ucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTaG93T25seVRvZ2dsZSA9IGUgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzaG93U2VsZWN0ZWQ6ICF0aGlzLnN0YXRlLnNob3dTZWxlY3RlZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TaG93T25seVNlbGVjdGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRHJvcFJvd0J0bkNsaWNrKGUpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uRHJvcFJvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNsb3NlQnRuKGUpIHtcclxuICAgICAgICB0aGlzLnJlZnMud2FybmluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlS2V5VXAoZSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TZWFyY2goZS5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFeHBvcnRDU1YoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkV4cG9ydENTVigpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNsZWFyQnRuQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZWZzLnNlYWNoSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdmFyIG1vZGFsQ2xhc3NOYW1lID0gXCJicy10YWJsZS1tb2RhbC1zbVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgdmFyIGluc2VydEJ0biA9IHRoaXMucHJvcHMuZW5hYmxlSW5zZXJ0ID9cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5wcm9wcy5vbkFkZFJvd0JlZ2lufSBjbGFzc05hbWU9XCJidG4gYnRuLWluZm8gcmVhY3QtYnMtdGFibGUtYWRkLWJ0blwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PXsnLicrbW9kYWxDbGFzc05hbWV9PlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wbHVzXCI+PC9pPiBOZXc8L2J1dHRvbj4gOiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgZGVsZXRlQnRuID0gdGhpcy5wcm9wcy5lbmFibGVEZWxldGUgP1xyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXdhcm5pbmcgcmVhY3QtYnMtdGFibGUtZGVsLWJ0blwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiRHJvcCBzZWxlY3RlZCByb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRHJvcFJvd0J0bkNsaWNrLmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10cmFzaFwiPjwvaT4gRGVsZXRlXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPiA6IG51bGw7XHJcblxyXG4gICAgICAgIHZhciBzZWFyY2hUZXh0SW5wdXQgPSB0aGlzLnJlbmRlclNlYXJjaFBhbmVsKCk7XHJcblxyXG4gICAgICAgIHZhciBzaG93U2VsZWN0ZWRPbmx5QnRuID0gdGhpcy5wcm9wcy5lbmFibGVTaG93T25seVNlbGVjdGVkID9cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVTaG93T25seVRvZ2dsZS5iaW5kKHRoaXMpfSBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiYnV0dG9uXCIgYXJpYS1wcmVzc2VkPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5zdGF0ZS5zaG93U2VsZWN0ZWQgPyBDb25zdC5TSE9XX0FMTCA6IENvbnN0LlNIT1dfT05MWV9TRUxFQ1QgfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj4gOiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgbW9kYWwgPSB0aGlzLnByb3BzLmVuYWJsZUluc2VydCA/IHRoaXMucmVuZGVySW5zZXJ0Um93TW9kYWwobW9kYWxDbGFzc05hbWUpIDogbnVsbDtcclxuICAgICAgICB2YXIgd2FybmluZ1N0eWxlID0ge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcclxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGV4cG9ydENTViA9IHRoaXMucHJvcHMuZW5hYmxlRXhwb3J0Q1NWID9cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzXCIgb25DbGljaz17dGhpcy5oYW5kbGVFeHBvcnRDU1YuYmluZCh0aGlzKX0+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLWV4cG9ydFwiPjwvaT4gRXhwb3J0IHRvIENTVjwvYnV0dG9uPiA6IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNiBjb2wtbWQtNiBjb2wtbGctOFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1zbVwiIHJvbGU9XCJncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXhwb3J0Q1NWfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aW5zZXJ0QnRufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGVsZXRlQnRufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1NlbGVjdGVkT25seUJ0bn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTYgY29sLWxnLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7c2VhcmNoVGV4dElucHV0fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8Tm90aWZpZXIgcmVmPVwibm90aWZpZXJcIj48L05vdGlmaWVyPlxyXG4gICAgICAgICAgICAgICAge21vZGFsfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyU2VhcmNoUGFuZWwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZW5hYmxlU2VhcmNoKSB7XHJcbiAgICAgICAgICAgIGxldCBjbGFzc05hbWVzID0gJ2Zvcm0tZ3JvdXAgZm9ybS1ncm91cC1zbSc7XHJcbiAgICAgICAgICAgIGxldCBjbGVhckJ0biA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNsZWFyU2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckJ0biA9IChcclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cC1idG5cIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMuaGFuZGxlQ2xlYXJCdG5DbGljayB9PkNsZWFyXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgPSAnZm9ybS1ncm91cCBmb3JtLWdyb3VwLXNtIGlucHV0LWdyb3VwIGlucHV0LWdyb3VwLXNtJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzfT5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgcmVmPSdzZWFjaElucHV0JyBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiB0eXBlPSd0ZXh0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5zZWFyY2hQbGFjZWhvbGRlcj90aGlzLnByb3BzLnNlYXJjaFBsYWNlaG9sZGVyOidTZWFyY2gnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleVVwPXt0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcyl9Lz5cclxuICAgICAgICAgICAgICAgICAgICB7IGNsZWFyQnRuIH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJbnNlcnRSb3dNb2RhbChtb2RhbENsYXNzTmFtZSkge1xyXG4gICAgICAgIHZhciB2YWxpZGF0ZVN0YXRlID0gdGhpcy5zdGF0ZS52YWxpZGF0ZVN0YXRlIHx8IHt9O1xyXG4gICAgICAgIHZhciBpbnB1dEZpZWxkID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGNvbHVtbi5lZGl0YWJsZSxcclxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IGNvbHVtbi5mb3JtYXQsXHJcbiAgICAgICAgICAgICAgICBhdHRyID0ge3JlZjogY29sdW1uLmZpZWxkICsgaSwgcGxhY2Vob2xkZXI6IGVkaXRhYmxlLnBsYWNlaG9sZGVyID8gZWRpdGFibGUucGxhY2Vob2xkZXIgOiBjb2x1bW4ubmFtZX07XHJcblxyXG4gICAgICAgICAgICBpZiAoY29sdW1uLmF1dG9WYWx1ZSkgey8vd2hlbiB5b3Ugd2FudCBzYW1lIGF1dG8gZ2VuZXJhdGUgdmFsdWUgYW5kIG5vdCBhbGxvdyBlZGl0LCBleGFtcGxlIElEIGZpZWxkXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZXJyb3IgPSB2YWxpZGF0ZVN0YXRlW2NvbHVtbi5maWVsZF0gPyAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIGJnLWRhbmdlclwiPnt2YWxpZGF0ZVN0YXRlW2NvbHVtbi5maWVsZF19PC9zcGFuPikgOiBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gbGV0IGVkaXRvciA9IEVkaXRvcihlZGl0YWJsZSxhdHRyLGZvcm1hdCk7XHJcbiAgICAgICAgICAgIC8vIGlmKGVkaXRvci5wcm9wcy50eXBlICYmIGVkaXRvci5wcm9wcy50eXBlID09ICdjaGVja2JveCcpe1xyXG4gICAgICAgICAgICBsZXQgc3R5bGUgPSB7ZGlzcGxheTogY29sdW1uLmhpZGRlbkluUG9wdXAgPyAnbm9uZScgOiAnYmxvY2snfVxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCIga2V5PXtjb2x1bW4uZmllbGR9IHN0eWxlPXtzdHlsZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPntjb2x1bW4ubmFtZX08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIHtFZGl0b3IoZWRpdGFibGUsIGF0dHIsIGZvcm1hdCwgJycpfVxyXG4gICAgICAgICAgICAgICAgICAgIHtlcnJvcn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBtb2RhbENsYXNzID0gY2xhc3NTZXQoXCJtb2RhbFwiLCBcImZhZGVcIiwgbW9kYWxDbGFzc05hbWUsIHtcclxuICAgICAgICAgICAgJ2luJzogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvciB8fCB0aGlzLnN0YXRlLnZhbGlkYXRlU3RhdGUvL2hhY2sgcHJldmVudCBib290c3RyYXAgbW9kYWwgaGlkZSBieSByZVJlbmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBkaWFsb2dDbGFzcyA9IGNsYXNzU2V0KFwibW9kYWwtZGlhbG9nXCIsIFwibW9kYWwtc21cIiwge1xyXG4gICAgICAgICAgICBcImFuaW1hdGVkXCI6IHRoaXMuc3RhdGUuc2hha2VFZGl0b3IsXHJcbiAgICAgICAgICAgIFwic2hha2VcIjogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvclxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgcmVmPVwibW9kYWxcIiBjbGFzc05hbWU9e21vZGFsQ2xhc3N9IHRhYkluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17ZGlhbG9nQ2xhc3N9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPk5ldyBSZWNvcmQ8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSByZWY9XCJmb3JtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lucHV0RmllbGR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DbG9zZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvXCIgb25DbGljaz17dGhpcy5oYW5kbGVTYXZlQnRuQ2xpY2suYmluZCh0aGlzKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5Ub29sQmFyLnByb3BUeXBlcyA9IHtcclxuICAgIG9uQWRkUm93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgIG9uRHJvcFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBvblNob3dPbmx5U2VsZWN0ZWQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgZW5hYmxlSW5zZXJ0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGVuYWJsZURlbGV0ZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBlbmFibGVTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBjb2x1bW5zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgICBzZWFyY2hQbGFjZWhvbGRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGNsZWFyU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxyXG59O1xyXG5cclxuVG9vbEJhci5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBlbmFibGVJbnNlcnQ6IGZhbHNlLFxyXG4gICAgZW5hYmxlRGVsZXRlOiBmYWxzZSxcclxuICAgIGVuYWJsZVNlYXJjaDogZmFsc2UsXHJcbiAgICBlbmFibGVTaG93T25seVNlbGVjdGVkOiBmYWxzZSxcclxuICAgIGNsZWFyU2VhcmNoOiBmYWxzZVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFRvb2xCYXI7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3Rvb2xiYXIvVG9vbEJhci5qc1xuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucmMtc3dpdGNoe3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDo0NHB4O2hlaWdodDoyMnB4O2xpbmUtaGVpZ2h0OjIwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlO2JvcmRlci1yYWRpdXM6MjBweCAyMHB4O2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjphbGwgLjNzIGN1YmljLWJlemllciguMzUsMCwuMjUsMSl9LnJjLXN3aXRjaC1pbm5lcntjb2xvcjojZmZmO2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MjRweH0ucmMtc3dpdGNoOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7bGVmdDoycHg7dG9wOjFweDtib3JkZXItcmFkaXVzOjUwJSA1MCU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2NvbnRlbnQ6XFxcIiBcXFwiO2N1cnNvcjpwb2ludGVyO2JveC1zaGFkb3c6MCAycHggNXB4IHJnYmEoMCwwLDAsLjI2KTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNpdGlvbjpsZWZ0IC4zcyBjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKTstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouM3M7YW5pbWF0aW9uLWR1cmF0aW9uOi4zczstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT2ZmO2FuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT2ZmfS5yYy1zd2l0Y2g6aG92ZXI6YWZ0ZXJ7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT247YW5pbWF0aW9uLW5hbWU6cmNTd2l0Y2hPbn0ucmMtc3dpdGNoLWNoZWNrZWR7Ym9yZGVyOjFweCBzb2xpZCAjODdkMDY4O2JhY2tncm91bmQtY29sb3I6Izg3ZDA2OH0ucmMtc3dpdGNoLWNoZWNrZWQgLnJjLXN3aXRjaC1pbm5lcntsZWZ0OjZweH0ucmMtc3dpdGNoLWNoZWNrZWQ6YWZ0ZXJ7bGVmdDoyMnB4fS5yYy1zd2l0Y2gtZGlzYWJsZWR7Y3Vyc29yOm5vLWRyb3A7YmFja2dyb3VuZDojY2NjO2JvcmRlci1jb2xvcjojY2NjfS5yYy1zd2l0Y2gtZGlzYWJsZWQ6YWZ0ZXJ7YmFja2dyb3VuZDojOWU5ZTllOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6bm9uZTthbmltYXRpb24tbmFtZTpub25lO2N1cnNvcjpuby1kcm9wfS5yYy1zd2l0Y2gtZGlzYWJsZWQ6aG92ZXI6YWZ0ZXJ7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6bm9uZTthbmltYXRpb24tbmFtZTpub25lfS5yYy1zd2l0Y2gtbGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MjBweDtmb250LXNpemU6MTRweDtwYWRkaW5nLWxlZnQ6MTBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2hpdGUtc3BhY2U6bm9ybWFsO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDp0ZXh0Oy1tb3otdXNlci1zZWxlY3Q6dGV4dDstbXMtdXNlci1zZWxlY3Q6dGV4dDt1c2VyLXNlbGVjdDp0ZXh0fUAtd2Via2l0LWtleWZyYW1lcyByY1N3aXRjaE9uezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yNSk7dHJhbnNmb3JtOnNjYWxlKDEuMjUpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9fUBrZXlmcmFtZXMgcmNTd2l0Y2hPbnswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMjUpO3RyYW5zZm9ybTpzY2FsZSgxLjI1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgcmNTd2l0Y2hPZmZ7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fUBrZXlmcmFtZXMgcmNTd2l0Y2hPZmZ7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3JjLXN3aXRjaC9hc3NldHMvaW5kZXguY3NzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBTd2l0Y2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnU3dpdGNoJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgcHJlZml4Q2xzOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRpc2FibGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjaGVja2VkQ2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgdW5DaGVja2VkQ2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgb25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmVmaXhDbHM6ICdyYy1zd2l0Y2gnLFxuICAgICAgc3R5bGU6IHt9LFxuICAgICAgY2hlY2tlZENoaWxkcmVuOiBudWxsLFxuICAgICAgdW5DaGVja2VkQ2hpbGRyZW46IG51bGwsXG4gICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgZGVmYXVsdENoZWNrZWQ6IGZhbHNlLFxuICAgICAgb25DaGFuZ2U6IG5vb3BcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG4gICAgaWYgKCdjaGVja2VkJyBpbiBwcm9wcykge1xuICAgICAgY2hlY2tlZCA9ICEhcHJvcHMuY2hlY2tlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tlZCA9ICEhcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBjaGVja2VkOiBjaGVja2VkXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoJ2NoZWNrZWQnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNoZWNrZWQ6ICEhbmV4dFByb3BzLmNoZWNrZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgdmFyIGNoZWNrZWQgPSAhdGhpcy5zdGF0ZS5jaGVja2VkO1xuICAgIGlmICghKCdjaGVja2VkJyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGNoZWNrZWQpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZTtcbiAgICB2YXIgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcbiAgICB2YXIgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQ7XG4gICAgdmFyIHN0eWxlID0gX3Byb3BzLnN0eWxlO1xuICAgIHZhciBjaGVja2VkQ2hpbGRyZW4gPSBfcHJvcHMuY2hlY2tlZENoaWxkcmVuO1xuICAgIHZhciB1bkNoZWNrZWRDaGlsZHJlbiA9IF9wcm9wcy51bkNoZWNrZWRDaGlsZHJlbjtcblxuICAgIHZhciBjaGVja2VkID0gdGhpcy5zdGF0ZS5jaGVja2VkO1xuICAgIHZhciBzd2l0Y2hDbGFzc05hbWUgPSBjbGFzc05hbWVzKChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGNsYXNzTmFtZSwgISFjbGFzc05hbWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscywgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1jaGVja2VkJywgY2hlY2tlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMpKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICdzcGFuJyxcbiAgICAgIHsgY2xhc3NOYW1lOiBzd2l0Y2hDbGFzc05hbWUsXG4gICAgICAgIG9uQ2xpY2s6IGRpc2FibGVkID8gbm9vcCA6IHRoaXMudG9nZ2xlLFxuICAgICAgICBzdHlsZTogc3R5bGUgfSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5uZXInIH0sXG4gICAgICAgIGNoZWNrZWQgPyBjaGVja2VkQ2hpbGRyZW4gOiB1bkNoZWNrZWRDaGlsZHJlblxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN3aXRjaDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zd2l0Y2gvbGliL1N3aXRjaC5qc1xuICoqIG1vZHVsZSBpZCA9IDM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1NlbGVjdCA9IHJlcXVpcmUoJy4vU2VsZWN0Jyk7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MgPSByZXF1aXJlKCcuL3V0aWxzL3N0cmlwRGlhY3JpdGljcycpO1xuXG52YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzU3RyaXBEaWFjcml0aWNzKTtcblxudmFyIHJlcXVlc3RJZCA9IDA7XG5cbmZ1bmN0aW9uIGluaXRDYWNoZShjYWNoZSkge1xuXHRpZiAoY2FjaGUgJiYgdHlwZW9mIGNhY2hlICE9PSAnb2JqZWN0Jykge1xuXHRcdGNhY2hlID0ge307XG5cdH1cblx0cmV0dXJuIGNhY2hlID8gY2FjaGUgOiBudWxsO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDYWNoZShjYWNoZSwgaW5wdXQsIGRhdGEpIHtcblx0aWYgKCFjYWNoZSkgcmV0dXJuO1xuXHRjYWNoZVtpbnB1dF0gPSBkYXRhO1xufVxuXG5mdW5jdGlvbiBnZXRGcm9tQ2FjaGUoY2FjaGUsIGlucHV0KSB7XG5cdGlmICghY2FjaGUpIHJldHVybjtcblx0Zm9yICh2YXIgaSA9IGlucHV0Lmxlbmd0aDsgaSA+PSAwOyAtLWkpIHtcblx0XHR2YXIgY2FjaGVLZXkgPSBpbnB1dC5zbGljZSgwLCBpKTtcblx0XHRpZiAoY2FjaGVbY2FjaGVLZXldICYmIChpbnB1dCA9PT0gY2FjaGVLZXkgfHwgY2FjaGVbY2FjaGVLZXldLmNvbXBsZXRlKSkge1xuXHRcdFx0cmV0dXJuIGNhY2hlW2NhY2hlS2V5XTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gdGhlblByb21pc2UocHJvbWlzZSwgY2FsbGJhY2spIHtcblx0aWYgKCFwcm9taXNlIHx8IHR5cGVvZiBwcm9taXNlLnRoZW4gIT09ICdmdW5jdGlvbicpIHJldHVybjtcblx0cmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHRcdGNhbGxiYWNrKG51bGwsIGRhdGEpO1xuXHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0Y2FsbGJhY2soZXJyKTtcblx0fSk7XG59XG5cbnZhciBzdHJpbmdPck5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZV0pO1xuXG52YXIgQXN5bmMgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXHRkaXNwbGF5TmFtZTogJ0FzeW5jJyxcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRjYWNoZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksIC8vIG9iamVjdCB0byB1c2UgdG8gY2FjaGUgcmVzdWx0cywgY2FuIGJlIG51bGwgdG8gZGlzYWJsZSBjYWNoZVxuXHRcdGlnbm9yZUFjY2VudHM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBzdHJpcCBkaWFjcml0aWNzIHdoZW4gZmlsdGVyaW5nIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0aWdub3JlQ2FzZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIHBlcmZvcm0gY2FzZS1pbnNlbnNpdGl2ZSBmaWx0ZXJpbmcgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRpc0xvYWRpbmc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gb3ZlcnJpZGVzIHRoZSBpc0xvYWRpbmcgc3RhdGUgd2hlbiBzZXQgdG8gdHJ1ZVxuXHRcdGxvYWRPcHRpb25zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwgLy8gZnVuY3Rpb24gdG8gY2FsbCB0byBsb2FkIG9wdGlvbnMgYXN5bmNocm9ub3VzbHlcblx0XHRsb2FkaW5nUGxhY2Vob2xkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyByZXBsYWNlcyB0aGUgcGxhY2Vob2xkZXIgd2hpbGUgb3B0aW9ucyBhcmUgbG9hZGluZ1xuXHRcdG1pbmltdW1JbnB1dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsIC8vIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgdHJpZ2dlciBsb2FkT3B0aW9uc1xuXHRcdG5vUmVzdWx0c1RleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwbGFjZWhvbGRlciBkaXNwbGF5ZWQgd2hlbiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgc2VhcmNoIHJlc3VsdHMgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRwbGFjZWhvbGRlcjogc3RyaW5nT3JOb2RlLCAvLyBmaWVsZCBwbGFjZWhvbGRlciwgZGlzcGxheWVkIHdoZW4gdGhlcmUncyBubyB2YWx1ZSAoc2hhcmVkIHdpdGggU2VsZWN0KVxuXHRcdHNlYXJjaFByb21wdFRleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBsYWJlbCB0byBwcm9tcHQgZm9yIHNlYXJjaCBpbnB1dFxuXHRcdHNlYXJjaGluZ1RleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nIH0sXG5cdC8vIG1lc3NhZ2UgdG8gZGlzcGxheSB3aGlsZSBvcHRpb25zIGFyZSBsb2FkaW5nXG5cdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjYWNoZTogdHJ1ZSxcblx0XHRcdGlnbm9yZUFjY2VudHM6IHRydWUsXG5cdFx0XHRpZ25vcmVDYXNlOiB0cnVlLFxuXHRcdFx0bG9hZGluZ1BsYWNlaG9sZGVyOiAnTG9hZGluZy4uLicsXG5cdFx0XHRtaW5pbXVtSW5wdXQ6IDAsXG5cdFx0XHRzZWFyY2hpbmdUZXh0OiAnU2VhcmNoaW5nLi4uJyxcblx0XHRcdHNlYXJjaFByb21wdFRleHQ6ICdUeXBlIHRvIHNlYXJjaCdcblx0XHR9O1xuXHR9LFxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2FjaGU6IGluaXRDYWNoZSh0aGlzLnByb3BzLmNhY2hlKSxcblx0XHRcdGlzTG9hZGluZzogZmFsc2UsXG5cdFx0XHRvcHRpb25zOiBbXVxuXHRcdH07XG5cdH0sXG5cdGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHRcdHRoaXMuX2xhc3RJbnB1dCA9ICcnO1xuXHR9LFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0dGhpcy5sb2FkT3B0aW9ucygnJyk7XG5cdH0sXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0aWYgKG5leHRQcm9wcy5jYWNoZSAhPT0gdGhpcy5wcm9wcy5jYWNoZSkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGNhY2hlOiBpbml0Q2FjaGUobmV4dFByb3BzLmNhY2hlKVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXHRmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG5cdFx0dGhpcy5yZWZzLnNlbGVjdC5mb2N1cygpO1xuXHR9LFxuXHRyZXNldFN0YXRlOiBmdW5jdGlvbiByZXNldFN0YXRlKCkge1xuXHRcdHRoaXMuX2N1cnJlbnRSZXF1ZXN0SWQgPSAtMTtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGlzTG9hZGluZzogZmFsc2UsXG5cdFx0XHRvcHRpb25zOiBbXVxuXHRcdH0pO1xuXHR9LFxuXHRnZXRSZXNwb25zZUhhbmRsZXI6IGZ1bmN0aW9uIGdldFJlc3BvbnNlSGFuZGxlcihpbnB1dCkge1xuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHR2YXIgX3JlcXVlc3RJZCA9IHRoaXMuX2N1cnJlbnRSZXF1ZXN0SWQgPSByZXF1ZXN0SWQrKztcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuXHRcdFx0aWYgKGVycikgdGhyb3cgZXJyO1xuXHRcdFx0aWYgKCFfdGhpcy5pc01vdW50ZWQoKSkgcmV0dXJuO1xuXHRcdFx0dXBkYXRlQ2FjaGUoX3RoaXMuc3RhdGUuY2FjaGUsIGlucHV0LCBkYXRhKTtcblx0XHRcdGlmIChfcmVxdWVzdElkICE9PSBfdGhpcy5fY3VycmVudFJlcXVlc3RJZCkgcmV0dXJuO1xuXHRcdFx0X3RoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0XHRvcHRpb25zOiBkYXRhICYmIGRhdGEub3B0aW9ucyB8fCBbXVxuXHRcdFx0fSk7XG5cdFx0fTtcblx0fSxcblx0bG9hZE9wdGlvbnM6IGZ1bmN0aW9uIGxvYWRPcHRpb25zKGlucHV0KSB7XG5cdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQWNjZW50cykgaW5wdXQgPSAoMCwgX3V0aWxzU3RyaXBEaWFjcml0aWNzMlsnZGVmYXVsdCddKShpbnB1dCk7XG5cdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQ2FzZSkgaW5wdXQgPSBpbnB1dC50b0xvd2VyQ2FzZSgpO1xuXHRcdHRoaXMuX2xhc3RJbnB1dCA9IGlucHV0O1xuXHRcdGlmIChpbnB1dC5sZW5ndGggPCB0aGlzLnByb3BzLm1pbmltdW1JbnB1dCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucmVzZXRTdGF0ZSgpO1xuXHRcdH1cblx0XHR2YXIgY2FjaGVSZXN1bHQgPSBnZXRGcm9tQ2FjaGUodGhpcy5zdGF0ZS5jYWNoZSwgaW5wdXQpO1xuXHRcdGlmIChjYWNoZVJlc3VsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRvcHRpb25zOiBjYWNoZVJlc3VsdC5vcHRpb25zXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpc0xvYWRpbmc6IHRydWVcblx0XHR9KTtcblx0XHR2YXIgcmVzcG9uc2VIYW5kbGVyID0gdGhpcy5nZXRSZXNwb25zZUhhbmRsZXIoaW5wdXQpO1xuXHRcdHJldHVybiB0aGVuUHJvbWlzZSh0aGlzLnByb3BzLmxvYWRPcHRpb25zKGlucHV0LCByZXNwb25zZUhhbmRsZXIpLCByZXNwb25zZUhhbmRsZXIpO1xuXHR9LFxuXHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHR2YXIgbm9SZXN1bHRzVGV4dCA9IHRoaXMucHJvcHMubm9SZXN1bHRzVGV4dDtcblx0XHR2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZTtcblx0XHR2YXIgaXNMb2FkaW5nID0gX3N0YXRlLmlzTG9hZGluZztcblx0XHR2YXIgb3B0aW9ucyA9IF9zdGF0ZS5vcHRpb25zO1xuXG5cdFx0aWYgKHRoaXMucHJvcHMuaXNMb2FkaW5nKSBpc0xvYWRpbmcgPSB0cnVlO1xuXHRcdHZhciBwbGFjZWhvbGRlciA9IGlzTG9hZGluZyA/IHRoaXMucHJvcHMubG9hZGluZ1BsYWNlaG9sZGVyIDogdGhpcy5wcm9wcy5wbGFjZWhvbGRlcjtcblx0XHRpZiAoIW9wdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHRpZiAodGhpcy5fbGFzdElucHV0Lmxlbmd0aCA8IHRoaXMucHJvcHMubWluaW11bUlucHV0KSBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5zZWFyY2hQcm9tcHRUZXh0O1xuXHRcdFx0aWYgKGlzTG9hZGluZykgbm9SZXN1bHRzVGV4dCA9IHRoaXMucHJvcHMuc2VhcmNoaW5nVGV4dDtcblx0XHR9XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9TZWxlY3QyWydkZWZhdWx0J10sIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7XG5cdFx0XHRyZWY6ICdzZWxlY3QnLFxuXHRcdFx0aXNMb2FkaW5nOiBpc0xvYWRpbmcsXG5cdFx0XHRub1Jlc3VsdHNUZXh0OiBub1Jlc3VsdHNUZXh0LFxuXHRcdFx0b25JbnB1dENoYW5nZTogdGhpcy5sb2FkT3B0aW9ucyxcblx0XHRcdG9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJcblx0XHR9KSk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFzeW5jO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9saWIvQXN5bmMuanNcbiAqKiBtb2R1bGUgaWQgPSAzOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBPcHRpb24gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXHRkaXNwbGF5TmFtZTogJ09wdGlvbicsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0Y2hpbGRyZW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZSxcblx0XHRjbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBjbGFzc05hbWUgKGJhc2VkIG9uIG1vdXNlIHBvc2l0aW9uKVxuXHRcdGlzRGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gdGhlIG9wdGlvbiBpcyBkaXNhYmxlZFxuXHRcdGlzRm9jdXNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB0aGUgb3B0aW9uIGlzIGZvY3VzZWRcblx0XHRpc1NlbGVjdGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHRoZSBvcHRpb24gaXMgc2VsZWN0ZWRcblx0XHRvbkZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgbW91c2VFbnRlciBvbiBvcHRpb24gZWxlbWVudFxuXHRcdG9uU2VsZWN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgY2xpY2sgb24gb3B0aW9uIGVsZW1lbnRcblx0XHRvblVuZm9jdXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSBtb3VzZUxlYXZlIG9uIG9wdGlvbiBlbGVtZW50XG5cdFx0b3B0aW9uOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkIH0sXG5cdC8vIG9iamVjdCB0aGF0IGlzIGJhc2UgZm9yIHRoYXQgb3B0aW9uXG5cdGJsb2NrRXZlbnQ6IGZ1bmN0aW9uIGJsb2NrRXZlbnQoZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGlmIChldmVudC50YXJnZXQudGFnTmFtZSAhPT0gJ0EnIHx8ICEoJ2hyZWYnIGluIGV2ZW50LnRhcmdldCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKGV2ZW50LnRhcmdldC50YXJnZXQpIHtcblx0XHRcdHdpbmRvdy5vcGVuKGV2ZW50LnRhcmdldC5ocmVmLCBldmVudC50YXJnZXQudGFyZ2V0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBldmVudC50YXJnZXQuaHJlZjtcblx0XHR9XG5cdH0sXG5cblx0aGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdHRoaXMucHJvcHMub25TZWxlY3QodGhpcy5wcm9wcy5vcHRpb24sIGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKGV2ZW50KSB7XG5cdFx0dGhpcy5vbkZvY3VzKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVNb3VzZU1vdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuXHRcdHRoaXMub25Gb2N1cyhldmVudCk7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hFbmQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKGV2ZW50KSB7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXG5cdFx0dGhpcy5oYW5kbGVNb3VzZURvd24oZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaFN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG5cdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIG5vdCBiZWluZyBkcmFnZ2VkXG5cdFx0dGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXHR9LFxuXG5cdG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoZXZlbnQpIHtcblx0XHRpZiAoIXRoaXMucHJvcHMuaXNGb2N1c2VkKSB7XG5cdFx0XHR0aGlzLnByb3BzLm9uRm9jdXModGhpcy5wcm9wcy5vcHRpb24sIGV2ZW50KTtcblx0XHR9XG5cdH0sXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdHZhciBvcHRpb24gPSB0aGlzLnByb3BzLm9wdGlvbjtcblxuXHRcdHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKHRoaXMucHJvcHMuY2xhc3NOYW1lLCBvcHRpb24uY2xhc3NOYW1lKTtcblxuXHRcdHJldHVybiBvcHRpb24uZGlzYWJsZWQgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMuYmxvY2tFdmVudCxcblx0XHRcdFx0b25DbGljazogdGhpcy5ibG9ja0V2ZW50IH0sXG5cdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0KSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7IGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHRcdFx0XHRzdHlsZTogb3B0aW9uLnN0eWxlLFxuXHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sXG5cdFx0XHRcdG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuXHRcdFx0XHRvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3VzZU1vdmUsXG5cdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG5cdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG5cdFx0XHRcdHRpdGxlOiBvcHRpb24udGl0bGUgfSxcblx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcHRpb247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3Qtc2VsZWN0L2xpYi9PcHRpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBWYWx1ZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVDbGFzcyh7XG5cblx0ZGlzcGxheU5hbWU6ICdWYWx1ZScsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0Y2hpbGRyZW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZSxcblx0XHRkaXNhYmxlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBkaXNhYmxlZCBwcm9wIHBhc3NlZCB0byBSZWFjdFNlbGVjdFxuXHRcdG9uQ2xpY2s6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSBjbGljayBvbiB2YWx1ZSBsYWJlbFxuXHRcdG9uUmVtb3ZlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgcmVtb3ZhbCBvZiB0aGUgdmFsdWVcblx0XHR2YWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCB9LFxuXG5cdC8vIHRoZSBvcHRpb24gb2JqZWN0IGZvciB0aGlzIHZhbHVlXG5cdGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG5cdFx0aWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAodGhpcy5wcm9wcy5vbkNsaWNrKSB7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdHRoaXMucHJvcHMub25DbGljayh0aGlzLnByb3BzLnZhbHVlLCBldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICh0aGlzLnByb3BzLnZhbHVlLmhyZWYpIHtcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fSxcblxuXHRvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdHRoaXMucHJvcHMub25SZW1vdmUodGhpcy5wcm9wcy52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hFbmRSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kUmVtb3ZlKGV2ZW50KSB7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXG5cdFx0Ly8gRmlyZSB0aGUgbW91c2UgZXZlbnRzXG5cdFx0dGhpcy5vblJlbW92ZShldmVudCk7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgbm90IGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdH0sXG5cblx0cmVuZGVyUmVtb3ZlSWNvbjogZnVuY3Rpb24gcmVuZGVyUmVtb3ZlSWNvbigpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCAhdGhpcy5wcm9wcy5vblJlbW92ZSkgcmV0dXJuO1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdzcGFuJyxcblx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LXZhbHVlLWljb24nLFxuXHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5vblJlbW92ZSxcblx0XHRcdFx0b25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZFJlbW92ZSxcblx0XHRcdFx0b25Ub3VjaFN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG5cdFx0XHRcdG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSB9LFxuXHRcdFx0J8OXJ1xuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyTGFiZWw6IGZ1bmN0aW9uIHJlbmRlckxhYmVsKCkge1xuXHRcdHZhciBjbGFzc05hbWUgPSAnU2VsZWN0LXZhbHVlLWxhYmVsJztcblx0XHRyZXR1cm4gdGhpcy5wcm9wcy5vbkNsaWNrIHx8IHRoaXMucHJvcHMudmFsdWUuaHJlZiA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2EnLFxuXHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgaHJlZjogdGhpcy5wcm9wcy52YWx1ZS5ocmVmLCB0YXJnZXQ6IHRoaXMucHJvcHMudmFsdWUudGFyZ2V0LCBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlTW91c2VEb3duIH0sXG5cdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0KSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3NwYW4nLFxuXHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSgnU2VsZWN0LXZhbHVlJywgdGhpcy5wcm9wcy52YWx1ZS5jbGFzc05hbWUpLFxuXHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy52YWx1ZS5zdHlsZSxcblx0XHRcdFx0dGl0bGU6IHRoaXMucHJvcHMudmFsdWUudGl0bGVcblx0XHRcdH0sXG5cdFx0XHR0aGlzLnJlbmRlclJlbW92ZUljb24oKSxcblx0XHRcdHRoaXMucmVuZGVyTGFiZWwoKVxuXHRcdCk7XG5cdH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmFsdWU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3Qtc2VsZWN0L2xpYi9WYWx1ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBzaXplclN0eWxlID0geyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdmlzaWJpbGl0eTogJ2hpZGRlbicsIGhlaWdodDogMCwgd2lkdGg6IDAsIG92ZXJmbG93OiAnc2Nyb2xsJywgd2hpdGVTcGFjZTogJ25vd3JhcCcgfTtcblxudmFyIG5leHRGcmFtZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gKGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuXHR9O1xufSkoKS5iaW5kKHdpbmRvdykgOiB1bmRlZmluZWQ7IC8vIElmIHdpbmRvdyBpcyB1bmRlZmluZWQsIHRoZW4gd2UgY2FuJ3QgZGVmaW5lIGEgbmV4dEZyYW1lIGZ1bmN0aW9uXG5cbnZhciBBdXRvc2l6ZUlucHV0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHRkaXNwbGF5TmFtZTogJ0F1dG9zaXplSW5wdXQnLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdHZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuYW55LCAvLyBmaWVsZCB2YWx1ZVxuXHRcdGRlZmF1bHRWYWx1ZTogUmVhY3QuUHJvcFR5cGVzLmFueSwgLy8gZGVmYXVsdCBmaWVsZCB2YWx1ZVxuXHRcdG9uQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYywgLy8gb25DaGFuZ2UgaGFuZGxlcjogZnVuY3Rpb24obmV3VmFsdWUpIHt9XG5cdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsIC8vIGNzcyBzdHlsZXMgZm9yIHRoZSBvdXRlciBlbGVtZW50XG5cdFx0Y2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBjbGFzc05hbWUgZm9yIHRoZSBvdXRlciBlbGVtZW50XG5cdFx0bWluV2lkdGg6IFJlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoWy8vIG1pbmltdW0gd2lkdGggZm9yIGlucHV0IGVsZW1lbnRcblx0XHRSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG5cdFx0aW5wdXRTdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgLy8gY3NzIHN0eWxlcyBmb3IgdGhlIGlucHV0IGVsZW1lbnRcblx0XHRpbnB1dENsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyAvLyBjbGFzc05hbWUgZm9yIHRoZSBpbnB1dCBlbGVtZW50XG5cdH0sXG5cdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRtaW5XaWR0aDogMVxuXHRcdH07XG5cdH0sXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpbnB1dFdpZHRoOiB0aGlzLnByb3BzLm1pbldpZHRoXG5cdFx0fTtcblx0fSxcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMuY29weUlucHV0U3R5bGVzKCk7XG5cdFx0dGhpcy51cGRhdGVJbnB1dFdpZHRoKCk7XG5cdH0sXG5cdGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHRcdHRoaXMucXVldWVVcGRhdGVJbnB1dFdpZHRoKCk7XG5cdH0sXG5cdGNvcHlJbnB1dFN0eWxlczogZnVuY3Rpb24gY29weUlucHV0U3R5bGVzKCkge1xuXHRcdGlmICghdGhpcy5pc01vdW50ZWQoKSB8fCAhd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyIGlucHV0U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJlZnMuaW5wdXQpO1xuXHRcdHZhciB3aWR0aE5vZGUgPSB0aGlzLnJlZnMuc2l6ZXI7XG5cdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRTaXplID0gaW5wdXRTdHlsZS5mb250U2l6ZTtcblx0XHR3aWR0aE5vZGUuc3R5bGUuZm9udEZhbWlseSA9IGlucHV0U3R5bGUuZm9udEZhbWlseTtcblx0XHR3aWR0aE5vZGUuc3R5bGUuZm9udFdlaWdodCA9IGlucHV0U3R5bGUuZm9udFdlaWdodDtcblx0XHR3aWR0aE5vZGUuc3R5bGUuZm9udFN0eWxlID0gaW5wdXRTdHlsZS5mb250U3R5bGU7XG5cdFx0d2lkdGhOb2RlLnN0eWxlLmxldHRlclNwYWNpbmcgPSBpbnB1dFN0eWxlLmxldHRlclNwYWNpbmc7XG5cdFx0aWYgKHRoaXMucHJvcHMucGxhY2Vob2xkZXIpIHtcblx0XHRcdHZhciBwbGFjZWhvbGRlck5vZGUgPSB0aGlzLnJlZnMucGxhY2Vob2xkZXJTaXplcjtcblx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250U2l6ZSA9IGlucHV0U3R5bGUuZm9udFNpemU7XG5cdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUuZm9udEZhbWlseSA9IGlucHV0U3R5bGUuZm9udEZhbWlseTtcblx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250V2VpZ2h0ID0gaW5wdXRTdHlsZS5mb250V2VpZ2h0O1xuXHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRTdHlsZSA9IGlucHV0U3R5bGUuZm9udFN0eWxlO1xuXHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmxldHRlclNwYWNpbmcgPSBpbnB1dFN0eWxlLmxldHRlclNwYWNpbmc7XG5cdFx0fVxuXHR9LFxuXHRxdWV1ZVVwZGF0ZUlucHV0V2lkdGg6IGZ1bmN0aW9uIHF1ZXVlVXBkYXRlSW5wdXRXaWR0aCgpIHtcblx0XHRuZXh0RnJhbWUodGhpcy51cGRhdGVJbnB1dFdpZHRoKTtcblx0fSxcblx0dXBkYXRlSW5wdXRXaWR0aDogZnVuY3Rpb24gdXBkYXRlSW5wdXRXaWR0aCgpIHtcblx0XHRpZiAoIXRoaXMuaXNNb3VudGVkKCkgfHwgdHlwZW9mIHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyIG5ld0lucHV0V2lkdGggPSB1bmRlZmluZWQ7XG5cdFx0aWYgKHRoaXMucHJvcHMucGxhY2Vob2xkZXIpIHtcblx0XHRcdG5ld0lucHV0V2lkdGggPSBNYXRoLm1heCh0aGlzLnJlZnMuc2l6ZXIuc2Nyb2xsV2lkdGgsIHRoaXMucmVmcy5wbGFjZWhvbGRlclNpemVyLnNjcm9sbFdpZHRoKSArIDI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld0lucHV0V2lkdGggPSB0aGlzLnJlZnMuc2l6ZXIuc2Nyb2xsV2lkdGggKyAyO1xuXHRcdH1cblx0XHRpZiAobmV3SW5wdXRXaWR0aCA8IHRoaXMucHJvcHMubWluV2lkdGgpIHtcblx0XHRcdG5ld0lucHV0V2lkdGggPSB0aGlzLnByb3BzLm1pbldpZHRoO1xuXHRcdH1cblx0XHRpZiAobmV3SW5wdXRXaWR0aCAhPT0gdGhpcy5zdGF0ZS5pbnB1dFdpZHRoKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aW5wdXRXaWR0aDogbmV3SW5wdXRXaWR0aFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXHRnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVmcy5pbnB1dDtcblx0fSxcblx0Zm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHRcdHRoaXMucmVmcy5pbnB1dC5mb2N1cygpO1xuXHR9LFxuXHRibHVyOiBmdW5jdGlvbiBibHVyKCkge1xuXHRcdHRoaXMucmVmcy5pbnB1dC5ibHVyKCk7XG5cdH0sXG5cdHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KCkge1xuXHRcdHRoaXMucmVmcy5pbnB1dC5zZWxlY3QoKTtcblx0fSxcblx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0dmFyIGVzY2FwZWRWYWx1ZSA9ICh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSB8fCB0aGlzLnByb3BzLnZhbHVlIHx8ICcnKS5yZXBsYWNlKC9cXCYvZywgJyZhbXA7JykucmVwbGFjZSgvIC9nLCAnJm5ic3A7JykucmVwbGFjZSgvXFw8L2csICcmbHQ7JykucmVwbGFjZSgvXFw+L2csICcmZ3Q7Jyk7XG5cdFx0dmFyIHdyYXBwZXJTdHlsZSA9IHRoaXMucHJvcHMuc3R5bGUgfHwge307XG5cdFx0aWYgKCF3cmFwcGVyU3R5bGUuZGlzcGxheSkgd3JhcHBlclN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0XHR2YXIgaW5wdXRTdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmlucHV0U3R5bGUpO1xuXHRcdGlucHV0U3R5bGUud2lkdGggPSB0aGlzLnN0YXRlLmlucHV0V2lkdGg7XG5cdFx0aW5wdXRTdHlsZS5ib3hTaXppbmcgPSAnY29udGVudC1ib3gnO1xuXHRcdHZhciBwbGFjZWhvbGRlciA9IHRoaXMucHJvcHMucGxhY2Vob2xkZXIgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7IHJlZjogJ3BsYWNlaG9sZGVyU2l6ZXInLCBzdHlsZTogc2l6ZXJTdHlsZSB9LFxuXHRcdFx0dGhpcy5wcm9wcy5wbGFjZWhvbGRlclxuXHRcdCkgOiBudWxsO1xuXHRcdHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWUsIHN0eWxlOiB3cmFwcGVyU3R5bGUgfSxcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcmVmOiAnaW5wdXQnLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuaW5wdXRDbGFzc05hbWUsIHN0eWxlOiBpbnB1dFN0eWxlIH0pKSxcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgcmVmOiAnc2l6ZXInLCBzdHlsZTogc2l6ZXJTdHlsZSwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBlc2NhcGVkVmFsdWUgfSB9KSxcblx0XHRcdHBsYWNlaG9sZGVyXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXV0b3NpemVJbnB1dDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC1zZWxlY3Qvfi9yZWFjdC1pbnB1dC1hdXRvc2l6ZS9saWIvQXV0b3NpemVJbnB1dC5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RBZGRvbnNVcGRhdGUgPSByZXF1aXJlKFwicmVhY3QtYWRkb25zLXVwZGF0ZVwiKTtcblxudmFyIF9yZWFjdEFkZG9uc1VwZGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1VwZGF0ZSk7XG5cbnZhciBfVG9hc3RNZXNzYWdlID0gcmVxdWlyZShcIi4vVG9hc3RNZXNzYWdlXCIpO1xuXG52YXIgX1RvYXN0TWVzc2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2FzdE1lc3NhZ2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUb2FzdENvbnRhaW5lciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUb2FzdENvbnRhaW5lciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVG9hc3RDb250YWluZXIoKSB7XG4gICAgdmFyIF9PYmplY3QkZ2V0UHJvdG90eXBlTztcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9hc3RDb250YWluZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX09iamVjdCRnZXRQcm90b3R5cGVPID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKFRvYXN0Q29udGFpbmVyKSkuY2FsbC5hcHBseShfT2JqZWN0JGdldFByb3RvdHlwZU8sIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRvYXN0czogW10sXG4gICAgICB0b2FzdElkOiAwLFxuICAgICAgcHJldmlvdXNNZXNzYWdlOiBudWxsXG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVG9hc3RDb250YWluZXIsIFt7XG4gICAga2V5OiBcImVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcbiAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5lcnJvciwgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluZm9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5mbyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG4gICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUuaW5mbywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN1Y2Nlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3VjY2VzcyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG4gICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUuc3VjY2VzcywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIndhcm5pbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG4gICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUud2FybmluZywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsZWFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucmVmcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF90aGlzMi5yZWZzW2tleV0uaGlkZVRvYXN0KGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfbm90aWZ5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9ub3RpZnkodHlwZSwgbWVzc2FnZSwgdGl0bGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9uc092ZXJyaWRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbM107XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLnByZXZlbnREdXBsaWNhdGVzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnByZXZpb3VzTWVzc2FnZSA9PT0gbWVzc2FnZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHRoaXMuc3RhdGUudG9hc3RJZCsrO1xuICAgICAgdmFyIHRvYXN0SWQgPSBrZXk7XG4gICAgICB2YXIgbmV3VG9hc3QgPSAoMCwgX3JlYWN0QWRkb25zVXBkYXRlMi5kZWZhdWx0KShvcHRpb25zT3ZlcnJpZGUsIHtcbiAgICAgICAgJG1lcmdlOiB7XG4gICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICB0b2FzdElkOiB0b2FzdElkLFxuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHJlZjogXCJ0b2FzdHNfX1wiICsga2V5LFxuICAgICAgICAgIGhhbmRsZU9uQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZU9uQ2xpY2soZSkge1xuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdGlvbnNPdmVycmlkZS5oYW5kbGVPbkNsaWNrKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnNPdmVycmlkZS5oYW5kbGVPbkNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLl9oYW5kbGVfdG9hc3Rfb25fY2xpY2soZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYW5kbGVSZW1vdmU6IHRoaXMuX2hhbmRsZV90b2FzdF9yZW1vdmUuYmluZCh0aGlzKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciB0b2FzdE9wZXJhdGlvbiA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJcIiArICh0aGlzLnByb3BzLm5ld2VzdE9uVG9wID8gXCIkdW5zaGlmdFwiIDogXCIkcHVzaFwiKSwgW25ld1RvYXN0XSk7XG5cbiAgICAgIHZhciBuZXh0U3RhdGUgPSAoMCwgX3JlYWN0QWRkb25zVXBkYXRlMi5kZWZhdWx0KSh0aGlzLnN0YXRlLCB7XG4gICAgICAgIHRvYXN0czogdG9hc3RPcGVyYXRpb24sXG4gICAgICAgIHByZXZpb3VzTWVzc2FnZTogeyAkc2V0OiBtZXNzYWdlIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlX3RvYXN0X29uX2NsaWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVfdG9hc3Rfb25fY2xpY2soZXZlbnQpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG4gICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9oYW5kbGVfdG9hc3RfcmVtb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVfdG9hc3RfcmVtb3ZlKHRvYXN0SWQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgb3BlcmF0aW9uTmFtZSA9IFwiXCIgKyAodGhpcy5wcm9wcy5uZXdlc3RPblRvcCA/IFwicmVkdWNlUmlnaHRcIiA6IFwicmVkdWNlXCIpO1xuICAgICAgdGhpcy5zdGF0ZS50b2FzdHNbb3BlcmF0aW9uTmFtZV0oZnVuY3Rpb24gKGZvdW5kLCB0b2FzdCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGZvdW5kIHx8IHRvYXN0LnRvYXN0SWQgIT09IHRvYXN0SWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKCgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKF90aGlzNC5zdGF0ZSwge1xuICAgICAgICAgIHRvYXN0czogeyAkc3BsaWNlOiBbW2luZGV4LCAxXV0gfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIiwgcm9sZTogXCJhbGVydFwiIH0pLFxuICAgICAgICB0aGlzLnN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24gKHRvYXN0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNS5wcm9wcy50b2FzdE1lc3NhZ2VGYWN0b3J5KHRvYXN0KTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRvYXN0Q29udGFpbmVyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVG9hc3RDb250YWluZXIucHJvcFR5cGVzID0ge1xuICB0b2FzdFR5cGU6IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgIGVycm9yOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBpbmZvOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzdWNjZXNzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB3YXJuaW5nOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICB9KS5pc1JlcXVpcmVkLFxuICBpZDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgdG9hc3RNZXNzYWdlRmFjdG9yeTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHByZXZlbnREdXBsaWNhdGVzOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgbmV3ZXN0T25Ub3A6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBvbkNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufTtcblRvYXN0Q29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgdG9hc3RUeXBlOiB7XG4gICAgZXJyb3I6IFwiZXJyb3JcIixcbiAgICBpbmZvOiBcImluZm9cIixcbiAgICBzdWNjZXNzOiBcInN1Y2Nlc3NcIixcbiAgICB3YXJuaW5nOiBcIndhcm5pbmdcIlxuICB9LFxuICBpZDogXCJ0b2FzdC1jb250YWluZXJcIixcbiAgdG9hc3RNZXNzYWdlRmFjdG9yeTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUZhY3RvcnkoX1RvYXN0TWVzc2FnZTIuZGVmYXVsdCksXG4gIHByZXZlbnREdXBsaWNhdGVzOiBmYWxzZSxcbiAgbmV3ZXN0T25Ub3A6IHRydWUsXG4gIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7fVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRvYXN0Q29udGFpbmVyO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXRvYXN0ci9saWIvVG9hc3RDb250YWluZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzID0gcmVxdWlyZShcInJlYWN0L2xpYi9SZWFjdFRyYW5zaXRpb25FdmVudHNcIik7XG5cbnZhciBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlYWN0VHJhbnNpdGlvbkV2ZW50cyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9lbGVtZW50Q2xhc3MgPSByZXF1aXJlKFwiZWxlbWVudC1jbGFzc1wiKTtcblxudmFyIF9lbGVtZW50Q2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWxlbWVudENsYXNzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRJQ0sgPSAxNztcbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2l0aW9uOiBudWxsLCAvLyBzb21lIGV4YW1wbGVzIGRlZmluZWQgaW4gaW5kZXguc2NzcyAoc2NhbGUsIGZhZGVJbk91dCwgcm90YXRlKVxuICAgICAgc2hvd0FuaW1hdGlvbjogXCJhbmltYXRlZCBib3VuY2VJblwiLCAvLyBvciBvdGhlciBhbmltYXRpb25zIGZyb20gYW5pbWF0ZS5jc3NcbiAgICAgIGhpZGVBbmltYXRpb246IFwiYW5pbWF0ZWQgYm91bmNlT3V0XCIsXG4gICAgICB0aW1lT3V0OiA1MDAwLFxuICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jbGFzc05hbWVRdWV1ZSA9IFtdO1xuICAgIHRoaXMuaXNIaWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuX2lzX21vdW50ZWQgPSB0cnVlO1xuICAgIHRoaXMuX3Nob3coKTtcbiAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcblxuICAgIHZhciBvbkhpZGVDb21wbGV0ZSA9IGZ1bmN0aW9uIG9uSGlkZUNvbXBsZXRlKCkge1xuICAgICAgaWYgKF90aGlzLmlzSGlkaW5nKSB7XG4gICAgICAgIF90aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcbiAgICAgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIG9uSGlkZUNvbXBsZXRlKTtcbiAgICAgICAgX3RoaXMuX2hhbmRsZV9yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyLmRlZmF1bHQuYWRkRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBvbkhpZGVDb21wbGV0ZSk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCkge1xuICAgICAgdGhpcy5fc2V0X2ludGVydmFsX2lkKHNldFRpbWVvdXQodGhpcy5oaWRlVG9hc3QsIHRoaXMucHJvcHMudGltZU91dCkpO1xuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuX2lzX21vdW50ZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbElkKTtcbiAgICB9XG4gIH0sXG4gIF9zZXRfdHJhbnNpdGlvbjogZnVuY3Rpb24gX3NldF90cmFuc2l0aW9uKGhpZGUpIHtcbiAgICB2YXIgYW5pbWF0aW9uVHlwZSA9IGhpZGUgPyBcImxlYXZlXCIgOiBcImVudGVyXCI7XG4gICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMudHJhbnNpdGlvbiArIFwiLVwiICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgXCItYWN0aXZlXCI7XG5cbiAgICB2YXIgZW5kTGlzdGVuZXIgPSBmdW5jdGlvbiBlbmRMaXN0ZW5lcihlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjbGFzc0xpc3QgPSAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSk7XG4gICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICBjbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyLmRlZmF1bHQucmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRMaXN0ZW5lcik7XG4gICAgfTtcblxuICAgIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyLmRlZmF1bHQuYWRkRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRMaXN0ZW5lcik7XG5cbiAgICAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSkuYWRkKGNsYXNzTmFtZSk7XG5cbiAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG4gICAgdGhpcy5fcXVldWVfY2xhc3MoYWN0aXZlQ2xhc3NOYW1lKTtcbiAgfSxcbiAgX2NsZWFyX3RyYW5zaXRpb246IGZ1bmN0aW9uIF9jbGVhcl90cmFuc2l0aW9uKGhpZGUpIHtcbiAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB2YXIgYW5pbWF0aW9uVHlwZSA9IGhpZGUgPyBcImxlYXZlXCIgOiBcImVudGVyXCI7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMudHJhbnNpdGlvbiArIFwiLVwiICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgXCItYWN0aXZlXCI7XG5cbiAgICB2YXIgY2xhc3NMaXN0ID0gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpO1xuICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICBjbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzTmFtZSk7XG4gIH0sXG4gIF9zZXRfYW5pbWF0aW9uOiBmdW5jdGlvbiBfc2V0X2FuaW1hdGlvbihoaWRlKSB7XG4gICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLl9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSk7XG4gICAgdmFyIGVuZExpc3RlbmVyID0gZnVuY3Rpb24gZW5kTGlzdGVuZXIoZSkge1xuICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5yZW1vdmUoYW5pbSk7XG4gICAgICB9KTtcblxuICAgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcbiAgICB9O1xuXG4gICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcblxuICAgIGFuaW1hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoYW5pbSk7XG4gICAgfSk7XG4gIH0sXG4gIF9nZXRfYW5pbWF0aW9uX2NsYXNzZXM6IGZ1bmN0aW9uIF9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSkge1xuICAgIHZhciBhbmltYXRpb25zID0gaGlkZSA/IHRoaXMucHJvcHMuaGlkZUFuaW1hdGlvbiA6IHRoaXMucHJvcHMuc2hvd0FuaW1hdGlvbjtcbiAgICBpZiAoXCJbb2JqZWN0IEFycmF5XVwiID09PSB0b1N0cmluZy5jYWxsKGFuaW1hdGlvbnMpKSB7XG4gICAgICByZXR1cm4gYW5pbWF0aW9ucztcbiAgICB9IGVsc2UgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhbmltYXRpb25zKSB7XG4gICAgICByZXR1cm4gYW5pbWF0aW9ucy5zcGxpdChcIiBcIik7XG4gICAgfVxuICB9LFxuICBfY2xlYXJfYW5pbWF0aW9uOiBmdW5jdGlvbiBfY2xlYXJfYW5pbWF0aW9uKGhpZGUpIHtcbiAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IHRoaXMuX2dldF9hbmltYXRpb25fY2xhc3NlcyhoaWRlKTtcbiAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5yZW1vdmUoYW5pbWF0aW9uKTtcbiAgICB9KTtcbiAgfSxcbiAgX3F1ZXVlX2NsYXNzOiBmdW5jdGlvbiBfcXVldWVfY2xhc3MoY2xhc3NOYW1lKSB7XG4gICAgdGhpcy5jbGFzc05hbWVRdWV1ZS5wdXNoKGNsYXNzTmFtZSk7XG5cbiAgICBpZiAoIXRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9mbHVzaF9jbGFzc19uYW1lX3F1ZXVlLCBUSUNLKTtcbiAgICB9XG4gIH0sXG4gIF9mbHVzaF9jbGFzc19uYW1lX3F1ZXVlOiBmdW5jdGlvbiBfZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZSgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICh0aGlzLl9pc19tb3VudGVkKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShfdGhpczIpO1xuICAgICAgICBfdGhpczIuY2xhc3NOYW1lUXVldWUuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSgpO1xuICAgIH1cbiAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgfSxcbiAgX3Nob3c6IGZ1bmN0aW9uIF9zaG93KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMuX3NldF90cmFuc2l0aW9uKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNob3dBbmltYXRpb24pIHtcbiAgICAgIHRoaXMuX3NldF9hbmltYXRpb24oKTtcbiAgICB9XG4gIH0sXG4gIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgdGhpcy5fc2V0X2ludGVydmFsX2lkKG51bGwpO1xuICAgIGlmICh0aGlzLmlzSGlkaW5nKSB7XG4gICAgICB0aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuaGlkZUFuaW1hdGlvbikge1xuICAgICAgICB0aGlzLl9jbGVhcl9hbmltYXRpb24odHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudHJhbnNpdGlvbikge1xuICAgICAgICB0aGlzLl9jbGVhcl90cmFuc2l0aW9uKHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNIaWRpbmcgJiYgKHRoaXMucHJvcHMudGltZU91dCA+IDAgfHwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQgPiAwKSkge1xuICAgICAgdGhpcy5fc2V0X2ludGVydmFsX2lkKHNldFRpbWVvdXQodGhpcy5oaWRlVG9hc3QsIHRoaXMucHJvcHMuZXh0ZW5kZWRUaW1lT3V0KSk7XG4gICAgfVxuICB9LFxuICBoaWRlVG9hc3Q6IGZ1bmN0aW9uIGhpZGVUb2FzdChvdmVycmlkZSkge1xuICAgIGlmICh0aGlzLmlzSGlkaW5nIHx8IHRoaXMuaW50ZXJ2YWxJZCA9PT0gbnVsbCAmJiAhb3ZlcnJpZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRfaXNfaGlkaW5nKHRydWUpO1xuICAgIGlmICh0aGlzLnByb3BzLnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMuX3NldF90cmFuc2l0aW9uKHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5oaWRlQW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLl9zZXRfYW5pbWF0aW9uKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVfcmVtb3ZlKCk7XG4gICAgfVxuICB9LFxuICBfc2V0X2ludGVydmFsX2lkOiBmdW5jdGlvbiBfc2V0X2ludGVydmFsX2lkKGludGVydmFsSWQpIHtcbiAgICB0aGlzLmludGVydmFsSWQgPSBpbnRlcnZhbElkO1xuICB9LFxuICBfc2V0X2lzX2hpZGluZzogZnVuY3Rpb24gX3NldF9pc19oaWRpbmcoaXNIaWRpbmcpIHtcbiAgICB0aGlzLmlzSGlkaW5nID0gaXNIaWRpbmc7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdE1lc3NhZ2UvYW5pbWF0aW9uTWl4aW4uanNcbiAqKiBtb2R1bGUgaWQgPSA0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gY2FsbF9zaG93X21ldGhvZCgkbm9kZSwgcHJvcHMpIHtcbiAgJG5vZGVbcHJvcHMuc2hvd01ldGhvZF0oe1xuICAgIGR1cmF0aW9uOiBwcm9wcy5zaG93RHVyYXRpb24sXG4gICAgZWFzaW5nOiBwcm9wcy5zaG93RWFzaW5nXG4gIH0pO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIiB9LFxuICAgICAgLy8gZWZmZWN0aXZlICQuaGlkZSgpXG4gICAgICBzaG93TWV0aG9kOiBcImZhZGVJblwiLCAvLyBzbGlkZURvd24sIGFuZCBzaG93IGFyZSBidWlsdCBpbnRvIGpRdWVyeVxuICAgICAgc2hvd0R1cmF0aW9uOiAzMDAsXG4gICAgICBzaG93RWFzaW5nOiBcInN3aW5nXCIsIC8vIGFuZCBsaW5lYXIgYXJlIGJ1aWx0IGludG8galF1ZXJ5XG4gICAgICBoaWRlTWV0aG9kOiBcImZhZGVPdXRcIixcbiAgICAgIGhpZGVEdXJhdGlvbjogMTAwMCxcbiAgICAgIGhpZGVFYXNpbmc6IFwic3dpbmdcIixcbiAgICAgIC8vXG4gICAgICB0aW1lT3V0OiA1MDAwLFxuICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGludGVydmFsSWQ6IG51bGwsXG4gICAgICBpc0hpZGluZzogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY2FsbF9zaG93X21ldGhvZCh0aGlzLl9nZXRfJF9ub2RlKCksIHRoaXMucHJvcHMpO1xuICAgIGlmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwKSB7XG4gICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy50aW1lT3V0KSk7XG4gICAgfVxuICB9LFxuICBoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnN0YXRlLmludGVydmFsSWQpO1xuICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChudWxsKTtcbiAgICB0aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcblxuICAgIGNhbGxfc2hvd19tZXRob2QodGhpcy5fZ2V0XyRfbm9kZSgpLnN0b3AodHJ1ZSwgdHJ1ZSksIHRoaXMucHJvcHMpO1xuICB9LFxuICBoYW5kbGVNb3VzZUxlYXZlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUxlYXZlKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0hpZGluZyAmJiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCB8fCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCA+IDApKSB7XG4gICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQpKTtcbiAgICB9XG4gIH0sXG4gIGhpZGVUb2FzdDogZnVuY3Rpb24gaGlkZVRvYXN0KG92ZXJyaWRlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNIaWRpbmcgfHwgdGhpcy5zdGF0ZS5pbnRlcnZhbElkID09PSBudWxsICYmICFvdmVycmlkZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHsgaXNIaWRpbmc6IHRydWUgfSk7XG5cbiAgICB0aGlzLl9nZXRfJF9ub2RlKClbdGhpcy5wcm9wcy5oaWRlTWV0aG9kXSh7XG4gICAgICBkdXJhdGlvbjogdGhpcy5wcm9wcy5oaWRlRHVyYXRpb24sXG4gICAgICBlYXNpbmc6IHRoaXMucHJvcHMuaGlkZUVhc2luZyxcbiAgICAgIGNvbXBsZXRlOiB0aGlzLl9oYW5kbGVfcmVtb3ZlXG4gICAgfSk7XG4gIH0sXG4gIF9nZXRfJF9ub2RlOiBmdW5jdGlvbiBfZ2V0XyRfbm9kZSgpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuICAgIHJldHVybiBqUXVlcnkoX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpKTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVmICovXG4gIH0sXG4gIF9zZXRfaW50ZXJ2YWxfaWQ6IGZ1bmN0aW9uIF9zZXRfaW50ZXJ2YWxfaWQoaW50ZXJ2YWxJZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW50ZXJ2YWxJZDogaW50ZXJ2YWxJZFxuICAgIH0pO1xuICB9LFxuICBfc2V0X2lzX2hpZGluZzogZnVuY3Rpb24gX3NldF9pc19oaWRpbmcoaXNIaWRpbmcpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzSGlkaW5nOiBpc0hpZGluZ1xuICAgIH0pO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXRvYXN0ci9saWIvVG9hc3RNZXNzYWdlL2pRdWVyeU1peGluLmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5Ub2FzdE1lc3NhZ2UgPSBleHBvcnRzLlRvYXN0Q29udGFpbmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX1RvYXN0Q29udGFpbmVyID0gcmVxdWlyZShcIi4vVG9hc3RDb250YWluZXJcIik7XG5cbnZhciBfVG9hc3RDb250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9hc3RDb250YWluZXIpO1xuXG52YXIgX1RvYXN0TWVzc2FnZSA9IHJlcXVpcmUoXCIuL1RvYXN0TWVzc2FnZVwiKTtcblxudmFyIF9Ub2FzdE1lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9hc3RNZXNzYWdlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5Ub2FzdENvbnRhaW5lciA9IF9Ub2FzdENvbnRhaW5lcjIuZGVmYXVsdDtcbmV4cG9ydHMuVG9hc3RNZXNzYWdlID0gX1RvYXN0TWVzc2FnZTIuZGVmYXVsdDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC10b2FzdHIvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0cykge1xuICByZXR1cm4gbmV3IEVsZW1lbnRDbGFzcyhvcHRzKVxufVxuXG5mdW5jdGlvbiBpbmRleE9mKGFyciwgcHJvcCkge1xuICBpZiAoYXJyLmluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihwcm9wKVxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgIGlmIChhcnJbaV0gPT09IHByb3ApIHJldHVybiBpXG4gIHJldHVybiAtMVxufVxuXG5mdW5jdGlvbiBFbGVtZW50Q2xhc3Mob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRWxlbWVudENsYXNzKSkgcmV0dXJuIG5ldyBFbGVtZW50Q2xhc3Mob3B0cylcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmICghb3B0cykgb3B0cyA9IHt9XG5cbiAgLy8gc2ltaWxhciBkb2luZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IGJ1dCB3b3JrcyBpbiBJRThcbiAgaWYgKG9wdHMubm9kZVR5cGUpIG9wdHMgPSB7ZWw6IG9wdHN9XG5cbiAgdGhpcy5vcHRzID0gb3B0c1xuICB0aGlzLmVsID0gb3B0cy5lbCB8fCBkb2N1bWVudC5ib2R5XG4gIGlmICh0eXBlb2YgdGhpcy5lbCAhPT0gJ29iamVjdCcpIHRoaXMuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuZWwpXG59XG5cbkVsZW1lbnRDbGFzcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gIHZhciBlbCA9IHRoaXMuZWxcbiAgaWYgKCFlbCkgcmV0dXJuXG4gIGlmIChlbC5jbGFzc05hbWUgPT09IFwiXCIpIHJldHVybiBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWVcbiAgdmFyIGNsYXNzZXMgPSBlbC5jbGFzc05hbWUuc3BsaXQoJyAnKVxuICBpZiAoaW5kZXhPZihjbGFzc2VzLCBjbGFzc05hbWUpID4gLTEpIHJldHVybiBjbGFzc2VzXG4gIGNsYXNzZXMucHVzaChjbGFzc05hbWUpXG4gIGVsLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpXG4gIHJldHVybiBjbGFzc2VzXG59XG5cbkVsZW1lbnRDbGFzcy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gIHZhciBlbCA9IHRoaXMuZWxcbiAgaWYgKCFlbCkgcmV0dXJuXG4gIGlmIChlbC5jbGFzc05hbWUgPT09IFwiXCIpIHJldHVyblxuICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpXG4gIHZhciBpZHggPSBpbmRleE9mKGNsYXNzZXMsIGNsYXNzTmFtZSlcbiAgaWYgKGlkeCA+IC0xKSBjbGFzc2VzLnNwbGljZShpZHgsIDEpXG4gIGVsLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpXG4gIHJldHVybiBjbGFzc2VzXG59XG5cbkVsZW1lbnRDbGFzcy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gIHZhciBlbCA9IHRoaXMuZWxcbiAgaWYgKCFlbCkgcmV0dXJuXG4gIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylcbiAgcmV0dXJuIGluZGV4T2YoY2xhc3NlcywgY2xhc3NOYW1lKSA+IC0xXG59XG5cbkVsZW1lbnRDbGFzcy5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gIHZhciBlbCA9IHRoaXMuZWxcbiAgaWYgKCFlbCkgcmV0dXJuXG4gIGlmICh0aGlzLmhhcyhjbGFzc05hbWUpKSB0aGlzLnJlbW92ZShjbGFzc05hbWUpXG4gIGVsc2UgdGhpcy5hZGQoY2xhc3NOYW1lKVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL34vZWxlbWVudC1jbGFzcy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgT2JqZWN0LmFzc2lnblxuICovXG5cbi8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1vYmplY3QuYXNzaWduXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlcykge1xuICBpZiAodGFyZ2V0ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIHRhcmdldCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4gIGZvciAodmFyIG5leHRJbmRleCA9IDE7IG5leHRJbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IG5leHRJbmRleCsrKSB7XG4gICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbbmV4dEluZGV4XTtcbiAgICBpZiAobmV4dFNvdXJjZSA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIgZnJvbSA9IE9iamVjdChuZXh0U291cmNlKTtcblxuICAgIC8vIFdlIGRvbid0IGN1cnJlbnRseSBzdXBwb3J0IGFjY2Vzc29ycyBub3IgcHJveGllcy4gVGhlcmVmb3JlIHRoaXNcbiAgICAvLyBjb3B5IGNhbm5vdCB0aHJvdy4gSWYgd2UgZXZlciBzdXBwb3J0ZWQgdGhpcyB0aGVuIHdlIG11c3QgaGFuZGxlXG4gICAgLy8gZXhjZXB0aW9ucyBhbmQgc2lkZS1lZmZlY3RzLiBXZSBkb24ndCBzdXBwb3J0IHN5bWJvbHMgc28gdGhleSB3b24ndFxuICAgIC8vIGJlIHRyYW5zZmVycmVkLlxuXG4gICAgZm9yICh2YXIga2V5IGluIGZyb20pIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcbiAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG87XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0L2xpYi9PYmplY3QuYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFRyYW5zaXRpb25FdmVudHNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbi8qKlxuICogRVZFTlRfTkFNRV9NQVAgaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hpY2ggZXZlbnQgZmlyZWQgd2hlbiBhXG4gKiB0cmFuc2l0aW9uL2FuaW1hdGlvbiBlbmRzLCBiYXNlZCBvbiB0aGUgc3R5bGUgcHJvcGVydHkgdXNlZCB0b1xuICogZGVmaW5lIHRoYXQgZXZlbnQuXG4gKi9cbnZhciBFVkVOVF9OQU1FX01BUCA9IHtcbiAgdHJhbnNpdGlvbmVuZDoge1xuICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ21velRyYW5zaXRpb25FbmQnLFxuICAgICdPVHJhbnNpdGlvbic6ICdvVHJhbnNpdGlvbkVuZCcsXG4gICAgJ21zVHJhbnNpdGlvbic6ICdNU1RyYW5zaXRpb25FbmQnXG4gIH0sXG5cbiAgYW5pbWF0aW9uZW5kOiB7XG4gICAgJ2FuaW1hdGlvbic6ICdhbmltYXRpb25lbmQnLFxuICAgICdXZWJraXRBbmltYXRpb24nOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcbiAgICAnTW96QW5pbWF0aW9uJzogJ21vekFuaW1hdGlvbkVuZCcsXG4gICAgJ09BbmltYXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsXG4gICAgJ21zQW5pbWF0aW9uJzogJ01TQW5pbWF0aW9uRW5kJ1xuICB9XG59O1xuXG52YXIgZW5kRXZlbnRzID0gW107XG5cbmZ1bmN0aW9uIGRldGVjdEV2ZW50cygpIHtcbiAgdmFyIHRlc3RFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgc3R5bGUgPSB0ZXN0RWwuc3R5bGU7XG5cbiAgLy8gT24gc29tZSBwbGF0Zm9ybXMsIGluIHBhcnRpY3VsYXIgc29tZSByZWxlYXNlcyBvZiBBbmRyb2lkIDQueCxcbiAgLy8gdGhlIHVuLXByZWZpeGVkIFwiYW5pbWF0aW9uXCIgYW5kIFwidHJhbnNpdGlvblwiIHByb3BlcnRpZXMgYXJlIGRlZmluZWQgb24gdGhlXG4gIC8vIHN0eWxlIG9iamVjdCBidXQgdGhlIGV2ZW50cyB0aGF0IGZpcmUgd2lsbCBzdGlsbCBiZSBwcmVmaXhlZCwgc28gd2UgbmVlZFxuICAvLyB0byBjaGVjayBpZiB0aGUgdW4tcHJlZml4ZWQgZXZlbnRzIGFyZSB1c2VhYmxlLCBhbmQgaWYgbm90IHJlbW92ZSB0aGVtXG4gIC8vIGZyb20gdGhlIG1hcFxuICBpZiAoISgnQW5pbWF0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgRVZFTlRfTkFNRV9NQVAuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbjtcbiAgfVxuXG4gIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgRVZFTlRfTkFNRV9NQVAudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICB9XG5cbiAgZm9yICh2YXIgYmFzZUV2ZW50TmFtZSBpbiBFVkVOVF9OQU1FX01BUCkge1xuICAgIHZhciBiYXNlRXZlbnRzID0gRVZFTlRfTkFNRV9NQVBbYmFzZUV2ZW50TmFtZV07XG4gICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIGJhc2VFdmVudHMpIHtcbiAgICAgIGlmIChzdHlsZU5hbWUgaW4gc3R5bGUpIHtcbiAgICAgICAgZW5kRXZlbnRzLnB1c2goYmFzZUV2ZW50c1tzdHlsZU5hbWVdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgZGV0ZWN0RXZlbnRzKCk7XG59XG5cbi8vIFdlIHVzZSB0aGUgcmF3IHthZGR8cmVtb3ZlfUV2ZW50TGlzdGVuZXIoKSBjYWxsIGJlY2F1c2UgRXZlbnRMaXN0ZW5lclxuLy8gZG9lcyBub3Qga25vdyBob3cgdG8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhbmQgd2UgcmVhbGx5IHNob3VsZFxuLy8gY2xlYW4gdXAuIEFsc28sIHRoZXNlIGV2ZW50cyBhcmUgbm90IHRyaWdnZXJlZCBpbiBvbGRlciBicm93c2Vyc1xuLy8gc28gd2Ugc2hvdWxkIGJlIEEtT0sgaGVyZS5cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIpIHtcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lcikge1xuICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyLCBmYWxzZSk7XG59XG5cbnZhciBSZWFjdFRyYW5zaXRpb25FdmVudHMgPSB7XG4gIGFkZEVuZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChub2RlLCBldmVudExpc3RlbmVyKSB7XG4gICAgaWYgKGVuZEV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIElmIENTUyB0cmFuc2l0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCwgdHJpZ2dlciBhbiBcImVuZCBhbmltYXRpb25cIlxuICAgICAgLy8gZXZlbnQgaW1tZWRpYXRlbHkuXG4gICAgICB3aW5kb3cuc2V0VGltZW91dChldmVudExpc3RlbmVyLCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZW5kRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGVuZEV2ZW50KSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGVuZEV2ZW50LCBldmVudExpc3RlbmVyKTtcbiAgICB9KTtcbiAgfSxcblxuICByZW1vdmVFbmRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAobm9kZSwgZXZlbnRMaXN0ZW5lcikge1xuICAgIGlmIChlbmRFdmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVuZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbmRFdmVudCkge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRFdmVudCwgZXZlbnRMaXN0ZW5lcik7XG4gICAgfSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RUcmFuc2l0aW9uRXZlbnRzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0L2xpYi9SZWFjdFRyYW5zaXRpb25FdmVudHMuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIHVwZGF0ZVxuICovXG5cbi8qIGdsb2JhbCBoYXNPd25Qcm9wZXJ0eTp0cnVlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBoYXNPd25Qcm9wZXJ0eSA9ICh7fSkuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHgpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICByZXR1cm4geC5jb25jYXQoKTtcbiAgfSBlbHNlIGlmICh4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBhc3NpZ24obmV3IHguY29uc3RydWN0b3IoKSwgeCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHg7XG4gIH1cbn1cblxudmFyIENPTU1BTkRfUFVTSCA9IGtleU9mKHsgJHB1c2g6IG51bGwgfSk7XG52YXIgQ09NTUFORF9VTlNISUZUID0ga2V5T2YoeyAkdW5zaGlmdDogbnVsbCB9KTtcbnZhciBDT01NQU5EX1NQTElDRSA9IGtleU9mKHsgJHNwbGljZTogbnVsbCB9KTtcbnZhciBDT01NQU5EX1NFVCA9IGtleU9mKHsgJHNldDogbnVsbCB9KTtcbnZhciBDT01NQU5EX01FUkdFID0ga2V5T2YoeyAkbWVyZ2U6IG51bGwgfSk7XG52YXIgQ09NTUFORF9BUFBMWSA9IGtleU9mKHsgJGFwcGx5OiBudWxsIH0pO1xuXG52YXIgQUxMX0NPTU1BTkRTX0xJU1QgPSBbQ09NTUFORF9QVVNILCBDT01NQU5EX1VOU0hJRlQsIENPTU1BTkRfU1BMSUNFLCBDT01NQU5EX1NFVCwgQ09NTUFORF9NRVJHRSwgQ09NTUFORF9BUFBMWV07XG5cbnZhciBBTExfQ09NTUFORFNfU0VUID0ge307XG5cbkFMTF9DT01NQU5EU19MSVNULmZvckVhY2goZnVuY3Rpb24gKGNvbW1hbmQpIHtcbiAgQUxMX0NPTU1BTkRTX1NFVFtjb21tYW5kXSA9IHRydWU7XG59KTtcblxuZnVuY3Rpb24gaW52YXJpYW50QXJyYXlDYXNlKHZhbHVlLCBzcGVjLCBjb21tYW5kKSB7XG4gICFBcnJheS5pc0FycmF5KHZhbHVlKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgdGFyZ2V0IG9mICVzIHRvIGJlIGFuIGFycmF5OyBnb3QgJXMuJywgY29tbWFuZCwgdmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgdmFyIHNwZWNWYWx1ZSA9IHNwZWNbY29tbWFuZF07XG4gICFBcnJheS5pc0FycmF5KHNwZWNWYWx1ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXk7IGdvdCAlcy4gJyArICdEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVyIGluIGFuIGFycmF5PycsIGNvbW1hbmQsIHNwZWNWYWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUodmFsdWUsIHNwZWMpIHtcbiAgISh0eXBlb2Ygc3BlYyA9PT0gJ29iamVjdCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBZb3UgcHJvdmlkZWQgYSBrZXkgcGF0aCB0byB1cGRhdGUoKSB0aGF0IGRpZCBub3QgY29udGFpbiBvbmUgJyArICdvZiAlcy4gRGlkIHlvdSBmb3JnZXQgdG8gaW5jbHVkZSB7JXM6IC4uLn0/JywgQUxMX0NPTU1BTkRTX0xJU1Quam9pbignLCAnKSwgQ09NTUFORF9TRVQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1NFVCkpIHtcbiAgICAhKE9iamVjdC5rZXlzKHNwZWMpLmxlbmd0aCA9PT0gMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGhhdmUgbW9yZSB0aGFuIG9uZSBrZXkgaW4gYW4gb2JqZWN0IHdpdGggJXMnLCBDT01NQU5EX1NFVCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIHNwZWNbQ09NTUFORF9TRVRdO1xuICB9XG5cbiAgdmFyIG5leHRWYWx1ZSA9IHNoYWxsb3dDb3B5KHZhbHVlKTtcblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX01FUkdFKSkge1xuICAgIHZhciBtZXJnZU9iaiA9IHNwZWNbQ09NTUFORF9NRVJHRV07XG4gICAgIShtZXJnZU9iaiAmJiB0eXBlb2YgbWVyZ2VPYmogPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogJXMgZXhwZWN0cyBhIHNwZWMgb2YgdHlwZSBcXCdvYmplY3RcXCc7IGdvdCAlcycsIENPTU1BTkRfTUVSR0UsIG1lcmdlT2JqKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgIShuZXh0VmFsdWUgJiYgdHlwZW9mIG5leHRWYWx1ZSA9PT0gJ29iamVjdCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiAlcyBleHBlY3RzIGEgdGFyZ2V0IG9mIHR5cGUgXFwnb2JqZWN0XFwnOyBnb3QgJXMnLCBDT01NQU5EX01FUkdFLCBuZXh0VmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICBhc3NpZ24obmV4dFZhbHVlLCBzcGVjW0NPTU1BTkRfTUVSR0VdKTtcbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfUFVTSCkpIHtcbiAgICBpbnZhcmlhbnRBcnJheUNhc2UodmFsdWUsIHNwZWMsIENPTU1BTkRfUFVTSCk7XG4gICAgc3BlY1tDT01NQU5EX1BVU0hdLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIG5leHRWYWx1ZS5wdXNoKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9VTlNISUZUKSkge1xuICAgIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgQ09NTUFORF9VTlNISUZUKTtcbiAgICBzcGVjW0NPTU1BTkRfVU5TSElGVF0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgbmV4dFZhbHVlLnVuc2hpZnQoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1NQTElDRSkpIHtcbiAgICAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgJXMgdGFyZ2V0IHRvIGJlIGFuIGFycmF5OyBnb3QgJXMnLCBDT01NQU5EX1NQTElDRSwgdmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAhQXJyYXkuaXNBcnJheShzcGVjW0NPTU1BTkRfU1BMSUNFXSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzOyBnb3QgJXMuICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlcnMgaW4gYW4gYXJyYXk/JywgQ09NTUFORF9TUExJQ0UsIHNwZWNbQ09NTUFORF9TUExJQ0VdKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgc3BlY1tDT01NQU5EX1NQTElDRV0uZm9yRWFjaChmdW5jdGlvbiAoYXJncykge1xuICAgICAgIUFycmF5LmlzQXJyYXkoYXJncykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzOyBnb3QgJXMuICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlcnMgaW4gYW4gYXJyYXk/JywgQ09NTUFORF9TUExJQ0UsIHNwZWNbQ09NTUFORF9TUExJQ0VdKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICBuZXh0VmFsdWUuc3BsaWNlLmFwcGx5KG5leHRWYWx1ZSwgYXJncyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX0FQUExZKSkge1xuICAgICEodHlwZW9mIHNwZWNbQ09NTUFORF9BUFBMWV0gPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGEgZnVuY3Rpb247IGdvdCAlcy4nLCBDT01NQU5EX0FQUExZLCBzcGVjW0NPTU1BTkRfQVBQTFldKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgbmV4dFZhbHVlID0gc3BlY1tDT01NQU5EX0FQUExZXShuZXh0VmFsdWUpO1xuICB9XG5cbiAgZm9yICh2YXIgayBpbiBzcGVjKSB7XG4gICAgaWYgKCEoQUxMX0NPTU1BTkRTX1NFVC5oYXNPd25Qcm9wZXJ0eShrKSAmJiBBTExfQ09NTUFORFNfU0VUW2tdKSkge1xuICAgICAgbmV4dFZhbHVlW2tdID0gdXBkYXRlKHZhbHVlW2tdLCBzcGVjW2tdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV4dFZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHVwZGF0ZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC9saWIvdXBkYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFeGVjdXRpb25FbnZpcm9ubWVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbi8qKlxuICogU2ltcGxlLCBsaWdodHdlaWdodCBtb2R1bGUgYXNzaXN0aW5nIHdpdGggdGhlIGRldGVjdGlvbiBhbmQgY29udGV4dCBvZlxuICogV29ya2VyLiBIZWxwcyBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYW5kIGFsbG93cyBjb2RlIHRvIHJlYXNvbiBhYm91dFxuICogd2hldGhlciBvciBub3QgdGhleSBhcmUgaW4gYSBXb3JrZXIsIGV2ZW4gaWYgdGhleSBuZXZlciBpbmNsdWRlIHRoZSBtYWluXG4gKiBgUmVhY3RXb3JrZXJgIGRlcGVuZGVuY3kuXG4gKi9cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblxuICBjYW5Vc2VET006IGNhblVzZURPTSxcblxuICBjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcblxuICBjYW5Vc2VFdmVudExpc3RlbmVyczogY2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXG5cbiAgY2FuVXNlVmlld3BvcnQ6IGNhblVzZURPTSAmJiAhIXdpbmRvdy5zY3JlZW4sXG5cbiAgaXNJbldvcmtlcjogIWNhblVzZURPTSAvLyBGb3Igbm93LCB0aGlzIGlzIHRydWUgLSBtaWdodCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC9+L2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50LmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpbnZhcmlhbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC9+L2ZianMvbGliL2ludmFyaWFudC5qc1xuICoqIG1vZHVsZSBpZCA9IDUxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUga2V5T2ZcbiAqL1xuXG4vKipcbiAqIEFsbG93cyBleHRyYWN0aW9uIG9mIGEgbWluaWZpZWQga2V5LiBMZXQncyB0aGUgYnVpbGQgc3lzdGVtIG1pbmlmeSBrZXlzXG4gKiB3aXRob3V0IGxvc2luZyB0aGUgYWJpbGl0eSB0byBkeW5hbWljYWxseSB1c2Uga2V5IHN0cmluZ3MgYXMgdmFsdWVzXG4gKiB0aGVtc2VsdmVzLiBQYXNzIGluIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIGtleS92YWwgcGFpciBhbmQgaXQgd2lsbCByZXR1cm5cbiAqIHlvdSB0aGUgc3RyaW5nIGtleSBvZiB0aGF0IHNpbmdsZSByZWNvcmQuIFN1cHBvc2UgeW91IHdhbnQgdG8gZ3JhYiB0aGVcbiAqIHZhbHVlIGZvciBhIGtleSAnY2xhc3NOYW1lJyBpbnNpZGUgb2YgYW4gb2JqZWN0LiBLZXkvdmFsIG1pbmlmaWNhdGlvbiBtYXlcbiAqIGhhdmUgYWxpYXNlZCB0aGF0IGtleSB0byBiZSAneGExMicuIGtleU9mKHtjbGFzc05hbWU6IG51bGx9KSB3aWxsIHJldHVyblxuICogJ3hhMTInIGluIHRoYXQgY2FzZS4gUmVzb2x2ZSBrZXlzIHlvdSB3YW50IHRvIHVzZSBvbmNlIGF0IHN0YXJ0dXAgdGltZSwgdGhlblxuICogcmV1c2UgdGhvc2UgcmVzb2x1dGlvbnMuXG4gKi9cblwidXNlIHN0cmljdFwiO1xuXG52YXIga2V5T2YgPSBmdW5jdGlvbiAob25lS2V5T2JqKSB7XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIG9uZUtleU9iaikge1xuICAgIGlmICghb25lS2V5T2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC9+L2ZianMvbGliL2tleU9mLmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIG1lbW87XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdH07XHJcblx0fSxcclxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHR9KSxcclxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdH0pLFxyXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRpZih0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcclxuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdH1cclxuXHJcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cclxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblxyXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHR9XHJcblx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHR2YXIgc3R5bGVzID0gW107XHJcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cclxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdH07XHJcblx0fSBlbHNlIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKG1lZGlhKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0fVxyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXN3aXRjaC9hc3NldHMvaW5kZXguY3NzXG4gKiogbW9kdWxlIGlkID0gNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanNcbiAqKiBtb2R1bGUgaWQgPSA1NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==