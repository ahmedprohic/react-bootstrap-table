!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactBootstrapTable=t(require("react"),require("react-dom")):e.ReactBootstrapTable=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=o(n),s=r(24),a=o(s),u=r(8);"undefined"!=typeof window&&(window.BootstrapTable=i["default"],window.TableHeaderColumn=a["default"],window.TableDataSet=u.TableDataSet),t["default"]={BootstrapTable:i["default"],TableHeaderColumn:a["default"],TableDataSet:u.TableDataSet},e.exports=t["default"]},function(t,r){t.exports=e},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={SORT_DESC:"desc",SORT_ASC:"asc",SIZE_PER_PAGE:10,NEXT_PAGE:">",LAST_PAGE:">>",PRE_PAGE:"<",FIRST_PAGE:"<<",ROW_SELECT_BG_COLOR:"",ROW_SELECT_NONE:"none",ROW_SELECT_SINGLE:"radio",ROW_SELECT_MULTI:"checkbox",CELL_EDIT_NONE:"none",CELL_EDIT_CLICK:"click",CELL_EDIT_DBCLICK:"dbclick",SIZE_PER_PAGE_LIST:[10,25,30,50],PAGINATION_SIZE:5,NO_DATA_TEXT:"There is no data to display",SHOW_ONLY_SELECT:"Show Selected Only",SHOW_ALL:"Show All",FILTER_DELAY:500,FILTER_TYPE:{TEXT:"TextFilter",SELECT:"SelectFilter",NUMBER:"NumberFilter",DATE:"DateFilter",CUSTOM:"CustomFilter"}},e.exports=t["default"]},function(e,t,r){var o,n;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o))e.push(r.apply(null,o));else if("object"===n)for(var s in o)i.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(o=[],n=function(){return r}.apply(t,o),!(void 0!==n&&(e.exports=n)))}()},function(e,r){e.exports=t},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=o(n),s=r(2),a=o(s),u=r(3),l=o(u);t["default"]={renderSortCaret:function(e){var t=document.createElement("span");t.className="order",e==a["default"].SORT_ASC&&(t.className+=" dropup");var r=document.createElement("span");return r.className="caret",r.style.margin="10px 5px",t.appendChild(r),t},renderReactSortCaret:function(e){var t=(0,l["default"])("order",{dropup:e==a["default"].SORT_ASC});return i["default"].createElement("span",{className:t},i["default"].createElement("span",{className:"caret",style:{margin:"10px 5px"}}))},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return r==o&&(o=t.clientWidth),document.body.removeChild(t),r-o}},e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),s=o(i),a=r(9),u=o(a);r(54);var l=r(10),p=o(l),c=function(e,t,r,o,i){if(e===!0||"string"==typeof e){var a=e===!0?"text":e;return s["default"].createElement("input",n({},t,{type:a,defaultValue:i,className:(o||"")+" form-control editor edit-text"}))}if(!e){var a=e===!0?"text":e;return s["default"].createElement("input",n({},t,{type:a,defaultValue:i,disabled:"disabled",className:(o||"")+" form-control editor edit-text"}))}if(e.type){if(e.style&&(t.style=e.style),t.className=(o||"")+" form-control editor edit-"+e.type+(e.className?" "+e.className:""),"select"===e.type){var l=[],c=e.options.values;if(Array.isArray(c)){var d;l=c.map(function(e,t){return d=r?r(e):e,s["default"].createElement("option",{key:"option"+t,value:e},d)})}return s["default"].createElement("select",n({},t,{defaultValue:i}),l)}if("textarea"===e.type){e.cols&&(t.cols=e.cols),e.rows&&(t.rows=e.rows);var f=t.onKeyDown,h=null;return f&&(t.onKeyDown=function(e){13!=e.keyCode&&f(e)},h=s["default"].createElement("butto",{className:"btn btn-info btn-xs textarea-save-btn",onClick:f},"save")),s["default"].createElement("div",null,s["default"].createElement("textarea",n({},t,{defaultValue:i})),h)}if("checkbox"===e.type){var y="true:false";e.options&&e.options.values&&(y=e.options.values),t.className=t.className.replace("form-control",""),t.className+=" checkbox pull-right";var v=!(!i||i.toString()!=y.split(":")[0]);return s["default"].createElement("input",n({},t,{type:"checkbox",value:y,defaultChecked:v}))}if("switch"===e.type){var m="true:false";t.className=t.className.replace("form-control",""),t.className+=" checkbox pull-right";var v=!(!i||i.toString()!=m.split(":")[0]);return s["default"].createElement(u["default"],{className:t.className,defaultChecked:v})}if("react-select"===e.type){var g="undefined"!=typeof e.options.multi?e.options.multi:!1;return s["default"].createElement(p["default"],{className:"pull-right",options:e.options.values,multi:g,simpleValue:!0})}return s["default"].createElement("input",n({},t,{type:a,defaultValue:i}))}return s["default"].createElement("input",n({},t,{type:"text",className:(o||"")+" form-control editor edit-text"}))};t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=(o(p),r(45)),d=l["default"].createFactory(c.ToastMessage.animation),f=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"notice",value:function(e,t,r){this.refs.toastr[e](t,r,{mode:"single",timeOut:5e3,extendedTimeOut:1e3,showAnimation:"animated  bounceIn",hideAnimation:"animated bounceOut"})}},{key:"render",value:function(){return l["default"].createElement(c.ToastContainer,{ref:"toastr",toastMessageFactory:d,id:"toast-container",className:"toast-top-right"})}}]),t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r,o){return r=r.toLowerCase(),e.sort(function(e,n){return o?o(e,n,r):r==p["default"].SORT_DESC?e[t]>n[t]?-1:e[t]<n[t]?1:0:e[t]<n[t]?-1:e[t]>n[t]?1:0}),e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(2),p=o(l),c=r(14).EventEmitter,d=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.data=e}return i(t,e),a(t,[{key:"setData",value:function(e){this.emit("change",e)}},{key:"clear",value:function(){this.data=null}},{key:"getData",value:function(){return this.data}}]),t}(c);t.TableDataSet=d;var f=function(){function e(t){n(this,e),this.data=t,this.colInfos=null,this.filteredData=null,this.isOnFilter=!1,this.filterObj=null,this.searchText=null,this.sortObj=null,this.pageObj={},this.selected=[],this.multiColumnSearch=!1,this.showOnlySelected=!1,this.remote=!1}return a(e,[{key:"setProps",value:function(e){this.keyField=e.keyField,this.enablePagination=e.isPagination,this.colInfos=e.colInfos,this.remote=e.remote,this.multiColumnSearch=e.multiColumnSearch}},{key:"setData",value:function(e){this.data=e,this.isOnFilter&&(null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this.sortObj&&this.sort(this.sortObj.order,this.sortObj.sortField)}},{key:"getSortInfo",value:function(){return this.sortObj}},{key:"setSelectedRowKey",value:function(e){this.selected=e}},{key:"getSelectedRowKeys",value:function(){return this.selected}},{key:"getCurrentDisplayData",value:function(){return this.isOnFilter?this.filteredData:this.data}},{key:"ignoreNonSelected",value:function(){var e=this;this.showOnlySelected=!this.showOnlySelected,this.showOnlySelected?(this.isOnFilter=!0,this.filteredData=this.data.filter(function(t){var r=e.selected.find(function(r){return t[e.keyField]===r});return"undefined"!=typeof r})):this.isOnFilter=!1}},{key:"sort",value:function(e,t){this.sortObj={order:e,sortField:t};var r=this.getCurrentDisplayData();if(!this.colInfos[t])return this;var o=this.colInfos[t].sortFunc;return r=s(r,t,e,o),this}},{key:"page",value:function(e,t){return this.pageObj.end=e*t-1,this.pageObj.start=this.pageObj.end-(t-1),this}},{key:"edit",value:function(e,t,r){var o=this.getCurrentDisplayData(),n=void 0;return this.enablePagination?(o[this.pageObj.start+t][r]=e,n=o[this.pageObj.start+t][this.keyField]):(o[t][r]=e,n=o[t][this.keyField]),this.isOnFilter&&(this.data.forEach(function(t){t[this.keyField]===n&&(t[r]=e)},this),null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this}},{key:"add",value:function(e){if(!e[this.keyField]||""===e[this.keyField].toString())throw this.keyField+" can't be empty value.";var t=this.getCurrentDisplayData();t.forEach(function(t){if(t[this.keyField].toString()===e[this.keyField].toString())throw this.keyField+" "+e[this.keyField]+" already exists"},this),t.push(e),this.isOnFilter&&this.data.push(e)}},{key:"remove",value:function(e){var t=this.getCurrentDisplayData(),r=t.filter(function(t){return-1==e.indexOf(t[this.keyField])},this);this.isOnFilter?(this.data=this.data.filter(function(t){return-1==e.indexOf(t[this.keyField])},this),this.filteredData=r):this.data=r}},{key:"filter",value:function(e){var t=this;0==Object.keys(e).length?(this.filteredData=null,this.isOnFilter=!1,this.filterObj=null):(this.filterObj=e,this.filteredData=this.data.filter(function(r){var o=!0,n=void 0;for(var i in e){var s=r[i];switch(e[i].type){case p["default"].FILTER_TYPE.NUMBER:n=e[i].value.number;break;case p["default"].FILTER_TYPE.CUSTOM:n="object"==typeof e[i].value?void 0:"string"==typeof e[i].value?e[i].value.toLowerCase():e[i].value;break;default:n="string"==typeof e[i].value?e[i].value.toLowerCase():e[i].value,void 0===n&&(n=e[i].toLowerCase())}if(t.colInfos[i]){var a=t.colInfos[i],u=a.format,l=a.filterFormatted,c=a.formatExtraData;l&&u&&(s=u(r[i],r,c))}switch(e[i].type){case p["default"].FILTER_TYPE.NUMBER:o=t.filterNumber(s,n,e[i].value.comparator);break;case p["default"].FILTER_TYPE.DATE:o=t.filterDate(s,n);break;case p["default"].FILTER_TYPE.CUSTOM:o=t.filterCustom(s,n,e[i].value);break;default:o=t.filterText(s,n)}if(!o)break}return o}),this.isOnFilter=!0)}},{key:"filterNumber",value:function(e,t,r){var o=!0;switch(r){case"=":e!=t&&(o=!1);break;case">":t>=e&&(o=!1);break;case">=":t>e&&(o=!1);break;case"<":e>=t&&(o=!1);break;case"<=":e>t&&(o=!1);break;case"!=":e==t&&(o=!1);break;default:console.error("Number comparator provided is not supported")}return o}},{key:"filterDate",value:function(e,t){return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()}},{key:"filterCustom",value:function(e,t,r){return null!=r&&"object"==typeof r?r.callback(e,r.callbackParameters):filterText(e,t)}},{key:"filterText",value:function(e,t){return-1!=e.toString().toLowerCase().indexOf(t)}},{key:"search",value:function(e){var t=this;if(""===e.trim())this.filteredData=null,this.isOnFilter=!1,this.searchText=null;else{this.searchText=e;var r=[];this.multiColumnSearch?r=e.split(" "):r.push(e),this.filteredData=this.data.filter(function(e){for(var o=Object.keys(e),n=!1,i=function(i){var s=o[i];return t.colInfos[s]&&e[s]&&(r.forEach(function(r){var o=r.toLowerCase(),i=e[s],a=t.colInfos[s],u=a.format,l=a.filterFormatted,p=a.formatExtraData,c=a.hidden;c||(l&&u&&(i=u(i,e,p)),-1!==i.toString().toLowerCase().indexOf(o)&&(n=!0))}),n)?"break":void 0},s=0;s<o.length;s++){var a=i(s);if("break"===a)break}return n}),this.isOnFilter=!0}}},{key:"getDataIgnoringPagination",value:function(){var e=this.getCurrentDisplayData();return e}},{key:"get",value:function(){var e=this.getCurrentDisplayData();if(0==e.length)return e;if(this.remote||!this.enablePagination)return e;for(var t=[],r=this.pageObj.start;r<=this.pageObj.end&&(t.push(e[r]),r+1!=e.length);r++);return t}},{key:"getKeyField",value:function(){return this.keyField}},{key:"getDataNum",value:function(){return this.getCurrentDisplayData().length}},{key:"isChangedPage",value:function(){return!(!this.pageObj.start||!this.pageObj.end)}},{key:"getAllRowkey",value:function(){return this.data.map(function(e){return e[this.keyField]},this)}}]),e}();t.TableDataStore=f},function(e,t,r){"use strict";e.exports=r(37)},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){return"object"==typeof e?JSON.stringify(e):e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=r(1),a=o(s),u=r(4),l=o(u),p=r(41),c=o(p),d=r(3),f=o(d),h=r(11),y=o(h),v=r(38),m=o(v),g=r(39),b=o(g),E=r(40),P=o(E),T=a["default"].PropTypes.oneOfType([a["default"].PropTypes.string,a["default"].PropTypes.node]),w=a["default"].createClass({displayName:"Select",propTypes:{addLabelText:a["default"].PropTypes.string,allowCreate:a["default"].PropTypes.bool,autoBlur:a["default"].PropTypes.bool,autofocus:a["default"].PropTypes.bool,backspaceRemoves:a["default"].PropTypes.bool,className:a["default"].PropTypes.string,clearAllText:T,clearValueText:T,clearable:a["default"].PropTypes.bool,delimiter:a["default"].PropTypes.string,disabled:a["default"].PropTypes.bool,escapeClearsValue:a["default"].PropTypes.bool,filterOption:a["default"].PropTypes.func,filterOptions:a["default"].PropTypes.any,ignoreAccents:a["default"].PropTypes.bool,ignoreCase:a["default"].PropTypes.bool,inputProps:a["default"].PropTypes.object,isLoading:a["default"].PropTypes.bool,labelKey:a["default"].PropTypes.string,matchPos:a["default"].PropTypes.string,matchProp:a["default"].PropTypes.string,menuBuffer:a["default"].PropTypes.number,menuContainerStyle:a["default"].PropTypes.object,menuStyle:a["default"].PropTypes.object,multi:a["default"].PropTypes.bool,name:a["default"].PropTypes.string,newOptionCreator:a["default"].PropTypes.func,noResultsText:T,onBlur:a["default"].PropTypes.func,onBlurResetsInput:a["default"].PropTypes.bool,onChange:a["default"].PropTypes.func,onClose:a["default"].PropTypes.func,onFocus:a["default"].PropTypes.func,onInputChange:a["default"].PropTypes.func,onMenuScrollToBottom:a["default"].PropTypes.func,onOpen:a["default"].PropTypes.func,onValueClick:a["default"].PropTypes.func,optionComponent:a["default"].PropTypes.func,optionRenderer:a["default"].PropTypes.func,options:a["default"].PropTypes.array,placeholder:T,required:a["default"].PropTypes.bool,scrollMenuIntoView:a["default"].PropTypes.bool,searchable:a["default"].PropTypes.bool,simpleValue:a["default"].PropTypes.bool,style:a["default"].PropTypes.object,tabIndex:a["default"].PropTypes.string,value:a["default"].PropTypes.any,valueComponent:a["default"].PropTypes.func,valueKey:a["default"].PropTypes.string,valueRenderer:a["default"].PropTypes.func,wrapperStyle:a["default"].PropTypes.object},statics:{Async:m["default"]},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',allowCreate:!1,backspaceRemoves:!0,clearable:!0,clearAllText:"Clear all",clearValueText:"Clear value",delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:!0,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,optionComponent:b["default"],placeholder:"Select...",required:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,valueComponent:P["default"],valueKey:"value"}},getInitialState:function(){return{inputValue:"",isFocused:!1,isLoading:!1,isOpen:!1,isPseudoFocused:!1,required:this.props.required&&this.handleRequired(this.props.value,this.props.multi)}},componentDidMount:function(){this.props.autofocus&&this.focus()},componentWillUpdate:function(e,t){if(t.isOpen!==this.state.isOpen){var r=t.isOpen?e.onOpen:e.onClose;r&&r()}},componentDidUpdate:function(e,t){if(this.refs.menu&&this.refs.focused&&this.state.isOpen&&!this.hasScrolledToOption){var r=l["default"].findDOMNode(this.refs.focused),o=l["default"].findDOMNode(this.refs.menu);o.scrollTop=r.offsetTop,this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(t.inputValue!==this.state.inputValue&&this.props.onInputChange&&this.props.onInputChange(this.state.inputValue),this._scrollToFocusedOptionOnUpdate&&this.refs.focused&&this.refs.menu){this._scrollToFocusedOptionOnUpdate=!1;var n=l["default"].findDOMNode(this.refs.focused),i=l["default"].findDOMNode(this.refs.menu),s=n.getBoundingClientRect(),a=i.getBoundingClientRect();(s.bottom>a.bottom||s.top<a.top)&&(i.scrollTop=n.offsetTop+n.clientHeight-i.offsetHeight)}if(this.props.scrollMenuIntoView&&this.refs.menuContainer){var u=this.refs.menuContainer.getBoundingClientRect();window.innerHeight<u.bottom+this.props.menuBuffer&&window.scrollTo(0,window.scrollY+u.bottom+this.props.menuBuffer-window.innerHeight)}e.disabled!==this.props.disabled&&this.setState({isFocused:!1})},focus:function(){this.refs.input&&this.refs.input.focus()},blurInput:function(){this.refs.input&&this.refs.input.blur()},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchEndClearValue:function(e){this.dragging||this.clearValue(e)},handleMouseDown:function(e){return this.props.disabled||"mousedown"===e.type&&0!==e.button?void 0:(e.stopPropagation(),e.preventDefault(),this.props.searchable?void(this.state.isFocused?this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=!0,this.focus())):(this.focus(),this.setState({isOpen:!this.state.isOpen})))},handleMouseDownOnArrow:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.closeMenu())},handleMouseDownOnMenu:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())},closeMenu:function(){this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:""}),this.hasScrolledToOption=!1},handleInputFocus:function(e){var t=this.state.isOpen||this._openAfterFocus;this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:t}),this._openAfterFocus=!1},handleInputBlur:function(e){if(!this.refs.menu||!document.activeElement.isEqualNode(this.refs.menu)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=""),this.setState(t)}},handleInputChange:function(e){this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:e.target.value})},handleKeyDown:function(e){if(!this.props.disabled){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue()));case 9:if(e.shiftKey||!this.state.isOpen)return;return void this.selectFocusedOption();case 13:if(!this.state.isOpen)return;e.stopPropagation(),this.selectFocusedOption();break;case 27:this.state.isOpen?this.closeMenu():this.props.clearable&&this.props.escapeClearsValue&&this.clearValue(e);break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}e.preventDefault()}},handleValueClick:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)},handleMenuScroll:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&!(t.scrollHeight-t.offsetHeight-t.scrollTop)&&this.props.onMenuScrollToBottom()}},handleRequired:function(e,t){return e?t?0===e.length:0===Object.keys(e).length:!0},getOptionLabel:function(e){return e[this.props.labelKey]},getValueArray:function(){var e=this.props.value;if(this.props.multi){if("string"==typeof e&&(e=e.split(this.props.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(this.expandValue).filter(function(e){return e})}var t=this.expandValue(e);return t?[t]:[]},expandValue:function(e){if("string"!=typeof e&&"number"!=typeof e)return e;var t=this.props,r=t.options,o=t.valueKey;if(r)for(var n=0;n<r.length;n++)if(r[n][o]===e)return r[n]},setValue:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.onChange){if(this.props.required){var r=this.handleRequired(e,this.props.multi);this.setState({required:r})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange(e)}},selectValue:function(e){this.hasScrolledToOption=!1,this.props.multi?(this.addValue(e),this.setState({inputValue:""})):(this.setValue(e),this.setState({isOpen:!1,inputValue:"",isPseudoFocused:this.state.isFocused}))},addValue:function(e){var t=this.getValueArray();this.setValue(t.concat(e))},popValue:function(){var e=this.getValueArray();e.length&&e[e.length-1].clearableValue!==!1&&this.setValue(e.slice(0,e.length-1))},removeValue:function(e){var t=this.getValueArray();this.setValue(t.filter(function(t){return t!==e})),this.focus()},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(null),this.setState({isOpen:!1,inputValue:""},this.focus))},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){var t=this._visibleOptions.filter(function(e){return!e.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||t["next"===e?0:t.length-1]});if(t.length){for(var r=-1,o=0;o<t.length;o++)if(this._focusedOption===t[o]){r=o;break}var n=t[0];"next"===e&&r>-1&&r<t.length-1?n=t[r+1]:"previous"===e&&(n=r>0?t[r-1]:t[t.length-1]),this.setState({focusedOption:n})}},selectFocusedOption:function(){return this._focusedOption?this.selectValue(this._focusedOption):void 0},renderLoading:function(){return this.props.isLoading?a["default"].createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},a["default"].createElement("span",{className:"Select-loading"})):void 0},renderValue:function(e,t){var r=this,o=this.props.valueRenderer||this.getOptionLabel,n=this.props.valueComponent;if(!e.length)return this.state.inputValue?null:a["default"].createElement("div",{className:"Select-placeholder"},this.props.placeholder);var i=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return a["default"].createElement(n,{disabled:r.props.disabled||e.clearableValue===!1,key:"value-"+t+"-"+e[r.props.valueKey],onClick:i,onRemove:r.removeValue,value:e},o(e))}):this.state.inputValue?void 0:(t&&(i=null),a["default"].createElement(n,{disabled:this.props.disabled,onClick:i,value:e[0]},o(e[0])))},renderInput:function(e){var t=(0,f["default"])("Select-input",this.props.inputProps.className);return this.props.disabled||!this.props.searchable?a["default"].createElement("div",i({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:"input",style:{border:0,width:1,display:"inline-block"}})):a["default"].createElement(c["default"],i({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,minWidth:"5",ref:"input",required:this.state.required,value:this.state.inputValue}))},renderClear:function(){return!this.props.clearable||!this.props.value||this.props.multi&&!this.props.value.length||this.props.disabled||this.props.isLoading?void 0:a["default"].createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},a["default"].createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}}))},renderArrow:function(){return a["default"].createElement("span",{className:"Select-arrow-zone",onMouseDown:this.handleMouseDownOnArrow},a["default"].createElement("span",{className:"Select-arrow",onMouseDown:this.handleMouseDownOnArrow}))},filterOptions:function(e){var t=this,r=this.state.inputValue,o=this.props.options||[];return"function"==typeof this.props.filterOptions?this.props.filterOptions.call(this,o,r,e):this.props.filterOptions?(this.props.ignoreAccents&&(r=(0,y["default"])(r)),this.props.ignoreCase&&(r=r.toLowerCase()),e&&(e=e.map(function(e){return e[t.props.valueKey]})),o.filter(function(o){if(e&&e.indexOf(o[t.props.valueKey])>-1)return!1;if(t.props.filterOption)return t.props.filterOption.call(t,o,r);if(!r)return!0;var n=String(o[t.props.valueKey]),i=String(o[t.props.labelKey]);return t.props.ignoreAccents&&("label"!==t.props.matchProp&&(n=(0,y["default"])(n)),"value"!==t.props.matchProp&&(i=(0,y["default"])(i))),t.props.ignoreCase&&("label"!==t.props.matchProp&&(n=n.toLowerCase()),"value"!==t.props.matchProp&&(i=i.toLowerCase())),"start"===t.props.matchPos?"label"!==t.props.matchProp&&n.substr(0,r.length)===r||"value"!==t.props.matchProp&&i.substr(0,r.length)===r:"label"!==t.props.matchProp&&n.indexOf(r)>=0||"value"!==t.props.matchProp&&i.indexOf(r)>=0})):o},renderMenu:function(e,t,r){var o=this;if(!e||!e.length)return this.props.noResultsText?a["default"].createElement("div",{className:"Select-noresults"},this.props.noResultsText):null;var n=function(){var n=o.props.optionComponent,i=o.props.optionRenderer||o.getOptionLabel;return{v:e.map(function(e,s){var u=t&&t.indexOf(e)>-1,l=e===r,p=l?"focused":null,c=(0,f["default"])({"Select-option":!0,"is-selected":u,"is-focused":l,"is-disabled":e.disabled});return a["default"].createElement(n,{className:c,isDisabled:e.disabled,isFocused:l,key:"option-"+s+"-"+e[o.props.valueKey],onSelect:o.selectValue,onFocus:o.focusOption,option:e,isSelected:u,ref:p},i(e))})}}();return"object"==typeof n?n.v:void 0},renderHiddenField:function(e){var t=this;if(this.props.name){var r=e.map(function(e){return n(e[t.props.valueKey])}).join(this.props.delimiter);return a["default"].createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:r,disabled:this.props.disabled})}},getFocusableOption:function(e){var t=this._visibleOptions;if(t.length){var r=this.state.focusedOption||e;if(r&&t.indexOf(r)>-1)return r;for(var o=0;o<t.length;o++)if(!t[o].disabled)return t[o]}},render:function(){var e=this.getValueArray(),t=this._visibleOptions=this.filterOptions(this.props.multi?e:null),r=this.state.isOpen;this.props.multi&&!t.length&&e.length&&!this.state.inputValue&&(r=!1);var o=this._focusedOption=this.getFocusableOption(e[0]),n=(0,f["default"])("Select",this.props.className,{"Select--multi":this.props.multi,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":e.length});return a["default"].createElement("div",{ref:"wrapper",className:n,style:this.props.wrapperStyle},this.renderHiddenField(e),a["default"].createElement("div",{ref:"control",className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},this.renderValue(e,r),this.renderInput(e),this.renderLoading(),this.renderClear(),this.renderArrow()),r?a["default"].createElement("div",{ref:"menuContainer",className:"Select-menu-outer",style:this.props.menuContainerStyle},a["default"].createElement("div",{ref:"menu",className:"Select-menu",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},this.renderMenu(t,this.props.multi?null:e,o))):null)}});t["default"]=w,e.exports=t["default"]},function(e,t){"use strict";var r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g
},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];e.exports=function(e){for(var t=0;t<r.length;t++)e=e.replace(r[t].letters,r[t].base);return e}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.jQuery=t.animation=void 0;var i=r(1),s=o(i),a=r(13),u=o(a),l=r(3),p=o(l),c=r(43),d=o(c),f=r(44),h=o(f),y={displayName:"ToastMessage",getDefaultProps:function(){var e={error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"};return{className:"toast",iconClassNames:e,titleClassName:"toast-title",messageClassName:"toast-message",tapToDismiss:!0,closeButton:!1}},handleOnClick:function(e){this.props.handleOnClick(e),this.props.tapToDismiss&&this.hideToast(!0)},_handle_close_button_click:function(e){e.stopPropagation(),this.hideToast(!0)},_handle_remove:function(){this.props.handleRemove(this.props.toastId)},_render_close_button:function(){return this.props.closeButton?s["default"].createElement("button",{className:"toast-close-button",role:"button",onClick:this._handle_close_button_click,dangerouslySetInnerHTML:{__html:"&times;"}}):!1},_render_title_element:function(){return this.props.title?s["default"].createElement("div",{className:this.props.titleClassName},this.props.title):!1},_render_message_element:function(){return this.props.message?s["default"].createElement("div",{className:this.props.messageClassName},this.props.message):!1},render:function(){var e=this.props.iconClassName||this.props.iconClassNames[this.props.type];return s["default"].createElement("div",{className:(0,p["default"])(this.props.className,e),style:this.props.style,onClick:this.handleOnClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._render_close_button(),this._render_title_element(),this._render_message_element())}},v=t.animation=s["default"].createClass((0,u["default"])(y,{displayName:{$set:"ToastMessage.animation"},mixins:{$set:[d["default"]]}})),m=t.jQuery=s["default"].createClass((0,u["default"])(y,{displayName:{$set:"ToastMessage.jQuery"},mixins:{$set:[h["default"]]}}));y.handleMouseEnter=n,y.handleMouseLeave=n,y.hideToast=n;var g=s["default"].createClass(y);g.animation=v,g.jQuery=m,t["default"]=g},function(e,t,r){e.exports=r(49)},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function n(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!n(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],s(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),l=r.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,n,s,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){function r(){l=!1,s.length?u=s.concat(u):p=-1,u.length&&o()}function o(){if(!l){var e=setTimeout(r);l=!0;for(var t=u.length;t;){for(s=u,u=[];++p<t;)s&&s[p].run();p=-1,t=u.length}s=null,l=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function i(){}var s,a=e.exports={},u=[],l=!1,p=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new n(e,t)),1!==u.length||l||setTimeout(o,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=r(23),y=o(h),v=r(19),m=o(v),g=r(33),b=o(g),E=r(34),P=o(E),T=r(22),w=o(T),O=r(8),C=r(26),_=o(C),S=r(17),k=function(e){function t(e){var r=this;if(n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._scrollHeader=function(e){r.refs.header.refs.container.scrollLeft=e.currentTarget.scrollLeft},this._adjustHeaderWidth=function(){var e=r.refs.header.refs.container.childNodes[0],t=r.refs.body.refs.container.childNodes[0];e.offsetWidth!==t.offsetWidth&&(e.style.width=t.offsetWidth+"px");var o=r.refs.body.getBodyHeaderDomProp();r.refs.header.fitHeader(o,r.refs.body.refs.container.scrollHeight>r.refs.body.refs.container.clientHeight)},this._attachCellEditFunc(),Array.isArray(this.props.data)){var o=this.props.data.slice();this.store=new O.TableDataStore(o)}else this.store=new O.TableDataStore(this.props.data.getData()),this.props.data.clear(),this.props.data.on("change",function(e){r.store.setData(e),r.setState({data:r.getTableData()})});if(this.initTable(this.props),this.filter&&!function(){var e=r;r.filter.on("onFilterChange",function(t){e.handleFilterData(t)})}(),this.props.selectRow&&this.props.selectRow.selected){var o=this.props.selectRow.selected.slice();this.store.setSelectedRowKey(o)}this.state={data:this.getTableData(),currPage:this.props.options.page||1,sizePerPage:this.props.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0],selectedRowKeys:this.store.getSelectedRowKeys()}}return i(t,e),s(t,[{key:"initTable",value:function(e){var t=this,r=e.keyField,o="string"==typeof r&&r.length;l["default"].Children.forEach(e.children,function(e){if(e.props.isKey){if(r)throw"Error. Multiple key column be detected in TableHeaderColumn.";r=e.props.dataField}e.props.filter&&(t.filter||(t.filter=new S.Filter),e.props.filter.emitter=t.filter)},this);var n=this.getColumnsDescription(e).reduce(function(e,t){return e[t.name]=t,e},{});if(!o&&!r)throw"Error. No any key column defined in TableHeaderColumn.\n            Use 'isKey={true}' to specify a unique column after version 0.5.4.";this.store.setProps({isPagination:e.pagination,keyField:r,colInfos:n,multiColumnSearch:e.multiColumnSearch,remote:this.isRemoteDataSource()})}},{key:"getTableData",value:function(){var e=[];if(this.props.options.sortName&&this.props.options.sortOrder&&this.store.sort(this.props.options.sortOrder,this.props.options.sortName),this.props.pagination){var t=void 0,r=void 0;this.store.isChangedPage()?(r=this.state.sizePerPage,t=this.state.currPage):(r=this.props.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0],t=this.props.options.page||1),e=this.store.page(t,r).get()}else e=this.store.get();return e}},{key:"getColumnsDescription",value:function(e){var t=e.children;return t.map(function(e,t){return{name:e.props.dataField,align:e.props.dataAlign,sort:e.props.dataSort,format:e.props.dataFormat,formatExtraData:e.props.formatExtraData,filterFormatted:e.props.filterFormatted,editable:e.props.editable,hidden:e.props.hidden,className:e.props.columnClassName,width:e.props.width,text:e.props.children,sortFunc:e.props.sortFunc,index:t}})}},{key:"componentWillReceiveProps",value:function(e){if(this.initTable(e),Array.isArray(e.data)){this.store.setData(e.data.slice());var t=this.refs.pagination,r=t&&t.getCurrentPage()||e.options.page||1,o=t&&t.getSizePerPage()||e.options.sizePerPage||f["default"].SIZE_PER_PAGE_LIST[0];r>Math.ceil(e.data.length/o)&&(r=1);var n=this.store.getSortInfo(),i=e.options.sortName||(n?n.sortField:void 0),s=e.options.sortOrder||(n?n.order:void 0);i&&s&&this.store.sort(s,i);var a=this.store.page(r,o).get();this.setState({data:a,currPage:r,sizePerPage:o})}if(e.selectRow&&e.selectRow.selected){var u=e.selectRow.selected.slice();this.store.setSelectedRowKey(u),this.setState({selectedRowKeys:u})}}},{key:"componentDidMount",value:function(){this._adjustHeaderWidth(),window.addEventListener("resize",this._adjustHeaderWidth),this.refs.body.refs.container.addEventListener("scroll",this._scrollHeader)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._adjustHeaderWidth),this.refs.body.refs.container.removeEventListener("scroll",this._scrollHeader),this.filter&&this.filter.removeAllListeners("onFilterChange")}},{key:"componentDidUpdate",value:function(){this._adjustHeaderWidth(),this._attachCellEditFunc(),this.props.options.afterTableComplete&&this.props.options.afterTableComplete()}},{key:"_attachCellEditFunc",value:function(){this.props.cellEdit&&(this.props.cellEdit.__onCompleteEdit__=this.handleEditCell.bind(this),this.props.cellEdit.mode!==f["default"].CELL_EDIT_NONE&&(this.props.selectRow.clickToSelect=!1))}},{key:"isRemoteDataSource",value:function(e){return(e||this.props).remote}},{key:"render",value:function(){var e=((0,c["default"])("react-bs-table"),this.props.children),t={height:this.props.height,maxHeight:this.props.maxHeight};Array.isArray(this.props.children)||(e=[this.props.children]);var r=this.getColumnsDescription(this.props),o=this.store.getSortInfo(),n=this.renderPagination(),i=this.renderToolBar(),s=this.renderTableFilter(r),a=this.isSelectAll();return l["default"].createElement("div",{className:"react-bs-container",ref:"table"},i,l["default"].createElement("div",{className:"react-bs-table-container",onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),style:t},l["default"].createElement(y["default"],{ref:"header",rowSelectType:this.props.selectRow.mode,hideSelectColumn:this.props.selectRow.hideSelectColumn,sortName:o?o.sortField:void 0,sortOrder:o?o.order:void 0,onSort:this.handleSort.bind(this),onSelectAllRow:this.handleSelectAllRow.bind(this),bordered:this.props.bordered,condensed:this.props.condensed,isFiltered:!!this.filter,tableID:this.props.tableID,isSelectAll:a},this.props.children),l["default"].createElement(m["default"],{height:this.props.height,maxHeight:this.props.maxHeight,ref:"body",data:this.state.data,columns:r,trClassName:this.props.trClassName,striped:this.props.striped,bordered:this.props.bordered,hover:this.props.hover,keyField:this.store.getKeyField(),condensed:this.props.condensed,selectRow:this.props.selectRow,cellEdit:this.props.cellEdit,selectedRowKeys:this.state.selectedRowKeys,onRowClick:this.handleRowClick.bind(this),onRowMouseOver:this.handleRowMouseOver.bind(this),onRowMouseOut:this.handleRowMouseOut.bind(this),onSelectRow:this.handleSelectRow.bind(this),noDataText:this.props.options.noDataText})),s,n)}},{key:"isSelectAll",value:function(){var e=this.store.getSelectedRowKeys(),t=this.store.getAllRowkey();return e.length!==t.length?0===e.length?!1:"indeterminate":!0}},{key:"cleanSelected",value:function(){this.store.setSelectedRowKey([]),this.setState({selectedRowKeys:[]})}},{key:"handleSort",value:function(e,t){this.props.options.onSortChange&&this.props.options.onSortChange(t,e,this.props);var r=this.store.sort(e,t).get();this.setState({data:r})}},{key:"handlePaginationData",value:function(e,t){var r=this.props.options.onPageChange;if(r&&r(e,t),!this.isRemoteDataSource()){var o=this.store.page(e,t).get();this.setState({data:o,currPage:e,sizePerPage:t})}}},{key:"handleMouseLeave",value:function(){this.props.options.onMouseLeave&&this.props.options.onMouseLeave()}},{key:"handleMouseEnter",value:function(){this.props.options.onMouseEnter&&this.props.options.onMouseEnter()}},{key:"handleRowMouseOut",value:function(e){this.props.options.onRowMouseOut&&this.props.options.onRowMouseOut(e)}},{key:"handleRowMouseOver",value:function(e){this.props.options.onRowMouseOver&&this.props.options.onRowMouseOver(e)}},{key:"handleRowClick",value:function(e){this.props.options.onRowClick&&this.props.options.onRowClick(e)}},{key:"handleSelectAllRow",value:function(e){var t=e.currentTarget.checked,r=[],o=!0;this.props.selectRow.onSelectAll&&(o=this.props.selectRow.onSelectAll(t,t?this.store.get():[])),"undefined"!=typeof o&&o===!1||(t&&(r=this.store.getAllRowkey()),this.store.setSelectedRowKey(r),this.setState({selectedRowKeys:r}))}},{key:"handleShowOnlySelected",value:function(){this.store.ignoreNonSelected();var e=void 0;e=this.props.pagination?this.store.page(1,this.state.sizePerPage).get():this.store.get(),this.setState({data:e,currPage:1})}},{key:"handleSelectRow",value:function(e,t){var r=this.store.getSelectedRowKeys(),o=e[this.store.getKeyField()],n=!0;this.props.selectRow.onSelect&&(n=this.props.selectRow.onSelect(e,t)),"undefined"!=typeof n&&n===!1||(this.props.selectRow.mode===f["default"].ROW_SELECT_SINGLE?r=t?[o]:[]:t?r.push(o):r=r.filter(function(e){return o!==e}),this.store.setSelectedRowKey(r),this.setState({selectedRowKeys:r}))}},{key:"handleEditCell",value:function(e,t,r){var o=void 0;l["default"].Children.forEach(this.props.children,function(e,t){return t==r?(o=e.props.dataField,!1):void 0});var n=this.store.edit(e,t,o).get();this.setState({data:n}),this.props.cellEdit.afterSaveCell&&this.props.cellEdit.afterSaveCell(this.state.data[t],o,e)}},{key:"handleAddRowBegin",value:function(){this.refs.body}},{key:"handleAddRow",value:function(e){var t=this,r=void 0,o=this.props.options.beforeInsertRow?this.props.options.beforeInsertRow(e):e;Promise.resolve(o).then(function(o){e=o;try{t.store.add(e)}catch(n){return n}if(t.props.pagination){var i=t.state.sizePerPage,s=Math.ceil(t.store.getDataNum()/i);r=t.store.page(s,i).get(),t.setState({data:r,currPage:s})}else r=t.store.get(),t.setState({data:r});t.props.options.afterInsertRow&&t.props.options.afterInsertRow(e)}).then(function(e){return e})}},{key:"getSizePerPage",value:function(){return this.state.sizePerPage}},{key:"getCurrentPage",value:function(){return this.state.currPage}},{key:"handleDropRow",value:function(e){var t=this,r=e?e:this.store.getSelectedRowKeys();r&&r.length>0&&(this.props.options.handleConfirmDeleteRow?this.props.options.handleConfirmDeleteRow(function(){t.deleteRow(r)}):confirm("Are you sure want delete?")&&this.deleteRow(r))}},{key:"deleteRow",value:function(e){var t=void 0;if(this.store.remove(e),this.store.setSelectedRowKey([]),this.props.pagination){var r=this.state.sizePerPage,o=this.state.currPage,n=Math.ceil(this.store.getDataNum()/r);o>n&&(o=n),t=this.store.page(o,r).get(),this.setState({data:t,selectedRowKeys:this.store.getSelectedRowKeys(),currPage:o})}else t=this.store.get(),this.setState({data:t,selectedRowKeys:this.store.getSelectedRowKeys()});this.props.options.afterDeleteRow&&this.props.options.afterDeleteRow(e)}},{key:"handleFilterData",value:function(e){this.store.filter(e);var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage;t=this.store.page(1,r).get()}else t=this.store.get();this.props.options.afterColumnFilter&&this.props.options.afterColumnFilter(e,this.store.getDataIgnoringPagination()),this.setState({data:t,currPage:1})}},{key:"handleExportCSV",value:function(){var e=this.store.getDataIgnoringPagination(),t=[];this.props.children.map(function(e){e.props.hidden===!1&&t.push(e.props.dataField)}),(0,_["default"])(e,t,this.props.csvFileName)}},{key:"handleSearch",value:function(e){this.store.search(e);var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage;t=this.store.page(1,r).get()}else t=this.store.get();this.props.options.afterSearch&&this.props.options.afterSearch(e,this.store.getDataIgnoringPagination()),this.setState({data:t,currPage:1})}},{key:"renderPagination",value:function(){if(this.props.pagination){var e=void 0;return e=this.isRemoteDataSource()?this.props.fetchInfo.dataTotalSize:this.store.getDataNum(),l["default"].createElement("div",{className:"table-footer-pagination"},l["default"].createElement(b["default"],{ref:"pagination",currPage:this.state.currPage,changePage:this.handlePaginationData.bind(this),sizePerPage:this.state.sizePerPage,sizePerPageList:this.props.options.sizePerPageList||f["default"].SIZE_PER_PAGE_LIST,paginationSize:this.props.options.paginationSize||f["default"].PAGINATION_SIZE,remote:this.isRemoteDataSource(),dataSize:e,onSizePerPageList:this.props.options.onSizePerPageList,prePage:this.props.options.prePage||f["default"].PRE_PAGE,nextPage:this.props.options.nextPage||f["default"].NEXT_PAGE,firstPage:this.props.options.firstPage||f["default"].FIRST_PAGE,lastPage:this.props.options.lastPage||f["default"].LAST_PAGE}))}return null}},{key:"renderToolBar",value:function(){var e=this.props.selectRow&&this.props.selectRow.showOnlySelected;if(e||this.props.insertRow||this.props.deleteRow||this.props.search||this.props.exportCSV){var t=void 0;return t=Array.isArray(this.props.children)?this.props.children.map(function(e){var t=e.props;return{name:t.children,field:t.dataField,autoValue:t.autoValue||!1,editable:t.editable&&"function"==typeof t.editable?t.editable():t.editable,hiddenInPopup:t.hiddenInPopup,format:t.dataFormat?function(e){return t.dataFormat(e,null,t.formatExtraData).replace(/<.*?>/g,"")}:!1}}):[{name:this.props.children.props.children,field:this.props.children.props.dataField,editable:this.props.children.props.editable,hiddenInPopup:this.props.children.props.hiddenInPopup}],l["default"].createElement("div",{className:"tool-bar"},l["default"].createElement(P["default"],{clearSearch:this.props.options.clearSearch,enableInsert:this.props.insertRow,enableDelete:this.props.deleteRow,enableSearch:this.props.search,enableExportCSV:this.props.exportCSV,enableShowOnlySelected:e,columns:t,searchPlaceholder:this.props.searchPlaceholder,onAddRow:this.handleAddRow.bind(this),onAddRowBegin:this.handleAddRowBegin.bind(this),onDropRow:this.handleDropRow.bind(this),onSearch:this.handleSearch.bind(this),onExportCSV:this.handleExportCSV.bind(this),onShowOnlySelected:this.handleShowOnlySelected.bind(this)}))}return null}},{key:"renderTableFilter",value:function(e){return this.props.columnFilter?l["default"].createElement(w["default"],{columns:e,rowSelectType:this.props.selectRow.mode,onFilter:this.handleFilterData.bind(this)}):null}}]),t}(l["default"].Component);k.propTypes={keyField:l["default"].PropTypes.string,height:l["default"].PropTypes.string,maxHeight:l["default"].PropTypes.string,tableID:l["default"].PropTypes.string,data:l["default"].PropTypes.oneOfType([l["default"].PropTypes.array,l["default"].PropTypes.object]),remote:l["default"].PropTypes.bool,striped:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,hover:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,pagination:l["default"].PropTypes.bool,searchPlaceholder:l["default"].PropTypes.string,selectRow:l["default"].PropTypes.shape({mode:l["default"].PropTypes.oneOf([f["default"].ROW_SELECT_NONE,f["default"].ROW_SELECT_SINGLE,f["default"].ROW_SELECT_MULTI]),bgColor:l["default"].PropTypes.string,selected:l["default"].PropTypes.array,onSelect:l["default"].PropTypes.func,onSelectAll:l["default"].PropTypes.func,clickToSelect:l["default"].PropTypes.bool,hideSelectColumn:l["default"].PropTypes.bool,clickToSelectAndEditCell:l["default"].PropTypes.bool,showOnlySelected:l["default"].PropTypes.bool}),cellEdit:l["default"].PropTypes.shape({mode:l["default"].PropTypes.string,blurToSave:l["default"].PropTypes.bool,afterSaveCell:l["default"].PropTypes.func}),insertRow:l["default"].PropTypes.bool,deleteRow:l["default"].PropTypes.bool,search:l["default"].PropTypes.bool,columnFilter:l["default"].PropTypes.bool,trClassName:l["default"].PropTypes.any,options:l["default"].PropTypes.shape({beforeInsertRow:l["default"].PropTypes.func,clearSearch:l["default"].PropTypes.bool,sortName:l["default"].PropTypes.string,sortOrder:l["default"].PropTypes.string,afterTableComplete:l["default"].PropTypes.func,afterDeleteRow:l["default"].PropTypes.func,afterInsertRow:l["default"].PropTypes.func,afterSearch:l["default"].PropTypes.func,afterColumnFilter:l["default"].PropTypes.func,onRowClick:l["default"].PropTypes.func,page:l["default"].PropTypes.number,sizePerPageList:l["default"].PropTypes.array,sizePerPage:l["default"].PropTypes.number,paginationSize:l["default"].PropTypes.number,onSortChange:l["default"].PropTypes.func,onPageChange:l["default"].PropTypes.func,onSizePerPageList:l["default"].PropTypes.func,noDataText:l["default"].PropTypes.string,handleConfirmDeleteRow:l["default"].PropTypes.func,prePage:l["default"].PropTypes.string,nextPage:l["default"].PropTypes.string,firstPage:l["default"].PropTypes.string,lastPage:l["default"].PropTypes.string}),fetchInfo:l["default"].PropTypes.shape({dataTotalSize:l["default"].PropTypes.number}),exportCSV:l["default"].PropTypes.bool,csvFileName:l["default"].PropTypes.string},k.defaultProps={height:"100%",maxHeight:void 0,tableID:void 0,striped:!1,bordered:!0,hover:!1,condensed:!1,pagination:!1,searchPlaceholder:void 0,selectRow:{mode:f["default"].ROW_SELECT_NONE,bgColor:f["default"].ROW_SELECT_BG_COLOR,selected:[],onSelect:void 0,onSelectAll:void 0,clickToSelect:!1,hideSelectColumn:!1,clickToSelectAndEditCell:!1,showOnlySelected:!1},cellEdit:{mode:f["default"].CELL_EDIT_NONE,blurToSave:!1,afterSaveCell:void 0},insertRow:!1,deleteRow:!1,search:!1,multiColumnSearch:!1,columnFilter:!1,trClassName:"",options:{clearSearch:!1,sortName:void 0,sortOrder:void 0,afterTableComplete:void 0,afterDeleteRow:void 0,afterInsertRow:void 0,afterSearch:void 0,afterColumnFilter:void 0,onRowClick:void 0,onMouseLeave:void 0,onMouseEnter:void 0,onRowMouseOut:void 0,onRowMouseOver:void 0,page:void 0,sizePerPageList:f["default"].SIZE_PER_PAGE_LIST,sizePerPage:void 0,paginationSize:f["default"].PAGINATION_SIZE,onSizePerPageList:void 0,noDataText:void 0,handleConfirmDeleteRow:void 0,prePage:f["default"].PRE_PAGE,nextPage:f["default"].NEXT_PAGE,firstPage:f["default"].FIRST_PAGE,lastPage:f["default"].LAST_PAGE},fetchInfo:{dataTotalSize:0},exportCSV:!1,csvFileName:void 0},t["default"]=k,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(2),l=o(u),p=r(14).EventEmitter,c=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentFilter={}}return i(t,e),s(t,[{key:"handleFilter",value:function(e,t,r){var o=r||l["default"].FILTER_TYPE.CUSTOM;if(null!=t&&"object"==typeof t){var n=!0;for(var i in t)if(!t[i]||""===t[i]){n=!1;break}n?this.currentFilter[e]={value:t,type:o}:delete this.currentFilter[e]}else t&&""!==t.trim()?this.currentFilter[e]={value:t.trim(),type:o}:delete this.currentFilter[e];this.emit("onFilterChange",this.currentFilter)}}]),t}(p);t.Filter=c},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,
o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=(o(p),r(2)),d=(o(c),function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e={width:parseInt(this.props.width)?this.props.width:35};return l["default"].createElement("th",{style:e},l["default"].createElement("div",{className:"th-inner table-header-column"},this.props.children))}}]),t}(l["default"].Component));t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=r(5),f=o(d),h=r(25),y=o(h),v=r(20),m=o(v),g=r(21),b=o(g),E=r(3),P=o(E),T=function(e){return e&&"function"==typeof e},w=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={currEditCell:null},this.editing=!1}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.adjustBody()}},{key:"componentDidUpdate",value:function(){this.adjustBody()}},{key:"render",value:function(){var e=(0,P["default"])("table-container"),t=(0,P["default"])("table",{"table-striped":this.props.striped,"table-bordered":this.props.bordered,"table-hover":this.props.hover,"table-condensed":this.props.condensed}),r=this._isSelectRowDefined(),o=this.renderTableHeader(r),n=this.props.data.map(function(e,t){var o=this.props.columns.map(function(r,o){var n=e[r.name];if(this.editing&&r.name!==this.props.keyField&&r.editable&&null!=this.state.currEditCell&&this.state.currEditCell.rid==t&&this.state.currEditCell.cid==o){var i=r.format?function(t){return r.format(t,e,r.formatExtraData).replace(/<.*?>/g,"")}:!1;return l["default"].createElement(b["default"],{completeEdit:this.handleCompleteEditCell.bind(this),editable:T(r.editable)?r.editable(n,e,t,o):r.editable,format:r.format?i:!1,key:o,blurToSave:this.props.cellEdit.blurToSave,rowIndex:t,colIndex:o},n)}var s=T(r.className)?r.className(n,e,t,o):r.className;if("undefined"!=typeof r.format){var a=r.format(n,e,r.formatExtraData);return l["default"].isValidElement(a)||(a=l["default"].createElement("div",{dangerouslySetInnerHTML:{__html:a}})),l["default"].createElement(m["default"],{dataAlign:r.align,key:o,className:s,cellEdit:this.props.cellEdit,hidden:r.hidden,onEdit:this.handleEditCell.bind(this),width:r.width},a)}return l["default"].createElement(m["default"],{dataAlign:r.align,key:o,className:s,cellEdit:this.props.cellEdit,hidden:r.hidden,onEdit:this.handleEditCell.bind(this),width:r.width},n)},this),n=-1!=this.props.selectedRowKeys.indexOf(e[this.props.keyField]),i=r&&!this.props.selectRow.hideSelectColumn?this.renderSelectRowColumn(n):null,s=T(this.props.trClassName)?this.props.trClassName(e,t):this.props.trClassName;return l["default"].createElement(y["default"],{isSelected:n,key:t,className:s,selectRow:r?this.props.selectRow:void 0,enableCellEdit:this.props.cellEdit.mode!==c["default"].CELL_EDIT_NONE,onRowClick:this.handleRowClick.bind(this),onRowMouseOver:this.handleRowMouseOver.bind(this),onRowMouseOut:this.handleRowMouseOut.bind(this),onSelectRow:this.handleSelectRow.bind(this)},i,o)},this);0===n.length&&n.push(l["default"].createElement(y["default"],{key:"##table-empty##"},l["default"].createElement("td",{colSpan:this.props.columns.length+(r?1:0),className:"react-bs-table-no-data"},this.props.noDataText||c["default"].NO_DATA_TEXT))),this.editing=!1;var i=this.calculateContainerHeight().toString();return l["default"].createElement("div",{ref:"container",className:e,style:{height:i}},l["default"].createElement("table",{ref:"body",className:t},o,l["default"].createElement("tbody",null,n)))}},{key:"renderTableHeader",value:function(e){var t=null;if(e){var r={width:35,minWidth:35};t=this.props.selectRow.hideSelectColumn?null:l["default"].createElement("th",{style:r,key:-1})}var o=this.props.columns.map(function(e,t){var r=null==e.width?e.width:parseInt(e.width),o={display:e.hidden?"none":null,width:r,maxWidth:r},n=e.sort?f["default"].renderReactSortCaret(c["default"].SORT_DESC):null;return l["default"].createElement("th",{style:o,key:t,className:e.className},e.text,n)});return l["default"].createElement("thead",{ref:"header"},l["default"].createElement("tr",null,t,o))}},{key:"handleRowMouseOut",value:function(e){var t=this.props.data[e-1];this.props.onRowMouseOut(t)}},{key:"handleRowMouseOver",value:function(e){var t=this.props.data[e-1];this.props.onRowMouseOver(t)}},{key:"handleRowClick",value:function(e){var t,r;this.props.data.forEach(function(o,n){n==e-1&&(t=o[this.props.keyField],r=o)},this),this.props.onRowClick(r)}},{key:"handleSelectRow",value:function(e,t){var r,o;this.props.data.forEach(function(t,n){return n==e-1?(r=t[this.props.keyField],o=t,!1):void 0},this),this.props.onSelectRow(o,t)}},{key:"handleSelectRowColumChange",value:function(e){this.props.selectRow.clickToSelect&&this.props.selectRow.clickToSelectAndEditCell||this.handleSelectRow(e.currentTarget.parentElement.parentElement.rowIndex,e.currentTarget.checked)}},{key:"handleEditCell",value:function(e,t){this.editing=!0,this._isSelectRowDefined()&&(t--,this.props.selectRow.hideSelectColumn&&t++),e--;var r={currEditCell:{rid:e,cid:t}};this.props.selectRow.clickToSelectAndEditCell&&this.handleSelectRow(e+1,!0),this.setState(r)}},{key:"cancelEdit",value:function(){var e=this.state.currEditCell;e&&this.handleCompleteEditCell(null,e.rid,e.cid)}},{key:"handleCompleteEditCell",value:function(e,t,r){this.setState({currEditCell:null}),null!=e&&this.props.cellEdit.__onCompleteEdit__(e,t,r)}},{key:"renderSelectRowColumn",value:function(e){return this.props.selectRow.mode==c["default"].ROW_SELECT_SINGLE?l["default"].createElement(m["default"],null,l["default"].createElement("input",{type:"radio",name:"selection",checked:e,onChange:this.handleSelectRowColumChange.bind(this)})):l["default"].createElement(m["default"],null,l["default"].createElement("input",{type:"checkbox",checked:e,onChange:this.handleSelectRowColumChange.bind(this)}))}},{key:"getBodyHeaderDomProp",value:function(){for(var e=this.refs.header.childNodes[0].childNodes,t=[],r=0;r<e.length;r++)t.push({width:e[r].offsetWidth});return t}},{key:"adjustBody",value:function(){this.hardFixHeaderWidth(),this.props.condensed&&(this.refs.body.style.marginTop="-36px"),this.props.maxHeight&&parseInt(this.props.maxHeight)<this.refs.container.offsetHeight&&(this.refs.container.style.height=this.props.maxHeight-42+"px")}},{key:"hardFixHeaderWidth",value:function(){for(var e=this.refs.header.childNodes[0].childNodes,t=0;t<e.length;t++)e[t].style.width=e[t].offsetWidth+"px"}},{key:"calculateContainerHeight",value:function(){return"100%"==this.props.height?this.props.height:parseInt(this.props.height)-42}},{key:"_isSelectRowDefined",value:function(){return this.props.selectRow.mode===c["default"].ROW_SELECT_SINGLE||this.props.selectRow.mode===c["default"].ROW_SELECT_MULTI}}]),t}(l["default"].Component);w.propTypes={height:l["default"].PropTypes.string,data:l["default"].PropTypes.array,columns:l["default"].PropTypes.array,striped:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,hover:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,keyField:l["default"].PropTypes.string,selectedRowKeys:l["default"].PropTypes.array,onRowClick:l["default"].PropTypes.func,onSelectRow:l["default"].PropTypes.func,noDataText:l["default"].PropTypes.string},t["default"]=w,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(2),d=o(c),f=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props.children,o=this.props.width!==e.width||this.props.className!==e.className||this.props.hidden!==e.hidden||this.props.dataAlign!==e.dataAlign||typeof r!=typeof e.children||(""+this.props.onEdit).toString()!==(""+e.onEdit).toString();return o?o:(o="object"==typeof r&&null!==r?"checkbox"===r.props.type||"radio"===r.props.type?o||r.props.type!==e.children.props.type||r.props.checked!==e.children.props.checked:!0:o||r!==e.children,o?o:this.props.cellEdit&&e.cellEdit?o||this.props.cellEdit.mode!==e.cellEdit.mode:!1)}},{key:"handleCellEdit",value:function(e){if(this.props.cellEdit.mode==d["default"].CELL_EDIT_DBCLICK)if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var t=window.getSelection();t.removeAllRanges()}this.props.onEdit(e.currentTarget.parentElement.rowIndex,e.currentTarget.cellIndex)}},{key:"render",value:function(){var e=null==this.props.width?this.props.width:-1!==this.props.width.indexOf("%")?this.props.width:parseInt(this.props.width),t={textAlign:this.props.dataAlign,display:this.props.hidden?"none":null,width:e,maxWidth:e},r=this.props.className;this.props.width&&(r+=" col-md-"+e);var o={};return this.props.cellEdit&&(this.props.cellEdit.mode==d["default"].CELL_EDIT_CLICK?o.onClick=this.handleCellEdit.bind(this):this.props.cellEdit.mode==d["default"].CELL_EDIT_DBCLICK&&(o.onDoubleClick=this.handleCellEdit.bind(this))),p["default"].createElement("td",s({style:t,className:r},o),this.props.children)}}]),t}(p["default"].Component);f.propTypes={dataAlign:p["default"].PropTypes.string,hidden:p["default"].PropTypes.bool,className:p["default"].PropTypes.string},f.defaultProps={dataAlign:"left",hidden:!1,className:""},t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=(o(p),r(6)),d=o(c),f=r(7),h=o(f),y=r(3),v=o(y),m=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.timeouteClear=0,this.state={shakeEditor:!1}}return i(t,e),s(t,[{key:"handleKeyPress",value:function(e){if(13==e.keyCode){var t="checkbox"==e.currentTarget.type?this._getCheckBoxValue(e):e.currentTarget.value;if(!this.validator(t))return;this.props.completeEdit(t,this.props.rowIndex,this.props.colIndex)}else 27==e.keyCode&&this.props.completeEdit(null,this.props.rowIndex,this.props.colIndex)}},{key:"handleBlur",value:function(e){if(this.props.blurToSave){var t="checkbox"==e.currentTarget.type?this._getCheckBoxValue(e):e.currentTarget.value;if(!this.validator(t))return;this.props.completeEdit(t,this.props.rowIndex,this.props.colIndex)}}},{key:"validator",value:function(e){var t=this;if(t.props.editable.validator){var r=t.props.editable.validator(e);if(r!==!0){t.refs.notifier.notice("error",r,"Pressed ESC can cancel");var o=t.refs.inputRef;return t.clearTimeout(),t.setState({shakeEditor:!0}),t.timeouteClear=setTimeout(function(){t.setState({shakeEditor:!1})},300),o.focus(),!1}}return!0}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){0!=this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:"componentDidMount",value:function(){var e=this.refs.inputRef;e.focus()}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"render",value:function(){var e=this.props.editable,t=this.props.format,r={ref:"inputRef",onKeyDown:this.handleKeyPress.bind(this),onBlur:this.handleBlur.bind(this)};e.placeholder&&(r.placeholder=e.placeholder);var o=(0,v["default"])({animated:this.state.shakeEditor,shake:this.state.shakeEditor});return l["default"].createElement("td",{ref:"td",style:{position:"relative"}},(0,d["default"])(e,r,t,o,this.props.children||""),l["default"].createElement(h["default"],{ref:"notifier"}))}},{key:"_getCheckBoxValue",value:function(e){var t="",r=e.currentTarget.value.split(":");return t=e.currentTarget.checked?r[0]:r[1]}}]),t}(l["default"].Component);m.propTypes={completeEdit:l["default"].PropTypes.func,rowIndex:l["default"].PropTypes.number,colIndex:l["default"].PropTypes.number,blurToSave:l["default"].PropTypes.bool},t["default"]=m,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=r(3),f=o(d),h=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filterObj={}}return i(t,e),s(t,[{key:"handleKeyUp",value:function(e){""===e.currentTarget.value.trim()?delete this.filterObj[e.currentTarget.name]:this.filterObj[e.currentTarget.name]=e.currentTarget.value,this.props.onFilter(this.filterObj)}},{key:"render",value:function(){var e=(0,f["default"])("table",{"table-striped":this.props.striped,"table-condensed":this.props.condensed}),t=null;if(this.props.rowSelectType==c["default"].ROW_SELECT_SINGLE||this.props.rowSelectType==c["default"].ROW_SELECT_MULTI){var r={width:35,paddingLeft:0,paddingRight:0};t=l["default"].createElement("th",{style:r,key:-1},"Filter")}var o=this.props.columns.map(function(e){var t={display:e.hidden?"none":null,width:e.width};return l["default"].createElement("th",{key:e.name,style:t},l["default"].createElement("div",{className:"th-inner table-header-column"},l["default"].createElement("input",{size:"10",type:"text",placeholder:e.name,name:e.name,onKeyUp:this.handleKeyUp.bind(this)})))},this);return l["default"].createElement("table",{className:e,style:{marginTop:5}},l["default"].createElement("thead",null,l["default"].createElement("tr",{style:{borderBottomStyle:"hidden"}},t,o)))}}]),t}(l["default"].Component);h.propTypes={columns:l["default"].PropTypes.array,rowSelectType:l["default"].PropTypes.string,onFilter:l["default"].PropTypes.func},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(4),c=o(p),d=r(2),f=o(d),h=r(5),y=o(h),v=r(3),m=o(v),g=r(18),b=o(g),E=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.update(this.props.checked)}},{key:"componentWillReceiveProps",value:function(e){this.update(e.checked)}},{key:"update",value:function(e){c["default"].findDOMNode(this).indeterminate="indeterminate"===e}},{key:"render",value:function(){return l["default"].createElement("input",{className:"react-bs-select-all",type:"checkbox",checked:this.props.checked,onChange:this.props.onChange})}}]),t}(l["default"].Component),P=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.selectRowColumnWidth=null}return i(t,e),s(t,[{key:"render",value:function(){var e=(0,m["default"])("table-header"),t=(0,m["default"])("table","table-hover",{"table-bordered":this.props.bordered,"table-condensed":this.props.condensed}),r=this.props.hideSelectColumn?null:this.renderSelectRowHeader();return this._attachClearSortCaretFunc(),l["default"].createElement("div",{className:"table-header-wrapper"},l["default"].createElement("div",{ref:"container",className:e},l["default"].createElement("table",{className:t,id:this.props.tableID},l["default"].createElement("thead",null,l["default"].createElement("tr",{ref:"header"},r,this.props.children)))))}},{key:"renderSelectRowHeader",value:function(){return this.props.rowSelectType==f["default"].ROW_SELECT_SINGLE?l["default"].createElement(b["default"],{width:this.selectRowColumnWidth}):this.props.rowSelectType==f["default"].ROW_SELECT_MULTI?l["default"].createElement(b["default"],{width:this.selectRowColumnWidth},l["default"].createElement(E,{onChange:this.props.onSelectAllRow,checked:this.props.isSelectAll})):null}},{key:"_attachClearSortCaretFunc",value:function(){if(Array.isArray(this.props.children))for(var e=0;e<this.props.children.length;e++){var t=this.props.children[e].props.dataField,r=t===this.props.sortName?this.props.sortOrder:void 0;this.props.children[e]=l["default"].cloneElement(this.props.children[e],{key:e,onSort:this.props.onSort,sort:r})}else{var t=this.props.children.props.dataField,r=t===this.props.sortName?this.props.sortOrder:void 0;this.props.children=l["default"].cloneElement(this.props.children,{key:0,onSort:this.props.onSort,sort:r})}}},{key:"fitHeader",value:function(e,t){if(Array.isArray(this.props.children)){var r=this.props.rowSelectType!=f["default"].ROW_SELECT_SINGLE&&this.props.rowSelectType!=f["default"].ROW_SELECT_MULTI||this.props.hideSelectColumn?0:1;1==r&&(this.selectRowColumnWidth=e[0].width);for(var o=0;o<this.props.children.length;o++)this.props.children[o]=l["default"].cloneElement(this.props.children[o],{width:e[o+r].width+"px"})}else this.props.children=l["default"].cloneElement(this.props.children,{width:e[0].width+"px"});this.props.condensed&&!this.props.isFiltered&&(this.refs.container.style.height="36px"),this.forceUpdate(),t&&(this.refs.container.style.marginRight=y["default"].getScrollBarWidth()+"px")}}]),t}(l["default"].Component);P.propTypes={rowSelectType:l["default"].PropTypes.string,onSort:l["default"].PropTypes.func,onSelectAllRow:l["default"].PropTypes.func,sortName:l["default"].PropTypes.string,sortOrder:l["default"].PropTypes.string,hideSelectColumn:l["default"].PropTypes.bool,bordered:l["default"].PropTypes.bool,condensed:l["default"].PropTypes.bool,isFiltered:l["default"].PropTypes.bool,isSelectAll:l["default"].PropTypes.oneOf([!0,"indeterminate",!1])},P.defaultProps={},t["default"]=P,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(3),d=(o(c),r(2)),f=o(d),h=r(5),y=o(h),v=r(28),m=o(v),g=r(31),b=o(g),E=r(30),P=o(E),T=r(29),w=o(T),O=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleFilter=this.handleFilter.bind(this)}return i(t,e),a(t,[{key:"handleColumnClick",value:function(e){if(this.props.dataSort){var t=this.props.sort==f["default"].SORT_DESC?f["default"].SORT_ASC:f["default"].SORT_DESC;this.props.onSort(t,this.props.dataField)}}},{key:"handleFilter",value:function(e,t){this.props.filter.emitter.handleFilter(this.props.dataField,e,t)}},{key:"getFilters",value:function(){switch(this.props.filter.type){case f["default"].FILTER_TYPE.TEXT:return p["default"].createElement(b["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.SELECT:return p["default"].createElement(P["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.NUMBER:return p["default"].createElement(w["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.DATE:return p["default"].createElement(m["default"],s({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case f["default"].FILTER_TYPE.CUSTOM:return this.props.filter.getElement(this.handleFilter,this.props.filter.customFilterParameters)}}},{key:"componentDidMount",value:function(){this.refs.innerDiv.setAttribute("data-field",this.props.dataField)}},{key:"render",value:function(){var e=null==this.props.width?this.props.width:-1!==this.props.width.indexOf("%")?this.props.width:parseInt(this.props.width),t={textAlign:this.props.dataAlign,display:this.props.hidden?"none":null,width:e,maxWidth:e},r=this.props.dataSort?p["default"].createElement("span",{className:"order"},p["default"].createElement("span",{className:"dropdown"},p["default"].createElement("span",{className:"caret",style:{margin:"10px 0 10px 5px",color:"#ccc"}})),p["default"].createElement("span",{className:"dropup"},p["default"].createElement("span",{className:"caret",style:{margin:"10px 0",color:"#ccc"}}))):null,o=this.props.sort?y["default"].renderReactSortCaret(this.props.sort):r,n=this.props.className+" "+(this.props.dataSort?"sort-column":"");return p["default"].createElement("th",{ref:"header-col",className:n,style:t},p["default"].createElement("div",{ref:"innerDiv",className:"th-inner table-header-column",onClick:this.handleColumnClick.bind(this)},this.props.children,o),this.props.filter?this.getFilters():null)}}]),t}(p["default"].Component),C=[];for(var _ in f["default"].FILTER_TYPE)C.push(f["default"].FILTER_TYPE[_]);O.propTypes={dataField:p["default"].PropTypes.string,dataAlign:p["default"].PropTypes.string,dataSort:p["default"].PropTypes.bool,onSort:p["default"].PropTypes.func,dataFormat:p["default"].PropTypes.func,isKey:p["default"].PropTypes.bool,editable:p["default"].PropTypes.any,hidden:p["default"].PropTypes.bool,className:p["default"].PropTypes.string,width:p["default"].PropTypes.string,sortFunc:p["default"].PropTypes.func,columnClassName:p["default"].PropTypes.any,filterFormatted:p["default"].PropTypes.bool,sort:p["default"].PropTypes.string,formatExtraData:p["default"].PropTypes.any,filter:p["default"].PropTypes.shape({type:p["default"].PropTypes.oneOf(C),delay:p["default"].PropTypes.number,options:p["default"].PropTypes.oneOfType([p["default"].PropTypes.object,p["default"].PropTypes.arrayOf(p["default"].PropTypes.number)]),numberComparators:p["default"].PropTypes.arrayOf(p["default"].PropTypes.string),emitter:p["default"].PropTypes.object,placeholder:p["default"].PropTypes.string,getElement:p["default"].PropTypes.func,customFilterParameters:p["default"].PropTypes.object})},O.defaultProps={dataAlign:"left",dataSort:!1,dataFormat:void 0,isKey:!1,editable:!0,onSort:void 0,hidden:!1,className:"",width:null,sortFunc:void 0,columnClassName:"",filterFormatted:!1,sort:void 0,formatExtraData:void 0,filter:void 0},t["default"]=O,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},l=r(1),p=o(l),c=r(2),d=(o(c),function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.clickNum=0}return i(t,e),a(t,[{key:"rowClick",value:function(e){var t=this;"INPUT"!==e.target.tagName&&"SELECT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!function(){var r=e.currentTarget.rowIndex;t.props.selectRow&&(t.props.selectRow.clickToSelect?t.props.onSelectRow(r,!t.props.isSelected):t.props.selectRow.clickToSelectAndEditCell&&(t.clickNum++,setTimeout(function(){1===t.clickNum&&t.props.onSelectRow(r,!t.props.isSelected),t.clickNum=0},200))),t.props.onRowClick&&t.props.onRowClick(r)}()}},{key:"rowMouseOut",value:function(e){this.props.onRowMouseOut&&this.props.onRowMouseOut(e.currentTarget.rowIndex)}},{key:"rowMouseOver",value:function(e){this.props.onRowMouseOver&&this.props.onRowMouseOver(e.currentTarget.rowIndex)}},{key:"render",value:function(){this.clickNum=0;var e={style:{backgroundColor:this.props.isSelected?this.props.selectRow.bgColor:null},className:(this.props.isSelected&&this.props.selectRow.className?this.props.selectRow.className:"")+(this.props.className||"")};return this.props.selectRow&&(this.props.selectRow.clickToSelect||this.props.selectRow.clickToSelectAndEditCell)||this.props.onRowClick?p["default"].createElement("tr",s({},e,{onMouseOver:this.rowMouseOver.bind(this),onMouseOut:this.rowMouseOut.bind(this),onClick:this.rowClick.bind(this)}),this.props.children):p["default"].createElement("tr",e,this.props.children)}}]),t}(p["default"].Component));d.propTypes={isSelected:p["default"].PropTypes.bool,enableCellEdit:p["default"].PropTypes.bool,onRowClick:p["default"].PropTypes.func,onSelectRow:p["default"].PropTypes.func,onRowMouseOut:p["default"].PropTypes.func,onRowMouseOver:p["default"].PropTypes.func},d.defaultProps={onRowClick:void 0},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e,t){var r="";return 0===e.length?r:(r+=t.join(",")+"\n",e.map(function(e){t.map(function(o,n){var i="undefined"!=typeof e[o]?'"'+e[o]+'"':"";r+=i,n+1<t.length&&(r+=",")}),r+="\n"}),r)}if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"!=typeof window)var n=r(27),i=n.saveAs;var s=function(e,t,r){var n=o(e,t);"undefined"!=typeof window&&i(new Blob([n],{type:"text/plain;charset=utf-8"}),r||"spreadsheet.csv")};t["default"]=s,
e.exports=t["default"]},function(e,t,r){var o,n,i=i||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,r=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=e.webkitRequestFileSystem,u=e.requestFileSystem||a||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},p="application/octet-stream",c=0,d=500,f=function(t){var o=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,d)},h=function(e,t,r){t=[].concat(t);for(var o=t.length;o--;){var n=e["on"+t[o]];if("function"==typeof n)try{n.call(e,r||e)}catch(i){l(i)}}},y=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},v=function(t,l,d){d||(t=y(t));var v,m,g,b=this,E=t.type,P=!1,T=function(){h(b,"writestart progress write writeend".split(" "))},w=function(){if(m&&s&&"undefined"!=typeof FileReader){var o=new FileReader;return o.onloadend=function(){var e=o.result;m.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),b.readyState=b.DONE,T()},o.readAsDataURL(t),void(b.readyState=b.INIT)}if(!P&&v||(v=r().createObjectURL(t)),m)m.location.href=v;else{var n=e.open(v,"_blank");void 0==n&&s&&(e.location.href=v)}b.readyState=b.DONE,T(),f(v)},O=function(e){return function(){return b.readyState!==b.DONE?e.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return b.readyState=b.INIT,l||(l="download"),n?(v=r().createObjectURL(t),o.href=v,o.download=l,void setTimeout(function(){i(o),T(),f(v),b.readyState=b.DONE})):(e.chrome&&E&&E!==p&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,p),P=!0),a&&"download"!==l&&(l+=".download"),(E===p||a)&&(m=e),u?(c+=t.size,void u(e.TEMPORARY,c,O(function(e){e.root.getDirectory("saved",C,O(function(e){var r=function(){e.getFile(l,C,O(function(e){e.createWriter(O(function(r){r.onwriteend=function(t){m.location.href=e.toURL(),b.readyState=b.DONE,h(b,"writeend",t),f(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){r["on"+e]=b["on"+e]}),r.write(t),b.abort=function(){r.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),w)}),w)};e.getFile(l,{create:!1},O(function(e){e.remove(),r()}),O(function(e){e.code===e.NOT_FOUND_ERR?r():w()}))}),w)}),w)):void w())},m=v.prototype,g=function(e,t,r){return new v(e,t,r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return r||(e=y(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(m.abort=function(){var e=this;e.readyState=e.DONE,h(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=i:null!==r(55)&&null!=r(56)&&(o=[],n=function(){return i}.apply(t,o),!(void 0!==n&&(e.exports=n)))},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this)}return i(t,e),s(t,[{key:"setDefaultDate",value:function(){var e="";if(this.props.defaultValue){var t=new Date(this.props.defaultValue);e=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}return e}},{key:"filter",value:function(e){var t=e.target.value;t?this.props.filterHandler(new Date(t),c["default"].FILTER_TYPE.DATE):this.props.filterHandler(null,c["default"].FILTER_TYPE.DATE)}},{key:"componentDidMount",value:function(){var e=this.refs.inputDate.defaultValue;e&&this.props.filterHandler(new Date(e),c["default"].FILTER_TYPE.DATE)}},{key:"render",value:function(){return l["default"].createElement("input",{ref:"inputDate",className:"filter date-filter form-control",type:"date",onChange:this.filter,defaultValue:this.setDefaultDate()})}}]),t}(l["default"].Component);d.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,defaultValue:l["default"].PropTypes.object,columnName:l["default"].PropTypes.string},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=["=",">",">=","<","<=","!="],y=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.numberComparators=this.props.numberComparators||h,this.state={isPlaceholderSelected:void 0==this.props.defaultValue||void 0==this.props.defaultValue.number||this.props.options&&-1==this.props.options.indexOf(this.props.defaultValue.number)},this.onChangeNumber=this.onChangeNumber.bind(this),this.onChangeNumberSet=this.onChangeNumberSet.bind(this),this.onChangeComparator=this.onChangeComparator.bind(this)}return i(t,e),s(t,[{key:"onChangeNumber",value:function(e){if(""!==this.refs.numberFilterComparator.value){this.timeout&&clearTimeout(this.timeout);var t=this,r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler({number:r,comparator:t.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)},t.props.delay)}}},{key:"onChangeNumberSet",value:function(e){this.setState({isPlaceholderSelected:""===e.target.value}),""!==this.refs.numberFilterComparator.value&&this.props.filterHandler({number:e.target.value,comparator:this.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"onChangeComparator",value:function(e){""!==this.refs.numberFilter.value&&this.props.filterHandler({number:this.refs.numberFilter.value,comparator:e.target.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"getComparatorOptions",value:function(){var e=[];e.push(l["default"].createElement("option",{key:"-1"}));for(var t=0;t<this.numberComparators.length;t++)e.push(l["default"].createElement("option",{key:t,value:this.numberComparators[t]},this.numberComparators[t]));return e}},{key:"getNumberOptions",value:function(){var e=[],t=this.props.options;e.push(l["default"].createElement("option",{key:"-1",value:""},this.props.placeholder||"Select "+this.props.columnName+"..."));for(var r=0;r<t.length;r++)e.push(l["default"].createElement("option",{key:r,value:t[r]},t[r]));return e}},{key:"componentDidMount",value:function(){this.refs.numberFilterComparator.value&&this.refs.numberFilter.value&&this.props.filterHandler({number:this.refs.numberFilter.value,comparator:this.refs.numberFilterComparator.value},f["default"].FILTER_TYPE.NUMBER)}},{key:"render",value:function(){var e=(0,c["default"])("select-filter","number-filter-input","form-control",{"placeholder-selected":this.state.isPlaceholderSelected});return l["default"].createElement("div",{className:"filter number-filter"},l["default"].createElement("select",{ref:"numberFilterComparator",className:"number-filter-comparator form-control",onChange:this.onChangeComparator,defaultValue:this.props.defaultValue?this.props.defaultValue.comparator:""},this.getComparatorOptions()),this.props.options?l["default"].createElement("select",{ref:"numberFilter",className:e,onChange:this.onChangeNumberSet,defaultValue:this.props.defaultValue?this.props.defaultValue.number:""},this.getNumberOptions()):l["default"].createElement("input",{ref:"numberFilter",type:"number",className:"number-filter-input form-control",placeholder:this.props.placeholder||"Enter "+this.props.columnName+"...",onChange:this.onChangeNumber,defaultValue:this.props.defaultValue?this.props.defaultValue.number:""}))}}]),t}(l["default"].Component);y.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,options:l["default"].PropTypes.arrayOf(l["default"].PropTypes.number),defaultValue:l["default"].PropTypes.shape({number:l["default"].PropTypes.number,comparator:l["default"].PropTypes.oneOf(h)}),delay:l["default"].PropTypes.number,numberComparators:function(e,t){if(e[t])for(var r=0;r<e[t].length;r++){for(var o=!1,n=0;n<h.length;n++)if(h[n]===e[t][r]){o=!0;break}if(!o)return new Error("Number comparator provided is not supported. Use only "+h)}},placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},y.defaultProps={delay:f["default"].FILTER_DELAY},t["default"]=y,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this),this.state={isPlaceholderSelected:void 0==this.props.defaultValue||!this.props.options.hasOwnProperty(this.props.defaultValue)}}return i(t,e),s(t,[{key:"filter",value:function(e){this.setState({isPlaceholderSelected:""===e.target.value}),this.props.filterHandler(e.target.value,f["default"].FILTER_TYPE.SELECT)}},{key:"getOptions",value:function(){var e=[],t=this.props.options;return e.push(l["default"].createElement("option",{key:"-1",value:""},this.props.placeholder||"Select "+this.props.columnName+"...")),Object.keys(t).map(function(r){e.push(l["default"].createElement("option",{key:r,value:r},t[r]))}),e}},{key:"componentDidMount",value:function(){this.refs.selectInput.value&&this.props.filterHandler(this.refs.selectInput.value,f["default"].FILTER_TYPE.SELECT)}},{key:"render",value:function(){var e=(0,c["default"])("filter","select-filter","form-control",{"placeholder-selected":this.state.isPlaceholderSelected});return l["default"].createElement("select",{ref:"selectInput",className:e,onChange:this.filter,defaultValue:void 0!=this.props.defaultValue?this.props.defaultValue:""},this.getOptions())}}]),t}(l["default"].Component);h.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,options:l["default"].PropTypes.object.isRequired,placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.filter=this.filter.bind(this),this.timeout=null}return i(t,e),s(t,[{key:"filter",value:function(e){this.timeout&&clearTimeout(this.timeout);var t=this,r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler(r,c["default"].FILTER_TYPE.TEXT)},t.props.delay)}},{key:"componentDidMount",value:function(){this.refs.inputText.defaultValue&&this.props.filterHandler(this.refs.inputText.defaultValue,c["default"].FILTER_TYPE.TEXT)}},{key:"render",value:function(){return l["default"].createElement("input",{ref:"inputText",className:"filter text-filter form-control",type:"text",onChange:this.filter,placeholder:this.props.placeholder||"Enter "+this.props.columnName+"...",defaultValue:this.props.defaultValue?this.props.defaultValue:""})}}]),t}(l["default"].Component);d.propTypes={filterHandler:l["default"].PropTypes.func.isRequired,defaultValue:l["default"].PropTypes.string,delay:l["default"].PropTypes.number,placeholder:l["default"].PropTypes.string,columnName:l["default"].PropTypes.string},d.defaultProps={delay:c["default"].FILTER_DELAY},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=function(e){function t(e){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),s(t,[{key:"pageBtnClick",value:function(e){e.preventDefault(),this.props.changePage(e.currentTarget.text)}},{key:"render",value:function(){var e=(0,c["default"])({active:this.props.active,disabled:this.props.disable,hidden:this.props.hidden});return l["default"].createElement("li",{className:e},l["default"].createElement("a",{href:"#",onClick:this.pageBtnClick.bind(this)},this.props.children))}}]),t}(l["default"].Component);d.propTypes={changePage:l["default"].PropTypes.func,active:l["default"].PropTypes.bool,disable:l["default"].PropTypes.bool},t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(32),c=o(p),d=r(2),f=o(d),h=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"changePage",value:function(e){e=e==this.props.prePage?this.props.currPage-1<1?1:this.props.currPage-1:e==this.props.nextPage?this.props.currPage+1>this.totalPages?this.totalPages:this.props.currPage+1:e==this.props.lastPage?this.totalPages:e==this.props.firstPage?1:parseInt(e),e!=this.props.currPage&&this.props.changePage(e,this.props.sizePerPage)}},{key:"changeSizePerPage",value:function(e){e.preventDefault();var t=parseInt(e.currentTarget.text),r=this.props.currPage;t!=this.props.sizePerPage&&(this.totalPages=Math.ceil(this.props.dataSize/t),r>this.totalPages&&(r=this.totalPages),this.props.changePage(r,t),this.props.onSizePerPageList&&this.props.onSizePerPageList(t))}},{key:"render",value:function(){var e=this;this.totalPages=Math.ceil(this.props.dataSize/this.props.sizePerPage);var t=this.makePage(),r={"float":"right",marginTop:"0px"},o=this.props.sizePerPageList.map(function(t){return l["default"].createElement("li",{key:t,role:"presentation"},l["default"].createElement("a",{role:"menuitem",tabIndex:"-1",href:"#",onClick:e.changeSizePerPage.bind(e)},t))});return l["default"].createElement("div",{className:"row",style:{marginTop:15}},this.props.sizePerPageList.length>1?l["default"].createElement("div",null,l["default"].createElement("div",{className:"col-md-6"},l["default"].createElement("div",{className:"dropdown"},l["default"].createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"pageDropDown","data-toggle":"dropdown","aria-expanded":"true"},this.props.sizePerPage,l["default"].createElement("span",null," ",l["default"].createElement("span",{className:"caret"}))),l["default"].createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"pageDropDown"},o))),l["default"].createElement("div",{className:"col-md-6"},l["default"].createElement("ul",{className:"pagination",style:r},t))):l["default"].createElement("div",{className:"col-md-12"},l["default"].createElement("ul",{className:"pagination",style:r},t)))}},{key:"makePage",value:function(){var e=this.getPages();return e.map(function(e){var t=e===this.props.currPage,r=!1,o=!1;return 1!=this.props.currPage||e!==this.props.firstPage&&e!==this.props.prePage||(r=!0,o=!0),this.props.currPage!=this.totalPages||e!==this.props.nextPage&&e!==this.props.lastPage||(r=!0,o=!0),l["default"].createElement(c["default"],{changePage:this.changePage.bind(this),active:t,disable:r,hidden:o,key:e},e)},this)}},{key:"getPages",value:function(){var e=1,t=this.totalPages;e=Math.max(this.props.currPage-Math.floor(this.props.paginationSize/2),1),t=e+this.props.paginationSize-1,t>this.totalPages&&(t=this.totalPages,e=t-this.props.paginationSize+1);var r;r=1!=e&&this.totalPages>this.props.paginationSize?[this.props.firstPage,this.props.prePage]:this.totalPages>1?[this.props.prePage]:[];for(var o=e;t>=o;o++)o>0&&r.push(o);return t!=this.totalPages?(r.push(this.props.nextPage),r.push(this.props.lastPage)):this.totalPages>1&&r.push(this.props.nextPage),r}},{key:"getCurrentPage",value:function(){return this.props.currPage}},{key:"getSizePerPage",value:function(){return this.props.sizePerPage}}]),t}(l["default"].Component);h.propTypes={currPage:l["default"].PropTypes.number,sizePerPage:l["default"].PropTypes.number,dataSize:l["default"].PropTypes.number,changePage:l["default"].PropTypes.func,sizePerPageList:l["default"].PropTypes.array,paginationSize:l["default"].PropTypes.number,remote:l["default"].PropTypes.bool,onSizePerPageList:l["default"].PropTypes.func,prePage:l["default"].PropTypes.string},h.defaultProps={sizePerPage:f["default"].SIZE_PER_PAGE},t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=i,r=s,o=!0,a=l=void 0}},u=r(1),l=o(u),p=r(3),c=o(p),d=r(2),f=o(d),h=r(6),y=o(h),v=r(7),m=o(v),g=r(9),b=(o(g),function(e){function t(e){var r=this;n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleShowOnlyToggle=function(e){r.setState({showSelected:!r.state.showSelected}),r.props.onShowOnlySelected()},this.handleClearBtnClick=function(){r.refs.seachInput.value="",r.props.onSearch("")},this.timeouteClear=0,this.state={isInsertRowTrigger:!0,validateState:null,shakeEditor:!1,showSelected:!1}}return i(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:"checkAndParseForm",value:function(){var e,t,r=this,o={},n=!0,i={};return this.props.columns.forEach(function(r,s){if(r.autoValue)e="function"==typeof r.autoValue?r.autoValue():"autovalue-"+(new Date).getTime();else{var a=this.refs[r.field+s];if(e="undefined"!=typeof a?a.value:!0,r.editable&&"checkbox"==r.editable.type){var u=a.value.split(":");e=a.checked?u[0]:u[1]}r.editable&&r.editable.validator&&(t=r.editable.validator(e),t!==!0&&(n=!1,i[r.field]=t))}o[r.field]=e},this),n?o:(r.clearTimeout(),this.setState({validateState:i,shakeEditor:!0}),r.refs.notifier.notice("error","Form validate errors, please checking!","Pressed ESC can cancel"),r.timeouteClear=setTimeout(function(){r.setState({shakeEditor:!1})},300),null)}},{key:"handleSaveBtnClick",value:function(e){var t=this.checkAndParseForm();if(t){var r=this.props.onAddRow(t);if(r){var o=this;o.refs.notifier.notice("error",r,"Pressed ESC can cancel"),o.clearTimeout(),o.setState({shakeEditor:!0,validateState:"this is hack for prevent bootstrap modal hide"}),o.timeouteClear=setTimeout(function(){o.setState({shakeEditor:!1})},300)}else this.setState({validateState:null,shakeEditor:!1},function(){document.querySelector(".modal").click()}),this.refs.form.reset()}}},{key:"handleDropRowBtnClick",value:function(e){this.props.onDropRow()}},{key:"handleCloseBtn",value:function(e){this.refs.warning.style.display="none"}},{key:"handleKeyUp",value:function(e){this.props.onSearch(e.currentTarget.value)}},{key:"handleExportCSV",value:function(){this.props.onExportCSV()}},{key:"render",value:function(){var e="bs-table-modal-sm"+(new Date).getTime(),t=this.props.enableInsert?l["default"].createElement("button",{type:"button",onClick:this.props.onAddRowBegin,className:"btn btn-info react-bs-table-add-btn","data-toggle":"modal","data-target":"."+e},l["default"].createElement("i",{className:"glyphicon glyphicon-plus"})," New"):null,r=this.props.enableDelete?l["default"].createElement("button",{type:"button",className:"btn btn-warning react-bs-table-del-btn","data-toggle":"tooltip","data-placement":"right",title:"Drop selected row",onClick:this.handleDropRowBtnClick.bind(this)},l["default"].createElement("i",{className:"glyphicon glyphicon-trash"})," Delete"):null,o=this.renderSearchPanel(),n=this.props.enableShowOnlySelected?l["default"].createElement("button",{type:"button",onClick:this.handleShowOnlyToggle.bind(this),className:"btn btn-primary","data-toggle":"button","aria-pressed":"false"},this.state.showSelected?f["default"].SHOW_ALL:f["default"].SHOW_ONLY_SELECT):null,i=this.props.enableInsert?this.renderInsertRowModal(e):null,s=this.props.enableExportCSV?l["default"].createElement("button",{type:"button",className:"btn btn-success",onClick:this.handleExportCSV.bind(this)},l["default"].createElement("i",{className:"glyphicon glyphicon-export"})," Export to CSV"):null;return l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-8"},l["default"].createElement("div",{className:"btn-group btn-group-sm",role:"group"},s,t,r,n)),l["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-4"},o),l["default"].createElement(m["default"],{ref:"notifier"}),i)}},{key:"renderSearchPanel",value:function(){if(this.props.enableSearch){var e="form-group form-group-sm",t=null;return this.props.clearSearch&&(t=l["default"].createElement("span",{className:"input-group-btn"},l["default"].createElement("button",{className:"btn btn-default",type:"button",onClick:this.handleClearBtnClick},"Clear")),e="form-group form-group-sm input-group input-group-sm"),l["default"].createElement("div",{className:e},l["default"].createElement("input",{ref:"seachInput",className:"form-control",type:"text",placeholder:this.props.searchPlaceholder?this.props.searchPlaceholder:"Search",onKeyUp:this.handleKeyUp.bind(this)}),t)}return null}},{key:"renderInsertRowModal",value:function(e){var t=this.state.validateState||{},r=this.props.columns.map(function(e,r){var o=e.editable,n=e.format,i={ref:e.field+r,placeholder:o.placeholder?o.placeholder:e.name};if(e.autoValue)return null;var s=t[e.field]?l["default"].createElement("span",{className:"help-block bg-danger"},t[e.field]):null,a={display:e.hiddenInPopup?"none":"block"};return l["default"].createElement("div",{className:"form-group",key:e.field,style:a},l["default"].createElement("label",null,e.name),(0,y["default"])(o,i,n,""),s)}),o=(0,c["default"])("modal","fade",e,{"in":this.state.shakeEditor||this.state.validateState}),n=(0,c["default"])("modal-dialog","modal-sm",{animated:this.state.shakeEditor,shake:this.state.shakeEditor});return l["default"].createElement("div",{ref:"modal",className:o,tabIndex:"-1",role:"dialog"},l["default"].createElement("div",{className:n},l["default"].createElement("div",{className:"modal-content"},l["default"].createElement("div",{className:"modal-header"},l["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l["default"].createElement("span",{"aria-hidden":"true"},"")),l["default"].createElement("h4",{className:"modal-title"},"New Record")),l["default"].createElement("div",{className:"modal-body"},l["default"].createElement("form",{ref:"form"},r)),l["default"].createElement("div",{className:"modal-footer"},l["default"].createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close"),l["default"].createElement("button",{type:"button",className:"btn btn-info",onClick:this.handleSaveBtnClick.bind(this)},"Save")))))}}]),t}(l["default"].Component));b.propTypes={onAddRow:l["default"].PropTypes.func,onDropRow:l["default"].PropTypes.func,onShowOnlySelected:l["default"].PropTypes.func,enableInsert:l["default"].PropTypes.bool,enableDelete:l["default"].PropTypes.bool,enableSearch:l["default"].PropTypes.bool,enableShowOnlySelected:l["default"].PropTypes.bool,columns:l["default"].PropTypes.array,searchPlaceholder:l["default"].PropTypes.string,clearSearch:l["default"].PropTypes.bool},b.defaultProps={enableInsert:!1,enableDelete:!1,enableSearch:!1,enableShowOnlySelected:!1,clearSearch:!1},t["default"]=b,e.exports=t["default"]},function(e,t,r){t=e.exports=r(36)(),t.push([e.id,'.rc-switch{position:relative;display:inline-block;box-sizing:border-box;width:44px;height:22px;line-height:20px;vertical-align:middle;border-radius:20px 20px;border:1px solid #ccc;background-color:#ccc;cursor:pointer;transition:all .3s cubic-bezier(.35,0,.25,1)}.rc-switch-inner{color:#fff;font-size:12px;position:absolute;left:24px}.rc-switch:after{position:absolute;width:18px;height:18px;left:2px;top:1px;border-radius:50% 50%;background-color:#fff;content:" ";cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.26);-webkit-transform:scale(1);transform:scale(1);transition:left .3s cubic-bezier(.35,0,.25,1);-webkit-animation-timing-function:cubic-bezier(.35,0,.25,1);animation-timing-function:cubic-bezier(.35,0,.25,1);-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-name:rcSwitchOff;animation-name:rcSwitchOff}.rc-switch:hover:after{-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-name:rcSwitchOn;animation-name:rcSwitchOn}.rc-switch-checked{border:1px solid #87d068;background-color:#87d068}.rc-switch-checked .rc-switch-inner{left:6px}.rc-switch-checked:after{left:22px}.rc-switch-disabled{cursor:no-drop;background:#ccc;border-color:#ccc}.rc-switch-disabled:after{background:#9e9e9e;-webkit-animation-name:none;animation-name:none;cursor:no-drop}.rc-switch-disabled:hover:after{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-name:none;animation-name:none}.rc-switch-label{display:inline-block;line-height:20px;font-size:14px;padding-left:10px;vertical-align:middle;white-space:normal;pointer-events:none;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}@-webkit-keyframes rcSwitchOn{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.25);transform:scale(1.25)}to{-webkit-transform:scale(1.1);transform:scale(1.1)}}@keyframes rcSwitchOn{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.25);transform:scale(1.25)}to{-webkit-transform:scale(1.1);transform:scale(1.1)}}@-webkit-keyframes rcSwitchOff{0%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes rcSwitchOff{0%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}',""]);
},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(o[i]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&o[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(e,t,r){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(){}var i=r(1),s=r(3),a=i.createClass({displayName:"Switch",propTypes:{className:i.PropTypes.string,prefixCls:i.PropTypes.string,disabled:i.PropTypes.bool,style:i.PropTypes.object,checkedChildren:i.PropTypes.any,unCheckedChildren:i.PropTypes.any,onChange:i.PropTypes.func},getDefaultProps:function(){return{prefixCls:"rc-switch",style:{},checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1,onChange:n}},getInitialState:function(){var e=this.props,t=!1;return t="checked"in e?!!e.checked:!!e.defaultChecked,{checked:t}},componentWillReceiveProps:function(e){"checked"in e&&this.setState({checked:!!e.checked})},toggle:function(){var e=!this.state.checked;"checked"in this.props||this.setState({checked:e}),this.props.onChange(e)},render:function(){var e,t=this.props,r=t.className,a=t.prefixCls,u=t.disabled,l=t.style,p=t.checkedChildren,c=t.unCheckedChildren,d=this.state.checked,f=s((e={},o(e,r,!!r),o(e,a,!0),o(e,a+"-checked",d),o(e,a+"-disabled",u),e));return i.createElement("span",{className:f,onClick:u?n:this.toggle,style:l},i.createElement("span",{className:a+"-inner"},d?p:c))}});e.exports=a},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){return e&&"object"!=typeof e&&(e={}),e?e:null}function i(e,t,r){e&&(e[t]=r)}function s(e,t){if(e)for(var r=t.length;r>=0;--r){var o=t.slice(0,r);if(e[o]&&(t===o||e[o].complete))return e[o]}}function a(e,t){return e&&"function"==typeof e.then?e.then(function(e){t(null,e)},function(e){t(e)}):void 0}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l=r(1),p=o(l),c=r(10),d=o(c),f=r(11),h=o(f),y=0,v=p["default"].PropTypes.oneOfType([p["default"].PropTypes.string,p["default"].PropTypes.node]),m=p["default"].createClass({displayName:"Async",propTypes:{cache:p["default"].PropTypes.any,ignoreAccents:p["default"].PropTypes.bool,ignoreCase:p["default"].PropTypes.bool,isLoading:p["default"].PropTypes.bool,loadOptions:p["default"].PropTypes.func.isRequired,loadingPlaceholder:p["default"].PropTypes.string,minimumInput:p["default"].PropTypes.number,noResultsText:p["default"].PropTypes.string,placeholder:v,searchPromptText:p["default"].PropTypes.string,searchingText:p["default"].PropTypes.string},getDefaultProps:function(){return{cache:!0,ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",minimumInput:0,searchingText:"Searching...",searchPromptText:"Type to search"}},getInitialState:function(){return{cache:n(this.props.cache),isLoading:!1,options:[]}},componentWillMount:function(){this._lastInput=""},componentDidMount:function(){this.loadOptions("")},componentWillReceiveProps:function(e){e.cache!==this.props.cache&&this.setState({cache:n(e.cache)})},focus:function(){this.refs.select.focus()},resetState:function(){this._currentRequestId=-1,this.setState({isLoading:!1,options:[]})},getResponseHandler:function(e){var t=this,r=this._currentRequestId=y++;return function(o,n){if(o)throw o;t.isMounted()&&(i(t.state.cache,e,n),r===t._currentRequestId&&t.setState({isLoading:!1,options:n&&n.options||[]}))}},loadOptions:function(e){if(this.props.ignoreAccents&&(e=(0,h["default"])(e)),this.props.ignoreCase&&(e=e.toLowerCase()),this._lastInput=e,e.length<this.props.minimumInput)return this.resetState();var t=s(this.state.cache,e);if(t)return this.setState({options:t.options});this.setState({isLoading:!0});var r=this.getResponseHandler(e);return a(this.props.loadOptions(e,r),r)},render:function(){var e=this.props.noResultsText,t=this.state,r=t.isLoading,o=t.options;this.props.isLoading&&(r=!0);var n=r?this.props.loadingPlaceholder:this.props.placeholder;return o.length||(this._lastInput.length<this.props.minimumInput&&(e=this.props.searchPromptText),r&&(e=this.props.searchingText)),p["default"].createElement(d["default"],u({},this.props,{ref:"select",isLoading:r,noResultsText:e,onInputChange:this.loadOptions,options:o,placeholder:n}))}});e.exports=m},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),i=o(n),s=r(3),a=o(s),u=i["default"].createClass({displayName:"Option",propTypes:{children:i["default"].PropTypes.node,className:i["default"].PropTypes.string,isDisabled:i["default"].PropTypes.bool,isFocused:i["default"].PropTypes.bool,isSelected:i["default"].PropTypes.bool,onFocus:i["default"].PropTypes.func,onSelect:i["default"].PropTypes.func,onUnfocus:i["default"].PropTypes.func,option:i["default"].PropTypes.object.isRequired},blockEvent:function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},handleMouseDown:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)},handleMouseEnter:function(e){this.onFocus(e)},handleMouseMove:function(e){this.onFocus(e)},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},onFocus:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)},render:function(){var e=this.props.option,t=(0,a["default"])(this.props.className,e.className);return e.disabled?i["default"].createElement("div",{className:t,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):i["default"].createElement("div",{className:t,style:e.style,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,title:e.title},this.props.children)}});e.exports=u},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),i=o(n),s=r(3),a=o(s),u=i["default"].createClass({displayName:"Value",propTypes:{children:i["default"].PropTypes.node,disabled:i["default"].PropTypes.bool,onClick:i["default"].PropTypes.func,onRemove:i["default"].PropTypes.func,value:i["default"].PropTypes.object.isRequired},handleMouseDown:function(e){return"mousedown"!==e.type||0===e.button?this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation()):void 0},onRemove:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)},handleTouchEndRemove:function(e){this.dragging||this.onRemove(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},renderRemoveIcon:function(){return!this.props.disabled&&this.props.onRemove?i["default"].createElement("span",{className:"Select-value-icon",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},""):void 0},renderLabel:function(){var e="Select-value-label";return this.props.onClick||this.props.value.href?i["default"].createElement("a",{className:e,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):i["default"].createElement("span",{className:e},this.props.children)},render:function(){return i["default"].createElement("div",{className:(0,a["default"])("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}});e.exports=u},function(e,t,r){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(1),i={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},s="undefined"!=typeof window?function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}().bind(window):void 0,a=n.createClass({displayName:"AutosizeInput",propTypes:{value:n.PropTypes.any,defaultValue:n.PropTypes.any,onChange:n.PropTypes.func,style:n.PropTypes.object,className:n.PropTypes.string,minWidth:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),inputStyle:n.PropTypes.object,inputClassName:n.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.queueUpdateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(this.refs.input),t=this.refs.sizer;if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,this.props.placeholder){var r=this.refs.placeholderSizer;r.style.fontSize=e.fontSize,r.style.fontFamily=e.fontFamily,r.style.fontWeight=e.fontWeight,r.style.fontStyle=e.fontStyle,r.style.letterSpacing=e.letterSpacing}}},queueUpdateInputWidth:function(){s(this.updateInputWidth)},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.scrollWidth){var e=void 0;e=this.props.placeholder?Math.max(this.refs.sizer.scrollWidth,this.refs.placeholderSizer.scrollWidth)+2:this.refs.sizer.scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},select:function(){this.refs.input.select()},render:function(){var e=(this.props.defaultValue||this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),t=this.props.style||{};t.display||(t.display="inline-block");var r=o({},this.props.inputStyle);r.width=this.state.inputWidth,r.boxSizing="content-box";var s=this.props.placeholder?n.createElement("div",{ref:"placeholderSizer",style:i},this.props.placeholder):null;return n.createElement("div",{className:this.props.className,style:t},n.createElement("input",o({},this.props,{ref:"input",className:this.props.inputClassName,style:r})),n.createElement("div",{ref:"sizer",style:i,dangerouslySetInnerHTML:{__html:e}}),s)}});e.exports=a},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var p=r(1),c=o(p),d=r(13),f=o(d),h=r(12),y=o(h),v=function(e){function t(){var e,r,o,n;i(this,t);for(var a=arguments.length,u=Array(a),l=0;a>l;l++)u[l]=arguments[l];return r=o=s(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={toasts:[],toastId:0,previousMessage:null},n=r,s(o,n)}return a(t,e),l(t,[{key:"error",value:function(e,t,r){this._notify(this.props.toastType.error,e,t,r)}},{key:"info",value:function(e,t,r){this._notify(this.props.toastType.info,e,t,r)}},{key:"success",value:function(e,t,r){this._notify(this.props.toastType.success,e,t,r)}},{key:"warning",value:function(e,t,r){this._notify(this.props.toastType.warning,e,t,r)}},{key:"clear",value:function(){var e=this;Object.keys(this.refs).forEach(function(t){e.refs[t].hideToast(!1)})}},{key:"_notify",value:function(e,t,r){var o=this,i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];if(!this.props.preventDuplicates||this.state.previousMessage!==t){var s=this.state.toastId++,a=s,u=(0,f["default"])(i,{$merge:{type:e,title:r,message:t,toastId:a,key:s,ref:"toasts__"+s,handleOnClick:function(e){return"function"==typeof i.handleOnClick&&i.handleOnClick(),o._handle_toast_on_click(e)},handleRemove:this._handle_toast_remove.bind(this)}}),l=n({},""+(this.props.newestOnTop?"$unshift":"$push"),[u]),p=(0,f["default"])(this.state,{toasts:l,previousMessage:{$set:t}});this.setState(p)}}},{key:"_handle_toast_on_click",value:function(e){this.props.onClick(e),e.defaultPrevented||(e.preventDefault(),e.stopPropagation())}},{key:"_handle_toast_remove",value:function(e){var t=this,r=""+(this.props.newestOnTop?"reduceRight":"reduce");this.state.toasts[r](function(r,o,n){return r||o.toastId!==e?!1:(t.setState((0,f["default"])(t.state,{toasts:{$splice:[[n,1]]}})),!0)},!1)}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",u({},this.props,{"aria-live":"polite",role:"alert"}),this.state.toasts.map(function(t){return e.props.toastMessageFactory(t)}))}}]),t}(p.Component);v.propTypes={toastType:p.PropTypes.shape({error:p.PropTypes.string,info:p.PropTypes.string,success:p.PropTypes.string,warning:p.PropTypes.string}).isRequired,id:p.PropTypes.string.isRequired,toastMessageFactory:p.PropTypes.func.isRequired,preventDuplicates:p.PropTypes.bool.isRequired,newestOnTop:p.PropTypes.bool.isRequired,onClick:p.PropTypes.func.isRequired},v.defaultProps={toastType:{error:"error",info:"info",success:"success",warning:"warning"},id:"toast-container",toastMessageFactory:c["default"].createFactory(y["default"]),preventDuplicates:!1,newestOnTop:!0,onClick:function(){}},t["default"]=v},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(48),i=o(n),s=r(4),a=o(s),u=r(46),l=o(u),p=17,c=Object.prototype.toString;t["default"]={getDefaultProps:function(){return{transition:null,showAnimation:"animated bounceIn",hideAnimation:"animated bounceOut",timeOut:5e3,extendedTimeOut:1e3}},componentWillMount:function(){this.classNameQueue=[],this.isHiding=!1,this.intervalId=null},componentDidMount:function(){var e=this;this._is_mounted=!0,this._show();var t=a["default"].findDOMNode(this),r=function o(){e.isHiding&&(e._set_is_hiding(!1),i["default"].removeEndEventListener(t,o),e._handle_remove())};i["default"].addEndEventListener(t,r),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},componentWillUnmount:function(){this._is_mounted=!1,this.intervalId&&clearTimeout(this.intervalId)},_set_transition:function(e){var t=e?"leave":"enter",r=a["default"].findDOMNode(this),o=this.props.transition+"-"+t,n=o+"-active",s=function u(e){if(!e||e.target===r){var t=(0,l["default"])(r);t.remove(o),t.remove(n),i["default"].removeEndEventListener(r,u)}};i["default"].addEndEventListener(r,s),(0,l["default"])(r).add(o),this._queue_class(n)},_clear_transition:function(e){var t=a["default"].findDOMNode(this),r=e?"leave":"enter",o=this.props.transition+"-"+r,n=o+"-active",i=(0,l["default"])(t);i.remove(o),i.remove(n)},_set_animation:function(e){var t=a["default"].findDOMNode(this),r=this._get_animation_classes(e),o=function n(e){e&&e.target!==t||(r.forEach(function(e){return(0,l["default"])(t).remove(e)}),i["default"].removeEndEventListener(t,n))};i["default"].addEndEventListener(t,o),r.forEach(function(e){return(0,l["default"])(t).add(e)})},_get_animation_classes:function(e){var t=e?this.props.hideAnimation:this.props.showAnimation;return"[object Array]"===c.call(t)?t:"string"==typeof t?t.split(" "):void 0},_clear_animation:function(e){var t=a["default"].findDOMNode(this),r=this._get_animation_classes(e);r.forEach(function(e){return(0,l["default"])(t).remove(e)})},_queue_class:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this._flush_class_name_queue,p))},_flush_class_name_queue:function(){var e=this;this._is_mounted&&!function(){var t=a["default"].findDOMNode(e);e.classNameQueue.forEach(function(e){return(0,l["default"])(t).add(e)})}(),this.classNameQueue.length=0,this.timeout=null},_show:function(){this.props.transition?this._set_transition():this.props.showAnimation&&this._set_animation()},handleMouseEnter:function(){clearTimeout(this.intervalId),this._set_interval_id(null),this.isHiding&&(this._set_is_hiding(!1),this.props.hideAnimation?this._clear_animation(!0):this.props.transition&&this._clear_transition(!0))},handleMouseLeave:function(){!this.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.isHiding||null===this.intervalId&&!e||(this._set_is_hiding(!0),this.props.transition?this._set_transition(!0):this.props.hideAnimation?this._set_animation(!0):this._handle_remove())},_set_interval_id:function(e){this.intervalId=e},_set_is_hiding:function(e){this.isHiding=e}}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){e[t.showMethod]({duration:t.showDuration,easing:t.showEasing})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=o(i);t["default"]={getDefaultProps:function(){return{style:{display:"none"},showMethod:"fadeIn",showDuration:300,showEasing:"swing",hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",timeOut:5e3,extendedTimeOut:1e3}},getInitialState:function(){return{intervalId:null,isHiding:!1}},componentDidMount:function(){n(this._get_$_node(),this.props),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},handleMouseEnter:function(){clearTimeout(this.state.intervalId),this._set_interval_id(null),this._set_is_hiding(!1),n(this._get_$_node().stop(!0,!0),this.props)},handleMouseLeave:function(){!this.state.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.state.isHiding||null===this.state.intervalId&&!e||(this.setState({isHiding:!0}),this._get_$_node()[this.props.hideMethod]({duration:this.props.hideDuration,easing:this.props.hideEasing,complete:this._handle_remove}))},_get_$_node:function(){return jQuery(s["default"].findDOMNode(this))},_set_interval_id:function(e){this.setState({intervalId:e})},_set_is_hiding:function(e){this.setState({isHiding:e})}}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ToastMessage=t.ToastContainer=void 0;var n=r(42),i=o(n),s=r(12),a=o(s);t.ToastContainer=i["default"],t.ToastMessage=a["default"]},function(e,t){function r(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,o=e.length;o>r;r++)if(e[r]===t)return r;return-1}function o(e){if(!(this instanceof o))return new o(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new o(e)},o.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var o=t.className.split(" ");return r(o,e)>-1?o:(o.push(e),t.className=o.join(" "),o)}},o.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var o=t.className.split(" "),n=r(o,e);return n>-1&&o.splice(n,1),t.className=o.join(" "),o}},o.prototype.has=function(e){var t=this.el;if(t){var o=t.className.split(" ");return r(o,e)>-1}},o.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))}},function(e,t){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(e),o=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i){var s=Object(i);for(var a in s)o.call(s,a)&&(r[a]=s[a])}}return r}e.exports=r},function(e,t,r){"use strict";function o(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var r in a){var o=a[r];for(var n in o)if(n in t){u.push(o[n]);break}}}function n(e,t,r){e.addEventListener(t,r,!1)}function i(e,t,r){e.removeEventListener(t,r,!1)}var s=r(50),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},u=[];s.canUseDOM&&o();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(r){n(e,r,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(r){i(e,r,t)})}};e.exports=l},function(e,t,r){(function(t){"use strict";function o(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function n(e,r,o){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected target of %s to be an array; got %s.",o,e):u(!1);var n=r[o];Array.isArray(n)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",o,n):u(!1)}function i(e,r){if("object"!=typeof r?"production"!==t.env.NODE_ENV?u(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",v.join(", "),f):u(!1):void 0,l.call(r,f))return 1!==Object.keys(r).length?"production"!==t.env.NODE_ENV?u(!1,"Cannot have more than one key in an object with %s",f):u(!1):void 0,r[f];var a=o(e);if(l.call(r,h)){var g=r[h];g&&"object"==typeof g?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): %s expects a spec of type 'object'; got %s",h,g):u(!1),a&&"object"==typeof a?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): %s expects a target of type 'object'; got %s",h,a):u(!1),s(a,r[h])}l.call(r,p)&&(n(e,r,p),r[p].forEach(function(e){a.push(e)})),l.call(r,c)&&(n(e,r,c),r[c].forEach(function(e){a.unshift(e)})),l.call(r,d)&&(Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"Expected %s target to be an array; got %s",d,e):u(!1),Array.isArray(r[d])?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,r[d]):u(!1),r[d].forEach(function(e){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,r[d]):u(!1),a.splice.apply(a,e)})),l.call(r,y)&&("function"!=typeof r[y]?"production"!==t.env.NODE_ENV?u(!1,"update(): expected spec of %s to be a function; got %s.",y,r[y]):u(!1):void 0,a=r[y](a));for(var b in r)m.hasOwnProperty(b)&&m[b]||(a[b]=i(e[b],r[b]));return a}var s=r(47),a=r(52),u=r(51),l={}.hasOwnProperty,p=a({$push:null}),c=a({$unshift:null}),d=a({$splice:null}),f=a({$set:null}),h=a({$merge:null}),y=a({$apply:null}),v=[p,c,d,f,h,y],m={};v.forEach(function(e){m[e]=!0}),e.exports=i}).call(t,r(15))},function(e,t){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,r){(function(t){"use strict";function r(e,r,o,n,i,s,a,u){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,n,i,s,a,u],c=0;l=new Error(r.replace(/%s/g,function(){return p[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=r}).call(t,r(15))},function(e,t){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,r){function o(e,t){for(var r=0;r<e.length;r++){var o=e[r],n=f[o.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](o.parts[i]);for(;i<o.parts.length;i++)n.parts.push(l(o.parts[i],t))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(l(o.parts[i],t));f[o.id]={id:o.id,refs:1,parts:s}}}}function n(e){for(var t=[],r={},o=0;o<e.length;o++){var n=e[o],i=n[0],s=n[1],a=n[2],u=n[3],l={css:s,media:a,sourceMap:u};r[i]?r[i].parts.push(l):t.push(r[i]={id:i,parts:[l]})}return t}function i(e,t){var r=v(),o=b[b.length-1];if("top"===e.insertAt)o?o.nextSibling?r.insertBefore(t,o.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var r,o,n;if(t.singleton){var i=g++;r=m||(m=a(t)),o=p.bind(null,r,i,!1),n=p.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=u(t),o=d.bind(null,r),n=function(){s(r),r.href&&URL.revokeObjectURL(r.href)}):(r=a(t),o=c.bind(null,r),n=function(){s(r)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}function p(e,t,r,o){var n=r?"":o.css;if(e.styleSheet)e.styleSheet.cssText=E(t,n);else{var i=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function c(e,t){var r=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function d(e,t){var r=t.css,o=(t.media,t.sourceMap);o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var n=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(n),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},y=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=y()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=n(e);return o(r,t),function(e){for(var i=[],s=0;s<r.length;s++){var a=r[s],u=f[a.id];u.refs--,i.push(u)}if(e){var l=n(e);o(l,t)}for(var s=0;s<i.length;s++){var u=i[s];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete f[u.id]}}}};var E=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var o=r(35);"string"==typeof o&&(o=[[e.id,o,""]]);r(53)(o,{});o.locals&&(e.exports=o.locals)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9yZWFjdC1ib290c3RyYXAtdGFibGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGRhNTg0MzE2NjM4MWFmM2FlYjhkIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiUmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiYW1kXCI6XCJyZWFjdFwifSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jbGFzc25hbWVzL2luZGV4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdERPTVwiLFwiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIixcImNvbW1vbmpzXCI6XCJyZWFjdC1kb21cIixcImFtZFwiOlwicmVhY3QtZG9tXCJ9Iiwid2VicGFjazovLy8uL3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL3NyYy9FZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvVGFibGVEYXRhU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zd2l0Y2gvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L2xpYi9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL3V0aWxzL3N0cmlwRGlhY3JpdGljcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRvYXN0ci9saWIvVG9hc3RNZXNzYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtdG9hc3RyL34vcmVhY3QtYWRkb25zLXVwZGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9vdHN0cmFwVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU2VsZWN0Um93SGVhZGVyQ29sdW1uLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUJvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlQ29sdW1uLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUVkaXRDb2x1bW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlRmlsdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9UYWJsZUhlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGFibGVIZWFkZXJDb2x1bW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RhYmxlUm93LmpzIiwid2VicGFjazovLy8uL3NyYy9jc3ZfZXhwb3J0X3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGVzYXZlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlsdGVycy9EYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9maWx0ZXJzL051bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlsdGVycy9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbHRlcnMvVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnaW5hdGlvbi9QYWdlQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdpbmF0aW9uL1BhZ2luYXRpb25MaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy90b29sYmFyL1Rvb2xCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zd2l0Y2gvYXNzZXRzL2luZGV4LmNzcyIsIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL34vcmMtc3dpdGNoL2xpYi9Td2l0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL0FzeW5jLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L2xpYi9PcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1zZWxlY3QvbGliL1ZhbHVlLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtc2VsZWN0L34vcmVhY3QtaW5wdXQtYXV0b3NpemUvbGliL0F1dG9zaXplSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0Q29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdE1lc3NhZ2UvYW5pbWF0aW9uTWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0TWVzc2FnZS9qUXVlcnlNaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRvYXN0ci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10b2FzdHIvfi9lbGVtZW50LWNsYXNzL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QvbGliL09iamVjdC5hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC9saWIvUmVhY3RUcmFuc2l0aW9uRXZlbnRzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3QvbGliL3VwZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0L34vZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0L34vZmJqcy9saWIva2V5T2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL34vcmMtc3dpdGNoL2Fzc2V0cy9pbmRleC5jc3M/N2M5NCIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX0Jvb3RzdHJhcFRhYmxlIiwiX0Jvb3RzdHJhcFRhYmxlMiIsIl9UYWJsZUhlYWRlckNvbHVtbiIsIl9UYWJsZUhlYWRlckNvbHVtbjIiLCJfc3RvcmVUYWJsZURhdGFTdG9yZSIsIndpbmRvdyIsIkJvb3RzdHJhcFRhYmxlIiwiVGFibGVIZWFkZXJDb2x1bW4iLCJUYWJsZURhdGFTZXQiLCJTT1JUX0RFU0MiLCJTT1JUX0FTQyIsIlNJWkVfUEVSX1BBR0UiLCJORVhUX1BBR0UiLCJMQVNUX1BBR0UiLCJQUkVfUEFHRSIsIkZJUlNUX1BBR0UiLCJST1dfU0VMRUNUX0JHX0NPTE9SIiwiUk9XX1NFTEVDVF9OT05FIiwiUk9XX1NFTEVDVF9TSU5HTEUiLCJST1dfU0VMRUNUX01VTFRJIiwiQ0VMTF9FRElUX05PTkUiLCJDRUxMX0VESVRfQ0xJQ0siLCJDRUxMX0VESVRfREJDTElDSyIsIlNJWkVfUEVSX1BBR0VfTElTVCIsIlBBR0lOQVRJT05fU0laRSIsIk5PX0RBVEFfVEVYVCIsIlNIT1dfT05MWV9TRUxFQ1QiLCJTSE9XX0FMTCIsIkZJTFRFUl9ERUxBWSIsIkZJTFRFUl9UWVBFIiwiVEVYVCIsIlNFTEVDVCIsIk5VTUJFUiIsIkRBVEUiLCJDVVNUT00iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJjbGFzc05hbWVzIiwiY2xhc3NlcyIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmciLCJhcmdUeXBlIiwicHVzaCIsIkFycmF5IiwiaXNBcnJheSIsImFwcGx5Iiwia2V5IiwiaGFzT3duIiwiam9pbiIsImhhc093blByb3BlcnR5IiwidW5kZWZpbmVkIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9Db25zdCIsIl9Db25zdDIiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsInJlbmRlclNvcnRDYXJldCIsIm9yZGVyIiwid3JhcCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVyIiwic3R5bGUiLCJtYXJnaW4iLCJhcHBlbmRDaGlsZCIsInJlbmRlclJlYWN0U29ydENhcmV0Iiwib3JkZXJDbGFzcyIsImRyb3B1cCIsImdldFNjcm9sbEJhcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJvdXRlciIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInZpc2liaWxpdHkiLCJvdmVyZmxvdyIsImJvZHkiLCJ3MSIsIm9mZnNldFdpZHRoIiwidzIiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJwcm90b3R5cGUiLCJfcmNTd2l0Y2giLCJfcmNTd2l0Y2gyIiwiX3JlYWN0U2VsZWN0IiwiX3JlYWN0U2VsZWN0MiIsIkVkaXRvciIsImVkaXRhYmxlIiwiYXR0ciIsImZvcm1hdCIsImVkaXRvckNsYXNzIiwiZGVmYXVsdFZhbHVlIiwidHlwZSIsImRpc2FibGVkIiwib3B0aW9ucyIsInZhbHVlcyIsInJvd1ZhbHVlIiwibWFwIiwiZCIsImNvbHMiLCJyb3dzIiwia2V5VXBIYW5kbGVyIiwib25LZXlEb3duIiwic2F2ZUJ0biIsImUiLCJrZXlDb2RlIiwib25DbGljayIsIl92YWx1ZXMiLCJyZXBsYWNlIiwiY2hlY2tlZCIsInRvU3RyaW5nIiwic3BsaXQiLCJkZWZhdWx0Q2hlY2tlZCIsIl92YWx1ZXMyIiwibXVsdGlPcHQiLCJtdWx0aSIsInNpbXBsZVZhbHVlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2dldCIsIl94IiwiX3gyIiwiX3gzIiwiX2FnYWluIiwib2JqZWN0IiwicHJvcGVydHkiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldHRlciIsImdldCIsInBhcmVudCIsImdldFByb3RvdHlwZU9mIiwiX3JlYWN0VG9hc3RyIiwiVG9hc3RyTWVzc2FnZUZhY3RvcnkiLCJjcmVhdGVGYWN0b3J5IiwiVG9hc3RNZXNzYWdlIiwiYW5pbWF0aW9uIiwiTm90aWZpY2F0aW9uIiwiX1JlYWN0JENvbXBvbmVudCIsIm1zZyIsInRpdGxlIiwicmVmcyIsInRvYXN0ciIsIm1vZGUiLCJ0aW1lT3V0IiwiZXh0ZW5kZWRUaW1lT3V0Iiwic2hvd0FuaW1hdGlvbiIsImhpZGVBbmltYXRpb24iLCJUb2FzdENvbnRhaW5lciIsInJlZiIsInRvYXN0TWVzc2FnZUZhY3RvcnkiLCJDb21wb25lbnQiLCJfc29ydCIsImFyciIsInNvcnRGaWVsZCIsInNvcnRGdW5jIiwidG9Mb3dlckNhc2UiLCJzb3J0IiwiYSIsImIiLCJFdmVudEVtaXR0ZXIiLCJfRXZlbnRFbWl0dGVyIiwiZGF0YSIsImVtaXQiLCJUYWJsZURhdGFTdG9yZSIsImNvbEluZm9zIiwiZmlsdGVyZWREYXRhIiwiaXNPbkZpbHRlciIsImZpbHRlck9iaiIsInNlYXJjaFRleHQiLCJzb3J0T2JqIiwicGFnZU9iaiIsInNlbGVjdGVkIiwibXVsdGlDb2x1bW5TZWFyY2giLCJzaG93T25seVNlbGVjdGVkIiwicmVtb3RlIiwia2V5RmllbGQiLCJlbmFibGVQYWdpbmF0aW9uIiwiaXNQYWdpbmF0aW9uIiwiZmlsdGVyIiwic2VhcmNoIiwic2VsZWN0ZWRSb3dLZXlzIiwiX3RoaXMiLCJyb3ciLCJyZXN1bHQiLCJmaW5kIiwieCIsImN1cnJlbnREaXNwbGF5RGF0YSIsImdldEN1cnJlbnREaXNwbGF5RGF0YSIsIl9wYWdlIiwic2l6ZVBlclBhZ2UiLCJlbmQiLCJzdGFydCIsIm5ld1ZhbCIsInJvd0luZGV4IiwiZmllbGROYW1lIiwicm93S2V5Q2FjaGUiLCJmb3JFYWNoIiwibmV3T2JqIiwicm93S2V5IiwiaW5kZXhPZiIsIl90aGlzMiIsImtleXMiLCJ2YWxpZCIsImZpbHRlclZhbCIsInRhcmdldFZhbCIsIm51bWJlciIsIl9jb2xJbmZvcyRrZXkiLCJmaWx0ZXJGb3JtYXR0ZWQiLCJmb3JtYXRFeHRyYURhdGEiLCJmaWx0ZXJOdW1iZXIiLCJjb21wYXJhdG9yIiwiZmlsdGVyRGF0ZSIsImZpbHRlckN1c3RvbSIsImZpbHRlclRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImNhbGxiYWNrSW5mbyIsImNhbGxiYWNrIiwiY2FsbGJhY2tQYXJhbWV0ZXJzIiwiX3RoaXMzIiwidHJpbSIsInNlYXJjaFRleHRBcnJheSIsIl9sb29wIiwidGV4dCIsIl9jb2xJbmZvcyRrZXkyIiwiaGlkZGVuIiwiX3JldCIsIl9kYXRhIiwic3RyaW5naWZ5VmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwiX3JlYWN0RG9tIiwiX3JlYWN0RG9tMiIsIl9yZWFjdElucHV0QXV0b3NpemUiLCJfcmVhY3RJbnB1dEF1dG9zaXplMiIsIl91dGlsc1N0cmlwRGlhY3JpdGljcyIsIl91dGlsc1N0cmlwRGlhY3JpdGljczIiLCJfQXN5bmMiLCJfQXN5bmMyIiwiX09wdGlvbiIsIl9PcHRpb24yIiwiX1ZhbHVlIiwiX1ZhbHVlMiIsInN0cmluZ09yTm9kZSIsIlByb3BUeXBlcyIsIm9uZU9mVHlwZSIsInN0cmluZyIsIm5vZGUiLCJTZWxlY3QiLCJjcmVhdGVDbGFzcyIsImRpc3BsYXlOYW1lIiwicHJvcFR5cGVzIiwiYWRkTGFiZWxUZXh0IiwiYWxsb3dDcmVhdGUiLCJib29sIiwiYXV0b0JsdXIiLCJhdXRvZm9jdXMiLCJiYWNrc3BhY2VSZW1vdmVzIiwiY2xlYXJBbGxUZXh0IiwiY2xlYXJWYWx1ZVRleHQiLCJjbGVhcmFibGUiLCJkZWxpbWl0ZXIiLCJlc2NhcGVDbGVhcnNWYWx1ZSIsImZpbHRlck9wdGlvbiIsImZ1bmMiLCJmaWx0ZXJPcHRpb25zIiwiYW55IiwiaWdub3JlQWNjZW50cyIsImlnbm9yZUNhc2UiLCJpbnB1dFByb3BzIiwiaXNMb2FkaW5nIiwibGFiZWxLZXkiLCJtYXRjaFBvcyIsIm1hdGNoUHJvcCIsIm1lbnVCdWZmZXIiLCJtZW51Q29udGFpbmVyU3R5bGUiLCJtZW51U3R5bGUiLCJuYW1lIiwibmV3T3B0aW9uQ3JlYXRvciIsIm5vUmVzdWx0c1RleHQiLCJvbkJsdXIiLCJvbkJsdXJSZXNldHNJbnB1dCIsIm9uQ2hhbmdlIiwib25DbG9zZSIsIm9uRm9jdXMiLCJvbklucHV0Q2hhbmdlIiwib25NZW51U2Nyb2xsVG9Cb3R0b20iLCJvbk9wZW4iLCJvblZhbHVlQ2xpY2siLCJvcHRpb25Db21wb25lbnQiLCJvcHRpb25SZW5kZXJlciIsImFycmF5IiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsInNjcm9sbE1lbnVJbnRvVmlldyIsInNlYXJjaGFibGUiLCJ0YWJJbmRleCIsInZhbHVlQ29tcG9uZW50IiwidmFsdWVLZXkiLCJ2YWx1ZVJlbmRlcmVyIiwid3JhcHBlclN0eWxlIiwic3RhdGljcyIsIkFzeW5jIiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwiaW5wdXRWYWx1ZSIsImlzRm9jdXNlZCIsImlzT3BlbiIsImlzUHNldWRvRm9jdXNlZCIsImhhbmRsZVJlcXVpcmVkIiwiY29tcG9uZW50RGlkTW91bnQiLCJmb2N1cyIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJzdGF0ZSIsImhhbmRsZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJtZW51IiwiZm9jdXNlZCIsImhhc1Njcm9sbGVkVG9PcHRpb24iLCJmb2N1c2VkT3B0aW9uTm9kZSIsImZpbmRET01Ob2RlIiwibWVudU5vZGUiLCJzY3JvbGxUb3AiLCJvZmZzZXRUb3AiLCJfc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUiLCJmb2N1c2VkRE9NIiwibWVudURPTSIsImZvY3VzZWRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWVudVJlY3QiLCJib3R0b20iLCJjbGllbnRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJtZW51Q29udGFpbmVyIiwibWVudUNvbnRhaW5lclJlY3QiLCJpbm5lckhlaWdodCIsInNjcm9sbFRvIiwic2Nyb2xsWSIsInNldFN0YXRlIiwiaW5wdXQiLCJibHVySW5wdXQiLCJibHVyIiwiaGFuZGxlVG91Y2hNb3ZlIiwiZXZlbnQiLCJkcmFnZ2luZyIsImhhbmRsZVRvdWNoU3RhcnQiLCJoYW5kbGVUb3VjaEVuZCIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZSIsImNsZWFyVmFsdWUiLCJidXR0b24iLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIl9vcGVuQWZ0ZXJGb2N1cyIsImhhbmRsZU1vdXNlRG93bk9uQXJyb3ciLCJjbG9zZU1lbnUiLCJoYW5kbGVNb3VzZURvd25Pbk1lbnUiLCJoYW5kbGVJbnB1dEZvY3VzIiwiaGFuZGxlSW5wdXRCbHVyIiwiYWN0aXZlRWxlbWVudCIsImlzRXF1YWxOb2RlIiwib25CbHVycmVkU3RhdGUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImhhbmRsZUtleURvd24iLCJwb3BWYWx1ZSIsInNoaWZ0S2V5Iiwic2VsZWN0Rm9jdXNlZE9wdGlvbiIsImZvY3VzUHJldmlvdXNPcHRpb24iLCJmb2N1c05leHRPcHRpb24iLCJoYW5kbGVWYWx1ZUNsaWNrIiwib3B0aW9uIiwiaGFuZGxlTWVudVNjcm9sbCIsInNjcm9sbEhlaWdodCIsImdldE9wdGlvbkxhYmVsIiwib3AiLCJnZXRWYWx1ZUFycmF5IiwiZXhwYW5kVmFsdWUiLCJleHBhbmRlZFZhbHVlIiwiX3Byb3BzIiwic2V0VmFsdWUiLCJzZWxlY3RWYWx1ZSIsImFkZFZhbHVlIiwidmFsdWVBcnJheSIsImNvbmNhdCIsImNsZWFyYWJsZVZhbHVlIiwic2xpY2UiLCJyZW1vdmVWYWx1ZSIsImZvY3VzT3B0aW9uIiwiZm9jdXNlZE9wdGlvbiIsImZvY3VzQWRqYWNlbnRPcHRpb24iLCJkaXIiLCJfdmlzaWJsZU9wdGlvbnMiLCJfZm9jdXNlZE9wdGlvbiIsImZvY3VzZWRJbmRleCIsInJlbmRlckxvYWRpbmciLCJhcmlhLWhpZGRlbiIsInJlbmRlclZhbHVlIiwicmVuZGVyTGFiZWwiLCJWYWx1ZUNvbXBvbmVudCIsIm9uUmVtb3ZlIiwicmVuZGVySW5wdXQiLCJib3JkZXIiLCJkaXNwbGF5IiwibWluV2lkdGgiLCJyZW5kZXJDbGVhciIsImFyaWEtbGFiZWwiLCJvbk1vdXNlRG93biIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwicmVuZGVyQXJyb3ciLCJleGNsdWRlT3B0aW9ucyIsImZpbHRlclZhbHVlIiwidmFsdWVUZXN0IiwiU3RyaW5nIiwibGFiZWxUZXN0Iiwic3Vic3RyIiwicmVuZGVyTWVudSIsIl90aGlzNCIsIk9wdGlvbiIsInYiLCJpc1NlbGVjdGVkIiwib3B0aW9uUmVmIiwib3B0aW9uQ2xhc3MiLCJTZWxlY3Qtb3B0aW9uIiwiaXMtc2VsZWN0ZWQiLCJpcy1mb2N1c2VkIiwiaXMtZGlzYWJsZWQiLCJpc0Rpc2FibGVkIiwib25TZWxlY3QiLCJyZW5kZXJIaWRkZW5GaWVsZCIsIl90aGlzNSIsImdldEZvY3VzYWJsZU9wdGlvbiIsInNlbGVjdGVkT3B0aW9uIiwicmVuZGVyIiwiU2VsZWN0LS1tdWx0aSIsImlzLWxvYWRpbmciLCJpcy1vcGVuIiwiaXMtcHNldWRvLWZvY3VzZWQiLCJpcy1zZWFyY2hhYmxlIiwiaGFzLXZhbHVlIiwib25TY3JvbGwiLCJiYXNlIiwibGV0dGVycyIsInN0ciIsIm5vb3AiLCJqUXVlcnkiLCJfcmVhY3RBZGRvbnNVcGRhdGUiLCJfcmVhY3RBZGRvbnNVcGRhdGUyIiwiX2FuaW1hdGlvbk1peGluIiwiX2FuaW1hdGlvbk1peGluMiIsIl9qUXVlcnlNaXhpbiIsIl9qUXVlcnlNaXhpbjIiLCJUb2FzdE1lc3NhZ2VTcGVjIiwiaWNvbkNsYXNzTmFtZXMiLCJpbmZvIiwic3VjY2VzcyIsIndhcm5pbmciLCJ0aXRsZUNsYXNzTmFtZSIsIm1lc3NhZ2VDbGFzc05hbWUiLCJ0YXBUb0Rpc21pc3MiLCJjbG9zZUJ1dHRvbiIsImhhbmRsZU9uQ2xpY2siLCJoaWRlVG9hc3QiLCJfaGFuZGxlX2Nsb3NlX2J1dHRvbl9jbGljayIsIl9oYW5kbGVfcmVtb3ZlIiwiaGFuZGxlUmVtb3ZlIiwidG9hc3RJZCIsIl9yZW5kZXJfY2xvc2VfYnV0dG9uIiwicm9sZSIsIl9yZW5kZXJfdGl0bGVfZWxlbWVudCIsIl9yZW5kZXJfbWVzc2FnZV9lbGVtZW50IiwibWVzc2FnZSIsImljb25DbGFzc05hbWUiLCJvbk1vdXNlRW50ZXIiLCJoYW5kbGVNb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiaGFuZGxlTW91c2VMZWF2ZSIsIiRzZXQiLCJtaXhpbnMiLCJfZXZlbnRzIiwiX21heExpc3RlbmVycyIsImlzRnVuY3Rpb24iLCJpc051bWJlciIsImlzT2JqZWN0IiwiaXNVbmRlZmluZWQiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwic2V0TWF4TGlzdGVuZXJzIiwibiIsImlzTmFOIiwiZXIiLCJsZW4iLCJhcmdzIiwibGlzdGVuZXJzIiwiRXJyb3IiLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwibmV3TGlzdGVuZXIiLCJ3YXJuZWQiLCJ0cmFjZSIsIm9uIiwib25jZSIsImciLCJyZW1vdmVMaXN0ZW5lciIsImZpcmVkIiwibGlzdCIsInNwbGljZSIsInJlbW92ZUFsbExpc3RlbmVycyIsInJldCIsImxpc3RlbmVyQ291bnQiLCJldmxpc3RlbmVyIiwiZW1pdHRlciIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicnVuIiwiY2xlYXJUaW1lb3V0IiwiSXRlbSIsImZ1biIsInByb2Nlc3MiLCJuZXh0VGljayIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib2ZmIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJfVGFibGVIZWFkZXIiLCJfVGFibGVIZWFkZXIyIiwiX1RhYmxlQm9keSIsIl9UYWJsZUJvZHkyIiwiX3BhZ2luYXRpb25QYWdpbmF0aW9uTGlzdCIsIl9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QyIiwiX3Rvb2xiYXJUb29sQmFyIiwiX3Rvb2xiYXJUb29sQmFyMiIsIl9UYWJsZUZpbHRlciIsIl9UYWJsZUZpbHRlcjIiLCJfY3N2X2V4cG9ydF91dGlsIiwiX2Nzdl9leHBvcnRfdXRpbDIiLCJfRmlsdGVyIiwiX3Njcm9sbEhlYWRlciIsImhlYWRlciIsImNvbnRhaW5lciIsInNjcm9sbExlZnQiLCJjdXJyZW50VGFyZ2V0IiwiX2FkanVzdEhlYWRlcldpZHRoIiwidGFibGVIZWFkZXJEb20iLCJjaGlsZE5vZGVzIiwidGFibGVCb2R5RG9tIiwiaGVhZGVyUHJvcHMiLCJnZXRCb2R5SGVhZGVyRG9tUHJvcCIsImZpdEhlYWRlciIsIl9hdHRhY2hDZWxsRWRpdEZ1bmMiLCJjb3B5Iiwic3RvcmUiLCJnZXREYXRhIiwiY2xlYXIiLCJzZXREYXRhIiwiZ2V0VGFibGVEYXRhIiwiaW5pdFRhYmxlIiwic2VsZiIsImN1cnJlbnRGaWx0ZXIiLCJoYW5kbGVGaWx0ZXJEYXRhIiwic2VsZWN0Um93Iiwic2V0U2VsZWN0ZWRSb3dLZXkiLCJjdXJyUGFnZSIsInBhZ2UiLCJnZXRTZWxlY3RlZFJvd0tleXMiLCJpc0tleUZpZWxkRGVmaW5lZCIsIkNoaWxkcmVuIiwiY2hpbGRyZW4iLCJjb2x1bW4iLCJpc0tleSIsImRhdGFGaWVsZCIsIkZpbHRlciIsImdldENvbHVtbnNEZXNjcmlwdGlvbiIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwic2V0UHJvcHMiLCJwYWdpbmF0aW9uIiwiaXNSZW1vdGVEYXRhU291cmNlIiwic29ydE5hbWUiLCJzb3J0T3JkZXIiLCJpc0NoYW5nZWRQYWdlIiwiX3JlZiIsImFsaWduIiwiZGF0YUFsaWduIiwiZGF0YVNvcnQiLCJkYXRhRm9ybWF0IiwiY29sdW1uQ2xhc3NOYW1lIiwiaW5kZXgiLCJwYWdpbmF0aW9uRG9tIiwiZ2V0Q3VycmVudFBhZ2UiLCJnZXRTaXplUGVyUGFnZSIsIk1hdGgiLCJjZWlsIiwic29ydEluZm8iLCJnZXRTb3J0SW5mbyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWZ0ZXJUYWJsZUNvbXBsZXRlIiwiY2VsbEVkaXQiLCJfX29uQ29tcGxldGVFZGl0X18iLCJoYW5kbGVFZGl0Q2VsbCIsImJpbmQiLCJjbGlja1RvU2VsZWN0IiwiY2hpbGRyZW5zIiwibWF4SGVpZ2h0IiwiY29sdW1ucyIsInJlbmRlclBhZ2luYXRpb24iLCJ0b29sQmFyIiwicmVuZGVyVG9vbEJhciIsInRhYmxlRmlsdGVyIiwicmVuZGVyVGFibGVGaWx0ZXIiLCJpc1NlbGVjdEFsbCIsInJvd1NlbGVjdFR5cGUiLCJoaWRlU2VsZWN0Q29sdW1uIiwib25Tb3J0IiwiaGFuZGxlU29ydCIsIm9uU2VsZWN0QWxsUm93IiwiaGFuZGxlU2VsZWN0QWxsUm93IiwiYm9yZGVyZWQiLCJjb25kZW5zZWQiLCJpc0ZpbHRlcmVkIiwidGFibGVJRCIsInRyQ2xhc3NOYW1lIiwic3RyaXBlZCIsImhvdmVyIiwiZ2V0S2V5RmllbGQiLCJvblJvd0NsaWNrIiwiaGFuZGxlUm93Q2xpY2siLCJvblJvd01vdXNlT3ZlciIsImhhbmRsZVJvd01vdXNlT3ZlciIsIm9uUm93TW91c2VPdXQiLCJoYW5kbGVSb3dNb3VzZU91dCIsIm9uU2VsZWN0Um93IiwiaGFuZGxlU2VsZWN0Um93Iiwibm9EYXRhVGV4dCIsImRlZmF1bHRTZWxlY3RSb3dLZXlzIiwiYWxsUm93S2V5cyIsImdldEFsbFJvd2tleSIsIm9uU29ydENoYW5nZSIsIm9uUGFnZUNoYW5nZSIsIm9uU2VsZWN0QWxsIiwiaWdub3JlTm9uU2VsZWN0ZWQiLCJjdXJyU2VsZWN0ZWQiLCJjb2xJbmRleCIsImVkaXQiLCJhZnRlclNhdmVDZWxsIiwiYmVmb3JlUHJvbWlzZSIsImJlZm9yZUluc2VydFJvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImFkZCIsImN1cnJMYXN0UGFnZSIsImdldERhdGFOdW0iLCJhZnRlckluc2VydFJvdyIsInJvd0tleXMiLCJ0aGF0IiwiZHJvcFJvd0tleXMiLCJoYW5kbGVDb25maXJtRGVsZXRlUm93IiwiZGVsZXRlUm93IiwiY29uZmlybSIsInJlbW92ZSIsImFmdGVyRGVsZXRlUm93IiwiYWZ0ZXJDb2x1bW5GaWx0ZXIiLCJnZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uIiwiY3N2RmlsZU5hbWUiLCJhZnRlclNlYXJjaCIsImRhdGFTaXplIiwiZmV0Y2hJbmZvIiwiZGF0YVRvdGFsU2l6ZSIsImNoYW5nZVBhZ2UiLCJoYW5kbGVQYWdpbmF0aW9uRGF0YSIsInNpemVQZXJQYWdlTGlzdCIsInBhZ2luYXRpb25TaXplIiwib25TaXplUGVyUGFnZUxpc3QiLCJwcmVQYWdlIiwibmV4dFBhZ2UiLCJmaXJzdFBhZ2UiLCJsYXN0UGFnZSIsImVuYWJsZVNob3dPbmx5U2VsZWN0ZWQiLCJpbnNlcnRSb3ciLCJleHBvcnRDU1YiLCJmaWVsZCIsImF1dG9WYWx1ZSIsImhpZGRlbkluUG9wdXAiLCJjbGVhclNlYXJjaCIsImVuYWJsZUluc2VydCIsImVuYWJsZURlbGV0ZSIsImVuYWJsZVNlYXJjaCIsImVuYWJsZUV4cG9ydENTViIsInNlYXJjaFBsYWNlaG9sZGVyIiwib25BZGRSb3ciLCJoYW5kbGVBZGRSb3ciLCJvbkFkZFJvd0JlZ2luIiwiaGFuZGxlQWRkUm93QmVnaW4iLCJvbkRyb3BSb3ciLCJoYW5kbGVEcm9wUm93Iiwib25TZWFyY2giLCJoYW5kbGVTZWFyY2giLCJvbkV4cG9ydENTViIsImhhbmRsZUV4cG9ydENTViIsIm9uU2hvd09ubHlTZWxlY3RlZCIsImhhbmRsZVNob3dPbmx5U2VsZWN0ZWQiLCJjb2x1bW5GaWx0ZXIiLCJvbkZpbHRlciIsInNoYXBlIiwib25lT2YiLCJiZ0NvbG9yIiwiY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsIiwiYmx1clRvU2F2ZSIsImRlZmF1bHRQcm9wcyIsImZpbHRlclR5cGUiLCJoYXNWYWx1ZSIsInByb3AiLCJTZWxlY3RSb3dIZWFkZXJDb2x1bW4iLCJ0aFN0eWxlIiwicGFyc2VJbnQiLCJfdXRpbCIsIl91dGlsMiIsIl9UYWJsZVJvdyIsIl9UYWJsZVJvdzIiLCJfVGFibGVDb2x1bW4iLCJfVGFibGVDb2x1bW4yIiwiX1RhYmxlRWRpdENvbHVtbiIsIl9UYWJsZUVkaXRDb2x1bW4yIiwiaXNGdW4iLCJUYWJsZUJvZHkiLCJjdXJyRWRpdENlbGwiLCJlZGl0aW5nIiwiYWRqdXN0Qm9keSIsImNvbnRhaW5lckNsYXNzZXMiLCJ0YWJsZUNsYXNzZXMiLCJ0YWJsZS1zdHJpcGVkIiwidGFibGUtYm9yZGVyZWQiLCJ0YWJsZS1ob3ZlciIsInRhYmxlLWNvbmRlbnNlZCIsImlzU2VsZWN0Um93RGVmaW5lZCIsIl9pc1NlbGVjdFJvd0RlZmluZWQiLCJ0YWJsZUhlYWRlciIsInJlbmRlclRhYmxlSGVhZGVyIiwidGFibGVSb3dzIiwiciIsInRhYmxlQ29sdW1ucyIsImZpZWxkVmFsdWUiLCJyaWQiLCJjaWQiLCJjb21wbGV0ZUVkaXQiLCJoYW5kbGVDb21wbGV0ZUVkaXRDZWxsIiwidGRDbGFzc05hbWUiLCJmb3JtYXR0ZWRWYWx1ZSIsImlzVmFsaWRFbGVtZW50Iiwib25FZGl0Iiwic2VsZWN0Um93Q29sdW1uIiwicmVuZGVyU2VsZWN0Um93Q29sdW1uIiwiZW5hYmxlQ2VsbEVkaXQiLCJjb2xTcGFuIiwiY2FsY3VsYXRlQ29udGFpbmVySGVpZ2h0Iiwic2VsZWN0Um93SGVhZGVyIiwidGhlYWRlciIsIm1heFdpZHRoIiwic29ydENhZXJ0IiwidGFyZ2V0Um93Iiwic2VsZWN0ZWRSb3ciLCJwYXJlbnRFbGVtZW50IiwiY29sdW1uSW5kZXgiLCJzdGF0ZU9iaiIsImhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlIiwiaGVhZGVycyIsImhlYWRlckRvbVByb3BzIiwiaGFyZEZpeEhlYWRlcldpZHRoIiwibWFyZ2luVG9wIiwiVGFibGVDb2x1bW4iLCJzaG91bGRVcGRhdGVkIiwic2VsZWN0aW9uIiwiZW1wdHkiLCJnZXRTZWxlY3Rpb24iLCJzZWwiLCJyZW1vdmVBbGxSYW5nZXMiLCJjZWxsSW5kZXgiLCJ0ZFN0eWxlIiwidGV4dEFsaWduIiwiY2xhc3NuYW1lIiwib3B0cyIsImhhbmRsZUNlbGxFZGl0Iiwib25Eb3VibGVDbGljayIsIl9FZGl0b3IiLCJfRWRpdG9yMiIsIl9Ob3RpZmljYXRpb25KcyIsIl9Ob3RpZmljYXRpb25KczIiLCJUYWJsZUVkaXRDb2x1bW4iLCJ0aW1lb3V0ZUNsZWFyIiwic2hha2VFZGl0b3IiLCJfZ2V0Q2hlY2tCb3hWYWx1ZSIsInZhbGlkYXRvciIsInRzIiwibm90aWZpZXIiLCJub3RpY2UiLCJpbnB1dFJlZiIsIl9jbGVhclRpbWVvdXQiLCJoYW5kbGVLZXlQcmVzcyIsImhhbmRsZUJsdXIiLCJhbmltYXRlZCIsInNoYWtlIiwiVGFibGVGaWx0ZXIiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsImZpbHRlckZpZWxkIiwic2l6ZSIsIm9uS2V5VXAiLCJoYW5kbGVLZXlVcCIsImJvcmRlckJvdHRvbVN0eWxlIiwiX1NlbGVjdFJvd0hlYWRlckNvbHVtbiIsIl9TZWxlY3RSb3dIZWFkZXJDb2x1bW4yIiwiQ2hlY2tib3giLCJ1cGRhdGUiLCJpbmRldGVybWluYXRlIiwiVGFibGVIZWFkZXIiLCJfUmVhY3QkQ29tcG9uZW50MiIsInNlbGVjdFJvd0NvbHVtbldpZHRoIiwic2VsZWN0Um93SGVhZGVyQ29sIiwicmVuZGVyU2VsZWN0Um93SGVhZGVyIiwiX2F0dGFjaENsZWFyU29ydENhcmV0RnVuYyIsImNsb25lRWxlbWVudCIsImlzVmVydGljYWxTY3JvbGxCYXIiLCJzdGFydFBvc2l0aW9uIiwiZm9yY2VVcGRhdGUiLCJtYXJnaW5SaWdodCIsIl9maWx0ZXJzRGF0ZSIsIl9maWx0ZXJzRGF0ZTIiLCJfZmlsdGVyc1RleHQiLCJfZmlsdGVyc1RleHQyIiwiX2ZpbHRlcnNTZWxlY3QiLCJfZmlsdGVyc1NlbGVjdDIiLCJfZmlsdGVyc051bWJlciIsIl9maWx0ZXJzTnVtYmVyMiIsImhhbmRsZUZpbHRlciIsImNvbHVtbk5hbWUiLCJmaWx0ZXJIYW5kbGVyIiwiZ2V0RWxlbWVudCIsImN1c3RvbUZpbHRlclBhcmFtZXRlcnMiLCJpbm5lckRpdiIsInNldEF0dHJpYnV0ZSIsImRlZmF1bHRDYXJldCIsImNvbG9yIiwic29ydENhcmV0IiwiaGFuZGxlQ29sdW1uQ2xpY2siLCJnZXRGaWx0ZXJzIiwiZmlsdGVyVHlwZUFycmF5IiwiZGVsYXkiLCJhcnJheU9mIiwibnVtYmVyQ29tcGFyYXRvcnMiLCJUYWJsZVJvdyIsImNsaWNrTnVtIiwidGFnTmFtZSIsInRyQ3NzIiwiYmFja2dyb3VuZENvbG9yIiwib25Nb3VzZU92ZXIiLCJyb3dNb3VzZU92ZXIiLCJvbk1vdXNlT3V0Iiwicm93TW91c2VPdXQiLCJyb3dDbGljayIsImRhdGFTdHJpbmciLCJjb2wiLCJjZWxsIiwiZmlsZXNhdmVyIiwic2F2ZUFzIiwiZmlsZW5hbWUiLCJCbG9iIiwidmlldyIsIm5hdmlnYXRvciIsInRlc3QiLCJ1c2VyQWdlbnQiLCJkb2MiLCJnZXRfVVJMIiwiVVJMIiwid2Via2l0VVJMIiwic2F2ZV9saW5rIiwiY3JlYXRlRWxlbWVudE5TIiwiY2FuX3VzZV9zYXZlX2xpbmsiLCJjbGljayIsIk1vdXNlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiaXNfc2FmYXJpIiwid2Via2l0X3JlcV9mcyIsIndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtIiwicmVxX2ZzIiwicmVxdWVzdEZpbGVTeXN0ZW0iLCJtb3pSZXF1ZXN0RmlsZVN5c3RlbSIsInRocm93X291dHNpZGUiLCJleCIsInNldEltbWVkaWF0ZSIsImZvcmNlX3NhdmVhYmxlX3R5cGUiLCJmc19taW5fc2l6ZSIsImFyYml0cmFyeV9yZXZva2VfdGltZW91dCIsInJldm9rZSIsImZpbGUiLCJyZXZva2VyIiwicmV2b2tlT2JqZWN0VVJMIiwiY2hyb21lIiwiZGlzcGF0Y2giLCJldmVudF90eXBlcyIsImF1dG9fYm9tIiwiYmxvYiIsIkZpbGVTYXZlciIsIm5vX2F1dG9fYm9tIiwib2JqZWN0X3VybCIsInRhcmdldF92aWV3IiwiYmxvYl9jaGFuZ2VkIiwiZGlzcGF0Y2hfYWxsIiwiZnNfZXJyb3IiLCJGaWxlUmVhZGVyIiwicmVhZGVyIiwib25sb2FkZW5kIiwiYmFzZTY0RGF0YSIsImxvY2F0aW9uIiwiaHJlZiIsInJlYWR5U3RhdGUiLCJET05FIiwicmVhZEFzRGF0YVVSTCIsIklOSVQiLCJjcmVhdGVPYmplY3RVUkwiLCJuZXdfdGFiIiwib3BlbiIsImFib3J0YWJsZSIsImNyZWF0ZV9pZl9ub3RfZm91bmQiLCJleGNsdXNpdmUiLCJkb3dubG9hZCIsIndlYmtpdFNsaWNlIiwiVEVNUE9SQVJZIiwiZnMiLCJnZXREaXJlY3RvcnkiLCJzYXZlIiwiZ2V0RmlsZSIsImNyZWF0ZVdyaXRlciIsIndyaXRlciIsIm9ud3JpdGVlbmQiLCJ0b1VSTCIsIm9uZXJyb3IiLCJjb2RlIiwiQUJPUlRfRVJSIiwid3JpdGUiLCJhYm9ydCIsIldSSVRJTkciLCJOT1RfRk9VTkRfRVJSIiwiRlNfcHJvdG8iLCJtc1NhdmVPck9wZW5CbG9iIiwib253cml0ZXN0YXJ0Iiwib25wcm9ncmVzcyIsIm9ud3JpdGUiLCJvbmFib3J0IiwiY29udGVudCIsIkRhdGVGaWx0ZXIiLCJkZWZhdWx0RGF0ZSIsIkRhdGUiLCJkYXRlVmFsdWUiLCJpbnB1dERhdGUiLCJzZXREZWZhdWx0RGF0ZSIsImlzUmVxdWlyZWQiLCJsZWdhbENvbXBhcmF0b3JzIiwiTnVtYmVyRmlsdGVyIiwiaXNQbGFjZWhvbGRlclNlbGVjdGVkIiwib25DaGFuZ2VOdW1iZXIiLCJvbkNoYW5nZU51bWJlclNldCIsIm9uQ2hhbmdlQ29tcGFyYXRvciIsIm51bWJlckZpbHRlckNvbXBhcmF0b3IiLCJudW1iZXJGaWx0ZXIiLCJvcHRpb25UYWdzIiwic2VsZWN0Q2xhc3MiLCJwbGFjZWhvbGRlci1zZWxlY3RlZCIsImdldENvbXBhcmF0b3JPcHRpb25zIiwiZ2V0TnVtYmVyT3B0aW9ucyIsInByb3BOYW1lIiwiY29tcGFyYXRvcklzVmFsaWQiLCJqIiwiU2VsZWN0RmlsdGVyIiwic2VsZWN0SW5wdXQiLCJnZXRPcHRpb25zIiwiVGV4dEZpbHRlciIsImlucHV0VGV4dCIsIlBhZ2VCdXR0b24iLCJhY3RpdmUiLCJkaXNhYmxlIiwicGFnZUJ0bkNsaWNrIiwiX1BhZ2VCdXR0b25KcyIsIl9QYWdlQnV0dG9uSnMyIiwiUGFnaW5hdGlvbkxpc3QiLCJ0b3RhbFBhZ2VzIiwic2VsZWN0U2l6ZSIsInBhZ2VCdG5zIiwibWFrZVBhZ2UiLCJwYWdlTGlzdFN0eWxlIiwiZmxvYXQiLCJjaGFuZ2VTaXplUGVyUGFnZSIsImRhdGEtdG9nZ2xlIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtbGFiZWxsZWRieSIsInBhZ2VzIiwiZ2V0UGFnZXMiLCJpc0FjdGl2ZSIsInN0YXJ0UGFnZSIsImVuZFBhZ2UiLCJtYXgiLCJmbG9vciIsIlRvb2xCYXIiLCJoYW5kbGVTaG93T25seVRvZ2dsZSIsInNob3dTZWxlY3RlZCIsImhhbmRsZUNsZWFyQnRuQ2xpY2siLCJzZWFjaElucHV0IiwiaXNJbnNlcnRSb3dUcmlnZ2VyIiwidmFsaWRhdGVTdGF0ZSIsInRlbXBWYWx1ZSIsInRlbXBNc2ciLCJpc1ZhbGlkIiwiZ2V0VGltZSIsImRvbSIsImNoZWNrQW5kUGFyc2VGb3JtIiwicXVlcnlTZWxlY3RvciIsImZvcm0iLCJyZXNldCIsIm1vZGFsQ2xhc3NOYW1lIiwiaW5zZXJ0QnRuIiwiZGF0YS10YXJnZXQiLCJkZWxldGVCdG4iLCJkYXRhLXBsYWNlbWVudCIsImhhbmRsZURyb3BSb3dCdG5DbGljayIsInNlYXJjaFRleHRJbnB1dCIsInJlbmRlclNlYXJjaFBhbmVsIiwic2hvd1NlbGVjdGVkT25seUJ0biIsImFyaWEtcHJlc3NlZCIsIm1vZGFsIiwicmVuZGVySW5zZXJ0Um93TW9kYWwiLCJjbGVhckJ0biIsImlucHV0RmllbGQiLCJtb2RhbENsYXNzIiwiaW4iLCJkaWFsb2dDbGFzcyIsImRhdGEtZGlzbWlzcyIsImhhbmRsZVNhdmVCdG5DbGljayIsIml0ZW0iLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIl9kZWZpbmVQcm9wZXJ0eSIsIlJlYWN0IiwiU3dpdGNoIiwicHJlZml4Q2xzIiwiY2hlY2tlZENoaWxkcmVuIiwidW5DaGVja2VkQ2hpbGRyZW4iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwidG9nZ2xlIiwiX2NsYXNzTmFtZXMiLCJzd2l0Y2hDbGFzc05hbWUiLCJpbml0Q2FjaGUiLCJjYWNoZSIsInVwZGF0ZUNhY2hlIiwiZ2V0RnJvbUNhY2hlIiwiY2FjaGVLZXkiLCJjb21wbGV0ZSIsInRoZW5Qcm9taXNlIiwicHJvbWlzZSIsImVyciIsIl9TZWxlY3QiLCJfU2VsZWN0MiIsInJlcXVlc3RJZCIsImxvYWRPcHRpb25zIiwibG9hZGluZ1BsYWNlaG9sZGVyIiwibWluaW11bUlucHV0Iiwic2VhcmNoUHJvbXB0VGV4dCIsInNlYXJjaGluZ1RleHQiLCJjb21wb25lbnRXaWxsTW91bnQiLCJfbGFzdElucHV0Iiwic2VsZWN0IiwicmVzZXRTdGF0ZSIsIl9jdXJyZW50UmVxdWVzdElkIiwiZ2V0UmVzcG9uc2VIYW5kbGVyIiwiX3JlcXVlc3RJZCIsImlzTW91bnRlZCIsImNhY2hlUmVzdWx0IiwicmVzcG9uc2VIYW5kbGVyIiwiX3N0YXRlIiwib25VbmZvY3VzIiwiYmxvY2tFdmVudCIsImhhbmRsZU1vdXNlTW92ZSIsIm9uTW91c2VNb3ZlIiwiVmFsdWUiLCJoYW5kbGVUb3VjaEVuZFJlbW92ZSIsInJlbmRlclJlbW92ZUljb24iLCJzaXplclN0eWxlIiwid2hpdGVTcGFjZSIsIm5leHRGcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkF1dG9zaXplSW5wdXQiLCJpbnB1dFN0eWxlIiwiaW5wdXRDbGFzc05hbWUiLCJpbnB1dFdpZHRoIiwiY29weUlucHV0U3R5bGVzIiwidXBkYXRlSW5wdXRXaWR0aCIsInF1ZXVlVXBkYXRlSW5wdXRXaWR0aCIsImdldENvbXB1dGVkU3R5bGUiLCJ3aWR0aE5vZGUiLCJzaXplciIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJmb250U3R5bGUiLCJsZXR0ZXJTcGFjaW5nIiwicGxhY2Vob2xkZXJOb2RlIiwicGxhY2Vob2xkZXJTaXplciIsInNjcm9sbFdpZHRoIiwibmV3SW5wdXRXaWR0aCIsImdldElucHV0IiwiZXNjYXBlZFZhbHVlIiwiYm94U2l6aW5nIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9Ub2FzdE1lc3NhZ2UiLCJfVG9hc3RNZXNzYWdlMiIsIl9Db21wb25lbnQiLCJfT2JqZWN0JGdldFByb3RvdHlwZU8iLCJfdGVtcCIsIl9sZW4iLCJfa2V5IiwidG9hc3RzIiwicHJldmlvdXNNZXNzYWdlIiwib3B0aW9uc092ZXJyaWRlIiwiX25vdGlmeSIsInRvYXN0VHlwZSIsInByZXZlbnREdXBsaWNhdGVzIiwibmV3VG9hc3QiLCIkbWVyZ2UiLCJfaGFuZGxlX3RvYXN0X29uX2NsaWNrIiwiX2hhbmRsZV90b2FzdF9yZW1vdmUiLCJ0b2FzdE9wZXJhdGlvbiIsIm5ld2VzdE9uVG9wIiwiZGVmYXVsdFByZXZlbnRlZCIsIm9wZXJhdGlvbk5hbWUiLCJmb3VuZCIsInRvYXN0IiwiJHNwbGljZSIsImFyaWEtbGl2ZSIsIl9SZWFjdFRyYW5zaXRpb25FdmVudHMiLCJfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMiIsIl9lbGVtZW50Q2xhc3MiLCJfZWxlbWVudENsYXNzMiIsIlRJQ0siLCJ0cmFuc2l0aW9uIiwiY2xhc3NOYW1lUXVldWUiLCJpc0hpZGluZyIsImludGVydmFsSWQiLCJfaXNfbW91bnRlZCIsIl9zaG93Iiwib25IaWRlQ29tcGxldGUiLCJfc2V0X2lzX2hpZGluZyIsInJlbW92ZUVuZEV2ZW50TGlzdGVuZXIiLCJhZGRFbmRFdmVudExpc3RlbmVyIiwiX3NldF9pbnRlcnZhbF9pZCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiX3NldF90cmFuc2l0aW9uIiwiaGlkZSIsImFuaW1hdGlvblR5cGUiLCJhY3RpdmVDbGFzc05hbWUiLCJlbmRMaXN0ZW5lciIsImNsYXNzTGlzdCIsIl9xdWV1ZV9jbGFzcyIsIl9jbGVhcl90cmFuc2l0aW9uIiwiX3NldF9hbmltYXRpb24iLCJhbmltYXRpb25zIiwiX2dldF9hbmltYXRpb25fY2xhc3NlcyIsImFuaW0iLCJfY2xlYXJfYW5pbWF0aW9uIiwiX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUiLCJvdmVycmlkZSIsImNhbGxfc2hvd19tZXRob2QiLCIkbm9kZSIsInNob3dNZXRob2QiLCJkdXJhdGlvbiIsInNob3dEdXJhdGlvbiIsImVhc2luZyIsInNob3dFYXNpbmciLCJoaWRlTWV0aG9kIiwiaGlkZUR1cmF0aW9uIiwiaGlkZUVhc2luZyIsIl9nZXRfJF9ub2RlIiwic3RvcCIsIl9Ub2FzdENvbnRhaW5lciIsIl9Ub2FzdENvbnRhaW5lcjIiLCJFbGVtZW50Q2xhc3MiLCJub2RlVHlwZSIsImVsIiwiaWR4IiwiaGFzIiwic291cmNlcyIsInRvIiwibmV4dEluZGV4IiwibmV4dFNvdXJjZSIsImZyb20iLCJkZXRlY3RFdmVudHMiLCJ0ZXN0RWwiLCJFVkVOVF9OQU1FX01BUCIsImFuaW1hdGlvbmVuZCIsInRyYW5zaXRpb25lbmQiLCJiYXNlRXZlbnROYW1lIiwiYmFzZUV2ZW50cyIsInN0eWxlTmFtZSIsImVuZEV2ZW50cyIsImV2ZW50TmFtZSIsImV2ZW50TGlzdGVuZXIiLCJFeGVjdXRpb25FbnZpcm9ubWVudCIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJtc1RyYW5zaXRpb24iLCJXZWJraXRBbmltYXRpb24iLCJNb3pBbmltYXRpb24iLCJPQW5pbWF0aW9uIiwibXNBbmltYXRpb24iLCJjYW5Vc2VET00iLCJSZWFjdFRyYW5zaXRpb25FdmVudHMiLCJlbmRFdmVudCIsInNoYWxsb3dDb3B5IiwiaW52YXJpYW50QXJyYXlDYXNlIiwic3BlYyIsImNvbW1hbmQiLCJOT0RFX0VOViIsImludmFyaWFudCIsInNwZWNWYWx1ZSIsIkFMTF9DT01NQU5EU19MSVNUIiwiQ09NTUFORF9TRVQiLCJuZXh0VmFsdWUiLCJDT01NQU5EX01FUkdFIiwibWVyZ2VPYmoiLCJDT01NQU5EX1BVU0giLCJDT01NQU5EX1VOU0hJRlQiLCJ1bnNoaWZ0IiwiQ09NTUFORF9TUExJQ0UiLCJDT01NQU5EX0FQUExZIiwiayIsIkFMTF9DT01NQU5EU19TRVQiLCJrZXlPZiIsIiRwdXNoIiwiJHVuc2hpZnQiLCIkYXBwbHkiLCJjYW5Vc2VXb3JrZXJzIiwiV29ya2VyIiwiY2FuVXNlRXZlbnRMaXN0ZW5lcnMiLCJhdHRhY2hFdmVudCIsImNhblVzZVZpZXdwb3J0Iiwic2NyZWVuIiwiaXNJbldvcmtlciIsImNvbmRpdGlvbiIsImYiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwib25lS2V5T2JqIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJ0b2EiLCJ1cGRhdGVMaW5rIiwiYXBwbHlUb1RhZyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwicmVwbGFjZVRleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9sZFNyYyIsIm1lbW9pemUiLCJmbiIsIm1lbW8iLCJpc09sZElFIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJCb29sZWFuIiwibG9jYWxzIiwiX193ZWJwYWNrX2FtZF9vcHRpb25zX18i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My9CLEVBQUEsR0FDQSxpQkFBQTIvQixTQUFBbmdDLEVBQUFXLEdBQUF3L0IsRUFBQSxLQUVBMy9CLEdBQUEsSUFBQTIvQixLQUNBQSxHQUFBdVcsU0FBQTEyQyxFQUFBRCxRQUFBb2dDLEVBQUF1VyxTeERpbVFNLFNBQVMxMkMsRUFBUUQsR3lEeG1RdkJDLEVBQUFELFFBQUEsV0FBNkIsU0FBQStpQixPQUFBLG9DekQrbVF2QixTQUFTOWlCLEVBQVFELEkwRC9tUXZCLFNBQUE0MkMsR0FBQTMyQyxFQUFBRCxRQUFBNDJDLEkxRG1uUThCOTFDLEtBQUtkIiwiZmlsZSI6InJlYWN0LWJvb3RzdHJhcC10YWJsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCIsIFwicmVhY3QtZG9tXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlYWN0Qm9vdHN0cmFwVGFibGVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiUmVhY3RCb290c3RyYXBUYWJsZVwiXSA9IGZhY3Rvcnkocm9vdFtcIlJlYWN0XCJdLCByb290W1wiUmVhY3RET01cIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIiwgXCJyZWFjdC1kb21cIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiUmVhY3RCb290c3RyYXBUYWJsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJSZWFjdEJvb3RzdHJhcFRhYmxlXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RcIl0sIHJvb3RbXCJSZWFjdERPTVwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfQm9vdHN0cmFwVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdHZhciBfQm9vdHN0cmFwVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm9vdHN0cmFwVGFibGUpO1xuXHRcblx0dmFyIF9UYWJsZUhlYWRlckNvbHVtbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIF9UYWJsZUhlYWRlckNvbHVtbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUhlYWRlckNvbHVtbik7XG5cdFxuXHR2YXIgX3N0b3JlVGFibGVEYXRhU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgd2luZG93LkJvb3RzdHJhcFRhYmxlID0gX0Jvb3RzdHJhcFRhYmxlMlsnZGVmYXVsdCddO1xuXHQgIHdpbmRvdy5UYWJsZUhlYWRlckNvbHVtbiA9IF9UYWJsZUhlYWRlckNvbHVtbjJbJ2RlZmF1bHQnXTtcblx0ICB3aW5kb3cuVGFibGVEYXRhU2V0ID0gX3N0b3JlVGFibGVEYXRhU3RvcmUuVGFibGVEYXRhU2V0O1xuXHR9XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcblx0ICBCb290c3RyYXBUYWJsZTogX0Jvb3RzdHJhcFRhYmxlMlsnZGVmYXVsdCddLFxuXHQgIFRhYmxlSGVhZGVyQ29sdW1uOiBfVGFibGVIZWFkZXJDb2x1bW4yWydkZWZhdWx0J10sXG5cdCAgVGFibGVEYXRhU2V0OiBfc3RvcmVUYWJsZURhdGFTdG9yZS5UYWJsZURhdGFTZXRcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdCAgU09SVF9ERVNDOiBcImRlc2NcIixcblx0ICBTT1JUX0FTQzogXCJhc2NcIixcblx0ICBTSVpFX1BFUl9QQUdFOiAxMCxcblx0ICBORVhUX1BBR0U6IFwiPlwiLFxuXHQgIExBU1RfUEFHRTogXCI+PlwiLFxuXHQgIFBSRV9QQUdFOiBcIjxcIixcblx0ICBGSVJTVF9QQUdFOiBcIjw8XCIsXG5cdCAgUk9XX1NFTEVDVF9CR19DT0xPUjogXCJcIixcblx0ICBST1dfU0VMRUNUX05PTkU6IFwibm9uZVwiLFxuXHQgIFJPV19TRUxFQ1RfU0lOR0xFOiBcInJhZGlvXCIsXG5cdCAgUk9XX1NFTEVDVF9NVUxUSTogXCJjaGVja2JveFwiLFxuXHQgIENFTExfRURJVF9OT05FOiBcIm5vbmVcIixcblx0ICBDRUxMX0VESVRfQ0xJQ0s6IFwiY2xpY2tcIixcblx0ICBDRUxMX0VESVRfREJDTElDSzogXCJkYmNsaWNrXCIsXG5cdCAgU0laRV9QRVJfUEFHRV9MSVNUOiBbMTAsIDI1LCAzMCwgNTBdLFxuXHQgIFBBR0lOQVRJT05fU0laRTogNSxcblx0ICBOT19EQVRBX1RFWFQ6IFwiVGhlcmUgaXMgbm8gZGF0YSB0byBkaXNwbGF5XCIsXG5cdCAgU0hPV19PTkxZX1NFTEVDVDogXCJTaG93IFNlbGVjdGVkIE9ubHlcIixcblx0ICBTSE9XX0FMTDogXCJTaG93IEFsbFwiLFxuXHQgIEZJTFRFUl9ERUxBWTogNTAwLFxuXHQgIEZJTFRFUl9UWVBFOiB7XG5cdCAgICBURVhUOiBcIlRleHRGaWx0ZXJcIixcblx0ICAgIFNFTEVDVDogXCJTZWxlY3RGaWx0ZXJcIixcblx0ICAgIE5VTUJFUjogXCJOdW1iZXJGaWx0ZXJcIixcblx0ICAgIERBVEU6IFwiRGF0ZUZpbHRlclwiLFxuXHQgICAgQ1VTVE9NOiBcIkN1c3RvbUZpbHRlclwiXG5cdCAgfVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIVxuXHQgIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuXHQgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG5cdCAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuXHQqL1xuXHQvKiBnbG9iYWwgZGVmaW5lICovXG5cdFxuXHQoZnVuY3Rpb24gKCkge1xuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRcblx0XHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHRcdHZhciBjbGFzc2VzID0gW107XG5cdFxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXHRcblx0XHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXHRcblx0XHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0XHR9XG5cdFxuXHRcdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHRcdH0uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHRcdH1cblx0fSgpKTtcblxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcblx0XG5cdCAgcmVuZGVyU29ydENhcmV0OiBmdW5jdGlvbiByZW5kZXJTb3J0Q2FyZXQob3JkZXIpIHtcblx0ICAgIHZhciB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cdCAgICB3cmFwLmNsYXNzTmFtZSA9IFwib3JkZXJcIjtcblx0ICAgIGlmIChvcmRlciA9PSBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9BU0MpIHdyYXAuY2xhc3NOYW1lICs9IFwiIGRyb3B1cFwiO1xuXHQgICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cdCAgICBpbm5lci5jbGFzc05hbWUgPSBcImNhcmV0XCI7XG5cdCAgICBpbm5lci5zdHlsZS5tYXJnaW4gPSBcIjEwcHggNXB4XCI7XG5cdCAgICB3cmFwLmFwcGVuZENoaWxkKGlubmVyKTtcblx0ICAgIHJldHVybiB3cmFwO1xuXHQgIH0sXG5cdFxuXHQgIHJlbmRlclJlYWN0U29ydENhcmV0OiBmdW5jdGlvbiByZW5kZXJSZWFjdFNvcnRDYXJldChvcmRlcikge1xuXHQgICAgdmFyIG9yZGVyQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwib3JkZXJcIiwge1xuXHQgICAgICAnZHJvcHVwJzogb3JkZXIgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlNPUlRfQVNDXG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3NwYW4nLFxuXHQgICAgICB7IGNsYXNzTmFtZTogb3JkZXJDbGFzcyB9LFxuXHQgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnY2FyZXQnLCBzdHlsZTogeyBtYXJnaW46ICcxMHB4IDVweCcgfSB9KVxuXHQgICAgKTtcblx0ICB9LFxuXHRcblx0ICBnZXRTY3JvbGxCYXJXaWR0aDogZnVuY3Rpb24gZ2V0U2Nyb2xsQmFyV2lkdGgoKSB7XG5cdCAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cdCAgICBpbm5lci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuXHQgICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gXCIyMDBweFwiO1xuXHRcblx0ICAgIHZhciBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgb3V0ZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5cdCAgICBvdXRlci5zdHlsZS50b3AgPSBcIjBweFwiO1xuXHQgICAgb3V0ZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG5cdCAgICBvdXRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblx0ICAgIG91dGVyLnN0eWxlLndpZHRoID0gXCIyMDBweFwiO1xuXHQgICAgb3V0ZXIuc3R5bGUuaGVpZ2h0ID0gXCIxNTBweFwiO1xuXHQgICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHQgICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXHRcblx0ICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXHQgICAgdmFyIHcxID0gaW5uZXIub2Zmc2V0V2lkdGg7XG5cdCAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuXHQgICAgdmFyIHcyID0gaW5uZXIub2Zmc2V0V2lkdGg7XG5cdCAgICBpZiAodzEgPT0gdzIpIHcyID0gb3V0ZXIuY2xpZW50V2lkdGg7XG5cdFxuXHQgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG5cdFxuXHQgICAgcmV0dXJuIHcxIC0gdzI7XG5cdCAgfVxuXHRcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yY1N3aXRjaCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JjU3dpdGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjU3dpdGNoKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXHRcblx0dmFyIF9yZWFjdFNlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9yZWFjdFNlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdFNlbGVjdCk7XG5cdFxuXHR2YXIgRWRpdG9yID0gZnVuY3Rpb24gRWRpdG9yKGVkaXRhYmxlLCBhdHRyLCBmb3JtYXQsIGVkaXRvckNsYXNzLCBkZWZhdWx0VmFsdWUpIHtcblx0XG5cdCAgICBpZiAoZWRpdGFibGUgPT09IHRydWUgfHwgdHlwZW9mIGVkaXRhYmxlID09PSBcInN0cmluZ1wiKSB7XG5cdCAgICAgICAgLy9zaW1wbGUgZGVjbGFyZVxuXHQgICAgICAgIHZhciB0eXBlID0gZWRpdGFibGUgPT09IHRydWUgPyAndGV4dCcgOiBlZGl0YWJsZTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIGF0dHIsIHsgdHlwZTogdHlwZSwgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKGVkaXRvckNsYXNzIHx8IFwiXCIpICsgXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIiB9KSk7XG5cdCAgICB9IGVsc2UgaWYgKCFlZGl0YWJsZSkge1xuXHQgICAgICAgIHZhciB0eXBlID0gZWRpdGFibGUgPT09IHRydWUgPyAndGV4dCcgOiBlZGl0YWJsZTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIGF0dHIsIHsgdHlwZTogdHlwZSwgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsIGRpc2FibGVkOiAnZGlzYWJsZWQnLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6IChlZGl0b3JDbGFzcyB8fCBcIlwiKSArIFwiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC10ZXh0XCIgfSkpO1xuXHQgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlKSB7XG5cdCAgICAgICAgLy9zdGFuZGFyZCBkZWNsYXJlXG5cdCAgICAgICAgLy9wdXQgc3R5bGUgaWYgZXhpc3Rcblx0ICAgICAgICBlZGl0YWJsZS5zdHlsZSAmJiAoYXR0ci5zdHlsZSA9IGVkaXRhYmxlLnN0eWxlKTtcblx0XG5cdCAgICAgICAgLy9wdXQgY2xhc3MgaWYgZXhpc3Rcblx0ICAgICAgICBhdHRyLmNsYXNzTmFtZSA9IChlZGl0b3JDbGFzcyB8fCBcIlwiKSArIFwiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC1cIiArIGVkaXRhYmxlLnR5cGUgKyAoZWRpdGFibGUuY2xhc3NOYW1lID8gXCIgXCIgKyBlZGl0YWJsZS5jbGFzc05hbWUgOiBcIlwiKTtcblx0XG5cdCAgICAgICAgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdzZWxlY3QnKSB7XG5cdCAgICAgICAgICAgIC8vcHJvY2VzcyBzZWxlY3QgaW5wdXRcblx0ICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBbXSxcblx0ICAgICAgICAgICAgICAgIHZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzO1xuXHQgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG5cdCAgICAgICAgICAgICAgICAvL29ubHkgY2FuIHVzZSBhcnJyYXkgZGF0YSBmb3Igb3B0aW9uc1xuXHQgICAgICAgICAgICAgICAgdmFyIHJvd1ZhbHVlO1xuXHQgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByb3dWYWx1ZSA9IGZvcm1hdCA/IGZvcm1hdChkKSA6IGQ7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnb3B0aW9uJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdvcHRpb24nICsgaSwgdmFsdWU6IGQgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcm93VmFsdWVcblx0ICAgICAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7fSwgYXR0ciwgeyBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSB9KSxcblx0ICAgICAgICAgICAgICAgIG9wdGlvbnNcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICd0ZXh0YXJlYScpIHtcblx0ICAgICAgICAgICAgLy9wcm9jZXNzIHRleHRhcmVhIGlucHV0XG5cdCAgICAgICAgICAgIC8vcHV0ICBvdGhlciBpZiBleGlzdFxuXHQgICAgICAgICAgICBlZGl0YWJsZS5jb2xzICYmIChhdHRyLmNvbHMgPSBlZGl0YWJsZS5jb2xzKTtcblx0ICAgICAgICAgICAgZWRpdGFibGUucm93cyAmJiAoYXR0ci5yb3dzID0gZWRpdGFibGUucm93cyk7XG5cdCAgICAgICAgICAgIHZhciBrZXlVcEhhbmRsZXIgPSBhdHRyLm9uS2V5RG93bixcblx0ICAgICAgICAgICAgICAgIHNhdmVCdG4gPSBudWxsO1xuXHQgICAgICAgICAgICBpZiAoa2V5VXBIYW5kbGVyKSB7XG5cdCAgICAgICAgICAgICAgICBhdHRyLm9uS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSAhPSAxMykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL25vdCBQcmVzc2VkIEVOVEVSXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGtleVVwSGFuZGxlcihlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgc2F2ZUJ0biA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdidXR0bycsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidG4gYnRuLWluZm8gYnRuLXhzIHRleHRhcmVhLXNhdmUtYnRuJywgb25DbGljazoga2V5VXBIYW5kbGVyIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NhdmUnXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnLCBfZXh0ZW5kcyh7fSwgYXR0ciwgeyBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSB9KSksXG5cdCAgICAgICAgICAgICAgICBzYXZlQnRuXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlID09PSAnY2hlY2tib3gnKSB7XG5cdCAgICAgICAgICAgIHZhciBfdmFsdWVzID0gJ3RydWU6ZmFsc2UnO1xuXHQgICAgICAgICAgICBpZiAoZWRpdGFibGUub3B0aW9ucyAmJiBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcykge1xuXHQgICAgICAgICAgICAgICAgLy8gdmFsdWVzID0gZWRpdGFibGUub3B0aW9ucy52YWx1ZXMuc3BsaXQoJzonKTtcblx0ICAgICAgICAgICAgICAgIF92YWx1ZXMgPSBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSA9IGF0dHIuY2xhc3NOYW1lLnJlcGxhY2UoJ2Zvcm0tY29udHJvbCcsICcnKTtcblx0ICAgICAgICAgICAgYXR0ci5jbGFzc05hbWUgKz0gJyBjaGVja2JveCBwdWxsLXJpZ2h0Jztcblx0XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkID0gZGVmYXVsdFZhbHVlICYmIGRlZmF1bHRWYWx1ZS50b1N0cmluZygpID09IF92YWx1ZXMuc3BsaXQoJzonKVswXSA/IHRydWUgOiBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgYXR0ciwgeyB0eXBlOiAnY2hlY2tib3gnLCB2YWx1ZTogX3ZhbHVlcywgZGVmYXVsdENoZWNrZWQ6IGNoZWNrZWQgfSkpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3N3aXRjaCcpIHtcblx0ICAgICAgICAgICAgdmFyIF92YWx1ZXMyID0gJ3RydWU6ZmFsc2UnO1xuXHQgICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSA9IGF0dHIuY2xhc3NOYW1lLnJlcGxhY2UoJ2Zvcm0tY29udHJvbCcsICcnKTtcblx0ICAgICAgICAgICAgYXR0ci5jbGFzc05hbWUgKz0gJyBjaGVja2JveCBwdWxsLXJpZ2h0Jztcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkgPT0gX3ZhbHVlczIuc3BsaXQoJzonKVswXSA/IHRydWUgOiBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9yY1N3aXRjaDJbJ2RlZmF1bHQnXSwgeyBjbGFzc05hbWU6IGF0dHIuY2xhc3NOYW1lLCBkZWZhdWx0Q2hlY2tlZDogY2hlY2tlZCB9KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdyZWFjdC1zZWxlY3QnKSB7XG5cdCAgICAgICAgICAgIHZhciBtdWx0aU9wdCA9IHR5cGVvZiBlZGl0YWJsZS5vcHRpb25zLm11bHRpICE9PSAndW5kZWZpbmVkJyA/IGVkaXRhYmxlLm9wdGlvbnMubXVsdGkgOiBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9yZWFjdFNlbGVjdDJbJ2RlZmF1bHQnXSwgeyBjbGFzc05hbWU6ICdwdWxsLXJpZ2h0Jywgb3B0aW9uczogZWRpdGFibGUub3B0aW9ucy52YWx1ZXMsIG11bHRpOiBtdWx0aU9wdCwgc2ltcGxlVmFsdWU6IHRydWUgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy9wcm9jZXNzIG90aGVyIGlucHV0IHR5cGUuIGFzIHBhc3N3b3JkLHVybCxlbWFpbC4uLlxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIGF0dHIsIHsgdHlwZTogdHlwZSwgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUgfSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIC8vZGVmYXVsdCByZXR1cm4gZm9yIG90aGVyIGNhc2Ugb2YgZWRpdGFibGVcblx0ICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgYXR0ciwgeyB0eXBlOiAndGV4dCcsIGNsYXNzTmFtZTogKGVkaXRvckNsYXNzIHx8IFwiXCIpICsgXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIiB9KSk7XG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBFZGl0b3I7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIF9yZWFjdFRvYXN0ciA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXHRcblx0dmFyIFRvYXN0ck1lc3NhZ2VGYWN0b3J5ID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUZhY3RvcnkoX3JlYWN0VG9hc3RyLlRvYXN0TWVzc2FnZS5hbmltYXRpb24pO1xuXHRcblx0dmFyIE5vdGlmaWNhdGlvbiA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhOb3RpZmljYXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBOb3RpZmljYXRpb24oKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90aWZpY2F0aW9uKTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RpZmljYXRpb24ucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhOb3RpZmljYXRpb24sIFt7XG5cdCAgICBrZXk6ICdub3RpY2UnLFxuXHRcblx0ICAgIC8vIGFsbG93IHR5cGUgaXMgc3VjY2VzcyxpbmZvLHdhcm5pbmcsZXJyb3Jcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBub3RpY2UodHlwZSwgbXNnLCB0aXRsZSkge1xuXHQgICAgICB0aGlzLnJlZnMudG9hc3RyW3R5cGVdKG1zZywgdGl0bGUsIHtcblx0ICAgICAgICBtb2RlOiAnc2luZ2xlJyxcblx0ICAgICAgICB0aW1lT3V0OiA1MDAwLFxuXHQgICAgICAgIGV4dGVuZGVkVGltZU91dDogMTAwMCxcblx0ICAgICAgICBzaG93QW5pbWF0aW9uOiBcImFuaW1hdGVkICBib3VuY2VJblwiLFxuXHQgICAgICAgIGhpZGVBbmltYXRpb246IFwiYW5pbWF0ZWQgYm91bmNlT3V0XCJcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfcmVhY3RUb2FzdHIuVG9hc3RDb250YWluZXIsIHsgcmVmOiAndG9hc3RyJywgdG9hc3RNZXNzYWdlRmFjdG9yeTogVG9hc3RyTWVzc2FnZUZhY3RvcnksXG5cdCAgICAgICAgaWQ6ICd0b2FzdC1jb250YWluZXInLCBjbGFzc05hbWU6ICd0b2FzdC10b3AtcmlnaHQnIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIE5vdGlmaWNhdGlvbjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBOb3RpZmljYXRpb247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgRXZlbnRFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkuRXZlbnRFbWl0dGVyO1xuXHRcblx0ZnVuY3Rpb24gX3NvcnQoYXJyLCBzb3J0RmllbGQsIG9yZGVyLCBzb3J0RnVuYykge1xuXHQgIG9yZGVyID0gb3JkZXIudG9Mb3dlckNhc2UoKTtcblx0ICBhcnIuc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgaWYgKHNvcnRGdW5jKSB7XG5cdCAgICAgIHJldHVybiBzb3J0RnVuYyhhLCBiLCBvcmRlcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAob3JkZXIgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlNPUlRfREVTQykge1xuXHQgICAgICAgIHJldHVybiBhW3NvcnRGaWVsZF0gPiBiW3NvcnRGaWVsZF0gPyAtMSA6IGFbc29ydEZpZWxkXSA8IGJbc29ydEZpZWxkXSA/IDEgOiAwO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBhW3NvcnRGaWVsZF0gPCBiW3NvcnRGaWVsZF0gPyAtMSA6IGFbc29ydEZpZWxkXSA+IGJbc29ydEZpZWxkXSA/IDEgOiAwO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBhcnI7XG5cdH1cblx0XG5cdHZhciBUYWJsZURhdGFTZXQgPSAoZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVEYXRhU2V0LCBfRXZlbnRFbWl0dGVyKTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVEYXRhU2V0KGRhdGEpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZURhdGFTZXQpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYmxlRGF0YVNldC5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIGRhdGEpO1xuXHQgICAgdGhpcy5kYXRhID0gZGF0YTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZURhdGFTZXQsIFt7XG5cdCAgICBrZXk6ICdzZXREYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHtcblx0ICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGF0YScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZURhdGFTZXQ7XG5cdH0pKEV2ZW50RW1pdHRlcik7XG5cdFxuXHRleHBvcnRzLlRhYmxlRGF0YVNldCA9IFRhYmxlRGF0YVNldDtcblx0XG5cdHZhciBUYWJsZURhdGFTdG9yZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gVGFibGVEYXRhU3RvcmUoZGF0YSkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlRGF0YVN0b3JlKTtcblx0XG5cdCAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXHQgICAgdGhpcy5jb2xJbmZvcyA9IG51bGw7XG5cdCAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XG5cdCAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcblx0ICAgIHRoaXMuZmlsdGVyT2JqID0gbnVsbDtcblx0ICAgIHRoaXMuc2VhcmNoVGV4dCA9IG51bGw7XG5cdCAgICB0aGlzLnNvcnRPYmogPSBudWxsO1xuXHQgICAgdGhpcy5wYWdlT2JqID0ge307XG5cdCAgICB0aGlzLnNlbGVjdGVkID0gW107XG5cdCAgICB0aGlzLm11bHRpQ29sdW1uU2VhcmNoID0gZmFsc2U7XG5cdCAgICB0aGlzLnNob3dPbmx5U2VsZWN0ZWQgPSBmYWxzZTtcblx0ICAgIHRoaXMucmVtb3RlID0gZmFsc2U7IC8vIHJlbW90ZSBkYXRhXG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVEYXRhU3RvcmUsIFt7XG5cdCAgICBrZXk6ICdzZXRQcm9wcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHJvcHMocHJvcHMpIHtcblx0ICAgICAgdGhpcy5rZXlGaWVsZCA9IHByb3BzLmtleUZpZWxkO1xuXHQgICAgICB0aGlzLmVuYWJsZVBhZ2luYXRpb24gPSBwcm9wcy5pc1BhZ2luYXRpb247XG5cdCAgICAgIHRoaXMuY29sSW5mb3MgPSBwcm9wcy5jb2xJbmZvcztcblx0ICAgICAgdGhpcy5yZW1vdGUgPSBwcm9wcy5yZW1vdGU7XG5cdCAgICAgIHRoaXMubXVsdGlDb2x1bW5TZWFyY2ggPSBwcm9wcy5tdWx0aUNvbHVtblNlYXJjaDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXREYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHtcblx0ICAgICAgdGhpcy5kYXRhID0gZGF0YTtcblx0ICAgICAgaWYgKHRoaXMuaXNPbkZpbHRlcikge1xuXHQgICAgICAgIGlmIChudWxsICE9PSB0aGlzLmZpbHRlck9iaikgdGhpcy5maWx0ZXIodGhpcy5maWx0ZXJPYmopO1xuXHQgICAgICAgIGlmIChudWxsICE9PSB0aGlzLnNlYXJjaFRleHQpIHRoaXMuc2VhcmNoKHRoaXMuc2VhcmNoVGV4dCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMuc29ydE9iaikge1xuXHQgICAgICAgIHRoaXMuc29ydCh0aGlzLnNvcnRPYmoub3JkZXIsIHRoaXMuc29ydE9iai5zb3J0RmllbGQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0U29ydEluZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNvcnRJbmZvKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5zb3J0T2JqO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFNlbGVjdGVkUm93S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RlZFJvd0tleShzZWxlY3RlZFJvd0tleXMpIHtcblx0ICAgICAgdGhpcy5zZWxlY3RlZCA9IHNlbGVjdGVkUm93S2V5cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRTZWxlY3RlZFJvd0tleXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkUm93S2V5cygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3BsYXlEYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50RGlzcGxheURhdGEoKSB7XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHJldHVybiB0aGlzLmZpbHRlcmVkRGF0YTtlbHNlIHJldHVybiB0aGlzLmRhdGE7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaWdub3JlTm9uU2VsZWN0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlnbm9yZU5vblNlbGVjdGVkKCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgdGhpcy5zaG93T25seVNlbGVjdGVkID0gIXRoaXMuc2hvd09ubHlTZWxlY3RlZDtcblx0ICAgICAgaWYgKHRoaXMuc2hvd09ubHlTZWxlY3RlZCkge1xuXHQgICAgICAgIHRoaXMuaXNPbkZpbHRlciA9IHRydWU7XG5cdCAgICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICAgIHZhciByZXN1bHQgPSBfdGhpcy5zZWxlY3RlZC5maW5kKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiByb3dbX3RoaXMua2V5RmllbGRdID09PSB4O1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogZmFsc2U7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzb3J0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzb3J0KG9yZGVyLCBzb3J0RmllbGQpIHtcblx0ICAgICAgdGhpcy5zb3J0T2JqID0ge1xuXHQgICAgICAgIG9yZGVyOiBvcmRlcixcblx0ICAgICAgICBzb3J0RmllbGQ6IHNvcnRGaWVsZFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XG5cdCAgICAgIGlmICghdGhpcy5jb2xJbmZvc1tzb3J0RmllbGRdKSByZXR1cm4gdGhpcztcblx0XG5cdCAgICAgIHZhciBzb3J0RnVuYyA9IHRoaXMuY29sSW5mb3Nbc29ydEZpZWxkXS5zb3J0RnVuYztcblx0XG5cdCAgICAgIGN1cnJlbnREaXNwbGF5RGF0YSA9IF9zb3J0KGN1cnJlbnREaXNwbGF5RGF0YSwgc29ydEZpZWxkLCBvcmRlciwgc29ydEZ1bmMpO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFnZShfcGFnZSwgc2l6ZVBlclBhZ2UpIHtcblx0ICAgICAgdGhpcy5wYWdlT2JqLmVuZCA9IF9wYWdlICogc2l6ZVBlclBhZ2UgLSAxO1xuXHQgICAgICB0aGlzLnBhZ2VPYmouc3RhcnQgPSB0aGlzLnBhZ2VPYmouZW5kIC0gKHNpemVQZXJQYWdlIC0gMSk7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2VkaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXQobmV3VmFsLCByb3dJbmRleCwgZmllbGROYW1lKSB7XG5cdCAgICAgIHZhciBjdXJyZW50RGlzcGxheURhdGEgPSB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO1xuXHQgICAgICB2YXIgcm93S2V5Q2FjaGUgPSB1bmRlZmluZWQ7XG5cdCAgICAgIGlmICghdGhpcy5lbmFibGVQYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgY3VycmVudERpc3BsYXlEYXRhW3Jvd0luZGV4XVtmaWVsZE5hbWVdID0gbmV3VmFsO1xuXHQgICAgICAgIHJvd0tleUNhY2hlID0gY3VycmVudERpc3BsYXlEYXRhW3Jvd0luZGV4XVt0aGlzLmtleUZpZWxkXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBjdXJyZW50RGlzcGxheURhdGFbdGhpcy5wYWdlT2JqLnN0YXJ0ICsgcm93SW5kZXhdW2ZpZWxkTmFtZV0gPSBuZXdWYWw7XG5cdCAgICAgICAgcm93S2V5Q2FjaGUgPSBjdXJyZW50RGlzcGxheURhdGFbdGhpcy5wYWdlT2JqLnN0YXJ0ICsgcm93SW5kZXhdW3RoaXMua2V5RmllbGRdO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcblx0ICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgICBpZiAocm93W3RoaXMua2V5RmllbGRdID09PSByb3dLZXlDYWNoZSkge1xuXHQgICAgICAgICAgICByb3dbZmllbGROYW1lXSA9IG5ld1ZhbDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9LCB0aGlzKTtcblx0ICAgICAgICBpZiAobnVsbCAhPT0gdGhpcy5maWx0ZXJPYmopIHRoaXMuZmlsdGVyKHRoaXMuZmlsdGVyT2JqKTtcblx0ICAgICAgICBpZiAobnVsbCAhPT0gdGhpcy5zZWFyY2hUZXh0KSB0aGlzLnNlYXJjaCh0aGlzLnNlYXJjaFRleHQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FkZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKG5ld09iaikge1xuXHQgICAgICBpZiAoIW5ld09ialt0aGlzLmtleUZpZWxkXSB8fCBuZXdPYmpbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSA9PT0gJycpIHtcblx0ICAgICAgICB0aHJvdyB0aGlzLmtleUZpZWxkICsgXCIgY2FuJ3QgYmUgZW1wdHkgdmFsdWUuXCI7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGN1cnJlbnREaXNwbGF5RGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XG5cdCAgICAgIGN1cnJlbnREaXNwbGF5RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICBpZiAocm93W3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkgPT09IG5ld09ialt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpKSB7XG5cdCAgICAgICAgICB0aHJvdyB0aGlzLmtleUZpZWxkICsgXCIgXCIgKyBuZXdPYmpbdGhpcy5rZXlGaWVsZF0gKyBcIiBhbHJlYWR5IGV4aXN0c1wiO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgICBjdXJyZW50RGlzcGxheURhdGEucHVzaChuZXdPYmopO1xuXHQgICAgICBpZiAodGhpcy5pc09uRmlsdGVyKSB7XG5cdCAgICAgICAgdGhpcy5kYXRhLnB1c2gobmV3T2JqKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKHJvd0tleSkge1xuXHQgICAgICB2YXIgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcblx0ICAgICAgdmFyIHJlc3VsdCA9IGN1cnJlbnREaXNwbGF5RGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIHJldHVybiByb3dLZXkuaW5kZXhPZihyb3dbdGhpcy5rZXlGaWVsZF0pID09IC0xO1xuXHQgICAgICB9LCB0aGlzKTtcblx0XG5cdCAgICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcblx0ICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICAgIHJldHVybiByb3dLZXkuaW5kZXhPZihyb3dbdGhpcy5rZXlGaWVsZF0pID09IC0xO1xuXHQgICAgICAgIH0sIHRoaXMpO1xuXHQgICAgICAgIHRoaXMuZmlsdGVyZWREYXRhID0gcmVzdWx0O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuZGF0YSA9IHJlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZpbHRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyKGZpbHRlck9iaikge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJPYmopLmxlbmd0aCA9PSAwKSB7XG5cdCAgICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSBudWxsO1xuXHQgICAgICAgIHRoaXMuaXNPbkZpbHRlciA9IGZhbHNlO1xuXHQgICAgICAgIHRoaXMuZmlsdGVyT2JqID0gbnVsbDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmZpbHRlck9iaiA9IGZpbHRlck9iajtcblx0ICAgICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcblx0ICAgICAgICAgIHZhciBmaWx0ZXJWYWwgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmlsdGVyT2JqKSB7XG5cdCAgICAgICAgICAgIHZhciB0YXJnZXRWYWwgPSByb3dba2V5XTtcblx0XG5cdCAgICAgICAgICAgIHN3aXRjaCAoZmlsdGVyT2JqW2tleV0udHlwZSkge1xuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUjpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsID0gZmlsdGVyT2JqW2tleV0udmFsdWUubnVtYmVyO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBjYXNlIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5DVVNUT006XG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgIGZpbHRlclZhbCA9IHR5cGVvZiBmaWx0ZXJPYmpba2V5XS52YWx1ZSA9PT0gXCJvYmplY3RcIiA/IHVuZGVmaW5lZCA6IHR5cGVvZiBmaWx0ZXJPYmpba2V5XS52YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IGZpbHRlck9ialtrZXldLnZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmaWx0ZXJPYmpba2V5XS52YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsID0gdHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcInN0cmluZ1wiID8gZmlsdGVyT2JqW2tleV0udmFsdWUudG9Mb3dlckNhc2UoKSA6IGZpbHRlck9ialtrZXldLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyVmFsID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IG9sZCBmaWx0ZXJcblx0ICAgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJPYmpba2V5XS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoX3RoaXMyLmNvbEluZm9zW2tleV0pIHtcblx0ICAgICAgICAgICAgICB2YXIgX2NvbEluZm9zJGtleSA9IF90aGlzMi5jb2xJbmZvc1trZXldO1xuXHQgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBfY29sSW5mb3Mka2V5LmZvcm1hdDtcblx0ICAgICAgICAgICAgICB2YXIgZmlsdGVyRm9ybWF0dGVkID0gX2NvbEluZm9zJGtleS5maWx0ZXJGb3JtYXR0ZWQ7XG5cdCAgICAgICAgICAgICAgdmFyIGZvcm1hdEV4dHJhRGF0YSA9IF9jb2xJbmZvcyRrZXkuZm9ybWF0RXh0cmFEYXRhO1xuXHRcblx0ICAgICAgICAgICAgICBpZiAoZmlsdGVyRm9ybWF0dGVkICYmIGZvcm1hdCkge1xuXHQgICAgICAgICAgICAgICAgdGFyZ2V0VmFsID0gZm9ybWF0KHJvd1trZXldLCByb3csIGZvcm1hdEV4dHJhRGF0YSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBzd2l0Y2ggKGZpbHRlck9ialtrZXldLnR5cGUpIHtcblx0ICAgICAgICAgICAgICBjYXNlIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5OVU1CRVI6XG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgIHZhbGlkID0gX3RoaXMyLmZpbHRlck51bWJlcih0YXJnZXRWYWwsIGZpbHRlclZhbCwgZmlsdGVyT2JqW2tleV0udmFsdWUuY29tcGFyYXRvcik7XG5cdCAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkRBVEU6XG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgIHZhbGlkID0gX3RoaXMyLmZpbHRlckRhdGUodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBjYXNlIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5DVVNUT006XG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgIHZhbGlkID0gX3RoaXMyLmZpbHRlckN1c3RvbSh0YXJnZXRWYWwsIGZpbHRlclZhbCwgZmlsdGVyT2JqW2tleV0udmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICB2YWxpZCA9IF90aGlzMi5maWx0ZXJUZXh0KHRhcmdldFZhbCwgZmlsdGVyVmFsKTtcblx0ICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCF2YWxpZCkge1xuXHQgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gdmFsaWQ7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZpbHRlck51bWJlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyTnVtYmVyKHRhcmdldFZhbCwgZmlsdGVyVmFsLCBjb21wYXJhdG9yKSB7XG5cdCAgICAgIHZhciB2YWxpZCA9IHRydWU7XG5cdCAgICAgIHN3aXRjaCAoY29tcGFyYXRvcikge1xuXHQgICAgICAgIGNhc2UgXCI9XCI6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGlmICh0YXJnZXRWYWwgIT0gZmlsdGVyVmFsKSB7XG5cdCAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIFwiPlwiOlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBpZiAodGFyZ2V0VmFsIDw9IGZpbHRlclZhbCkge1xuXHQgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSBcIj49XCI6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGlmICh0YXJnZXRWYWwgPCBmaWx0ZXJWYWwpIHtcblx0ICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgXCI8XCI6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGlmICh0YXJnZXRWYWwgPj0gZmlsdGVyVmFsKSB7XG5cdCAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIFwiPD1cIjpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgaWYgKHRhcmdldFZhbCA+IGZpbHRlclZhbCkge1xuXHQgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSBcIiE9XCI6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGlmICh0YXJnZXRWYWwgPT0gZmlsdGVyVmFsKSB7XG5cdCAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTnVtYmVyIGNvbXBhcmF0b3IgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZFwiKTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZhbGlkO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZpbHRlckRhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlckRhdGUodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpIHtcblx0ICAgICAgcmV0dXJuIHRhcmdldFZhbC5nZXREYXRlKCkgPT0gZmlsdGVyVmFsLmdldERhdGUoKSAmJiB0YXJnZXRWYWwuZ2V0TW9udGgoKSA9PSBmaWx0ZXJWYWwuZ2V0TW9udGgoKSAmJiB0YXJnZXRWYWwuZ2V0RnVsbFllYXIoKSA9PSBmaWx0ZXJWYWwuZ2V0RnVsbFllYXIoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmaWx0ZXJDdXN0b20nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlckN1c3RvbSh0YXJnZXRWYWwsIGZpbHRlclZhbCwgY2FsbGJhY2tJbmZvKSB7XG5cdCAgICAgIGlmIChjYWxsYmFja0luZm8gIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2tJbmZvID09PSBcIm9iamVjdFwiKSB7XG5cdCAgICAgICAgcmV0dXJuIGNhbGxiYWNrSW5mby5jYWxsYmFjayh0YXJnZXRWYWwsIGNhbGxiYWNrSW5mby5jYWxsYmFja1BhcmFtZXRlcnMpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gZmlsdGVyVGV4dCh0YXJnZXRWYWwsIGZpbHRlclZhbCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsdGVyVGV4dCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyVGV4dCh0YXJnZXRWYWwsIGZpbHRlclZhbCkge1xuXHQgICAgICBpZiAodGFyZ2V0VmFsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZpbHRlclZhbCkgPT0gLTEpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKHNlYXJjaFRleHQpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICBpZiAoc2VhcmNoVGV4dC50cmltKCkgPT09IFwiXCIpIHtcblx0ICAgICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gbnVsbDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSBzZWFyY2hUZXh0O1xuXHQgICAgICAgIHZhciBzZWFyY2hUZXh0QXJyYXkgPSBbXTtcblx0XG5cdCAgICAgICAgaWYgKHRoaXMubXVsdGlDb2x1bW5TZWFyY2gpIHtcblx0ICAgICAgICAgIHNlYXJjaFRleHRBcnJheSA9IHNlYXJjaFRleHQuc3BsaXQoJyAnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc2VhcmNoVGV4dEFycmF5LnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyb3cpO1xuXHQgICAgICAgICAgdmFyIHZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAvLyBDaGFuZ2VkIGBmb3IgLi4gaW5gIGxvb3AgdG8gdXNlIGBPYmplY3Qua2V5c2Bcblx0XG5cdCAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICAgICAgaWYgKF90aGlzMy5jb2xJbmZvc1trZXldICYmIHJvd1trZXldKSB7XG5cdCAgICAgICAgICAgICAgc2VhcmNoVGV4dEFycmF5LmZvckVhY2goZnVuY3Rpb24gKHRleHQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJWYWwgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VmFsID0gcm93W2tleV07XG5cdCAgICAgICAgICAgICAgICB2YXIgX2NvbEluZm9zJGtleTIgPSBfdGhpczMuY29sSW5mb3Nba2V5XTtcblx0ICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBfY29sSW5mb3Mka2V5Mi5mb3JtYXQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgZmlsdGVyRm9ybWF0dGVkID0gX2NvbEluZm9zJGtleTIuZmlsdGVyRm9ybWF0dGVkO1xuXHQgICAgICAgICAgICAgICAgdmFyIGZvcm1hdEV4dHJhRGF0YSA9IF9jb2xJbmZvcyRrZXkyLmZvcm1hdEV4dHJhRGF0YTtcblx0ICAgICAgICAgICAgICAgIHZhciBoaWRkZW4gPSBfY29sSW5mb3Mka2V5Mi5oaWRkZW47XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKCFoaWRkZW4pIHtcblx0ICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlckZvcm1hdHRlZCAmJiBmb3JtYXQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0YXJnZXRWYWwgPSBmb3JtYXQodGFyZ2V0VmFsLCByb3csIGZvcm1hdEV4dHJhRGF0YSk7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFZhbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXJWYWwpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgIGlmICh2YWxpZCkgcmV0dXJuICdicmVhayc7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBfcmV0ID0gX2xvb3AoaSk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoX3JldCA9PT0gJ2JyZWFrJykgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gdmFsaWQ7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdGhpcy5pc09uRmlsdGVyID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERhdGFJZ25vcmluZ1BhZ2luYXRpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKSB7XG5cdCAgICAgIHZhciBfZGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XG5cdCAgICAgIHJldHVybiBfZGF0YTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgdmFyIF9kYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcblx0XG5cdCAgICAgIGlmIChfZGF0YS5sZW5ndGggPT0gMCkgcmV0dXJuIF9kYXRhO1xuXHRcblx0ICAgICAgaWYgKHRoaXMucmVtb3RlIHx8ICF0aGlzLmVuYWJsZVBhZ2luYXRpb24pIHtcblx0ICAgICAgICByZXR1cm4gX2RhdGE7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnBhZ2VPYmouc3RhcnQ7IGkgPD0gdGhpcy5wYWdlT2JqLmVuZDsgaSsrKSB7XG5cdCAgICAgICAgICByZXN1bHQucHVzaChfZGF0YVtpXSk7XG5cdCAgICAgICAgICBpZiAoaSArIDEgPT0gX2RhdGEubGVuZ3RoKSBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEtleUZpZWxkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRLZXlGaWVsZCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMua2V5RmllbGQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGF0YU51bScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YU51bSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCkubGVuZ3RoO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzQ2hhbmdlZFBhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2hhbmdlZFBhZ2UoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnBhZ2VPYmouc3RhcnQgJiYgdGhpcy5wYWdlT2JqLmVuZCA/IHRydWUgOiBmYWxzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxSb3drZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFJvd2tleSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZGF0YS5tYXAoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIHJldHVybiByb3dbdGhpcy5rZXlGaWVsZF07XG5cdCAgICAgIH0sIHRoaXMpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlRGF0YVN0b3JlO1xuXHR9KSgpO1xuXHRcblx0ZXhwb3J0cy5UYWJsZURhdGFTdG9yZSA9IFRhYmxlRGF0YVN0b3JlO1xuXHRcblx0O1xuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdFx0dmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3JlYWN0SW5wdXRBdXRvc2l6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0dmFyIF9yZWFjdElucHV0QXV0b3NpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RJbnB1dEF1dG9zaXplKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzU3RyaXBEaWFjcml0aWNzKTtcblx0XG5cdHZhciBfQXN5bmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfQXN5bmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXN5bmMpO1xuXHRcblx0dmFyIF9PcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0XG5cdHZhciBfT3B0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdGlvbik7XG5cdFxuXHR2YXIgX1ZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cdFxuXHR2YXIgX1ZhbHVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZhbHVlKTtcblx0XG5cdGZ1bmN0aW9uIHN0cmluZ2lmeVZhbHVlKHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cblx0XG5cdHZhciBzdHJpbmdPck5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZV0pO1xuXHRcblx0dmFyIFNlbGVjdCA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVDbGFzcyh7XG5cdFxuXHRcdGRpc3BsYXlOYW1lOiAnU2VsZWN0Jyxcblx0XG5cdFx0cHJvcFR5cGVzOiB7XG5cdFx0XHRhZGRMYWJlbFRleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwbGFjZWhvbGRlciBkaXNwbGF5ZWQgd2hlbiB5b3Ugd2FudCB0byBhZGQgYSBsYWJlbCBvbiBhIG11bHRpLXZhbHVlIGlucHV0XG5cdFx0XHRhbGxvd0NyZWF0ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIGFsbG93IGNyZWF0aW9uIG9mIG5ldyBlbnRyaWVzXG5cdFx0XHRhdXRvQmx1cjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHRcdFx0YXV0b2ZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIGF1dG9mb2N1cyB0aGUgY29tcG9uZW50IG9uIG1vdW50XG5cdFx0XHRiYWNrc3BhY2VSZW1vdmVzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgYmFja3NwYWNlIHJlbW92ZXMgYW4gaXRlbSBpZiB0aGVyZSBpcyBubyB0ZXh0IGlucHV0XG5cdFx0XHRjbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBjbGFzc05hbWUgZm9yIHRoZSBvdXRlciBlbGVtZW50XG5cdFx0XHRjbGVhckFsbFRleHQ6IHN0cmluZ09yTm9kZSwgLy8gdGl0bGUgZm9yIHRoZSBcImNsZWFyXCIgY29udHJvbCB3aGVuIG11bHRpOiB0cnVlXG5cdFx0XHRjbGVhclZhbHVlVGV4dDogc3RyaW5nT3JOb2RlLCAvLyB0aXRsZSBmb3IgdGhlIFwiY2xlYXJcIiBjb250cm9sXG5cdFx0XHRjbGVhcmFibGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gc2hvdWxkIGl0IGJlIHBvc3NpYmxlIHRvIHJlc2V0IHZhbHVlXG5cdFx0XHRkZWxpbWl0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBkZWxpbWl0ZXIgdG8gdXNlIHRvIGpvaW4gbXVsdGlwbGUgdmFsdWVzIGZvciB0aGUgaGlkZGVuIGZpZWxkIHZhbHVlXG5cdFx0XHRkaXNhYmxlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRoZSBTZWxlY3QgaXMgZGlzYWJsZWQgb3Igbm90XG5cdFx0XHRlc2NhcGVDbGVhcnNWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIGVzY2FwZSBjbGVhcnMgdGhlIHZhbHVlIHdoZW4gdGhlIG1lbnUgaXMgY2xvc2VkXG5cdFx0XHRmaWx0ZXJPcHRpb246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGZpbHRlciBhIHNpbmdsZSBvcHRpb24gKG9wdGlvbiwgZmlsdGVyU3RyaW5nKVxuXHRcdFx0ZmlsdGVyT3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksIC8vIGJvb2xlYW4gdG8gZW5hYmxlIGRlZmF1bHQgZmlsdGVyaW5nIG9yIGZ1bmN0aW9uIHRvIGZpbHRlciB0aGUgb3B0aW9ucyBhcnJheSAoW29wdGlvbnNdLCBmaWx0ZXJTdHJpbmcsIFt2YWx1ZXNdKVxuXHRcdFx0aWdub3JlQWNjZW50czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIHN0cmlwIGRpYWNyaXRpY3Mgd2hlbiBmaWx0ZXJpbmdcblx0XHRcdGlnbm9yZUNhc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBwZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgZmlsdGVyaW5nXG5cdFx0XHRpbnB1dFByb3BzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCwgLy8gY3VzdG9tIGF0dHJpYnV0ZXMgZm9yIHRoZSBJbnB1dFxuXHRcdFx0aXNMb2FkaW5nOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdGhlIFNlbGVjdCBpcyBsb2FkaW5nIGV4dGVybmFsbHkgb3Igbm90IChzdWNoIGFzIG9wdGlvbnMgYmVpbmcgbG9hZGVkKVxuXHRcdFx0bGFiZWxLZXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwYXRoIG9mIHRoZSBsYWJlbCB2YWx1ZSBpbiBvcHRpb24gb2JqZWN0c1xuXHRcdFx0bWF0Y2hQb3M6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyAoYW55fHN0YXJ0KSBtYXRjaCB0aGUgc3RhcnQgb3IgZW50aXJlIHN0cmluZyB3aGVuIGZpbHRlcmluZ1xuXHRcdFx0bWF0Y2hQcm9wOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gKGFueXxsYWJlbHx2YWx1ZSkgd2hpY2ggb3B0aW9uIHByb3BlcnR5IHRvIGZpbHRlciBvblxuXHRcdFx0bWVudUJ1ZmZlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsIC8vIG9wdGlvbmFsIGJ1ZmZlciAoaW4gcHgpIGJldHdlZW4gdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQgYW5kIHRoZSBib3R0b20gb2YgdGhlIG1lbnVcblx0XHRcdG1lbnVDb250YWluZXJTdHlsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsIC8vIG9wdGlvbmFsIHN0eWxlIHRvIGFwcGx5IHRvIHRoZSBtZW51IGNvbnRhaW5lclxuXHRcdFx0bWVudVN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCwgLy8gb3B0aW9uYWwgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIG1lbnVcblx0XHRcdG11bHRpOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIG11bHRpLXZhbHVlIGlucHV0XG5cdFx0XHRuYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gZ2VuZXJhdGVzIGEgaGlkZGVuIDxpbnB1dCAvPiB0YWcgd2l0aCB0aGlzIGZpZWxkIG5hbWUgZm9yIGh0bWwgZm9ybXNcblx0XHRcdG5ld09wdGlvbkNyZWF0b3I6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gZmFjdG9yeSB0byBjcmVhdGUgbmV3IG9wdGlvbnMgd2hlbiBhbGxvd0NyZWF0ZSBzZXRcblx0XHRcdG5vUmVzdWx0c1RleHQ6IHN0cmluZ09yTm9kZSwgLy8gcGxhY2Vob2xkZXIgZGlzcGxheWVkIHdoZW4gdGhlcmUgYXJlIG5vIG1hdGNoaW5nIHNlYXJjaCByZXN1bHRzXG5cdFx0XHRvbkJsdXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25CbHVyIGhhbmRsZXI6IGZ1bmN0aW9uIChldmVudCkge31cblx0XHRcdG9uQmx1clJlc2V0c0lucHV0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgaW5wdXQgaXMgY2xlYXJlZCBvbiBibHVyXG5cdFx0XHRvbkNoYW5nZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkNoYW5nZSBoYW5kbGVyOiBmdW5jdGlvbiAobmV3VmFsdWUpIHt9XG5cdFx0XHRvbkNsb3NlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIGZpcmVzIHdoZW4gdGhlIG1lbnUgaXMgY2xvc2VkXG5cdFx0XHRvbkZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uRm9jdXMgaGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50KSB7fVxuXHRcdFx0b25JbnB1dENoYW5nZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbklucHV0Q2hhbmdlIGhhbmRsZXI6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7fVxuXHRcdFx0b25NZW51U2Nyb2xsVG9Cb3R0b206IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gZmlyZXMgd2hlbiB0aGUgbWVudSBpcyBzY3JvbGxlZCB0byB0aGUgYm90dG9tOyBjYW4gYmUgdXNlZCB0byBwYWdpbmF0ZSBvcHRpb25zXG5cdFx0XHRvbk9wZW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gZmlyZXMgd2hlbiB0aGUgbWVudSBpcyBvcGVuZWRcblx0XHRcdG9uVmFsdWVDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkNsaWNrIGhhbmRsZXIgZm9yIHZhbHVlIGxhYmVsczogZnVuY3Rpb24gKHZhbHVlLCBldmVudCkge31cblx0XHRcdG9wdGlvbkNvbXBvbmVudDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvcHRpb24gY29tcG9uZW50IHRvIHJlbmRlciBpbiBkcm9wZG93blxuXHRcdFx0b3B0aW9uUmVuZGVyZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb3B0aW9uUmVuZGVyZXI6IGZ1bmN0aW9uIChvcHRpb24pIHt9XG5cdFx0XHRvcHRpb25zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LCAvLyBhcnJheSBvZiBvcHRpb25zXG5cdFx0XHRwbGFjZWhvbGRlcjogc3RyaW5nT3JOb2RlLCAvLyBmaWVsZCBwbGFjZWhvbGRlciwgZGlzcGxheWVkIHdoZW4gdGhlcmUncyBubyB2YWx1ZVxuXHRcdFx0cmVxdWlyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gYXBwbGllcyBIVE1MNSByZXF1aXJlZCBhdHRyaWJ1dGUgd2hlbiBuZWVkZWRcblx0XHRcdHNjcm9sbE1lbnVJbnRvVmlldzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBib29sZWFuIHRvIGVuYWJsZSB0aGUgdmlld3BvcnQgdG8gc2hpZnQgc28gdGhhdCB0aGUgZnVsbCBtZW51IGZ1bGx5IHZpc2libGUgd2hlbiBlbmdhZ2VkXG5cdFx0XHRzZWFyY2hhYmxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gZW5hYmxlIHNlYXJjaGluZyBmZWF0dXJlIG9yIG5vdFxuXHRcdFx0c2ltcGxlVmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gcGFzcyB0aGUgdmFsdWUgdG8gb25DaGFuZ2UgYXMgYSBzaW1wbGUgdmFsdWUgKGxlZ2FjeSBwcmUgMS4wIG1vZGUpLCBkZWZhdWx0cyB0byBmYWxzZVxuXHRcdFx0c3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgY29udHJvbFxuXHRcdFx0dGFiSW5kZXg6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBvcHRpb25hbCB0YWIgaW5kZXggb2YgdGhlIGNvbnRyb2xcblx0XHRcdHZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSwgLy8gaW5pdGlhbCBmaWVsZCB2YWx1ZVxuXHRcdFx0dmFsdWVDb21wb25lbnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gdmFsdWUgY29tcG9uZW50IHRvIHJlbmRlclxuXHRcdFx0dmFsdWVLZXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwYXRoIG9mIHRoZSBsYWJlbCB2YWx1ZSBpbiBvcHRpb24gb2JqZWN0c1xuXHRcdFx0dmFsdWVSZW5kZXJlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyB2YWx1ZVJlbmRlcmVyOiBmdW5jdGlvbiAob3B0aW9uKSB7fVxuXHRcdFx0d3JhcHBlclN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCB9LFxuXHRcblx0XHQvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgY29tcG9uZW50IHdyYXBwZXJcblx0XHRzdGF0aWNzOiB7IEFzeW5jOiBfQXN5bmMyWydkZWZhdWx0J10gfSxcblx0XG5cdFx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRhZGRMYWJlbFRleHQ6ICdBZGQgXCJ7bGFiZWx9XCI/Jyxcblx0XHRcdFx0YWxsb3dDcmVhdGU6IGZhbHNlLFxuXHRcdFx0XHRiYWNrc3BhY2VSZW1vdmVzOiB0cnVlLFxuXHRcdFx0XHRjbGVhcmFibGU6IHRydWUsXG5cdFx0XHRcdGNsZWFyQWxsVGV4dDogJ0NsZWFyIGFsbCcsXG5cdFx0XHRcdGNsZWFyVmFsdWVUZXh0OiAnQ2xlYXIgdmFsdWUnLFxuXHRcdFx0XHRkZWxpbWl0ZXI6ICcsJyxcblx0XHRcdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXHRcdFx0XHRlc2NhcGVDbGVhcnNWYWx1ZTogdHJ1ZSxcblx0XHRcdFx0ZmlsdGVyT3B0aW9uczogdHJ1ZSxcblx0XHRcdFx0aWdub3JlQWNjZW50czogdHJ1ZSxcblx0XHRcdFx0aWdub3JlQ2FzZTogdHJ1ZSxcblx0XHRcdFx0aW5wdXRQcm9wczoge30sXG5cdFx0XHRcdGlzTG9hZGluZzogZmFsc2UsXG5cdFx0XHRcdGxhYmVsS2V5OiAnbGFiZWwnLFxuXHRcdFx0XHRtYXRjaFBvczogJ2FueScsXG5cdFx0XHRcdG1hdGNoUHJvcDogJ2FueScsXG5cdFx0XHRcdG1lbnVCdWZmZXI6IDAsXG5cdFx0XHRcdG11bHRpOiBmYWxzZSxcblx0XHRcdFx0bm9SZXN1bHRzVGV4dDogJ05vIHJlc3VsdHMgZm91bmQnLFxuXHRcdFx0XHRvbkJsdXJSZXNldHNJbnB1dDogdHJ1ZSxcblx0XHRcdFx0b3B0aW9uQ29tcG9uZW50OiBfT3B0aW9uMlsnZGVmYXVsdCddLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogJ1NlbGVjdC4uLicsXG5cdFx0XHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHRcdFx0c2Nyb2xsTWVudUludG9WaWV3OiB0cnVlLFxuXHRcdFx0XHRzZWFyY2hhYmxlOiB0cnVlLFxuXHRcdFx0XHRzaW1wbGVWYWx1ZTogZmFsc2UsXG5cdFx0XHRcdHZhbHVlQ29tcG9uZW50OiBfVmFsdWUyWydkZWZhdWx0J10sXG5cdFx0XHRcdHZhbHVlS2V5OiAndmFsdWUnXG5cdFx0XHR9O1xuXHRcdH0sXG5cdFxuXHRcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5wdXRWYWx1ZTogJycsXG5cdFx0XHRcdGlzRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRcdGlzTG9hZGluZzogZmFsc2UsXG5cdFx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRcdHJlcXVpcmVkOiB0aGlzLnByb3BzLnJlcXVpcmVkICYmIHRoaXMuaGFuZGxlUmVxdWlyZWQodGhpcy5wcm9wcy52YWx1ZSwgdGhpcy5wcm9wcy5tdWx0aSlcblx0XHRcdH07XG5cdFx0fSxcblx0XG5cdFx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuYXV0b2ZvY3VzKSB7XG5cdFx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRjb21wb25lbnRXaWxsVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cdFx0XHRpZiAobmV4dFN0YXRlLmlzT3BlbiAhPT0gdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0dmFyIGhhbmRsZXIgPSBuZXh0U3RhdGUuaXNPcGVuID8gbmV4dFByb3BzLm9uT3BlbiA6IG5leHRQcm9wcy5vbkNsb3NlO1xuXHRcdFx0XHRoYW5kbGVyICYmIGhhbmRsZXIoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuXHRcdFx0Ly8gZm9jdXMgdG8gdGhlIHNlbGVjdGVkIG9wdGlvblxuXHRcdFx0aWYgKHRoaXMucmVmcy5tZW51ICYmIHRoaXMucmVmcy5mb2N1c2VkICYmIHRoaXMuc3RhdGUuaXNPcGVuICYmICF0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24pIHtcblx0XHRcdFx0dmFyIGZvY3VzZWRPcHRpb25Ob2RlID0gX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMucmVmcy5mb2N1c2VkKTtcblx0XHRcdFx0dmFyIG1lbnVOb2RlID0gX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMucmVmcy5tZW51KTtcblx0XHRcdFx0bWVudU5vZGUuc2Nyb2xsVG9wID0gZm9jdXNlZE9wdGlvbk5vZGUub2Zmc2V0VG9wO1xuXHRcdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHByZXZTdGF0ZS5pbnB1dFZhbHVlICE9PSB0aGlzLnN0YXRlLmlucHV0VmFsdWUgJiYgdGhpcy5wcm9wcy5vbklucHV0Q2hhbmdlKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25JbnB1dENoYW5nZSh0aGlzLnN0YXRlLmlucHV0VmFsdWUpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlICYmIHRoaXMucmVmcy5mb2N1c2VkICYmIHRoaXMucmVmcy5tZW51KSB7XG5cdFx0XHRcdHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlID0gZmFsc2U7XG5cdFx0XHRcdHZhciBmb2N1c2VkRE9NID0gX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMucmVmcy5mb2N1c2VkKTtcblx0XHRcdFx0dmFyIG1lbnVET00gPSBfcmVhY3REb20yWydkZWZhdWx0J10uZmluZERPTU5vZGUodGhpcy5yZWZzLm1lbnUpO1xuXHRcdFx0XHR2YXIgZm9jdXNlZFJlY3QgPSBmb2N1c2VkRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHR2YXIgbWVudVJlY3QgPSBtZW51RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRpZiAoZm9jdXNlZFJlY3QuYm90dG9tID4gbWVudVJlY3QuYm90dG9tIHx8IGZvY3VzZWRSZWN0LnRvcCA8IG1lbnVSZWN0LnRvcCkge1xuXHRcdFx0XHRcdG1lbnVET00uc2Nyb2xsVG9wID0gZm9jdXNlZERPTS5vZmZzZXRUb3AgKyBmb2N1c2VkRE9NLmNsaWVudEhlaWdodCAtIG1lbnVET00ub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zY3JvbGxNZW51SW50b1ZpZXcgJiYgdGhpcy5yZWZzLm1lbnVDb250YWluZXIpIHtcblx0XHRcdFx0dmFyIG1lbnVDb250YWluZXJSZWN0ID0gdGhpcy5yZWZzLm1lbnVDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCBtZW51Q29udGFpbmVyUmVjdC5ib3R0b20gKyB0aGlzLnByb3BzLm1lbnVCdWZmZXIpIHtcblx0XHRcdFx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgd2luZG93LnNjcm9sbFkgKyBtZW51Q29udGFpbmVyUmVjdC5ib3R0b20gKyB0aGlzLnByb3BzLm1lbnVCdWZmZXIgLSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAocHJldlByb3BzLmRpc2FibGVkICE9PSB0aGlzLnByb3BzLmRpc2FibGVkKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBpc0ZvY3VzZWQ6IGZhbHNlIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWRpZC11cGRhdGUtc2V0LXN0YXRlXG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0Zm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHRcdFx0aWYgKCF0aGlzLnJlZnMuaW5wdXQpIHJldHVybjtcblx0XHRcdHRoaXMucmVmcy5pbnB1dC5mb2N1cygpO1xuXHRcdH0sXG5cdFxuXHRcdGJsdXJJbnB1dDogZnVuY3Rpb24gYmx1cklucHV0KCkge1xuXHRcdFx0aWYgKCF0aGlzLnJlZnMuaW5wdXQpIHJldHVybjtcblx0XHRcdHRoaXMucmVmcy5pbnB1dC5ibHVyKCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcblx0XHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkXG5cdFx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaFN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG5cdFx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgbm90IGJlaW5nIGRyYWdnZWRcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaEVuZDogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZXZlbnQpIHtcblx0XHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRcdGlmICh0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cdFxuXHRcdFx0Ly8gRmlyZSB0aGUgbW91c2UgZXZlbnRzXG5cdFx0XHR0aGlzLmhhbmRsZU1vdXNlRG93bihldmVudCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hFbmRDbGVhclZhbHVlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZENsZWFyVmFsdWUoZXZlbnQpIHtcblx0XHRcdC8vIENoZWNrIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWQsIEluIHRoaXMgY2FzZVxuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRcdGlmICh0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cdFxuXHRcdFx0Ly8gQ2xlYXIgdGhlIHZhbHVlXG5cdFx0XHR0aGlzLmNsZWFyVmFsdWUoZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG5cdFx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0XHQvLyBidXR0b24sIG9yIGlmIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQsIGlnbm9yZSBpdC5cblx0XHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8IGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gcHJldmVudCBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0Ly8gZm9yIHRoZSBub24tc2VhcmNoYWJsZSBzZWxlY3QsIHRvZ2dsZSB0aGUgbWVudVxuXHRcdFx0aWYgKCF0aGlzLnByb3BzLnNlYXJjaGFibGUpIHtcblx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0aXNPcGVuOiAhdGhpcy5zdGF0ZS5pc09wZW5cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHRoaXMuc3RhdGUuaXNGb2N1c2VkKSB7XG5cdFx0XHRcdC8vIGlmIHRoZSBpbnB1dCBpcyBmb2N1c2VkLCBlbnN1cmUgdGhlIG1lbnUgaXMgb3BlblxuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpc09wZW46IHRydWUsXG5cdFx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiBmYWxzZVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIG90aGVyd2lzZSwgZm9jdXMgdGhlIGlucHV0IGFuZCBvcGVuIHRoZSBtZW51XG5cdFx0XHRcdHRoaXMuX29wZW5BZnRlckZvY3VzID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZU1vdXNlRG93bk9uQXJyb3c6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bk9uQXJyb3coZXZlbnQpIHtcblx0XHRcdC8vIGlmIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgbW91c2Vkb3duIGFuZCBub3QgdGhlIHByaW1hcnlcblx0XHRcdC8vIGJ1dHRvbiwgb3IgaWYgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZCwgaWdub3JlIGl0LlxuXHRcdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vIElmIHRoZSBtZW51IGlzbid0IG9wZW4sIGxldCB0aGUgZXZlbnQgYnViYmxlIHRvIHRoZSBtYWluIGhhbmRsZU1vdXNlRG93blxuXHRcdFx0aWYgKCF0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBwcmV2ZW50IGRlZmF1bHQgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIGNsb3NlIHRoZSBtZW51XG5cdFx0XHR0aGlzLmNsb3NlTWVudSgpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZU1vdXNlRG93bk9uTWVudTogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duT25NZW51KGV2ZW50KSB7XG5cdFx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0XHQvLyBidXR0b24sIG9yIGlmIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQsIGlnbm9yZSBpdC5cblx0XHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8IGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0dGhpcy5fb3BlbkFmdGVyRm9jdXMgPSB0cnVlO1xuXHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdH0sXG5cdFxuXHRcdGNsb3NlTWVudTogZnVuY3Rpb24gY2xvc2VNZW51KCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogdGhpcy5zdGF0ZS5pc0ZvY3VzZWQgJiYgIXRoaXMucHJvcHMubXVsdGksXG5cdFx0XHRcdGlucHV0VmFsdWU6ICcnXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbiA9IGZhbHNlO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZUlucHV0Rm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUlucHV0Rm9jdXMoZXZlbnQpIHtcblx0XHRcdHZhciBpc09wZW4gPSB0aGlzLnN0YXRlLmlzT3BlbiB8fCB0aGlzLl9vcGVuQWZ0ZXJGb2N1cztcblx0XHRcdGlmICh0aGlzLnByb3BzLm9uRm9jdXMpIHtcblx0XHRcdFx0dGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc0ZvY3VzZWQ6IHRydWUsXG5cdFx0XHRcdGlzT3BlbjogaXNPcGVuXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuX29wZW5BZnRlckZvY3VzID0gZmFsc2U7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlSW5wdXRCbHVyOiBmdW5jdGlvbiBoYW5kbGVJbnB1dEJsdXIoZXZlbnQpIHtcblx0XHRcdGlmICh0aGlzLnJlZnMubWVudSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlzRXF1YWxOb2RlKHRoaXMucmVmcy5tZW51KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHRoaXMucHJvcHMub25CbHVyKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25CbHVyKGV2ZW50KTtcblx0XHRcdH1cblx0XHRcdHZhciBvbkJsdXJyZWRTdGF0ZSA9IHtcblx0XHRcdFx0aXNGb2N1c2VkOiBmYWxzZSxcblx0XHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiBmYWxzZVxuXHRcdFx0fTtcblx0XHRcdGlmICh0aGlzLnByb3BzLm9uQmx1clJlc2V0c0lucHV0KSB7XG5cdFx0XHRcdG9uQmx1cnJlZFN0YXRlLmlucHV0VmFsdWUgPSAnJztcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0U3RhdGUob25CbHVycmVkU3RhdGUpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZUlucHV0Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVJbnB1dENoYW5nZShldmVudCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiBmYWxzZSxcblx0XHRcdFx0aW5wdXRWYWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlXG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVLZXlEb3duOiBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkgcmV0dXJuO1xuXHRcdFx0c3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHQvLyBiYWNrc3BhY2Vcblx0XHRcdFx0XHRpZiAoIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSAmJiB0aGlzLnByb3BzLmJhY2tzcGFjZVJlbW92ZXMpIHtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHR0aGlzLnBvcFZhbHVlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdC8vIHRhYlxuXHRcdFx0XHRcdGlmIChldmVudC5zaGlmdEtleSB8fCAhdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RGb2N1c2VkT3B0aW9uKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdC8vIGVudGVyXG5cdFx0XHRcdFx0aWYgKCF0aGlzLnN0YXRlLmlzT3BlbikgcmV0dXJuO1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdC8vIGVzY2FwZVxuXHRcdFx0XHRcdGlmICh0aGlzLnN0YXRlLmlzT3Blbikge1xuXHRcdFx0XHRcdFx0dGhpcy5jbG9zZU1lbnUoKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuY2xlYXJhYmxlICYmIHRoaXMucHJvcHMuZXNjYXBlQ2xlYXJzVmFsdWUpIHtcblx0XHRcdFx0XHRcdHRoaXMuY2xlYXJWYWx1ZShldmVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRcdC8vIHVwXG5cdFx0XHRcdFx0dGhpcy5mb2N1c1ByZXZpb3VzT3B0aW9uKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgNDA6XG5cdFx0XHRcdFx0Ly8gZG93blxuXHRcdFx0XHRcdHRoaXMuZm9jdXNOZXh0T3B0aW9uKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdC8vIGNhc2UgMTg4OiAvLyAsXG5cdFx0XHRcdC8vIFx0aWYgKHRoaXMucHJvcHMuYWxsb3dDcmVhdGUgJiYgdGhpcy5wcm9wcy5tdWx0aSkge1xuXHRcdFx0XHQvLyBcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Ly8gXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHQvLyBcdFx0dGhpcy5zZWxlY3RGb2N1c2VkT3B0aW9uKCk7XG5cdFx0XHRcdC8vIFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gXHRcdHJldHVybjtcblx0XHRcdFx0Ly8gXHR9XG5cdFx0XHRcdC8vIGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVmFsdWVDbGljazogZnVuY3Rpb24gaGFuZGxlVmFsdWVDbGljayhvcHRpb24sIGV2ZW50KSB7XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMub25WYWx1ZUNsaWNrKSByZXR1cm47XG5cdFx0XHR0aGlzLnByb3BzLm9uVmFsdWVDbGljayhvcHRpb24sIGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVNZW51U2Nyb2xsOiBmdW5jdGlvbiBoYW5kbGVNZW51U2Nyb2xsKGV2ZW50KSB7XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMub25NZW51U2Nyb2xsVG9Cb3R0b20pIHJldHVybjtcblx0XHRcdHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdFxuXHRcdFx0aWYgKHRhcmdldC5zY3JvbGxIZWlnaHQgPiB0YXJnZXQub2Zmc2V0SGVpZ2h0ICYmICEodGFyZ2V0LnNjcm9sbEhlaWdodCAtIHRhcmdldC5vZmZzZXRIZWlnaHQgLSB0YXJnZXQuc2Nyb2xsVG9wKSkge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uTWVudVNjcm9sbFRvQm90dG9tKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlUmVxdWlyZWQ6IGZ1bmN0aW9uIGhhbmRsZVJlcXVpcmVkKHZhbHVlLCBtdWx0aSkge1xuXHRcdFx0aWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XG5cdFx0XHRyZXR1cm4gbXVsdGkgPyB2YWx1ZS5sZW5ndGggPT09IDAgOiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwO1xuXHRcdH0sXG5cdFxuXHRcdGdldE9wdGlvbkxhYmVsOiBmdW5jdGlvbiBnZXRPcHRpb25MYWJlbChvcCkge1xuXHRcdFx0cmV0dXJuIG9wW3RoaXMucHJvcHMubGFiZWxLZXldO1xuXHRcdH0sXG5cdFxuXHRcdGdldFZhbHVlQXJyYXk6IGZ1bmN0aW9uIGdldFZhbHVlQXJyYXkoKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHZhbHVlID0gdmFsdWUuc3BsaXQodGhpcy5wcm9wcy5kZWxpbWl0ZXIpO1xuXHRcdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBbXTtcblx0XHRcdFx0XHR2YWx1ZSA9IFt2YWx1ZV07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlLm1hcCh0aGlzLmV4cGFuZFZhbHVlKS5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgZXhwYW5kZWRWYWx1ZSA9IHRoaXMuZXhwYW5kVmFsdWUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIGV4cGFuZGVkVmFsdWUgPyBbZXhwYW5kZWRWYWx1ZV0gOiBbXTtcblx0XHR9LFxuXHRcblx0XHRleHBhbmRWYWx1ZTogZnVuY3Rpb24gZXhwYW5kVmFsdWUodmFsdWUpIHtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHJldHVybiB2YWx1ZTtcblx0XHRcdHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHRcdFx0dmFyIG9wdGlvbnMgPSBfcHJvcHMub3B0aW9ucztcblx0XHRcdHZhciB2YWx1ZUtleSA9IF9wcm9wcy52YWx1ZUtleTtcblx0XG5cdFx0XHRpZiAoIW9wdGlvbnMpIHJldHVybjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAob3B0aW9uc1tpXVt2YWx1ZUtleV0gPT09IHZhbHVlKSByZXR1cm4gb3B0aW9uc1tpXTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKHRoaXMucHJvcHMuYXV0b0JsdXIpIHtcblx0XHRcdFx0dGhpcy5ibHVySW5wdXQoKTtcblx0XHRcdH1cblx0XHRcdGlmICghdGhpcy5wcm9wcy5vbkNoYW5nZSkgcmV0dXJuO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMucmVxdWlyZWQpIHtcblx0XHRcdFx0dmFyIHJlcXVpcmVkID0gdGhpcy5oYW5kbGVSZXF1aXJlZCh2YWx1ZSwgdGhpcy5wcm9wcy5tdWx0aSk7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyByZXF1aXJlZDogcmVxdWlyZWQgfSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zaW1wbGVWYWx1ZSAmJiB2YWx1ZSkge1xuXHRcdFx0XHR2YWx1ZSA9IHRoaXMucHJvcHMubXVsdGkgPyB2YWx1ZS5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0XHRyZXR1cm4gaVtfdGhpcy5wcm9wcy52YWx1ZUtleV07XG5cdFx0XHRcdH0pLmpvaW4odGhpcy5wcm9wcy5kZWxpbWl0ZXIpIDogdmFsdWVbdGhpcy5wcm9wcy52YWx1ZUtleV07XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnByb3BzLm9uQ2hhbmdlKHZhbHVlKTtcblx0XHR9LFxuXHRcblx0XHRzZWxlY3RWYWx1ZTogZnVuY3Rpb24gc2VsZWN0VmFsdWUodmFsdWUpIHtcblx0XHRcdHRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbiA9IGZhbHNlO1xuXHRcdFx0aWYgKHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdFx0dGhpcy5hZGRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGlucHV0VmFsdWU6ICcnXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRcdFx0aW5wdXRWYWx1ZTogJycsXG5cdFx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiB0aGlzLnN0YXRlLmlzRm9jdXNlZFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRhZGRWYWx1ZTogZnVuY3Rpb24gYWRkVmFsdWUodmFsdWUpIHtcblx0XHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuY29uY2F0KHZhbHVlKSk7XG5cdFx0fSxcblx0XG5cdFx0cG9wVmFsdWU6IGZ1bmN0aW9uIHBvcFZhbHVlKCkge1xuXHRcdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHRcdGlmICghdmFsdWVBcnJheS5sZW5ndGgpIHJldHVybjtcblx0XHRcdGlmICh2YWx1ZUFycmF5W3ZhbHVlQXJyYXkubGVuZ3RoIC0gMV0uY2xlYXJhYmxlVmFsdWUgPT09IGZhbHNlKSByZXR1cm47XG5cdFx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuc2xpY2UoMCwgdmFsdWVBcnJheS5sZW5ndGggLSAxKSk7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlVmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVZhbHVlKHZhbHVlKSB7XG5cdFx0XHR2YXIgdmFsdWVBcnJheSA9IHRoaXMuZ2V0VmFsdWVBcnJheSgpO1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZUFycmF5LmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRyZXR1cm4gaSAhPT0gdmFsdWU7XG5cdFx0XHR9KSk7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0fSxcblx0XG5cdFx0Y2xlYXJWYWx1ZTogZnVuY3Rpb24gY2xlYXJWYWx1ZShldmVudCkge1xuXHRcdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdFx0Ly8gYnV0dG9uLCBpZ25vcmUgaXQuXG5cdFx0XHRpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuc2V0VmFsdWUobnVsbCk7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdFx0aW5wdXRWYWx1ZTogJydcblx0XHRcdH0sIHRoaXMuZm9jdXMpO1xuXHRcdH0sXG5cdFxuXHRcdGZvY3VzT3B0aW9uOiBmdW5jdGlvbiBmb2N1c09wdGlvbihvcHRpb24pIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRmb2N1c2VkT3B0aW9uOiBvcHRpb25cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFxuXHRcdGZvY3VzTmV4dE9wdGlvbjogZnVuY3Rpb24gZm9jdXNOZXh0T3B0aW9uKCkge1xuXHRcdFx0dGhpcy5mb2N1c0FkamFjZW50T3B0aW9uKCduZXh0Jyk7XG5cdFx0fSxcblx0XG5cdFx0Zm9jdXNQcmV2aW91c09wdGlvbjogZnVuY3Rpb24gZm9jdXNQcmV2aW91c09wdGlvbigpIHtcblx0XHRcdHRoaXMuZm9jdXNBZGphY2VudE9wdGlvbigncHJldmlvdXMnKTtcblx0XHR9LFxuXHRcblx0XHRmb2N1c0FkamFjZW50T3B0aW9uOiBmdW5jdGlvbiBmb2N1c0FkamFjZW50T3B0aW9uKGRpcikge1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl92aXNpYmxlT3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0cmV0dXJuICFpLmRpc2FibGVkO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLl9zY3JvbGxUb0ZvY3VzZWRPcHRpb25PblVwZGF0ZSA9IHRydWU7XG5cdFx0XHRpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdFx0XHRpbnB1dFZhbHVlOiAnJyxcblx0XHRcdFx0XHRmb2N1c2VkT3B0aW9uOiB0aGlzLl9mb2N1c2VkT3B0aW9uIHx8IG9wdGlvbnNbZGlyID09PSAnbmV4dCcgPyAwIDogb3B0aW9ucy5sZW5ndGggLSAxXVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuXHRcdFx0dmFyIGZvY3VzZWRJbmRleCA9IC0xO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmICh0aGlzLl9mb2N1c2VkT3B0aW9uID09PSBvcHRpb25zW2ldKSB7XG5cdFx0XHRcdFx0Zm9jdXNlZEluZGV4ID0gaTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dmFyIGZvY3VzZWRPcHRpb24gPSBvcHRpb25zWzBdO1xuXHRcdFx0aWYgKGRpciA9PT0gJ25leHQnICYmIGZvY3VzZWRJbmRleCA+IC0xICYmIGZvY3VzZWRJbmRleCA8IG9wdGlvbnMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1tmb2N1c2VkSW5kZXggKyAxXTtcblx0XHRcdH0gZWxzZSBpZiAoZGlyID09PSAncHJldmlvdXMnKSB7XG5cdFx0XHRcdGlmIChmb2N1c2VkSW5kZXggPiAwKSB7XG5cdFx0XHRcdFx0Zm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbZm9jdXNlZEluZGV4IC0gMV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbb3B0aW9ucy5sZW5ndGggLSAxXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGZvY3VzZWRPcHRpb246IGZvY3VzZWRPcHRpb25cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFxuXHRcdHNlbGVjdEZvY3VzZWRPcHRpb246IGZ1bmN0aW9uIHNlbGVjdEZvY3VzZWRPcHRpb24oKSB7XG5cdFx0XHQvLyBpZiAodGhpcy5wcm9wcy5hbGxvd0NyZWF0ZSAmJiAhdGhpcy5zdGF0ZS5mb2N1c2VkT3B0aW9uKSB7XG5cdFx0XHQvLyBcdHJldHVybiB0aGlzLnNlbGVjdFZhbHVlKHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSk7XG5cdFx0XHQvLyB9XG5cdFx0XHRpZiAodGhpcy5fZm9jdXNlZE9wdGlvbikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zZWxlY3RWYWx1ZSh0aGlzLl9mb2N1c2VkT3B0aW9uKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRyZW5kZXJMb2FkaW5nOiBmdW5jdGlvbiByZW5kZXJMb2FkaW5nKCkge1xuXHRcdFx0aWYgKCF0aGlzLnByb3BzLmlzTG9hZGluZykgcmV0dXJuO1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnc3BhbicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LWxvYWRpbmctem9uZScsICdhcmlhLWhpZGRlbic6ICd0cnVlJyB9LFxuXHRcdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWxvYWRpbmcnIH0pXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdHJlbmRlclZhbHVlOiBmdW5jdGlvbiByZW5kZXJWYWx1ZSh2YWx1ZUFycmF5LCBpc09wZW4pIHtcblx0XHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0XHRcdHZhciByZW5kZXJMYWJlbCA9IHRoaXMucHJvcHMudmFsdWVSZW5kZXJlciB8fCB0aGlzLmdldE9wdGlvbkxhYmVsO1xuXHRcdFx0dmFyIFZhbHVlQ29tcG9uZW50ID0gdGhpcy5wcm9wcy52YWx1ZUNvbXBvbmVudDtcblx0XHRcdGlmICghdmFsdWVBcnJheS5sZW5ndGgpIHtcblx0XHRcdFx0cmV0dXJuICF0aGlzLnN0YXRlLmlucHV0VmFsdWUgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1wbGFjZWhvbGRlcicgfSxcblx0XHRcdFx0XHR0aGlzLnByb3BzLnBsYWNlaG9sZGVyXG5cdFx0XHRcdCkgOiBudWxsO1xuXHRcdFx0fVxuXHRcdFx0dmFyIG9uQ2xpY2sgPSB0aGlzLnByb3BzLm9uVmFsdWVDbGljayA/IHRoaXMuaGFuZGxlVmFsdWVDbGljayA6IG51bGw7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWVBcnJheS5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0VmFsdWVDb21wb25lbnQsXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGRpc2FibGVkOiBfdGhpczIucHJvcHMuZGlzYWJsZWQgfHwgdmFsdWUuY2xlYXJhYmxlVmFsdWUgPT09IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRrZXk6ICd2YWx1ZS0nICsgaSArICctJyArIHZhbHVlW190aGlzMi5wcm9wcy52YWx1ZUtleV0sXG5cdFx0XHRcdFx0XHRcdG9uQ2xpY2s6IG9uQ2xpY2ssXG5cdFx0XHRcdFx0XHRcdG9uUmVtb3ZlOiBfdGhpczIucmVtb3ZlVmFsdWUsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHJlbmRlckxhYmVsKHZhbHVlKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmICghdGhpcy5zdGF0ZS5pbnB1dFZhbHVlKSB7XG5cdFx0XHRcdGlmIChpc09wZW4pIG9uQ2xpY2sgPSBudWxsO1xuXHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0VmFsdWVDb21wb25lbnQsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQsXG5cdFx0XHRcdFx0XHRvbkNsaWNrOiBvbkNsaWNrLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlQXJyYXlbMF1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlbmRlckxhYmVsKHZhbHVlQXJyYXlbMF0pXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVySW5wdXQ6IGZ1bmN0aW9uIHJlbmRlcklucHV0KHZhbHVlQXJyYXkpIHtcblx0XHRcdHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKCdTZWxlY3QtaW5wdXQnLCB0aGlzLnByb3BzLmlucHV0UHJvcHMuY2xhc3NOYW1lKTtcblx0XHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLnNlYXJjaGFibGUpIHtcblx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLCB7XG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdFx0dGFiSW5kZXg6IHRoaXMucHJvcHMudGFiSW5kZXggfHwgMCxcblx0XHRcdFx0XHRvbkJsdXI6IHRoaXMuaGFuZGxlSW5wdXRCbHVyLFxuXHRcdFx0XHRcdG9uRm9jdXM6IHRoaXMuaGFuZGxlSW5wdXRGb2N1cyxcblx0XHRcdFx0XHRyZWY6ICdpbnB1dCcsXG5cdFx0XHRcdFx0c3R5bGU6IHsgYm9yZGVyOiAwLCB3aWR0aDogMSwgZGlzcGxheTogJ2lubGluZS1ibG9jaycgfSB9KSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX3JlYWN0SW5wdXRBdXRvc2l6ZTJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuaW5wdXRQcm9wcywge1xuXHRcdFx0XHRjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdFx0dGFiSW5kZXg6IHRoaXMucHJvcHMudGFiSW5kZXgsXG5cdFx0XHRcdG9uQmx1cjogdGhpcy5oYW5kbGVJbnB1dEJsdXIsXG5cdFx0XHRcdG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLFxuXHRcdFx0XHRvbkZvY3VzOiB0aGlzLmhhbmRsZUlucHV0Rm9jdXMsXG5cdFx0XHRcdG1pbldpZHRoOiAnNScsXG5cdFx0XHRcdHJlZjogJ2lucHV0Jyxcblx0XHRcdFx0cmVxdWlyZWQ6IHRoaXMuc3RhdGUucmVxdWlyZWQsXG5cdFx0XHRcdHZhbHVlOiB0aGlzLnN0YXRlLmlucHV0VmFsdWVcblx0XHRcdH0pKTtcblx0XHR9LFxuXHRcblx0XHRyZW5kZXJDbGVhcjogZnVuY3Rpb24gcmVuZGVyQ2xlYXIoKSB7XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMuY2xlYXJhYmxlIHx8ICF0aGlzLnByb3BzLnZhbHVlIHx8IHRoaXMucHJvcHMubXVsdGkgJiYgIXRoaXMucHJvcHMudmFsdWUubGVuZ3RoIHx8IHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgdGhpcy5wcm9wcy5pc0xvYWRpbmcpIHJldHVybjtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J3NwYW4nLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1jbGVhci16b25lJywgdGl0bGU6IHRoaXMucHJvcHMubXVsdGkgPyB0aGlzLnByb3BzLmNsZWFyQWxsVGV4dCA6IHRoaXMucHJvcHMuY2xlYXJWYWx1ZVRleHQsXG5cdFx0XHRcdFx0J2FyaWEtbGFiZWwnOiB0aGlzLnByb3BzLm11bHRpID8gdGhpcy5wcm9wcy5jbGVhckFsbFRleHQgOiB0aGlzLnByb3BzLmNsZWFyVmFsdWVUZXh0LFxuXHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmNsZWFyVmFsdWUsXG5cdFx0XHRcdFx0b25Ub3VjaFN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG5cdFx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuXHRcdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmRDbGVhclZhbHVlIH0sXG5cdFx0XHRcdF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdTZWxlY3QtY2xlYXInLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6ICcmdGltZXM7JyB9IH0pXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdHJlbmRlckFycm93OiBmdW5jdGlvbiByZW5kZXJBcnJvdygpIHtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J3NwYW4nLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1hcnJvdy16b25lJywgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duT25BcnJvdyB9LFxuXHRcdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWFycm93Jywgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duT25BcnJvdyB9KVxuXHRcdFx0KTtcblx0XHR9LFxuXHRcblx0XHRmaWx0ZXJPcHRpb25zOiBmdW5jdGlvbiBmaWx0ZXJPcHRpb25zKGV4Y2x1ZGVPcHRpb25zKSB7XG5cdFx0XHR2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdFx0XHR2YXIgZmlsdGVyVmFsdWUgPSB0aGlzLnN0YXRlLmlucHV0VmFsdWU7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucyB8fCBbXTtcblx0XHRcdGlmICh0eXBlb2YgdGhpcy5wcm9wcy5maWx0ZXJPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnByb3BzLmZpbHRlck9wdGlvbnMuY2FsbCh0aGlzLCBvcHRpb25zLCBmaWx0ZXJWYWx1ZSwgZXhjbHVkZU9wdGlvbnMpO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnByb3BzLmZpbHRlck9wdGlvbnMpIHtcblx0XHRcdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQWNjZW50cykge1xuXHRcdFx0XHRcdGZpbHRlclZhbHVlID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkoZmlsdGVyVmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUNhc2UpIHtcblx0XHRcdFx0XHRmaWx0ZXJWYWx1ZSA9IGZpbHRlclZhbHVlLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGV4Y2x1ZGVPcHRpb25zKSBleGNsdWRlT3B0aW9ucyA9IGV4Y2x1ZGVPcHRpb25zLm1hcChmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRcdHJldHVybiBpW190aGlzMy5wcm9wcy52YWx1ZUtleV07XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gb3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvbikge1xuXHRcdFx0XHRcdGlmIChleGNsdWRlT3B0aW9ucyAmJiBleGNsdWRlT3B0aW9ucy5pbmRleE9mKG9wdGlvbltfdGhpczMucHJvcHMudmFsdWVLZXldKSA+IC0xKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5maWx0ZXJPcHRpb24pIHJldHVybiBfdGhpczMucHJvcHMuZmlsdGVyT3B0aW9uLmNhbGwoX3RoaXMzLCBvcHRpb24sIGZpbHRlclZhbHVlKTtcblx0XHRcdFx0XHRpZiAoIWZpbHRlclZhbHVlKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR2YXIgdmFsdWVUZXN0ID0gU3RyaW5nKG9wdGlvbltfdGhpczMucHJvcHMudmFsdWVLZXldKTtcblx0XHRcdFx0XHR2YXIgbGFiZWxUZXN0ID0gU3RyaW5nKG9wdGlvbltfdGhpczMucHJvcHMubGFiZWxLZXldKTtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmlnbm9yZUFjY2VudHMpIHtcblx0XHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAnbGFiZWwnKSB2YWx1ZVRlc3QgPSAoMCwgX3V0aWxzU3RyaXBEaWFjcml0aWNzMlsnZGVmYXVsdCddKSh2YWx1ZVRlc3QpO1xuXHRcdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScpIGxhYmVsVGVzdCA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKGxhYmVsVGVzdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChfdGhpczMucHJvcHMuaWdub3JlQ2FzZSkge1xuXHRcdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICdsYWJlbCcpIHZhbHVlVGVzdCA9IHZhbHVlVGVzdC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScpIGxhYmVsVGVzdCA9IGxhYmVsVGVzdC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gX3RoaXMzLnByb3BzLm1hdGNoUG9zID09PSAnc3RhcnQnID8gX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJyAmJiB2YWx1ZVRlc3Quc3Vic3RyKDAsIGZpbHRlclZhbHVlLmxlbmd0aCkgPT09IGZpbHRlclZhbHVlIHx8IF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScgJiYgbGFiZWxUZXN0LnN1YnN0cigwLCBmaWx0ZXJWYWx1ZS5sZW5ndGgpID09PSBmaWx0ZXJWYWx1ZSA6IF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICdsYWJlbCcgJiYgdmFsdWVUZXN0LmluZGV4T2YoZmlsdGVyVmFsdWUpID49IDAgfHwgX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJyAmJiBsYWJlbFRlc3QuaW5kZXhPZihmaWx0ZXJWYWx1ZSkgPj0gMDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gb3B0aW9ucztcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRyZW5kZXJNZW51OiBmdW5jdGlvbiByZW5kZXJNZW51KG9wdGlvbnMsIHZhbHVlQXJyYXksIGZvY3VzZWRPcHRpb24pIHtcblx0XHRcdHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0XHRcdGlmIChvcHRpb25zICYmIG9wdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBfcmV0ID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgT3B0aW9uID0gX3RoaXM0LnByb3BzLm9wdGlvbkNvbXBvbmVudDtcblx0XHRcdFx0XHR2YXIgcmVuZGVyTGFiZWwgPSBfdGhpczQucHJvcHMub3B0aW9uUmVuZGVyZXIgfHwgX3RoaXM0LmdldE9wdGlvbkxhYmVsO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0djogb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaXNTZWxlY3RlZCA9IHZhbHVlQXJyYXkgJiYgdmFsdWVBcnJheS5pbmRleE9mKG9wdGlvbikgPiAtMTtcblx0XHRcdFx0XHRcdFx0dmFyIGlzRm9jdXNlZCA9IG9wdGlvbiA9PT0gZm9jdXNlZE9wdGlvbjtcblx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvblJlZiA9IGlzRm9jdXNlZCA/ICdmb2N1c2VkJyA6IG51bGw7XG5cdFx0XHRcdFx0XHRcdHZhciBvcHRpb25DbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoe1xuXHRcdFx0XHRcdFx0XHRcdCdTZWxlY3Qtb3B0aW9uJzogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHQnaXMtc2VsZWN0ZWQnOiBpc1NlbGVjdGVkLFxuXHRcdFx0XHRcdFx0XHRcdCdpcy1mb2N1c2VkJzogaXNGb2N1c2VkLFxuXHRcdFx0XHRcdFx0XHRcdCdpcy1kaXNhYmxlZCc6IG9wdGlvbi5kaXNhYmxlZFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFx0XHRPcHRpb24sXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiBvcHRpb25DbGFzcyxcblx0XHRcdFx0XHRcdFx0XHRcdGlzRGlzYWJsZWQ6IG9wdGlvbi5kaXNhYmxlZCxcblx0XHRcdFx0XHRcdFx0XHRcdGlzRm9jdXNlZDogaXNGb2N1c2VkLFxuXHRcdFx0XHRcdFx0XHRcdFx0a2V5OiAnb3B0aW9uLScgKyBpICsgJy0nICsgb3B0aW9uW190aGlzNC5wcm9wcy52YWx1ZUtleV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRvblNlbGVjdDogX3RoaXM0LnNlbGVjdFZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0b25Gb2N1czogX3RoaXM0LmZvY3VzT3B0aW9uLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uOiBvcHRpb24sXG5cdFx0XHRcdFx0XHRcdFx0XHRpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVmOiBvcHRpb25SZWZcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHJlbmRlckxhYmVsKG9wdGlvbilcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSkoKTtcblx0XG5cdFx0XHRcdGlmICh0eXBlb2YgX3JldCA9PT0gJ29iamVjdCcpIHJldHVybiBfcmV0LnY7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMubm9SZXN1bHRzVGV4dCkge1xuXHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3Qtbm9yZXN1bHRzJyB9LFxuXHRcdFx0XHRcdHRoaXMucHJvcHMubm9SZXN1bHRzVGV4dFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVySGlkZGVuRmllbGQ6IGZ1bmN0aW9uIHJlbmRlckhpZGRlbkZpZWxkKHZhbHVlQXJyYXkpIHtcblx0XHRcdHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0XHRcdGlmICghdGhpcy5wcm9wcy5uYW1lKSByZXR1cm47XG5cdFx0XHR2YXIgdmFsdWUgPSB2YWx1ZUFycmF5Lm1hcChmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRyZXR1cm4gc3RyaW5naWZ5VmFsdWUoaVtfdGhpczUucHJvcHMudmFsdWVLZXldKTtcblx0XHRcdH0pLmpvaW4odGhpcy5wcm9wcy5kZWxpbWl0ZXIpO1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgdHlwZTogJ2hpZGRlbicsIHJlZjogJ3ZhbHVlJywgbmFtZTogdGhpcy5wcm9wcy5uYW1lLCB2YWx1ZTogdmFsdWUsIGRpc2FibGVkOiB0aGlzLnByb3BzLmRpc2FibGVkIH0pO1xuXHRcdH0sXG5cdFxuXHRcdGdldEZvY3VzYWJsZU9wdGlvbjogZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlT3B0aW9uKHNlbGVjdGVkT3B0aW9uKSB7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3Zpc2libGVPcHRpb25zO1xuXHRcdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuXHRcdFx0dmFyIGZvY3VzZWRPcHRpb24gPSB0aGlzLnN0YXRlLmZvY3VzZWRPcHRpb24gfHwgc2VsZWN0ZWRPcHRpb247XG5cdFx0XHRpZiAoZm9jdXNlZE9wdGlvbiAmJiBvcHRpb25zLmluZGV4T2YoZm9jdXNlZE9wdGlvbikgPiAtMSkgcmV0dXJuIGZvY3VzZWRPcHRpb247XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKCFvcHRpb25zW2ldLmRpc2FibGVkKSByZXR1cm4gb3B0aW9uc1tpXTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3Zpc2libGVPcHRpb25zID0gdGhpcy5maWx0ZXJPcHRpb25zKHRoaXMucHJvcHMubXVsdGkgPyB2YWx1ZUFycmF5IDogbnVsbCk7XG5cdFx0XHR2YXIgaXNPcGVuID0gdGhpcy5zdGF0ZS5pc09wZW47XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSAmJiAhb3B0aW9ucy5sZW5ndGggJiYgdmFsdWVBcnJheS5sZW5ndGggJiYgIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSkgaXNPcGVuID0gZmFsc2U7XG5cdFx0XHR2YXIgZm9jdXNlZE9wdGlvbiA9IHRoaXMuX2ZvY3VzZWRPcHRpb24gPSB0aGlzLmdldEZvY3VzYWJsZU9wdGlvbih2YWx1ZUFycmF5WzBdKTtcblx0XHRcdHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKCdTZWxlY3QnLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwge1xuXHRcdFx0XHQnU2VsZWN0LS1tdWx0aSc6IHRoaXMucHJvcHMubXVsdGksXG5cdFx0XHRcdCdpcy1kaXNhYmxlZCc6IHRoaXMucHJvcHMuZGlzYWJsZWQsXG5cdFx0XHRcdCdpcy1mb2N1c2VkJzogdGhpcy5zdGF0ZS5pc0ZvY3VzZWQsXG5cdFx0XHRcdCdpcy1sb2FkaW5nJzogdGhpcy5wcm9wcy5pc0xvYWRpbmcsXG5cdFx0XHRcdCdpcy1vcGVuJzogaXNPcGVuLFxuXHRcdFx0XHQnaXMtcHNldWRvLWZvY3VzZWQnOiB0aGlzLnN0YXRlLmlzUHNldWRvRm9jdXNlZCxcblx0XHRcdFx0J2lzLXNlYXJjaGFibGUnOiB0aGlzLnByb3BzLnNlYXJjaGFibGUsXG5cdFx0XHRcdCdoYXMtdmFsdWUnOiB2YWx1ZUFycmF5Lmxlbmd0aFxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IHJlZjogJ3dyYXBwZXInLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHRoaXMucHJvcHMud3JhcHBlclN0eWxlIH0sXG5cdFx0XHRcdHRoaXMucmVuZGVySGlkZGVuRmllbGQodmFsdWVBcnJheSksXG5cdFx0XHRcdF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdHsgcmVmOiAnY29udHJvbCcsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdTZWxlY3QtY29udHJvbCcsXG5cdFx0XHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSxcblx0XHRcdFx0XHRcdG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuXHRcdFx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duLFxuXHRcdFx0XHRcdFx0b25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZCxcblx0XHRcdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlIH0sXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJWYWx1ZSh2YWx1ZUFycmF5LCBpc09wZW4pLFxuXHRcdFx0XHRcdHRoaXMucmVuZGVySW5wdXQodmFsdWVBcnJheSksXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJMb2FkaW5nKCksXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJDbGVhcigpLFxuXHRcdFx0XHRcdHRoaXMucmVuZGVyQXJyb3coKVxuXHRcdFx0XHQpLFxuXHRcdFx0XHRpc09wZW4gPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHR7IHJlZjogJ21lbnVDb250YWluZXInLCBjbGFzc05hbWU6ICdTZWxlY3QtbWVudS1vdXRlcicsIHN0eWxlOiB0aGlzLnByb3BzLm1lbnVDb250YWluZXJTdHlsZSB9LFxuXHRcdFx0XHRcdF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0XHR7IHJlZjogJ21lbnUnLCBjbGFzc05hbWU6ICdTZWxlY3QtbWVudScsXG5cdFx0XHRcdFx0XHRcdHN0eWxlOiB0aGlzLnByb3BzLm1lbnVTdHlsZSxcblx0XHRcdFx0XHRcdFx0b25TY3JvbGw6IHRoaXMuaGFuZGxlTWVudVNjcm9sbCxcblx0XHRcdFx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duT25NZW51IH0sXG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlck1lbnUob3B0aW9ucywgIXRoaXMucHJvcHMubXVsdGkgPyB2YWx1ZUFycmF5IDogbnVsbCwgZm9jdXNlZE9wdGlvbilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkgOiBudWxsXG5cdFx0XHQpO1xuXHRcdH1cblx0XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gU2VsZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgbWFwID0gW3sgJ2Jhc2UnOiAnQScsICdsZXR0ZXJzJzogL1tcXHUwMDQxXFx1MjRCNlxcdUZGMjFcXHUwMEMwXFx1MDBDMVxcdTAwQzJcXHUxRUE2XFx1MUVBNFxcdTFFQUFcXHUxRUE4XFx1MDBDM1xcdTAxMDBcXHUwMTAyXFx1MUVCMFxcdTFFQUVcXHUxRUI0XFx1MUVCMlxcdTAyMjZcXHUwMUUwXFx1MDBDNFxcdTAxREVcXHUxRUEyXFx1MDBDNVxcdTAxRkFcXHUwMUNEXFx1MDIwMFxcdTAyMDJcXHUxRUEwXFx1MUVBQ1xcdTFFQjZcXHUxRTAwXFx1MDEwNFxcdTAyM0FcXHUyQzZGXS9nIH0sIHsgJ2Jhc2UnOiAnQUEnLCAnbGV0dGVycyc6IC9bXFx1QTczMl0vZyB9LCB7ICdiYXNlJzogJ0FFJywgJ2xldHRlcnMnOiAvW1xcdTAwQzZcXHUwMUZDXFx1MDFFMl0vZyB9LCB7ICdiYXNlJzogJ0FPJywgJ2xldHRlcnMnOiAvW1xcdUE3MzRdL2cgfSwgeyAnYmFzZSc6ICdBVScsICdsZXR0ZXJzJzogL1tcXHVBNzM2XS9nIH0sIHsgJ2Jhc2UnOiAnQVYnLCAnbGV0dGVycyc6IC9bXFx1QTczOFxcdUE3M0FdL2cgfSwgeyAnYmFzZSc6ICdBWScsICdsZXR0ZXJzJzogL1tcXHVBNzNDXS9nIH0sIHsgJ2Jhc2UnOiAnQicsICdsZXR0ZXJzJzogL1tcXHUwMDQyXFx1MjRCN1xcdUZGMjJcXHUxRTAyXFx1MUUwNFxcdTFFMDZcXHUwMjQzXFx1MDE4MlxcdTAxODFdL2cgfSwgeyAnYmFzZSc6ICdDJywgJ2xldHRlcnMnOiAvW1xcdTAwNDNcXHUyNEI4XFx1RkYyM1xcdTAxMDZcXHUwMTA4XFx1MDEwQVxcdTAxMENcXHUwMEM3XFx1MUUwOFxcdTAxODdcXHUwMjNCXFx1QTczRV0vZyB9LCB7ICdiYXNlJzogJ0QnLCAnbGV0dGVycyc6IC9bXFx1MDA0NFxcdTI0QjlcXHVGRjI0XFx1MUUwQVxcdTAxMEVcXHUxRTBDXFx1MUUxMFxcdTFFMTJcXHUxRTBFXFx1MDExMFxcdTAxOEJcXHUwMThBXFx1MDE4OVxcdUE3NzldL2cgfSwgeyAnYmFzZSc6ICdEWicsICdsZXR0ZXJzJzogL1tcXHUwMUYxXFx1MDFDNF0vZyB9LCB7ICdiYXNlJzogJ0R6JywgJ2xldHRlcnMnOiAvW1xcdTAxRjJcXHUwMUM1XS9nIH0sIHsgJ2Jhc2UnOiAnRScsICdsZXR0ZXJzJzogL1tcXHUwMDQ1XFx1MjRCQVxcdUZGMjVcXHUwMEM4XFx1MDBDOVxcdTAwQ0FcXHUxRUMwXFx1MUVCRVxcdTFFQzRcXHUxRUMyXFx1MUVCQ1xcdTAxMTJcXHUxRTE0XFx1MUUxNlxcdTAxMTRcXHUwMTE2XFx1MDBDQlxcdTFFQkFcXHUwMTFBXFx1MDIwNFxcdTAyMDZcXHUxRUI4XFx1MUVDNlxcdTAyMjhcXHUxRTFDXFx1MDExOFxcdTFFMThcXHUxRTFBXFx1MDE5MFxcdTAxOEVdL2cgfSwgeyAnYmFzZSc6ICdGJywgJ2xldHRlcnMnOiAvW1xcdTAwNDZcXHUyNEJCXFx1RkYyNlxcdTFFMUVcXHUwMTkxXFx1QTc3Ql0vZyB9LCB7ICdiYXNlJzogJ0cnLCAnbGV0dGVycyc6IC9bXFx1MDA0N1xcdTI0QkNcXHVGRjI3XFx1MDFGNFxcdTAxMUNcXHUxRTIwXFx1MDExRVxcdTAxMjBcXHUwMUU2XFx1MDEyMlxcdTAxRTRcXHUwMTkzXFx1QTdBMFxcdUE3N0RcXHVBNzdFXS9nIH0sIHsgJ2Jhc2UnOiAnSCcsICdsZXR0ZXJzJzogL1tcXHUwMDQ4XFx1MjRCRFxcdUZGMjhcXHUwMTI0XFx1MUUyMlxcdTFFMjZcXHUwMjFFXFx1MUUyNFxcdTFFMjhcXHUxRTJBXFx1MDEyNlxcdTJDNjdcXHUyQzc1XFx1QTc4RF0vZyB9LCB7ICdiYXNlJzogJ0knLCAnbGV0dGVycyc6IC9bXFx1MDA0OVxcdTI0QkVcXHVGRjI5XFx1MDBDQ1xcdTAwQ0RcXHUwMENFXFx1MDEyOFxcdTAxMkFcXHUwMTJDXFx1MDEzMFxcdTAwQ0ZcXHUxRTJFXFx1MUVDOFxcdTAxQ0ZcXHUwMjA4XFx1MDIwQVxcdTFFQ0FcXHUwMTJFXFx1MUUyQ1xcdTAxOTddL2cgfSwgeyAnYmFzZSc6ICdKJywgJ2xldHRlcnMnOiAvW1xcdTAwNEFcXHUyNEJGXFx1RkYyQVxcdTAxMzRcXHUwMjQ4XS9nIH0sIHsgJ2Jhc2UnOiAnSycsICdsZXR0ZXJzJzogL1tcXHUwMDRCXFx1MjRDMFxcdUZGMkJcXHUxRTMwXFx1MDFFOFxcdTFFMzJcXHUwMTM2XFx1MUUzNFxcdTAxOThcXHUyQzY5XFx1QTc0MFxcdUE3NDJcXHVBNzQ0XFx1QTdBMl0vZyB9LCB7ICdiYXNlJzogJ0wnLCAnbGV0dGVycyc6IC9bXFx1MDA0Q1xcdTI0QzFcXHVGRjJDXFx1MDEzRlxcdTAxMzlcXHUwMTNEXFx1MUUzNlxcdTFFMzhcXHUwMTNCXFx1MUUzQ1xcdTFFM0FcXHUwMTQxXFx1MDIzRFxcdTJDNjJcXHUyQzYwXFx1QTc0OFxcdUE3NDZcXHVBNzgwXS9nIH0sIHsgJ2Jhc2UnOiAnTEonLCAnbGV0dGVycyc6IC9bXFx1MDFDN10vZyB9LCB7ICdiYXNlJzogJ0xqJywgJ2xldHRlcnMnOiAvW1xcdTAxQzhdL2cgfSwgeyAnYmFzZSc6ICdNJywgJ2xldHRlcnMnOiAvW1xcdTAwNERcXHUyNEMyXFx1RkYyRFxcdTFFM0VcXHUxRTQwXFx1MUU0MlxcdTJDNkVcXHUwMTlDXS9nIH0sIHsgJ2Jhc2UnOiAnTicsICdsZXR0ZXJzJzogL1tcXHUwMDRFXFx1MjRDM1xcdUZGMkVcXHUwMUY4XFx1MDE0M1xcdTAwRDFcXHUxRTQ0XFx1MDE0N1xcdTFFNDZcXHUwMTQ1XFx1MUU0QVxcdTFFNDhcXHUwMjIwXFx1MDE5RFxcdUE3OTBcXHVBN0E0XS9nIH0sIHsgJ2Jhc2UnOiAnTkonLCAnbGV0dGVycyc6IC9bXFx1MDFDQV0vZyB9LCB7ICdiYXNlJzogJ05qJywgJ2xldHRlcnMnOiAvW1xcdTAxQ0JdL2cgfSwgeyAnYmFzZSc6ICdPJywgJ2xldHRlcnMnOiAvW1xcdTAwNEZcXHUyNEM0XFx1RkYyRlxcdTAwRDJcXHUwMEQzXFx1MDBENFxcdTFFRDJcXHUxRUQwXFx1MUVENlxcdTFFRDRcXHUwMEQ1XFx1MUU0Q1xcdTAyMkNcXHUxRTRFXFx1MDE0Q1xcdTFFNTBcXHUxRTUyXFx1MDE0RVxcdTAyMkVcXHUwMjMwXFx1MDBENlxcdTAyMkFcXHUxRUNFXFx1MDE1MFxcdTAxRDFcXHUwMjBDXFx1MDIwRVxcdTAxQTBcXHUxRURDXFx1MUVEQVxcdTFFRTBcXHUxRURFXFx1MUVFMlxcdTFFQ0NcXHUxRUQ4XFx1MDFFQVxcdTAxRUNcXHUwMEQ4XFx1MDFGRVxcdTAxODZcXHUwMTlGXFx1QTc0QVxcdUE3NENdL2cgfSwgeyAnYmFzZSc6ICdPSScsICdsZXR0ZXJzJzogL1tcXHUwMUEyXS9nIH0sIHsgJ2Jhc2UnOiAnT08nLCAnbGV0dGVycyc6IC9bXFx1QTc0RV0vZyB9LCB7ICdiYXNlJzogJ09VJywgJ2xldHRlcnMnOiAvW1xcdTAyMjJdL2cgfSwgeyAnYmFzZSc6ICdQJywgJ2xldHRlcnMnOiAvW1xcdTAwNTBcXHUyNEM1XFx1RkYzMFxcdTFFNTRcXHUxRTU2XFx1MDFBNFxcdTJDNjNcXHVBNzUwXFx1QTc1MlxcdUE3NTRdL2cgfSwgeyAnYmFzZSc6ICdRJywgJ2xldHRlcnMnOiAvW1xcdTAwNTFcXHUyNEM2XFx1RkYzMVxcdUE3NTZcXHVBNzU4XFx1MDI0QV0vZyB9LCB7ICdiYXNlJzogJ1InLCAnbGV0dGVycyc6IC9bXFx1MDA1MlxcdTI0QzdcXHVGRjMyXFx1MDE1NFxcdTFFNThcXHUwMTU4XFx1MDIxMFxcdTAyMTJcXHUxRTVBXFx1MUU1Q1xcdTAxNTZcXHUxRTVFXFx1MDI0Q1xcdTJDNjRcXHVBNzVBXFx1QTdBNlxcdUE3ODJdL2cgfSwgeyAnYmFzZSc6ICdTJywgJ2xldHRlcnMnOiAvW1xcdTAwNTNcXHUyNEM4XFx1RkYzM1xcdTFFOUVcXHUwMTVBXFx1MUU2NFxcdTAxNUNcXHUxRTYwXFx1MDE2MFxcdTFFNjZcXHUxRTYyXFx1MUU2OFxcdTAyMThcXHUwMTVFXFx1MkM3RVxcdUE3QThcXHVBNzg0XS9nIH0sIHsgJ2Jhc2UnOiAnVCcsICdsZXR0ZXJzJzogL1tcXHUwMDU0XFx1MjRDOVxcdUZGMzRcXHUxRTZBXFx1MDE2NFxcdTFFNkNcXHUwMjFBXFx1MDE2MlxcdTFFNzBcXHUxRTZFXFx1MDE2NlxcdTAxQUNcXHUwMUFFXFx1MDIzRVxcdUE3ODZdL2cgfSwgeyAnYmFzZSc6ICdUWicsICdsZXR0ZXJzJzogL1tcXHVBNzI4XS9nIH0sIHsgJ2Jhc2UnOiAnVScsICdsZXR0ZXJzJzogL1tcXHUwMDU1XFx1MjRDQVxcdUZGMzVcXHUwMEQ5XFx1MDBEQVxcdTAwREJcXHUwMTY4XFx1MUU3OFxcdTAxNkFcXHUxRTdBXFx1MDE2Q1xcdTAwRENcXHUwMURCXFx1MDFEN1xcdTAxRDVcXHUwMUQ5XFx1MUVFNlxcdTAxNkVcXHUwMTcwXFx1MDFEM1xcdTAyMTRcXHUwMjE2XFx1MDFBRlxcdTFFRUFcXHUxRUU4XFx1MUVFRVxcdTFFRUNcXHUxRUYwXFx1MUVFNFxcdTFFNzJcXHUwMTcyXFx1MUU3NlxcdTFFNzRcXHUwMjQ0XS9nIH0sIHsgJ2Jhc2UnOiAnVicsICdsZXR0ZXJzJzogL1tcXHUwMDU2XFx1MjRDQlxcdUZGMzZcXHUxRTdDXFx1MUU3RVxcdTAxQjJcXHVBNzVFXFx1MDI0NV0vZyB9LCB7ICdiYXNlJzogJ1ZZJywgJ2xldHRlcnMnOiAvW1xcdUE3NjBdL2cgfSwgeyAnYmFzZSc6ICdXJywgJ2xldHRlcnMnOiAvW1xcdTAwNTdcXHUyNENDXFx1RkYzN1xcdTFFODBcXHUxRTgyXFx1MDE3NFxcdTFFODZcXHUxRTg0XFx1MUU4OFxcdTJDNzJdL2cgfSwgeyAnYmFzZSc6ICdYJywgJ2xldHRlcnMnOiAvW1xcdTAwNThcXHUyNENEXFx1RkYzOFxcdTFFOEFcXHUxRThDXS9nIH0sIHsgJ2Jhc2UnOiAnWScsICdsZXR0ZXJzJzogL1tcXHUwMDU5XFx1MjRDRVxcdUZGMzlcXHUxRUYyXFx1MDBERFxcdTAxNzZcXHUxRUY4XFx1MDIzMlxcdTFFOEVcXHUwMTc4XFx1MUVGNlxcdTFFRjRcXHUwMUIzXFx1MDI0RVxcdTFFRkVdL2cgfSwgeyAnYmFzZSc6ICdaJywgJ2xldHRlcnMnOiAvW1xcdTAwNUFcXHUyNENGXFx1RkYzQVxcdTAxNzlcXHUxRTkwXFx1MDE3QlxcdTAxN0RcXHUxRTkyXFx1MUU5NFxcdTAxQjVcXHUwMjI0XFx1MkM3RlxcdTJDNkJcXHVBNzYyXS9nIH0sIHsgJ2Jhc2UnOiAnYScsICdsZXR0ZXJzJzogL1tcXHUwMDYxXFx1MjREMFxcdUZGNDFcXHUxRTlBXFx1MDBFMFxcdTAwRTFcXHUwMEUyXFx1MUVBN1xcdTFFQTVcXHUxRUFCXFx1MUVBOVxcdTAwRTNcXHUwMTAxXFx1MDEwM1xcdTFFQjFcXHUxRUFGXFx1MUVCNVxcdTFFQjNcXHUwMjI3XFx1MDFFMVxcdTAwRTRcXHUwMURGXFx1MUVBM1xcdTAwRTVcXHUwMUZCXFx1MDFDRVxcdTAyMDFcXHUwMjAzXFx1MUVBMVxcdTFFQURcXHUxRUI3XFx1MUUwMVxcdTAxMDVcXHUyQzY1XFx1MDI1MF0vZyB9LCB7ICdiYXNlJzogJ2FhJywgJ2xldHRlcnMnOiAvW1xcdUE3MzNdL2cgfSwgeyAnYmFzZSc6ICdhZScsICdsZXR0ZXJzJzogL1tcXHUwMEU2XFx1MDFGRFxcdTAxRTNdL2cgfSwgeyAnYmFzZSc6ICdhbycsICdsZXR0ZXJzJzogL1tcXHVBNzM1XS9nIH0sIHsgJ2Jhc2UnOiAnYXUnLCAnbGV0dGVycyc6IC9bXFx1QTczN10vZyB9LCB7ICdiYXNlJzogJ2F2JywgJ2xldHRlcnMnOiAvW1xcdUE3MzlcXHVBNzNCXS9nIH0sIHsgJ2Jhc2UnOiAnYXknLCAnbGV0dGVycyc6IC9bXFx1QTczRF0vZyB9LCB7ICdiYXNlJzogJ2InLCAnbGV0dGVycyc6IC9bXFx1MDA2MlxcdTI0RDFcXHVGRjQyXFx1MUUwM1xcdTFFMDVcXHUxRTA3XFx1MDE4MFxcdTAxODNcXHUwMjUzXS9nIH0sIHsgJ2Jhc2UnOiAnYycsICdsZXR0ZXJzJzogL1tcXHUwMDYzXFx1MjREMlxcdUZGNDNcXHUwMTA3XFx1MDEwOVxcdTAxMEJcXHUwMTBEXFx1MDBFN1xcdTFFMDlcXHUwMTg4XFx1MDIzQ1xcdUE3M0ZcXHUyMTg0XS9nIH0sIHsgJ2Jhc2UnOiAnZCcsICdsZXR0ZXJzJzogL1tcXHUwMDY0XFx1MjREM1xcdUZGNDRcXHUxRTBCXFx1MDEwRlxcdTFFMERcXHUxRTExXFx1MUUxM1xcdTFFMEZcXHUwMTExXFx1MDE4Q1xcdTAyNTZcXHUwMjU3XFx1QTc3QV0vZyB9LCB7ICdiYXNlJzogJ2R6JywgJ2xldHRlcnMnOiAvW1xcdTAxRjNcXHUwMUM2XS9nIH0sIHsgJ2Jhc2UnOiAnZScsICdsZXR0ZXJzJzogL1tcXHUwMDY1XFx1MjRENFxcdUZGNDVcXHUwMEU4XFx1MDBFOVxcdTAwRUFcXHUxRUMxXFx1MUVCRlxcdTFFQzVcXHUxRUMzXFx1MUVCRFxcdTAxMTNcXHUxRTE1XFx1MUUxN1xcdTAxMTVcXHUwMTE3XFx1MDBFQlxcdTFFQkJcXHUwMTFCXFx1MDIwNVxcdTAyMDdcXHUxRUI5XFx1MUVDN1xcdTAyMjlcXHUxRTFEXFx1MDExOVxcdTFFMTlcXHUxRTFCXFx1MDI0N1xcdTAyNUJcXHUwMUREXS9nIH0sIHsgJ2Jhc2UnOiAnZicsICdsZXR0ZXJzJzogL1tcXHUwMDY2XFx1MjRENVxcdUZGNDZcXHUxRTFGXFx1MDE5MlxcdUE3N0NdL2cgfSwgeyAnYmFzZSc6ICdnJywgJ2xldHRlcnMnOiAvW1xcdTAwNjdcXHUyNEQ2XFx1RkY0N1xcdTAxRjVcXHUwMTFEXFx1MUUyMVxcdTAxMUZcXHUwMTIxXFx1MDFFN1xcdTAxMjNcXHUwMUU1XFx1MDI2MFxcdUE3QTFcXHUxRDc5XFx1QTc3Rl0vZyB9LCB7ICdiYXNlJzogJ2gnLCAnbGV0dGVycyc6IC9bXFx1MDA2OFxcdTI0RDdcXHVGRjQ4XFx1MDEyNVxcdTFFMjNcXHUxRTI3XFx1MDIxRlxcdTFFMjVcXHUxRTI5XFx1MUUyQlxcdTFFOTZcXHUwMTI3XFx1MkM2OFxcdTJDNzZcXHUwMjY1XS9nIH0sIHsgJ2Jhc2UnOiAnaHYnLCAnbGV0dGVycyc6IC9bXFx1MDE5NV0vZyB9LCB7ICdiYXNlJzogJ2knLCAnbGV0dGVycyc6IC9bXFx1MDA2OVxcdTI0RDhcXHVGRjQ5XFx1MDBFQ1xcdTAwRURcXHUwMEVFXFx1MDEyOVxcdTAxMkJcXHUwMTJEXFx1MDBFRlxcdTFFMkZcXHUxRUM5XFx1MDFEMFxcdTAyMDlcXHUwMjBCXFx1MUVDQlxcdTAxMkZcXHUxRTJEXFx1MDI2OFxcdTAxMzFdL2cgfSwgeyAnYmFzZSc6ICdqJywgJ2xldHRlcnMnOiAvW1xcdTAwNkFcXHUyNEQ5XFx1RkY0QVxcdTAxMzVcXHUwMUYwXFx1MDI0OV0vZyB9LCB7ICdiYXNlJzogJ2snLCAnbGV0dGVycyc6IC9bXFx1MDA2QlxcdTI0REFcXHVGRjRCXFx1MUUzMVxcdTAxRTlcXHUxRTMzXFx1MDEzN1xcdTFFMzVcXHUwMTk5XFx1MkM2QVxcdUE3NDFcXHVBNzQzXFx1QTc0NVxcdUE3QTNdL2cgfSwgeyAnYmFzZSc6ICdsJywgJ2xldHRlcnMnOiAvW1xcdTAwNkNcXHUyNERCXFx1RkY0Q1xcdTAxNDBcXHUwMTNBXFx1MDEzRVxcdTFFMzdcXHUxRTM5XFx1MDEzQ1xcdTFFM0RcXHUxRTNCXFx1MDE3RlxcdTAxNDJcXHUwMTlBXFx1MDI2QlxcdTJDNjFcXHVBNzQ5XFx1QTc4MVxcdUE3NDddL2cgfSwgeyAnYmFzZSc6ICdsaicsICdsZXR0ZXJzJzogL1tcXHUwMUM5XS9nIH0sIHsgJ2Jhc2UnOiAnbScsICdsZXR0ZXJzJzogL1tcXHUwMDZEXFx1MjREQ1xcdUZGNERcXHUxRTNGXFx1MUU0MVxcdTFFNDNcXHUwMjcxXFx1MDI2Rl0vZyB9LCB7ICdiYXNlJzogJ24nLCAnbGV0dGVycyc6IC9bXFx1MDA2RVxcdTI0RERcXHVGRjRFXFx1MDFGOVxcdTAxNDRcXHUwMEYxXFx1MUU0NVxcdTAxNDhcXHUxRTQ3XFx1MDE0NlxcdTFFNEJcXHUxRTQ5XFx1MDE5RVxcdTAyNzJcXHUwMTQ5XFx1QTc5MVxcdUE3QTVdL2cgfSwgeyAnYmFzZSc6ICduaicsICdsZXR0ZXJzJzogL1tcXHUwMUNDXS9nIH0sIHsgJ2Jhc2UnOiAnbycsICdsZXR0ZXJzJzogL1tcXHUwMDZGXFx1MjRERVxcdUZGNEZcXHUwMEYyXFx1MDBGM1xcdTAwRjRcXHUxRUQzXFx1MUVEMVxcdTFFRDdcXHUxRUQ1XFx1MDBGNVxcdTFFNERcXHUwMjJEXFx1MUU0RlxcdTAxNERcXHUxRTUxXFx1MUU1M1xcdTAxNEZcXHUwMjJGXFx1MDIzMVxcdTAwRjZcXHUwMjJCXFx1MUVDRlxcdTAxNTFcXHUwMUQyXFx1MDIwRFxcdTAyMEZcXHUwMUExXFx1MUVERFxcdTFFREJcXHUxRUUxXFx1MUVERlxcdTFFRTNcXHUxRUNEXFx1MUVEOVxcdTAxRUJcXHUwMUVEXFx1MDBGOFxcdTAxRkZcXHUwMjU0XFx1QTc0QlxcdUE3NERcXHUwMjc1XS9nIH0sIHsgJ2Jhc2UnOiAnb2knLCAnbGV0dGVycyc6IC9bXFx1MDFBM10vZyB9LCB7ICdiYXNlJzogJ291JywgJ2xldHRlcnMnOiAvW1xcdTAyMjNdL2cgfSwgeyAnYmFzZSc6ICdvbycsICdsZXR0ZXJzJzogL1tcXHVBNzRGXS9nIH0sIHsgJ2Jhc2UnOiAncCcsICdsZXR0ZXJzJzogL1tcXHUwMDcwXFx1MjRERlxcdUZGNTBcXHUxRTU1XFx1MUU1N1xcdTAxQTVcXHUxRDdEXFx1QTc1MVxcdUE3NTNcXHVBNzU1XS9nIH0sIHsgJ2Jhc2UnOiAncScsICdsZXR0ZXJzJzogL1tcXHUwMDcxXFx1MjRFMFxcdUZGNTFcXHUwMjRCXFx1QTc1N1xcdUE3NTldL2cgfSwgeyAnYmFzZSc6ICdyJywgJ2xldHRlcnMnOiAvW1xcdTAwNzJcXHUyNEUxXFx1RkY1MlxcdTAxNTVcXHUxRTU5XFx1MDE1OVxcdTAyMTFcXHUwMjEzXFx1MUU1QlxcdTFFNURcXHUwMTU3XFx1MUU1RlxcdTAyNERcXHUwMjdEXFx1QTc1QlxcdUE3QTdcXHVBNzgzXS9nIH0sIHsgJ2Jhc2UnOiAncycsICdsZXR0ZXJzJzogL1tcXHUwMDczXFx1MjRFMlxcdUZGNTNcXHUwMERGXFx1MDE1QlxcdTFFNjVcXHUwMTVEXFx1MUU2MVxcdTAxNjFcXHUxRTY3XFx1MUU2M1xcdTFFNjlcXHUwMjE5XFx1MDE1RlxcdTAyM0ZcXHVBN0E5XFx1QTc4NVxcdTFFOUJdL2cgfSwgeyAnYmFzZSc6ICd0JywgJ2xldHRlcnMnOiAvW1xcdTAwNzRcXHUyNEUzXFx1RkY1NFxcdTFFNkJcXHUxRTk3XFx1MDE2NVxcdTFFNkRcXHUwMjFCXFx1MDE2M1xcdTFFNzFcXHUxRTZGXFx1MDE2N1xcdTAxQURcXHUwMjg4XFx1MkM2NlxcdUE3ODddL2cgfSwgeyAnYmFzZSc6ICd0eicsICdsZXR0ZXJzJzogL1tcXHVBNzI5XS9nIH0sIHsgJ2Jhc2UnOiAndScsICdsZXR0ZXJzJzogL1tcXHUwMDc1XFx1MjRFNFxcdUZGNTVcXHUwMEY5XFx1MDBGQVxcdTAwRkJcXHUwMTY5XFx1MUU3OVxcdTAxNkJcXHUxRTdCXFx1MDE2RFxcdTAwRkNcXHUwMURDXFx1MDFEOFxcdTAxRDZcXHUwMURBXFx1MUVFN1xcdTAxNkZcXHUwMTcxXFx1MDFENFxcdTAyMTVcXHUwMjE3XFx1MDFCMFxcdTFFRUJcXHUxRUU5XFx1MUVFRlxcdTFFRURcXHUxRUYxXFx1MUVFNVxcdTFFNzNcXHUwMTczXFx1MUU3N1xcdTFFNzVcXHUwMjg5XS9nIH0sIHsgJ2Jhc2UnOiAndicsICdsZXR0ZXJzJzogL1tcXHUwMDc2XFx1MjRFNVxcdUZGNTZcXHUxRTdEXFx1MUU3RlxcdTAyOEJcXHVBNzVGXFx1MDI4Q10vZyB9LCB7ICdiYXNlJzogJ3Z5JywgJ2xldHRlcnMnOiAvW1xcdUE3NjFdL2cgfSwgeyAnYmFzZSc6ICd3JywgJ2xldHRlcnMnOiAvW1xcdTAwNzdcXHUyNEU2XFx1RkY1N1xcdTFFODFcXHUxRTgzXFx1MDE3NVxcdTFFODdcXHUxRTg1XFx1MUU5OFxcdTFFODlcXHUyQzczXS9nIH0sIHsgJ2Jhc2UnOiAneCcsICdsZXR0ZXJzJzogL1tcXHUwMDc4XFx1MjRFN1xcdUZGNThcXHUxRThCXFx1MUU4RF0vZyB9LCB7ICdiYXNlJzogJ3knLCAnbGV0dGVycyc6IC9bXFx1MDA3OVxcdTI0RThcXHVGRjU5XFx1MUVGM1xcdTAwRkRcXHUwMTc3XFx1MUVGOVxcdTAyMzNcXHUxRThGXFx1MDBGRlxcdTFFRjdcXHUxRTk5XFx1MUVGNVxcdTAxQjRcXHUwMjRGXFx1MUVGRl0vZyB9LCB7ICdiYXNlJzogJ3onLCAnbGV0dGVycyc6IC9bXFx1MDA3QVxcdTI0RTlcXHVGRjVBXFx1MDE3QVxcdTFFOTFcXHUwMTdDXFx1MDE3RVxcdTFFOTNcXHUxRTk1XFx1MDFCNlxcdTAyMjVcXHUwMjQwXFx1MkM2Q1xcdUE3NjNdL2cgfV07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmlwRGlhY3JpdGljcyhzdHIpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5sZW5ndGg7IGkrKykge1xuXHRcdFx0c3RyID0gc3RyLnJlcGxhY2UobWFwW2ldLmxldHRlcnMsIG1hcFtpXS5iYXNlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHN0cjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmpRdWVyeSA9IGV4cG9ydHMuYW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RBZGRvbnNVcGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfcmVhY3RBZGRvbnNVcGRhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNVcGRhdGUpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfYW5pbWF0aW9uTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfYW5pbWF0aW9uTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5pbWF0aW9uTWl4aW4pO1xuXHRcblx0dmFyIF9qUXVlcnlNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9qUXVlcnlNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qUXVlcnlNaXhpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgVG9hc3RNZXNzYWdlU3BlYyA9IHtcblx0ICBkaXNwbGF5TmFtZTogXCJUb2FzdE1lc3NhZ2VcIixcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICB2YXIgaWNvbkNsYXNzTmFtZXMgPSB7XG5cdCAgICAgIGVycm9yOiBcInRvYXN0LWVycm9yXCIsXG5cdCAgICAgIGluZm86IFwidG9hc3QtaW5mb1wiLFxuXHQgICAgICBzdWNjZXNzOiBcInRvYXN0LXN1Y2Nlc3NcIixcblx0ICAgICAgd2FybmluZzogXCJ0b2FzdC13YXJuaW5nXCJcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgY2xhc3NOYW1lOiBcInRvYXN0XCIsXG5cdCAgICAgIGljb25DbGFzc05hbWVzOiBpY29uQ2xhc3NOYW1lcyxcblx0ICAgICAgdGl0bGVDbGFzc05hbWU6IFwidG9hc3QtdGl0bGVcIixcblx0ICAgICAgbWVzc2FnZUNsYXNzTmFtZTogXCJ0b2FzdC1tZXNzYWdlXCIsXG5cdCAgICAgIHRhcFRvRGlzbWlzczogdHJ1ZSxcblx0ICAgICAgY2xvc2VCdXR0b246IGZhbHNlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgaGFuZGxlT25DbGljazogZnVuY3Rpb24gaGFuZGxlT25DbGljayhldmVudCkge1xuXHQgICAgdGhpcy5wcm9wcy5oYW5kbGVPbkNsaWNrKGV2ZW50KTtcblx0ICAgIGlmICh0aGlzLnByb3BzLnRhcFRvRGlzbWlzcykge1xuXHQgICAgICB0aGlzLmhpZGVUb2FzdCh0cnVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIF9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlX2Nsb3NlX2J1dHRvbl9jbGljayhldmVudCkge1xuXHQgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICB0aGlzLmhpZGVUb2FzdCh0cnVlKTtcblx0ICB9LFxuXHQgIF9oYW5kbGVfcmVtb3ZlOiBmdW5jdGlvbiBfaGFuZGxlX3JlbW92ZSgpIHtcblx0ICAgIHRoaXMucHJvcHMuaGFuZGxlUmVtb3ZlKHRoaXMucHJvcHMudG9hc3RJZCk7XG5cdCAgfSxcblx0ICBfcmVuZGVyX2Nsb3NlX2J1dHRvbjogZnVuY3Rpb24gX3JlbmRlcl9jbG9zZV9idXR0b24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5jbG9zZUJ1dHRvbiA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcblx0ICAgICAgY2xhc3NOYW1lOiBcInRvYXN0LWNsb3NlLWJ1dHRvblwiLCByb2xlOiBcImJ1dHRvblwiLFxuXHQgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrLFxuXHQgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IFwiJnRpbWVzO1wiIH1cblx0ICAgIH0pIDogZmFsc2U7XG5cdCAgfSxcblx0ICBfcmVuZGVyX3RpdGxlX2VsZW1lbnQ6IGZ1bmN0aW9uIF9yZW5kZXJfdGl0bGVfZWxlbWVudCgpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLnRpdGxlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIFwiZGl2XCIsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnRpdGxlQ2xhc3NOYW1lIH0sXG5cdCAgICAgIHRoaXMucHJvcHMudGl0bGVcblx0ICAgICkgOiBmYWxzZTtcblx0ICB9LFxuXHQgIF9yZW5kZXJfbWVzc2FnZV9lbGVtZW50OiBmdW5jdGlvbiBfcmVuZGVyX21lc3NhZ2VfZWxlbWVudCgpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLm1lc3NhZ2UgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgXCJkaXZcIixcblx0ICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMubWVzc2FnZUNsYXNzTmFtZSB9LFxuXHQgICAgICB0aGlzLnByb3BzLm1lc3NhZ2Vcblx0ICAgICkgOiBmYWxzZTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIGljb25DbGFzc05hbWUgPSB0aGlzLnByb3BzLmljb25DbGFzc05hbWUgfHwgdGhpcy5wcm9wcy5pY29uQ2xhc3NOYW1lc1t0aGlzLnByb3BzLnR5cGVdO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgXCJkaXZcIixcblx0ICAgICAge1xuXHQgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KSh0aGlzLnByb3BzLmNsYXNzTmFtZSwgaWNvbkNsYXNzTmFtZSksXG5cdCAgICAgICAgc3R5bGU6IHRoaXMucHJvcHMuc3R5bGUsXG5cdCAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVPbkNsaWNrLFxuXHQgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuXHQgICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlXG5cdCAgICAgIH0sXG5cdCAgICAgIHRoaXMuX3JlbmRlcl9jbG9zZV9idXR0b24oKSxcblx0ICAgICAgdGhpcy5fcmVuZGVyX3RpdGxlX2VsZW1lbnQoKSxcblx0ICAgICAgdGhpcy5fcmVuZGVyX21lc3NhZ2VfZWxlbWVudCgpXG5cdCAgICApO1xuXHQgIH1cblx0fTtcblx0XG5cdHZhciBhbmltYXRpb24gPSBleHBvcnRzLmFuaW1hdGlvbiA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcygoMCwgX3JlYWN0QWRkb25zVXBkYXRlMi5kZWZhdWx0KShUb2FzdE1lc3NhZ2VTcGVjLCB7XG5cdCAgZGlzcGxheU5hbWU6IHsgJHNldDogXCJUb2FzdE1lc3NhZ2UuYW5pbWF0aW9uXCIgfSxcblx0ICBtaXhpbnM6IHsgJHNldDogW19hbmltYXRpb25NaXhpbjIuZGVmYXVsdF0gfVxuXHR9KSk7XG5cdFxuXHR2YXIgalF1ZXJ5ID0gZXhwb3J0cy5qUXVlcnkgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoVG9hc3RNZXNzYWdlU3BlYywge1xuXHQgIGRpc3BsYXlOYW1lOiB7ICRzZXQ6IFwiVG9hc3RNZXNzYWdlLmpRdWVyeVwiIH0sXG5cdCAgbWl4aW5zOiB7ICRzZXQ6IFtfalF1ZXJ5TWl4aW4yLmRlZmF1bHRdIH1cblx0fSkpO1xuXHRcblx0Lypcblx0ICogYXNzaWduIGRlZmF1bHQgbm9vcCBmdW5jdGlvbnNcblx0ICovXG5cdFRvYXN0TWVzc2FnZVNwZWMuaGFuZGxlTW91c2VFbnRlciA9IG5vb3A7XG5cdFRvYXN0TWVzc2FnZVNwZWMuaGFuZGxlTW91c2VMZWF2ZSA9IG5vb3A7XG5cdFRvYXN0TWVzc2FnZVNwZWMuaGlkZVRvYXN0ID0gbm9vcDtcblx0XG5cdHZhciBUb2FzdE1lc3NhZ2UgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoVG9hc3RNZXNzYWdlU3BlYyk7XG5cdFxuXHRUb2FzdE1lc3NhZ2UuYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuXHRUb2FzdE1lc3NhZ2UualF1ZXJ5ID0galF1ZXJ5O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVG9hc3RNZXNzYWdlO1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG5cdC8vXG5cdC8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG5cdC8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblx0Ly8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG5cdC8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcblx0Ly8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuXHQvLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcblx0Ly8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cdC8vXG5cdC8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG5cdC8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHQvL1xuXHQvLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG5cdC8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcblx0Ly8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuXHQvLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcblx0Ly8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG5cdC8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcblx0Ly8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblx0XG5cdGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcblx0ICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG5cdCAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblx0XG5cdC8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuXHRFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cdFxuXHQvLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcblx0Ly8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cblx0RXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblx0XG5cdC8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuXHQvLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG5cdCAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcblx0ICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG5cdCAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0ICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50cylcblx0ICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXHRcblx0ICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG5cdCAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcblx0ICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG5cdCAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG5cdCAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuXHQgICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuXHQgICAgICB9XG5cdCAgICAgIHRocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdFxuXHQgIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcblx0ICAgIHJldHVybiBmYWxzZTtcblx0XG5cdCAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcblx0ICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuXHQgICAgICAvLyBmYXN0IGNhc2VzXG5cdCAgICAgIGNhc2UgMTpcblx0ICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGNhc2UgMjpcblx0ICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgY2FzZSAzOlxuXHQgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIC8vIHNsb3dlclxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXHQgICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuXHQgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdCAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG5cdCAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuXHQgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuXHQgIHZhciBtO1xuXHRcblx0ICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuXHQgICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XG5cdCAgaWYgKCF0aGlzLl9ldmVudHMpXG5cdCAgICB0aGlzLl9ldmVudHMgPSB7fTtcblx0XG5cdCAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcblx0ICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG5cdCAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcblx0ICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuXHQgICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cblx0ICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblx0XG5cdCAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG5cdCAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cblx0ICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuXHQgIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG5cdCAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG5cdCAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG5cdCAgZWxzZVxuXHQgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG5cdCAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cdFxuXHQgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG5cdCAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcblx0ICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuXHQgICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG5cdCAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuXHQgICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcblx0ICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcblx0ICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcblx0ICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuXHQgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG5cdCAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcblx0ICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFxuXHQgIHZhciBmaXJlZCA9IGZhbHNlO1xuXHRcblx0ICBmdW5jdGlvbiBnKCkge1xuXHQgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblx0XG5cdCAgICBpZiAoIWZpcmVkKSB7XG5cdCAgICAgIGZpcmVkID0gdHJ1ZTtcblx0ICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcblx0ICB0aGlzLm9uKHR5cGUsIGcpO1xuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdC8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuXHQgIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXHRcblx0ICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuXHQgICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XG5cdCAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcblx0ICAgIHJldHVybiB0aGlzO1xuXHRcblx0ICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHQgIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuXHQgIHBvc2l0aW9uID0gLTE7XG5cdFxuXHQgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuXHQgICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcblx0ICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdCAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuXHQgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXHRcblx0ICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG5cdCAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG5cdCAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuXHQgICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG5cdCAgICAgICAgcG9zaXRpb24gPSBpO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHBvc2l0aW9uIDwgMClcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdFxuXHQgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIGxpc3QubGVuZ3RoID0gMDtcblx0ICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuXHQgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0ICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzKVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdFxuXHQgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcblx0ICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG5cdCAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXHQgICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuXHQgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfVxuXHRcblx0ICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcblx0ICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG5cdCAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuXHQgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG5cdCAgICB0aGlzLl9ldmVudHMgPSB7fTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH1cblx0XG5cdCAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHRcblx0ICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG5cdCAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG5cdCAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcblx0ICAgIC8vIExJRk8gb3JkZXJcblx0ICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuXHQgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuXHQgIH1cblx0ICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuXHQgIHZhciByZXQ7XG5cdCAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcblx0ICAgIHJldCA9IFtdO1xuXHQgIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcblx0ICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuXHQgIGVsc2Vcblx0ICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuXHQgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG5cdCAgaWYgKHRoaXMuX2V2ZW50cykge1xuXHQgICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdFxuXHQgICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG5cdCAgICAgIHJldHVybiAxO1xuXHQgICAgZWxzZSBpZiAoZXZsaXN0ZW5lcilcblx0ICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuXHQgIH1cblx0ICByZXR1cm4gMDtcblx0fTtcblx0XG5cdEV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuXHQgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuXHQgIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc051bWJlcihhcmcpIHtcblx0ICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuXHQgIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuXHQgIHJldHVybiBhcmcgPT09IHZvaWQgMDtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdFxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX1RhYmxlSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX1RhYmxlSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlSGVhZGVyKTtcblx0XG5cdHZhciBfVGFibGVCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUJvZHkpO1xuXHRcblx0dmFyIF9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0XG5cdHZhciBfcGFnaW5hdGlvblBhZ2luYXRpb25MaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhZ2luYXRpb25QYWdpbmF0aW9uTGlzdCk7XG5cdFxuXHR2YXIgX3Rvb2xiYXJUb29sQmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdFxuXHR2YXIgX3Rvb2xiYXJUb29sQmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Rvb2xiYXJUb29sQmFyKTtcblx0XG5cdHZhciBfVGFibGVGaWx0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfVGFibGVGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVGaWx0ZXIpO1xuXHRcblx0dmFyIF9zdG9yZVRhYmxlRGF0YVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfY3N2X2V4cG9ydF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX2Nzdl9leHBvcnRfdXRpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jc3ZfZXhwb3J0X3V0aWwpO1xuXHRcblx0dmFyIF9GaWx0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBCb290c3RyYXBUYWJsZSA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKEJvb3RzdHJhcFRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBCb290c3RyYXBUYWJsZShwcm9wcykge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb290c3RyYXBUYWJsZSk7XG5cdFxuXHQgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEJvb3RzdHJhcFRhYmxlLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHRcblx0ICAgICAgICB0aGlzLl9zY3JvbGxIZWFkZXIgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBfdGhpcy5yZWZzLmhlYWRlci5yZWZzLmNvbnRhaW5lci5zY3JvbGxMZWZ0ID0gZS5jdXJyZW50VGFyZ2V0LnNjcm9sbExlZnQ7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGggPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciB0YWJsZUhlYWRlckRvbSA9IF90aGlzLnJlZnMuaGVhZGVyLnJlZnMuY29udGFpbmVyLmNoaWxkTm9kZXNbMF07XG5cdCAgICAgICAgICAgIHZhciB0YWJsZUJvZHlEb20gPSBfdGhpcy5yZWZzLmJvZHkucmVmcy5jb250YWluZXIuY2hpbGROb2Rlc1swXTtcblx0ICAgICAgICAgICAgaWYgKHRhYmxlSGVhZGVyRG9tLm9mZnNldFdpZHRoICE9PSB0YWJsZUJvZHlEb20ub2Zmc2V0V2lkdGgpIHtcblx0ICAgICAgICAgICAgICAgIHRhYmxlSGVhZGVyRG9tLnN0eWxlLndpZHRoID0gdGFibGVCb2R5RG9tLm9mZnNldFdpZHRoICsgXCJweFwiO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBoZWFkZXJQcm9wcyA9IF90aGlzLnJlZnMuYm9keS5nZXRCb2R5SGVhZGVyRG9tUHJvcCgpO1xuXHQgICAgICAgICAgICBfdGhpcy5yZWZzLmhlYWRlci5maXRIZWFkZXIoaGVhZGVyUHJvcHMsIF90aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQgPiBfdGhpcy5yZWZzLmJvZHkucmVmcy5jb250YWluZXIuY2xpZW50SGVpZ2h0KTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB0aGlzLl9hdHRhY2hDZWxsRWRpdEZ1bmMoKTtcblx0XG5cdCAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuZGF0YSkpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBfc3RvcmVUYWJsZURhdGFTdG9yZS5UYWJsZURhdGFTdG9yZSh0aGlzLnByb3BzLmRhdGEuZ2V0RGF0YSgpKTtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhLmNsZWFyKCk7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldERhdGEoZGF0YSk7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogX3RoaXMuZ2V0VGFibGVEYXRhKClcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgY29weSA9IHRoaXMucHJvcHMuZGF0YS5zbGljZSgpO1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlID0gbmV3IF9zdG9yZVRhYmxlRGF0YVN0b3JlLlRhYmxlRGF0YVN0b3JlKGNvcHkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5pbml0VGFibGUodGhpcy5wcm9wcyk7XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLmZpbHRlcikge1xuXHQgICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSBfdGhpcztcblx0ICAgICAgICAgICAgICAgIF90aGlzLmZpbHRlci5vbignb25GaWx0ZXJDaGFuZ2UnLCBmdW5jdGlvbiAoY3VycmVudEZpbHRlcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlRmlsdGVyRGF0YShjdXJyZW50RmlsdGVyKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93ICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LnNlbGVjdGVkKSB7XG5cdCAgICAgICAgICAgIHZhciBjb3B5ID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQuc2xpY2UoKTtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjb3B5KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0VGFibGVEYXRhKCksXG5cdCAgICAgICAgICAgIGN1cnJQYWdlOiB0aGlzLnByb3BzLm9wdGlvbnMucGFnZSB8fCAxLFxuXHQgICAgICAgICAgICBzaXplUGVyUGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFX0xJU1RbMF0sXG5cdCAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEJvb3RzdHJhcFRhYmxlLCBbe1xuXHQgICAgICAgIGtleTogJ2luaXRUYWJsZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRUYWJsZShwcm9wcykge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBrZXlGaWVsZCA9IHByb3BzLmtleUZpZWxkO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGlzS2V5RmllbGREZWZpbmVkID0gdHlwZW9mIGtleUZpZWxkID09PSAnc3RyaW5nJyAmJiBrZXlGaWVsZC5sZW5ndGg7XG5cdCAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnByb3BzLmlzS2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGtleUZpZWxkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwiRXJyb3IuIE11bHRpcGxlIGtleSBjb2x1bW4gYmUgZGV0ZWN0ZWQgaW4gVGFibGVIZWFkZXJDb2x1bW4uXCI7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGtleUZpZWxkID0gY29sdW1uLnByb3BzLmRhdGFGaWVsZDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucHJvcHMuZmlsdGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gYSBjb2x1bW4gY29udGFpbnMgYSBmaWx0ZXJcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5maWx0ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgdGltZSBjcmVhdGUgdGhlIGZpbHRlciBvbiB0aGUgQm9vdHN0cmFwVGFibGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmZpbHRlciA9IG5ldyBfRmlsdGVyLkZpbHRlcigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHRoZSBmaWx0ZXIgdG8gY29sdW1uIHdpdGggZmlsdGVyXG5cdCAgICAgICAgICAgICAgICAgICAgY29sdW1uLnByb3BzLmZpbHRlci5lbWl0dGVyID0gX3RoaXMyLmZpbHRlcjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgY29sSW5mb3MgPSB0aGlzLmdldENvbHVtbnNEZXNjcmlwdGlvbihwcm9wcykucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyKSB7XG5cdCAgICAgICAgICAgICAgICBwcmV2W2N1cnIubmFtZV0gPSBjdXJyO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG5cdCAgICAgICAgICAgIH0sIHt9KTtcblx0XG5cdCAgICAgICAgICAgIGlmICghaXNLZXlGaWVsZERlZmluZWQgJiYgIWtleUZpZWxkKSB0aHJvdyAnRXJyb3IuIE5vIGFueSBrZXkgY29sdW1uIGRlZmluZWQgaW4gVGFibGVIZWFkZXJDb2x1bW4uXFxuICAgICAgICAgICAgVXNlIFxcJ2lzS2V5PXt0cnVlfVxcJyB0byBzcGVjaWZ5IGEgdW5pcXVlIGNvbHVtbiBhZnRlciB2ZXJzaW9uIDAuNS40Lic7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFByb3BzKHtcblx0ICAgICAgICAgICAgICAgIGlzUGFnaW5hdGlvbjogcHJvcHMucGFnaW5hdGlvbixcblx0ICAgICAgICAgICAgICAgIGtleUZpZWxkOiBrZXlGaWVsZCxcblx0ICAgICAgICAgICAgICAgIGNvbEluZm9zOiBjb2xJbmZvcyxcblx0ICAgICAgICAgICAgICAgIG11bHRpQ29sdW1uU2VhcmNoOiBwcm9wcy5tdWx0aUNvbHVtblNlYXJjaCxcblx0ICAgICAgICAgICAgICAgIHJlbW90ZTogdGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0VGFibGVEYXRhJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGFibGVEYXRhKCkge1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnNvcnROYW1lICYmIHRoaXMucHJvcHMub3B0aW9ucy5zb3J0T3JkZXIpIHRoaXMuc3RvcmUuc29ydCh0aGlzLnByb3BzLm9wdGlvbnMuc29ydE9yZGVyLCB0aGlzLnByb3BzLm9wdGlvbnMuc29ydE5hbWUpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgc2l6ZVBlclBhZ2UgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yZS5pc0NoYW5nZWRQYWdlKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzaXplUGVyUGFnZSA9IHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2U7XG5cdCAgICAgICAgICAgICAgICAgICAgcGFnZSA9IHRoaXMuc3RhdGUuY3VyclBhZ2U7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlID0gdGhpcy5wcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFX0xJU1RbMF07XG5cdCAgICAgICAgICAgICAgICAgICAgcGFnZSA9IHRoaXMucHJvcHMub3B0aW9ucy5wYWdlIHx8IDE7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UocGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRDb2x1bW5zRGVzY3JpcHRpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2x1bW5zRGVzY3JpcHRpb24oX3JlZikge1xuXHQgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbHVtbi5wcm9wcy5kYXRhRmllbGQsXG5cdCAgICAgICAgICAgICAgICAgICAgYWxpZ246IGNvbHVtbi5wcm9wcy5kYXRhQWxpZ24sXG5cdCAgICAgICAgICAgICAgICAgICAgc29ydDogY29sdW1uLnByb3BzLmRhdGFTb3J0LFxuXHQgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogY29sdW1uLnByb3BzLmRhdGFGb3JtYXQsXG5cdCAgICAgICAgICAgICAgICAgICAgZm9ybWF0RXh0cmFEYXRhOiBjb2x1bW4ucHJvcHMuZm9ybWF0RXh0cmFEYXRhLFxuXHQgICAgICAgICAgICAgICAgICAgIGZpbHRlckZvcm1hdHRlZDogY29sdW1uLnByb3BzLmZpbHRlckZvcm1hdHRlZCxcblx0ICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogY29sdW1uLnByb3BzLmVkaXRhYmxlLFxuXHQgICAgICAgICAgICAgICAgICAgIGhpZGRlbjogY29sdW1uLnByb3BzLmhpZGRlbixcblx0ICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbHVtbi5wcm9wcy5jb2x1bW5DbGFzc05hbWUsXG5cdCAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbHVtbi5wcm9wcy53aWR0aCxcblx0ICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjb2x1bW4ucHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgc29ydEZ1bmM6IGNvbHVtbi5wcm9wcy5zb3J0RnVuYyxcblx0ICAgICAgICAgICAgICAgICAgICBpbmRleDogaVxuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICB0aGlzLmluaXRUYWJsZShuZXh0UHJvcHMpO1xuXHQgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0UHJvcHMuZGF0YSkpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0RGF0YShuZXh0UHJvcHMuZGF0YS5zbGljZSgpKTtcblx0ICAgICAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uRG9tID0gdGhpcy5yZWZzLnBhZ2luYXRpb247XG5cdCAgICAgICAgICAgICAgICB2YXIgcGFnZSA9IHBhZ2luYXRpb25Eb20gJiYgcGFnaW5hdGlvbkRvbS5nZXRDdXJyZW50UGFnZSgpIHx8IG5leHRQcm9wcy5vcHRpb25zLnBhZ2UgfHwgMTtcblx0ICAgICAgICAgICAgICAgIHZhciBzaXplUGVyUGFnZSA9IHBhZ2luYXRpb25Eb20gJiYgcGFnaW5hdGlvbkRvbS5nZXRTaXplUGVyUGFnZSgpIHx8IG5leHRQcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFX0xJU1RbMF07XG5cdCAgICAgICAgICAgICAgICAvLyAjMTI1XG5cdCAgICAgICAgICAgICAgICBpZiAocGFnZSA+IE1hdGguY2VpbChuZXh0UHJvcHMuZGF0YS5sZW5ndGggLyBzaXplUGVyUGFnZSkpIHBhZ2UgPSAxO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNvcnRJbmZvID0gdGhpcy5zdG9yZS5nZXRTb3J0SW5mbygpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNvcnRGaWVsZCA9IG5leHRQcm9wcy5vcHRpb25zLnNvcnROYW1lIHx8IChzb3J0SW5mbyA/IHNvcnRJbmZvLnNvcnRGaWVsZCA6IHVuZGVmaW5lZCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc29ydE9yZGVyID0gbmV4dFByb3BzLm9wdGlvbnMuc29ydE9yZGVyIHx8IChzb3J0SW5mbyA/IHNvcnRJbmZvLm9yZGVyIDogdW5kZWZpbmVkKTtcblx0ICAgICAgICAgICAgICAgIGlmIChzb3J0RmllbGQgJiYgc29ydE9yZGVyKSB0aGlzLnN0b3JlLnNvcnQoc29ydE9yZGVyLCBzb3J0RmllbGQpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnN0b3JlLnBhZ2UocGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyUGFnZTogcGFnZSxcblx0ICAgICAgICAgICAgICAgICAgICBzaXplUGVyUGFnZTogc2l6ZVBlclBhZ2Vcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChuZXh0UHJvcHMuc2VsZWN0Um93ICYmIG5leHRQcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIC8vc2V0IGRlZmF1bHQgc2VsZWN0IHJvd3MgdG8gc3RvcmUuXG5cdCAgICAgICAgICAgICAgICB2YXIgY29weSA9IG5leHRQcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQuc2xpY2UoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoY29weSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IGNvcHlcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2FkanVzdEhlYWRlcldpZHRoKCk7XG5cdCAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCk7XG5cdCAgICAgICAgICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3Njcm9sbEhlYWRlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCk7XG5cdCAgICAgICAgICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3Njcm9sbEhlYWRlcik7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLmZpbHRlcikge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKFwib25GaWx0ZXJDaGFuZ2VcIik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgICAgICAgICB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCgpO1xuXHQgICAgICAgICAgICB0aGlzLl9hdHRhY2hDZWxsRWRpdEZ1bmMoKTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUpIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnX2F0dGFjaENlbGxFZGl0RnVuYycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hdHRhY2hDZWxsRWRpdEZ1bmMoKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0KSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNlbGxFZGl0Ll9fb25Db21wbGV0ZUVkaXRfXyA9IHRoaXMuaGFuZGxlRWRpdENlbGwuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfTk9ORSkgdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiBpbiB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uLFxyXG5cdCAgICAgICAgICogdGhlIGRhdGFncmlkIHNob3VsZCBsb2FkIGl0cyBkYXRhIHJlbW90ZWx5LlxyXG5cdCAgICAgICAgICpcclxuXHQgICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtwcm9wc10gT3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgdGhpcy5wcm9wcyB3aWxsIGJlIHVzZWRcclxuXHQgICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcblx0ICAgICAgICAgKi9cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdpc1JlbW90ZURhdGFTb3VyY2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1JlbW90ZURhdGFTb3VyY2UocHJvcHMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIChwcm9wcyB8fCB0aGlzLnByb3BzKS5yZW1vdGU7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciB0YWJsZUNsYXNzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcInJlYWN0LWJzLXRhYmxlXCIpO1xuXHQgICAgICAgICAgICB2YXIgY2hpbGRyZW5zID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblx0ICAgICAgICAgICAgdmFyIHN0eWxlID0ge1xuXHQgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodCxcblx0ICAgICAgICAgICAgICAgIG1heEhlaWdodDogdGhpcy5wcm9wcy5tYXhIZWlnaHRcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlbnMgPSBbdGhpcy5wcm9wcy5jaGlsZHJlbl07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLmdldENvbHVtbnNEZXNjcmlwdGlvbih0aGlzLnByb3BzKTtcblx0ICAgICAgICAgICAgdmFyIHNvcnRJbmZvID0gdGhpcy5zdG9yZS5nZXRTb3J0SW5mbygpO1xuXHQgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHRoaXMucmVuZGVyUGFnaW5hdGlvbigpO1xuXHQgICAgICAgICAgICB2YXIgdG9vbEJhciA9IHRoaXMucmVuZGVyVG9vbEJhcigpO1xuXHQgICAgICAgICAgICB2YXIgdGFibGVGaWx0ZXIgPSB0aGlzLnJlbmRlclRhYmxlRmlsdGVyKGNvbHVtbnMpO1xuXHQgICAgICAgICAgICB2YXIgaXNTZWxlY3RBbGwgPSB0aGlzLmlzU2VsZWN0QWxsKCk7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdyZWFjdC1icy1jb250YWluZXInLCByZWY6ICd0YWJsZScgfSxcblx0ICAgICAgICAgICAgICAgIHRvb2xCYXIsXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JlYWN0LWJzLXRhYmxlLWNvbnRhaW5lcicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfVGFibGVIZWFkZXIyWydkZWZhdWx0J10sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogJ2hlYWRlcicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3RUeXBlOiB0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVNlbGVjdENvbHVtbjogdGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnROYW1lOiBzb3J0SW5mbyA/IHNvcnRJbmZvLnNvcnRGaWVsZCA6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRPcmRlcjogc29ydEluZm8gPyBzb3J0SW5mby5vcmRlciA6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydDogdGhpcy5oYW5kbGVTb3J0LmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdEFsbFJvdzogdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcmVkOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGVuc2VkOiB0aGlzLnByb3BzLmNvbmRlbnNlZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlsdGVyZWQ6IHRoaXMuZmlsdGVyID8gdHJ1ZSA6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVJRDogdGhpcy5wcm9wcy50YWJsZUlELFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RBbGw6IGlzU2VsZWN0QWxsIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9UYWJsZUJvZHkyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiB0aGlzLnByb3BzLm1heEhlaWdodCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAnYm9keScsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuc3RhdGUuZGF0YSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHJDbGFzc05hbWU6IHRoaXMucHJvcHMudHJDbGFzc05hbWUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZWQ6IHRoaXMucHJvcHMuc3RyaXBlZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyZWQ6IHRoaXMucHJvcHMuYm9yZGVyZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyOiB0aGlzLnByb3BzLmhvdmVyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBrZXlGaWVsZDogdGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZWQ6IHRoaXMucHJvcHMuY29uZGVuc2VkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RSb3c6IHRoaXMucHJvcHMuc2VsZWN0Um93LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjZWxsRWRpdDogdGhpcy5wcm9wcy5jZWxsRWRpdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnN0YXRlLnNlbGVjdGVkUm93S2V5cyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25Sb3dDbGljazogdGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvblJvd01vdXNlT3ZlcjogdGhpcy5oYW5kbGVSb3dNb3VzZU92ZXIuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25Sb3dNb3VzZU91dDogdGhpcy5oYW5kbGVSb3dNb3VzZU91dC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdFJvdzogdGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbm9EYXRhVGV4dDogdGhpcy5wcm9wcy5vcHRpb25zLm5vRGF0YVRleHRcblx0ICAgICAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIHRhYmxlRmlsdGVyLFxuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvblxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdpc1NlbGVjdEFsbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0QWxsKCkge1xuXHQgICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdFJvd0tleXMgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO1xuXHQgICAgICAgICAgICB2YXIgYWxsUm93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0QWxsUm93a2V5KCk7XG5cdCAgICAgICAgICAgIGlmIChkZWZhdWx0U2VsZWN0Um93S2V5cy5sZW5ndGggIT09IGFsbFJvd0tleXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNlbGVjdFJvd0tleXMubGVuZ3RoID09PSAwID8gZmFsc2UgOiAnaW5kZXRlcm1pbmF0ZSc7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjbGVhblNlbGVjdGVkJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYW5TZWxlY3RlZCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShbXSk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbXVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlU29ydCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNvcnQob3JkZXIsIHNvcnRGaWVsZCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uU29ydENoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uU29ydENoYW5nZShzb3J0RmllbGQsIG9yZGVyLCB0aGlzLnByb3BzKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuc3RvcmUuc29ydChvcmRlciwgc29ydEZpZWxkKS5nZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZVBhZ2luYXRpb25EYXRhJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUGFnaW5hdGlvbkRhdGEocGFnZSwgc2l6ZVBlclBhZ2UpIHtcblx0ICAgICAgICAgICAgdmFyIG9uUGFnZUNoYW5nZSA9IHRoaXMucHJvcHMub3B0aW9ucy5vblBhZ2VDaGFuZ2U7XG5cdFxuXHQgICAgICAgICAgICBpZiAob25QYWdlQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICBvblBhZ2VDaGFuZ2UocGFnZSwgc2l6ZVBlclBhZ2UpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKHBhZ2UsIHNpemVQZXJQYWdlKS5nZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG5cdCAgICAgICAgICAgICAgICBjdXJyUGFnZTogcGFnZSxcblx0ICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlOiBzaXplUGVyUGFnZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlTW91c2VMZWF2ZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUxlYXZlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUxlYXZlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlTW91c2VFbnRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUVudGVyKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUVudGVyKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlUm93TW91c2VPdXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSb3dNb3VzZU91dChyb3cpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3V0KSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU91dChyb3cpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZVJvd01vdXNlT3ZlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvd01vdXNlT3Zlcihyb3cpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3Zlcikge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdmVyKHJvdyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlUm93Q2xpY2snLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSb3dDbGljayhyb3cpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblJvd0NsaWNrKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dDbGljayhyb3cpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZVNlbGVjdEFsbFJvdycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdEFsbFJvdyhlKSB7XG5cdCAgICAgICAgICAgIHZhciBpc1NlbGVjdGVkID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBbXTtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdEFsbCkge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cub25TZWxlY3RBbGwoaXNTZWxlY3RlZCwgaXNTZWxlY3RlZCA/IHRoaXMuc3RvcmUuZ2V0KCkgOiBbXSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJyB8fCByZXN1bHQgIT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cyA9IHRoaXMuc3RvcmUuZ2V0QWxsUm93a2V5KCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShzZWxlY3RlZFJvd0tleXMpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBzZWxlY3RlZFJvd0tleXNcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZVNob3dPbmx5U2VsZWN0ZWQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTaG93T25seVNlbGVjdGVkKCkge1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLmlnbm9yZU5vblNlbGVjdGVkKCk7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZSgxLCB0aGlzLnN0YXRlLnNpemVQZXJQYWdlKS5nZXQoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG5cdCAgICAgICAgICAgICAgICBjdXJyUGFnZTogMVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlU2VsZWN0Um93Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Um93KHJvdywgaXNTZWxlY3RlZCkge1xuXHQgICAgICAgICAgICB2YXIgY3VyclNlbGVjdGVkID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKTtcblx0ICAgICAgICAgICAgdmFyIHJvd0tleSA9IHJvd1t0aGlzLnN0b3JlLmdldEtleUZpZWxkKCldO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0KSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdChyb3csIGlzU2VsZWN0ZWQpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcgfHwgcmVzdWx0ICE9PSBmYWxzZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGN1cnJTZWxlY3RlZCA9IGlzU2VsZWN0ZWQgPyBbcm93S2V5XSA6IFtdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjdXJyU2VsZWN0ZWQucHVzaChyb3dLZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJTZWxlY3RlZCA9IGN1cnJTZWxlY3RlZC5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd0tleSAhPT0ga2V5O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjdXJyU2VsZWN0ZWQpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBjdXJyU2VsZWN0ZWRcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUVkaXRDZWxsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRWRpdENlbGwobmV3VmFsLCByb3dJbmRleCwgY29sSW5kZXgpIHtcblx0ICAgICAgICAgICAgdmFyIGZpZWxkTmFtZSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLmZvckVhY2godGhpcy5wcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGkgPT0gY29sSW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPSBjb2x1bW4ucHJvcHMuZGF0YUZpZWxkO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zdG9yZS5lZGl0KG5ld1ZhbCwgcm93SW5kZXgsIGZpZWxkTmFtZSkuZ2V0KCk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQuYWZ0ZXJTYXZlQ2VsbCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jZWxsRWRpdC5hZnRlclNhdmVDZWxsKHRoaXMuc3RhdGUuZGF0YVtyb3dJbmRleF0sIGZpZWxkTmFtZSwgbmV3VmFsKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVBZGRSb3dCZWdpbicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUFkZFJvd0JlZ2luKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5yZWZzLmJvZHkpIHtcblx0ICAgICAgICAgICAgICAgIC8vIHRoaXMucmVmcy5ib2R5LmNhbmNlbEVkaXQoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVBZGRSb3cnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVBZGRSb3cobmV3T2JqKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIG1zZyA9IG51bGwsXG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIHZhciBiZWZvcmVQcm9taXNlID0gdGhpcy5wcm9wcy5vcHRpb25zLmJlZm9yZUluc2VydFJvdyA/IHRoaXMucHJvcHMub3B0aW9ucy5iZWZvcmVJbnNlcnRSb3cobmV3T2JqKSA6IG5ld09iajtcblx0XG5cdCAgICAgICAgICAgIC8vZXhlY3V0ZSBiZWZvcmUgYWRkIHJvd1xuXHRcblx0ICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGJlZm9yZVByb21pc2UpLnRoZW4oZnVuY3Rpb24gKG1zZykge1xuXHQgICAgICAgICAgICAgICAgbmV3T2JqID0gbXNnO1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3RvcmUuYWRkKG5ld09iaik7XG5cdCAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy9pZiBwYWdpbmF0aW9uIGlzIGVuYWJsZWQgYW5kIGluc2VydCByb3cgYmUgdHJpZ2dlciwgY2hhbmdlIHRvIGxhc3QgcGFnZVxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBzaXplUGVyUGFnZSA9IF90aGlzMy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJMYXN0UGFnZSA9IE1hdGguY2VpbChfdGhpczMuc3RvcmUuZ2V0RGF0YU51bSgpIC8gc2l6ZVBlclBhZ2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF90aGlzMy5zdG9yZS5wYWdlKGN1cnJMYXN0UGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY3VyclBhZ2U6IGN1cnJMYXN0UGFnZVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfdGhpczMuc3RvcmUuZ2V0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5vcHRpb25zLmFmdGVySW5zZXJ0Um93KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9wdGlvbnMuYWZ0ZXJJbnNlcnRSb3cobmV3T2JqKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRTaXplUGVyUGFnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpemVQZXJQYWdlKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0Q3VycmVudFBhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZSgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VyclBhZ2U7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZURyb3BSb3cnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEcm9wUm93KHJvd0tleXMpIHtcblx0ICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgICAgICAgICB2YXIgZHJvcFJvd0tleXMgPSByb3dLZXlzID8gcm93S2V5cyA6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCk7XG5cdCAgICAgICAgICAgIC8vYWRkIGNvbmZpcm0gYmVmb3JlIHRoZSBkZWxldGUgYWN0aW9uIGlmIHRoYXQgb3B0aW9uIGlzIHNldC5cblx0ICAgICAgICAgICAgaWYgKGRyb3BSb3dLZXlzICYmIGRyb3BSb3dLZXlzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuaGFuZGxlQ29uZmlybURlbGV0ZVJvdykge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5oYW5kbGVDb25maXJtRGVsZXRlUm93KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5kZWxldGVSb3coZHJvcFJvd0tleXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgd2FudCBkZWxldGU/JykpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZGVsZXRlUm93Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUm93KGRyb3BSb3dLZXlzKSB7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnJlbW92ZShkcm9wUm93S2V5cyk7IC8vcmVtb3ZlIHNlbGVjdGVkIFJvd1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KFtdKTsgLy9jbGVhciBzZWxlY3RlZCByb3cga2V5XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2l6ZVBlclBhZ2UgPSB0aGlzLnN0YXRlLnNpemVQZXJQYWdlO1xuXHQgICAgICAgICAgICAgICAgdmFyIGN1cnJQYWdlID0gdGhpcy5zdGF0ZS5jdXJyUGFnZTtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgY3Vyckxhc3RQYWdlID0gTWF0aC5jZWlsKHRoaXMuc3RvcmUuZ2V0RGF0YU51bSgpIC8gc2l6ZVBlclBhZ2UpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGN1cnJQYWdlID4gY3Vyckxhc3RQYWdlKSBjdXJyUGFnZSA9IGN1cnJMYXN0UGFnZTtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShjdXJyUGFnZSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuXHQgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKSxcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyUGFnZTogY3VyclBhZ2Vcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKClcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJEZWxldGVSb3cpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdyhkcm9wUm93S2V5cyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlRmlsdGVyRGF0YScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlckRhdGEoZmlsdGVyT2JqKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuZmlsdGVyKGZpbHRlck9iaik7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBzaXplUGVyUGFnZSA9IHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKDEsIHNpemVQZXJQYWdlKS5nZXQoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckNvbHVtbkZpbHRlcikgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyQ29sdW1uRmlsdGVyKGZpbHRlck9iaiwgdGhpcy5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkpO1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgIGN1cnJQYWdlOiAxXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVFeHBvcnRDU1YnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFeHBvcnRDU1YoKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKTtcblx0ICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wcm9wcy5oaWRkZW4gPT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGNvbHVtbi5wcm9wcy5kYXRhRmllbGQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgKDAsIF9jc3ZfZXhwb3J0X3V0aWwyWydkZWZhdWx0J10pKHJlc3VsdCwga2V5cywgdGhpcy5wcm9wcy5jc3ZGaWxlTmFtZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZVNlYXJjaCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaChzZWFyY2hUZXh0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuc2VhcmNoKHNlYXJjaFRleHQpO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2l6ZVBlclBhZ2UgPSB0aGlzLnN0YXRlLnNpemVQZXJQYWdlO1xuXHRcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZSgxLCBzaXplUGVyUGFnZSkuZ2V0KCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJTZWFyY2gpIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclNlYXJjaChzZWFyY2hUZXh0LCB0aGlzLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKSk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuXHQgICAgICAgICAgICAgICAgY3VyclBhZ2U6IDFcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlclBhZ2luYXRpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQYWdpbmF0aW9uKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGF0YVNpemUgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGFTaXplID0gdGhpcy5wcm9wcy5mZXRjaEluZm8uZGF0YVRvdGFsU2l6ZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YVNpemUgPSB0aGlzLnN0b3JlLmdldERhdGFOdW0oKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RhYmxlLWZvb3Rlci1wYWdpbmF0aW9uJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9wYWdpbmF0aW9uUGFnaW5hdGlvbkxpc3QyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAncGFnaW5hdGlvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJQYWdlOiB0aGlzLnN0YXRlLmN1cnJQYWdlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQYWdlOiB0aGlzLmhhbmRsZVBhZ2luYXRpb25EYXRhLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlOiB0aGlzLnN0YXRlLnNpemVQZXJQYWdlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzaXplUGVyUGFnZUxpc3Q6IHRoaXMucHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZUxpc3QgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlNJWkVfUEVSX1BBR0VfTElTVCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvblNpemU6IHRoaXMucHJvcHMub3B0aW9ucy5wYWdpbmF0aW9uU2l6ZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uUEFHSU5BVElPTl9TSVpFLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGU6IHRoaXMuaXNSZW1vdGVEYXRhU291cmNlKCksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTaXplOiBkYXRhU2l6ZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q6IHRoaXMucHJvcHMub3B0aW9ucy5vblNpemVQZXJQYWdlTGlzdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJlUGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLnByZVBhZ2UgfHwgX0NvbnN0MlsnZGVmYXVsdCddLlBSRV9QQUdFLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLm5leHRQYWdlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5ORVhUX1BBR0UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLmZpcnN0UGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uRklSU1RfUEFHRSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5sYXN0UGFnZSB8fCBfQ29uc3QyWydkZWZhdWx0J10uTEFTVF9QQUdFXG5cdCAgICAgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlclRvb2xCYXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUb29sQmFyKCkge1xuXHQgICAgICAgICAgICB2YXIgZW5hYmxlU2hvd09ubHlTZWxlY3RlZCA9IHRoaXMucHJvcHMuc2VsZWN0Um93ICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LnNob3dPbmx5U2VsZWN0ZWQ7XG5cdCAgICAgICAgICAgIGlmIChlbmFibGVTaG93T25seVNlbGVjdGVkIHx8IHRoaXMucHJvcHMuaW5zZXJ0Um93IHx8IHRoaXMucHJvcHMuZGVsZXRlUm93IHx8IHRoaXMucHJvcHMuc2VhcmNoIHx8IHRoaXMucHJvcHMuZXhwb3J0Q1NWKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29sdW1ucyA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29sdW1ucyA9IHRoaXMucHJvcHMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gY29sdW1uLnByb3BzO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogcHJvcHMuZGF0YUZpZWxkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9WYWx1ZTogcHJvcHMuYXV0b1ZhbHVlIHx8IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgY3JlYXRlIGVkaXRvciwgbm8gcGFyYW1zIGZvciBjb2x1bW4uZWRpdGFibGUoKSBpbmRpY2F0ZSB0aGF0IGVkaXRvciBmb3IgbmV3IHJvd1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHByb3BzLmVkaXRhYmxlICYmIHR5cGVvZiBwcm9wcy5lZGl0YWJsZSA9PT0gXCJmdW5jdGlvblwiID8gcHJvcHMuZWRpdGFibGUoKSA6IHByb3BzLmVkaXRhYmxlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuSW5Qb3B1cDogcHJvcHMuaGlkZGVuSW5Qb3B1cCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcHJvcHMuZGF0YUZvcm1hdCA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5kYXRhRm9ybWF0KHZhbHVlLCBudWxsLCBwcm9wcy5mb3JtYXRFeHRyYURhdGEpLnJlcGxhY2UoLzwuKj8+L2csICcnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gW3tcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuZGF0YUZpZWxkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5lZGl0YWJsZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuSW5Qb3B1cDogdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5oaWRkZW5JblBvcHVwXG5cdCAgICAgICAgICAgICAgICAgICAgfV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0b29sLWJhcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfdG9vbGJhclRvb2xCYXIyWydkZWZhdWx0J10sIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWFyY2g6IHRoaXMucHJvcHMub3B0aW9ucy5jbGVhclNlYXJjaCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSW5zZXJ0OiB0aGlzLnByb3BzLmluc2VydFJvdyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlRGVsZXRlOiB0aGlzLnByb3BzLmRlbGV0ZVJvdyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2VhcmNoOiB0aGlzLnByb3BzLnNlYXJjaCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlRXhwb3J0Q1NWOiB0aGlzLnByb3BzLmV4cG9ydENTVixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogZW5hYmxlU2hvd09ubHlTZWxlY3RlZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGxhY2Vob2xkZXI6IHRoaXMucHJvcHMuc2VhcmNoUGxhY2Vob2xkZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQWRkUm93OiB0aGlzLmhhbmRsZUFkZFJvdy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkFkZFJvd0JlZ2luOiB0aGlzLmhhbmRsZUFkZFJvd0JlZ2luLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJvcFJvdzogdGhpcy5oYW5kbGVEcm9wUm93LmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoOiB0aGlzLmhhbmRsZVNlYXJjaC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkV4cG9ydENTVjogdGhpcy5oYW5kbGVFeHBvcnRDU1YuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25TaG93T25seVNlbGVjdGVkOiB0aGlzLmhhbmRsZVNob3dPbmx5U2VsZWN0ZWQuYmluZCh0aGlzKVxuXHQgICAgICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyVGFibGVGaWx0ZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUYWJsZUZpbHRlcihjb2x1bW5zKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNvbHVtbkZpbHRlcikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9UYWJsZUZpbHRlcjJbJ2RlZmF1bHQnXSwgeyBjb2x1bW5zOiBjb2x1bW5zLFxuXHQgICAgICAgICAgICAgICAgICAgIHJvd1NlbGVjdFR5cGU6IHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUsXG5cdCAgICAgICAgICAgICAgICAgICAgb25GaWx0ZXI6IHRoaXMuaGFuZGxlRmlsdGVyRGF0YS5iaW5kKHRoaXMpIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEJvb3RzdHJhcFRhYmxlO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdEJvb3RzdHJhcFRhYmxlLnByb3BUeXBlcyA9IHtcblx0ICAgIGtleUZpZWxkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGhlaWdodDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBtYXhIZWlnaHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdGFibGVJRDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkYXRhOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSwgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3RdKSxcblx0ICAgIHJlbW90ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyByZW1vdGUgZGF0YSwgZGVmYXVsdCBpcyBmYWxzZVxuXHQgICAgc3RyaXBlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgYm9yZGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGhvdmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjb25kZW5zZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHBhZ2luYXRpb246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNlYXJjaFBsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNlbGVjdFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICAgICAgbW9kZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihbX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfTk9ORSwgX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfU0lOR0xFLCBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSV0pLFxuXHQgICAgICAgIGJnQ29sb3I6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgICAgIHNlbGVjdGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgICAgIG9uU2VsZWN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgb25TZWxlY3RBbGw6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBjbGlja1RvU2VsZWN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICAgICAgaGlkZVNlbGVjdENvbHVtbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgICAgIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgICAgIHNob3dPbmx5U2VsZWN0ZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbFxuXHQgICAgfSksXG5cdCAgICBjZWxsRWRpdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICAgICAgbW9kZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgYmx1clRvU2F2ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgICAgIGFmdGVyU2F2ZUNlbGw6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuY1xuXHQgICAgfSksXG5cdCAgICBpbnNlcnRSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRlbGV0ZVJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgc2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjb2x1bW5GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHRyQ2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgICAgIGJlZm9yZUluc2VydFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgICAgIGNsZWFyU2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICAgICAgc29ydE5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgICAgIHNvcnRPcmRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgYWZ0ZXJUYWJsZUNvbXBsZXRlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgYWZ0ZXJEZWxldGVSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBhZnRlckluc2VydFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgICAgIGFmdGVyU2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgYWZ0ZXJDb2x1bW5GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBvblJvd0NsaWNrOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgcGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgc2l6ZVBlclBhZ2VMaXN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgICAgIHNpemVQZXJQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICAgICAgICBwYWdpbmF0aW9uU2l6ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgb25Tb3J0Q2hhbmdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgb25QYWdlQ2hhbmdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgICAgICBub0RhdGFUZXh0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgICAgICBoYW5kbGVDb25maXJtRGVsZXRlUm93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICAgICAgcHJlUGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgbmV4dFBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgICAgIGZpcnN0UGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgbGFzdFBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdCAgICB9KSxcblx0ICAgIGZldGNoSW5mbzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICAgICAgZGF0YVRvdGFsU2l6ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXJcblx0ICAgIH0pLFxuXHQgICAgZXhwb3J0Q1NWOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjc3ZGaWxlTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdEJvb3RzdHJhcFRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGhlaWdodDogXCIxMDAlXCIsXG5cdCAgICBtYXhIZWlnaHQ6IHVuZGVmaW5lZCxcblx0ICAgIHRhYmxlSUQ6IHVuZGVmaW5lZCxcblx0ICAgIHN0cmlwZWQ6IGZhbHNlLFxuXHQgICAgYm9yZGVyZWQ6IHRydWUsXG5cdCAgICBob3ZlcjogZmFsc2UsXG5cdCAgICBjb25kZW5zZWQ6IGZhbHNlLFxuXHQgICAgcGFnaW5hdGlvbjogZmFsc2UsXG5cdCAgICBzZWFyY2hQbGFjZWhvbGRlcjogdW5kZWZpbmVkLFxuXHQgICAgc2VsZWN0Um93OiB7XG5cdCAgICAgICAgbW9kZTogX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfTk9ORSxcblx0ICAgICAgICBiZ0NvbG9yOiBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9CR19DT0xPUixcblx0ICAgICAgICBzZWxlY3RlZDogW10sXG5cdCAgICAgICAgb25TZWxlY3Q6IHVuZGVmaW5lZCxcblx0ICAgICAgICBvblNlbGVjdEFsbDogdW5kZWZpbmVkLFxuXHQgICAgICAgIGNsaWNrVG9TZWxlY3Q6IGZhbHNlLFxuXHQgICAgICAgIGhpZGVTZWxlY3RDb2x1bW46IGZhbHNlLFxuXHQgICAgICAgIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbDogZmFsc2UsXG5cdCAgICAgICAgc2hvd09ubHlTZWxlY3RlZDogZmFsc2Vcblx0ICAgIH0sXG5cdCAgICBjZWxsRWRpdDoge1xuXHQgICAgICAgIG1vZGU6IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfTk9ORSxcblx0ICAgICAgICBibHVyVG9TYXZlOiBmYWxzZSxcblx0ICAgICAgICBhZnRlclNhdmVDZWxsOiB1bmRlZmluZWRcblx0ICAgIH0sXG5cdCAgICBpbnNlcnRSb3c6IGZhbHNlLFxuXHQgICAgZGVsZXRlUm93OiBmYWxzZSxcblx0ICAgIHNlYXJjaDogZmFsc2UsXG5cdCAgICBtdWx0aUNvbHVtblNlYXJjaDogZmFsc2UsXG5cdCAgICBjb2x1bW5GaWx0ZXI6IGZhbHNlLFxuXHQgICAgdHJDbGFzc05hbWU6ICcnLFxuXHQgICAgb3B0aW9uczoge1xuXHQgICAgICAgIGNsZWFyU2VhcmNoOiBmYWxzZSxcblx0ICAgICAgICBzb3J0TmFtZTogdW5kZWZpbmVkLFxuXHQgICAgICAgIHNvcnRPcmRlcjogdW5kZWZpbmVkLFxuXHQgICAgICAgIGFmdGVyVGFibGVDb21wbGV0ZTogdW5kZWZpbmVkLFxuXHQgICAgICAgIGFmdGVyRGVsZXRlUm93OiB1bmRlZmluZWQsXG5cdCAgICAgICAgYWZ0ZXJJbnNlcnRSb3c6IHVuZGVmaW5lZCxcblx0ICAgICAgICBhZnRlclNlYXJjaDogdW5kZWZpbmVkLFxuXHQgICAgICAgIGFmdGVyQ29sdW1uRmlsdGVyOiB1bmRlZmluZWQsXG5cdCAgICAgICAgb25Sb3dDbGljazogdW5kZWZpbmVkLFxuXHQgICAgICAgIG9uTW91c2VMZWF2ZTogdW5kZWZpbmVkLFxuXHQgICAgICAgIG9uTW91c2VFbnRlcjogdW5kZWZpbmVkLFxuXHQgICAgICAgIG9uUm93TW91c2VPdXQ6IHVuZGVmaW5lZCxcblx0ICAgICAgICBvblJvd01vdXNlT3ZlcjogdW5kZWZpbmVkLFxuXHQgICAgICAgIHBhZ2U6IHVuZGVmaW5lZCxcblx0ICAgICAgICBzaXplUGVyUGFnZUxpc3Q6IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFX0xJU1QsXG5cdCAgICAgICAgc2l6ZVBlclBhZ2U6IHVuZGVmaW5lZCxcblx0ICAgICAgICBwYWdpbmF0aW9uU2l6ZTogX0NvbnN0MlsnZGVmYXVsdCddLlBBR0lOQVRJT05fU0laRSxcblx0ICAgICAgICBvblNpemVQZXJQYWdlTGlzdDogdW5kZWZpbmVkLFxuXHQgICAgICAgIG5vRGF0YVRleHQ6IHVuZGVmaW5lZCxcblx0ICAgICAgICBoYW5kbGVDb25maXJtRGVsZXRlUm93OiB1bmRlZmluZWQsXG5cdCAgICAgICAgcHJlUGFnZTogX0NvbnN0MlsnZGVmYXVsdCddLlBSRV9QQUdFLFxuXHQgICAgICAgIG5leHRQYWdlOiBfQ29uc3QyWydkZWZhdWx0J10uTkVYVF9QQUdFLFxuXHQgICAgICAgIGZpcnN0UGFnZTogX0NvbnN0MlsnZGVmYXVsdCddLkZJUlNUX1BBR0UsXG5cdCAgICAgICAgbGFzdFBhZ2U6IF9Db25zdDJbJ2RlZmF1bHQnXS5MQVNUX1BBR0Vcblx0ICAgIH0sXG5cdCAgICBmZXRjaEluZm86IHtcblx0ICAgICAgICBkYXRhVG90YWxTaXplOiAwXG5cdCAgICB9LFxuXHQgICAgZXhwb3J0Q1NWOiBmYWxzZSxcblx0ICAgIGNzdkZpbGVOYW1lOiB1bmRlZmluZWRcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEJvb3RzdHJhcFRhYmxlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIEV2ZW50RW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpLkV2ZW50RW1pdHRlcjtcblx0XG5cdHZhciBGaWx0ZXIgPSAoZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcblx0ICAgIF9pbmhlcml0cyhGaWx0ZXIsIF9FdmVudEVtaXR0ZXIpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZpbHRlcihkYXRhKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7XG5cdFxuXHQgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIGRhdGEpO1xuXHQgICAgICAgIHRoaXMuY3VycmVudEZpbHRlciA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhGaWx0ZXIsIFt7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlRmlsdGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKGRhdGFGaWVsZCwgdmFsdWUsIHR5cGUpIHtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlclR5cGUgPSB0eXBlIHx8IF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5DVVNUT007XG5cdFxuXHQgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICAgICAgICAvLyB2YWx1ZSBvZiB0aGUgZmlsdGVyIGlzIGFuIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgdmFyIGhhc1ZhbHVlID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gdmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlW3Byb3BdIHx8IHZhbHVlW3Byb3BdID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgb2JqZWN0IHByb3BlcnRpZXMgaXMgdW5kZWZpbmVkIG9yIGVtcHR5LCB3ZSByZW1vdmUgdGhlIGZpbHRlclxuXHQgICAgICAgICAgICAgICAgaGFzVmFsdWUgPyB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXSA9IHsgdmFsdWU6IHZhbHVlLCB0eXBlOiBmaWx0ZXJUeXBlIH0gOiBkZWxldGUgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF07XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY3VycmVudEZpbHRlcltkYXRhRmllbGRdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF0gPSB7IHZhbHVlOiB2YWx1ZS50cmltKCksIHR5cGU6IGZpbHRlclR5cGUgfTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLmVtaXQoJ29uRmlsdGVyQ2hhbmdlJywgdGhpcy5jdXJyZW50RmlsdGVyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEZpbHRlcjtcblx0fSkoRXZlbnRFbWl0dGVyKTtcblx0XG5cdGV4cG9ydHMuRmlsdGVyID0gRmlsdGVyO1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgU2VsZWN0Um93SGVhZGVyQ29sdW1uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFNlbGVjdFJvd0hlYWRlckNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFNlbGVjdFJvd0hlYWRlckNvbHVtbigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3RSb3dIZWFkZXJDb2x1bW4pO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlbGVjdFJvd0hlYWRlckNvbHVtbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFNlbGVjdFJvd0hlYWRlckNvbHVtbiwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgdGhTdHlsZSA9IHtcblx0ICAgICAgICB3aWR0aDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCkgPyB0aGlzLnByb3BzLndpZHRoIDogMzVcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGgnLFxuXHQgICAgICAgIHsgc3R5bGU6IHRoU3R5bGUgfSxcblx0ICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uJyB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBTZWxlY3RSb3dIZWFkZXJDb2x1bW47XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gU2VsZWN0Um93SGVhZGVyQ29sdW1uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF91dGlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWwpO1xuXHRcblx0dmFyIF9UYWJsZVJvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF9UYWJsZVJvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZVJvdyk7XG5cdFxuXHR2YXIgX1RhYmxlQ29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX1RhYmxlQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlQ29sdW1uKTtcblx0XG5cdHZhciBfVGFibGVFZGl0Q29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX1RhYmxlRWRpdENvbHVtbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUVkaXRDb2x1bW4pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBpc0Z1biA9IGZ1bmN0aW9uIGlzRnVuKG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiO1xuXHR9O1xuXHRcblx0dmFyIFRhYmxlQm9keSA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZUJvZHksIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZUJvZHkocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUJvZHkpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYmxlQm9keS5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIHRoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGN1cnJFZGl0Q2VsbDogbnVsbFxuXHQgICAgfTtcblx0ICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFRhYmxlQm9keSwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdGhpcy5hZGp1c3RCb2R5KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICAgIHRoaXMuYWRqdXN0Qm9keSgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJ0YWJsZS1jb250YWluZXJcIik7XG5cdFxuXHQgICAgICB2YXIgdGFibGVDbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcInRhYmxlXCIsIHtcblx0ICAgICAgICAndGFibGUtc3RyaXBlZCc6IHRoaXMucHJvcHMuc3RyaXBlZCxcblx0ICAgICAgICAndGFibGUtYm9yZGVyZWQnOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxuXHQgICAgICAgICd0YWJsZS1ob3Zlcic6IHRoaXMucHJvcHMuaG92ZXIsXG5cdCAgICAgICAgJ3RhYmxlLWNvbmRlbnNlZCc6IHRoaXMucHJvcHMuY29uZGVuc2VkXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIGlzU2VsZWN0Um93RGVmaW5lZCA9IHRoaXMuX2lzU2VsZWN0Um93RGVmaW5lZCgpO1xuXHQgICAgICB2YXIgdGFibGVIZWFkZXIgPSB0aGlzLnJlbmRlclRhYmxlSGVhZGVyKGlzU2VsZWN0Um93RGVmaW5lZCk7XG5cdFxuXHQgICAgICB2YXIgdGFibGVSb3dzID0gdGhpcy5wcm9wcy5kYXRhLm1hcChmdW5jdGlvbiAoZGF0YSwgcikge1xuXHQgICAgICAgIHZhciB0YWJsZUNvbHVtbnMgPSB0aGlzLnByb3BzLmNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgIHZhciBmaWVsZFZhbHVlID0gZGF0YVtjb2x1bW4ubmFtZV07XG5cdCAgICAgICAgICBpZiAodGhpcy5lZGl0aW5nICYmIGNvbHVtbi5uYW1lICE9PSB0aGlzLnByb3BzLmtleUZpZWxkICYmIC8vIEtleSBmaWVsZCBjYW4ndCBiZSBlZGl0XG5cdCAgICAgICAgICBjb2x1bW4uZWRpdGFibGUgJiYgLy8gY29sdW1uIGlzIGVkaXRhYmxlPyBkZWZhdWx0IGlzIHRydWUsIHVzZXIgY2FuIHNldCBpdCBmYWxzZVxuXHQgICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyRWRpdENlbGwgIT0gbnVsbCAmJiB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbC5yaWQgPT0gciAmJiB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbC5jaWQgPT0gaSkge1xuXHQgICAgICAgICAgICB2YXIgZm9ybWF0ID0gY29sdW1uLmZvcm1hdCA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBjb2x1bW4uZm9ybWF0KHZhbHVlLCBkYXRhLCBjb2x1bW4uZm9ybWF0RXh0cmFEYXRhKS5yZXBsYWNlKC88Lio/Pi9nLCAnJyk7XG5cdCAgICAgICAgICAgIH0gOiBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICBfVGFibGVFZGl0Q29sdW1uMlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgICAgIHsgY29tcGxldGVFZGl0OiB0aGlzLmhhbmRsZUNvbXBsZXRlRWRpdENlbGwuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgIC8vYWRkIGJ5IGJsdWVzcHJpbmcgZm9yIGNvbHVtbiBlZGl0b3IgY3VzdG9taXplXG5cdCAgICAgICAgICAgICAgICBlZGl0YWJsZTogaXNGdW4oY29sdW1uLmVkaXRhYmxlKSA/IGNvbHVtbi5lZGl0YWJsZShmaWVsZFZhbHVlLCBkYXRhLCByLCBpKSA6IGNvbHVtbi5lZGl0YWJsZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogY29sdW1uLmZvcm1hdCA/IGZvcm1hdCA6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAga2V5OiBpLFxuXHQgICAgICAgICAgICAgICAgYmx1clRvU2F2ZTogdGhpcy5wcm9wcy5jZWxsRWRpdC5ibHVyVG9TYXZlLFxuXHQgICAgICAgICAgICAgICAgcm93SW5kZXg6IHIsXG5cdCAgICAgICAgICAgICAgICBjb2xJbmRleDogaSB9LFxuXHQgICAgICAgICAgICAgIGZpZWxkVmFsdWVcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vYWRkIGJ5IGJsdWVzcHJpbmcgZm9yIGNsYXNzTmFtZSBjdXN0b21pemVcblx0ICAgICAgICAgICAgdmFyIHRkQ2xhc3NOYW1lID0gaXNGdW4oY29sdW1uLmNsYXNzTmFtZSkgPyBjb2x1bW4uY2xhc3NOYW1lKGZpZWxkVmFsdWUsIGRhdGEsIHIsIGkpIDogY29sdW1uLmNsYXNzTmFtZTtcblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY29sdW1uLmZvcm1hdCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IGNvbHVtbi5mb3JtYXQoZmllbGRWYWx1ZSwgZGF0YSwgY29sdW1uLmZvcm1hdEV4dHJhRGF0YSk7XG5cdCAgICAgICAgICAgICAgaWYgKCFfcmVhY3QyWydkZWZhdWx0J10uaXNWYWxpZEVsZW1lbnQoZm9ybWF0dGVkVmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogZm9ybWF0dGVkVmFsdWUgfSB9KTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX1RhYmxlQ29sdW1uMlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgICAgICAgeyBkYXRhQWxpZ246IGNvbHVtbi5hbGlnbixcblx0ICAgICAgICAgICAgICAgICAga2V5OiBpLFxuXHQgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRkQ2xhc3NOYW1lLFxuXHQgICAgICAgICAgICAgICAgICBjZWxsRWRpdDogdGhpcy5wcm9wcy5jZWxsRWRpdCxcblx0ICAgICAgICAgICAgICAgICAgaGlkZGVuOiBjb2x1bW4uaGlkZGVuLFxuXHQgICAgICAgICAgICAgICAgICBvbkVkaXQ6IHRoaXMuaGFuZGxlRWRpdENlbGwuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbHVtbi53aWR0aCB9LFxuXHQgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVcblx0ICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9UYWJsZUNvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgICAgICAgIHsgZGF0YUFsaWduOiBjb2x1bW4uYWxpZ24sXG5cdCAgICAgICAgICAgICAgICAgIGtleTogaSxcblx0ICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0ZENsYXNzTmFtZSxcblx0ICAgICAgICAgICAgICAgICAgY2VsbEVkaXQ6IHRoaXMucHJvcHMuY2VsbEVkaXQsXG5cdCAgICAgICAgICAgICAgICAgIGhpZGRlbjogY29sdW1uLmhpZGRlbixcblx0ICAgICAgICAgICAgICAgICAgb25FZGl0OiB0aGlzLmhhbmRsZUVkaXRDZWxsLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgICAgICAgIHdpZHRoOiBjb2x1bW4ud2lkdGggfSxcblx0ICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVcblx0ICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSwgdGhpcyk7XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5wcm9wcy5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihkYXRhW3RoaXMucHJvcHMua2V5RmllbGRdKSAhPSAtMTtcblx0ICAgICAgICB2YXIgc2VsZWN0Um93Q29sdW1uID0gaXNTZWxlY3RSb3dEZWZpbmVkICYmICF0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uID8gdGhpcy5yZW5kZXJTZWxlY3RSb3dDb2x1bW4oc2VsZWN0ZWQpIDogbnVsbDtcblx0ICAgICAgICAvL2FkZCBieSBibHVlc3ByaW5nIGZvciBjbGFzc05hbWUgY3VzdG9taXplXG5cdCAgICAgICAgdmFyIHRyQ2xhc3NOYW1lID0gaXNGdW4odGhpcy5wcm9wcy50ckNsYXNzTmFtZSkgPyB0aGlzLnByb3BzLnRyQ2xhc3NOYW1lKGRhdGEsIHIpIDogdGhpcy5wcm9wcy50ckNsYXNzTmFtZTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfVGFibGVSb3cyWydkZWZhdWx0J10sXG5cdCAgICAgICAgICB7IGlzU2VsZWN0ZWQ6IHNlbGVjdGVkLCBrZXk6IHIsIGNsYXNzTmFtZTogdHJDbGFzc05hbWUsXG5cdCAgICAgICAgICAgIHNlbGVjdFJvdzogaXNTZWxlY3RSb3dEZWZpbmVkID8gdGhpcy5wcm9wcy5zZWxlY3RSb3cgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgIGVuYWJsZUNlbGxFZGl0OiB0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfTk9ORSxcblx0ICAgICAgICAgICAgb25Sb3dDbGljazogdGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvblJvd01vdXNlT3ZlcjogdGhpcy5oYW5kbGVSb3dNb3VzZU92ZXIuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25Sb3dNb3VzZU91dDogdGhpcy5oYW5kbGVSb3dNb3VzZU91dC5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICBvblNlbGVjdFJvdzogdGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgc2VsZWN0Um93Q29sdW1uLFxuXHQgICAgICAgICAgdGFibGVDb2x1bW5zXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgICBpZiAodGFibGVSb3dzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHRhYmxlUm93cy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX1RhYmxlUm93MlsnZGVmYXVsdCddLFxuXHQgICAgICAgICAgeyBrZXk6ICcjI3RhYmxlLWVtcHR5IyMnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3RkJyxcblx0ICAgICAgICAgICAgeyBjb2xTcGFuOiB0aGlzLnByb3BzLmNvbHVtbnMubGVuZ3RoICsgKGlzU2VsZWN0Um93RGVmaW5lZCA/IDEgOiAwKSxcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyZWFjdC1icy10YWJsZS1uby1kYXRhJyB9LFxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm5vRGF0YVRleHQgfHwgX0NvbnN0MlsnZGVmYXVsdCddLk5PX0RBVEFfVEVYVFxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLmVkaXRpbmcgPSBmYWxzZTtcblx0XG5cdCAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhbGN1bGF0ZUNvbnRhaW5lckhlaWdodCgpLnRvU3RyaW5nKCk7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyByZWY6ICdjb250YWluZXInLCBjbGFzc05hbWU6IGNvbnRhaW5lckNsYXNzZXMsIHN0eWxlOiB7IGhlaWdodDogaGVpZ2h0IH0gfSxcblx0ICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0YWJsZScsXG5cdCAgICAgICAgICB7IHJlZjogJ2JvZHknLCBjbGFzc05hbWU6IHRhYmxlQ2xhc3NlcyB9LFxuXHQgICAgICAgICAgdGFibGVIZWFkZXIsXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3Rib2R5Jyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgdGFibGVSb3dzXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlclRhYmxlSGVhZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUYWJsZUhlYWRlcihpc1NlbGVjdFJvd0RlZmluZWQpIHtcblx0ICAgICAgdmFyIHNlbGVjdFJvd0hlYWRlciA9IG51bGw7XG5cdFxuXHQgICAgICBpZiAoaXNTZWxlY3RSb3dEZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHN0eWxlID0ge1xuXHQgICAgICAgICAgd2lkdGg6IDM1LFxuXHQgICAgICAgICAgbWluV2lkdGg6IDM1XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBzZWxlY3RSb3dIZWFkZXIgPSB0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uID8gbnVsbCA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCd0aCcsIHsgc3R5bGU6IHN0eWxlLCBrZXk6IC0xIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciB0aGVhZGVyID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgdmFyIHdpZHRoID0gY29sdW1uLndpZHRoID09IG51bGwgPyBjb2x1bW4ud2lkdGggOiBwYXJzZUludChjb2x1bW4ud2lkdGgpO1xuXHQgICAgICAgIHZhciBzdHlsZSA9IHtcblx0ICAgICAgICAgIGRpc3BsYXk6IGNvbHVtbi5oaWRkZW4gPyBcIm5vbmVcIiA6IG51bGwsXG5cdCAgICAgICAgICB3aWR0aDogd2lkdGgsXG5cdCAgICAgICAgICBtYXhXaWR0aDogd2lkdGhcblx0ICAgICAgICAgIC8qKiBhZGQgbWluLXdkdGggdG8gZml4IHVzZXIgYXNzaWduIGNvbHVtbiB3aWR0aCBub3QgZXEgb2Zmc2V0V2lkdGggaW4gbGFyZ2UgY29sdW1uIHRhYmxlICoqL1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIHNvcnRDYWVydCA9IGNvbHVtbi5zb3J0ID8gX3V0aWwyWydkZWZhdWx0J10ucmVuZGVyUmVhY3RTb3J0Q2FyZXQoX0NvbnN0MlsnZGVmYXVsdCddLlNPUlRfREVTQykgOiBudWxsO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0aCcsXG5cdCAgICAgICAgICB7IHN0eWxlOiBzdHlsZSwga2V5OiBpLCBjbGFzc05hbWU6IGNvbHVtbi5jbGFzc05hbWUgfSxcblx0ICAgICAgICAgIGNvbHVtbi50ZXh0LFxuXHQgICAgICAgICAgc29ydENhZXJ0XG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RoZWFkJyxcblx0ICAgICAgICB7IHJlZjogJ2hlYWRlcicgfSxcblx0ICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0cicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgc2VsZWN0Um93SGVhZGVyLFxuXHQgICAgICAgICAgdGhlYWRlclxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVSb3dNb3VzZU91dCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm93TW91c2VPdXQocm93SW5kZXgpIHtcblx0ICAgICAgdmFyIHRhcmdldFJvdyA9IHRoaXMucHJvcHMuZGF0YVtyb3dJbmRleCAtIDFdO1xuXHQgICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdXQodGFyZ2V0Um93KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVSb3dNb3VzZU92ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvd01vdXNlT3Zlcihyb3dJbmRleCkge1xuXHQgICAgICB2YXIgdGFyZ2V0Um93ID0gdGhpcy5wcm9wcy5kYXRhW3Jvd0luZGV4IC0gMV07XG5cdCAgICAgIHRoaXMucHJvcHMub25Sb3dNb3VzZU92ZXIodGFyZ2V0Um93KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVSb3dDbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm93Q2xpY2socm93SW5kZXgpIHtcblx0ICAgICAgdmFyIGtleSwgc2VsZWN0ZWRSb3c7XG5cdCAgICAgIHRoaXMucHJvcHMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3csIGkpIHtcblx0ICAgICAgICBpZiAoaSA9PSByb3dJbmRleCAtIDEpIHtcblx0ICAgICAgICAgIGtleSA9IHJvd1t0aGlzLnByb3BzLmtleUZpZWxkXTtcblx0ICAgICAgICAgIHNlbGVjdGVkUm93ID0gcm93O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICAgIHRoaXMucHJvcHMub25Sb3dDbGljayhzZWxlY3RlZFJvdyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlU2VsZWN0Um93Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RSb3cocm93SW5kZXgsIGlzU2VsZWN0ZWQpIHtcblx0ICAgICAgdmFyIGtleSwgc2VsZWN0ZWRSb3c7XG5cdCAgICAgIHRoaXMucHJvcHMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3csIGkpIHtcblx0ICAgICAgICBpZiAoaSA9PSByb3dJbmRleCAtIDEpIHtcblx0ICAgICAgICAgIGtleSA9IHJvd1t0aGlzLnByb3BzLmtleUZpZWxkXTtcblx0ICAgICAgICAgIHNlbGVjdGVkUm93ID0gcm93O1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICAgIHRoaXMucHJvcHMub25TZWxlY3RSb3coc2VsZWN0ZWRSb3csIGlzU2VsZWN0ZWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZShlKSB7XG5cdCAgICAgIGlmICghdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCB8fCAhdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsKSB7XG5cdCAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3RSb3coZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yb3dJbmRleCwgZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlRWRpdENlbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUVkaXRDZWxsKHJvd0luZGV4LCBjb2x1bW5JbmRleCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmcgPSB0cnVlO1xuXHQgICAgICBpZiAodGhpcy5faXNTZWxlY3RSb3dEZWZpbmVkKCkpIHtcblx0ICAgICAgICBjb2x1bW5JbmRleC0tO1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uKSBjb2x1bW5JbmRleCsrO1xuXHQgICAgICB9XG5cdCAgICAgIHJvd0luZGV4LS07XG5cdCAgICAgIHZhciBzdGF0ZU9iaiA9IHtcblx0ICAgICAgICBjdXJyRWRpdENlbGw6IHtcblx0ICAgICAgICAgIHJpZDogcm93SW5kZXgsXG5cdCAgICAgICAgICBjaWQ6IGNvbHVtbkluZGV4XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkge1xuXHQgICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0Um93KHJvd0luZGV4ICsgMSwgdHJ1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZU9iaik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2FuY2VsRWRpdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2FuY2VsRWRpdCgpIHtcblx0ICAgICAgdmFyIGN1cnJFZGl0Q2VsbCA9IHRoaXMuc3RhdGUuY3VyckVkaXRDZWxsO1xuXHQgICAgICBpZiAoY3VyckVkaXRDZWxsKSB7XG5cdCAgICAgICAgdGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsKG51bGwsIGN1cnJFZGl0Q2VsbC5yaWQsIGN1cnJFZGl0Q2VsbC5jaWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlQ29tcGxldGVFZGl0Q2VsbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ29tcGxldGVFZGl0Q2VsbChuZXdWYWwsIHJvd0luZGV4LCBjb2x1bW5JbmRleCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHsgY3VyckVkaXRDZWxsOiBudWxsIH0pO1xuXHQgICAgICBpZiAobnVsbCAhPSBuZXdWYWwpIHRoaXMucHJvcHMuY2VsbEVkaXQuX19vbkNvbXBsZXRlRWRpdF9fKG5ld1ZhbCwgcm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXJTZWxlY3RSb3dDb2x1bW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclNlbGVjdFJvd0NvbHVtbihzZWxlY3RlZCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9TSU5HTEUpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfVGFibGVDb2x1bW4yWydkZWZhdWx0J10sXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAncmFkaW8nLCBuYW1lOiAnc2VsZWN0aW9uJywgY2hlY2tlZDogc2VsZWN0ZWQsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlLmJpbmQodGhpcykgfSlcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9UYWJsZUNvbHVtbjJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcsIGNoZWNrZWQ6IHNlbGVjdGVkLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZS5iaW5kKHRoaXMpIH0pXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEJvZHlIZWFkZXJEb21Qcm9wJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb2R5SGVhZGVyRG9tUHJvcCgpIHtcblx0ICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlcztcblx0ICAgICAgdmFyIGhlYWRlckRvbVByb3BzID0gW107XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGhlYWRlckRvbVByb3BzLnB1c2goe1xuXHQgICAgICAgICAgd2lkdGg6IGhlYWRlcnNbaV0ub2Zmc2V0V2lkdGhcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gaGVhZGVyRG9tUHJvcHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWRqdXN0Qm9keScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRqdXN0Qm9keSgpIHtcblx0ICAgICAgdGhpcy5oYXJkRml4SGVhZGVyV2lkdGgoKTtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY29uZGVuc2VkKSB7XG5cdCAgICAgICAgdGhpcy5yZWZzLmJvZHkuc3R5bGUubWFyZ2luVG9wID0gXCItMzZweFwiO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5tYXhIZWlnaHQgJiYgcGFyc2VJbnQodGhpcy5wcm9wcy5tYXhIZWlnaHQpIDwgdGhpcy5yZWZzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQpIHtcblx0ICAgICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMucHJvcHMubWF4SGVpZ2h0IC0gNDIgKyBcInB4XCI7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXJkRml4SGVhZGVyV2lkdGgnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhcmRGaXhIZWFkZXJXaWR0aCgpIHtcblx0ICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlcztcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaGVhZGVyc1tpXS5zdHlsZS53aWR0aCA9IGhlYWRlcnNbaV0ub2Zmc2V0V2lkdGggKyBcInB4XCI7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjYWxjdWxhdGVDb250YWluZXJIZWlnaHQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZUNvbnRhaW5lckhlaWdodCgpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuaGVpZ2h0ID09IFwiMTAwJVwiKSByZXR1cm4gdGhpcy5wcm9wcy5oZWlnaHQ7ZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMucHJvcHMuaGVpZ2h0KSAtIDQyO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2lzU2VsZWN0Um93RGVmaW5lZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2lzU2VsZWN0Um93RGVmaW5lZCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSB8fCB0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlID09PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZUJvZHk7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVCb2R5LnByb3BUeXBlcyA9IHtcblx0ICBoZWlnaHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGRhdGE6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgY29sdW1uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSxcblx0ICBzdHJpcGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgYm9yZGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBob3ZlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbmRlbnNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGtleUZpZWxkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzZWxlY3RlZFJvd0tleXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgb25Sb3dDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uU2VsZWN0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgbm9EYXRhVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVGFibGVCb2R5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgVGFibGVDb2x1bW4gPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUYWJsZUNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVGFibGVDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVDb2x1bW4pO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUNvbHVtbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGFibGVDb2x1bW4sIFt7XG5cdCAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cdFxuXHQgICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlZCA9IHRoaXMucHJvcHMud2lkdGggIT09IG5leHRQcm9wcy53aWR0aCB8fCB0aGlzLnByb3BzLmNsYXNzTmFtZSAhPT0gbmV4dFByb3BzLmNsYXNzTmFtZSB8fCB0aGlzLnByb3BzLmhpZGRlbiAhPT0gbmV4dFByb3BzLmhpZGRlbiB8fCB0aGlzLnByb3BzLmRhdGFBbGlnbiAhPT0gbmV4dFByb3BzLmRhdGFBbGlnbiB8fCB0eXBlb2YgY2hpbGRyZW4gIT09IHR5cGVvZiBuZXh0UHJvcHMuY2hpbGRyZW4gfHwgKCcnICsgdGhpcy5wcm9wcy5vbkVkaXQpLnRvU3RyaW5nKCkgIT09ICgnJyArIG5leHRQcm9wcy5vbkVkaXQpLnRvU3RyaW5nKCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlZCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZWQ7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnICYmIGNoaWxkcmVuICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4ucHJvcHMudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBjaGlsZHJlbi5wcm9wcy50eXBlID09PSAncmFkaW8nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHwgY2hpbGRyZW4ucHJvcHMudHlwZSAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLnR5cGUgfHwgY2hpbGRyZW4ucHJvcHMuY2hlY2tlZCAhPT0gbmV4dFByb3BzLmNoaWxkcmVuLnByb3BzLmNoZWNrZWQ7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHwgY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoISh0aGlzLnByb3BzLmNlbGxFZGl0ICYmIG5leHRQcm9wcy5jZWxsRWRpdCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkIHx8IHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSAhPT0gbmV4dFByb3BzLmNlbGxFZGl0Lm1vZGU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlQ2VsbEVkaXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDZWxsRWRpdChlKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLkNFTExfRURJVF9EQkNMSUNLKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkVkaXQoZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucm93SW5kZXgsIGUuY3VycmVudFRhcmdldC5jZWxsSW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMucHJvcHMud2lkdGggPT0gbnVsbCA/IHRoaXMucHJvcHMud2lkdGggOiB0aGlzLnByb3BzLndpZHRoLmluZGV4T2YoJyUnKSAhPT0gLTEgPyB0aGlzLnByb3BzLndpZHRoIDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCk7XG5cdCAgICAgICAgICAgIHZhciB0ZFN0eWxlID0ge1xuXHQgICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0aGlzLnByb3BzLmRhdGFBbGlnbixcblx0ICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuXHQgICAgICAgICAgICAgICAgbWF4V2lkdGg6IHdpZHRoXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHZhciBjbGFzc25hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMud2lkdGgpIHtcblx0ICAgICAgICAgICAgICAgIGNsYXNzbmFtZSArPSBcIiBjb2wtbWQtXCIgKyB3aWR0aDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIG9wdHMgPSB7fTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLkNFTExfRURJVF9DTElDSykge1xuXHQgICAgICAgICAgICAgICAgICAgIG9wdHMub25DbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5DRUxMX0VESVRfREJDTElDSykge1xuXHQgICAgICAgICAgICAgICAgICAgIG9wdHMub25Eb3VibGVDbGljayA9IHRoaXMuaGFuZGxlQ2VsbEVkaXQuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAgICAgICAgX2V4dGVuZHMoeyBzdHlsZTogdGRTdHlsZSwgY2xhc3NOYW1lOiBjbGFzc25hbWUgfSwgb3B0cyksXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUYWJsZUNvbHVtbjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZUNvbHVtbi5wcm9wVHlwZXMgPSB7XG5cdCAgICBkYXRhQWxpZ246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgaGlkZGVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRUYWJsZUNvbHVtbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBkYXRhQWxpZ246IFwibGVmdFwiLFxuXHQgICAgaGlkZGVuOiBmYWxzZSxcblx0ICAgIGNsYXNzTmFtZTogXCJcIlxuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUNvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX0VkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX0VkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FZGl0b3IpO1xuXHRcblx0dmFyIF9Ob3RpZmljYXRpb25KcyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX05vdGlmaWNhdGlvbkpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vdGlmaWNhdGlvbkpzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgVGFibGVFZGl0Q29sdW1uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVGFibGVFZGl0Q29sdW1uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUYWJsZUVkaXRDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVFZGl0Q29sdW1uKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVFZGl0Q29sdW1uLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHQgICAgICAgIHRoaXMudGltZW91dGVDbGVhciA9IDA7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2hha2VFZGl0b3I6IGZhbHNlXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGFibGVFZGl0Q29sdW1uLCBbe1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUtleVByZXNzJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG5cdCAgICAgICAgICAgICAgICAvL1ByZXNzZWQgRU5URVJcblx0ICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC50eXBlID09ICdjaGVja2JveCcgPyB0aGlzLl9nZXRDaGVja0JveFZhbHVlKGUpIDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQodmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQobnVsbCwgdGhpcy5wcm9wcy5yb3dJbmRleCwgdGhpcy5wcm9wcy5jb2xJbmRleCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlQmx1cicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUJsdXIoZSkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5ibHVyVG9TYXZlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudHlwZSA9PSAnY2hlY2tib3gnID8gdGhpcy5fZ2V0Q2hlY2tCb3hWYWx1ZShlKSA6IGUuY3VycmVudFRhcmdldC52YWx1ZTtcblx0ICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZUVkaXQodmFsdWUsIHRoaXMucHJvcHMucm93SW5kZXgsIHRoaXMucHJvcHMuY29sSW5kZXgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3ZhbGlkYXRvcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkge1xuXHQgICAgICAgICAgICB2YXIgdHMgPSB0aGlzO1xuXHQgICAgICAgICAgICBpZiAodHMucHJvcHMuZWRpdGFibGUudmFsaWRhdG9yKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSB0cy5wcm9wcy5lZGl0YWJsZS52YWxpZGF0b3IodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHZhbGlkICE9PSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgdmFsaWQsIFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0cy5yZWZzLmlucHV0UmVmO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vYW5pbWF0ZSBpbnB1dFxuXHQgICAgICAgICAgICAgICAgICAgIHRzLmNsZWFyVGltZW91dCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHsgc2hha2VFZGl0b3I6IHRydWUgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgdHMudGltZW91dGVDbGVhciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7IHNoYWtlRWRpdG9yOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuXHQgICAgICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjbGVhclRpbWVvdXQnLFxuXHQgICAgICAgIHZhbHVlOiAoZnVuY3Rpb24gKF9jbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJUaW1lb3V0KCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jbGVhclRpbWVvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgY2xlYXJUaW1lb3V0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jbGVhclRpbWVvdXQudG9TdHJpbmcoKTtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSkoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy50aW1lb3V0ZUNsZWFyICE9IDApIHtcblx0ICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRlQ2xlYXIpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5yZWZzLmlucHV0UmVmO1xuXHQgICAgICAgICAgICAvLyBpbnB1dC52YWx1ZSA9IHRoaXMucHJvcHMuY2hpbGRyZW58fCcnO1xuXHQgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IHRoaXMucHJvcHMuZWRpdGFibGUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdCxcblx0ICAgICAgICAgICAgICAgIGF0dHIgPSB7XG5cdCAgICAgICAgICAgICAgICByZWY6IFwiaW5wdXRSZWZcIixcblx0ICAgICAgICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlQcmVzcy5iaW5kKHRoaXMpLFxuXHQgICAgICAgICAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIuYmluZCh0aGlzKVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvL3B1dCBwbGFjZWhvbGRlciBpZiBleGlzdFxuXHQgICAgICAgICAgICBlZGl0YWJsZS5wbGFjZWhvbGRlciAmJiAoYXR0ci5wbGFjZWhvbGRlciA9IGVkaXRhYmxlLnBsYWNlaG9sZGVyKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBlZGl0b3JDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoeyAnYW5pbWF0ZWQnOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yLCAnc2hha2UnOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yIH0pO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAgICAgICAgeyByZWY6ICd0ZCcsIHN0eWxlOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0gfSxcblx0ICAgICAgICAgICAgICAgICgwLCBfRWRpdG9yMlsnZGVmYXVsdCddKShlZGl0YWJsZSwgYXR0ciwgZm9ybWF0LCBlZGl0b3JDbGFzcywgdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCAnJyksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uSnMyWydkZWZhdWx0J10sIHsgcmVmOiAnbm90aWZpZXInIH0pXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ19nZXRDaGVja0JveFZhbHVlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENoZWNrQm94VmFsdWUoZSkge1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcblx0ICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGUuY3VycmVudFRhcmdldC52YWx1ZS5zcGxpdCgnOicpO1xuXHQgICAgICAgICAgICB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC5jaGVja2VkID8gdmFsdWVzWzBdIDogdmFsdWVzWzFdO1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUYWJsZUVkaXRDb2x1bW47XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVFZGl0Q29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICAgIGNvbXBsZXRlRWRpdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcm93SW5kZXg6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgY29sSW5kZXg6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgYmx1clRvU2F2ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUVkaXRDb2x1bW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgVGFibGVGaWx0ZXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZUZpbHRlcihwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlRmlsdGVyKTtcblx0XG5cdCAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgIHRoaXMuZmlsdGVyT2JqID0ge307XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVGaWx0ZXIsIFt7XG5cdCAgICBrZXk6ICdoYW5kbGVLZXlVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5VXAoZSkge1xuXHQgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikgZGVsZXRlIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXTtlbHNlIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcblx0XG5cdCAgICAgIHRoaXMucHJvcHMub25GaWx0ZXIodGhpcy5maWx0ZXJPYmopO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgdGFibGVDbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcInRhYmxlXCIsIHtcblx0ICAgICAgICAndGFibGUtc3RyaXBlZCc6IHRoaXMucHJvcHMuc3RyaXBlZCxcblx0ICAgICAgICAndGFibGUtY29uZGVuc2VkJzogdGhpcy5wcm9wcy5jb25kZW5zZWRcblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBzZWxlY3RSb3dIZWFkZXIgPSBudWxsO1xuXHRcblx0ICAgICAgaWYgKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9TSU5HTEUgfHwgdGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX01VTFRJKSB7XG5cdCAgICAgICAgdmFyIHN0eWxlID0ge1xuXHQgICAgICAgICAgd2lkdGg6IDM1LFxuXHQgICAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXG5cdCAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHNlbGVjdFJvd0hlYWRlciA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgIHsgc3R5bGU6IHN0eWxlLCBrZXk6IC0xIH0sXG5cdCAgICAgICAgICAnRmlsdGVyJ1xuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGZpbHRlckZpZWxkID0gdGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgdmFyIHRoU3R5bGUgPSB7XG5cdCAgICAgICAgICBkaXNwbGF5OiBjb2x1bW4uaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxuXHQgICAgICAgICAgd2lkdGg6IGNvbHVtbi53aWR0aFxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgIHsga2V5OiBjb2x1bW4ubmFtZSwgc3R5bGU6IHRoU3R5bGUgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHNpemU6ICcxMCcsIHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6IGNvbHVtbi5uYW1lLCBuYW1lOiBjb2x1bW4ubmFtZSwgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpIH0pXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGFibGUnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiB0YWJsZUNsYXNzZXMsIHN0eWxlOiB7IG1hcmdpblRvcDogNSB9IH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGhlYWQnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgICB7IHN0eWxlOiB7IGJvcmRlckJvdHRvbVN0eWxlOiAnaGlkZGVuJyB9IH0sXG5cdCAgICAgICAgICAgIHNlbGVjdFJvd0hlYWRlcixcblx0ICAgICAgICAgICAgZmlsdGVyRmllbGRcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gVGFibGVGaWx0ZXI7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVGaWx0ZXIucHJvcFR5cGVzID0ge1xuXHQgIGNvbHVtbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgcm93U2VsZWN0VHlwZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgb25GaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUZpbHRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3V0aWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9TZWxlY3RSb3dIZWFkZXJDb2x1bW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfU2VsZWN0Um93SGVhZGVyQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdFJvd0hlYWRlckNvbHVtbik7XG5cdFxuXHR2YXIgQ2hlY2tib3ggPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDaGVja2JveCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGVja2JveCk7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hlY2tib3gucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDaGVja2JveCwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdGhpcy51cGRhdGUodGhpcy5wcm9wcy5jaGVja2VkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG5cdCAgICAgIHRoaXMudXBkYXRlKHByb3BzLmNoZWNrZWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3VwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGNoZWNrZWQpIHtcblx0ICAgICAgX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMpLmluZGV0ZXJtaW5hdGUgPSBjaGVja2VkID09PSAnaW5kZXRlcm1pbmF0ZSc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGNsYXNzTmFtZTogJ3JlYWN0LWJzLXNlbGVjdC1hbGwnLCB0eXBlOiAnY2hlY2tib3gnLCBjaGVja2VkOiB0aGlzLnByb3BzLmNoZWNrZWQsIG9uQ2hhbmdlOiB0aGlzLnByb3BzLm9uQ2hhbmdlIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIENoZWNrYm94O1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdHZhciBUYWJsZUhlYWRlciA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQyKTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVIZWFkZXIocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUhlYWRlcik7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFibGVIZWFkZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoID0gbnVsbDtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUYWJsZUhlYWRlciwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgY29udGFpbmVyQ2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoXCJ0YWJsZS1oZWFkZXJcIik7XG5cdCAgICAgIHZhciB0YWJsZUNsYXNzZXMgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwidGFibGVcIiwgXCJ0YWJsZS1ob3ZlclwiLCB7XG5cdCAgICAgICAgXCJ0YWJsZS1ib3JkZXJlZFwiOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxuXHQgICAgICAgIFwidGFibGUtY29uZGVuc2VkXCI6IHRoaXMucHJvcHMuY29uZGVuc2VkXG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgc2VsZWN0Um93SGVhZGVyQ29sID0gdGhpcy5wcm9wcy5oaWRlU2VsZWN0Q29sdW1uID8gbnVsbCA6IHRoaXMucmVuZGVyU2VsZWN0Um93SGVhZGVyKCk7XG5cdCAgICAgIHRoaXMuX2F0dGFjaENsZWFyU29ydENhcmV0RnVuYygpO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndGFibGUtaGVhZGVyLXdyYXBwZXInIH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgcmVmOiAnY29udGFpbmVyJywgY2xhc3NOYW1lOiBjb250YWluZXJDbGFzc2VzIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3RhYmxlJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHRhYmxlQ2xhc3NlcywgaWQ6IHRoaXMucHJvcHMudGFibGVJRCB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAndGhlYWQnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgICAgICAgeyByZWY6ICdoZWFkZXInIH0sXG5cdCAgICAgICAgICAgICAgICBzZWxlY3RSb3dIZWFkZXJDb2wsXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlclNlbGVjdFJvd0hlYWRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyU2VsZWN0Um93SGVhZGVyKCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IF9Db25zdDJbJ2RlZmF1bHQnXS5ST1dfU0VMRUNUX1NJTkdMRSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfU2VsZWN0Um93SGVhZGVyQ29sdW1uMlsnZGVmYXVsdCddLCB7IHdpZHRoOiB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoIH0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9TZWxlY3RSb3dIZWFkZXJDb2x1bW4yWydkZWZhdWx0J10sXG5cdCAgICAgICAgICB7IHdpZHRoOiB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChDaGVja2JveCwgeyBvbkNoYW5nZTogdGhpcy5wcm9wcy5vblNlbGVjdEFsbFJvdywgY2hlY2tlZDogdGhpcy5wcm9wcy5pc1NlbGVjdEFsbCB9KVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jKCkge1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbltpXS5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgICB2YXIgc29ydCA9IGZpZWxkID09PSB0aGlzLnByb3BzLnNvcnROYW1lID8gdGhpcy5wcm9wcy5zb3J0T3JkZXIgOiB1bmRlZmluZWQ7XG5cdCAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuW2ldID0gX3JlYWN0MlsnZGVmYXVsdCddLmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuW2ldLCB7IGtleTogaSwgb25Tb3J0OiB0aGlzLnByb3BzLm9uU29ydCwgc29ydDogc29ydCB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5kYXRhRmllbGQ7XG5cdCAgICAgICAgdmFyIHNvcnQgPSBmaWVsZCA9PT0gdGhpcy5wcm9wcy5zb3J0TmFtZSA/IHRoaXMucHJvcHMuc29ydE9yZGVyIDogdW5kZWZpbmVkO1xuXHQgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4gPSBfcmVhY3QyWydkZWZhdWx0J10uY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4sIHsga2V5OiAwLCBvblNvcnQ6IHRoaXMucHJvcHMub25Tb3J0LCBzb3J0OiBzb3J0IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZml0SGVhZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaXRIZWFkZXIoaGVhZGVyUHJvcHMsIGlzVmVydGljYWxTY3JvbGxCYXIpIHtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpIHtcblx0ICAgICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9ICh0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gX0NvbnN0MlsnZGVmYXVsdCddLlJPV19TRUxFQ1RfU0lOR0xFIHx8IHRoaXMucHJvcHMucm93U2VsZWN0VHlwZSA9PSBfQ29uc3QyWydkZWZhdWx0J10uUk9XX1NFTEVDVF9NVUxUSSkgJiYgIXRoaXMucHJvcHMuaGlkZVNlbGVjdENvbHVtbiA/IDEgOiAwO1xuXHQgICAgICAgIGlmIChzdGFydFBvc2l0aW9uID09IDEpIHRoaXMuc2VsZWN0Um93Q29sdW1uV2lkdGggPSBoZWFkZXJQcm9wc1swXS53aWR0aDtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5baV0gPSBfcmVhY3QyWydkZWZhdWx0J10uY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW5baV0sIHsgd2lkdGg6IGhlYWRlclByb3BzW2kgKyBzdGFydFBvc2l0aW9uXS53aWR0aCArIFwicHhcIiB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbiwgeyB3aWR0aDogaGVhZGVyUHJvcHNbMF0ud2lkdGggKyBcInB4XCIgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMucHJvcHMuY29uZGVuc2VkICYmICF0aGlzLnByb3BzLmlzRmlsdGVyZWQpIHtcblx0ICAgICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMzZweFwiO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcblx0ICAgICAgaWYgKGlzVmVydGljYWxTY3JvbGxCYXIpIHRoaXMucmVmcy5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBfdXRpbDJbJ2RlZmF1bHQnXS5nZXRTY3JvbGxCYXJXaWR0aCgpICsgXCJweFwiO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlSGVhZGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlSGVhZGVyLnByb3BUeXBlcyA9IHtcblx0ICByb3dTZWxlY3RUeXBlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBvblNvcnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblNlbGVjdEFsbFJvdzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIHNvcnROYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzb3J0T3JkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGhpZGVTZWxlY3RDb2x1bW46IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBib3JkZXJlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbmRlbnNlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGlzRmlsdGVyZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBpc1NlbGVjdEFsbDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ2luZGV0ZXJtaW5hdGUnLCBmYWxzZV0pXG5cdH07XG5cdFxuXHRUYWJsZUhlYWRlci5kZWZhdWx0UHJvcHMgPSB7fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVGFibGVIZWFkZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF91dGlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWwpO1xuXHRcblx0dmFyIF9maWx0ZXJzRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9maWx0ZXJzRGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maWx0ZXJzRGF0ZSk7XG5cdFxuXHR2YXIgX2ZpbHRlcnNUZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX2ZpbHRlcnNUZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlcnNUZXh0KTtcblx0XG5cdHZhciBfZmlsdGVyc1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9maWx0ZXJzU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlcnNTZWxlY3QpO1xuXHRcblx0dmFyIF9maWx0ZXJzTnVtYmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdFxuXHR2YXIgX2ZpbHRlcnNOdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsdGVyc051bWJlcik7XG5cdFxuXHR2YXIgVGFibGVIZWFkZXJDb2x1bW4gPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUYWJsZUhlYWRlckNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVGFibGVIZWFkZXJDb2x1bW4ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVIZWFkZXJDb2x1bW4pO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJsZUhlYWRlckNvbHVtbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICB0aGlzLmhhbmRsZUZpbHRlciA9IHRoaXMuaGFuZGxlRmlsdGVyLmJpbmQodGhpcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFRhYmxlSGVhZGVyQ29sdW1uLCBbe1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUNvbHVtbkNsaWNrJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ29sdW1uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvcnQpIHJldHVybjtcblx0ICAgICAgICAgICAgdmFyIG9yZGVyID0gdGhpcy5wcm9wcy5zb3J0ID09IF9Db25zdDJbJ2RlZmF1bHQnXS5TT1JUX0RFU0MgPyBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9BU0MgOiBfQ29uc3QyWydkZWZhdWx0J10uU09SVF9ERVNDO1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uU29ydChvcmRlciwgdGhpcy5wcm9wcy5kYXRhRmllbGQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVGaWx0ZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIodmFsdWUsIHR5cGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXIuZW1pdHRlci5oYW5kbGVGaWx0ZXIodGhpcy5wcm9wcy5kYXRhRmllbGQsIHZhbHVlLCB0eXBlKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0RmlsdGVycycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpbHRlcnMoKSB7XG5cdCAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5maWx0ZXIudHlwZSkge1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuVEVYVDpcblx0ICAgICAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfZmlsdGVyc1RleHQyWydkZWZhdWx0J10sIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmZpbHRlciwgeyBjb2x1bW5OYW1lOiB0aGlzLnByb3BzLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXIgfSkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGNhc2UgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLlNFTEVDVDpcblx0ICAgICAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfZmlsdGVyc1NlbGVjdDJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuZmlsdGVyLCB7IGNvbHVtbk5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyOiB0aGlzLmhhbmRsZUZpbHRlciB9KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuTlVNQkVSOlxuXHQgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJzTnVtYmVyMlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5maWx0ZXIsIHsgY29sdW1uTmFtZTogdGhpcy5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyIH0pKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5EQVRFOlxuXHQgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJzRGF0ZTJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuZmlsdGVyLCB7IGNvbHVtbk5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJIYW5kbGVyOiB0aGlzLmhhbmRsZUZpbHRlciB9KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY2FzZSBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuQ1VTVE9NOlxuXHQgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZmlsdGVyLmdldEVsZW1lbnQodGhpcy5oYW5kbGVGaWx0ZXIsIHRoaXMucHJvcHMuZmlsdGVyLmN1c3RvbUZpbHRlclBhcmFtZXRlcnMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgICAgICB0aGlzLnJlZnMuaW5uZXJEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1maWVsZFwiLCB0aGlzLnByb3BzLmRhdGFGaWVsZCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5wcm9wcy53aWR0aCA9PSBudWxsID8gdGhpcy5wcm9wcy53aWR0aCA6IHRoaXMucHJvcHMud2lkdGguaW5kZXhPZignJScpICE9PSAtMSA/IHRoaXMucHJvcHMud2lkdGggOiBwYXJzZUludCh0aGlzLnByb3BzLndpZHRoKTtcblx0ICAgICAgICAgICAgdmFyIHRoU3R5bGUgPSB7XG5cdCAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IHRoaXMucHJvcHMuZGF0YUFsaWduLFxuXHQgICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy5oaWRkZW4gPyBcIm5vbmVcIiA6IG51bGwsXG5cdCAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG5cdCAgICAgICAgICAgICAgICBtYXhXaWR0aDogd2lkdGhcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0Q2FyZXQgPSAhdGhpcy5wcm9wcy5kYXRhU29ydCA/IG51bGwgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnb3JkZXInIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkcm9wZG93bicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnY2FyZXQnLCBzdHlsZTogeyBtYXJnaW46ICcxMHB4IDAgMTBweCA1cHgnLCBjb2xvcjogJyNjY2MnIH0gfSlcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkcm9wdXAnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2NhcmV0Jywgc3R5bGU6IHsgbWFyZ2luOiAnMTBweCAwJywgY29sb3I6ICcjY2NjJyB9IH0pXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIHZhciBzb3J0Q2FyZXQgPSB0aGlzLnByb3BzLnNvcnQgPyBfdXRpbDJbJ2RlZmF1bHQnXS5yZW5kZXJSZWFjdFNvcnRDYXJldCh0aGlzLnByb3BzLnNvcnQpIDogZGVmYXVsdENhcmV0O1xuXHRcblx0ICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIFwiICsgKHRoaXMucHJvcHMuZGF0YVNvcnQgPyBcInNvcnQtY29sdW1uXCIgOiBcIlwiKTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3RoJyxcblx0ICAgICAgICAgICAgICAgIHsgcmVmOiAnaGVhZGVyLWNvbCcsIGNsYXNzTmFtZTogY2xhc3Nlcywgc3R5bGU6IHRoU3R5bGUgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgcmVmOiAnaW5uZXJEaXYnLCBjbGFzc05hbWU6ICd0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDb2x1bW5DbGljay5iaW5kKHRoaXMpIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgICAgICAgICBzb3J0Q2FyZXRcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlciA/IHRoaXMuZ2V0RmlsdGVycygpIDogbnVsbFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVGFibGVIZWFkZXJDb2x1bW47XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0dmFyIGZpbHRlclR5cGVBcnJheSA9IFtdO1xuXHRmb3IgKHZhciBrZXkgaW4gX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFKSB7XG5cdCAgICBmaWx0ZXJUeXBlQXJyYXkucHVzaChfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEVba2V5XSk7XG5cdH1cblx0XG5cdFRhYmxlSGVhZGVyQ29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICAgIGRhdGFGaWVsZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkYXRhQWxpZ246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGF0YVNvcnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uU29ydDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGF0YUZvcm1hdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgaXNLZXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGVkaXRhYmxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSxcblx0ICAgIGhpZGRlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHdpZHRoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNvcnRGdW5jOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBjb2x1bW5DbGFzc05hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LFxuXHQgICAgZmlsdGVyRm9ybWF0dGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzb3J0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGZvcm1hdEV4dHJhRGF0YTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksXG5cdCAgICBmaWx0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgICAgIHR5cGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub25lT2YoZmlsdGVyVHlwZUFycmF5KSxcblx0ICAgICAgICBkZWxheTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgb3B0aW9uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBmb3IgU2VsZWN0RmlsdGVyXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyKSAvL2ZvciBOdW1iZXJGaWx0ZXJcblx0ICAgICAgICBdKSxcblx0ICAgICAgICBudW1iZXJDb21wYXJhdG9yczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nKSxcblx0ICAgICAgICBlbWl0dGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgICAgICBwbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICAgICAgZ2V0RWxlbWVudDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgICAgIGN1c3RvbUZpbHRlclBhcmFtZXRlcnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0XG5cdCAgICB9KVxuXHR9O1xuXHRcblx0VGFibGVIZWFkZXJDb2x1bW4uZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZGF0YUFsaWduOiBcImxlZnRcIixcblx0ICAgIGRhdGFTb3J0OiBmYWxzZSxcblx0ICAgIGRhdGFGb3JtYXQ6IHVuZGVmaW5lZCxcblx0ICAgIGlzS2V5OiBmYWxzZSxcblx0ICAgIGVkaXRhYmxlOiB0cnVlLFxuXHQgICAgb25Tb3J0OiB1bmRlZmluZWQsXG5cdCAgICBoaWRkZW46IGZhbHNlLFxuXHQgICAgY2xhc3NOYW1lOiBcIlwiLFxuXHQgICAgd2lkdGg6IG51bGwsXG5cdCAgICBzb3J0RnVuYzogdW5kZWZpbmVkLFxuXHQgICAgY29sdW1uQ2xhc3NOYW1lOiAnJyxcblx0ICAgIGZpbHRlckZvcm1hdHRlZDogZmFsc2UsXG5cdCAgICBzb3J0OiB1bmRlZmluZWQsXG5cdCAgICBmb3JtYXRFeHRyYURhdGE6IHVuZGVmaW5lZCxcblx0ICAgIGZpbHRlcjogdW5kZWZpbmVkXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZUhlYWRlckNvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBUYWJsZVJvdyA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZVJvdywgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRhYmxlUm93KHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVSb3cpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYmxlUm93LnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHQgICAgdGhpcy5jbGlja051bSA9IDA7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVGFibGVSb3csIFt7XG5cdCAgICBrZXk6ICdyb3dDbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcm93Q2xpY2soZSkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgIT09IFwiSU5QVVRcIiAmJiBlLnRhcmdldC50YWdOYW1lICE9PSBcIlNFTEVDVFwiICYmIGUudGFyZ2V0LnRhZ05hbWUgIT09IFwiVEVYVEFSRUFcIikge1xuXHQgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB2YXIgcm93SW5kZXggPSBlLmN1cnJlbnRUYXJnZXQucm93SW5kZXg7XG5cdCAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2VsZWN0Um93KSB7XG5cdCAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCkge1xuXHQgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0Um93KHJvd0luZGV4LCAhX3RoaXMucHJvcHMuaXNTZWxlY3RlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCkge1xuXHQgICAgICAgICAgICAgIF90aGlzLmNsaWNrTnVtKys7XG5cdCAgICAgICAgICAgICAgLyoqIGlmIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCBpcyBlbmFibGVkLFxyXG5cdCAgICAgICAgICAgICAgICogIHRoZXJlIHNob3VsZCBiZSBhIGRlbGF5IHRvIHByZXZlbnQgYSBzZWxlY3Rpb24gY2hhbmdlZCB3aGVuXHJcblx0ICAgICAgICAgICAgICAgKiAgdXNlciBkYmxpY2sgdG8gZWRpdCBjZWxsIG9uIHNhbWUgcm93IGJ1dCBkaWZmZXJlbnQgY2VsbFxyXG5cdCAgICAgICAgICAgICAgKiovXG5cdCAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY2xpY2tOdW0gPT09IDEpIHtcblx0ICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25TZWxlY3RSb3cocm93SW5kZXgsICFfdGhpcy5wcm9wcy5pc1NlbGVjdGVkKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIF90aGlzLmNsaWNrTnVtID0gMDtcblx0ICAgICAgICAgICAgICB9LCAyMDApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Sb3dDbGljaykgX3RoaXMucHJvcHMub25Sb3dDbGljayhyb3dJbmRleCk7XG5cdCAgICAgICAgfSkoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jvd01vdXNlT3V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByb3dNb3VzZU91dChlKSB7XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLm9uUm93TW91c2VPdXQpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdXQoZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jvd01vdXNlT3ZlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcm93TW91c2VPdmVyKGUpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub25Sb3dNb3VzZU92ZXIpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKGUuY3VycmVudFRhcmdldC5yb3dJbmRleCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdGhpcy5jbGlja051bSA9IDA7XG5cdCAgICAgIHZhciB0ckNzcyA9IHtcblx0ICAgICAgICBzdHlsZToge1xuXHQgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmlzU2VsZWN0ZWQgPyB0aGlzLnByb3BzLnNlbGVjdFJvdy5iZ0NvbG9yIDogbnVsbFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5wcm9wcy5pc1NlbGVjdGVkICYmIHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA/IHRoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZSA6ICcnKSArICh0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJylcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdyAmJiAodGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCB8fCB0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpIHx8IHRoaXMucHJvcHMub25Sb3dDbGljaykge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0cicsXG5cdCAgICAgICAgICBfZXh0ZW5kcyh7fSwgdHJDc3MsIHtcblx0ICAgICAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMucm93TW91c2VPdmVyLmJpbmQodGhpcyksXG5cdCAgICAgICAgICAgIG9uTW91c2VPdXQ6IHRoaXMucm93TW91c2VPdXQuYmluZCh0aGlzKSxcblx0ICAgICAgICAgICAgb25DbGljazogdGhpcy5yb3dDbGljay5iaW5kKHRoaXMpIH0pLFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RyJyxcblx0ICAgICAgICAgIHRyQ3NzLFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUYWJsZVJvdztcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZVJvdy5wcm9wVHlwZXMgPSB7XG5cdCAgaXNTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgIGVuYWJsZUNlbGxFZGl0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgb25Sb3dDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uU2VsZWN0Um93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dNb3VzZU91dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uUm93TW91c2VPdmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0VGFibGVSb3cuZGVmYXVsdFByb3BzID0ge1xuXHQgIG9uUm93Q2xpY2s6IHVuZGVmaW5lZFxuXHR9O1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBUYWJsZVJvdztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICB2YXIgZmlsZXNhdmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdCAgdmFyIHNhdmVBcyA9IGZpbGVzYXZlci5zYXZlQXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvU3RyaW5nKGRhdGEsIGtleXMpIHtcblx0ICB2YXIgZGF0YVN0cmluZyA9IFwiXCI7XG5cdCAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZGF0YVN0cmluZztcblx0XG5cdCAgZGF0YVN0cmluZyArPSBrZXlzLmpvaW4oJywnKSArICdcXG4nO1xuXHRcblx0ICBkYXRhLm1hcChmdW5jdGlvbiAocm93KSB7XG5cdCAgICBrZXlzLm1hcChmdW5jdGlvbiAoY29sLCBpKSB7XG5cdCAgICAgIHZhciBjZWxsID0gdHlwZW9mIHJvd1tjb2xdICE9PSAndW5kZWZpbmVkJyA/ICdcIicgKyByb3dbY29sXSArICdcIicgOiBcIlwiO1xuXHQgICAgICBkYXRhU3RyaW5nICs9IGNlbGw7XG5cdCAgICAgIGlmIChpICsgMSA8IGtleXMubGVuZ3RoKSBkYXRhU3RyaW5nICs9ICcsJztcblx0ICAgIH0pO1xuXHRcblx0ICAgIGRhdGFTdHJpbmcgKz0gJ1xcbic7XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBkYXRhU3RyaW5nO1xuXHR9O1xuXHRcblx0dmFyIGV4cG9ydENTViA9IGZ1bmN0aW9uIGV4cG9ydENTVihkYXRhLCBrZXlzLCBmaWxlbmFtZSkge1xuXHQgIHZhciBkYXRhU3RyaW5nID0gdG9TdHJpbmcoZGF0YSwga2V5cyk7XG5cdCAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICBzYXZlQXMobmV3IEJsb2IoW2RhdGFTdHJpbmddLCB7IHR5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCIgfSksIGZpbGVuYW1lIHx8ICdzcHJlYWRzaGVldC5jc3YnKTtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBleHBvcnRDU1Y7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBGaWxlU2F2ZXIuanNcclxuXHQgKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cclxuXHQgKiAxLjEuMjAxNTEwMDNcclxuXHQgKlxyXG5cdCAqIEJ5IEVsaSBHcmV5LCBodHRwOi8vZWxpZ3JleS5jb21cclxuXHQgKiBMaWNlbnNlOiBNSVRcclxuXHQgKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG5cdCAqL1xuXHRcblx0LypnbG9iYWwgc2VsZiAqL1xuXHQvKmpzbGludCBiaXR3aXNlOiB0cnVlLCBpbmRlbnQ6IDQsIGxheGJyZWFrOiB0cnVlLCBsYXhjb21tYTogdHJ1ZSwgc21hcnR0YWJzOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSAqL1xuXHRcblx0LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHNhdmVBcyA9IHNhdmVBcyB8fCAoZnVuY3Rpb24gKHZpZXcpIHtcblx0XHRcInVzZSBzdHJpY3RcIjtcblx0XHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRcdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFsxLTldXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhciBkb2MgPSB2aWV3LmRvY3VtZW50LFxuXHRcdCAgIFxuXHRcdC8vIG9ubHkgZ2V0IFVSTCB3aGVuIG5lY2Vzc2FyeSBpbiBjYXNlIEJsb2IuanMgaGFzbid0IG92ZXJyaWRkZW4gaXQgeWV0XG5cdFx0Z2V0X1VSTCA9IGZ1bmN0aW9uIGdldF9VUkwoKSB7XG5cdFx0XHRyZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcblx0XHR9LFxuXHRcdCAgICBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIiksXG5cdFx0ICAgIGNhbl91c2Vfc2F2ZV9saW5rID0gKFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmspLFxuXHRcdCAgICBjbGljayA9IGZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcblx0XHRcdHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7XG5cdFx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdH0sXG5cdFx0ICAgIGlzX3NhZmFyaSA9IC9WZXJzaW9uXFwvW1xcZFxcLl0rLipTYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksXG5cdFx0ICAgIHdlYmtpdF9yZXFfZnMgPSB2aWV3LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtLFxuXHRcdCAgICByZXFfZnMgPSB2aWV3LnJlcXVlc3RGaWxlU3lzdGVtIHx8IHdlYmtpdF9yZXFfZnMgfHwgdmlldy5tb3pSZXF1ZXN0RmlsZVN5c3RlbSxcblx0XHQgICAgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uIHRocm93X291dHNpZGUoZXgpIHtcblx0XHRcdCh2aWV3LnNldEltbWVkaWF0ZSB8fCB2aWV3LnNldFRpbWVvdXQpKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhyb3cgZXg7XG5cdFx0XHR9LCAwKTtcblx0XHR9LFxuXHRcdCAgICBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcblx0XHQgICAgZnNfbWluX3NpemUgPSAwLFxuXHRcdCAgIFxuXHRcdC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc1Mjk3I2M3IGFuZFxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9jb21taXQvNDg1OTMwYSNjb21taXRjb21tZW50LTg3NjgwNDdcblx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xuXHRcdGFyYml0cmFyeV9yZXZva2VfdGltZW91dCA9IDUwMCxcblx0XHQgICAgLy8gaW4gbXNcblx0XHRyZXZva2UgPSBmdW5jdGlvbiByZXZva2UoZmlsZSkge1xuXHRcdFx0dmFyIHJldm9rZXIgPSBmdW5jdGlvbiByZXZva2VyKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHQvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcblx0XHRcdFx0XHRnZXRfVVJMKCkucmV2b2tlT2JqZWN0VVJMKGZpbGUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGZpbGUgaXMgYSBGaWxlXG5cdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGlmICh2aWV3LmNocm9tZSkge1xuXHRcdFx0XHRyZXZva2VyKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXRUaW1lb3V0KHJldm9rZXIsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQgICAgZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaChmaWxlc2F2ZXIsIGV2ZW50X3R5cGVzLCBldmVudCkge1xuXHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xuXHRcdFx0dmFyIGkgPSBldmVudF90eXBlcy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XG5cdFx0XHRcdGlmICh0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcblx0XHRcdFx0XHR9IGNhdGNoIChleCkge1xuXHRcdFx0XHRcdFx0dGhyb3dfb3V0c2lkZShleCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQgICAgYXV0b19ib20gPSBmdW5jdGlvbiBhdXRvX2JvbShibG9iKSB7XG5cdFx0XHQvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuXHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBCbG9iKFtcIu+7v1wiLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYmxvYjtcblx0XHR9LFxuXHRcdCAgICBGaWxlU2F2ZXIgPSBmdW5jdGlvbiBGaWxlU2F2ZXIoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcblx0XHRcdHZhciBmaWxlc2F2ZXIgPSB0aGlzLFxuXHRcdFx0ICAgIHR5cGUgPSBibG9iLnR5cGUsXG5cdFx0XHQgICAgYmxvYl9jaGFuZ2VkID0gZmFsc2UsXG5cdFx0XHQgICAgb2JqZWN0X3VybCxcblx0XHRcdCAgICB0YXJnZXRfdmlldyxcblx0XHRcdCAgICBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbiBkaXNwYXRjaF9hbGwoKSB7XG5cdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcblx0XHRcdH0sXG5cdFx0XHQgICBcblx0XHRcdC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcblx0XHRcdGZzX2Vycm9yID0gZnVuY3Rpb24gZnNfZXJyb3IoKSB7XG5cdFx0XHRcdGlmICh0YXJnZXRfdmlldyAmJiBpc19zYWZhcmkgJiYgdHlwZW9mIEZpbGVSZWFkZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHQvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIHVybHNcblx0XHRcdFx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdFx0XHRyZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0dmFyIGJhc2U2NERhdGEgPSByZWFkZXIucmVzdWx0O1xuXHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IFwiZGF0YTphdHRhY2htZW50L2ZpbGVcIiArIGJhc2U2NERhdGEuc2xpY2UoYmFzZTY0RGF0YS5zZWFyY2goL1ssO10vKSk7XG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxuXHRcdFx0XHRpZiAoYmxvYl9jaGFuZ2VkIHx8ICFvYmplY3RfdXJsKSB7XG5cdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRhcmdldF92aWV3KSB7XG5cdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIG5ld190YWIgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0aWYgKG5ld190YWIgPT0gdW5kZWZpbmVkICYmIGlzX3NhZmFyaSkge1xuXHRcdFx0XHRcdFx0Ly9BcHBsZSBkbyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwOi8vYml0Lmx5LzFrWmZmUklcblx0XHRcdFx0XHRcdHZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHR9LFxuXHRcdFx0ICAgIGFib3J0YWJsZSA9IGZ1bmN0aW9uIGFib3J0YWJsZShmdW5jKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKGZpbGVzYXZlci5yZWFkeVN0YXRlICE9PSBmaWxlc2F2ZXIuRE9ORSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0ICAgIGNyZWF0ZV9pZl9ub3RfZm91bmQgPSB7IGNyZWF0ZTogdHJ1ZSwgZXhjbHVzaXZlOiBmYWxzZSB9LFxuXHRcdFx0ICAgIHNsaWNlO1xuXHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcblx0XHRcdGlmICghbmFtZSkge1xuXHRcdFx0XHRuYW1lID0gXCJkb3dubG9hZFwiO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XG5cdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdHNhdmVfbGluay5kb3dubG9hZCA9IG5hbWU7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGNsaWNrKHNhdmVfbGluayk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxuXHRcdFx0Ly8gdmlld2VkIGluIGEgdGFiLCBzbyBJIGZvcmNlIHNhdmUgd2l0aCBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cblx0XHRcdC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkxMTU4XG5cdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxuXHRcdFx0Ly8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4OTY0MlxuXHRcdFx0aWYgKHZpZXcuY2hyb21lICYmIHR5cGUgJiYgdHlwZSAhPT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSkge1xuXHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdFx0YmxvYiA9IHNsaWNlLmNhbGwoYmxvYiwgMCwgYmxvYi5zaXplLCBmb3JjZV9zYXZlYWJsZV90eXBlKTtcblx0XHRcdFx0YmxvYl9jaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdC8vIFNpbmNlIEkgY2FuJ3QgYmUgc3VyZSB0aGF0IHRoZSBndWVzc2VkIG1lZGlhIHR5cGUgd2lsbCB0cmlnZ2VyIGEgZG93bmxvYWRcblx0XHRcdC8vIGluIFdlYktpdCwgSSBhcHBlbmQgLmRvd25sb2FkIHRvIHRoZSBmaWxlbmFtZS5cblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxuXHRcdFx0aWYgKHdlYmtpdF9yZXFfZnMgJiYgbmFtZSAhPT0gXCJkb3dubG9hZFwiKSB7XG5cdFx0XHRcdG5hbWUgKz0gXCIuZG93bmxvYWRcIjtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlIHx8IHdlYmtpdF9yZXFfZnMpIHtcblx0XHRcdFx0dGFyZ2V0X3ZpZXcgPSB2aWV3O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFyZXFfZnMpIHtcblx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZnNfbWluX3NpemUgKz0gYmxvYi5zaXplO1xuXHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uIChmcykge1xuXHRcdFx0XHRmcy5yb290LmdldERpcmVjdG9yeShcInNhdmVkXCIsIGNyZWF0ZV9pZl9ub3RfZm91bmQsIGFib3J0YWJsZShmdW5jdGlvbiAoZGlyKSB7XG5cdFx0XHRcdFx0dmFyIHNhdmUgPSBmdW5jdGlvbiBzYXZlKCkge1xuXHRcdFx0XHRcdFx0ZGlyLmdldEZpbGUobmFtZSwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uIChmaWxlKSB7XG5cdFx0XHRcdFx0XHRcdGZpbGUuY3JlYXRlV3JpdGVyKGFib3J0YWJsZShmdW5jdGlvbiAod3JpdGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9ud3JpdGVlbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBmaWxlLnRvVVJMKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldm9rZShmaWxlKTtcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yID0gd3JpdGVyLmVycm9yO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yLmNvZGUgIT09IGVycm9yLkFCT1JUX0VSUikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0XCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIGFib3J0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR3cml0ZXIud3JpdGUoYmxvYik7XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuV1JJVElORztcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7IGNyZWF0ZTogZmFsc2UgfSwgYWJvcnRhYmxlKGZ1bmN0aW9uIChmaWxlKSB7XG5cdFx0XHRcdFx0XHQvLyBkZWxldGUgZmlsZSBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuXHRcdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHR9KSwgYWJvcnRhYmxlKGZ1bmN0aW9uIChleCkge1xuXHRcdFx0XHRcdFx0aWYgKGV4LmNvZGUgPT09IGV4Lk5PVF9GT1VORF9FUlIpIHtcblx0XHRcdFx0XHRcdFx0c2F2ZSgpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSk7XG5cdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdH0sXG5cdFx0ICAgIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZSxcblx0XHQgICAgc2F2ZUFzID0gZnVuY3Rpb24gc2F2ZUFzKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XG5cdFx0fTtcblx0XHQvLyBJRSAxMCsgKG5hdGl2ZSBzYXZlQXMpXG5cdFx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgbmFtZSB8fCBcImRvd25sb2FkXCIpO1xuXHRcdFx0fTtcblx0XHR9XG5cdFxuXHRcdEZTX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGZpbGVzYXZlciA9IHRoaXM7XG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcImFib3J0XCIpO1xuXHRcdH07XG5cdFx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRcdEZTX3Byb3RvLldSSVRJTkcgPSAxO1xuXHRcdEZTX3Byb3RvLkRPTkUgPSAyO1xuXHRcblx0XHRGU19wcm90by5lcnJvciA9IEZTX3Byb3RvLm9ud3JpdGVzdGFydCA9IEZTX3Byb3RvLm9ucHJvZ3Jlc3MgPSBGU19wcm90by5vbndyaXRlID0gRlNfcHJvdG8ub25hYm9ydCA9IEZTX3Byb3RvLm9uZXJyb3IgPSBGU19wcm90by5vbndyaXRlZW5kID0gbnVsbDtcblx0XG5cdFx0cmV0dXJuIHNhdmVBcztcblx0fSkodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZiB8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdyB8fCB1bmRlZmluZWQuY29udGVudCk7XG5cdC8vIGBzZWxmYCBpcyB1bmRlZmluZWQgaW4gRmlyZWZveCBmb3IgQW5kcm9pZCBjb250ZW50IHNjcmlwdCBjb250ZXh0XG5cdC8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxuXHQvLyB3aXRoIGFuIGF0dHJpYnV0ZSBgY29udGVudGAgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgd2luZG93XG5cdFxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzLnNhdmVBcyA9IHNhdmVBcztcblx0fSBlbHNlIGlmIChcImZ1bmN0aW9uXCIgIT09IFwidW5kZWZpbmVkXCIgJiYgX193ZWJwYWNrX3JlcXVpcmVfXyg1NSkgIT09IG51bGwgJiYgX193ZWJwYWNrX3JlcXVpcmVfXyg1NikgIT0gbnVsbCkge1xuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBzYXZlQXM7XG5cdFx0fS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgRGF0ZUZpbHRlciA9IChmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKERhdGVGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIERhdGVGaWx0ZXIocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZUZpbHRlcik7XG5cdFxuXHQgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGVGaWx0ZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdCAgICAgICAgdGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhEYXRlRmlsdGVyLCBbe1xuXHQgICAgICAgIGtleTogJ3NldERlZmF1bHREYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdERhdGUoKSB7XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0RGF0ZSA9IFwiXCI7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgZm9yIHRoZSBpbnB1dCB0eXBlPWRhdGUsIGkuZS4gXCJZWVlZLU1NLUREXCJcblx0ICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBuZXcgRGF0ZSh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICBkZWZhdWx0RGF0ZSA9IGRlZmF1bHRWYWx1ZS5nZXRGdWxsWWVhcigpICsgJy0nICsgKFwiMFwiICsgKGRlZmF1bHRWYWx1ZS5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSArICctJyArIChcIjBcIiArIGRlZmF1bHRWYWx1ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZGVmYXVsdERhdGU7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2ZpbHRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcihldmVudCkge1xuXHQgICAgICAgICAgICB2YXIgZGF0ZVZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuXHQgICAgICAgICAgICBpZiAoZGF0ZVZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIobmV3IERhdGUoZGF0ZVZhbHVlKSwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLkRBVEUpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKG51bGwsIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5EQVRFKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgICAgICB2YXIgZGF0ZVZhbHVlID0gdGhpcy5yZWZzLmlucHV0RGF0ZS5kZWZhdWx0VmFsdWU7XG5cdCAgICAgICAgICAgIGlmIChkYXRlVmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihuZXcgRGF0ZShkYXRlVmFsdWUpLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuREFURSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyByZWY6ICdpbnB1dERhdGUnLFxuXHQgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZmlsdGVyIGRhdGUtZmlsdGVyIGZvcm0tY29udHJvbCcsXG5cdCAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5maWx0ZXIsXG5cdCAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMuc2V0RGVmYXVsdERhdGUoKSB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIERhdGVGaWx0ZXI7XG5cdH0pKF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXHRcblx0O1xuXHRcblx0RGF0ZUZpbHRlci5wcm9wVHlwZXMgPSB7XG5cdCAgICBmaWx0ZXJIYW5kbGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBjb2x1bW5OYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gRGF0ZUZpbHRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIGxlZ2FsQ29tcGFyYXRvcnMgPSBbXCI9XCIsIFwiPlwiLCBcIj49XCIsIFwiPFwiLCBcIjw9XCIsIFwiIT1cIl07XG5cdFxuXHR2YXIgTnVtYmVyRmlsdGVyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoTnVtYmVyRmlsdGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBOdW1iZXJGaWx0ZXIocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyRmlsdGVyKTtcblx0XG5cdCAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTnVtYmVyRmlsdGVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHQgICAgICAgIHRoaXMubnVtYmVyQ29tcGFyYXRvcnMgPSB0aGlzLnByb3BzLm51bWJlckNvbXBhcmF0b3JzIHx8IGxlZ2FsQ29tcGFyYXRvcnM7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgaXNQbGFjZWhvbGRlclNlbGVjdGVkOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA9PSB1bmRlZmluZWQgfHwgdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyID09IHVuZGVmaW5lZCB8fCB0aGlzLnByb3BzLm9wdGlvbnMgJiYgdGhpcy5wcm9wcy5vcHRpb25zLmluZGV4T2YodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyKSA9PSAtMVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdGhpcy5vbkNoYW5nZU51bWJlciA9IHRoaXMub25DaGFuZ2VOdW1iZXIuYmluZCh0aGlzKTtcblx0ICAgICAgICB0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0ID0gdGhpcy5vbkNoYW5nZU51bWJlclNldC5iaW5kKHRoaXMpO1xuXHQgICAgICAgIHRoaXMub25DaGFuZ2VDb21wYXJhdG9yID0gdGhpcy5vbkNoYW5nZUNvbXBhcmF0b3IuYmluZCh0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoTnVtYmVyRmlsdGVyLCBbe1xuXHQgICAgICAgIGtleTogJ29uQ2hhbmdlTnVtYmVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2VOdW1iZXIoZXZlbnQpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuXHQgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgc2VsZi5wcm9wcy5maWx0ZXJIYW5kbGVyKHsgbnVtYmVyOiBmaWx0ZXJWYWx1ZSwgY29tcGFyYXRvcjogc2VsZi5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgfSwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUik7XG5cdCAgICAgICAgICAgIH0sIHNlbGYucHJvcHMuZGVsYXkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbkNoYW5nZU51bWJlclNldCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlTnVtYmVyU2V0KGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6IGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gXCJcIiB9KTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHsgbnVtYmVyOiBldmVudC50YXJnZXQudmFsdWUsIGNvbXBhcmF0b3I6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlIH0sIF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfVFlQRS5OVU1CRVIpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbkNoYW5nZUNvbXBhcmF0b3InLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZUNvbXBhcmF0b3IoZXZlbnQpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUgPT09IFwiXCIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoeyBudW1iZXI6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUsIGNvbXBhcmF0b3I6IGV2ZW50LnRhcmdldC52YWx1ZSB9LCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuTlVNQkVSKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0Q29tcGFyYXRvck9wdGlvbnMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21wYXJhdG9yT3B0aW9ucygpIHtcblx0ICAgICAgICAgICAgdmFyIG9wdGlvblRhZ3MgPSBbXTtcblx0ICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdvcHRpb24nLCB7IGtleTogJy0xJyB9KSk7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5udW1iZXJDb21wYXJhdG9ycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdvcHRpb24nLFxuXHQgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpLCB2YWx1ZTogdGhpcy5udW1iZXJDb21wYXJhdG9yc1tpXSB9LFxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyQ29tcGFyYXRvcnNbaV1cblx0ICAgICAgICAgICAgICAgICkpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0TnVtYmVyT3B0aW9ucycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE51bWJlck9wdGlvbnMoKSB7XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25UYWdzID0gW107XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xuXHRcblx0ICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ29wdGlvbicsXG5cdCAgICAgICAgICAgICAgICB7IGtleTogJy0xJywgdmFsdWU6ICcnIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICdTZWxlY3QgJyArIHRoaXMucHJvcHMuY29sdW1uTmFtZSArICcuLi4nXG5cdCAgICAgICAgICAgICkpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnb3B0aW9uJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGtleTogaSwgdmFsdWU6IG9wdGlvbnNbaV0gfSxcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2ldXG5cdCAgICAgICAgICAgICAgICApKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgcmV0dXJuIG9wdGlvblRhZ3M7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSAmJiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoeyBudW1iZXI6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUsXG5cdCAgICAgICAgICAgICAgICAgICAgY29tcGFyYXRvcjogdGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgfSwgX0NvbnN0MlsnZGVmYXVsdCddLkZJTFRFUl9UWVBFLk5VTUJFUik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwic2VsZWN0LWZpbHRlclwiLCBcIm51bWJlci1maWx0ZXItaW5wdXRcIiwgXCJmb3JtLWNvbnRyb2xcIiwgeyBcInBsYWNlaG9sZGVyLXNlbGVjdGVkXCI6IHRoaXMuc3RhdGUuaXNQbGFjZWhvbGRlclNlbGVjdGVkIH0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2ZpbHRlciBudW1iZXItZmlsdGVyJyB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICAgICAgeyByZWY6ICdudW1iZXJGaWx0ZXJDb21wYXJhdG9yJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbnVtYmVyLWZpbHRlci1jb21wYXJhdG9yIGZvcm0tY29udHJvbCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLmNvbXBhcmF0b3IgOiBcIlwiIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDb21wYXJhdG9yT3B0aW9ucygpXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICAgICAgeyByZWY6ICdudW1iZXJGaWx0ZXInLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHNlbGVjdENsYXNzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZU51bWJlclNldCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlciA6IFwiXCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE51bWJlck9wdGlvbnMoKVxuXHQgICAgICAgICAgICAgICAgKSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgcmVmOiAnbnVtYmVyRmlsdGVyJyxcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcblx0ICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdudW1iZXItZmlsdGVyLWlucHV0IGZvcm0tY29udHJvbCcsXG5cdCAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgJ0VudGVyICcgKyB0aGlzLnByb3BzLmNvbHVtbk5hbWUgKyAnLi4uJyxcblx0ICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZU51bWJlcixcblx0ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlID8gdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyIDogXCJcIiB9KVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gTnVtYmVyRmlsdGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdDtcblx0XG5cdE51bWJlckZpbHRlci5wcm9wVHlwZXMgPSB7XG5cdCAgICBmaWx0ZXJIYW5kbGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlciksXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgICAgIG51bWJlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICAgICAgY29tcGFyYXRvcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vbmVPZihsZWdhbENvbXBhcmF0b3JzKVxuXHQgICAgfSksXG5cdCAgICBkZWxheTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICBudW1iZXJDb21wYXJhdG9yczogZnVuY3Rpb24gbnVtYmVyQ29tcGFyYXRvcnMocHJvcHMsIHByb3BOYW1lKSB7XG5cdCAgICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzW3Byb3BOYW1lXS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgY29tcGFyYXRvcklzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZWdhbENvbXBhcmF0b3JzLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAobGVnYWxDb21wYXJhdG9yc1tqXSA9PT0gcHJvcHNbcHJvcE5hbWVdW2ldKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29tcGFyYXRvcklzVmFsaWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghY29tcGFyYXRvcklzVmFsaWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ051bWJlciBjb21wYXJhdG9yIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBvbmx5ICcgKyBsZWdhbENvbXBhcmF0b3JzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBwbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjb2x1bW5OYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0TnVtYmVyRmlsdGVyLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGRlbGF5OiBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX0RFTEFZXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBOdW1iZXJGaWx0ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfQ29uc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db25zdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db25zdCk7XG5cdFxuXHR2YXIgU2VsZWN0RmlsdGVyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdFx0X2luaGVyaXRzKFNlbGVjdEZpbHRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHRcdGZ1bmN0aW9uIFNlbGVjdEZpbHRlcihwcm9wcykge1xuXHRcdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdEZpbHRlcik7XG5cdFxuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VsZWN0RmlsdGVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHRcdFx0dGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdFx0aXNQbGFjZWhvbGRlclNlbGVjdGVkOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA9PSB1bmRlZmluZWQgfHwgIXRoaXMucHJvcHMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSlcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHRfY3JlYXRlQ2xhc3MoU2VsZWN0RmlsdGVyLCBbe1xuXHRcdFx0a2V5OiAnZmlsdGVyJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoZXZlbnQpIHtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGlzUGxhY2Vob2xkZXJTZWxlY3RlZDogZXZlbnQudGFyZ2V0LnZhbHVlID09PSBcIlwiIH0pO1xuXHRcdFx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoZXZlbnQudGFyZ2V0LnZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuU0VMRUNUKTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdnZXRPcHRpb25zJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuXHRcdFx0XHR2YXIgb3B0aW9uVGFncyA9IFtdO1xuXHRcdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucztcblx0XHRcdFx0b3B0aW9uVGFncy5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdCdvcHRpb24nLFxuXHRcdFx0XHRcdHsga2V5OiAnLTEnLCB2YWx1ZTogJycgfSxcblx0XHRcdFx0XHR0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICdTZWxlY3QgJyArIHRoaXMucHJvcHMuY29sdW1uTmFtZSArICcuLi4nXG5cdFx0XHRcdCkpO1xuXHRcdFx0XHRPYmplY3Qua2V5cyhvcHRpb25zKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdG9wdGlvblRhZ3MucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdCdvcHRpb24nLFxuXHRcdFx0XHRcdFx0eyBrZXk6IGtleSwgdmFsdWU6IGtleSB9LFxuXHRcdFx0XHRcdFx0b3B0aW9uc1trZXldXG5cdFx0XHRcdFx0KSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gb3B0aW9uVGFncztcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0XHRcdGlmICh0aGlzLnJlZnMuc2VsZWN0SW5wdXQudmFsdWUpIHtcblx0XHRcdFx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIodGhpcy5yZWZzLnNlbGVjdElucHV0LnZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuU0VMRUNUKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ3JlbmRlcicsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0XHR2YXIgc2VsZWN0Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwiZmlsdGVyXCIsIFwic2VsZWN0LWZpbHRlclwiLCBcImZvcm0tY29udHJvbFwiLCB7IFwicGxhY2Vob2xkZXItc2VsZWN0ZWRcIjogdGhpcy5zdGF0ZS5pc1BsYWNlaG9sZGVyU2VsZWN0ZWQgfSk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J3NlbGVjdCcsXG5cdFx0XHRcdFx0eyByZWY6ICdzZWxlY3RJbnB1dCcsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU6IHNlbGVjdENsYXNzLFxuXHRcdFx0XHRcdFx0b25DaGFuZ2U6IHRoaXMuZmlsdGVyLFxuXHRcdFx0XHRcdFx0ZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSAhPSB1bmRlZmluZWQgPyB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA6IFwiXCIgfSxcblx0XHRcdFx0XHR0aGlzLmdldE9wdGlvbnMoKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1dKTtcblx0XG5cdFx0cmV0dXJuIFNlbGVjdEZpbHRlcjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHQ7XG5cdFxuXHRTZWxlY3RGaWx0ZXIucHJvcFR5cGVzID0ge1xuXHRcdGZpbHRlckhhbmRsZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRcdG9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdFx0cGxhY2Vob2xkZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHRcdGNvbHVtbk5hbWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBTZWxlY3RGaWx0ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Db25zdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0NvbnN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnN0KTtcblx0XG5cdHZhciBUZXh0RmlsdGVyID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdFx0X2luaGVyaXRzKFRleHRGaWx0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0XHRmdW5jdGlvbiBUZXh0RmlsdGVyKHByb3BzKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dEZpbHRlcik7XG5cdFxuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dEZpbHRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0XHRcdHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuYmluZCh0aGlzKTtcblx0XHRcdHRoaXMudGltZW91dCA9IG51bGw7XG5cdFx0fVxuXHRcblx0XHRfY3JlYXRlQ2xhc3MoVGV4dEZpbHRlciwgW3tcblx0XHRcdGtleTogJ2ZpbHRlcicsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gZmlsdGVyKGV2ZW50KSB7XG5cdFx0XHRcdGlmICh0aGlzLnRpbWVvdXQpIHtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdHZhciBmaWx0ZXJWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblx0XHRcdFx0dGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0c2VsZi5wcm9wcy5maWx0ZXJIYW5kbGVyKGZpbHRlclZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuVEVYVCk7XG5cdFx0XHRcdH0sIHNlbGYucHJvcHMuZGVsYXkpO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRcdFx0aWYgKHRoaXMucmVmcy5pbnB1dFRleHQuZGVmYXVsdFZhbHVlKSB7XG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHRoaXMucmVmcy5pbnB1dFRleHQuZGVmYXVsdFZhbHVlLCBfQ29uc3QyWydkZWZhdWx0J10uRklMVEVSX1RZUEUuVEVYVCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdyZW5kZXInLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgcmVmOiAnaW5wdXRUZXh0Jyxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdmaWx0ZXIgdGV4dC1maWx0ZXIgZm9ybS1jb250cm9sJyxcblx0XHRcdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRcdFx0b25DaGFuZ2U6IHRoaXMuZmlsdGVyLFxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICdFbnRlciAnICsgdGhpcy5wcm9wcy5jb2x1bW5OYW1lICsgJy4uLicsXG5cdFx0XHRcdFx0ZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIDogXCJcIiB9KTtcblx0XHRcdH1cblx0XHR9XSk7XG5cdFxuXHRcdHJldHVybiBUZXh0RmlsdGVyO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdDtcblx0XG5cdFRleHRGaWx0ZXIucHJvcFR5cGVzID0ge1xuXHRcdGZpbHRlckhhbmRsZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRcdGRlZmF1bHRWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsXG5cdFx0ZGVsYXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHRcdHBsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0XHRjb2x1bW5OYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0VGV4dEZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XG5cdFx0ZGVsYXk6IF9Db25zdDJbJ2RlZmF1bHQnXS5GSUxURVJfREVMQVlcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFRleHRGaWx0ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBQYWdlQnV0dG9uID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2VCdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBQYWdlQnV0dG9uKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnZUJ1dHRvbik7XG5cdFxuXHQgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFnZUJ1dHRvbi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIHByb3BzKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhQYWdlQnV0dG9uLCBbe1xuXHQgICAga2V5OiAncGFnZUJ0bkNsaWNrJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYWdlQnRuQ2xpY2soZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIHRoaXMucHJvcHMuY2hhbmdlUGFnZShlLmN1cnJlbnRUYXJnZXQudGV4dCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBjbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSh7XG5cdCAgICAgICAgJ2FjdGl2ZSc6IHRoaXMucHJvcHMuYWN0aXZlLFxuXHQgICAgICAgICdkaXNhYmxlZCc6IHRoaXMucHJvcHMuZGlzYWJsZSxcblx0ICAgICAgICAnaGlkZGVuJzogdGhpcy5wcm9wcy5oaWRkZW5cblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzIH0sXG5cdCAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnYScsXG5cdCAgICAgICAgICB7IGhyZWY6ICcjJywgb25DbGljazogdGhpcy5wYWdlQnRuQ2xpY2suYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBQYWdlQnV0dG9uO1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFBhZ2VCdXR0b24ucHJvcFR5cGVzID0ge1xuXHQgIGNoYW5nZVBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBhY3RpdmU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBkaXNhYmxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFBhZ2VCdXR0b247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9QYWdlQnV0dG9uSnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0XG5cdHZhciBfUGFnZUJ1dHRvbkpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhZ2VCdXR0b25Kcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIFBhZ2luYXRpb25MaXN0ID0gKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2luYXRpb25MaXN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUGFnaW5hdGlvbkxpc3QoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbkxpc3QpO1xuXHRcblx0ICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhZ2luYXRpb25MaXN0LnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUGFnaW5hdGlvbkxpc3QsIFt7XG5cdCAgICBrZXk6ICdjaGFuZ2VQYWdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VQYWdlKHBhZ2UpIHtcblx0ICAgICAgaWYgKHBhZ2UgPT0gdGhpcy5wcm9wcy5wcmVQYWdlKSB7XG5cdCAgICAgICAgcGFnZSA9IHRoaXMucHJvcHMuY3VyclBhZ2UgLSAxIDwgMSA/IDEgOiB0aGlzLnByb3BzLmN1cnJQYWdlIC0gMTtcblx0ICAgICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMubmV4dFBhZ2UpIHtcblx0ICAgICAgICBwYWdlID0gdGhpcy5wcm9wcy5jdXJyUGFnZSArIDEgPiB0aGlzLnRvdGFsUGFnZXMgPyB0aGlzLnRvdGFsUGFnZXMgOiB0aGlzLnByb3BzLmN1cnJQYWdlICsgMTtcblx0ICAgICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMubGFzdFBhZ2UpIHtcblx0ICAgICAgICBwYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xuXHQgICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gdGhpcy5wcm9wcy5maXJzdFBhZ2UpIHtcblx0ICAgICAgICBwYWdlID0gMTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYWdlID0gcGFyc2VJbnQocGFnZSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChwYWdlICE9IHRoaXMucHJvcHMuY3VyclBhZ2UpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLmNoYW5nZVBhZ2UocGFnZSwgdGhpcy5wcm9wcy5zaXplUGVyUGFnZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjaGFuZ2VTaXplUGVyUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlU2l6ZVBlclBhZ2UoZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgICB2YXIgc2VsZWN0U2l6ZSA9IHBhcnNlSW50KGUuY3VycmVudFRhcmdldC50ZXh0KTtcblx0ICAgICAgdmFyIGN1cnJQYWdlID0gdGhpcy5wcm9wcy5jdXJyUGFnZTtcblx0XG5cdCAgICAgIGlmIChzZWxlY3RTaXplICE9IHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpIHtcblx0ICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5wcm9wcy5kYXRhU2l6ZSAvIHNlbGVjdFNpemUpO1xuXHQgICAgICAgIGlmIChjdXJyUGFnZSA+IHRoaXMudG90YWxQYWdlcykgY3VyclBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XG5cdFxuXHQgICAgICAgIHRoaXMucHJvcHMuY2hhbmdlUGFnZShjdXJyUGFnZSwgc2VsZWN0U2l6ZSk7XG5cdCAgICAgICAgaWYgKHRoaXMucHJvcHMub25TaXplUGVyUGFnZUxpc3QpIHtcblx0ICAgICAgICAgIHRoaXMucHJvcHMub25TaXplUGVyUGFnZUxpc3Qoc2VsZWN0U2l6ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB0aGlzLnRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5wcm9wcy5kYXRhU2l6ZSAvIHRoaXMucHJvcHMuc2l6ZVBlclBhZ2UpO1xuXHQgICAgICB2YXIgcGFnZUJ0bnMgPSB0aGlzLm1ha2VQYWdlKCk7XG5cdCAgICAgIHZhciBwYWdlTGlzdFN0eWxlID0ge1xuXHQgICAgICAgIGZsb2F0OiBcInJpZ2h0XCIsXG5cdCAgICAgICAgbWFyZ2luVG9wOiBcIjBweFwiIC8vb3ZlcnJpZGUgdGhlIG1hcmdpbi10b3AgZGVmaW5lZCBpbiAucGFnaW5hdGlvbiBjbGFzcyBpbiBib290c3RyYXAuXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgc2l6ZVBlclBhZ2VMaXN0ID0gdGhpcy5wcm9wcy5zaXplUGVyUGFnZUxpc3QubWFwKGZ1bmN0aW9uIChzaXplUGVyUGFnZSkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICB7IGtleTogc2l6ZVBlclBhZ2UsIHJvbGU6ICdwcmVzZW50YXRpb24nIH0sXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICB7IHJvbGU6ICdtZW51aXRlbScsIHRhYkluZGV4OiAnLTEnLCBocmVmOiAnIycsIG9uQ2xpY2s6IF90aGlzLmNoYW5nZVNpemVQZXJQYWdlLmJpbmQoX3RoaXMpIH0sXG5cdCAgICAgICAgICAgIHNpemVQZXJQYWdlXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdyb3cnLCBzdHlsZTogeyBtYXJnaW5Ub3A6IDE1IH0gfSxcblx0ICAgICAgICB0aGlzLnByb3BzLnNpemVQZXJQYWdlTGlzdC5sZW5ndGggPiAxID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLW1kLTYnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZHJvcGRvd24nIH0sXG5cdCAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZScsIHR5cGU6ICdidXR0b24nLCBpZDogJ3BhZ2VEcm9wRG93bicsICdkYXRhLXRvZ2dsZSc6ICdkcm9wZG93bicsXG5cdCAgICAgICAgICAgICAgICAgICdhcmlhLWV4cGFuZGVkJzogJ3RydWUnIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNpemVQZXJQYWdlLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgICAgXCIgXCIsXG5cdCAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdjYXJldCcgfSlcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZHJvcGRvd24tbWVudScsIHJvbGU6ICdtZW51JywgJ2FyaWEtbGFiZWxsZWRieSc6ICdwYWdlRHJvcERvd24nIH0sXG5cdCAgICAgICAgICAgICAgICBzaXplUGVyUGFnZUxpc3Rcblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLW1kLTYnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYWdpbmF0aW9uJywgc3R5bGU6IHBhZ2VMaXN0U3R5bGUgfSxcblx0ICAgICAgICAgICAgICBwYWdlQnRuc1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC1tZC0xMicgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAndWwnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BhZ2luYXRpb24nLCBzdHlsZTogcGFnZUxpc3RTdHlsZSB9LFxuXHQgICAgICAgICAgICBwYWdlQnRuc1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVBhZ2UoKSB7XG5cdCAgICAgIHZhciBwYWdlcyA9IHRoaXMuZ2V0UGFnZXMoKTtcblx0ICAgICAgcmV0dXJuIHBhZ2VzLm1hcChmdW5jdGlvbiAocGFnZSkge1xuXHQgICAgICAgIHZhciBpc0FjdGl2ZSA9IHBhZ2UgPT09IHRoaXMucHJvcHMuY3VyclBhZ2U7XG5cdCAgICAgICAgdmFyIGRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGhpZGRlbiA9IGZhbHNlO1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLmN1cnJQYWdlID09IDEgJiYgKHBhZ2UgPT09IHRoaXMucHJvcHMuZmlyc3RQYWdlIHx8IHBhZ2UgPT09IHRoaXMucHJvcHMucHJlUGFnZSkpIHtcblx0ICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgICAgIGhpZGRlbiA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLmN1cnJQYWdlID09IHRoaXMudG90YWxQYWdlcyAmJiAocGFnZSA9PT0gdGhpcy5wcm9wcy5uZXh0UGFnZSB8fCBwYWdlID09PSB0aGlzLnByb3BzLmxhc3RQYWdlKSkge1xuXHQgICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgaGlkZGVuID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX1BhZ2VCdXR0b25KczJbJ2RlZmF1bHQnXSxcblx0ICAgICAgICAgIHsgY2hhbmdlUGFnZTogdGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcyksIGFjdGl2ZTogaXNBY3RpdmUsIGRpc2FibGU6IGRpc2FibGVkLCBoaWRkZW46IGhpZGRlbiwga2V5OiBwYWdlIH0sXG5cdCAgICAgICAgICBwYWdlXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSwgdGhpcyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0UGFnZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZ2VzKCkge1xuXHQgICAgICB2YXIgc3RhcnRQYWdlID0gMSxcblx0ICAgICAgICAgIGVuZFBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XG5cdFxuXHQgICAgICBzdGFydFBhZ2UgPSBNYXRoLm1heCh0aGlzLnByb3BzLmN1cnJQYWdlIC0gTWF0aC5mbG9vcih0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplIC8gMiksIDEpO1xuXHQgICAgICBlbmRQYWdlID0gc3RhcnRQYWdlICsgdGhpcy5wcm9wcy5wYWdpbmF0aW9uU2l6ZSAtIDE7XG5cdFxuXHQgICAgICBpZiAoZW5kUGFnZSA+IHRoaXMudG90YWxQYWdlcykge1xuXHQgICAgICAgIGVuZFBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XG5cdCAgICAgICAgc3RhcnRQYWdlID0gZW5kUGFnZSAtIHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUgKyAxO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwYWdlcztcblx0ICAgICAgaWYgKHN0YXJ0UGFnZSAhPSAxICYmIHRoaXMudG90YWxQYWdlcyA+IHRoaXMucHJvcHMucGFnaW5hdGlvblNpemUpIHtcblx0ICAgICAgICBwYWdlcyA9IFt0aGlzLnByb3BzLmZpcnN0UGFnZSwgdGhpcy5wcm9wcy5wcmVQYWdlXTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XG5cdCAgICAgICAgcGFnZXMgPSBbdGhpcy5wcm9wcy5wcmVQYWdlXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYWdlcyA9IFtdO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGkgPSBzdGFydFBhZ2U7IGkgPD0gZW5kUGFnZTsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGkgPiAwKSBwYWdlcy5wdXNoKGkpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlbmRQYWdlICE9IHRoaXMudG90YWxQYWdlcykge1xuXHQgICAgICAgIHBhZ2VzLnB1c2godGhpcy5wcm9wcy5uZXh0UGFnZSk7XG5cdCAgICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLmxhc3RQYWdlKTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XG5cdCAgICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLm5leHRQYWdlKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcGFnZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudFBhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jdXJyUGFnZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRTaXplUGVyUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2l6ZVBlclBhZ2UoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb3BzLnNpemVQZXJQYWdlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFBhZ2luYXRpb25MaXN0O1xuXHR9KShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblx0XG5cdFBhZ2luYXRpb25MaXN0LnByb3BUeXBlcyA9IHtcblx0ICBjdXJyUGFnZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsXG5cdCAgc2l6ZVBlclBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGRhdGFTaXplOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICBjaGFuZ2VQYWdlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2l6ZVBlclBhZ2VMaXN0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LFxuXHQgIHBhZ2luYXRpb25TaXplOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlcixcblx0ICByZW1vdGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvblNpemVQZXJQYWdlTGlzdDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgIHByZVBhZ2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRQYWdpbmF0aW9uTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgc2l6ZVBlclBhZ2U6IF9Db25zdDJbJ2RlZmF1bHQnXS5TSVpFX1BFUl9QQUdFXG5cdH07XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBQYWdpbmF0aW9uTGlzdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0NvbnN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29uc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29uc3QpO1xuXHRcblx0dmFyIF9FZGl0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9FZGl0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRWRpdG9yKTtcblx0XG5cdHZhciBfTm90aWZpY2F0aW9uSnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9Ob3RpZmljYXRpb25KczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob3RpZmljYXRpb25Kcyk7XG5cdFxuXHR2YXIgX3JjU3dpdGNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmNTd2l0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNTd2l0Y2gpO1xuXHRcblx0dmFyIFRvb2xCYXIgPSAoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUb29sQmFyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUb29sQmFyKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvb2xCYXIpO1xuXHRcblx0ICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUb29sQmFyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgcHJvcHMpO1xuXHRcblx0ICAgICAgICB0aGlzLmhhbmRsZVNob3dPbmx5VG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2hvd1NlbGVjdGVkOiAhX3RoaXMuc3RhdGUuc2hvd1NlbGVjdGVkXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNob3dPbmx5U2VsZWN0ZWQoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB0aGlzLmhhbmRsZUNsZWFyQnRuQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnJlZnMuc2VhY2hJbnB1dC52YWx1ZSA9ICcnO1xuXHQgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNlYXJjaCgnJyk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdGhpcy50aW1lb3V0ZUNsZWFyID0gMDtcblx0ICAgICAgICB0aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBpc0luc2VydFJvd1RyaWdnZXI6IHRydWUsXG5cdCAgICAgICAgICAgIHZhbGlkYXRlU3RhdGU6IG51bGwsXG5cdCAgICAgICAgICAgIHNoYWtlRWRpdG9yOiBmYWxzZSxcblx0ICAgICAgICAgICAgc2hvd1NlbGVjdGVkOiBmYWxzZVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFRvb2xCYXIsIFt7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXQoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY2xlYXJUaW1lb3V0Jyxcblx0ICAgICAgICB2YWx1ZTogKGZ1bmN0aW9uIChfY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyVGltZW91dCgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfY2xlYXJUaW1lb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGNsZWFyVGltZW91dC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfY2xlYXJUaW1lb3V0LnRvU3RyaW5nKCk7XG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0pKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMudGltZW91dGVDbGVhcikge1xuXHQgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dGVDbGVhcik7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXRlQ2xlYXIgPSAwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSlcblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjaGVja0FuZFBhcnNlRm9ybScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrQW5kUGFyc2VGb3JtKCkge1xuXHQgICAgICAgICAgICB2YXIgdHMgPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgbmV3T2JqID0ge30sXG5cdCAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdHJ1ZSxcblx0ICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSxcblx0ICAgICAgICAgICAgICAgIHRlbXBNc2csXG5cdCAgICAgICAgICAgICAgICB2YWxpZGF0ZVN0YXRlID0ge307XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uYXV0b1ZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSB0eXBlb2YgY29sdW1uLmF1dG9WYWx1ZSA9PSAnZnVuY3Rpb24nID8gY29sdW1uLmF1dG9WYWx1ZSgpIDogJ2F1dG92YWx1ZS0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBkb20gPSB0aGlzLnJlZnNbY29sdW1uLmZpZWxkICsgaV07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkb20gIT09ICd1bmRlZmluZWQnKSB0ZW1wVmFsdWUgPSBkb20udmFsdWU7ZWxzZSB0ZW1wVmFsdWUgPSB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmVkaXRhYmxlICYmIGNvbHVtbi5lZGl0YWJsZS50eXBlID09ICdjaGVja2JveCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGRvbS52YWx1ZS5zcGxpdCgnOicpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSBkb20uY2hlY2tlZCA/IHZhbHVlc1swXSA6IHZhbHVlc1sxXTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uZWRpdGFibGUgJiYgY29sdW1uLmVkaXRhYmxlLnZhbGlkYXRvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL3Byb2Nlc3MgdmFsaWRhdGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGVtcE1zZyA9IGNvbHVtbi5lZGl0YWJsZS52YWxpZGF0b3IodGVtcFZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBNc2cgIT09IHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdGVbY29sdW1uLmZpZWxkXSA9IHRlbXBNc2c7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgbmV3T2JqW2NvbHVtbi5maWVsZF0gPSB0ZW1wVmFsdWU7XG5cdCAgICAgICAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXdPYmo7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0cy5jbGVhclRpbWVvdXQoKTtcblx0ICAgICAgICAgICAgICAgIC8vc2hvdyBlcnJvciBpbiBmb3JtIGFuZCBzaGFrZSBpdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRlU3RhdGU6IHZhbGlkYXRlU3RhdGUsIHNoYWtlRWRpdG9yOiB0cnVlIH0pO1xuXHQgICAgICAgICAgICAgICAgLy9ub3RpZmllciBlcnJvclxuXHQgICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgXCJGb3JtIHZhbGlkYXRlIGVycm9ycywgcGxlYXNlIGNoZWNraW5nIVwiLCBcIlByZXNzZWQgRVNDIGNhbiBjYW5jZWxcIik7XG5cdCAgICAgICAgICAgICAgICAvL2NsZWFyIGFuaW1hdGUgY2xhc3Ncblx0ICAgICAgICAgICAgICAgIHRzLnRpbWVvdXRlQ2xlYXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7IHNoYWtlRWRpdG9yOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgIH0sIDMwMCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVTYXZlQnRuQ2xpY2snLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTYXZlQnRuQ2xpY2soZSkge1xuXHQgICAgICAgICAgICB2YXIgbmV3T2JqID0gdGhpcy5jaGVja0FuZFBhcnNlRm9ybSgpO1xuXHQgICAgICAgICAgICBpZiAoIW5ld09iaikge1xuXHQgICAgICAgICAgICAgICAgLy92YWxpZGF0ZSBlcnJvcnNcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgbXNnID0gdGhpcy5wcm9wcy5vbkFkZFJvdyhuZXdPYmopO1xuXHQgICAgICAgICAgICBpZiAobXNnKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdHMgPSB0aGlzO1xuXHQgICAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgbXNnLCBcIlByZXNzZWQgRVNDIGNhbiBjYW5jZWxcIik7XG5cdCAgICAgICAgICAgICAgICB0cy5jbGVhclRpbWVvdXQoKTtcblx0ICAgICAgICAgICAgICAgIC8vc2hha2UgZm9ybSBhbmQgaGFjayBwcmV2ZW50IG1vZGFsIGhpZGVcblx0ICAgICAgICAgICAgICAgIHRzLnNldFN0YXRlKHsgc2hha2VFZGl0b3I6IHRydWUsIHZhbGlkYXRlU3RhdGU6IFwidGhpcyBpcyBoYWNrIGZvciBwcmV2ZW50IGJvb3RzdHJhcCBtb2RhbCBoaWRlXCIgfSk7XG5cdCAgICAgICAgICAgICAgICAvL2NsZWFyIGFuaW1hdGUgY2xhc3Ncblx0ICAgICAgICAgICAgICAgIHRzLnRpbWVvdXRlQ2xlYXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7IHNoYWtlRWRpdG9yOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgIH0sIDMwMCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAvL3Jlc2V0IHN0YXRlIGFuZCBoaWRlIG1vZGFsIGhpZGVcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdGU6IG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgc2hha2VFZGl0b3I6IGZhbHNlXG5cdCAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5cIiArIFwibW9kYWxcIikuY2xpY2soKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgLy9yZXNldCBmb3JtXG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlZnMuZm9ybS5yZXNldCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZURyb3BSb3dCdG5DbGljaycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZURyb3BSb3dCdG5DbGljayhlKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMub25Ecm9wUm93KCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUNsb3NlQnRuJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2VCdG4oZSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlZnMud2FybmluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUtleVVwJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5VXAoZSkge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUV4cG9ydENTVicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydENTVigpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkV4cG9ydENTVigpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBtb2RhbENsYXNzTmFtZSA9IFwiYnMtdGFibGUtbW9kYWwtc21cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgICAgICAgICAgICB2YXIgaW5zZXJ0QnRuID0gdGhpcy5wcm9wcy5lbmFibGVJbnNlcnQgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgb25DbGljazogdGhpcy5wcm9wcy5vbkFkZFJvd0JlZ2luLCBjbGFzc05hbWU6ICdidG4gYnRuLWluZm8gcmVhY3QtYnMtdGFibGUtYWRkLWJ0bicsXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogJ21vZGFsJywgJ2RhdGEtdGFyZ2V0JzogJy4nICsgbW9kYWxDbGFzc05hbWUgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdnbHlwaGljb24gZ2x5cGhpY29uLXBsdXMnIH0pLFxuXHQgICAgICAgICAgICAgICAgJyBOZXcnXG5cdCAgICAgICAgICAgICkgOiBudWxsO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGRlbGV0ZUJ0biA9IHRoaXMucHJvcHMuZW5hYmxlRGVsZXRlID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogJ2J1dHRvbicsIGNsYXNzTmFtZTogJ2J0biBidG4td2FybmluZyByZWFjdC1icy10YWJsZS1kZWwtYnRuJywgJ2RhdGEtdG9nZ2xlJzogJ3Rvb2x0aXAnLFxuXHQgICAgICAgICAgICAgICAgICAgICdkYXRhLXBsYWNlbWVudCc6ICdyaWdodCcsIHRpdGxlOiAnRHJvcCBzZWxlY3RlZCByb3cnLFxuXHQgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlRHJvcFJvd0J0bkNsaWNrLmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoJyB9KSxcblx0ICAgICAgICAgICAgICAgICcgRGVsZXRlJ1xuXHQgICAgICAgICAgICApIDogbnVsbDtcblx0XG5cdCAgICAgICAgICAgIHZhciBzZWFyY2hUZXh0SW5wdXQgPSB0aGlzLnJlbmRlclNlYXJjaFBhbmVsKCk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgc2hvd1NlbGVjdGVkT25seUJ0biA9IHRoaXMucHJvcHMuZW5hYmxlU2hvd09ubHlTZWxlY3RlZCA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICB7IHR5cGU6ICdidXR0b24nLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNob3dPbmx5VG9nZ2xlLmJpbmQodGhpcyksIGNsYXNzTmFtZTogJ2J0biBidG4tcHJpbWFyeScsXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogJ2J1dHRvbicsICdhcmlhLXByZXNzZWQnOiAnZmFsc2UnIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNob3dTZWxlY3RlZCA/IF9Db25zdDJbJ2RlZmF1bHQnXS5TSE9XX0FMTCA6IF9Db25zdDJbJ2RlZmF1bHQnXS5TSE9XX09OTFlfU0VMRUNUXG5cdCAgICAgICAgICAgICkgOiBudWxsO1xuXHRcblx0ICAgICAgICAgICAgdmFyIG1vZGFsID0gdGhpcy5wcm9wcy5lbmFibGVJbnNlcnQgPyB0aGlzLnJlbmRlckluc2VydFJvd01vZGFsKG1vZGFsQ2xhc3NOYW1lKSA6IG51bGw7XG5cdCAgICAgICAgICAgIHZhciB3YXJuaW5nU3R5bGUgPSB7XG5cdCAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcblx0ICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMFxuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgdmFyIGV4cG9ydENTViA9IHRoaXMucHJvcHMuZW5hYmxlRXhwb3J0Q1NWID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogJ2J1dHRvbicsIGNsYXNzTmFtZTogJ2J0biBidG4tc3VjY2VzcycsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlRXhwb3J0Q1NWLmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdnbHlwaGljb24gZ2x5cGhpY29uLWV4cG9ydCcgfSksXG5cdCAgICAgICAgICAgICAgICAnIEV4cG9ydCB0byBDU1YnXG5cdCAgICAgICAgICAgICkgOiBudWxsO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JvdycgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNvbC1sZy04JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidG4tZ3JvdXAgYnRuLWdyb3VwLXNtJywgcm9sZTogJ2dyb3VwJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRDU1YsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEJ0bixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQnRuLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VsZWN0ZWRPbmx5QnRuXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNvbC1sZy00JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIHNlYXJjaFRleHRJbnB1dFxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9Ob3RpZmljYXRpb25KczJbJ2RlZmF1bHQnXSwgeyByZWY6ICdub3RpZmllcicgfSksXG5cdCAgICAgICAgICAgICAgICBtb2RhbFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXJTZWFyY2hQYW5lbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclNlYXJjaFBhbmVsKCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5lbmFibGVTZWFyY2gpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzID0gJ2Zvcm0tZ3JvdXAgZm9ybS1ncm91cC1zbSc7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2xlYXJCdG4gPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2xlYXJTZWFyY2gpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjbGVhckJ0biA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaW5wdXQtZ3JvdXAtYnRuJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0biBidG4tZGVmYXVsdCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGVhckJ0bkNsaWNrIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2xlYXInXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgPSAnZm9ybS1ncm91cCBmb3JtLWdyb3VwLXNtIGlucHV0LWdyb3VwIGlucHV0LWdyb3VwLXNtJztcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHJlZjogJ3NlYWNoSW5wdXQnLCBjbGFzc05hbWU6ICdmb3JtLWNvbnRyb2wnLCB0eXBlOiAndGV4dCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnNlYXJjaFBsYWNlaG9sZGVyID8gdGhpcy5wcm9wcy5zZWFyY2hQbGFjZWhvbGRlciA6ICdTZWFyY2gnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcykgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgY2xlYXJCdG5cblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXJJbnNlcnRSb3dNb2RhbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckluc2VydFJvd01vZGFsKG1vZGFsQ2xhc3NOYW1lKSB7XG5cdCAgICAgICAgICAgIHZhciB2YWxpZGF0ZVN0YXRlID0gdGhpcy5zdGF0ZS52YWxpZGF0ZVN0YXRlIHx8IHt9O1xuXHQgICAgICAgICAgICB2YXIgaW5wdXRGaWVsZCA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gY29sdW1uLmVkaXRhYmxlLFxuXHQgICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IGNvbHVtbi5mb3JtYXQsXG5cdCAgICAgICAgICAgICAgICAgICAgYXR0ciA9IHsgcmVmOiBjb2x1bW4uZmllbGQgKyBpLCBwbGFjZWhvbGRlcjogZWRpdGFibGUucGxhY2Vob2xkZXIgPyBlZGl0YWJsZS5wbGFjZWhvbGRlciA6IGNvbHVtbi5uYW1lIH07XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5hdXRvVmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvL3doZW4geW91IHdhbnQgc2FtZSBhdXRvIGdlbmVyYXRlIHZhbHVlIGFuZCBub3QgYWxsb3cgZWRpdCwgZXhhbXBsZSBJRCBmaWVsZFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gdmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGVscC1ibG9jayBiZy1kYW5nZXInIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZVtjb2x1bW4uZmllbGRdXG5cdCAgICAgICAgICAgICAgICApIDogbnVsbDtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBsZXQgZWRpdG9yID0gRWRpdG9yKGVkaXRhYmxlLGF0dHIsZm9ybWF0KTtcblx0ICAgICAgICAgICAgICAgIC8vIGlmKGVkaXRvci5wcm9wcy50eXBlICYmIGVkaXRvci5wcm9wcy50eXBlID09ICdjaGVja2JveCcpe1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0geyBkaXNwbGF5OiBjb2x1bW4uaGlkZGVuSW5Qb3B1cCA/ICdub25lJyA6ICdibG9jaycgfTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Zvcm0tZ3JvdXAnLCBrZXk6IGNvbHVtbi5maWVsZCwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdsYWJlbCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5uYW1lXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX0VkaXRvcjJbJ2RlZmF1bHQnXSkoZWRpdGFibGUsIGF0dHIsIGZvcm1hdCwgJycpLFxuXHQgICAgICAgICAgICAgICAgICAgIGVycm9yXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIG1vZGFsQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKFwibW9kYWxcIiwgXCJmYWRlXCIsIG1vZGFsQ2xhc3NOYW1lLCB7XG5cdCAgICAgICAgICAgICAgICAnaW4nOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yIHx8IHRoaXMuc3RhdGUudmFsaWRhdGVTdGF0ZSAvL2hhY2sgcHJldmVudCBib290c3RyYXAgbW9kYWwgaGlkZSBieSByZVJlbmRlclxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIGRpYWxvZ0NsYXNzID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShcIm1vZGFsLWRpYWxvZ1wiLCBcIm1vZGFsLXNtXCIsIHtcblx0ICAgICAgICAgICAgICAgIFwiYW5pbWF0ZWRcIjogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvcixcblx0ICAgICAgICAgICAgICAgIFwic2hha2VcIjogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvclxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IHJlZjogJ21vZGFsJywgY2xhc3NOYW1lOiBtb2RhbENsYXNzLCB0YWJJbmRleDogJy0xJywgcm9sZTogJ2RpYWxvZycgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBkaWFsb2dDbGFzcyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbC1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbC1oZWFkZXInIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICdidXR0b24nLCBjbGFzc05hbWU6ICdjbG9zZScsICdkYXRhLWRpc21pc3MnOiAnbW9kYWwnLCAnYXJpYS1sYWJlbCc6ICdDbG9zZScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ8OXJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaDQnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbW9kYWwtdGl0bGUnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05ldyBSZWNvcmQnXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vZGFsLWJvZHknIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9ybScsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyByZWY6ICdmb3JtJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RmllbGRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbW9kYWwtZm9vdGVyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgY2xhc3NOYW1lOiAnYnRuIGJ0bi1kZWZhdWx0JywgJ2RhdGEtZGlzbWlzcyc6ICdtb2RhbCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2xvc2UnXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgY2xhc3NOYW1lOiAnYnRuIGJ0bi1pbmZvJywgb25DbGljazogdGhpcy5oYW5kbGVTYXZlQnRuQ2xpY2suYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTYXZlJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVG9vbEJhcjtcblx0fSkoX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cdFxuXHRUb29sQmFyLnByb3BUeXBlcyA9IHtcblx0ICAgIG9uQWRkUm93OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkRyb3BSb3c6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2hvd09ubHlTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZW5hYmxlSW5zZXJ0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBlbmFibGVEZWxldGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGVuYWJsZVNlYXJjaDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLFxuXHQgICAgY29sdW1uczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHNlYXJjaFBsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNsZWFyU2VhcmNoOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdFRvb2xCYXIuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZW5hYmxlSW5zZXJ0OiBmYWxzZSxcblx0ICAgIGVuYWJsZURlbGV0ZTogZmFsc2UsXG5cdCAgICBlbmFibGVTZWFyY2g6IGZhbHNlLFxuXHQgICAgZW5hYmxlU2hvd09ubHlTZWxlY3RlZDogZmFsc2UsXG5cdCAgICBjbGVhclNlYXJjaDogZmFsc2Vcblx0fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVG9vbEJhcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucmMtc3dpdGNoe3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDo0NHB4O2hlaWdodDoyMnB4O2xpbmUtaGVpZ2h0OjIwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlO2JvcmRlci1yYWRpdXM6MjBweCAyMHB4O2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjphbGwgLjNzIGN1YmljLWJlemllciguMzUsMCwuMjUsMSl9LnJjLXN3aXRjaC1pbm5lcntjb2xvcjojZmZmO2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MjRweH0ucmMtc3dpdGNoOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7bGVmdDoycHg7dG9wOjFweDtib3JkZXItcmFkaXVzOjUwJSA1MCU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2NvbnRlbnQ6XFxcIiBcXFwiO2N1cnNvcjpwb2ludGVyO2JveC1zaGFkb3c6MCAycHggNXB4IHJnYmEoMCwwLDAsLjI2KTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNpdGlvbjpsZWZ0IC4zcyBjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKTstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouM3M7YW5pbWF0aW9uLWR1cmF0aW9uOi4zczstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT2ZmO2FuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT2ZmfS5yYy1zd2l0Y2g6aG92ZXI6YWZ0ZXJ7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJjU3dpdGNoT247YW5pbWF0aW9uLW5hbWU6cmNTd2l0Y2hPbn0ucmMtc3dpdGNoLWNoZWNrZWR7Ym9yZGVyOjFweCBzb2xpZCAjODdkMDY4O2JhY2tncm91bmQtY29sb3I6Izg3ZDA2OH0ucmMtc3dpdGNoLWNoZWNrZWQgLnJjLXN3aXRjaC1pbm5lcntsZWZ0OjZweH0ucmMtc3dpdGNoLWNoZWNrZWQ6YWZ0ZXJ7bGVmdDoyMnB4fS5yYy1zd2l0Y2gtZGlzYWJsZWR7Y3Vyc29yOm5vLWRyb3A7YmFja2dyb3VuZDojY2NjO2JvcmRlci1jb2xvcjojY2NjfS5yYy1zd2l0Y2gtZGlzYWJsZWQ6YWZ0ZXJ7YmFja2dyb3VuZDojOWU5ZTllOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6bm9uZTthbmltYXRpb24tbmFtZTpub25lO2N1cnNvcjpuby1kcm9wfS5yYy1zd2l0Y2gtZGlzYWJsZWQ6aG92ZXI6YWZ0ZXJ7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6bm9uZTthbmltYXRpb24tbmFtZTpub25lfS5yYy1zd2l0Y2gtbGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MjBweDtmb250LXNpemU6MTRweDtwYWRkaW5nLWxlZnQ6MTBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2hpdGUtc3BhY2U6bm9ybWFsO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDp0ZXh0Oy1tb3otdXNlci1zZWxlY3Q6dGV4dDstbXMtdXNlci1zZWxlY3Q6dGV4dDt1c2VyLXNlbGVjdDp0ZXh0fUAtd2Via2l0LWtleWZyYW1lcyByY1N3aXRjaE9uezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yNSk7dHJhbnNmb3JtOnNjYWxlKDEuMjUpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9fUBrZXlmcmFtZXMgcmNTd2l0Y2hPbnswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMjUpO3RyYW5zZm9ybTpzY2FsZSgxLjI1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgcmNTd2l0Y2hPZmZ7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fUBrZXlmcmFtZXMgcmNTd2l0Y2hPZmZ7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdC8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBsaXN0ID0gW107XHJcblx0XHJcblx0XHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0XHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdFx0fTtcclxuXHRcclxuXHRcdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0XHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRyZXR1cm4gbGlzdDtcclxuXHR9O1xyXG5cblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGNsYXNzTmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgU3dpdGNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnU3dpdGNoJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBwcmVmaXhDbHM6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkaXNhYmxlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGNoZWNrZWRDaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHVuQ2hlY2tlZENoaWxkcmVuOiBSZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHByZWZpeENsczogJ3JjLXN3aXRjaCcsXG5cdCAgICAgIHN0eWxlOiB7fSxcblx0ICAgICAgY2hlY2tlZENoaWxkcmVuOiBudWxsLFxuXHQgICAgICB1bkNoZWNrZWRDaGlsZHJlbjogbnVsbCxcblx0ICAgICAgY2xhc3NOYW1lOiAnJyxcblx0ICAgICAgZGVmYXVsdENoZWNrZWQ6IGZhbHNlLFxuXHQgICAgICBvbkNoYW5nZTogbm9vcFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG5cdCAgICBpZiAoJ2NoZWNrZWQnIGluIHByb3BzKSB7XG5cdCAgICAgIGNoZWNrZWQgPSAhIXByb3BzLmNoZWNrZWQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjaGVja2VkID0gISFwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblx0ICAgIH1cblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCdjaGVja2VkJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY2hlY2tlZDogISFuZXh0UHJvcHMuY2hlY2tlZFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuXHQgICAgdmFyIGNoZWNrZWQgPSAhdGhpcy5zdGF0ZS5jaGVja2VkO1xuXHQgICAgaWYgKCEoJ2NoZWNrZWQnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGNoZWNrZWQpO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX2NsYXNzTmFtZXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgdmFyIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkO1xuXHQgICAgdmFyIHN0eWxlID0gX3Byb3BzLnN0eWxlO1xuXHQgICAgdmFyIGNoZWNrZWRDaGlsZHJlbiA9IF9wcm9wcy5jaGVja2VkQ2hpbGRyZW47XG5cdCAgICB2YXIgdW5DaGVja2VkQ2hpbGRyZW4gPSBfcHJvcHMudW5DaGVja2VkQ2hpbGRyZW47XG5cdFxuXHQgICAgdmFyIGNoZWNrZWQgPSB0aGlzLnN0YXRlLmNoZWNrZWQ7XG5cdCAgICB2YXIgc3dpdGNoQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzKSk7XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3NwYW4nLFxuXHQgICAgICB7IGNsYXNzTmFtZTogc3dpdGNoQ2xhc3NOYW1lLFxuXHQgICAgICAgIG9uQ2xpY2s6IGRpc2FibGVkID8gbm9vcCA6IHRoaXMudG9nZ2xlLFxuXHQgICAgICAgIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdzcGFuJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lcicgfSxcblx0ICAgICAgICBjaGVja2VkID8gY2hlY2tlZENoaWxkcmVuIDogdW5DaGVja2VkQ2hpbGRyZW5cblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBTd2l0Y2g7XG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblx0XG5cdHZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHNTdHJpcERpYWNyaXRpY3MpO1xuXHRcblx0dmFyIHJlcXVlc3RJZCA9IDA7XG5cdFxuXHRmdW5jdGlvbiBpbml0Q2FjaGUoY2FjaGUpIHtcblx0XHRpZiAoY2FjaGUgJiYgdHlwZW9mIGNhY2hlICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0Y2FjaGUgPSB7fTtcblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlID8gY2FjaGUgOiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVDYWNoZShjYWNoZSwgaW5wdXQsIGRhdGEpIHtcblx0XHRpZiAoIWNhY2hlKSByZXR1cm47XG5cdFx0Y2FjaGVbaW5wdXRdID0gZGF0YTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKGNhY2hlLCBpbnB1dCkge1xuXHRcdGlmICghY2FjaGUpIHJldHVybjtcblx0XHRmb3IgKHZhciBpID0gaW5wdXQubGVuZ3RoOyBpID49IDA7IC0taSkge1xuXHRcdFx0dmFyIGNhY2hlS2V5ID0gaW5wdXQuc2xpY2UoMCwgaSk7XG5cdFx0XHRpZiAoY2FjaGVbY2FjaGVLZXldICYmIChpbnB1dCA9PT0gY2FjaGVLZXkgfHwgY2FjaGVbY2FjaGVLZXldLmNvbXBsZXRlKSkge1xuXHRcdFx0XHRyZXR1cm4gY2FjaGVbY2FjaGVLZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdGhlblByb21pc2UocHJvbWlzZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIXByb21pc2UgfHwgdHlwZW9mIHByb21pc2UudGhlbiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuO1xuXHRcdHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdGNhbGxiYWNrKG51bGwsIGRhdGEpO1xuXHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdGNhbGxiYWNrKGVycik7XG5cdFx0fSk7XG5cdH1cblx0XG5cdHZhciBzdHJpbmdPck5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMubm9kZV0pO1xuXHRcblx0dmFyIEFzeW5jID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblx0XHRkaXNwbGF5TmFtZTogJ0FzeW5jJyxcblx0XG5cdFx0cHJvcFR5cGVzOiB7XG5cdFx0XHRjYWNoZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5hbnksIC8vIG9iamVjdCB0byB1c2UgdG8gY2FjaGUgcmVzdWx0cywgY2FuIGJlIG51bGwgdG8gZGlzYWJsZSBjYWNoZVxuXHRcdFx0aWdub3JlQWNjZW50czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIHN0cmlwIGRpYWNyaXRpY3Mgd2hlbiBmaWx0ZXJpbmcgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRcdGlnbm9yZUNhc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBwZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgZmlsdGVyaW5nIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0XHRpc0xvYWRpbmc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gb3ZlcnJpZGVzIHRoZSBpc0xvYWRpbmcgc3RhdGUgd2hlbiBzZXQgdG8gdHJ1ZVxuXHRcdFx0bG9hZE9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLCAvLyBmdW5jdGlvbiB0byBjYWxsIHRvIGxvYWQgb3B0aW9ucyBhc3luY2hyb25vdXNseVxuXHRcdFx0bG9hZGluZ1BsYWNlaG9sZGVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcmVwbGFjZXMgdGhlIHBsYWNlaG9sZGVyIHdoaWxlIG9wdGlvbnMgYXJlIGxvYWRpbmdcblx0XHRcdG1pbmltdW1JbnB1dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsIC8vIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgdHJpZ2dlciBsb2FkT3B0aW9uc1xuXHRcdFx0bm9SZXN1bHRzVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHBsYWNlaG9sZGVyIGRpc3BsYXllZCB3aGVuIHRoZXJlIGFyZSBubyBtYXRjaGluZyBzZWFyY2ggcmVzdWx0cyAoc2hhcmVkIHdpdGggU2VsZWN0KVxuXHRcdFx0cGxhY2Vob2xkZXI6IHN0cmluZ09yTm9kZSwgLy8gZmllbGQgcGxhY2Vob2xkZXIsIGRpc3BsYXllZCB3aGVuIHRoZXJlJ3Mgbm8gdmFsdWUgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRcdHNlYXJjaFByb21wdFRleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBsYWJlbCB0byBwcm9tcHQgZm9yIHNlYXJjaCBpbnB1dFxuXHRcdFx0c2VhcmNoaW5nVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcgfSxcblx0XHQvLyBtZXNzYWdlIHRvIGRpc3BsYXkgd2hpbGUgb3B0aW9ucyBhcmUgbG9hZGluZ1xuXHRcdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRcdGlnbm9yZUFjY2VudHM6IHRydWUsXG5cdFx0XHRcdGlnbm9yZUNhc2U6IHRydWUsXG5cdFx0XHRcdGxvYWRpbmdQbGFjZWhvbGRlcjogJ0xvYWRpbmcuLi4nLFxuXHRcdFx0XHRtaW5pbXVtSW5wdXQ6IDAsXG5cdFx0XHRcdHNlYXJjaGluZ1RleHQ6ICdTZWFyY2hpbmcuLi4nLFxuXHRcdFx0XHRzZWFyY2hQcm9tcHRUZXh0OiAnVHlwZSB0byBzZWFyY2gnXG5cdFx0XHR9O1xuXHRcdH0sXG5cdFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRjYWNoZTogaW5pdENhY2hlKHRoaXMucHJvcHMuY2FjaGUpLFxuXHRcdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0XHRvcHRpb25zOiBbXVxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHRcdFx0dGhpcy5fbGFzdElucHV0ID0gJyc7XG5cdFx0fSxcblx0XHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0XHR0aGlzLmxvYWRPcHRpb25zKCcnKTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0XHRpZiAobmV4dFByb3BzLmNhY2hlICE9PSB0aGlzLnByb3BzLmNhY2hlKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGNhY2hlOiBpbml0Q2FjaGUobmV4dFByb3BzLmNhY2hlKVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0XHRcdHRoaXMucmVmcy5zZWxlY3QuZm9jdXMoKTtcblx0XHR9LFxuXHRcdHJlc2V0U3RhdGU6IGZ1bmN0aW9uIHJlc2V0U3RhdGUoKSB7XG5cdFx0XHR0aGlzLl9jdXJyZW50UmVxdWVzdElkID0gLTE7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdFx0b3B0aW9uczogW11cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0Z2V0UmVzcG9uc2VIYW5kbGVyOiBmdW5jdGlvbiBnZXRSZXNwb25zZUhhbmRsZXIoaW5wdXQpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHRcdFx0dmFyIF9yZXF1ZXN0SWQgPSB0aGlzLl9jdXJyZW50UmVxdWVzdElkID0gcmVxdWVzdElkKys7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuXHRcdFx0XHRpZiAoZXJyKSB0aHJvdyBlcnI7XG5cdFx0XHRcdGlmICghX3RoaXMuaXNNb3VudGVkKCkpIHJldHVybjtcblx0XHRcdFx0dXBkYXRlQ2FjaGUoX3RoaXMuc3RhdGUuY2FjaGUsIGlucHV0LCBkYXRhKTtcblx0XHRcdFx0aWYgKF9yZXF1ZXN0SWQgIT09IF90aGlzLl9jdXJyZW50UmVxdWVzdElkKSByZXR1cm47XG5cdFx0XHRcdF90aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0XHRcdG9wdGlvbnM6IGRhdGEgJiYgZGF0YS5vcHRpb25zIHx8IFtdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGxvYWRPcHRpb25zOiBmdW5jdGlvbiBsb2FkT3B0aW9ucyhpbnB1dCkge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQWNjZW50cykgaW5wdXQgPSAoMCwgX3V0aWxzU3RyaXBEaWFjcml0aWNzMlsnZGVmYXVsdCddKShpbnB1dCk7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5pZ25vcmVDYXNlKSBpbnB1dCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR0aGlzLl9sYXN0SW5wdXQgPSBpbnB1dDtcblx0XHRcdGlmIChpbnB1dC5sZW5ndGggPCB0aGlzLnByb3BzLm1pbmltdW1JbnB1dCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZXNldFN0YXRlKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY2FjaGVSZXN1bHQgPSBnZXRGcm9tQ2FjaGUodGhpcy5zdGF0ZS5jYWNoZSwgaW5wdXQpO1xuXHRcdFx0aWYgKGNhY2hlUmVzdWx0KSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRvcHRpb25zOiBjYWNoZVJlc3VsdC5vcHRpb25zXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzTG9hZGluZzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgcmVzcG9uc2VIYW5kbGVyID0gdGhpcy5nZXRSZXNwb25zZUhhbmRsZXIoaW5wdXQpO1xuXHRcdFx0cmV0dXJuIHRoZW5Qcm9taXNlKHRoaXMucHJvcHMubG9hZE9wdGlvbnMoaW5wdXQsIHJlc3BvbnNlSGFuZGxlciksIHJlc3BvbnNlSGFuZGxlcik7XG5cdFx0fSxcblx0XHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdHZhciBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0O1xuXHRcdFx0dmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFx0XHR2YXIgaXNMb2FkaW5nID0gX3N0YXRlLmlzTG9hZGluZztcblx0XHRcdHZhciBvcHRpb25zID0gX3N0YXRlLm9wdGlvbnM7XG5cdFxuXHRcdFx0aWYgKHRoaXMucHJvcHMuaXNMb2FkaW5nKSBpc0xvYWRpbmcgPSB0cnVlO1xuXHRcdFx0dmFyIHBsYWNlaG9sZGVyID0gaXNMb2FkaW5nID8gdGhpcy5wcm9wcy5sb2FkaW5nUGxhY2Vob2xkZXIgOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyO1xuXHRcdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAodGhpcy5fbGFzdElucHV0Lmxlbmd0aCA8IHRoaXMucHJvcHMubWluaW11bUlucHV0KSBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5zZWFyY2hQcm9tcHRUZXh0O1xuXHRcdFx0XHRpZiAoaXNMb2FkaW5nKSBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5zZWFyY2hpbmdUZXh0O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9TZWxlY3QyWydkZWZhdWx0J10sIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7XG5cdFx0XHRcdHJlZjogJ3NlbGVjdCcsXG5cdFx0XHRcdGlzTG9hZGluZzogaXNMb2FkaW5nLFxuXHRcdFx0XHRub1Jlc3VsdHNUZXh0OiBub1Jlc3VsdHNUZXh0LFxuXHRcdFx0XHRvbklucHV0Q2hhbmdlOiB0aGlzLmxvYWRPcHRpb25zLFxuXHRcdFx0XHRvcHRpb25zOiBvcHRpb25zLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJcblx0XHRcdH0pKTtcblx0XHR9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBc3luYztcblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBPcHRpb24gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXHRcdGRpc3BsYXlOYW1lOiAnT3B0aW9uJyxcblx0XG5cdFx0cHJvcFR5cGVzOiB7XG5cdFx0XHRjaGlsZHJlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlLFxuXHRcdFx0Y2xhc3NOYW1lOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gY2xhc3NOYW1lIChiYXNlZCBvbiBtb3VzZSBwb3NpdGlvbilcblx0XHRcdGlzRGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gdGhlIG9wdGlvbiBpcyBkaXNhYmxlZFxuXHRcdFx0aXNGb2N1c2VkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHRoZSBvcHRpb24gaXMgZm9jdXNlZFxuXHRcdFx0aXNTZWxlY3RlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB0aGUgb3B0aW9uIGlzIHNlbGVjdGVkXG5cdFx0XHRvbkZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgbW91c2VFbnRlciBvbiBvcHRpb24gZWxlbWVudFxuXHRcdFx0b25TZWxlY3Q6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSBjbGljayBvbiBvcHRpb24gZWxlbWVudFxuXHRcdFx0b25VbmZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG1ldGhvZCB0byBoYW5kbGUgbW91c2VMZWF2ZSBvbiBvcHRpb24gZWxlbWVudFxuXHRcdFx0b3B0aW9uOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkIH0sXG5cdFx0Ly8gb2JqZWN0IHRoYXQgaXMgYmFzZSBmb3IgdGhhdCBvcHRpb25cblx0XHRibG9ja0V2ZW50OiBmdW5jdGlvbiBibG9ja0V2ZW50KGV2ZW50KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgIT09ICdBJyB8fCAhKCdocmVmJyBpbiBldmVudC50YXJnZXQpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChldmVudC50YXJnZXQudGFyZ2V0KSB7XG5cdFx0XHRcdHdpbmRvdy5vcGVuKGV2ZW50LnRhcmdldC5ocmVmLCBldmVudC50YXJnZXQudGFyZ2V0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZXZlbnQudGFyZ2V0LmhyZWY7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdHRoaXMucHJvcHMub25TZWxlY3QodGhpcy5wcm9wcy5vcHRpb24sIGV2ZW50KTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKGV2ZW50KSB7XG5cdFx0XHR0aGlzLm9uRm9jdXMoZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG5cdFx0XHR0aGlzLm9uRm9jdXMoZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoRW5kOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCkge1xuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblx0XG5cdFx0XHR0aGlzLmhhbmRsZU1vdXNlRG93bihldmVudCk7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcblx0XHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkXG5cdFx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVUb3VjaFN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG5cdFx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgbm90IGJlaW5nIGRyYWdnZWRcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblx0XHR9LFxuXHRcblx0XHRvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGV2ZW50KSB7XG5cdFx0XHRpZiAoIXRoaXMucHJvcHMuaXNGb2N1c2VkKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25Gb2N1cyh0aGlzLnByb3BzLm9wdGlvbiwgZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHR2YXIgb3B0aW9uID0gdGhpcy5wcm9wcy5vcHRpb247XG5cdFxuXHRcdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkodGhpcy5wcm9wcy5jbGFzc05hbWUsIG9wdGlvbi5jbGFzc05hbWUpO1xuXHRcblx0XHRcdHJldHVybiBvcHRpb24uZGlzYWJsZWQgPyBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMuYmxvY2tFdmVudCxcblx0XHRcdFx0XHRvbkNsaWNrOiB0aGlzLmJsb2NrRXZlbnQgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KSA6IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdFx0XHRzdHlsZTogb3B0aW9uLnN0eWxlLFxuXHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bixcblx0XHRcdFx0XHRvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcblx0XHRcdFx0XHRvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3VzZU1vdmUsXG5cdFx0XHRcdFx0b25Ub3VjaFN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG5cdFx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuXHRcdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG5cdFx0XHRcdFx0dGl0bGU6IG9wdGlvbi50aXRsZSB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9wdGlvbjtcblxuLyoqKi8gfSxcbi8qIDQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBWYWx1ZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVDbGFzcyh7XG5cdFxuXHRcdGRpc3BsYXlOYW1lOiAnVmFsdWUnLFxuXHRcblx0XHRwcm9wVHlwZXM6IHtcblx0XHRcdGNoaWxkcmVuOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm5vZGUsXG5cdFx0XHRkaXNhYmxlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBkaXNhYmxlZCBwcm9wIHBhc3NlZCB0byBSZWFjdFNlbGVjdFxuXHRcdFx0b25DbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIGNsaWNrIG9uIHZhbHVlIGxhYmVsXG5cdFx0XHRvblJlbW92ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIHJlbW92YWwgb2YgdGhlIHZhbHVlXG5cdFx0XHR2YWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCB9LFxuXHRcblx0XHQvLyB0aGUgb3B0aW9uIG9iamVjdCBmb3IgdGhpcyB2YWx1ZVxuXHRcdGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG5cdFx0XHRpZiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLm9uQ2xpY2spIHtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRoaXMucHJvcHMub25DbGljayh0aGlzLnByb3BzLnZhbHVlLCBldmVudCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLnZhbHVlLmhyZWYpIHtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0b25SZW1vdmU6IGZ1bmN0aW9uIG9uUmVtb3ZlKGV2ZW50KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR0aGlzLnByb3BzLm9uUmVtb3ZlKHRoaXMucHJvcHMudmFsdWUpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoRW5kUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZFJlbW92ZShldmVudCkge1xuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcblx0XG5cdFx0XHQvLyBGaXJlIHRoZSBtb3VzZSBldmVudHNcblx0XHRcdHRoaXMub25SZW1vdmUoZXZlbnQpO1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cdFx0fSxcblx0XG5cdFx0aGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuXHRcdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIG5vdCBiZWluZyBkcmFnZ2VkXG5cdFx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdFx0fSxcblx0XG5cdFx0cmVuZGVyUmVtb3ZlSWNvbjogZnVuY3Rpb24gcmVuZGVyUmVtb3ZlSWNvbigpIHtcblx0XHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLm9uUmVtb3ZlKSByZXR1cm47XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdzcGFuJyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtdmFsdWUtaWNvbicsXG5cdFx0XHRcdFx0b25Nb3VzZURvd246IHRoaXMub25SZW1vdmUsXG5cdFx0XHRcdFx0b25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZFJlbW92ZSxcblx0XHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUgfSxcblx0XHRcdFx0J8OXJ1xuXHRcdFx0KTtcblx0XHR9LFxuXHRcblx0XHRyZW5kZXJMYWJlbDogZnVuY3Rpb24gcmVuZGVyTGFiZWwoKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lID0gJ1NlbGVjdC12YWx1ZS1sYWJlbCc7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5vbkNsaWNrIHx8IHRoaXMucHJvcHMudmFsdWUuaHJlZiA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnYScsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGhyZWY6IHRoaXMucHJvcHMudmFsdWUuaHJlZiwgdGFyZ2V0OiB0aGlzLnByb3BzLnZhbHVlLnRhcmdldCwgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duLCBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZU1vdXNlRG93biB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpIDogX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdzcGFuJyxcblx0XHRcdFx0eyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdC12YWx1ZScsIHRoaXMucHJvcHMudmFsdWUuY2xhc3NOYW1lKSxcblx0XHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy52YWx1ZS5zdHlsZSxcblx0XHRcdFx0XHR0aXRsZTogdGhpcy5wcm9wcy52YWx1ZS50aXRsZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGlzLnJlbmRlclJlbW92ZUljb24oKSxcblx0XHRcdFx0dGhpcy5yZW5kZXJMYWJlbCgpXG5cdFx0XHQpO1xuXHRcdH1cblx0XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBWYWx1ZTtcblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBzaXplclN0eWxlID0geyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdmlzaWJpbGl0eTogJ2hpZGRlbicsIGhlaWdodDogMCwgd2lkdGg6IDAsIG92ZXJmbG93OiAnc2Nyb2xsJywgd2hpdGVTcGFjZTogJ25vd3JhcCcgfTtcblx0XG5cdHZhciBuZXh0RnJhbWUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IChmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG5cdFx0fTtcblx0fSkoKS5iaW5kKHdpbmRvdykgOiB1bmRlZmluZWQ7IC8vIElmIHdpbmRvdyBpcyB1bmRlZmluZWQsIHRoZW4gd2UgY2FuJ3QgZGVmaW5lIGEgbmV4dEZyYW1lIGZ1bmN0aW9uXG5cdFxuXHR2YXIgQXV0b3NpemVJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0XHRkaXNwbGF5TmFtZTogJ0F1dG9zaXplSW5wdXQnLFxuXHRcblx0XHRwcm9wVHlwZXM6IHtcblx0XHRcdHZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuYW55LCAvLyBmaWVsZCB2YWx1ZVxuXHRcdFx0ZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuYW55LCAvLyBkZWZhdWx0IGZpZWxkIHZhbHVlXG5cdFx0XHRvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQ2hhbmdlIGhhbmRsZXI6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7fVxuXHRcdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsIC8vIGNzcyBzdHlsZXMgZm9yIHRoZSBvdXRlciBlbGVtZW50XG5cdFx0XHRjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSBmb3IgdGhlIG91dGVyIGVsZW1lbnRcblx0XHRcdG1pbldpZHRoOiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFsvLyBtaW5pbXVtIHdpZHRoIGZvciBpbnB1dCBlbGVtZW50XG5cdFx0XHRSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG5cdFx0XHRpbnB1dFN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCAvLyBjc3Mgc3R5bGVzIGZvciB0aGUgaW5wdXQgZWxlbWVudFxuXHRcdFx0aW5wdXRDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcgLy8gY2xhc3NOYW1lIGZvciB0aGUgaW5wdXQgZWxlbWVudFxuXHRcdH0sXG5cdFx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRtaW5XaWR0aDogMVxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5wdXRXaWR0aDogdGhpcy5wcm9wcy5taW5XaWR0aFxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRcdHRoaXMuY29weUlucHV0U3R5bGVzKCk7XG5cdFx0XHR0aGlzLnVwZGF0ZUlucHV0V2lkdGgoKTtcblx0XHR9LFxuXHRcdGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHRcdFx0dGhpcy5xdWV1ZVVwZGF0ZUlucHV0V2lkdGgoKTtcblx0XHR9LFxuXHRcdGNvcHlJbnB1dFN0eWxlczogZnVuY3Rpb24gY29weUlucHV0U3R5bGVzKCkge1xuXHRcdFx0aWYgKCF0aGlzLmlzTW91bnRlZCgpIHx8ICF3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR2YXIgaW5wdXRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMucmVmcy5pbnB1dCk7XG5cdFx0XHR2YXIgd2lkdGhOb2RlID0gdGhpcy5yZWZzLnNpemVyO1xuXHRcdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRTaXplID0gaW5wdXRTdHlsZS5mb250U2l6ZTtcblx0XHRcdHdpZHRoTm9kZS5zdHlsZS5mb250RmFtaWx5ID0gaW5wdXRTdHlsZS5mb250RmFtaWx5O1xuXHRcdFx0d2lkdGhOb2RlLnN0eWxlLmZvbnRXZWlnaHQgPSBpbnB1dFN0eWxlLmZvbnRXZWlnaHQ7XG5cdFx0XHR3aWR0aE5vZGUuc3R5bGUuZm9udFN0eWxlID0gaW5wdXRTdHlsZS5mb250U3R5bGU7XG5cdFx0XHR3aWR0aE5vZGUuc3R5bGUubGV0dGVyU3BhY2luZyA9IGlucHV0U3R5bGUubGV0dGVyU3BhY2luZztcblx0XHRcdGlmICh0aGlzLnByb3BzLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHRcdHZhciBwbGFjZWhvbGRlck5vZGUgPSB0aGlzLnJlZnMucGxhY2Vob2xkZXJTaXplcjtcblx0XHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRTaXplID0gaW5wdXRTdHlsZS5mb250U2l6ZTtcblx0XHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRGYW1pbHkgPSBpbnB1dFN0eWxlLmZvbnRGYW1pbHk7XG5cdFx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250V2VpZ2h0ID0gaW5wdXRTdHlsZS5mb250V2VpZ2h0O1xuXHRcdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUuZm9udFN0eWxlID0gaW5wdXRTdHlsZS5mb250U3R5bGU7XG5cdFx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gaW5wdXRTdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cXVldWVVcGRhdGVJbnB1dFdpZHRoOiBmdW5jdGlvbiBxdWV1ZVVwZGF0ZUlucHV0V2lkdGgoKSB7XG5cdFx0XHRuZXh0RnJhbWUodGhpcy51cGRhdGVJbnB1dFdpZHRoKTtcblx0XHR9LFxuXHRcdHVwZGF0ZUlucHV0V2lkdGg6IGZ1bmN0aW9uIHVwZGF0ZUlucHV0V2lkdGgoKSB7XG5cdFx0XHRpZiAoIXRoaXMuaXNNb3VudGVkKCkgfHwgdHlwZW9mIHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIG5ld0lucHV0V2lkdGggPSB1bmRlZmluZWQ7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5wbGFjZWhvbGRlcikge1xuXHRcdFx0XHRuZXdJbnB1dFdpZHRoID0gTWF0aC5tYXgodGhpcy5yZWZzLnNpemVyLnNjcm9sbFdpZHRoLCB0aGlzLnJlZnMucGxhY2Vob2xkZXJTaXplci5zY3JvbGxXaWR0aCkgKyAyO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3SW5wdXRXaWR0aCA9IHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCArIDI7XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3SW5wdXRXaWR0aCA8IHRoaXMucHJvcHMubWluV2lkdGgpIHtcblx0XHRcdFx0bmV3SW5wdXRXaWR0aCA9IHRoaXMucHJvcHMubWluV2lkdGg7XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3SW5wdXRXaWR0aCAhPT0gdGhpcy5zdGF0ZS5pbnB1dFdpZHRoKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGlucHV0V2lkdGg6IG5ld0lucHV0V2lkdGhcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZWZzLmlucHV0O1xuXHRcdH0sXG5cdFx0Zm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LmZvY3VzKCk7XG5cdFx0fSxcblx0XHRibHVyOiBmdW5jdGlvbiBibHVyKCkge1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LmJsdXIoKTtcblx0XHR9LFxuXHRcdHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KCkge1xuXHRcdFx0dGhpcy5yZWZzLmlucHV0LnNlbGVjdCgpO1xuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHR2YXIgZXNjYXBlZFZhbHVlID0gKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIHx8IHRoaXMucHJvcHMudmFsdWUgfHwgJycpLnJlcGxhY2UoL1xcJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC8gL2csICcmbmJzcDsnKS5yZXBsYWNlKC9cXDwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXD4vZywgJyZndDsnKTtcblx0XHRcdHZhciB3cmFwcGVyU3R5bGUgPSB0aGlzLnByb3BzLnN0eWxlIHx8IHt9O1xuXHRcdFx0aWYgKCF3cmFwcGVyU3R5bGUuZGlzcGxheSkgd3JhcHBlclN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0XHRcdHZhciBpbnB1dFN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuaW5wdXRTdHlsZSk7XG5cdFx0XHRpbnB1dFN0eWxlLndpZHRoID0gdGhpcy5zdGF0ZS5pbnB1dFdpZHRoO1xuXHRcdFx0aW5wdXRTdHlsZS5ib3hTaXppbmcgPSAnY29udGVudC1ib3gnO1xuXHRcdFx0dmFyIHBsYWNlaG9sZGVyID0gdGhpcy5wcm9wcy5wbGFjZWhvbGRlciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IHJlZjogJ3BsYWNlaG9sZGVyU2l6ZXInLCBzdHlsZTogc2l6ZXJTdHlsZSB9LFxuXHRcdFx0XHR0aGlzLnByb3BzLnBsYWNlaG9sZGVyXG5cdFx0XHQpIDogbnVsbDtcblx0XHRcdHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lLCBzdHlsZTogd3JhcHBlclN0eWxlIH0sXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcmVmOiAnaW5wdXQnLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuaW5wdXRDbGFzc05hbWUsIHN0eWxlOiBpbnB1dFN0eWxlIH0pKSxcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyByZWY6ICdzaXplcicsIHN0eWxlOiBzaXplclN0eWxlLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGVzY2FwZWRWYWx1ZSB9IH0pLFxuXHRcdFx0XHRwbGFjZWhvbGRlclxuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBdXRvc2l6ZUlucHV0O1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0QWRkb25zVXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX3JlYWN0QWRkb25zVXBkYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0QWRkb25zVXBkYXRlKTtcblx0XG5cdHZhciBfVG9hc3RNZXNzYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX1RvYXN0TWVzc2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2FzdE1lc3NhZ2UpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBUb2FzdENvbnRhaW5lciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRvYXN0Q29udGFpbmVyLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVG9hc3RDb250YWluZXIoKSB7XG5cdCAgICB2YXIgX09iamVjdCRnZXRQcm90b3R5cGVPO1xuXHRcblx0ICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvYXN0Q29udGFpbmVyKTtcblx0XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9PYmplY3QkZ2V0UHJvdG90eXBlTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihUb2FzdENvbnRhaW5lcikpLmNhbGwuYXBwbHkoX09iamVjdCRnZXRQcm90b3R5cGVPLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIHRvYXN0czogW10sXG5cdCAgICAgIHRvYXN0SWQ6IDAsXG5cdCAgICAgIHByZXZpb3VzTWVzc2FnZTogbnVsbFxuXHQgICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVG9hc3RDb250YWluZXIsIFt7XG5cdCAgICBrZXk6IFwiZXJyb3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcihtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG5cdCAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5lcnJvciwgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImluZm9cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpbmZvKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcblx0ICAgICAgdGhpcy5fbm90aWZ5KHRoaXMucHJvcHMudG9hc3RUeXBlLmluZm8sIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzdWNjZXNzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3VjY2VzcyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG5cdCAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5zdWNjZXNzLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwid2FybmluZ1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuXHQgICAgICB0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUud2FybmluZywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImNsZWFyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgT2JqZWN0LmtleXModGhpcy5yZWZzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBfdGhpczIucmVmc1trZXldLmhpZGVUb2FzdChmYWxzZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfbm90aWZ5XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX25vdGlmeSh0eXBlLCBtZXNzYWdlLCB0aXRsZSkge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBvcHRpb25zT3ZlcnJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLnByZXZlbnREdXBsaWNhdGVzKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUucHJldmlvdXNNZXNzYWdlID09PSBtZXNzYWdlKSB7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHZhciBrZXkgPSB0aGlzLnN0YXRlLnRvYXN0SWQrKztcblx0ICAgICAgdmFyIHRvYXN0SWQgPSBrZXk7XG5cdCAgICAgIHZhciBuZXdUb2FzdCA9ICgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKG9wdGlvbnNPdmVycmlkZSwge1xuXHQgICAgICAgICRtZXJnZToge1xuXHQgICAgICAgICAgdHlwZTogdHlwZSxcblx0ICAgICAgICAgIHRpdGxlOiB0aXRsZSxcblx0ICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdCAgICAgICAgICB0b2FzdElkOiB0b2FzdElkLFxuXHQgICAgICAgICAga2V5OiBrZXksXG5cdCAgICAgICAgICByZWY6IFwidG9hc3RzX19cIiArIGtleSxcblx0ICAgICAgICAgIGhhbmRsZU9uQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZU9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9uc092ZXJyaWRlLmhhbmRsZU9uQ2xpY2spIHtcblx0ICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGUuaGFuZGxlT25DbGljaygpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2hhbmRsZV90b2FzdF9vbl9jbGljayhlKTtcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBoYW5kbGVSZW1vdmU6IHRoaXMuX2hhbmRsZV90b2FzdF9yZW1vdmUuYmluZCh0aGlzKVxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciB0b2FzdE9wZXJhdGlvbiA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJcIiArICh0aGlzLnByb3BzLm5ld2VzdE9uVG9wID8gXCIkdW5zaGlmdFwiIDogXCIkcHVzaFwiKSwgW25ld1RvYXN0XSk7XG5cdFxuXHQgICAgICB2YXIgbmV4dFN0YXRlID0gKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkodGhpcy5zdGF0ZSwge1xuXHQgICAgICAgIHRvYXN0czogdG9hc3RPcGVyYXRpb24sXG5cdCAgICAgICAgcHJldmlvdXNNZXNzYWdlOiB7ICRzZXQ6IG1lc3NhZ2UgfVxuXHQgICAgICB9KTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfaGFuZGxlX3RvYXN0X29uX2NsaWNrXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZV90b2FzdF9vbl9jbGljayhldmVudCkge1xuXHQgICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZXZlbnQpO1xuXHQgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2hhbmRsZV90b2FzdF9yZW1vdmVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlX3RvYXN0X3JlbW92ZSh0b2FzdElkKSB7XG5cdCAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgdmFyIG9wZXJhdGlvbk5hbWUgPSBcIlwiICsgKHRoaXMucHJvcHMubmV3ZXN0T25Ub3AgPyBcInJlZHVjZVJpZ2h0XCIgOiBcInJlZHVjZVwiKTtcblx0ICAgICAgdGhpcy5zdGF0ZS50b2FzdHNbb3BlcmF0aW9uTmFtZV0oZnVuY3Rpb24gKGZvdW5kLCB0b2FzdCwgaW5kZXgpIHtcblx0ICAgICAgICBpZiAoZm91bmQgfHwgdG9hc3QudG9hc3RJZCAhPT0gdG9hc3RJZCkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpczQuc2V0U3RhdGUoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoX3RoaXM0LnN0YXRlLCB7XG5cdCAgICAgICAgICB0b2FzdHM6IHsgJHNwbGljZTogW1tpbmRleCwgMV1dIH1cblx0ICAgICAgICB9KSk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0sIGZhbHNlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IFwiYXJpYS1saXZlXCI6IFwicG9saXRlXCIsIHJvbGU6IFwiYWxlcnRcIiB9KSxcblx0ICAgICAgICB0aGlzLnN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24gKHRvYXN0KSB7XG5cdCAgICAgICAgICByZXR1cm4gX3RoaXM1LnByb3BzLnRvYXN0TWVzc2FnZUZhY3RvcnkodG9hc3QpO1xuXHQgICAgICAgIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gVG9hc3RDb250YWluZXI7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRUb2FzdENvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG5cdCAgdG9hc3RUeXBlOiBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcblx0ICAgIGVycm9yOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGluZm86IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgc3VjY2VzczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB3YXJuaW5nOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHQgIH0pLmlzUmVxdWlyZWQsXG5cdCAgaWQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgdG9hc3RNZXNzYWdlRmFjdG9yeTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdCAgcHJldmVudER1cGxpY2F0ZXM6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXHQgIG5ld2VzdE9uVG9wOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblx0ICBvbkNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuXHR9O1xuXHRUb2FzdENvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgdG9hc3RUeXBlOiB7XG5cdCAgICBlcnJvcjogXCJlcnJvclwiLFxuXHQgICAgaW5mbzogXCJpbmZvXCIsXG5cdCAgICBzdWNjZXNzOiBcInN1Y2Nlc3NcIixcblx0ICAgIHdhcm5pbmc6IFwid2FybmluZ1wiXG5cdCAgfSxcblx0ICBpZDogXCJ0b2FzdC1jb250YWluZXJcIixcblx0ICB0b2FzdE1lc3NhZ2VGYWN0b3J5OiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRmFjdG9yeShfVG9hc3RNZXNzYWdlMi5kZWZhdWx0KSxcblx0ICBwcmV2ZW50RHVwbGljYXRlczogZmFsc2UsXG5cdCAgbmV3ZXN0T25Ub3A6IHRydWUsXG5cdCAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHt9XG5cdH07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRvYXN0Q29udGFpbmVyO1xuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1JlYWN0VHJhbnNpdGlvbkV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVhY3RUcmFuc2l0aW9uRXZlbnRzKTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX2VsZW1lbnRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0dmFyIF9lbGVtZW50Q2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWxlbWVudENsYXNzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVElDSyA9IDE3O1xuXHR2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB0cmFuc2l0aW9uOiBudWxsLCAvLyBzb21lIGV4YW1wbGVzIGRlZmluZWQgaW4gaW5kZXguc2NzcyAoc2NhbGUsIGZhZGVJbk91dCwgcm90YXRlKVxuXHQgICAgICBzaG93QW5pbWF0aW9uOiBcImFuaW1hdGVkIGJvdW5jZUluXCIsIC8vIG9yIG90aGVyIGFuaW1hdGlvbnMgZnJvbSBhbmltYXRlLmNzc1xuXHQgICAgICBoaWRlQW5pbWF0aW9uOiBcImFuaW1hdGVkIGJvdW5jZU91dFwiLFxuXHQgICAgICB0aW1lT3V0OiA1MDAwLFxuXHQgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDBcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHRoaXMuY2xhc3NOYW1lUXVldWUgPSBbXTtcblx0ICAgIHRoaXMuaXNIaWRpbmcgPSBmYWxzZTtcblx0ICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG5cdCAgfSxcblx0ICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuX2lzX21vdW50ZWQgPSB0cnVlO1xuXHQgICAgdGhpcy5fc2hvdygpO1xuXHQgICAgdmFyIG5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG5cdFxuXHQgICAgdmFyIG9uSGlkZUNvbXBsZXRlID0gZnVuY3Rpb24gb25IaWRlQ29tcGxldGUoKSB7XG5cdCAgICAgIGlmIChfdGhpcy5pc0hpZGluZykge1xuXHQgICAgICAgIF90aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcblx0ICAgICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgb25IaWRlQ29tcGxldGUpO1xuXHQgICAgICAgIF90aGlzLl9oYW5kbGVfcmVtb3ZlKCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgb25IaWRlQ29tcGxldGUpO1xuXHRcblx0ICAgIGlmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLnRpbWVPdXQpKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIHRoaXMuX2lzX21vdW50ZWQgPSBmYWxzZTtcblx0ICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWxJZCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfc2V0X3RyYW5zaXRpb246IGZ1bmN0aW9uIF9zZXRfdHJhbnNpdGlvbihoaWRlKSB7XG5cdCAgICB2YXIgYW5pbWF0aW9uVHlwZSA9IGhpZGUgPyBcImxlYXZlXCIgOiBcImVudGVyXCI7XG5cdCAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLnRyYW5zaXRpb24gKyBcIi1cIiArIGFuaW1hdGlvblR5cGU7XG5cdCAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgXCItYWN0aXZlXCI7XG5cdFxuXHQgICAgdmFyIGVuZExpc3RlbmVyID0gZnVuY3Rpb24gZW5kTGlzdGVuZXIoZSkge1xuXHQgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGNsYXNzTGlzdCA9ICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKTtcblx0ICAgICAgY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHQgICAgICBjbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzTmFtZSk7XG5cdFxuXHQgICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHRcblx0ICAgICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoY2xhc3NOYW1lKTtcblx0XG5cdCAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG5cdCAgICB0aGlzLl9xdWV1ZV9jbGFzcyhhY3RpdmVDbGFzc05hbWUpO1xuXHQgIH0sXG5cdCAgX2NsZWFyX3RyYW5zaXRpb246IGZ1bmN0aW9uIF9jbGVhcl90cmFuc2l0aW9uKGhpZGUpIHtcblx0ICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdmFyIGFuaW1hdGlvblR5cGUgPSBoaWRlID8gXCJsZWF2ZVwiIDogXCJlbnRlclwiO1xuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMudHJhbnNpdGlvbiArIFwiLVwiICsgYW5pbWF0aW9uVHlwZTtcblx0ICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBjbGFzc05hbWUgKyBcIi1hY3RpdmVcIjtcblx0XG5cdCAgICB2YXIgY2xhc3NMaXN0ID0gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpO1xuXHQgICAgY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHQgICAgY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzc05hbWUpO1xuXHQgIH0sXG5cdCAgX3NldF9hbmltYXRpb246IGZ1bmN0aW9uIF9zZXRfYW5pbWF0aW9uKGhpZGUpIHtcblx0ICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLl9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSk7XG5cdCAgICB2YXIgZW5kTGlzdGVuZXIgPSBmdW5jdGlvbiBlbmRMaXN0ZW5lcihlKSB7XG5cdCAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBub2RlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW0pIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLnJlbW92ZShhbmltKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXHRcblx0ICAgIGFuaW1hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbSkge1xuXHQgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLmFkZChhbmltKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgX2dldF9hbmltYXRpb25fY2xhc3NlczogZnVuY3Rpb24gX2dldF9hbmltYXRpb25fY2xhc3NlcyhoaWRlKSB7XG5cdCAgICB2YXIgYW5pbWF0aW9ucyA9IGhpZGUgPyB0aGlzLnByb3BzLmhpZGVBbmltYXRpb24gOiB0aGlzLnByb3BzLnNob3dBbmltYXRpb247XG5cdCAgICBpZiAoXCJbb2JqZWN0IEFycmF5XVwiID09PSB0b1N0cmluZy5jYWxsKGFuaW1hdGlvbnMpKSB7XG5cdCAgICAgIHJldHVybiBhbmltYXRpb25zO1xuXHQgICAgfSBlbHNlIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYW5pbWF0aW9ucykge1xuXHQgICAgICByZXR1cm4gYW5pbWF0aW9ucy5zcGxpdChcIiBcIik7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfY2xlYXJfYW5pbWF0aW9uOiBmdW5jdGlvbiBfY2xlYXJfYW5pbWF0aW9uKGhpZGUpIHtcblx0ICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLl9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoaGlkZSk7XG5cdCAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuXHQgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLnJlbW92ZShhbmltYXRpb24pO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBfcXVldWVfY2xhc3M6IGZ1bmN0aW9uIF9xdWV1ZV9jbGFzcyhjbGFzc05hbWUpIHtcblx0ICAgIHRoaXMuY2xhc3NOYW1lUXVldWUucHVzaChjbGFzc05hbWUpO1xuXHRcblx0ICAgIGlmICghdGhpcy50aW1lb3V0KSB7XG5cdCAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZSwgVElDSyk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBfZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZTogZnVuY3Rpb24gX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICBpZiAodGhpcy5faXNfbW91bnRlZCkge1xuXHQgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKF90aGlzMik7XG5cdCAgICAgICAgX3RoaXMyLmNsYXNzTmFtZVF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuXHQgICAgICAgICAgcmV0dXJuICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoY2xhc3NOYW1lKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSkoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuY2xhc3NOYW1lUXVldWUubGVuZ3RoID0gMDtcblx0ICAgIHRoaXMudGltZW91dCA9IG51bGw7XG5cdCAgfSxcblx0ICBfc2hvdzogZnVuY3Rpb24gX3Nob3coKSB7XG5cdCAgICBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG5cdCAgICAgIHRoaXMuX3NldF90cmFuc2l0aW9uKCk7XG5cdCAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2hvd0FuaW1hdGlvbikge1xuXHQgICAgICB0aGlzLl9zZXRfYW5pbWF0aW9uKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuXHQgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWxJZCk7XG5cdCAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQobnVsbCk7XG5cdCAgICBpZiAodGhpcy5pc0hpZGluZykge1xuXHQgICAgICB0aGlzLl9zZXRfaXNfaGlkaW5nKGZhbHNlKTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLmhpZGVBbmltYXRpb24pIHtcblx0ICAgICAgICB0aGlzLl9jbGVhcl9hbmltYXRpb24odHJ1ZSk7XG5cdCAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG5cdCAgICAgICAgdGhpcy5fY2xlYXJfdHJhbnNpdGlvbih0cnVlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcblx0ICAgIGlmICghdGhpcy5pc0hpZGluZyAmJiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCB8fCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCA+IDApKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCkpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgaGlkZVRvYXN0OiBmdW5jdGlvbiBoaWRlVG9hc3Qob3ZlcnJpZGUpIHtcblx0ICAgIGlmICh0aGlzLmlzSGlkaW5nIHx8IHRoaXMuaW50ZXJ2YWxJZCA9PT0gbnVsbCAmJiAhb3ZlcnJpZGUpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX3NldF9pc19oaWRpbmcodHJ1ZSk7XG5cdCAgICBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG5cdCAgICAgIHRoaXMuX3NldF90cmFuc2l0aW9uKHRydWUpO1xuXHQgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhpZGVBbmltYXRpb24pIHtcblx0ICAgICAgdGhpcy5fc2V0X2FuaW1hdGlvbih0cnVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZV9yZW1vdmUoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIF9zZXRfaW50ZXJ2YWxfaWQ6IGZ1bmN0aW9uIF9zZXRfaW50ZXJ2YWxfaWQoaW50ZXJ2YWxJZCkge1xuXHQgICAgdGhpcy5pbnRlcnZhbElkID0gaW50ZXJ2YWxJZDtcblx0ICB9LFxuXHQgIF9zZXRfaXNfaGlkaW5nOiBmdW5jdGlvbiBfc2V0X2lzX2hpZGluZyhpc0hpZGluZykge1xuXHQgICAgdGhpcy5pc0hpZGluZyA9IGlzSGlkaW5nO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjYWxsX3Nob3dfbWV0aG9kKCRub2RlLCBwcm9wcykge1xuXHQgICRub2RlW3Byb3BzLnNob3dNZXRob2RdKHtcblx0ICAgIGR1cmF0aW9uOiBwcm9wcy5zaG93RHVyYXRpb24sXG5cdCAgICBlYXNpbmc6IHByb3BzLnNob3dFYXNpbmdcblx0ICB9KTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc3R5bGU6IHtcblx0ICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIiB9LFxuXHQgICAgICAvLyBlZmZlY3RpdmUgJC5oaWRlKClcblx0ICAgICAgc2hvd01ldGhvZDogXCJmYWRlSW5cIiwgLy8gc2xpZGVEb3duLCBhbmQgc2hvdyBhcmUgYnVpbHQgaW50byBqUXVlcnlcblx0ICAgICAgc2hvd0R1cmF0aW9uOiAzMDAsXG5cdCAgICAgIHNob3dFYXNpbmc6IFwic3dpbmdcIiwgLy8gYW5kIGxpbmVhciBhcmUgYnVpbHQgaW50byBqUXVlcnlcblx0ICAgICAgaGlkZU1ldGhvZDogXCJmYWRlT3V0XCIsXG5cdCAgICAgIGhpZGVEdXJhdGlvbjogMTAwMCxcblx0ICAgICAgaGlkZUVhc2luZzogXCJzd2luZ1wiLFxuXHQgICAgICAvL1xuXHQgICAgICB0aW1lT3V0OiA1MDAwLFxuXHQgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDBcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGludGVydmFsSWQ6IG51bGwsXG5cdCAgICAgIGlzSGlkaW5nOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIGNhbGxfc2hvd19tZXRob2QodGhpcy5fZ2V0XyRfbm9kZSgpLCB0aGlzLnByb3BzKTtcblx0ICAgIGlmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLnRpbWVPdXQpKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG5cdCAgICBjbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5pbnRlcnZhbElkKTtcblx0ICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChudWxsKTtcblx0ICAgIHRoaXMuX3NldF9pc19oaWRpbmcoZmFsc2UpO1xuXHRcblx0ICAgIGNhbGxfc2hvd19tZXRob2QodGhpcy5fZ2V0XyRfbm9kZSgpLnN0b3AodHJ1ZSwgdHJ1ZSksIHRoaXMucHJvcHMpO1xuXHQgIH0sXG5cdCAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcblx0ICAgIGlmICghdGhpcy5zdGF0ZS5pc0hpZGluZyAmJiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCB8fCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCA+IDApKSB7XG5cdCAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCkpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgaGlkZVRvYXN0OiBmdW5jdGlvbiBoaWRlVG9hc3Qob3ZlcnJpZGUpIHtcblx0ICAgIGlmICh0aGlzLnN0YXRlLmlzSGlkaW5nIHx8IHRoaXMuc3RhdGUuaW50ZXJ2YWxJZCA9PT0gbnVsbCAmJiAhb3ZlcnJpZGUpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7IGlzSGlkaW5nOiB0cnVlIH0pO1xuXHRcblx0ICAgIHRoaXMuX2dldF8kX25vZGUoKVt0aGlzLnByb3BzLmhpZGVNZXRob2RdKHtcblx0ICAgICAgZHVyYXRpb246IHRoaXMucHJvcHMuaGlkZUR1cmF0aW9uLFxuXHQgICAgICBlYXNpbmc6IHRoaXMucHJvcHMuaGlkZUVhc2luZyxcblx0ICAgICAgY29tcGxldGU6IHRoaXMuX2hhbmRsZV9yZW1vdmVcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgX2dldF8kX25vZGU6IGZ1bmN0aW9uIF9nZXRfJF9ub2RlKCkge1xuXHQgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblx0ICAgIHJldHVybiBqUXVlcnkoX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpKTtcblx0ICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5kZWYgKi9cblx0ICB9LFxuXHQgIF9zZXRfaW50ZXJ2YWxfaWQ6IGZ1bmN0aW9uIF9zZXRfaW50ZXJ2YWxfaWQoaW50ZXJ2YWxJZCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIGludGVydmFsSWQ6IGludGVydmFsSWRcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgX3NldF9pc19oaWRpbmc6IGZ1bmN0aW9uIF9zZXRfaXNfaGlkaW5nKGlzSGlkaW5nKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgaXNIaWRpbmc6IGlzSGlkaW5nXG5cdCAgICB9KTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Ub2FzdE1lc3NhZ2UgPSBleHBvcnRzLlRvYXN0Q29udGFpbmVyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9Ub2FzdENvbnRhaW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9Ub2FzdENvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2FzdENvbnRhaW5lcik7XG5cdFxuXHR2YXIgX1RvYXN0TWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9Ub2FzdE1lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9hc3RNZXNzYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLlRvYXN0Q29udGFpbmVyID0gX1RvYXN0Q29udGFpbmVyMi5kZWZhdWx0O1xuXHRleHBvcnRzLlRvYXN0TWVzc2FnZSA9IF9Ub2FzdE1lc3NhZ2UyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRzKSB7XG5cdCAgcmV0dXJuIG5ldyBFbGVtZW50Q2xhc3Mob3B0cylcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5kZXhPZihhcnIsIHByb3ApIHtcblx0ICBpZiAoYXJyLmluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihwcm9wKVxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG5cdCAgICBpZiAoYXJyW2ldID09PSBwcm9wKSByZXR1cm4gaVxuXHQgIHJldHVybiAtMVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBFbGVtZW50Q2xhc3Mob3B0cykge1xuXHQgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBFbGVtZW50Q2xhc3MpKSByZXR1cm4gbmV3IEVsZW1lbnRDbGFzcyhvcHRzKVxuXHQgIHZhciBzZWxmID0gdGhpc1xuXHQgIGlmICghb3B0cykgb3B0cyA9IHt9XG5cdFxuXHQgIC8vIHNpbWlsYXIgZG9pbmcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCBidXQgd29ya3MgaW4gSUU4XG5cdCAgaWYgKG9wdHMubm9kZVR5cGUpIG9wdHMgPSB7ZWw6IG9wdHN9XG5cdFxuXHQgIHRoaXMub3B0cyA9IG9wdHNcblx0ICB0aGlzLmVsID0gb3B0cy5lbCB8fCBkb2N1bWVudC5ib2R5XG5cdCAgaWYgKHR5cGVvZiB0aGlzLmVsICE9PSAnb2JqZWN0JykgdGhpcy5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5lbClcblx0fVxuXHRcblx0RWxlbWVudENsYXNzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcblx0ICB2YXIgZWwgPSB0aGlzLmVsXG5cdCAgaWYgKCFlbCkgcmV0dXJuXG5cdCAgaWYgKGVsLmNsYXNzTmFtZSA9PT0gXCJcIikgcmV0dXJuIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZVxuXHQgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylcblx0ICBpZiAoaW5kZXhPZihjbGFzc2VzLCBjbGFzc05hbWUpID4gLTEpIHJldHVybiBjbGFzc2VzXG5cdCAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSlcblx0ICBlbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKVxuXHQgIHJldHVybiBjbGFzc2VzXG5cdH1cblx0XG5cdEVsZW1lbnRDbGFzcy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG5cdCAgdmFyIGVsID0gdGhpcy5lbFxuXHQgIGlmICghZWwpIHJldHVyblxuXHQgIGlmIChlbC5jbGFzc05hbWUgPT09IFwiXCIpIHJldHVyblxuXHQgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylcblx0ICB2YXIgaWR4ID0gaW5kZXhPZihjbGFzc2VzLCBjbGFzc05hbWUpXG5cdCAgaWYgKGlkeCA+IC0xKSBjbGFzc2VzLnNwbGljZShpZHgsIDEpXG5cdCAgZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJylcblx0ICByZXR1cm4gY2xhc3Nlc1xuXHR9XG5cdFxuXHRFbGVtZW50Q2xhc3MucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuXHQgIHZhciBlbCA9IHRoaXMuZWxcblx0ICBpZiAoIWVsKSByZXR1cm5cblx0ICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpXG5cdCAgcmV0dXJuIGluZGV4T2YoY2xhc3NlcywgY2xhc3NOYW1lKSA+IC0xXG5cdH1cblx0XG5cdEVsZW1lbnRDbGFzcy5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG5cdCAgdmFyIGVsID0gdGhpcy5lbFxuXHQgIGlmICghZWwpIHJldHVyblxuXHQgIGlmICh0aGlzLmhhcyhjbGFzc05hbWUpKSB0aGlzLnJlbW92ZShjbGFzc05hbWUpXG5cdCAgZWxzZSB0aGlzLmFkZChjbGFzc05hbWUpXG5cdH1cblxuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKlxuXHQgKiBAcHJvdmlkZXNNb2R1bGUgT2JqZWN0LmFzc2lnblxuXHQgKi9cblx0XG5cdC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1vYmplY3QuYXNzaWduXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2VzKSB7XG5cdCAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIHRhcmdldCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcblx0ICB9XG5cdFxuXHQgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXHQgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFxuXHQgIGZvciAodmFyIG5leHRJbmRleCA9IDE7IG5leHRJbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IG5leHRJbmRleCsrKSB7XG5cdCAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tuZXh0SW5kZXhdO1xuXHQgICAgaWYgKG5leHRTb3VyY2UgPT0gbnVsbCkge1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZnJvbSA9IE9iamVjdChuZXh0U291cmNlKTtcblx0XG5cdCAgICAvLyBXZSBkb24ndCBjdXJyZW50bHkgc3VwcG9ydCBhY2Nlc3NvcnMgbm9yIHByb3hpZXMuIFRoZXJlZm9yZSB0aGlzXG5cdCAgICAvLyBjb3B5IGNhbm5vdCB0aHJvdy4gSWYgd2UgZXZlciBzdXBwb3J0ZWQgdGhpcyB0aGVuIHdlIG11c3QgaGFuZGxlXG5cdCAgICAvLyBleGNlcHRpb25zIGFuZCBzaWRlLWVmZmVjdHMuIFdlIGRvbid0IHN1cHBvcnQgc3ltYm9scyBzbyB0aGV5IHdvbid0XG5cdCAgICAvLyBiZSB0cmFuc2ZlcnJlZC5cblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHQgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdCAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRvO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VHJhbnNpdGlvbkV2ZW50c1xuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuXHRcblx0LyoqXG5cdCAqIEVWRU5UX05BTUVfTUFQIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIGV2ZW50IGZpcmVkIHdoZW4gYVxuXHQgKiB0cmFuc2l0aW9uL2FuaW1hdGlvbiBlbmRzLCBiYXNlZCBvbiB0aGUgc3R5bGUgcHJvcGVydHkgdXNlZCB0b1xuXHQgKiBkZWZpbmUgdGhhdCBldmVudC5cblx0ICovXG5cdHZhciBFVkVOVF9OQU1FX01BUCA9IHtcblx0ICB0cmFuc2l0aW9uZW5kOiB7XG5cdCAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcblx0ICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuXHQgICAgJ01velRyYW5zaXRpb24nOiAnbW96VHJhbnNpdGlvbkVuZCcsXG5cdCAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuXHQgICAgJ21zVHJhbnNpdGlvbic6ICdNU1RyYW5zaXRpb25FbmQnXG5cdCAgfSxcblx0XG5cdCAgYW5pbWF0aW9uZW5kOiB7XG5cdCAgICAnYW5pbWF0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG5cdCAgICAnV2Via2l0QW5pbWF0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG5cdCAgICAnTW96QW5pbWF0aW9uJzogJ21vekFuaW1hdGlvbkVuZCcsXG5cdCAgICAnT0FuaW1hdGlvbic6ICdvQW5pbWF0aW9uRW5kJyxcblx0ICAgICdtc0FuaW1hdGlvbic6ICdNU0FuaW1hdGlvbkVuZCdcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgZW5kRXZlbnRzID0gW107XG5cdFxuXHRmdW5jdGlvbiBkZXRlY3RFdmVudHMoKSB7XG5cdCAgdmFyIHRlc3RFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgIHZhciBzdHlsZSA9IHRlc3RFbC5zdHlsZTtcblx0XG5cdCAgLy8gT24gc29tZSBwbGF0Zm9ybXMsIGluIHBhcnRpY3VsYXIgc29tZSByZWxlYXNlcyBvZiBBbmRyb2lkIDQueCxcblx0ICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcblx0ICAvLyBzdHlsZSBvYmplY3QgYnV0IHRoZSBldmVudHMgdGhhdCBmaXJlIHdpbGwgc3RpbGwgYmUgcHJlZml4ZWQsIHNvIHdlIG5lZWRcblx0ICAvLyB0byBjaGVjayBpZiB0aGUgdW4tcHJlZml4ZWQgZXZlbnRzIGFyZSB1c2VhYmxlLCBhbmQgaWYgbm90IHJlbW92ZSB0aGVtXG5cdCAgLy8gZnJvbSB0aGUgbWFwXG5cdCAgaWYgKCEoJ0FuaW1hdGlvbkV2ZW50JyBpbiB3aW5kb3cpKSB7XG5cdCAgICBkZWxldGUgRVZFTlRfTkFNRV9NQVAuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbjtcblx0ICB9XG5cdFxuXHQgIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcblx0ICAgIGRlbGV0ZSBFVkVOVF9OQU1FX01BUC50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb247XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBiYXNlRXZlbnROYW1lIGluIEVWRU5UX05BTUVfTUFQKSB7XG5cdCAgICB2YXIgYmFzZUV2ZW50cyA9IEVWRU5UX05BTUVfTUFQW2Jhc2VFdmVudE5hbWVdO1xuXHQgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIGJhc2VFdmVudHMpIHtcblx0ICAgICAgaWYgKHN0eWxlTmFtZSBpbiBzdHlsZSkge1xuXHQgICAgICAgIGVuZEV2ZW50cy5wdXNoKGJhc2VFdmVudHNbc3R5bGVOYW1lXSk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcblx0ICBkZXRlY3RFdmVudHMoKTtcblx0fVxuXHRcblx0Ly8gV2UgdXNlIHRoZSByYXcge2FkZHxyZW1vdmV9RXZlbnRMaXN0ZW5lcigpIGNhbGwgYmVjYXVzZSBFdmVudExpc3RlbmVyXG5cdC8vIGRvZXMgbm90IGtub3cgaG93IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgYW5kIHdlIHJlYWxseSBzaG91bGRcblx0Ly8gY2xlYW4gdXAuIEFsc28sIHRoZXNlIGV2ZW50cyBhcmUgbm90IHRyaWdnZXJlZCBpbiBvbGRlciBicm93c2Vyc1xuXHQvLyBzbyB3ZSBzaG91bGQgYmUgQS1PSyBoZXJlLlxuXHRcblx0ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIpIHtcblx0ICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyLCBmYWxzZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBldmVudExpc3RlbmVyKSB7XG5cdCAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuXHR9XG5cdFxuXHR2YXIgUmVhY3RUcmFuc2l0aW9uRXZlbnRzID0ge1xuXHQgIGFkZEVuZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChub2RlLCBldmVudExpc3RlbmVyKSB7XG5cdCAgICBpZiAoZW5kRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAvLyBJZiBDU1MgdHJhbnNpdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQsIHRyaWdnZXIgYW4gXCJlbmQgYW5pbWF0aW9uXCJcblx0ICAgICAgLy8gZXZlbnQgaW1tZWRpYXRlbHkuXG5cdCAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGV2ZW50TGlzdGVuZXIsIDApO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBlbmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZW5kRXZlbnQpIHtcblx0ICAgICAgYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBlbmRFdmVudCwgZXZlbnRMaXN0ZW5lcik7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICByZW1vdmVFbmRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAobm9kZSwgZXZlbnRMaXN0ZW5lcikge1xuXHQgICAgaWYgKGVuZEV2ZW50cy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZW5kRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGVuZEV2ZW50KSB7XG5cdCAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdFRyYW5zaXRpb25FdmVudHM7XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIHVwZGF0ZVxuXHQgKi9cblx0XG5cdC8qIGdsb2JhbCBoYXNPd25Qcm9wZXJ0eTp0cnVlICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdHZhciBrZXlPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHR2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9ICh7fSkuaGFzT3duUHJvcGVydHk7XG5cdFxuXHRmdW5jdGlvbiBzaGFsbG93Q29weSh4KSB7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcblx0ICAgIHJldHVybiB4LmNvbmNhdCgpO1xuXHQgIH0gZWxzZSBpZiAoeCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcpIHtcblx0ICAgIHJldHVybiBhc3NpZ24obmV3IHguY29uc3RydWN0b3IoKSwgeCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiB4O1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIENPTU1BTkRfUFVTSCA9IGtleU9mKHsgJHB1c2g6IG51bGwgfSk7XG5cdHZhciBDT01NQU5EX1VOU0hJRlQgPSBrZXlPZih7ICR1bnNoaWZ0OiBudWxsIH0pO1xuXHR2YXIgQ09NTUFORF9TUExJQ0UgPSBrZXlPZih7ICRzcGxpY2U6IG51bGwgfSk7XG5cdHZhciBDT01NQU5EX1NFVCA9IGtleU9mKHsgJHNldDogbnVsbCB9KTtcblx0dmFyIENPTU1BTkRfTUVSR0UgPSBrZXlPZih7ICRtZXJnZTogbnVsbCB9KTtcblx0dmFyIENPTU1BTkRfQVBQTFkgPSBrZXlPZih7ICRhcHBseTogbnVsbCB9KTtcblx0XG5cdHZhciBBTExfQ09NTUFORFNfTElTVCA9IFtDT01NQU5EX1BVU0gsIENPTU1BTkRfVU5TSElGVCwgQ09NTUFORF9TUExJQ0UsIENPTU1BTkRfU0VULCBDT01NQU5EX01FUkdFLCBDT01NQU5EX0FQUExZXTtcblx0XG5cdHZhciBBTExfQ09NTUFORFNfU0VUID0ge307XG5cdFxuXHRBTExfQ09NTUFORFNfTElTVC5mb3JFYWNoKGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgQUxMX0NPTU1BTkRTX1NFVFtjb21tYW5kXSA9IHRydWU7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gaW52YXJpYW50QXJyYXlDYXNlKHZhbHVlLCBzcGVjLCBjb21tYW5kKSB7XG5cdCAgIUFycmF5LmlzQXJyYXkodmFsdWUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCB0YXJnZXQgb2YgJXMgdG8gYmUgYW4gYXJyYXk7IGdvdCAlcy4nLCBjb21tYW5kLCB2YWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHQgIHZhciBzcGVjVmFsdWUgPSBzcGVjW2NvbW1hbmRdO1xuXHQgICFBcnJheS5pc0FycmF5KHNwZWNWYWx1ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXk7IGdvdCAlcy4gJyArICdEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVyIGluIGFuIGFycmF5PycsIGNvbW1hbmQsIHNwZWNWYWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGUodmFsdWUsIHNwZWMpIHtcblx0ICAhKHR5cGVvZiBzcGVjID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IFlvdSBwcm92aWRlZCBhIGtleSBwYXRoIHRvIHVwZGF0ZSgpIHRoYXQgZGlkIG5vdCBjb250YWluIG9uZSAnICsgJ29mICVzLiBEaWQgeW91IGZvcmdldCB0byBpbmNsdWRlIHslczogLi4ufT8nLCBBTExfQ09NTUFORFNfTElTVC5qb2luKCcsICcpLCBDT01NQU5EX1NFVCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXHRcblx0ICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1NFVCkpIHtcblx0ICAgICEoT2JqZWN0LmtleXMoc3BlYykubGVuZ3RoID09PSAxKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgaGF2ZSBtb3JlIHRoYW4gb25lIGtleSBpbiBhbiBvYmplY3Qgd2l0aCAlcycsIENPTU1BTkRfU0VUKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgcmV0dXJuIHNwZWNbQ09NTUFORF9TRVRdO1xuXHQgIH1cblx0XG5cdCAgdmFyIG5leHRWYWx1ZSA9IHNoYWxsb3dDb3B5KHZhbHVlKTtcblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9NRVJHRSkpIHtcblx0ICAgIHZhciBtZXJnZU9iaiA9IHNwZWNbQ09NTUFORF9NRVJHRV07XG5cdCAgICAhKG1lcmdlT2JqICYmIHR5cGVvZiBtZXJnZU9iaiA9PT0gJ29iamVjdCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiAlcyBleHBlY3RzIGEgc3BlYyBvZiB0eXBlIFxcJ29iamVjdFxcJzsgZ290ICVzJywgQ09NTUFORF9NRVJHRSwgbWVyZ2VPYmopIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0ICAgICEobmV4dFZhbHVlICYmIHR5cGVvZiBuZXh0VmFsdWUgPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogJXMgZXhwZWN0cyBhIHRhcmdldCBvZiB0eXBlIFxcJ29iamVjdFxcJzsgZ290ICVzJywgQ09NTUFORF9NRVJHRSwgbmV4dFZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICBhc3NpZ24obmV4dFZhbHVlLCBzcGVjW0NPTU1BTkRfTUVSR0VdKTtcblx0ICB9XG5cdFxuXHQgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfUFVTSCkpIHtcblx0ICAgIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgQ09NTUFORF9QVVNIKTtcblx0ICAgIHNwZWNbQ09NTUFORF9QVVNIXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIG5leHRWYWx1ZS5wdXNoKGl0ZW0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1VOU0hJRlQpKSB7XG5cdCAgICBpbnZhcmlhbnRBcnJheUNhc2UodmFsdWUsIHNwZWMsIENPTU1BTkRfVU5TSElGVCk7XG5cdCAgICBzcGVjW0NPTU1BTkRfVU5TSElGVF0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICBuZXh0VmFsdWUudW5zaGlmdChpdGVtKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9TUExJQ0UpKSB7XG5cdCAgICAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgJXMgdGFyZ2V0IHRvIGJlIGFuIGFycmF5OyBnb3QgJXMnLCBDT01NQU5EX1NQTElDRSwgdmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0ICAgICFBcnJheS5pc0FycmF5KHNwZWNbQ09NTUFORF9TUExJQ0VdKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhbiBhcnJheSBvZiBhcnJheXM7IGdvdCAlcy4gJyArICdEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVycyBpbiBhbiBhcnJheT8nLCBDT01NQU5EX1NQTElDRSwgc3BlY1tDT01NQU5EX1NQTElDRV0pIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0ICAgIHNwZWNbQ09NTUFORF9TUExJQ0VdLmZvckVhY2goZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgICAgIUFycmF5LmlzQXJyYXkoYXJncykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzOyBnb3QgJXMuICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlcnMgaW4gYW4gYXJyYXk/JywgQ09NTUFORF9TUExJQ0UsIHNwZWNbQ09NTUFORF9TUExJQ0VdKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICAgIG5leHRWYWx1ZS5zcGxpY2UuYXBwbHkobmV4dFZhbHVlLCBhcmdzKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9BUFBMWSkpIHtcblx0ICAgICEodHlwZW9mIHNwZWNbQ09NTUFORF9BUFBMWV0gPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGEgZnVuY3Rpb247IGdvdCAlcy4nLCBDT01NQU5EX0FQUExZLCBzcGVjW0NPTU1BTkRfQVBQTFldKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgICBuZXh0VmFsdWUgPSBzcGVjW0NPTU1BTkRfQVBQTFldKG5leHRWYWx1ZSk7XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBrIGluIHNwZWMpIHtcblx0ICAgIGlmICghKEFMTF9DT01NQU5EU19TRVQuaGFzT3duUHJvcGVydHkoaykgJiYgQUxMX0NPTU1BTkRTX1NFVFtrXSkpIHtcblx0ICAgICAgbmV4dFZhbHVlW2tdID0gdXBkYXRlKHZhbHVlW2tdLCBzcGVjW2tdKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBuZXh0VmFsdWU7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gdXBkYXRlO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxNSkpKVxuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKlxuXHQgKiBAcHJvdmlkZXNNb2R1bGUgRXhlY3V0aW9uRW52aXJvbm1lbnRcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG5cdCAqIFdvcmtlci4gSGVscHMgYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFuZCBhbGxvd3MgY29kZSB0byByZWFzb24gYWJvdXRcblx0ICogd2hldGhlciBvciBub3QgdGhleSBhcmUgaW4gYSBXb3JrZXIsIGV2ZW4gaWYgdGhleSBuZXZlciBpbmNsdWRlIHRoZSBtYWluXG5cdCAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cblx0ICovXG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblx0XG5cdCAgY2FuVXNlRE9NOiBjYW5Vc2VET00sXG5cdFxuXHQgIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXHRcblx0ICBjYW5Vc2VFdmVudExpc3RlbmVyczogY2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXG5cdFxuXHQgIGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuLFxuXHRcblx0ICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXHRcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cbi8qKiovIH0sXG4vKiA1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIGludmFyaWFudFxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdCAqXG5cdCAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG5cdCAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHQgKiBleHBlY3RpbmcuXG5cdCAqXG5cdCAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdCAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICB2YXIgZXJyb3I7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuXHQgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuXHQgICAgICB9KSk7XG5cdCAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdCAgICB9XG5cdFxuXHQgICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuXHQgICAgdGhyb3cgZXJyb3I7XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTUpKSlcblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIGtleU9mXG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIEFsbG93cyBleHRyYWN0aW9uIG9mIGEgbWluaWZpZWQga2V5LiBMZXQncyB0aGUgYnVpbGQgc3lzdGVtIG1pbmlmeSBrZXlzXG5cdCAqIHdpdGhvdXQgbG9zaW5nIHRoZSBhYmlsaXR5IHRvIGR5bmFtaWNhbGx5IHVzZSBrZXkgc3RyaW5ncyBhcyB2YWx1ZXNcblx0ICogdGhlbXNlbHZlcy4gUGFzcyBpbiBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkvdmFsIHBhaXIgYW5kIGl0IHdpbGwgcmV0dXJuXG5cdCAqIHlvdSB0aGUgc3RyaW5nIGtleSBvZiB0aGF0IHNpbmdsZSByZWNvcmQuIFN1cHBvc2UgeW91IHdhbnQgdG8gZ3JhYiB0aGVcblx0ICogdmFsdWUgZm9yIGEga2V5ICdjbGFzc05hbWUnIGluc2lkZSBvZiBhbiBvYmplY3QuIEtleS92YWwgbWluaWZpY2F0aW9uIG1heVxuXHQgKiBoYXZlIGFsaWFzZWQgdGhhdCBrZXkgdG8gYmUgJ3hhMTInLiBrZXlPZih7Y2xhc3NOYW1lOiBudWxsfSkgd2lsbCByZXR1cm5cblx0ICogJ3hhMTInIGluIHRoYXQgY2FzZS4gUmVzb2x2ZSBrZXlzIHlvdSB3YW50IHRvIHVzZSBvbmNlIGF0IHN0YXJ0dXAgdGltZSwgdGhlblxuXHQgKiByZXVzZSB0aG9zZSByZXNvbHV0aW9ucy5cblx0ICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIGtleU9mID0gZnVuY3Rpb24gKG9uZUtleU9iaikge1xuXHQgIHZhciBrZXk7XG5cdCAgZm9yIChrZXkgaW4gb25lS2V5T2JqKSB7XG5cdCAgICBpZiAoIW9uZUtleU9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGtleTtcblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGtleU9mO1xuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0dmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0XHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIG1lbW87XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0fSksXHJcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0XHR9KSxcclxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdFx0aWYoZmFsc2UpIHtcclxuXHRcdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0XHR9XHJcblx0XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdFx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblx0XHJcblx0XHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHRcclxuXHRcdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHRcdHZhciBzdHlsZXMgPSBbXTtcclxuXHRcdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3R5bGVzO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0XHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0XHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRcdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdFx0aWYoaWR4ID49IDApIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdFx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdFx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cdFxyXG5cdFx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHRcdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dXBkYXRlKG9iaik7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0dmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cdFxyXG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHRcclxuXHRcdGlmKG1lZGlhKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHRcdH1cclxuXHRcclxuXHRcdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihzb3VyY2VNYXApIHtcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblx0XHJcblx0XHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHRcclxuXHRcdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cdFxyXG5cdFx0aWYob2xkU3JjKVxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcblx0fVxyXG5cblxuLyoqKi8gfSxcbi8qIDU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cbi8qKiovIH0sXG4vKiA1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIHt9KSlcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHJlYWN0LWJvb3RzdHJhcC10YWJsZS5qc1xuICoqLyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgZGE1ODQzMTY2MzgxYWYzYWViOGRcbiAqKi8iLCJpbXBvcnQgQm9vdHN0cmFwVGFibGUgZnJvbSAnLi9Cb290c3RyYXBUYWJsZSc7XHJcbmltcG9ydCBUYWJsZUhlYWRlckNvbHVtbiBmcm9tICcuL1RhYmxlSGVhZGVyQ29sdW1uJztcclxuaW1wb3J0IHtUYWJsZURhdGFTZXR9IGZyb20gJy4vc3RvcmUvVGFibGVEYXRhU3RvcmUnO1xyXG5cclxuaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gIHdpbmRvdy5Cb290c3RyYXBUYWJsZSA9IEJvb3RzdHJhcFRhYmxlO1xyXG4gIHdpbmRvdy5UYWJsZUhlYWRlckNvbHVtbiA9IFRhYmxlSGVhZGVyQ29sdW1uO1xyXG4gIHdpbmRvdy5UYWJsZURhdGFTZXQgPSBUYWJsZURhdGFTZXQ7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIEJvb3RzdHJhcFRhYmxlLFxyXG4gIFRhYmxlSGVhZGVyQ29sdW1uLFxyXG4gIFRhYmxlRGF0YVNldFxyXG59O1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9pbmRleC5qc1xuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9XG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gIFNPUlRfREVTQzogXCJkZXNjXCIsXHJcbiAgU09SVF9BU0M6IFwiYXNjXCIsXHJcbiAgU0laRV9QRVJfUEFHRTogMTAsXHJcbiAgTkVYVF9QQUdFOiBcIj5cIixcclxuICBMQVNUX1BBR0U6IFwiPj5cIixcclxuICBQUkVfUEFHRTogXCI8XCIsXHJcbiAgRklSU1RfUEFHRTogXCI8PFwiLFxyXG4gIFJPV19TRUxFQ1RfQkdfQ09MT1I6IFwiXCIsXHJcbiAgUk9XX1NFTEVDVF9OT05FOiBcIm5vbmVcIixcclxuICBST1dfU0VMRUNUX1NJTkdMRTogXCJyYWRpb1wiLFxyXG4gIFJPV19TRUxFQ1RfTVVMVEk6IFwiY2hlY2tib3hcIixcclxuICBDRUxMX0VESVRfTk9ORTogXCJub25lXCIsXHJcbiAgQ0VMTF9FRElUX0NMSUNLOiBcImNsaWNrXCIsXHJcbiAgQ0VMTF9FRElUX0RCQ0xJQ0s6IFwiZGJjbGlja1wiLFxyXG4gIFNJWkVfUEVSX1BBR0VfTElTVDogWzEwLCAyNSwgMzAsIDUwXSxcclxuICBQQUdJTkFUSU9OX1NJWkU6IDUsXHJcbiAgTk9fREFUQV9URVhUOiBcIlRoZXJlIGlzIG5vIGRhdGEgdG8gZGlzcGxheVwiLFxyXG4gIFNIT1dfT05MWV9TRUxFQ1Q6IFwiU2hvdyBTZWxlY3RlZCBPbmx5XCIsXHJcbiAgU0hPV19BTEw6IFwiU2hvdyBBbGxcIixcclxuICBGSUxURVJfREVMQVk6IDUwMCxcclxuICBGSUxURVJfVFlQRToge1xyXG4gICAgVEVYVDogXCJUZXh0RmlsdGVyXCIsXHJcbiAgICBTRUxFQ1Q6IFwiU2VsZWN0RmlsdGVyXCIsXHJcbiAgICBOVU1CRVI6IFwiTnVtYmVyRmlsdGVyXCIsXHJcbiAgICBEQVRFOiBcIkRhdGVGaWx0ZXJcIixcclxuICAgIENVU1RPTTogXCJDdXN0b21GaWx0ZXJcIlxyXG4gIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9Db25zdC5qc1xuICoqLyIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY2xhc3NuYW1lcy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdERPTVwiLFwiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIixcImNvbW1vbmpzXCI6XCJyZWFjdC1kb21cIixcImFtZFwiOlwicmVhY3QtZG9tXCJ9XG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHJcbiAgcmVuZGVyU29ydENhcmV0KG9yZGVyKSB7XHJcbiAgICB2YXIgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgd3JhcC5jbGFzc05hbWUgPSBcIm9yZGVyXCI7XHJcbiAgICBpZihvcmRlciA9PSBDb25zdC5TT1JUX0FTQykgd3JhcC5jbGFzc05hbWUgKz0gXCIgZHJvcHVwXCI7XHJcbiAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIGlubmVyLmNsYXNzTmFtZSA9IFwiY2FyZXRcIjtcclxuICAgIGlubmVyLnN0eWxlLm1hcmdpbiA9IFwiMTBweCA1cHhcIjtcclxuICAgIHdyYXAuYXBwZW5kQ2hpbGQoaW5uZXIpO1xyXG4gICAgcmV0dXJuIHdyYXA7XHJcbiAgfSxcclxuXHJcbiAgcmVuZGVyUmVhY3RTb3J0Q2FyZXQob3JkZXIpe1xyXG4gICAgdmFyIG9yZGVyQ2xhc3MgPSBjbGFzc1NldChcIm9yZGVyXCIsIHtcclxuICAgICAgJ2Ryb3B1cCc6IG9yZGVyID09IENvbnN0LlNPUlRfQVNDXHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17b3JkZXJDbGFzc30+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIiBzdHlsZT17e21hcmdpbjogJzEwcHggNXB4J319Pjwvc3Bhbj5cclxuICAgICAgPC9zcGFuPlxyXG4gICAgKTtcclxuICB9LFxyXG5cclxuICBnZXRTY3JvbGxCYXJXaWR0aCgpe1xyXG4gICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgIGlubmVyLnN0eWxlLmhlaWdodCA9IFwiMjAwcHhcIjtcclxuXHJcbiAgICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG91dGVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgb3V0ZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcclxuICAgIG91dGVyLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xyXG4gICAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgICBvdXRlci5zdHlsZS53aWR0aCA9IFwiMjAwcHhcIjtcclxuICAgIG91dGVyLnN0eWxlLmhlaWdodCA9IFwiMTUwcHhcIjtcclxuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgIG91dGVyLmFwcGVuZENoaWxkIChpbm5lcik7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCAob3V0ZXIpO1xyXG4gICAgdmFyIHcxID0gaW5uZXIub2Zmc2V0V2lkdGg7XHJcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG4gICAgdmFyIHcyID0gaW5uZXIub2Zmc2V0V2lkdGg7XHJcbiAgICBpZiAodzEgPT0gdzIpIHcyID0gb3V0ZXIuY2xpZW50V2lkdGg7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCAob3V0ZXIpO1xyXG5cclxuICAgIHJldHVybiAodzEgLSB3Mik7XHJcbiAgfVxyXG5cclxufTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdXRpbC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBTd2l0Y2ggZnJvbSAncmMtc3dpdGNoJztcclxuaW1wb3J0ICdyYy1zd2l0Y2gvYXNzZXRzL2luZGV4LmNzcyc7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JztcclxuXHJcbnZhciBFZGl0b3IgPSBmdW5jdGlvbiAoZWRpdGFibGUsIGF0dHIsIGZvcm1hdCwgZWRpdG9yQ2xhc3MsIGRlZmF1bHRWYWx1ZSkge1xyXG5cclxuXHJcbiAgICBpZiAoZWRpdGFibGUgPT09IHRydWUgfHwgdHlwZW9mIGVkaXRhYmxlID09PSBcInN0cmluZ1wiKSB7Ly9zaW1wbGUgZGVjbGFyZVxyXG4gICAgICAgIHZhciB0eXBlID0gZWRpdGFibGUgPT09IHRydWUgPyAndGV4dCcgOiBlZGl0YWJsZTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8aW5wdXQgey4uLmF0dHJ9IHR5cGU9e3R5cGV9IGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KGVkaXRvckNsYXNzfHxcIlwiKStcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwifS8+XHJcbiAgICAgICAgKVxyXG4gICAgfSBlbHNlIGlmICghZWRpdGFibGUpIHtcclxuICAgICAgICB2YXIgdHlwZSA9IGVkaXRhYmxlID09PSB0cnVlID8gJ3RleHQnIDogZWRpdGFibGU7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGlucHV0IHsuLi5hdHRyfSB0eXBlPXt0eXBlfSBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX0gZGlzYWJsZWQ9J2Rpc2FibGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KGVkaXRvckNsYXNzfHxcIlwiKStcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwifS8+XHJcbiAgICAgICAgKVxyXG4gICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlKSB7Ly9zdGFuZGFyZCBkZWNsYXJlXHJcbiAgICAgICAgLy9wdXQgc3R5bGUgaWYgZXhpc3RcclxuICAgICAgICBlZGl0YWJsZS5zdHlsZSAmJiAoYXR0ci5zdHlsZSA9IGVkaXRhYmxlLnN0eWxlKTtcclxuXHJcbiAgICAgICAgLy9wdXQgY2xhc3MgaWYgZXhpc3RcclxuICAgICAgICBhdHRyLmNsYXNzTmFtZSA9IChlZGl0b3JDbGFzcyB8fCBcIlwiKSArXHJcbiAgICAgICAgICAgIFwiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC1cIiArXHJcbiAgICAgICAgICAgIGVkaXRhYmxlLnR5cGUgK1xyXG4gICAgICAgICAgICAoZWRpdGFibGUuY2xhc3NOYW1lID8gKFwiIFwiICsgZWRpdGFibGUuY2xhc3NOYW1lKSA6IFwiXCIpO1xyXG5cclxuICAgICAgICBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3NlbGVjdCcpIHsvL3Byb2Nlc3Mgc2VsZWN0IGlucHV0XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gW10sIHZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7Ly9vbmx5IGNhbiB1c2UgYXJycmF5IGRhdGEgZm9yIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIHZhciByb3dWYWx1ZTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93VmFsdWUgPSBmb3JtYXQgPyBmb3JtYXQoZCkgOiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXsnb3B0aW9uJytpfSB2YWx1ZT17ZH0+e3Jvd1ZhbHVlfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0IHsuLi5hdHRyfSBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX0+e29wdGlvbnN9PC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZS50eXBlID09PSAndGV4dGFyZWEnKSB7Ly9wcm9jZXNzIHRleHRhcmVhIGlucHV0XHJcbiAgICAgICAgICAgIC8vcHV0ICBvdGhlciBpZiBleGlzdFxyXG4gICAgICAgICAgICBlZGl0YWJsZS5jb2xzICYmIChhdHRyLmNvbHMgPSBlZGl0YWJsZS5jb2xzKTtcclxuICAgICAgICAgICAgZWRpdGFibGUucm93cyAmJiAoYXR0ci5yb3dzID0gZWRpdGFibGUucm93cyk7XHJcbiAgICAgICAgICAgIHZhciBrZXlVcEhhbmRsZXIgPSBhdHRyLm9uS2V5RG93biwgc2F2ZUJ0biA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChrZXlVcEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIGF0dHIub25LZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlICE9IDEzKSB7IC8vbm90IFByZXNzZWQgRU5URVJcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5VXBIYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBzYXZlQnRuID0gPGJ1dHRvIGNsYXNzTmFtZT1cImJ0biBidG4taW5mbyBidG4teHMgdGV4dGFyZWEtc2F2ZS1idG5cIiBvbkNsaWNrPXtrZXlVcEhhbmRsZXJ9PnNhdmU8L2J1dHRvPlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgey4uLmF0dHJ9IGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfT48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgICAgIHtzYXZlQnRufVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWVzID0gJ3RydWU6ZmFsc2UnO1xyXG4gICAgICAgICAgICBpZiAoZWRpdGFibGUub3B0aW9ucyAmJiBlZGl0YWJsZS5vcHRpb25zLnZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gdmFsdWVzID0gZWRpdGFibGUub3B0aW9ucy52YWx1ZXMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IGVkaXRhYmxlLm9wdGlvbnMudmFsdWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lID0gYXR0ci5jbGFzc05hbWUucmVwbGFjZSgnZm9ybS1jb250cm9sJywgJycpO1xyXG4gICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSArPSAnIGNoZWNrYm94IHB1bGwtcmlnaHQnO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNoZWNrZWQgPSBkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkgPT0gdmFsdWVzLnNwbGl0KCc6JylbMF0gPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHsuLi5hdHRyfSB0eXBlPSdjaGVja2JveCcgdmFsdWU9e3ZhbHVlc30gZGVmYXVsdENoZWNrZWQ9e2NoZWNrZWR9Lz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlLnR5cGUgPT09ICdzd2l0Y2gnKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZXMgPSAndHJ1ZTpmYWxzZSc7XHJcbiAgICAgICAgICAgIGF0dHIuY2xhc3NOYW1lID0gYXR0ci5jbGFzc05hbWUucmVwbGFjZSgnZm9ybS1jb250cm9sJywgJycpO1xyXG4gICAgICAgICAgICBhdHRyLmNsYXNzTmFtZSArPSAnIGNoZWNrYm94IHB1bGwtcmlnaHQnO1xyXG4gICAgICAgICAgICBsZXQgY2hlY2tlZCA9IGRlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUudG9TdHJpbmcoKSA9PSB2YWx1ZXMuc3BsaXQoJzonKVswXSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxTd2l0Y2ggY2xhc3NOYW1lPXthdHRyLmNsYXNzTmFtZX0gZGVmYXVsdENoZWNrZWQ9e2NoZWNrZWR9Lz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGUudHlwZSA9PT0gJ3JlYWN0LXNlbGVjdCcpIHtcclxuICAgICAgICAgICAgbGV0IG11bHRpT3B0ID0gdHlwZW9mIGVkaXRhYmxlLm9wdGlvbnMubXVsdGkgIT09ICd1bmRlZmluZWQnID8gZWRpdGFibGUub3B0aW9ucy5tdWx0aSA6IGZhbHNlXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8U2VsZWN0IGNsYXNzTmFtZT1cInB1bGwtcmlnaHRcIiBvcHRpb25zPXtlZGl0YWJsZS5vcHRpb25zLnZhbHVlc30gbXVsdGk9e211bHRpT3B0fSBzaW1wbGVWYWx1ZT17dHJ1ZX0vPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSBlbHNlIHsvL3Byb2Nlc3Mgb3RoZXIgaW5wdXQgdHlwZS4gYXMgcGFzc3dvcmQsdXJsLGVtYWlsLi4uXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgey4uLmF0dHJ9IHR5cGU9e3R5cGV9IGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfS8+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2RlZmF1bHQgcmV0dXJuIGZvciBvdGhlciBjYXNlIG9mIGVkaXRhYmxlXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxpbnB1dCB7Li4uYXR0cn0gdHlwZT1cInRleHRcIiBjbGFzc05hbWU9eyhlZGl0b3JDbGFzc3x8XCJcIikrXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIn0vPlxyXG4gICAgKVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9FZGl0b3IuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIFRvYXN0Q29udGFpbmVyLFxyXG4gIFRvYXN0TWVzc2FnZSxcclxufSBmcm9tIFwicmVhY3QtdG9hc3RyXCI7XHJcblxyXG5cclxudmFyIFRvYXN0ck1lc3NhZ2VGYWN0b3J5PVJlYWN0LmNyZWF0ZUZhY3RvcnkoVG9hc3RNZXNzYWdlLmFuaW1hdGlvbik7XHJcblxyXG5jbGFzcyBOb3RpZmljYXRpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcbiAgLy8gYWxsb3cgdHlwZSBpcyBzdWNjZXNzLGluZm8sd2FybmluZyxlcnJvclxyXG4gIG5vdGljZSh0eXBlLG1zZyx0aXRsZSl7XHJcbiAgICB0aGlzLnJlZnMudG9hc3RyW3R5cGVdKFxyXG4gICAgICAgIG1zZyx0aXRsZSwge1xyXG4gICAgICAgICAgbW9kZTonc2luZ2xlJyxcclxuICAgICAgICAgIHRpbWVPdXQ6IDUwMDAsXHJcbiAgICAgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDAsXHJcbiAgICAgICAgICBzaG93QW5pbWF0aW9uOiBcImFuaW1hdGVkICBib3VuY2VJblwiLFxyXG4gICAgICAgICAgaGlkZUFuaW1hdGlvbjogXCJhbmltYXRlZCBib3VuY2VPdXRcIlxyXG4gICAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCl7XHJcbiAgICByZXR1cm4oXHJcbiAgICAgICAgPFRvYXN0Q29udGFpbmVyIHJlZj1cInRvYXN0clwiIHRvYXN0TWVzc2FnZUZhY3Rvcnk9e1RvYXN0ck1lc3NhZ2VGYWN0b3J5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0b2FzdC1jb250YWluZXJcIiAgY2xhc3NOYW1lPVwidG9hc3QtdG9wLXJpZ2h0XCI+PC9Ub2FzdENvbnRhaW5lcj5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvTm90aWZpY2F0aW9uLmpzXG4gKiovIiwiaW1wb3J0IENvbnN0IGZyb20gXCIuLi9Db25zdFwiO1xyXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xyXG5cclxuZnVuY3Rpb24gX3NvcnQoYXJyLCBzb3J0RmllbGQsIG9yZGVyLCBzb3J0RnVuYykge1xyXG4gIG9yZGVyID0gb3JkZXIudG9Mb3dlckNhc2UoKTtcclxuICBhcnIuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgaWYgKHNvcnRGdW5jKSB7XHJcbiAgICAgIHJldHVybiBzb3J0RnVuYyhhLCBiLCBvcmRlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAob3JkZXIgPT0gQ29uc3QuU09SVF9ERVNDKSB7XHJcbiAgICAgICAgcmV0dXJuIGFbc29ydEZpZWxkXSA+IGJbc29ydEZpZWxkXSA/IC0xIDogKChhW3NvcnRGaWVsZF0gPCBiW3NvcnRGaWVsZF0pID8gMSA6IDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhW3NvcnRGaWVsZF0gPCBiW3NvcnRGaWVsZF0gPyAtMSA6ICgoYVtzb3J0RmllbGRdID4gYltzb3J0RmllbGRdKSA/IDEgOiAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gYXJyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGFibGVEYXRhU2V0IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICBzdXBlcihkYXRhKTtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXREYXRhKGRhdGEpIHtcclxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgZGF0YSk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuZGF0YSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXREYXRhKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJsZURhdGFTdG9yZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLmNvbEluZm9zID0gbnVsbDtcclxuICAgIHRoaXMuZmlsdGVyZWREYXRhID0gbnVsbDtcclxuICAgIHRoaXMuaXNPbkZpbHRlciA9IGZhbHNlO1xyXG4gICAgdGhpcy5maWx0ZXJPYmogPSBudWxsO1xyXG4gICAgdGhpcy5zZWFyY2hUZXh0ID0gbnVsbDtcclxuICAgIHRoaXMuc29ydE9iaiA9IG51bGw7XHJcbiAgICB0aGlzLnBhZ2VPYmogPSB7fTtcclxuICAgIHRoaXMuc2VsZWN0ZWQgPSBbXTtcclxuICAgIHRoaXMubXVsdGlDb2x1bW5TZWFyY2ggPSBmYWxzZTtcclxuICAgIHRoaXMuc2hvd09ubHlTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZW1vdGUgPSBmYWxzZTsgLy8gcmVtb3RlIGRhdGFcclxuICB9XHJcblxyXG4gIHNldFByb3BzKHByb3BzKSB7XHJcbiAgICB0aGlzLmtleUZpZWxkID0gcHJvcHMua2V5RmllbGQ7XHJcbiAgICB0aGlzLmVuYWJsZVBhZ2luYXRpb24gPSBwcm9wcy5pc1BhZ2luYXRpb247XHJcbiAgICB0aGlzLmNvbEluZm9zID0gcHJvcHMuY29sSW5mb3M7XHJcbiAgICB0aGlzLnJlbW90ZSA9IHByb3BzLnJlbW90ZTtcclxuICAgIHRoaXMubXVsdGlDb2x1bW5TZWFyY2ggPSBwcm9wcy5tdWx0aUNvbHVtblNlYXJjaDtcclxuICB9XHJcblxyXG4gIHNldERhdGEoZGF0YSkge1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIGlmICh0aGlzLmlzT25GaWx0ZXIpIHtcclxuICAgICAgaWYgKG51bGwgIT09IHRoaXMuZmlsdGVyT2JqKSB0aGlzLmZpbHRlcih0aGlzLmZpbHRlck9iaik7XHJcbiAgICAgIGlmIChudWxsICE9PSB0aGlzLnNlYXJjaFRleHQpIHRoaXMuc2VhcmNoKHRoaXMuc2VhcmNoVGV4dCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zb3J0T2JqKSB7XHJcbiAgICAgIHRoaXMuc29ydCh0aGlzLnNvcnRPYmoub3JkZXIsIHRoaXMuc29ydE9iai5zb3J0RmllbGQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U29ydEluZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zb3J0T2JqO1xyXG4gIH1cclxuXHJcbiAgc2V0U2VsZWN0ZWRSb3dLZXkoc2VsZWN0ZWRSb3dLZXlzKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWRSb3dLZXlzO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0ZWRSb3dLZXlzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50RGlzcGxheURhdGEoKSB7XHJcbiAgICBpZiAodGhpcy5pc09uRmlsdGVyKSByZXR1cm4gdGhpcy5maWx0ZXJlZERhdGE7XHJcbiAgICBlbHNlIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgfVxyXG5cclxuICBpZ25vcmVOb25TZWxlY3RlZCgpIHtcclxuICAgIHRoaXMuc2hvd09ubHlTZWxlY3RlZCA9ICF0aGlzLnNob3dPbmx5U2VsZWN0ZWQ7XHJcbiAgICBpZih0aGlzLnNob3dPbmx5U2VsZWN0ZWQpe1xyXG4gICAgICB0aGlzLmlzT25GaWx0ZXIgPSB0cnVlO1xyXG4gICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoIHJvdyA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuc2VsZWN0ZWQuZmluZCh4ID0+IHJvd1t0aGlzLmtleUZpZWxkXSA9PT0geClcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pc09uRmlsdGVyID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzb3J0KG9yZGVyLCBzb3J0RmllbGQpIHtcclxuICAgIHRoaXMuc29ydE9iaiA9IHtcclxuICAgICAgb3JkZXI6IG9yZGVyLFxyXG4gICAgICBzb3J0RmllbGQ6IHNvcnRGaWVsZFxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcclxuICAgIGlmKCF0aGlzLmNvbEluZm9zW3NvcnRGaWVsZF0pIHJldHVybiB0aGlzO1xyXG5cclxuICAgIGNvbnN0IHsgc29ydEZ1bmMgfSA9IHRoaXMuY29sSW5mb3Nbc29ydEZpZWxkXTtcclxuICAgIGN1cnJlbnREaXNwbGF5RGF0YSA9IF9zb3J0KGN1cnJlbnREaXNwbGF5RGF0YSwgc29ydEZpZWxkLCBvcmRlciwgc29ydEZ1bmMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcGFnZShwYWdlLCBzaXplUGVyUGFnZSkge1xyXG4gICAgdGhpcy5wYWdlT2JqLmVuZCA9IHBhZ2UgKiBzaXplUGVyUGFnZSAtIDE7XHJcbiAgICB0aGlzLnBhZ2VPYmouc3RhcnQgPSB0aGlzLnBhZ2VPYmouZW5kIC0gKHNpemVQZXJQYWdlIC0gMSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGVkaXQobmV3VmFsLCByb3dJbmRleCwgZmllbGROYW1lKSB7XHJcbiAgICBsZXQgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcclxuICAgIGxldCByb3dLZXlDYWNoZTtcclxuICAgIGlmICghdGhpcy5lbmFibGVQYWdpbmF0aW9uKSB7XHJcbiAgICAgIGN1cnJlbnREaXNwbGF5RGF0YVtyb3dJbmRleF1bZmllbGROYW1lXSA9IG5ld1ZhbDtcclxuICAgICAgcm93S2V5Q2FjaGUgPSBjdXJyZW50RGlzcGxheURhdGFbcm93SW5kZXhdW3RoaXMua2V5RmllbGRdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VycmVudERpc3BsYXlEYXRhW3RoaXMucGFnZU9iai5zdGFydCArIHJvd0luZGV4XVtmaWVsZE5hbWVdID0gbmV3VmFsO1xyXG4gICAgICByb3dLZXlDYWNoZSA9IGN1cnJlbnREaXNwbGF5RGF0YVt0aGlzLnBhZ2VPYmouc3RhcnQgKyByb3dJbmRleF1bdGhpcy5rZXlGaWVsZF07XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc09uRmlsdGVyKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICBpZiAocm93W3RoaXMua2V5RmllbGRdID09PSByb3dLZXlDYWNoZSkge1xyXG4gICAgICAgICAgcm93W2ZpZWxkTmFtZV0gPSBuZXdWYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB0aGlzKTtcclxuICAgICAgaWYgKG51bGwgIT09IHRoaXMuZmlsdGVyT2JqKSB0aGlzLmZpbHRlcih0aGlzLmZpbHRlck9iaik7XHJcbiAgICAgIGlmIChudWxsICE9PSB0aGlzLnNlYXJjaFRleHQpIHRoaXMuc2VhcmNoKHRoaXMuc2VhcmNoVGV4dCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGFkZChuZXdPYmopIHtcclxuICAgIGlmICghbmV3T2JqW3RoaXMua2V5RmllbGRdIHx8IG5ld09ialt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpID09PSAnJykge1xyXG4gICAgICB0aHJvdyB0aGlzLmtleUZpZWxkICsgXCIgY2FuJ3QgYmUgZW1wdHkgdmFsdWUuXCI7XHJcbiAgICB9XHJcbiAgICBsZXQgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcclxuICAgIGN1cnJlbnREaXNwbGF5RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgaWYgKHJvd1t0aGlzLmtleUZpZWxkXS50b1N0cmluZygpID09PSBuZXdPYmpbdGhpcy5rZXlGaWVsZF0udG9TdHJpbmcoKSkge1xyXG4gICAgICAgIHRocm93IHRoaXMua2V5RmllbGQgKyBcIiBcIiArIG5ld09ialt0aGlzLmtleUZpZWxkXSArIFwiIGFscmVhZHkgZXhpc3RzXCI7XHJcbiAgICAgIH1cclxuICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIGN1cnJlbnREaXNwbGF5RGF0YS5wdXNoKG5ld09iaik7XHJcbiAgICBpZiAodGhpcy5pc09uRmlsdGVyKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5wdXNoKG5ld09iaik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmUocm93S2V5KSB7XHJcbiAgICBsZXQgY3VycmVudERpc3BsYXlEYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcclxuICAgIGxldCByZXN1bHQgPSBjdXJyZW50RGlzcGxheURhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgcmV0dXJuIHJvd0tleS5pbmRleE9mKHJvd1t0aGlzLmtleUZpZWxkXSkgPT0gLTE7XHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc09uRmlsdGVyKSB7XHJcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgIHJldHVybiByb3dLZXkuaW5kZXhPZihyb3dbdGhpcy5rZXlGaWVsZF0pID09IC0xO1xyXG4gICAgICB9LCB0aGlzKTtcclxuICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSByZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmRhdGEgPSByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaWx0ZXIoZmlsdGVyT2JqKSB7XHJcbiAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVyT2JqKS5sZW5ndGggPT0gMCkge1xyXG4gICAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IG51bGw7XHJcbiAgICAgIHRoaXMuaXNPbkZpbHRlciA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpbHRlck9iaiA9IG51bGw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmZpbHRlck9iaiA9IGZpbHRlck9iajtcclxuICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKCByb3cgPT4ge1xyXG4gICAgICAgIGxldCB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgbGV0IGZpbHRlclZhbDtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmlsdGVyT2JqKSB7XHJcbiAgICAgICAgICBsZXQgdGFyZ2V0VmFsID0gcm93W2tleV07XHJcblxyXG4gICAgICAgICAgc3dpdGNoIChmaWx0ZXJPYmpba2V5XS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29uc3QuRklMVEVSX1RZUEUuTlVNQkVSOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZmlsdGVyVmFsID0gZmlsdGVyT2JqW2tleV0udmFsdWUubnVtYmVyO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgQ29uc3QuRklMVEVSX1RZUEUuQ1VTVE9NOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZmlsdGVyVmFsID0gKHR5cGVvZiBmaWx0ZXJPYmpba2V5XS52YWx1ZSA9PT0gXCJvYmplY3RcIikgP1xyXG4gICAgICAgICAgICAgICAgICB1bmRlZmluZWQgOlxyXG4gICAgICAgICAgICAgICAgICAodHlwZW9mIGZpbHRlck9ialtrZXldLnZhbHVlID09PSBcInN0cmluZ1wiKSA/IGZpbHRlck9ialtrZXldLnZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmaWx0ZXJPYmpba2V5XS52YWx1ZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgZmlsdGVyVmFsID0gKHR5cGVvZiBmaWx0ZXJPYmpba2V5XS52YWx1ZSA9PT0gXCJzdHJpbmdcIikgPyBmaWx0ZXJPYmpba2V5XS52YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmlsdGVyT2JqW2tleV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgaWYgKGZpbHRlclZhbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IG9sZCBmaWx0ZXJcclxuICAgICAgICAgICAgICAgIGZpbHRlclZhbCA9IGZpbHRlck9ialtrZXldLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuY29sSW5mb3Nba2V5XSkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGZvcm1hdCwgZmlsdGVyRm9ybWF0dGVkLCBmb3JtYXRFeHRyYURhdGEgfSA9IHRoaXMuY29sSW5mb3Nba2V5XTtcclxuICAgICAgICAgICAgaWYoZmlsdGVyRm9ybWF0dGVkICYmIGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgIHRhcmdldFZhbCA9IGZvcm1hdChyb3dba2V5XSwgcm93LCBmb3JtYXRFeHRyYURhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc3dpdGNoIChmaWx0ZXJPYmpba2V5XS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29uc3QuRklMVEVSX1RZUEUuTlVNQkVSOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdmFsaWQgPSB0aGlzLmZpbHRlck51bWJlcih0YXJnZXRWYWwsIGZpbHRlclZhbCwgZmlsdGVyT2JqW2tleV0udmFsdWUuY29tcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5EQVRFOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdmFsaWQgPSB0aGlzLmZpbHRlckRhdGUodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgQ29uc3QuRklMVEVSX1RZUEUuQ1VTVE9NOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdmFsaWQgPSB0aGlzLmZpbHRlckN1c3RvbSh0YXJnZXRWYWwsIGZpbHRlclZhbCwgZmlsdGVyT2JqW2tleV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICB2YWxpZCA9IHRoaXMuZmlsdGVyVGV4dCh0YXJnZXRWYWwsIGZpbHRlclZhbCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghdmFsaWQpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuaXNPbkZpbHRlciA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaWx0ZXJOdW1iZXIodGFyZ2V0VmFsLCBmaWx0ZXJWYWwsIGNvbXBhcmF0b3IpIHtcclxuICAgIGxldCB2YWxpZCA9IHRydWU7XHJcbiAgICBzd2l0Y2ggKGNvbXBhcmF0b3IpIHtcclxuICAgICAgY2FzZSBcIj1cIjpcclxuICAgICAge1xyXG4gICAgICAgIGlmICh0YXJnZXRWYWwgIT0gZmlsdGVyVmFsKSB7XHJcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwiPlwiOlxyXG4gICAgICB7XHJcbiAgICAgICAgaWYgKHRhcmdldFZhbCA8PSBmaWx0ZXJWYWwpIHtcclxuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCI+PVwiOlxyXG4gICAgICB7XHJcbiAgICAgICAgaWYgKHRhcmdldFZhbCA8IGZpbHRlclZhbCkge1xyXG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcIjxcIjpcclxuICAgICAge1xyXG4gICAgICAgIGlmICh0YXJnZXRWYWwgPj0gZmlsdGVyVmFsKSB7XHJcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwiPD1cIjpcclxuICAgICAge1xyXG4gICAgICAgIGlmICh0YXJnZXRWYWwgPiBmaWx0ZXJWYWwpIHtcclxuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCIhPVwiOlxyXG4gICAgICB7XHJcbiAgICAgICAgaWYgKHRhcmdldFZhbCA9PSBmaWx0ZXJWYWwpIHtcclxuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiTnVtYmVyIGNvbXBhcmF0b3IgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbGlkO1xyXG4gIH1cclxuXHJcbiAgZmlsdGVyRGF0ZSh0YXJnZXRWYWwsIGZpbHRlclZhbCkge1xyXG4gICAgcmV0dXJuICh0YXJnZXRWYWwuZ2V0RGF0ZSgpID09IGZpbHRlclZhbC5nZXREYXRlKCkgJiZcclxuICAgICAgICB0YXJnZXRWYWwuZ2V0TW9udGgoKSA9PSBmaWx0ZXJWYWwuZ2V0TW9udGgoKSAmJlxyXG4gICAgICAgIHRhcmdldFZhbC5nZXRGdWxsWWVhcigpID09IGZpbHRlclZhbC5nZXRGdWxsWWVhcigpKTtcclxuICB9XHJcblxyXG4gIGZpbHRlckN1c3RvbSh0YXJnZXRWYWwsIGZpbHRlclZhbCwgY2FsbGJhY2tJbmZvKSB7XHJcbiAgICBpZiAoY2FsbGJhY2tJbmZvICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrSW5mbyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICByZXR1cm4gY2FsbGJhY2tJbmZvLmNhbGxiYWNrKHRhcmdldFZhbCwgY2FsbGJhY2tJbmZvLmNhbGxiYWNrUGFyYW1ldGVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZpbHRlclRleHQodGFyZ2V0VmFsLCBmaWx0ZXJWYWwpO1xyXG4gIH1cclxuXHJcbiAgZmlsdGVyVGV4dCh0YXJnZXRWYWwsIGZpbHRlclZhbCkge1xyXG4gICAgaWYgKHRhcmdldFZhbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXJWYWwpID09IC0xKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHNlYXJjaChzZWFyY2hUZXh0KSB7XHJcbiAgICBpZiAoc2VhcmNoVGV4dC50cmltKCkgPT09IFwiXCIpIHtcclxuICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSBudWxsO1xyXG4gICAgICB0aGlzLmlzT25GaWx0ZXIgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VhcmNoVGV4dCA9IHNlYXJjaFRleHQ7XHJcbiAgICAgIHZhciBzZWFyY2hUZXh0QXJyYXkgPSBbXTtcclxuXHJcbiAgICAgIGlmICh0aGlzLm11bHRpQ29sdW1uU2VhcmNoKSB7XHJcbiAgICAgICAgICBzZWFyY2hUZXh0QXJyYXkgPSBzZWFyY2hUZXh0LnNwbGl0KCcgJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWFyY2hUZXh0QXJyYXkucHVzaChzZWFyY2hUZXh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5maWx0ZXJlZERhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKCByb3cgPT4ge1xyXG4gICAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhyb3cpO1xyXG4gICAgICAgICAgbGV0IHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAvLyBDaGFuZ2VkIGBmb3IgLi4gaW5gIGxvb3AgdG8gdXNlIGBPYmplY3Qua2V5c2BcclxuICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbEluZm9zW2tleV0gJiYgcm93W2tleV0pIHtcclxuICAgICAgICAgICAgICBzZWFyY2hUZXh0QXJyYXkuZm9yRWFjaCggdGV4dCA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyVmFsID0gdGV4dC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldFZhbCA9IHJvd1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBmb3JtYXQsIGZpbHRlckZvcm1hdHRlZCwgZm9ybWF0RXh0cmFEYXRhLCBoaWRkZW4gfSA9IHRoaXMuY29sSW5mb3Nba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmICghaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGZpbHRlckZvcm1hdHRlZCAmJiBmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRWYWwgPSBmb3JtYXQodGFyZ2V0VmFsLCByb3csIGZvcm1hdEV4dHJhRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFZhbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXJWYWwpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGlmICh2YWxpZCkgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuaXNPbkZpbHRlciA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkge1xyXG4gICAgbGV0IF9kYXRhID0gdGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTtcclxuICAgIHJldHVybiBfZGF0YTtcclxuICB9XHJcblxyXG4gIGdldCgpIHtcclxuICAgIGxldCBfZGF0YSA9IHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCk7XHJcblxyXG4gICAgaWYgKF9kYXRhLmxlbmd0aCA9PSAwKSByZXR1cm4gX2RhdGE7XHJcblxyXG4gICAgaWYgKHRoaXMucmVtb3RlIHx8ICF0aGlzLmVuYWJsZVBhZ2luYXRpb24pIHtcclxuICAgICAgcmV0dXJuIF9kYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5wYWdlT2JqLnN0YXJ0OyBpIDw9IHRoaXMucGFnZU9iai5lbmQ7IGkrKykge1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKF9kYXRhW2ldKTtcclxuICAgICAgICBpZiAoaSArIDEgPT0gX2RhdGEubGVuZ3RoKWJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRLZXlGaWVsZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmtleUZpZWxkO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YU51bSgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIGlzQ2hhbmdlZFBhZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYWdlT2JqLnN0YXJ0ICYmIHRoaXMucGFnZU9iai5lbmQgPyB0cnVlIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnZXRBbGxSb3drZXkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgIHJldHVybiByb3dbdGhpcy5rZXlGaWVsZF07XHJcbiAgICB9LCB0aGlzKTtcclxuICB9XHJcblxyXG59XHJcbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc3RvcmUvVGFibGVEYXRhU3RvcmUuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9Td2l0Y2gnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zd2l0Y2gvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfcmVhY3RJbnB1dEF1dG9zaXplID0gcmVxdWlyZSgncmVhY3QtaW5wdXQtYXV0b3NpemUnKTtcblxudmFyIF9yZWFjdElucHV0QXV0b3NpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RJbnB1dEF1dG9zaXplKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MgPSByZXF1aXJlKCcuL3V0aWxzL3N0cmlwRGlhY3JpdGljcycpO1xuXG52YXIgX3V0aWxzU3RyaXBEaWFjcml0aWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzU3RyaXBEaWFjcml0aWNzKTtcblxudmFyIF9Bc3luYyA9IHJlcXVpcmUoJy4vQXN5bmMnKTtcblxudmFyIF9Bc3luYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Bc3luYyk7XG5cbnZhciBfT3B0aW9uID0gcmVxdWlyZSgnLi9PcHRpb24nKTtcblxudmFyIF9PcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0aW9uKTtcblxudmFyIF9WYWx1ZSA9IHJlcXVpcmUoJy4vVmFsdWUnKTtcblxudmFyIF9WYWx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WYWx1ZSk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeVZhbHVlKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cbn1cblxudmFyIHN0cmluZ09yTm9kZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlXSk7XG5cbnZhciBTZWxlY3QgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlQ2xhc3Moe1xuXG5cdGRpc3BsYXlOYW1lOiAnU2VsZWN0JyxcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRhZGRMYWJlbFRleHQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwbGFjZWhvbGRlciBkaXNwbGF5ZWQgd2hlbiB5b3Ugd2FudCB0byBhZGQgYSBsYWJlbCBvbiBhIG11bHRpLXZhbHVlIGlucHV0XG5cdFx0YWxsb3dDcmVhdGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBhbGxvdyBjcmVhdGlvbiBvZiBuZXcgZW50cmllc1xuXHRcdGF1dG9CbHVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsXG5cdFx0YXV0b2ZvY3VzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIGF1dG9mb2N1cyB0aGUgY29tcG9uZW50IG9uIG1vdW50XG5cdFx0YmFja3NwYWNlUmVtb3ZlczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIGJhY2tzcGFjZSByZW1vdmVzIGFuIGl0ZW0gaWYgdGhlcmUgaXMgbm8gdGV4dCBpbnB1dFxuXHRcdGNsYXNzTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSBmb3IgdGhlIG91dGVyIGVsZW1lbnRcblx0XHRjbGVhckFsbFRleHQ6IHN0cmluZ09yTm9kZSwgLy8gdGl0bGUgZm9yIHRoZSBcImNsZWFyXCIgY29udHJvbCB3aGVuIG11bHRpOiB0cnVlXG5cdFx0Y2xlYXJWYWx1ZVRleHQ6IHN0cmluZ09yTm9kZSwgLy8gdGl0bGUgZm9yIHRoZSBcImNsZWFyXCIgY29udHJvbFxuXHRcdGNsZWFyYWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBzaG91bGQgaXQgYmUgcG9zc2libGUgdG8gcmVzZXQgdmFsdWVcblx0XHRkZWxpbWl0ZXI6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBkZWxpbWl0ZXIgdG8gdXNlIHRvIGpvaW4gbXVsdGlwbGUgdmFsdWVzIGZvciB0aGUgaGlkZGVuIGZpZWxkIHZhbHVlXG5cdFx0ZGlzYWJsZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0aGUgU2VsZWN0IGlzIGRpc2FibGVkIG9yIG5vdFxuXHRcdGVzY2FwZUNsZWFyc1ZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgZXNjYXBlIGNsZWFycyB0aGUgdmFsdWUgd2hlbiB0aGUgbWVudSBpcyBjbG9zZWRcblx0XHRmaWx0ZXJPcHRpb246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGZpbHRlciBhIHNpbmdsZSBvcHRpb24gKG9wdGlvbiwgZmlsdGVyU3RyaW5nKVxuXHRcdGZpbHRlck9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBib29sZWFuIHRvIGVuYWJsZSBkZWZhdWx0IGZpbHRlcmluZyBvciBmdW5jdGlvbiB0byBmaWx0ZXIgdGhlIG9wdGlvbnMgYXJyYXkgKFtvcHRpb25zXSwgZmlsdGVyU3RyaW5nLCBbdmFsdWVzXSlcblx0XHRpZ25vcmVBY2NlbnRzOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gc3RyaXAgZGlhY3JpdGljcyB3aGVuIGZpbHRlcmluZ1xuXHRcdGlnbm9yZUNhc2U6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0byBwZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgZmlsdGVyaW5nXG5cdFx0aW5wdXRQcm9wczogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5vYmplY3QsIC8vIGN1c3RvbSBhdHRyaWJ1dGVzIGZvciB0aGUgSW5wdXRcblx0XHRpc0xvYWRpbmc6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciB0aGUgU2VsZWN0IGlzIGxvYWRpbmcgZXh0ZXJuYWxseSBvciBub3QgKHN1Y2ggYXMgb3B0aW9ucyBiZWluZyBsb2FkZWQpXG5cdFx0bGFiZWxLZXk6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBwYXRoIG9mIHRoZSBsYWJlbCB2YWx1ZSBpbiBvcHRpb24gb2JqZWN0c1xuXHRcdG1hdGNoUG9zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gKGFueXxzdGFydCkgbWF0Y2ggdGhlIHN0YXJ0IG9yIGVudGlyZSBzdHJpbmcgd2hlbiBmaWx0ZXJpbmdcblx0XHRtYXRjaFByb3A6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuc3RyaW5nLCAvLyAoYW55fGxhYmVsfHZhbHVlKSB3aGljaCBvcHRpb24gcHJvcGVydHkgdG8gZmlsdGVyIG9uXG5cdFx0bWVudUJ1ZmZlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5udW1iZXIsIC8vIG9wdGlvbmFsIGJ1ZmZlciAoaW4gcHgpIGJldHdlZW4gdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQgYW5kIHRoZSBib3R0b20gb2YgdGhlIG1lbnVcblx0XHRtZW51Q29udGFpbmVyU3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgbWVudSBjb250YWluZXJcblx0XHRtZW51U3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgbWVudVxuXHRcdG11bHRpOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIG11bHRpLXZhbHVlIGlucHV0XG5cdFx0bmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGdlbmVyYXRlcyBhIGhpZGRlbiA8aW5wdXQgLz4gdGFnIHdpdGggdGhpcyBmaWVsZCBuYW1lIGZvciBodG1sIGZvcm1zXG5cdFx0bmV3T3B0aW9uQ3JlYXRvcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmYWN0b3J5IHRvIGNyZWF0ZSBuZXcgb3B0aW9ucyB3aGVuIGFsbG93Q3JlYXRlIHNldFxuXHRcdG5vUmVzdWx0c1RleHQ6IHN0cmluZ09yTm9kZSwgLy8gcGxhY2Vob2xkZXIgZGlzcGxheWVkIHdoZW4gdGhlcmUgYXJlIG5vIG1hdGNoaW5nIHNlYXJjaCByZXN1bHRzXG5cdFx0b25CbHVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIG9uQmx1ciBoYW5kbGVyOiBmdW5jdGlvbiAoZXZlbnQpIHt9XG5cdFx0b25CbHVyUmVzZXRzSW5wdXQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gd2hldGhlciBpbnB1dCBpcyBjbGVhcmVkIG9uIGJsdXJcblx0XHRvbkNoYW5nZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkNoYW5nZSBoYW5kbGVyOiBmdW5jdGlvbiAobmV3VmFsdWUpIHt9XG5cdFx0b25DbG9zZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIGNsb3NlZFxuXHRcdG9uRm9jdXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb25Gb2N1cyBoYW5kbGVyOiBmdW5jdGlvbiAoZXZlbnQpIHt9XG5cdFx0b25JbnB1dENoYW5nZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbklucHV0Q2hhbmdlIGhhbmRsZXI6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7fVxuXHRcdG9uTWVudVNjcm9sbFRvQm90dG9tOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIGZpcmVzIHdoZW4gdGhlIG1lbnUgaXMgc2Nyb2xsZWQgdG8gdGhlIGJvdHRvbTsgY2FuIGJlIHVzZWQgdG8gcGFnaW5hdGUgb3B0aW9uc1xuXHRcdG9uT3BlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBmaXJlcyB3aGVuIHRoZSBtZW51IGlzIG9wZW5lZFxuXHRcdG9uVmFsdWVDbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvbkNsaWNrIGhhbmRsZXIgZm9yIHZhbHVlIGxhYmVsczogZnVuY3Rpb24gKHZhbHVlLCBldmVudCkge31cblx0XHRvcHRpb25Db21wb25lbnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gb3B0aW9uIGNvbXBvbmVudCB0byByZW5kZXIgaW4gZHJvcGRvd25cblx0XHRvcHRpb25SZW5kZXJlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBvcHRpb25SZW5kZXJlcjogZnVuY3Rpb24gKG9wdGlvbikge31cblx0XHRvcHRpb25zOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFycmF5LCAvLyBhcnJheSBvZiBvcHRpb25zXG5cdFx0cGxhY2Vob2xkZXI6IHN0cmluZ09yTm9kZSwgLy8gZmllbGQgcGxhY2Vob2xkZXIsIGRpc3BsYXllZCB3aGVuIHRoZXJlJ3Mgbm8gdmFsdWVcblx0XHRyZXF1aXJlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBhcHBsaWVzIEhUTUw1IHJlcXVpcmVkIGF0dHJpYnV0ZSB3aGVuIG5lZWRlZFxuXHRcdHNjcm9sbE1lbnVJbnRvVmlldzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBib29sZWFuIHRvIGVuYWJsZSB0aGUgdmlld3BvcnQgdG8gc2hpZnQgc28gdGhhdCB0aGUgZnVsbCBtZW51IGZ1bGx5IHZpc2libGUgd2hlbiBlbmdhZ2VkXG5cdFx0c2VhcmNoYWJsZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIGVuYWJsZSBzZWFyY2hpbmcgZmVhdHVyZSBvciBub3Rcblx0XHRzaW1wbGVWYWx1ZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBwYXNzIHRoZSB2YWx1ZSB0byBvbkNoYW5nZSBhcyBhIHNpbXBsZSB2YWx1ZSAobGVnYWN5IHByZSAxLjAgbW9kZSksIGRlZmF1bHRzIHRvIGZhbHNlXG5cdFx0c3R5bGU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LCAvLyBvcHRpb25hbCBzdHlsZSB0byBhcHBseSB0byB0aGUgY29udHJvbFxuXHRcdHRhYkluZGV4OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gb3B0aW9uYWwgdGFiIGluZGV4IG9mIHRoZSBjb250cm9sXG5cdFx0dmFsdWU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYW55LCAvLyBpbml0aWFsIGZpZWxkIHZhbHVlXG5cdFx0dmFsdWVDb21wb25lbnQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gdmFsdWUgY29tcG9uZW50IHRvIHJlbmRlclxuXHRcdHZhbHVlS2V5OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgLy8gcGF0aCBvZiB0aGUgbGFiZWwgdmFsdWUgaW4gb3B0aW9uIG9iamVjdHNcblx0XHR2YWx1ZVJlbmRlcmVyOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmZ1bmMsIC8vIHZhbHVlUmVuZGVyZXI6IGZ1bmN0aW9uIChvcHRpb24pIHt9XG5cdFx0d3JhcHBlclN0eWxlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdCB9LFxuXG5cdC8vIG9wdGlvbmFsIHN0eWxlIHRvIGFwcGx5IHRvIHRoZSBjb21wb25lbnQgd3JhcHBlclxuXHRzdGF0aWNzOiB7IEFzeW5jOiBfQXN5bmMyWydkZWZhdWx0J10gfSxcblxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YWRkTGFiZWxUZXh0OiAnQWRkIFwie2xhYmVsfVwiPycsXG5cdFx0XHRhbGxvd0NyZWF0ZTogZmFsc2UsXG5cdFx0XHRiYWNrc3BhY2VSZW1vdmVzOiB0cnVlLFxuXHRcdFx0Y2xlYXJhYmxlOiB0cnVlLFxuXHRcdFx0Y2xlYXJBbGxUZXh0OiAnQ2xlYXIgYWxsJyxcblx0XHRcdGNsZWFyVmFsdWVUZXh0OiAnQ2xlYXIgdmFsdWUnLFxuXHRcdFx0ZGVsaW1pdGVyOiAnLCcsXG5cdFx0XHRkaXNhYmxlZDogZmFsc2UsXG5cdFx0XHRlc2NhcGVDbGVhcnNWYWx1ZTogdHJ1ZSxcblx0XHRcdGZpbHRlck9wdGlvbnM6IHRydWUsXG5cdFx0XHRpZ25vcmVBY2NlbnRzOiB0cnVlLFxuXHRcdFx0aWdub3JlQ2FzZTogdHJ1ZSxcblx0XHRcdGlucHV0UHJvcHM6IHt9LFxuXHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdGxhYmVsS2V5OiAnbGFiZWwnLFxuXHRcdFx0bWF0Y2hQb3M6ICdhbnknLFxuXHRcdFx0bWF0Y2hQcm9wOiAnYW55Jyxcblx0XHRcdG1lbnVCdWZmZXI6IDAsXG5cdFx0XHRtdWx0aTogZmFsc2UsXG5cdFx0XHRub1Jlc3VsdHNUZXh0OiAnTm8gcmVzdWx0cyBmb3VuZCcsXG5cdFx0XHRvbkJsdXJSZXNldHNJbnB1dDogdHJ1ZSxcblx0XHRcdG9wdGlvbkNvbXBvbmVudDogX09wdGlvbjJbJ2RlZmF1bHQnXSxcblx0XHRcdHBsYWNlaG9sZGVyOiAnU2VsZWN0Li4uJyxcblx0XHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHRcdHNjcm9sbE1lbnVJbnRvVmlldzogdHJ1ZSxcblx0XHRcdHNlYXJjaGFibGU6IHRydWUsXG5cdFx0XHRzaW1wbGVWYWx1ZTogZmFsc2UsXG5cdFx0XHR2YWx1ZUNvbXBvbmVudDogX1ZhbHVlMlsnZGVmYXVsdCddLFxuXHRcdFx0dmFsdWVLZXk6ICd2YWx1ZSdcblx0XHR9O1xuXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpbnB1dFZhbHVlOiAnJyxcblx0XHRcdGlzRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRpc0xvYWRpbmc6IGZhbHNlLFxuXHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRyZXF1aXJlZDogdGhpcy5wcm9wcy5yZXF1aXJlZCAmJiB0aGlzLmhhbmRsZVJlcXVpcmVkKHRoaXMucHJvcHMudmFsdWUsIHRoaXMucHJvcHMubXVsdGkpXG5cdFx0fTtcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0aWYgKHRoaXMucHJvcHMuYXV0b2ZvY3VzKSB7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcblx0XHRpZiAobmV4dFN0YXRlLmlzT3BlbiAhPT0gdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdHZhciBoYW5kbGVyID0gbmV4dFN0YXRlLmlzT3BlbiA/IG5leHRQcm9wcy5vbk9wZW4gOiBuZXh0UHJvcHMub25DbG9zZTtcblx0XHRcdGhhbmRsZXIgJiYgaGFuZGxlcigpO1xuXHRcdH1cblx0fSxcblxuXHRjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuXHRcdC8vIGZvY3VzIHRvIHRoZSBzZWxlY3RlZCBvcHRpb25cblx0XHRpZiAodGhpcy5yZWZzLm1lbnUgJiYgdGhpcy5yZWZzLmZvY3VzZWQgJiYgdGhpcy5zdGF0ZS5pc09wZW4gJiYgIXRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbikge1xuXHRcdFx0dmFyIGZvY3VzZWRPcHRpb25Ob2RlID0gX3JlYWN0RG9tMlsnZGVmYXVsdCddLmZpbmRET01Ob2RlKHRoaXMucmVmcy5mb2N1c2VkKTtcblx0XHRcdHZhciBtZW51Tm9kZSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWVudSk7XG5cdFx0XHRtZW51Tm9kZS5zY3JvbGxUb3AgPSBmb2N1c2VkT3B0aW9uTm9kZS5vZmZzZXRUb3A7XG5cdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHR0aGlzLmhhc1Njcm9sbGVkVG9PcHRpb24gPSBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAocHJldlN0YXRlLmlucHV0VmFsdWUgIT09IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSAmJiB0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UpIHtcblx0XHRcdHRoaXMucHJvcHMub25JbnB1dENoYW5nZSh0aGlzLnN0YXRlLmlucHV0VmFsdWUpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fc2Nyb2xsVG9Gb2N1c2VkT3B0aW9uT25VcGRhdGUgJiYgdGhpcy5yZWZzLmZvY3VzZWQgJiYgdGhpcy5yZWZzLm1lbnUpIHtcblx0XHRcdHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlID0gZmFsc2U7XG5cdFx0XHR2YXIgZm9jdXNlZERPTSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZm9jdXNlZCk7XG5cdFx0XHR2YXIgbWVudURPTSA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWVudSk7XG5cdFx0XHR2YXIgZm9jdXNlZFJlY3QgPSBmb2N1c2VkRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0dmFyIG1lbnVSZWN0ID0gbWVudURPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdGlmIChmb2N1c2VkUmVjdC5ib3R0b20gPiBtZW51UmVjdC5ib3R0b20gfHwgZm9jdXNlZFJlY3QudG9wIDwgbWVudVJlY3QudG9wKSB7XG5cdFx0XHRcdG1lbnVET00uc2Nyb2xsVG9wID0gZm9jdXNlZERPTS5vZmZzZXRUb3AgKyBmb2N1c2VkRE9NLmNsaWVudEhlaWdodCAtIG1lbnVET00ub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAodGhpcy5wcm9wcy5zY3JvbGxNZW51SW50b1ZpZXcgJiYgdGhpcy5yZWZzLm1lbnVDb250YWluZXIpIHtcblx0XHRcdHZhciBtZW51Q29udGFpbmVyUmVjdCA9IHRoaXMucmVmcy5tZW51Q29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0aWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IG1lbnVDb250YWluZXJSZWN0LmJvdHRvbSArIHRoaXMucHJvcHMubWVudUJ1ZmZlcikge1xuXHRcdFx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgd2luZG93LnNjcm9sbFkgKyBtZW51Q29udGFpbmVyUmVjdC5ib3R0b20gKyB0aGlzLnByb3BzLm1lbnVCdWZmZXIgLSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocHJldlByb3BzLmRpc2FibGVkICE9PSB0aGlzLnByb3BzLmRpc2FibGVkKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgaXNGb2N1c2VkOiBmYWxzZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1kaWQtdXBkYXRlLXNldC1zdGF0ZVxuXHRcdH1cblx0fSxcblxuXHRmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG5cdFx0aWYgKCF0aGlzLnJlZnMuaW5wdXQpIHJldHVybjtcblx0XHR0aGlzLnJlZnMuaW5wdXQuZm9jdXMoKTtcblx0fSxcblxuXHRibHVySW5wdXQ6IGZ1bmN0aW9uIGJsdXJJbnB1dCgpIHtcblx0XHRpZiAoIXRoaXMucmVmcy5pbnB1dCkgcmV0dXJuO1xuXHRcdHRoaXMucmVmcy5pbnB1dC5ibHVyKCk7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgbm90IGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hFbmQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKGV2ZW50KSB7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXG5cdFx0Ly8gRmlyZSB0aGUgbW91c2UgZXZlbnRzXG5cdFx0dGhpcy5oYW5kbGVNb3VzZURvd24oZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoRW5kQ2xlYXJWYWx1ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmRDbGVhclZhbHVlKGV2ZW50KSB7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRpZiAodGhpcy5kcmFnZ2luZykgcmV0dXJuO1xuXG5cdFx0Ly8gQ2xlYXIgdGhlIHZhbHVlXG5cdFx0dGhpcy5jbGVhclZhbHVlKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuXHRcdC8vIGlmIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgbW91c2Vkb3duIGFuZCBub3QgdGhlIHByaW1hcnlcblx0XHQvLyBidXR0b24sIG9yIGlmIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQsIGlnbm9yZSBpdC5cblx0XHRpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBwcmV2ZW50IGRlZmF1bHQgZXZlbnQgaGFuZGxlcnNcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gZm9yIHRoZSBub24tc2VhcmNoYWJsZSBzZWxlY3QsIHRvZ2dsZSB0aGUgbWVudVxuXHRcdGlmICghdGhpcy5wcm9wcy5zZWFyY2hhYmxlKSB7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogIXRoaXMuc3RhdGUuaXNPcGVuXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5zdGF0ZS5pc0ZvY3VzZWQpIHtcblx0XHRcdC8vIGlmIHRoZSBpbnB1dCBpcyBmb2N1c2VkLCBlbnN1cmUgdGhlIG1lbnUgaXMgb3BlblxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdFx0aXNQc2V1ZG9Gb2N1c2VkOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG90aGVyd2lzZSwgZm9jdXMgdGhlIGlucHV0IGFuZCBvcGVuIHRoZSBtZW51XG5cdFx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IHRydWU7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdGhhbmRsZU1vdXNlRG93bk9uQXJyb3c6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bk9uQXJyb3coZXZlbnQpIHtcblx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIElmIHRoZSBtZW51IGlzbid0IG9wZW4sIGxldCB0aGUgZXZlbnQgYnViYmxlIHRvIHRoZSBtYWluIGhhbmRsZU1vdXNlRG93blxuXHRcdGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Ly8gcHJldmVudCBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBjbG9zZSB0aGUgbWVudVxuXHRcdHRoaXMuY2xvc2VNZW51KCk7XG5cdH0sXG5cblx0aGFuZGxlTW91c2VEb3duT25NZW51OiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Pbk1lbnUoZXZlbnQpIHtcblx0XHQvLyBpZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIG1vdXNlZG93biBhbmQgbm90IHRoZSBwcmltYXJ5XG5cdFx0Ly8gYnV0dG9uLCBvciBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBpZ25vcmUgaXQuXG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR0aGlzLl9vcGVuQWZ0ZXJGb2N1cyA9IHRydWU7XG5cdFx0dGhpcy5mb2N1cygpO1xuXHR9LFxuXG5cdGNsb3NlTWVudTogZnVuY3Rpb24gY2xvc2VNZW51KCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdGlzUHNldWRvRm9jdXNlZDogdGhpcy5zdGF0ZS5pc0ZvY3VzZWQgJiYgIXRoaXMucHJvcHMubXVsdGksXG5cdFx0XHRpbnB1dFZhbHVlOiAnJ1xuXHRcdH0pO1xuXHRcdHRoaXMuaGFzU2Nyb2xsZWRUb09wdGlvbiA9IGZhbHNlO1xuXHR9LFxuXG5cdGhhbmRsZUlucHV0Rm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUlucHV0Rm9jdXMoZXZlbnQpIHtcblx0XHR2YXIgaXNPcGVuID0gdGhpcy5zdGF0ZS5pc09wZW4gfHwgdGhpcy5fb3BlbkFmdGVyRm9jdXM7XG5cdFx0aWYgKHRoaXMucHJvcHMub25Gb2N1cykge1xuXHRcdFx0dGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcblx0XHR9XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpc0ZvY3VzZWQ6IHRydWUsXG5cdFx0XHRpc09wZW46IGlzT3BlblxuXHRcdH0pO1xuXHRcdHRoaXMuX29wZW5BZnRlckZvY3VzID0gZmFsc2U7XG5cdH0sXG5cblx0aGFuZGxlSW5wdXRCbHVyOiBmdW5jdGlvbiBoYW5kbGVJbnB1dEJsdXIoZXZlbnQpIHtcblx0XHRpZiAodGhpcy5yZWZzLm1lbnUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pc0VxdWFsTm9kZSh0aGlzLnJlZnMubWVudSkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5wcm9wcy5vbkJsdXIpIHtcblx0XHRcdHRoaXMucHJvcHMub25CbHVyKGV2ZW50KTtcblx0XHR9XG5cdFx0dmFyIG9uQmx1cnJlZFN0YXRlID0ge1xuXHRcdFx0aXNGb2N1c2VkOiBmYWxzZSxcblx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHRpc1BzZXVkb0ZvY3VzZWQ6IGZhbHNlXG5cdFx0fTtcblx0XHRpZiAodGhpcy5wcm9wcy5vbkJsdXJSZXNldHNJbnB1dCkge1xuXHRcdFx0b25CbHVycmVkU3RhdGUuaW5wdXRWYWx1ZSA9ICcnO1xuXHRcdH1cblx0XHR0aGlzLnNldFN0YXRlKG9uQmx1cnJlZFN0YXRlKTtcblx0fSxcblxuXHRoYW5kbGVJbnB1dENoYW5nZTogZnVuY3Rpb24gaGFuZGxlSW5wdXRDaGFuZ2UoZXZlbnQpIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGlzT3BlbjogdHJ1ZSxcblx0XHRcdGlzUHNldWRvRm9jdXNlZDogZmFsc2UsXG5cdFx0XHRpbnB1dFZhbHVlOiBldmVudC50YXJnZXQudmFsdWVcblx0XHR9KTtcblx0fSxcblxuXHRoYW5kbGVLZXlEb3duOiBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHJldHVybjtcblx0XHRzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblx0XHRcdGNhc2UgODpcblx0XHRcdFx0Ly8gYmFja3NwYWNlXG5cdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5pbnB1dFZhbHVlICYmIHRoaXMucHJvcHMuYmFja3NwYWNlUmVtb3Zlcykge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0dGhpcy5wb3BWYWx1ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Ly8gdGFiXG5cdFx0XHRcdGlmIChldmVudC5zaGlmdEtleSB8fCAhdGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zZWxlY3RGb2N1c2VkT3B0aW9uKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdC8vIGVudGVyXG5cdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5pc09wZW4pIHJldHVybjtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdC8vIGVzY2FwZVxuXHRcdFx0XHRpZiAodGhpcy5zdGF0ZS5pc09wZW4pIHtcblx0XHRcdFx0XHR0aGlzLmNsb3NlTWVudSgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuY2xlYXJhYmxlICYmIHRoaXMucHJvcHMuZXNjYXBlQ2xlYXJzVmFsdWUpIHtcblx0XHRcdFx0XHR0aGlzLmNsZWFyVmFsdWUoZXZlbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0Ly8gdXBcblx0XHRcdFx0dGhpcy5mb2N1c1ByZXZpb3VzT3B0aW9uKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0Ly8gZG93blxuXHRcdFx0XHR0aGlzLmZvY3VzTmV4dE9wdGlvbigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdC8vIGNhc2UgMTg4OiAvLyAsXG5cdFx0XHQvLyBcdGlmICh0aGlzLnByb3BzLmFsbG93Q3JlYXRlICYmIHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdC8vIFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0Ly8gXHRcdHRoaXMuc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuXHRcdFx0Ly8gXHR9IGVsc2Uge1xuXHRcdFx0Ly8gXHRcdHJldHVybjtcblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gYnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0sXG5cblx0aGFuZGxlVmFsdWVDbGljazogZnVuY3Rpb24gaGFuZGxlVmFsdWVDbGljayhvcHRpb24sIGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLnByb3BzLm9uVmFsdWVDbGljaykgcmV0dXJuO1xuXHRcdHRoaXMucHJvcHMub25WYWx1ZUNsaWNrKG9wdGlvbiwgZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZU1lbnVTY3JvbGw6IGZ1bmN0aW9uIGhhbmRsZU1lbnVTY3JvbGwoZXZlbnQpIHtcblx0XHRpZiAoIXRoaXMucHJvcHMub25NZW51U2Nyb2xsVG9Cb3R0b20pIHJldHVybjtcblx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXG5cdFx0aWYgKHRhcmdldC5zY3JvbGxIZWlnaHQgPiB0YXJnZXQub2Zmc2V0SGVpZ2h0ICYmICEodGFyZ2V0LnNjcm9sbEhlaWdodCAtIHRhcmdldC5vZmZzZXRIZWlnaHQgLSB0YXJnZXQuc2Nyb2xsVG9wKSkge1xuXHRcdFx0dGhpcy5wcm9wcy5vbk1lbnVTY3JvbGxUb0JvdHRvbSgpO1xuXHRcdH1cblx0fSxcblxuXHRoYW5kbGVSZXF1aXJlZDogZnVuY3Rpb24gaGFuZGxlUmVxdWlyZWQodmFsdWUsIG11bHRpKSB7XG5cdFx0aWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XG5cdFx0cmV0dXJuIG11bHRpID8gdmFsdWUubGVuZ3RoID09PSAwIDogT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMDtcblx0fSxcblxuXHRnZXRPcHRpb25MYWJlbDogZnVuY3Rpb24gZ2V0T3B0aW9uTGFiZWwob3ApIHtcblx0XHRyZXR1cm4gb3BbdGhpcy5wcm9wcy5sYWJlbEtleV07XG5cdH0sXG5cblx0Z2V0VmFsdWVBcnJheTogZnVuY3Rpb24gZ2V0VmFsdWVBcnJheSgpIHtcblx0XHR2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlO1xuXHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgdmFsdWUgPSB2YWx1ZS5zcGxpdCh0aGlzLnByb3BzLmRlbGltaXRlcik7XG5cdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG5cdFx0XHRcdHZhbHVlID0gW3ZhbHVlXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZS5tYXAodGhpcy5leHBhbmRWYWx1ZSkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHZhciBleHBhbmRlZFZhbHVlID0gdGhpcy5leHBhbmRWYWx1ZSh2YWx1ZSk7XG5cdFx0cmV0dXJuIGV4cGFuZGVkVmFsdWUgPyBbZXhwYW5kZWRWYWx1ZV0gOiBbXTtcblx0fSxcblxuXHRleHBhbmRWYWx1ZTogZnVuY3Rpb24gZXhwYW5kVmFsdWUodmFsdWUpIHtcblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSByZXR1cm4gdmFsdWU7XG5cdFx0dmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdFx0dmFyIG9wdGlvbnMgPSBfcHJvcHMub3B0aW9ucztcblx0XHR2YXIgdmFsdWVLZXkgPSBfcHJvcHMudmFsdWVLZXk7XG5cblx0XHRpZiAoIW9wdGlvbnMpIHJldHVybjtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChvcHRpb25zW2ldW3ZhbHVlS2V5XSA9PT0gdmFsdWUpIHJldHVybiBvcHRpb25zW2ldO1xuXHRcdH1cblx0fSxcblxuXHRzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0aWYgKHRoaXMucHJvcHMuYXV0b0JsdXIpIHtcblx0XHRcdHRoaXMuYmx1cklucHV0KCk7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5wcm9wcy5vbkNoYW5nZSkgcmV0dXJuO1xuXHRcdGlmICh0aGlzLnByb3BzLnJlcXVpcmVkKSB7XG5cdFx0XHR2YXIgcmVxdWlyZWQgPSB0aGlzLmhhbmRsZVJlcXVpcmVkKHZhbHVlLCB0aGlzLnByb3BzLm11bHRpKTtcblx0XHRcdHRoaXMuc2V0U3RhdGUoeyByZXF1aXJlZDogcmVxdWlyZWQgfSk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnByb3BzLnNpbXBsZVZhbHVlICYmIHZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMucHJvcHMubXVsdGkgPyB2YWx1ZS5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdFx0cmV0dXJuIGlbX3RoaXMucHJvcHMudmFsdWVLZXldO1xuXHRcdFx0fSkuam9pbih0aGlzLnByb3BzLmRlbGltaXRlcikgOiB2YWx1ZVt0aGlzLnByb3BzLnZhbHVlS2V5XTtcblx0XHR9XG5cdFx0dGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG5cdH0sXG5cblx0c2VsZWN0VmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFZhbHVlKHZhbHVlKSB7XG5cdFx0dGhpcy5oYXNTY3JvbGxlZFRvT3B0aW9uID0gZmFsc2U7XG5cdFx0aWYgKHRoaXMucHJvcHMubXVsdGkpIHtcblx0XHRcdHRoaXMuYWRkVmFsdWUodmFsdWUpO1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlucHV0VmFsdWU6ICcnXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdFx0aW5wdXRWYWx1ZTogJycsXG5cdFx0XHRcdGlzUHNldWRvRm9jdXNlZDogdGhpcy5zdGF0ZS5pc0ZvY3VzZWRcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblxuXHRhZGRWYWx1ZTogZnVuY3Rpb24gYWRkVmFsdWUodmFsdWUpIHtcblx0XHR2YXIgdmFsdWVBcnJheSA9IHRoaXMuZ2V0VmFsdWVBcnJheSgpO1xuXHRcdHRoaXMuc2V0VmFsdWUodmFsdWVBcnJheS5jb25jYXQodmFsdWUpKTtcblx0fSxcblxuXHRwb3BWYWx1ZTogZnVuY3Rpb24gcG9wVmFsdWUoKSB7XG5cdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHRpZiAoIXZhbHVlQXJyYXkubGVuZ3RoKSByZXR1cm47XG5cdFx0aWYgKHZhbHVlQXJyYXlbdmFsdWVBcnJheS5sZW5ndGggLSAxXS5jbGVhcmFibGVWYWx1ZSA9PT0gZmFsc2UpIHJldHVybjtcblx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuc2xpY2UoMCwgdmFsdWVBcnJheS5sZW5ndGggLSAxKSk7XG5cdH0sXG5cblx0cmVtb3ZlVmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVZhbHVlKHZhbHVlKSB7XG5cdFx0dmFyIHZhbHVlQXJyYXkgPSB0aGlzLmdldFZhbHVlQXJyYXkoKTtcblx0XHR0aGlzLnNldFZhbHVlKHZhbHVlQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRyZXR1cm4gaSAhPT0gdmFsdWU7XG5cdFx0fSkpO1xuXHRcdHRoaXMuZm9jdXMoKTtcblx0fSxcblxuXHRjbGVhclZhbHVlOiBmdW5jdGlvbiBjbGVhclZhbHVlKGV2ZW50KSB7XG5cdFx0Ly8gaWYgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBtb3VzZWRvd24gYW5kIG5vdCB0aGUgcHJpbWFyeVxuXHRcdC8vIGJ1dHRvbiwgaWdub3JlIGl0LlxuXHRcdGlmIChldmVudCAmJiBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiBldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLnNldFZhbHVlKG51bGwpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aXNPcGVuOiBmYWxzZSxcblx0XHRcdGlucHV0VmFsdWU6ICcnXG5cdFx0fSwgdGhpcy5mb2N1cyk7XG5cdH0sXG5cblx0Zm9jdXNPcHRpb246IGZ1bmN0aW9uIGZvY3VzT3B0aW9uKG9wdGlvbikge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0Zm9jdXNlZE9wdGlvbjogb3B0aW9uXG5cdFx0fSk7XG5cdH0sXG5cblx0Zm9jdXNOZXh0T3B0aW9uOiBmdW5jdGlvbiBmb2N1c05leHRPcHRpb24oKSB7XG5cdFx0dGhpcy5mb2N1c0FkamFjZW50T3B0aW9uKCduZXh0Jyk7XG5cdH0sXG5cblx0Zm9jdXNQcmV2aW91c09wdGlvbjogZnVuY3Rpb24gZm9jdXNQcmV2aW91c09wdGlvbigpIHtcblx0XHR0aGlzLmZvY3VzQWRqYWNlbnRPcHRpb24oJ3ByZXZpb3VzJyk7XG5cdH0sXG5cblx0Zm9jdXNBZGphY2VudE9wdGlvbjogZnVuY3Rpb24gZm9jdXNBZGphY2VudE9wdGlvbihkaXIpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3Zpc2libGVPcHRpb25zLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHRcdFx0cmV0dXJuICFpLmRpc2FibGVkO1xuXHRcdH0pO1xuXHRcdHRoaXMuX3Njcm9sbFRvRm9jdXNlZE9wdGlvbk9uVXBkYXRlID0gdHJ1ZTtcblx0XHRpZiAoIXRoaXMuc3RhdGUuaXNPcGVuKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXNPcGVuOiB0cnVlLFxuXHRcdFx0XHRpbnB1dFZhbHVlOiAnJyxcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbjogdGhpcy5fZm9jdXNlZE9wdGlvbiB8fCBvcHRpb25zW2RpciA9PT0gJ25leHQnID8gMCA6IG9wdGlvbnMubGVuZ3RoIC0gMV1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIW9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG5cdFx0dmFyIGZvY3VzZWRJbmRleCA9IC0xO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHRoaXMuX2ZvY3VzZWRPcHRpb24gPT09IG9wdGlvbnNbaV0pIHtcblx0XHRcdFx0Zm9jdXNlZEluZGV4ID0gaTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHZhciBmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1swXTtcblx0XHRpZiAoZGlyID09PSAnbmV4dCcgJiYgZm9jdXNlZEluZGV4ID4gLTEgJiYgZm9jdXNlZEluZGV4IDwgb3B0aW9ucy5sZW5ndGggLSAxKSB7XG5cdFx0XHRmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1tmb2N1c2VkSW5kZXggKyAxXTtcblx0XHR9IGVsc2UgaWYgKGRpciA9PT0gJ3ByZXZpb3VzJykge1xuXHRcdFx0aWYgKGZvY3VzZWRJbmRleCA+IDApIHtcblx0XHRcdFx0Zm9jdXNlZE9wdGlvbiA9IG9wdGlvbnNbZm9jdXNlZEluZGV4IC0gMV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb2N1c2VkT3B0aW9uID0gb3B0aW9uc1tvcHRpb25zLmxlbmd0aCAtIDFdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGZvY3VzZWRPcHRpb246IGZvY3VzZWRPcHRpb25cblx0XHR9KTtcblx0fSxcblxuXHRzZWxlY3RGb2N1c2VkT3B0aW9uOiBmdW5jdGlvbiBzZWxlY3RGb2N1c2VkT3B0aW9uKCkge1xuXHRcdC8vIGlmICh0aGlzLnByb3BzLmFsbG93Q3JlYXRlICYmICF0aGlzLnN0YXRlLmZvY3VzZWRPcHRpb24pIHtcblx0XHQvLyBcdHJldHVybiB0aGlzLnNlbGVjdFZhbHVlKHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSk7XG5cdFx0Ly8gfVxuXHRcdGlmICh0aGlzLl9mb2N1c2VkT3B0aW9uKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZWxlY3RWYWx1ZSh0aGlzLl9mb2N1c2VkT3B0aW9uKTtcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyTG9hZGluZzogZnVuY3Rpb24gcmVuZGVyTG9hZGluZygpIHtcblx0XHRpZiAoIXRoaXMucHJvcHMuaXNMb2FkaW5nKSByZXR1cm47XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3NwYW4nLFxuXHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtbG9hZGluZy16b25lJywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0sXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWxvYWRpbmcnIH0pXG5cdFx0KTtcblx0fSxcblxuXHRyZW5kZXJWYWx1ZTogZnVuY3Rpb24gcmVuZGVyVmFsdWUodmFsdWVBcnJheSwgaXNPcGVuKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHR2YXIgcmVuZGVyTGFiZWwgPSB0aGlzLnByb3BzLnZhbHVlUmVuZGVyZXIgfHwgdGhpcy5nZXRPcHRpb25MYWJlbDtcblx0XHR2YXIgVmFsdWVDb21wb25lbnQgPSB0aGlzLnByb3BzLnZhbHVlQ29tcG9uZW50O1xuXHRcdGlmICghdmFsdWVBcnJheS5sZW5ndGgpIHtcblx0XHRcdHJldHVybiAhdGhpcy5zdGF0ZS5pbnB1dFZhbHVlID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogJ1NlbGVjdC1wbGFjZWhvbGRlcicgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5wbGFjZWhvbGRlclxuXHRcdFx0KSA6IG51bGw7XG5cdFx0fVxuXHRcdHZhciBvbkNsaWNrID0gdGhpcy5wcm9wcy5vblZhbHVlQ2xpY2sgPyB0aGlzLmhhbmRsZVZhbHVlQ2xpY2sgOiBudWxsO1xuXHRcdGlmICh0aGlzLnByb3BzLm11bHRpKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWVBcnJheS5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG5cdFx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRWYWx1ZUNvbXBvbmVudCxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkaXNhYmxlZDogX3RoaXMyLnByb3BzLmRpc2FibGVkIHx8IHZhbHVlLmNsZWFyYWJsZVZhbHVlID09PSBmYWxzZSxcblx0XHRcdFx0XHRcdGtleTogJ3ZhbHVlLScgKyBpICsgJy0nICsgdmFsdWVbX3RoaXMyLnByb3BzLnZhbHVlS2V5XSxcblx0XHRcdFx0XHRcdG9uQ2xpY2s6IG9uQ2xpY2ssXG5cdFx0XHRcdFx0XHRvblJlbW92ZTogX3RoaXMyLnJlbW92ZVZhbHVlLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRyZW5kZXJMYWJlbCh2YWx1ZSlcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSkge1xuXHRcdFx0aWYgKGlzT3Blbikgb25DbGljayA9IG51bGw7XG5cdFx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFZhbHVlQ29tcG9uZW50LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQsXG5cdFx0XHRcdFx0b25DbGljazogb25DbGljayxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVBcnJheVswXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZW5kZXJMYWJlbCh2YWx1ZUFycmF5WzBdKVxuXHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVySW5wdXQ6IGZ1bmN0aW9uIHJlbmRlcklucHV0KHZhbHVlQXJyYXkpIHtcblx0XHR2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKSgnU2VsZWN0LWlucHV0JywgdGhpcy5wcm9wcy5pbnB1dFByb3BzLmNsYXNzTmFtZSk7XG5cdFx0aWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgIXRoaXMucHJvcHMuc2VhcmNoYWJsZSkge1xuXHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLCB7XG5cdFx0XHRcdGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHRcdFx0XHR0YWJJbmRleDogdGhpcy5wcm9wcy50YWJJbmRleCB8fCAwLFxuXHRcdFx0XHRvbkJsdXI6IHRoaXMuaGFuZGxlSW5wdXRCbHVyLFxuXHRcdFx0XHRvbkZvY3VzOiB0aGlzLmhhbmRsZUlucHV0Rm9jdXMsXG5cdFx0XHRcdHJlZjogJ2lucHV0Jyxcblx0XHRcdFx0c3R5bGU6IHsgYm9yZGVyOiAwLCB3aWR0aDogMSwgZGlzcGxheTogJ2lubGluZS1ibG9jaycgfSB9KSk7XG5cdFx0fVxuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfcmVhY3RJbnB1dEF1dG9zaXplMlsnZGVmYXVsdCddLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLCB7XG5cdFx0XHRjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0XHRcdHRhYkluZGV4OiB0aGlzLnByb3BzLnRhYkluZGV4LFxuXHRcdFx0b25CbHVyOiB0aGlzLmhhbmRsZUlucHV0Qmx1cixcblx0XHRcdG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLFxuXHRcdFx0b25Gb2N1czogdGhpcy5oYW5kbGVJbnB1dEZvY3VzLFxuXHRcdFx0bWluV2lkdGg6ICc1Jyxcblx0XHRcdHJlZjogJ2lucHV0Jyxcblx0XHRcdHJlcXVpcmVkOiB0aGlzLnN0YXRlLnJlcXVpcmVkLFxuXHRcdFx0dmFsdWU6IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZVxuXHRcdH0pKTtcblx0fSxcblxuXHRyZW5kZXJDbGVhcjogZnVuY3Rpb24gcmVuZGVyQ2xlYXIoKSB7XG5cdFx0aWYgKCF0aGlzLnByb3BzLmNsZWFyYWJsZSB8fCAhdGhpcy5wcm9wcy52YWx1ZSB8fCB0aGlzLnByb3BzLm11bHRpICYmICF0aGlzLnByb3BzLnZhbHVlLmxlbmd0aCB8fCB0aGlzLnByb3BzLmRpc2FibGVkIHx8IHRoaXMucHJvcHMuaXNMb2FkaW5nKSByZXR1cm47XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3NwYW4nLFxuXHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtY2xlYXItem9uZScsIHRpdGxlOiB0aGlzLnByb3BzLm11bHRpID8gdGhpcy5wcm9wcy5jbGVhckFsbFRleHQgOiB0aGlzLnByb3BzLmNsZWFyVmFsdWVUZXh0LFxuXHRcdFx0XHQnYXJpYS1sYWJlbCc6IHRoaXMucHJvcHMubXVsdGkgPyB0aGlzLnByb3BzLmNsZWFyQWxsVGV4dCA6IHRoaXMucHJvcHMuY2xlYXJWYWx1ZVRleHQsXG5cdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmNsZWFyVmFsdWUsXG5cdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG5cdFx0XHRcdG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmRDbGVhclZhbHVlIH0sXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWNsZWFyJywgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiAnJnRpbWVzOycgfSB9KVxuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyQXJyb3c6IGZ1bmN0aW9uIHJlbmRlckFycm93KCkge1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdCdzcGFuJyxcblx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LWFycm93LXpvbmUnLCBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd25PbkFycm93IH0sXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnU2VsZWN0LWFycm93Jywgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duT25BcnJvdyB9KVxuXHRcdCk7XG5cdH0sXG5cblx0ZmlsdGVyT3B0aW9uczogZnVuY3Rpb24gZmlsdGVyT3B0aW9ucyhleGNsdWRlT3B0aW9ucykge1xuXHRcdHZhciBfdGhpczMgPSB0aGlzO1xuXG5cdFx0dmFyIGZpbHRlclZhbHVlID0gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlO1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zIHx8IFtdO1xuXHRcdGlmICh0eXBlb2YgdGhpcy5wcm9wcy5maWx0ZXJPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5maWx0ZXJPcHRpb25zLmNhbGwodGhpcywgb3B0aW9ucywgZmlsdGVyVmFsdWUsIGV4Y2x1ZGVPcHRpb25zKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuZmlsdGVyT3B0aW9ucykge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuaWdub3JlQWNjZW50cykge1xuXHRcdFx0XHRmaWx0ZXJWYWx1ZSA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKGZpbHRlclZhbHVlKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnByb3BzLmlnbm9yZUNhc2UpIHtcblx0XHRcdFx0ZmlsdGVyVmFsdWUgPSBmaWx0ZXJWYWx1ZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGV4Y2x1ZGVPcHRpb25zKSBleGNsdWRlT3B0aW9ucyA9IGV4Y2x1ZGVPcHRpb25zLm1hcChmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRyZXR1cm4gaVtfdGhpczMucHJvcHMudmFsdWVLZXldO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvbikge1xuXHRcdFx0XHRpZiAoZXhjbHVkZU9wdGlvbnMgJiYgZXhjbHVkZU9wdGlvbnMuaW5kZXhPZihvcHRpb25bX3RoaXMzLnByb3BzLnZhbHVlS2V5XSkgPiAtMSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmZpbHRlck9wdGlvbikgcmV0dXJuIF90aGlzMy5wcm9wcy5maWx0ZXJPcHRpb24uY2FsbChfdGhpczMsIG9wdGlvbiwgZmlsdGVyVmFsdWUpO1xuXHRcdFx0XHRpZiAoIWZpbHRlclZhbHVlKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFx0dmFyIHZhbHVlVGVzdCA9IFN0cmluZyhvcHRpb25bX3RoaXMzLnByb3BzLnZhbHVlS2V5XSk7XG5cdFx0XHRcdHZhciBsYWJlbFRlc3QgPSBTdHJpbmcob3B0aW9uW190aGlzMy5wcm9wcy5sYWJlbEtleV0pO1xuXHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmlnbm9yZUFjY2VudHMpIHtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJykgdmFsdWVUZXN0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkodmFsdWVUZXN0KTtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJykgbGFiZWxUZXN0ID0gKDAsIF91dGlsc1N0cmlwRGlhY3JpdGljczJbJ2RlZmF1bHQnXSkobGFiZWxUZXN0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLmlnbm9yZUNhc2UpIHtcblx0XHRcdFx0XHRpZiAoX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJykgdmFsdWVUZXN0ID0gdmFsdWVUZXN0LnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0aWYgKF90aGlzMy5wcm9wcy5tYXRjaFByb3AgIT09ICd2YWx1ZScpIGxhYmVsVGVzdCA9IGxhYmVsVGVzdC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBfdGhpczMucHJvcHMubWF0Y2hQb3MgPT09ICdzdGFydCcgPyBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAnbGFiZWwnICYmIHZhbHVlVGVzdC5zdWJzdHIoMCwgZmlsdGVyVmFsdWUubGVuZ3RoKSA9PT0gZmlsdGVyVmFsdWUgfHwgX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ3ZhbHVlJyAmJiBsYWJlbFRlc3Quc3Vic3RyKDAsIGZpbHRlclZhbHVlLmxlbmd0aCkgPT09IGZpbHRlclZhbHVlIDogX3RoaXMzLnByb3BzLm1hdGNoUHJvcCAhPT0gJ2xhYmVsJyAmJiB2YWx1ZVRlc3QuaW5kZXhPZihmaWx0ZXJWYWx1ZSkgPj0gMCB8fCBfdGhpczMucHJvcHMubWF0Y2hQcm9wICE9PSAndmFsdWUnICYmIGxhYmVsVGVzdC5pbmRleE9mKGZpbHRlclZhbHVlKSA+PSAwO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBvcHRpb25zO1xuXHRcdH1cblx0fSxcblxuXHRyZW5kZXJNZW51OiBmdW5jdGlvbiByZW5kZXJNZW51KG9wdGlvbnMsIHZhbHVlQXJyYXksIGZvY3VzZWRPcHRpb24pIHtcblx0XHR2YXIgX3RoaXM0ID0gdGhpcztcblxuXHRcdGlmIChvcHRpb25zICYmIG9wdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgX3JldCA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBPcHRpb24gPSBfdGhpczQucHJvcHMub3B0aW9uQ29tcG9uZW50O1xuXHRcdFx0XHR2YXIgcmVuZGVyTGFiZWwgPSBfdGhpczQucHJvcHMub3B0aW9uUmVuZGVyZXIgfHwgX3RoaXM0LmdldE9wdGlvbkxhYmVsO1xuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0djogb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaSkge1xuXHRcdFx0XHRcdFx0dmFyIGlzU2VsZWN0ZWQgPSB2YWx1ZUFycmF5ICYmIHZhbHVlQXJyYXkuaW5kZXhPZihvcHRpb24pID4gLTE7XG5cdFx0XHRcdFx0XHR2YXIgaXNGb2N1c2VkID0gb3B0aW9uID09PSBmb2N1c2VkT3B0aW9uO1xuXHRcdFx0XHRcdFx0dmFyIG9wdGlvblJlZiA9IGlzRm9jdXNlZCA/ICdmb2N1c2VkJyA6IG51bGw7XG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9uQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKHtcblx0XHRcdFx0XHRcdFx0J1NlbGVjdC1vcHRpb24nOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHQnaXMtc2VsZWN0ZWQnOiBpc1NlbGVjdGVkLFxuXHRcdFx0XHRcdFx0XHQnaXMtZm9jdXNlZCc6IGlzRm9jdXNlZCxcblx0XHRcdFx0XHRcdFx0J2lzLWRpc2FibGVkJzogb3B0aW9uLmRpc2FibGVkXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRPcHRpb24sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6IG9wdGlvbkNsYXNzLFxuXHRcdFx0XHRcdFx0XHRcdGlzRGlzYWJsZWQ6IG9wdGlvbi5kaXNhYmxlZCxcblx0XHRcdFx0XHRcdFx0XHRpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcblx0XHRcdFx0XHRcdFx0XHRrZXk6ICdvcHRpb24tJyArIGkgKyAnLScgKyBvcHRpb25bX3RoaXM0LnByb3BzLnZhbHVlS2V5XSxcblx0XHRcdFx0XHRcdFx0XHRvblNlbGVjdDogX3RoaXM0LnNlbGVjdFZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdG9uRm9jdXM6IF90aGlzNC5mb2N1c09wdGlvbixcblx0XHRcdFx0XHRcdFx0XHRvcHRpb246IG9wdGlvbixcblx0XHRcdFx0XHRcdFx0XHRpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuXHRcdFx0XHRcdFx0XHRcdHJlZjogb3B0aW9uUmVmXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJlbmRlckxhYmVsKG9wdGlvbilcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fTtcblx0XHRcdH0pKCk7XG5cblx0XHRcdGlmICh0eXBlb2YgX3JldCA9PT0gJ29iamVjdCcpIHJldHVybiBfcmV0LnY7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnByb3BzLm5vUmVzdWx0c1RleHQpIHtcblx0XHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAnU2VsZWN0LW5vcmVzdWx0cycgfSxcblx0XHRcdFx0dGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0XG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVySGlkZGVuRmllbGQ6IGZ1bmN0aW9uIHJlbmRlckhpZGRlbkZpZWxkKHZhbHVlQXJyYXkpIHtcblx0XHR2YXIgX3RoaXM1ID0gdGhpcztcblxuXHRcdGlmICghdGhpcy5wcm9wcy5uYW1lKSByZXR1cm47XG5cdFx0dmFyIHZhbHVlID0gdmFsdWVBcnJheS5tYXAoZnVuY3Rpb24gKGkpIHtcblx0XHRcdHJldHVybiBzdHJpbmdpZnlWYWx1ZShpW190aGlzNS5wcm9wcy52YWx1ZUtleV0pO1xuXHRcdH0pLmpvaW4odGhpcy5wcm9wcy5kZWxpbWl0ZXIpO1xuXHRcdHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdoaWRkZW4nLCByZWY6ICd2YWx1ZScsIG5hbWU6IHRoaXMucHJvcHMubmFtZSwgdmFsdWU6IHZhbHVlLCBkaXNhYmxlZDogdGhpcy5wcm9wcy5kaXNhYmxlZCB9KTtcblx0fSxcblxuXHRnZXRGb2N1c2FibGVPcHRpb246IGZ1bmN0aW9uIGdldEZvY3VzYWJsZU9wdGlvbihzZWxlY3RlZE9wdGlvbikge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5fdmlzaWJsZU9wdGlvbnM7XG5cdFx0aWYgKCFvcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuXHRcdHZhciBmb2N1c2VkT3B0aW9uID0gdGhpcy5zdGF0ZS5mb2N1c2VkT3B0aW9uIHx8IHNlbGVjdGVkT3B0aW9uO1xuXHRcdGlmIChmb2N1c2VkT3B0aW9uICYmIG9wdGlvbnMuaW5kZXhPZihmb2N1c2VkT3B0aW9uKSA+IC0xKSByZXR1cm4gZm9jdXNlZE9wdGlvbjtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICghb3B0aW9uc1tpXS5kaXNhYmxlZCkgcmV0dXJuIG9wdGlvbnNbaV07XG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdHZhciB2YWx1ZUFycmF5ID0gdGhpcy5nZXRWYWx1ZUFycmF5KCk7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl92aXNpYmxlT3B0aW9ucyA9IHRoaXMuZmlsdGVyT3B0aW9ucyh0aGlzLnByb3BzLm11bHRpID8gdmFsdWVBcnJheSA6IG51bGwpO1xuXHRcdHZhciBpc09wZW4gPSB0aGlzLnN0YXRlLmlzT3Blbjtcblx0XHRpZiAodGhpcy5wcm9wcy5tdWx0aSAmJiAhb3B0aW9ucy5sZW5ndGggJiYgdmFsdWVBcnJheS5sZW5ndGggJiYgIXRoaXMuc3RhdGUuaW5wdXRWYWx1ZSkgaXNPcGVuID0gZmFsc2U7XG5cdFx0dmFyIGZvY3VzZWRPcHRpb24gPSB0aGlzLl9mb2N1c2VkT3B0aW9uID0gdGhpcy5nZXRGb2N1c2FibGVPcHRpb24odmFsdWVBcnJheVswXSk7XG5cdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkoJ1NlbGVjdCcsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCB7XG5cdFx0XHQnU2VsZWN0LS1tdWx0aSc6IHRoaXMucHJvcHMubXVsdGksXG5cdFx0XHQnaXMtZGlzYWJsZWQnOiB0aGlzLnByb3BzLmRpc2FibGVkLFxuXHRcdFx0J2lzLWZvY3VzZWQnOiB0aGlzLnN0YXRlLmlzRm9jdXNlZCxcblx0XHRcdCdpcy1sb2FkaW5nJzogdGhpcy5wcm9wcy5pc0xvYWRpbmcsXG5cdFx0XHQnaXMtb3Blbic6IGlzT3Blbixcblx0XHRcdCdpcy1wc2V1ZG8tZm9jdXNlZCc6IHRoaXMuc3RhdGUuaXNQc2V1ZG9Gb2N1c2VkLFxuXHRcdFx0J2lzLXNlYXJjaGFibGUnOiB0aGlzLnByb3BzLnNlYXJjaGFibGUsXG5cdFx0XHQnaGFzLXZhbHVlJzogdmFsdWVBcnJheS5sZW5ndGhcblx0XHR9KTtcblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdHsgcmVmOiAnd3JhcHBlcicsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogdGhpcy5wcm9wcy53cmFwcGVyU3R5bGUgfSxcblx0XHRcdHRoaXMucmVuZGVySGlkZGVuRmllbGQodmFsdWVBcnJheSksXG5cdFx0XHRfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgcmVmOiAnY29udHJvbCcsXG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiAnU2VsZWN0LWNvbnRyb2wnLFxuXHRcdFx0XHRcdHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuXHRcdFx0XHRcdG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuXHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bixcblx0XHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuXHRcdFx0XHRcdG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuXHRcdFx0XHRcdG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSB9LFxuXHRcdFx0XHR0aGlzLnJlbmRlclZhbHVlKHZhbHVlQXJyYXksIGlzT3BlbiksXG5cdFx0XHRcdHRoaXMucmVuZGVySW5wdXQodmFsdWVBcnJheSksXG5cdFx0XHRcdHRoaXMucmVuZGVyTG9hZGluZygpLFxuXHRcdFx0XHR0aGlzLnJlbmRlckNsZWFyKCksXG5cdFx0XHRcdHRoaXMucmVuZGVyQXJyb3coKVxuXHRcdFx0KSxcblx0XHRcdGlzT3BlbiA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyByZWY6ICdtZW51Q29udGFpbmVyJywgY2xhc3NOYW1lOiAnU2VsZWN0LW1lbnUtb3V0ZXInLCBzdHlsZTogdGhpcy5wcm9wcy5tZW51Q29udGFpbmVyU3R5bGUgfSxcblx0XHRcdFx0X3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0eyByZWY6ICdtZW51JywgY2xhc3NOYW1lOiAnU2VsZWN0LW1lbnUnLFxuXHRcdFx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMubWVudVN0eWxlLFxuXHRcdFx0XHRcdFx0b25TY3JvbGw6IHRoaXMuaGFuZGxlTWVudVNjcm9sbCxcblx0XHRcdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bk9uTWVudSB9LFxuXHRcdFx0XHRcdHRoaXMucmVuZGVyTWVudShvcHRpb25zLCAhdGhpcy5wcm9wcy5tdWx0aSA/IHZhbHVlQXJyYXkgOiBudWxsLCBmb2N1c2VkT3B0aW9uKVxuXHRcdFx0XHQpXG5cdFx0XHQpIDogbnVsbFxuXHRcdCk7XG5cdH1cblxufSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNlbGVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9saWIvU2VsZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIG1hcCA9IFt7ICdiYXNlJzogJ0EnLCAnbGV0dGVycyc6IC9bXFx1MDA0MVxcdTI0QjZcXHVGRjIxXFx1MDBDMFxcdTAwQzFcXHUwMEMyXFx1MUVBNlxcdTFFQTRcXHUxRUFBXFx1MUVBOFxcdTAwQzNcXHUwMTAwXFx1MDEwMlxcdTFFQjBcXHUxRUFFXFx1MUVCNFxcdTFFQjJcXHUwMjI2XFx1MDFFMFxcdTAwQzRcXHUwMURFXFx1MUVBMlxcdTAwQzVcXHUwMUZBXFx1MDFDRFxcdTAyMDBcXHUwMjAyXFx1MUVBMFxcdTFFQUNcXHUxRUI2XFx1MUUwMFxcdTAxMDRcXHUwMjNBXFx1MkM2Rl0vZyB9LCB7ICdiYXNlJzogJ0FBJywgJ2xldHRlcnMnOiAvW1xcdUE3MzJdL2cgfSwgeyAnYmFzZSc6ICdBRScsICdsZXR0ZXJzJzogL1tcXHUwMEM2XFx1MDFGQ1xcdTAxRTJdL2cgfSwgeyAnYmFzZSc6ICdBTycsICdsZXR0ZXJzJzogL1tcXHVBNzM0XS9nIH0sIHsgJ2Jhc2UnOiAnQVUnLCAnbGV0dGVycyc6IC9bXFx1QTczNl0vZyB9LCB7ICdiYXNlJzogJ0FWJywgJ2xldHRlcnMnOiAvW1xcdUE3MzhcXHVBNzNBXS9nIH0sIHsgJ2Jhc2UnOiAnQVknLCAnbGV0dGVycyc6IC9bXFx1QTczQ10vZyB9LCB7ICdiYXNlJzogJ0InLCAnbGV0dGVycyc6IC9bXFx1MDA0MlxcdTI0QjdcXHVGRjIyXFx1MUUwMlxcdTFFMDRcXHUxRTA2XFx1MDI0M1xcdTAxODJcXHUwMTgxXS9nIH0sIHsgJ2Jhc2UnOiAnQycsICdsZXR0ZXJzJzogL1tcXHUwMDQzXFx1MjRCOFxcdUZGMjNcXHUwMTA2XFx1MDEwOFxcdTAxMEFcXHUwMTBDXFx1MDBDN1xcdTFFMDhcXHUwMTg3XFx1MDIzQlxcdUE3M0VdL2cgfSwgeyAnYmFzZSc6ICdEJywgJ2xldHRlcnMnOiAvW1xcdTAwNDRcXHUyNEI5XFx1RkYyNFxcdTFFMEFcXHUwMTBFXFx1MUUwQ1xcdTFFMTBcXHUxRTEyXFx1MUUwRVxcdTAxMTBcXHUwMThCXFx1MDE4QVxcdTAxODlcXHVBNzc5XS9nIH0sIHsgJ2Jhc2UnOiAnRFonLCAnbGV0dGVycyc6IC9bXFx1MDFGMVxcdTAxQzRdL2cgfSwgeyAnYmFzZSc6ICdEeicsICdsZXR0ZXJzJzogL1tcXHUwMUYyXFx1MDFDNV0vZyB9LCB7ICdiYXNlJzogJ0UnLCAnbGV0dGVycyc6IC9bXFx1MDA0NVxcdTI0QkFcXHVGRjI1XFx1MDBDOFxcdTAwQzlcXHUwMENBXFx1MUVDMFxcdTFFQkVcXHUxRUM0XFx1MUVDMlxcdTFFQkNcXHUwMTEyXFx1MUUxNFxcdTFFMTZcXHUwMTE0XFx1MDExNlxcdTAwQ0JcXHUxRUJBXFx1MDExQVxcdTAyMDRcXHUwMjA2XFx1MUVCOFxcdTFFQzZcXHUwMjI4XFx1MUUxQ1xcdTAxMThcXHUxRTE4XFx1MUUxQVxcdTAxOTBcXHUwMThFXS9nIH0sIHsgJ2Jhc2UnOiAnRicsICdsZXR0ZXJzJzogL1tcXHUwMDQ2XFx1MjRCQlxcdUZGMjZcXHUxRTFFXFx1MDE5MVxcdUE3N0JdL2cgfSwgeyAnYmFzZSc6ICdHJywgJ2xldHRlcnMnOiAvW1xcdTAwNDdcXHUyNEJDXFx1RkYyN1xcdTAxRjRcXHUwMTFDXFx1MUUyMFxcdTAxMUVcXHUwMTIwXFx1MDFFNlxcdTAxMjJcXHUwMUU0XFx1MDE5M1xcdUE3QTBcXHVBNzdEXFx1QTc3RV0vZyB9LCB7ICdiYXNlJzogJ0gnLCAnbGV0dGVycyc6IC9bXFx1MDA0OFxcdTI0QkRcXHVGRjI4XFx1MDEyNFxcdTFFMjJcXHUxRTI2XFx1MDIxRVxcdTFFMjRcXHUxRTI4XFx1MUUyQVxcdTAxMjZcXHUyQzY3XFx1MkM3NVxcdUE3OERdL2cgfSwgeyAnYmFzZSc6ICdJJywgJ2xldHRlcnMnOiAvW1xcdTAwNDlcXHUyNEJFXFx1RkYyOVxcdTAwQ0NcXHUwMENEXFx1MDBDRVxcdTAxMjhcXHUwMTJBXFx1MDEyQ1xcdTAxMzBcXHUwMENGXFx1MUUyRVxcdTFFQzhcXHUwMUNGXFx1MDIwOFxcdTAyMEFcXHUxRUNBXFx1MDEyRVxcdTFFMkNcXHUwMTk3XS9nIH0sIHsgJ2Jhc2UnOiAnSicsICdsZXR0ZXJzJzogL1tcXHUwMDRBXFx1MjRCRlxcdUZGMkFcXHUwMTM0XFx1MDI0OF0vZyB9LCB7ICdiYXNlJzogJ0snLCAnbGV0dGVycyc6IC9bXFx1MDA0QlxcdTI0QzBcXHVGRjJCXFx1MUUzMFxcdTAxRThcXHUxRTMyXFx1MDEzNlxcdTFFMzRcXHUwMTk4XFx1MkM2OVxcdUE3NDBcXHVBNzQyXFx1QTc0NFxcdUE3QTJdL2cgfSwgeyAnYmFzZSc6ICdMJywgJ2xldHRlcnMnOiAvW1xcdTAwNENcXHUyNEMxXFx1RkYyQ1xcdTAxM0ZcXHUwMTM5XFx1MDEzRFxcdTFFMzZcXHUxRTM4XFx1MDEzQlxcdTFFM0NcXHUxRTNBXFx1MDE0MVxcdTAyM0RcXHUyQzYyXFx1MkM2MFxcdUE3NDhcXHVBNzQ2XFx1QTc4MF0vZyB9LCB7ICdiYXNlJzogJ0xKJywgJ2xldHRlcnMnOiAvW1xcdTAxQzddL2cgfSwgeyAnYmFzZSc6ICdMaicsICdsZXR0ZXJzJzogL1tcXHUwMUM4XS9nIH0sIHsgJ2Jhc2UnOiAnTScsICdsZXR0ZXJzJzogL1tcXHUwMDREXFx1MjRDMlxcdUZGMkRcXHUxRTNFXFx1MUU0MFxcdTFFNDJcXHUyQzZFXFx1MDE5Q10vZyB9LCB7ICdiYXNlJzogJ04nLCAnbGV0dGVycyc6IC9bXFx1MDA0RVxcdTI0QzNcXHVGRjJFXFx1MDFGOFxcdTAxNDNcXHUwMEQxXFx1MUU0NFxcdTAxNDdcXHUxRTQ2XFx1MDE0NVxcdTFFNEFcXHUxRTQ4XFx1MDIyMFxcdTAxOURcXHVBNzkwXFx1QTdBNF0vZyB9LCB7ICdiYXNlJzogJ05KJywgJ2xldHRlcnMnOiAvW1xcdTAxQ0FdL2cgfSwgeyAnYmFzZSc6ICdOaicsICdsZXR0ZXJzJzogL1tcXHUwMUNCXS9nIH0sIHsgJ2Jhc2UnOiAnTycsICdsZXR0ZXJzJzogL1tcXHUwMDRGXFx1MjRDNFxcdUZGMkZcXHUwMEQyXFx1MDBEM1xcdTAwRDRcXHUxRUQyXFx1MUVEMFxcdTFFRDZcXHUxRUQ0XFx1MDBENVxcdTFFNENcXHUwMjJDXFx1MUU0RVxcdTAxNENcXHUxRTUwXFx1MUU1MlxcdTAxNEVcXHUwMjJFXFx1MDIzMFxcdTAwRDZcXHUwMjJBXFx1MUVDRVxcdTAxNTBcXHUwMUQxXFx1MDIwQ1xcdTAyMEVcXHUwMUEwXFx1MUVEQ1xcdTFFREFcXHUxRUUwXFx1MUVERVxcdTFFRTJcXHUxRUNDXFx1MUVEOFxcdTAxRUFcXHUwMUVDXFx1MDBEOFxcdTAxRkVcXHUwMTg2XFx1MDE5RlxcdUE3NEFcXHVBNzRDXS9nIH0sIHsgJ2Jhc2UnOiAnT0knLCAnbGV0dGVycyc6IC9bXFx1MDFBMl0vZyB9LCB7ICdiYXNlJzogJ09PJywgJ2xldHRlcnMnOiAvW1xcdUE3NEVdL2cgfSwgeyAnYmFzZSc6ICdPVScsICdsZXR0ZXJzJzogL1tcXHUwMjIyXS9nIH0sIHsgJ2Jhc2UnOiAnUCcsICdsZXR0ZXJzJzogL1tcXHUwMDUwXFx1MjRDNVxcdUZGMzBcXHUxRTU0XFx1MUU1NlxcdTAxQTRcXHUyQzYzXFx1QTc1MFxcdUE3NTJcXHVBNzU0XS9nIH0sIHsgJ2Jhc2UnOiAnUScsICdsZXR0ZXJzJzogL1tcXHUwMDUxXFx1MjRDNlxcdUZGMzFcXHVBNzU2XFx1QTc1OFxcdTAyNEFdL2cgfSwgeyAnYmFzZSc6ICdSJywgJ2xldHRlcnMnOiAvW1xcdTAwNTJcXHUyNEM3XFx1RkYzMlxcdTAxNTRcXHUxRTU4XFx1MDE1OFxcdTAyMTBcXHUwMjEyXFx1MUU1QVxcdTFFNUNcXHUwMTU2XFx1MUU1RVxcdTAyNENcXHUyQzY0XFx1QTc1QVxcdUE3QTZcXHVBNzgyXS9nIH0sIHsgJ2Jhc2UnOiAnUycsICdsZXR0ZXJzJzogL1tcXHUwMDUzXFx1MjRDOFxcdUZGMzNcXHUxRTlFXFx1MDE1QVxcdTFFNjRcXHUwMTVDXFx1MUU2MFxcdTAxNjBcXHUxRTY2XFx1MUU2MlxcdTFFNjhcXHUwMjE4XFx1MDE1RVxcdTJDN0VcXHVBN0E4XFx1QTc4NF0vZyB9LCB7ICdiYXNlJzogJ1QnLCAnbGV0dGVycyc6IC9bXFx1MDA1NFxcdTI0QzlcXHVGRjM0XFx1MUU2QVxcdTAxNjRcXHUxRTZDXFx1MDIxQVxcdTAxNjJcXHUxRTcwXFx1MUU2RVxcdTAxNjZcXHUwMUFDXFx1MDFBRVxcdTAyM0VcXHVBNzg2XS9nIH0sIHsgJ2Jhc2UnOiAnVFonLCAnbGV0dGVycyc6IC9bXFx1QTcyOF0vZyB9LCB7ICdiYXNlJzogJ1UnLCAnbGV0dGVycyc6IC9bXFx1MDA1NVxcdTI0Q0FcXHVGRjM1XFx1MDBEOVxcdTAwREFcXHUwMERCXFx1MDE2OFxcdTFFNzhcXHUwMTZBXFx1MUU3QVxcdTAxNkNcXHUwMERDXFx1MDFEQlxcdTAxRDdcXHUwMUQ1XFx1MDFEOVxcdTFFRTZcXHUwMTZFXFx1MDE3MFxcdTAxRDNcXHUwMjE0XFx1MDIxNlxcdTAxQUZcXHUxRUVBXFx1MUVFOFxcdTFFRUVcXHUxRUVDXFx1MUVGMFxcdTFFRTRcXHUxRTcyXFx1MDE3MlxcdTFFNzZcXHUxRTc0XFx1MDI0NF0vZyB9LCB7ICdiYXNlJzogJ1YnLCAnbGV0dGVycyc6IC9bXFx1MDA1NlxcdTI0Q0JcXHVGRjM2XFx1MUU3Q1xcdTFFN0VcXHUwMUIyXFx1QTc1RVxcdTAyNDVdL2cgfSwgeyAnYmFzZSc6ICdWWScsICdsZXR0ZXJzJzogL1tcXHVBNzYwXS9nIH0sIHsgJ2Jhc2UnOiAnVycsICdsZXR0ZXJzJzogL1tcXHUwMDU3XFx1MjRDQ1xcdUZGMzdcXHUxRTgwXFx1MUU4MlxcdTAxNzRcXHUxRTg2XFx1MUU4NFxcdTFFODhcXHUyQzcyXS9nIH0sIHsgJ2Jhc2UnOiAnWCcsICdsZXR0ZXJzJzogL1tcXHUwMDU4XFx1MjRDRFxcdUZGMzhcXHUxRThBXFx1MUU4Q10vZyB9LCB7ICdiYXNlJzogJ1knLCAnbGV0dGVycyc6IC9bXFx1MDA1OVxcdTI0Q0VcXHVGRjM5XFx1MUVGMlxcdTAwRERcXHUwMTc2XFx1MUVGOFxcdTAyMzJcXHUxRThFXFx1MDE3OFxcdTFFRjZcXHUxRUY0XFx1MDFCM1xcdTAyNEVcXHUxRUZFXS9nIH0sIHsgJ2Jhc2UnOiAnWicsICdsZXR0ZXJzJzogL1tcXHUwMDVBXFx1MjRDRlxcdUZGM0FcXHUwMTc5XFx1MUU5MFxcdTAxN0JcXHUwMTdEXFx1MUU5MlxcdTFFOTRcXHUwMUI1XFx1MDIyNFxcdTJDN0ZcXHUyQzZCXFx1QTc2Ml0vZyB9LCB7ICdiYXNlJzogJ2EnLCAnbGV0dGVycyc6IC9bXFx1MDA2MVxcdTI0RDBcXHVGRjQxXFx1MUU5QVxcdTAwRTBcXHUwMEUxXFx1MDBFMlxcdTFFQTdcXHUxRUE1XFx1MUVBQlxcdTFFQTlcXHUwMEUzXFx1MDEwMVxcdTAxMDNcXHUxRUIxXFx1MUVBRlxcdTFFQjVcXHUxRUIzXFx1MDIyN1xcdTAxRTFcXHUwMEU0XFx1MDFERlxcdTFFQTNcXHUwMEU1XFx1MDFGQlxcdTAxQ0VcXHUwMjAxXFx1MDIwM1xcdTFFQTFcXHUxRUFEXFx1MUVCN1xcdTFFMDFcXHUwMTA1XFx1MkM2NVxcdTAyNTBdL2cgfSwgeyAnYmFzZSc6ICdhYScsICdsZXR0ZXJzJzogL1tcXHVBNzMzXS9nIH0sIHsgJ2Jhc2UnOiAnYWUnLCAnbGV0dGVycyc6IC9bXFx1MDBFNlxcdTAxRkRcXHUwMUUzXS9nIH0sIHsgJ2Jhc2UnOiAnYW8nLCAnbGV0dGVycyc6IC9bXFx1QTczNV0vZyB9LCB7ICdiYXNlJzogJ2F1JywgJ2xldHRlcnMnOiAvW1xcdUE3MzddL2cgfSwgeyAnYmFzZSc6ICdhdicsICdsZXR0ZXJzJzogL1tcXHVBNzM5XFx1QTczQl0vZyB9LCB7ICdiYXNlJzogJ2F5JywgJ2xldHRlcnMnOiAvW1xcdUE3M0RdL2cgfSwgeyAnYmFzZSc6ICdiJywgJ2xldHRlcnMnOiAvW1xcdTAwNjJcXHUyNEQxXFx1RkY0MlxcdTFFMDNcXHUxRTA1XFx1MUUwN1xcdTAxODBcXHUwMTgzXFx1MDI1M10vZyB9LCB7ICdiYXNlJzogJ2MnLCAnbGV0dGVycyc6IC9bXFx1MDA2M1xcdTI0RDJcXHVGRjQzXFx1MDEwN1xcdTAxMDlcXHUwMTBCXFx1MDEwRFxcdTAwRTdcXHUxRTA5XFx1MDE4OFxcdTAyM0NcXHVBNzNGXFx1MjE4NF0vZyB9LCB7ICdiYXNlJzogJ2QnLCAnbGV0dGVycyc6IC9bXFx1MDA2NFxcdTI0RDNcXHVGRjQ0XFx1MUUwQlxcdTAxMEZcXHUxRTBEXFx1MUUxMVxcdTFFMTNcXHUxRTBGXFx1MDExMVxcdTAxOENcXHUwMjU2XFx1MDI1N1xcdUE3N0FdL2cgfSwgeyAnYmFzZSc6ICdkeicsICdsZXR0ZXJzJzogL1tcXHUwMUYzXFx1MDFDNl0vZyB9LCB7ICdiYXNlJzogJ2UnLCAnbGV0dGVycyc6IC9bXFx1MDA2NVxcdTI0RDRcXHVGRjQ1XFx1MDBFOFxcdTAwRTlcXHUwMEVBXFx1MUVDMVxcdTFFQkZcXHUxRUM1XFx1MUVDM1xcdTFFQkRcXHUwMTEzXFx1MUUxNVxcdTFFMTdcXHUwMTE1XFx1MDExN1xcdTAwRUJcXHUxRUJCXFx1MDExQlxcdTAyMDVcXHUwMjA3XFx1MUVCOVxcdTFFQzdcXHUwMjI5XFx1MUUxRFxcdTAxMTlcXHUxRTE5XFx1MUUxQlxcdTAyNDdcXHUwMjVCXFx1MDFERF0vZyB9LCB7ICdiYXNlJzogJ2YnLCAnbGV0dGVycyc6IC9bXFx1MDA2NlxcdTI0RDVcXHVGRjQ2XFx1MUUxRlxcdTAxOTJcXHVBNzdDXS9nIH0sIHsgJ2Jhc2UnOiAnZycsICdsZXR0ZXJzJzogL1tcXHUwMDY3XFx1MjRENlxcdUZGNDdcXHUwMUY1XFx1MDExRFxcdTFFMjFcXHUwMTFGXFx1MDEyMVxcdTAxRTdcXHUwMTIzXFx1MDFFNVxcdTAyNjBcXHVBN0ExXFx1MUQ3OVxcdUE3N0ZdL2cgfSwgeyAnYmFzZSc6ICdoJywgJ2xldHRlcnMnOiAvW1xcdTAwNjhcXHUyNEQ3XFx1RkY0OFxcdTAxMjVcXHUxRTIzXFx1MUUyN1xcdTAyMUZcXHUxRTI1XFx1MUUyOVxcdTFFMkJcXHUxRTk2XFx1MDEyN1xcdTJDNjhcXHUyQzc2XFx1MDI2NV0vZyB9LCB7ICdiYXNlJzogJ2h2JywgJ2xldHRlcnMnOiAvW1xcdTAxOTVdL2cgfSwgeyAnYmFzZSc6ICdpJywgJ2xldHRlcnMnOiAvW1xcdTAwNjlcXHUyNEQ4XFx1RkY0OVxcdTAwRUNcXHUwMEVEXFx1MDBFRVxcdTAxMjlcXHUwMTJCXFx1MDEyRFxcdTAwRUZcXHUxRTJGXFx1MUVDOVxcdTAxRDBcXHUwMjA5XFx1MDIwQlxcdTFFQ0JcXHUwMTJGXFx1MUUyRFxcdTAyNjhcXHUwMTMxXS9nIH0sIHsgJ2Jhc2UnOiAnaicsICdsZXR0ZXJzJzogL1tcXHUwMDZBXFx1MjREOVxcdUZGNEFcXHUwMTM1XFx1MDFGMFxcdTAyNDldL2cgfSwgeyAnYmFzZSc6ICdrJywgJ2xldHRlcnMnOiAvW1xcdTAwNkJcXHUyNERBXFx1RkY0QlxcdTFFMzFcXHUwMUU5XFx1MUUzM1xcdTAxMzdcXHUxRTM1XFx1MDE5OVxcdTJDNkFcXHVBNzQxXFx1QTc0M1xcdUE3NDVcXHVBN0EzXS9nIH0sIHsgJ2Jhc2UnOiAnbCcsICdsZXR0ZXJzJzogL1tcXHUwMDZDXFx1MjREQlxcdUZGNENcXHUwMTQwXFx1MDEzQVxcdTAxM0VcXHUxRTM3XFx1MUUzOVxcdTAxM0NcXHUxRTNEXFx1MUUzQlxcdTAxN0ZcXHUwMTQyXFx1MDE5QVxcdTAyNkJcXHUyQzYxXFx1QTc0OVxcdUE3ODFcXHVBNzQ3XS9nIH0sIHsgJ2Jhc2UnOiAnbGonLCAnbGV0dGVycyc6IC9bXFx1MDFDOV0vZyB9LCB7ICdiYXNlJzogJ20nLCAnbGV0dGVycyc6IC9bXFx1MDA2RFxcdTI0RENcXHVGRjREXFx1MUUzRlxcdTFFNDFcXHUxRTQzXFx1MDI3MVxcdTAyNkZdL2cgfSwgeyAnYmFzZSc6ICduJywgJ2xldHRlcnMnOiAvW1xcdTAwNkVcXHUyNEREXFx1RkY0RVxcdTAxRjlcXHUwMTQ0XFx1MDBGMVxcdTFFNDVcXHUwMTQ4XFx1MUU0N1xcdTAxNDZcXHUxRTRCXFx1MUU0OVxcdTAxOUVcXHUwMjcyXFx1MDE0OVxcdUE3OTFcXHVBN0E1XS9nIH0sIHsgJ2Jhc2UnOiAnbmonLCAnbGV0dGVycyc6IC9bXFx1MDFDQ10vZyB9LCB7ICdiYXNlJzogJ28nLCAnbGV0dGVycyc6IC9bXFx1MDA2RlxcdTI0REVcXHVGRjRGXFx1MDBGMlxcdTAwRjNcXHUwMEY0XFx1MUVEM1xcdTFFRDFcXHUxRUQ3XFx1MUVENVxcdTAwRjVcXHUxRTREXFx1MDIyRFxcdTFFNEZcXHUwMTREXFx1MUU1MVxcdTFFNTNcXHUwMTRGXFx1MDIyRlxcdTAyMzFcXHUwMEY2XFx1MDIyQlxcdTFFQ0ZcXHUwMTUxXFx1MDFEMlxcdTAyMERcXHUwMjBGXFx1MDFBMVxcdTFFRERcXHUxRURCXFx1MUVFMVxcdTFFREZcXHUxRUUzXFx1MUVDRFxcdTFFRDlcXHUwMUVCXFx1MDFFRFxcdTAwRjhcXHUwMUZGXFx1MDI1NFxcdUE3NEJcXHVBNzREXFx1MDI3NV0vZyB9LCB7ICdiYXNlJzogJ29pJywgJ2xldHRlcnMnOiAvW1xcdTAxQTNdL2cgfSwgeyAnYmFzZSc6ICdvdScsICdsZXR0ZXJzJzogL1tcXHUwMjIzXS9nIH0sIHsgJ2Jhc2UnOiAnb28nLCAnbGV0dGVycyc6IC9bXFx1QTc0Rl0vZyB9LCB7ICdiYXNlJzogJ3AnLCAnbGV0dGVycyc6IC9bXFx1MDA3MFxcdTI0REZcXHVGRjUwXFx1MUU1NVxcdTFFNTdcXHUwMUE1XFx1MUQ3RFxcdUE3NTFcXHVBNzUzXFx1QTc1NV0vZyB9LCB7ICdiYXNlJzogJ3EnLCAnbGV0dGVycyc6IC9bXFx1MDA3MVxcdTI0RTBcXHVGRjUxXFx1MDI0QlxcdUE3NTdcXHVBNzU5XS9nIH0sIHsgJ2Jhc2UnOiAncicsICdsZXR0ZXJzJzogL1tcXHUwMDcyXFx1MjRFMVxcdUZGNTJcXHUwMTU1XFx1MUU1OVxcdTAxNTlcXHUwMjExXFx1MDIxM1xcdTFFNUJcXHUxRTVEXFx1MDE1N1xcdTFFNUZcXHUwMjREXFx1MDI3RFxcdUE3NUJcXHVBN0E3XFx1QTc4M10vZyB9LCB7ICdiYXNlJzogJ3MnLCAnbGV0dGVycyc6IC9bXFx1MDA3M1xcdTI0RTJcXHVGRjUzXFx1MDBERlxcdTAxNUJcXHUxRTY1XFx1MDE1RFxcdTFFNjFcXHUwMTYxXFx1MUU2N1xcdTFFNjNcXHUxRTY5XFx1MDIxOVxcdTAxNUZcXHUwMjNGXFx1QTdBOVxcdUE3ODVcXHUxRTlCXS9nIH0sIHsgJ2Jhc2UnOiAndCcsICdsZXR0ZXJzJzogL1tcXHUwMDc0XFx1MjRFM1xcdUZGNTRcXHUxRTZCXFx1MUU5N1xcdTAxNjVcXHUxRTZEXFx1MDIxQlxcdTAxNjNcXHUxRTcxXFx1MUU2RlxcdTAxNjdcXHUwMUFEXFx1MDI4OFxcdTJDNjZcXHVBNzg3XS9nIH0sIHsgJ2Jhc2UnOiAndHonLCAnbGV0dGVycyc6IC9bXFx1QTcyOV0vZyB9LCB7ICdiYXNlJzogJ3UnLCAnbGV0dGVycyc6IC9bXFx1MDA3NVxcdTI0RTRcXHVGRjU1XFx1MDBGOVxcdTAwRkFcXHUwMEZCXFx1MDE2OVxcdTFFNzlcXHUwMTZCXFx1MUU3QlxcdTAxNkRcXHUwMEZDXFx1MDFEQ1xcdTAxRDhcXHUwMUQ2XFx1MDFEQVxcdTFFRTdcXHUwMTZGXFx1MDE3MVxcdTAxRDRcXHUwMjE1XFx1MDIxN1xcdTAxQjBcXHUxRUVCXFx1MUVFOVxcdTFFRUZcXHUxRUVEXFx1MUVGMVxcdTFFRTVcXHUxRTczXFx1MDE3M1xcdTFFNzdcXHUxRTc1XFx1MDI4OV0vZyB9LCB7ICdiYXNlJzogJ3YnLCAnbGV0dGVycyc6IC9bXFx1MDA3NlxcdTI0RTVcXHVGRjU2XFx1MUU3RFxcdTFFN0ZcXHUwMjhCXFx1QTc1RlxcdTAyOENdL2cgfSwgeyAnYmFzZSc6ICd2eScsICdsZXR0ZXJzJzogL1tcXHVBNzYxXS9nIH0sIHsgJ2Jhc2UnOiAndycsICdsZXR0ZXJzJzogL1tcXHUwMDc3XFx1MjRFNlxcdUZGNTdcXHUxRTgxXFx1MUU4M1xcdTAxNzVcXHUxRTg3XFx1MUU4NVxcdTFFOThcXHUxRTg5XFx1MkM3M10vZyB9LCB7ICdiYXNlJzogJ3gnLCAnbGV0dGVycyc6IC9bXFx1MDA3OFxcdTI0RTdcXHVGRjU4XFx1MUU4QlxcdTFFOERdL2cgfSwgeyAnYmFzZSc6ICd5JywgJ2xldHRlcnMnOiAvW1xcdTAwNzlcXHUyNEU4XFx1RkY1OVxcdTFFRjNcXHUwMEZEXFx1MDE3N1xcdTFFRjlcXHUwMjMzXFx1MUU4RlxcdTAwRkZcXHUxRUY3XFx1MUU5OVxcdTFFRjVcXHUwMUI0XFx1MDI0RlxcdTFFRkZdL2cgfSwgeyAnYmFzZSc6ICd6JywgJ2xldHRlcnMnOiAvW1xcdTAwN0FcXHUyNEU5XFx1RkY1QVxcdTAxN0FcXHUxRTkxXFx1MDE3Q1xcdTAxN0VcXHUxRTkzXFx1MUU5NVxcdTAxQjZcXHUwMjI1XFx1MDI0MFxcdTJDNkNcXHVBNzYzXS9nIH1dO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmlwRGlhY3JpdGljcyhzdHIpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpKyspIHtcblx0XHRzdHIgPSBzdHIucmVwbGFjZShtYXBbaV0ubGV0dGVycywgbWFwW2ldLmJhc2UpO1xuXHR9XG5cdHJldHVybiBzdHI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9saWIvdXRpbHMvc3RyaXBEaWFjcml0aWNzLmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5qUXVlcnkgPSBleHBvcnRzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RBZGRvbnNVcGRhdGUgPSByZXF1aXJlKFwicmVhY3QtYWRkb25zLXVwZGF0ZVwiKTtcblxudmFyIF9yZWFjdEFkZG9uc1VwZGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1VwZGF0ZSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfYW5pbWF0aW9uTWl4aW4gPSByZXF1aXJlKFwiLi9hbmltYXRpb25NaXhpblwiKTtcblxudmFyIF9hbmltYXRpb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmltYXRpb25NaXhpbik7XG5cbnZhciBfalF1ZXJ5TWl4aW4gPSByZXF1aXJlKFwiLi9qUXVlcnlNaXhpblwiKTtcblxudmFyIF9qUXVlcnlNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qUXVlcnlNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgVG9hc3RNZXNzYWdlU3BlYyA9IHtcbiAgZGlzcGxheU5hbWU6IFwiVG9hc3RNZXNzYWdlXCIsXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgdmFyIGljb25DbGFzc05hbWVzID0ge1xuICAgICAgZXJyb3I6IFwidG9hc3QtZXJyb3JcIixcbiAgICAgIGluZm86IFwidG9hc3QtaW5mb1wiLFxuICAgICAgc3VjY2VzczogXCJ0b2FzdC1zdWNjZXNzXCIsXG4gICAgICB3YXJuaW5nOiBcInRvYXN0LXdhcm5pbmdcIlxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2xhc3NOYW1lOiBcInRvYXN0XCIsXG4gICAgICBpY29uQ2xhc3NOYW1lczogaWNvbkNsYXNzTmFtZXMsXG4gICAgICB0aXRsZUNsYXNzTmFtZTogXCJ0b2FzdC10aXRsZVwiLFxuICAgICAgbWVzc2FnZUNsYXNzTmFtZTogXCJ0b2FzdC1tZXNzYWdlXCIsXG4gICAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgICBjbG9zZUJ1dHRvbjogZmFsc2VcbiAgICB9O1xuICB9LFxuICBoYW5kbGVPbkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVPbkNsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5oYW5kbGVPbkNsaWNrKGV2ZW50KTtcbiAgICBpZiAodGhpcy5wcm9wcy50YXBUb0Rpc21pc3MpIHtcbiAgICAgIHRoaXMuaGlkZVRvYXN0KHRydWUpO1xuICAgIH1cbiAgfSxcbiAgX2hhbmRsZV9jbG9zZV9idXR0b25fY2xpY2s6IGZ1bmN0aW9uIF9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5oaWRlVG9hc3QodHJ1ZSk7XG4gIH0sXG4gIF9oYW5kbGVfcmVtb3ZlOiBmdW5jdGlvbiBfaGFuZGxlX3JlbW92ZSgpIHtcbiAgICB0aGlzLnByb3BzLmhhbmRsZVJlbW92ZSh0aGlzLnByb3BzLnRvYXN0SWQpO1xuICB9LFxuICBfcmVuZGVyX2Nsb3NlX2J1dHRvbjogZnVuY3Rpb24gX3JlbmRlcl9jbG9zZV9idXR0b24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2xvc2VCdXR0b24gPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidG9hc3QtY2xvc2UtYnV0dG9uXCIsIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBcIiZ0aW1lcztcIiB9XG4gICAgfSkgOiBmYWxzZTtcbiAgfSxcbiAgX3JlbmRlcl90aXRsZV9lbGVtZW50OiBmdW5jdGlvbiBfcmVuZGVyX3RpdGxlX2VsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudGl0bGUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy50aXRsZUNsYXNzTmFtZSB9LFxuICAgICAgdGhpcy5wcm9wcy50aXRsZVxuICAgICkgOiBmYWxzZTtcbiAgfSxcbiAgX3JlbmRlcl9tZXNzYWdlX2VsZW1lbnQ6IGZ1bmN0aW9uIF9yZW5kZXJfbWVzc2FnZV9lbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLm1lc3NhZ2UgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5tZXNzYWdlQ2xhc3NOYW1lIH0sXG4gICAgICB0aGlzLnByb3BzLm1lc3NhZ2VcbiAgICApIDogZmFsc2U7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBpY29uQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5pY29uQ2xhc3NOYW1lIHx8IHRoaXMucHJvcHMuaWNvbkNsYXNzTmFtZXNbdGhpcy5wcm9wcy50eXBlXTtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KSh0aGlzLnByb3BzLmNsYXNzTmFtZSwgaWNvbkNsYXNzTmFtZSksXG4gICAgICAgIHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZU9uQ2xpY2ssXG4gICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZVxuICAgICAgfSxcbiAgICAgIHRoaXMuX3JlbmRlcl9jbG9zZV9idXR0b24oKSxcbiAgICAgIHRoaXMuX3JlbmRlcl90aXRsZV9lbGVtZW50KCksXG4gICAgICB0aGlzLl9yZW5kZXJfbWVzc2FnZV9lbGVtZW50KClcbiAgICApO1xuICB9XG59O1xuXG52YXIgYW5pbWF0aW9uID0gZXhwb3J0cy5hbmltYXRpb24gPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoVG9hc3RNZXNzYWdlU3BlYywge1xuICBkaXNwbGF5TmFtZTogeyAkc2V0OiBcIlRvYXN0TWVzc2FnZS5hbmltYXRpb25cIiB9LFxuICBtaXhpbnM6IHsgJHNldDogW19hbmltYXRpb25NaXhpbjIuZGVmYXVsdF0gfVxufSkpO1xuXG52YXIgalF1ZXJ5ID0gZXhwb3J0cy5qUXVlcnkgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoVG9hc3RNZXNzYWdlU3BlYywge1xuICBkaXNwbGF5TmFtZTogeyAkc2V0OiBcIlRvYXN0TWVzc2FnZS5qUXVlcnlcIiB9LFxuICBtaXhpbnM6IHsgJHNldDogW19qUXVlcnlNaXhpbjIuZGVmYXVsdF0gfVxufSkpO1xuXG4vKlxuICogYXNzaWduIGRlZmF1bHQgbm9vcCBmdW5jdGlvbnNcbiAqL1xuVG9hc3RNZXNzYWdlU3BlYy5oYW5kbGVNb3VzZUVudGVyID0gbm9vcDtcblRvYXN0TWVzc2FnZVNwZWMuaGFuZGxlTW91c2VMZWF2ZSA9IG5vb3A7XG5Ub2FzdE1lc3NhZ2VTcGVjLmhpZGVUb2FzdCA9IG5vb3A7XG5cbnZhciBUb2FzdE1lc3NhZ2UgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3MoVG9hc3RNZXNzYWdlU3BlYyk7XG5cblRvYXN0TWVzc2FnZS5hbmltYXRpb24gPSBhbmltYXRpb247XG5Ub2FzdE1lc3NhZ2UualF1ZXJ5ID0galF1ZXJ5O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2FzdE1lc3NhZ2U7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdE1lc3NhZ2UvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdyZWFjdC9saWIvdXBkYXRlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL34vcmVhY3QtYWRkb25zLXVwZGF0ZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vZXZlbnRzL2V2ZW50cy5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBUYWJsZUhlYWRlciBmcm9tICcuL1RhYmxlSGVhZGVyJztcclxuaW1wb3J0IFRhYmxlQm9keSBmcm9tICcuL1RhYmxlQm9keSc7XHJcbmltcG9ydCBQYWdpbmF0aW9uTGlzdCBmcm9tICcuL3BhZ2luYXRpb24vUGFnaW5hdGlvbkxpc3QnO1xyXG5pbXBvcnQgVG9vbEJhciBmcm9tICcuL3Rvb2xiYXIvVG9vbEJhcic7XHJcbmltcG9ydCBUYWJsZUZpbHRlciBmcm9tICcuL1RhYmxlRmlsdGVyJztcclxuaW1wb3J0IHtUYWJsZURhdGFTdG9yZX0gZnJvbSAnLi9zdG9yZS9UYWJsZURhdGFTdG9yZSc7XHJcbmltcG9ydCBleHBvcnRDU1YgZnJvbSAnLi9jc3ZfZXhwb3J0X3V0aWwnO1xyXG5pbXBvcnQge0ZpbHRlcn0gZnJvbSAnLi9GaWx0ZXInO1xyXG5cclxuY2xhc3MgQm9vdHN0cmFwVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgICB0aGlzLl9hdHRhY2hDZWxsRWRpdEZ1bmMoKTtcclxuXHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuZGF0YSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBUYWJsZURhdGFTdG9yZSh0aGlzLnByb3BzLmRhdGEuZ2V0RGF0YSgpKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YS5vbignY2hhbmdlJywgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0RGF0YShkYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0VGFibGVEYXRhKClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBjb3B5ID0gdGhpcy5wcm9wcy5kYXRhLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgVGFibGVEYXRhU3RvcmUoY29weSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluaXRUYWJsZSh0aGlzLnByb3BzKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlci5vbignb25GaWx0ZXJDaGFuZ2UnLCAoY3VycmVudEZpbHRlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVGaWx0ZXJEYXRhKGN1cnJlbnRGaWx0ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdyAmJiB0aGlzLnByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBsZXQgY29weSA9IHRoaXMucHJvcHMuc2VsZWN0Um93LnNlbGVjdGVkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoY29weSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmdldFRhYmxlRGF0YSgpLFxyXG4gICAgICAgICAgICBjdXJyUGFnZTogdGhpcy5wcm9wcy5vcHRpb25zLnBhZ2UgfHwgMSxcclxuICAgICAgICAgICAgc2l6ZVBlclBhZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5zaXplUGVyUGFnZSB8fCBDb25zdC5TSVpFX1BFUl9QQUdFX0xJU1RbMF0sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFRhYmxlKHByb3BzKSB7XHJcbiAgICAgICAgbGV0IHtrZXlGaWVsZH0gPSBwcm9wcztcclxuXHJcbiAgICAgICAgY29uc3QgaXNLZXlGaWVsZERlZmluZWQgPSB0eXBlb2Yga2V5RmllbGQgPT09ICdzdHJpbmcnICYmIGtleUZpZWxkLmxlbmd0aDtcclxuICAgICAgICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBjb2x1bW49PiB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4ucHJvcHMuaXNLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXlGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiRXJyb3IuIE11bHRpcGxlIGtleSBjb2x1bW4gYmUgZGV0ZWN0ZWQgaW4gVGFibGVIZWFkZXJDb2x1bW4uXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBrZXlGaWVsZCA9IGNvbHVtbi5wcm9wcy5kYXRhRmllbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbHVtbi5wcm9wcy5maWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgY29sdW1uIGNvbnRhaW5zIGEgZmlsdGVyXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgdGltZSBjcmVhdGUgdGhlIGZpbHRlciBvbiB0aGUgQm9vdHN0cmFwVGFibGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlciA9IG5ldyBGaWx0ZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHBhc3MgdGhlIGZpbHRlciB0byBjb2x1bW4gd2l0aCBmaWx0ZXJcclxuICAgICAgICAgICAgICAgIGNvbHVtbi5wcm9wcy5maWx0ZXIuZW1pdHRlciA9IHRoaXMuZmlsdGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIGxldCBjb2xJbmZvcyA9IHRoaXMuZ2V0Q29sdW1uc0Rlc2NyaXB0aW9uKHByb3BzKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcclxuICAgICAgICAgICAgcHJldltjdXJyLm5hbWVdID0gY3VycjtcclxuICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgfSwge30pO1xyXG5cclxuICAgICAgICBpZiAoIWlzS2V5RmllbGREZWZpbmVkICYmICFrZXlGaWVsZClcclxuICAgICAgICAgICAgdGhyb3cgYEVycm9yLiBObyBhbnkga2V5IGNvbHVtbiBkZWZpbmVkIGluIFRhYmxlSGVhZGVyQ29sdW1uLlxyXG4gICAgICAgICAgICBVc2UgJ2lzS2V5PXt0cnVlfScgdG8gc3BlY2lmeSBhIHVuaXF1ZSBjb2x1bW4gYWZ0ZXIgdmVyc2lvbiAwLjUuNC5gO1xyXG5cclxuICAgICAgICB0aGlzLnN0b3JlLnNldFByb3BzKHtcclxuICAgICAgICAgICAgaXNQYWdpbmF0aW9uOiBwcm9wcy5wYWdpbmF0aW9uLFxyXG4gICAgICAgICAgICBrZXlGaWVsZDoga2V5RmllbGQsXHJcbiAgICAgICAgICAgIGNvbEluZm9zOiBjb2xJbmZvcyxcclxuICAgICAgICAgICAgbXVsdGlDb2x1bW5TZWFyY2g6IHByb3BzLm11bHRpQ29sdW1uU2VhcmNoLFxyXG4gICAgICAgICAgICByZW1vdGU6IHRoaXMuaXNSZW1vdGVEYXRhU291cmNlKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYWJsZURhdGEoKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnNvcnROYW1lICYmIHRoaXMucHJvcHMub3B0aW9ucy5zb3J0T3JkZXIpXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc29ydCh0aGlzLnByb3BzLm9wdGlvbnMuc29ydE9yZGVyLCB0aGlzLnByb3BzLm9wdGlvbnMuc29ydE5hbWUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGxldCBwYWdlLCBzaXplUGVyUGFnZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmUuaXNDaGFuZ2VkUGFnZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplUGVyUGFnZSA9IHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2U7XHJcbiAgICAgICAgICAgICAgICBwYWdlID0gdGhpcy5zdGF0ZS5jdXJyUGFnZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlID0gdGhpcy5wcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVFswXTtcclxuICAgICAgICAgICAgICAgIHBhZ2UgPSB0aGlzLnByb3BzLm9wdGlvbnMucGFnZSB8fCAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShwYWdlLCBzaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb2x1bW5zRGVzY3JpcHRpb24oeyBjaGlsZHJlbiB9KSB7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuLm1hcCgoY29sdW1uLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBjb2x1bW4ucHJvcHMuZGF0YUZpZWxkLFxyXG4gICAgICAgICAgICAgICAgYWxpZ246IGNvbHVtbi5wcm9wcy5kYXRhQWxpZ24sXHJcbiAgICAgICAgICAgICAgICBzb3J0OiBjb2x1bW4ucHJvcHMuZGF0YVNvcnQsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGNvbHVtbi5wcm9wcy5kYXRhRm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0RXh0cmFEYXRhOiBjb2x1bW4ucHJvcHMuZm9ybWF0RXh0cmFEYXRhLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyRm9ybWF0dGVkOiBjb2x1bW4ucHJvcHMuZmlsdGVyRm9ybWF0dGVkLFxyXG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IGNvbHVtbi5wcm9wcy5lZGl0YWJsZSxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogY29sdW1uLnByb3BzLmhpZGRlbixcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY29sdW1uLnByb3BzLmNvbHVtbkNsYXNzTmFtZSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBjb2x1bW4ucHJvcHMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBjb2x1bW4ucHJvcHMuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgICBzb3J0RnVuYzogY29sdW1uLnByb3BzLnNvcnRGdW5jLFxyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgICAgIHRoaXMuaW5pdFRhYmxlKG5leHRQcm9wcyk7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dFByb3BzLmRhdGEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0RGF0YShuZXh0UHJvcHMuZGF0YS5zbGljZSgpKTtcclxuICAgICAgICAgICAgbGV0IHBhZ2luYXRpb25Eb20gPSB0aGlzLnJlZnMucGFnaW5hdGlvbjtcclxuICAgICAgICAgICAgbGV0IHBhZ2UgPSBwYWdpbmF0aW9uRG9tICYmIHBhZ2luYXRpb25Eb20uZ2V0Q3VycmVudFBhZ2UoKSB8fCBuZXh0UHJvcHMub3B0aW9ucy5wYWdlIHx8IDE7XHJcbiAgICAgICAgICAgIGxldCBzaXplUGVyUGFnZSA9IHBhZ2luYXRpb25Eb20gJiYgcGFnaW5hdGlvbkRvbS5nZXRTaXplUGVyUGFnZSgpIHx8IG5leHRQcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlIHx8IENvbnN0LlNJWkVfUEVSX1BBR0VfTElTVFswXTtcclxuICAgICAgICAgICAgLy8gIzEyNVxyXG4gICAgICAgICAgICBpZiAocGFnZSA+IE1hdGguY2VpbChuZXh0UHJvcHMuZGF0YS5sZW5ndGggLyBzaXplUGVyUGFnZSkpIHBhZ2UgPSAxO1xyXG4gICAgICAgICAgICBsZXQgc29ydEluZm8gPSB0aGlzLnN0b3JlLmdldFNvcnRJbmZvKCk7XHJcbiAgICAgICAgICAgIGxldCBzb3J0RmllbGQgPSBuZXh0UHJvcHMub3B0aW9ucy5zb3J0TmFtZSB8fCAoc29ydEluZm8gPyBzb3J0SW5mby5zb3J0RmllbGQgOiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICBsZXQgc29ydE9yZGVyID0gbmV4dFByb3BzLm9wdGlvbnMuc29ydE9yZGVyIHx8IChzb3J0SW5mbyA/IHNvcnRJbmZvLm9yZGVyIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgaWYgKHNvcnRGaWVsZCAmJiBzb3J0T3JkZXIpIHRoaXMuc3RvcmUuc29ydChzb3J0T3JkZXIsIHNvcnRGaWVsZCk7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5zdG9yZS5wYWdlKHBhZ2UsIHNpemVQZXJQYWdlKS5nZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgY3VyclBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgICAgICBzaXplUGVyUGFnZTogc2l6ZVBlclBhZ2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UHJvcHMuc2VsZWN0Um93ICYmIG5leHRQcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgLy9zZXQgZGVmYXVsdCBzZWxlY3Qgcm93cyB0byBzdG9yZS5cclxuICAgICAgICAgICAgbGV0IGNvcHkgPSBuZXh0UHJvcHMuc2VsZWN0Um93LnNlbGVjdGVkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoY29weSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBjb3B5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9hZGp1c3RIZWFkZXJXaWR0aCk7XHJcbiAgICAgICAgdGhpcy5yZWZzLmJvZHkucmVmcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fc2Nyb2xsSGVhZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGgpO1xyXG4gICAgICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3Njcm9sbEhlYWRlcik7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyLnJlbW92ZUFsbExpc3RlbmVycyhcIm9uRmlsdGVyQ2hhbmdlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGgoKTtcclxuICAgICAgICB0aGlzLl9hdHRhY2hDZWxsRWRpdEZ1bmMoKTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyVGFibGVDb21wbGV0ZSlcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyVGFibGVDb21wbGV0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9hdHRhY2hDZWxsRWRpdEZ1bmMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jZWxsRWRpdC5fX29uQ29tcGxldGVFZGl0X18gPSB0aGlzLmhhbmRsZUVkaXRDZWxsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IENvbnN0LkNFTExfRURJVF9OT05FKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBpbiB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uLFxyXG4gICAgICogdGhlIGRhdGFncmlkIHNob3VsZCBsb2FkIGl0cyBkYXRhIHJlbW90ZWx5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtwcm9wc10gT3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgdGhpcy5wcm9wcyB3aWxsIGJlIHVzZWRcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGlzUmVtb3RlRGF0YVNvdXJjZShwcm9wcykge1xyXG4gICAgICAgIHJldHVybiAocHJvcHMgfHwgdGhpcy5wcm9wcykucmVtb3RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgdmFyIHRhYmxlQ2xhc3MgPSBjbGFzc1NldChcInJlYWN0LWJzLXRhYmxlXCIpO1xyXG4gICAgICAgIHZhciBjaGlsZHJlbnMgPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBzdHlsZSA9IHtcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodCxcclxuICAgICAgICAgICAgbWF4SGVpZ2h0OiB0aGlzLnByb3BzLm1heEhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVucyA9IFt0aGlzLnByb3BzLmNoaWxkcmVuXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLmdldENvbHVtbnNEZXNjcmlwdGlvbih0aGlzLnByb3BzKTtcclxuICAgICAgICB2YXIgc29ydEluZm8gPSB0aGlzLnN0b3JlLmdldFNvcnRJbmZvKCk7XHJcbiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSB0aGlzLnJlbmRlclBhZ2luYXRpb24oKTtcclxuICAgICAgICB2YXIgdG9vbEJhciA9IHRoaXMucmVuZGVyVG9vbEJhcigpO1xyXG4gICAgICAgIHZhciB0YWJsZUZpbHRlciA9IHRoaXMucmVuZGVyVGFibGVGaWx0ZXIoY29sdW1ucyk7XHJcbiAgICAgICAgdmFyIGlzU2VsZWN0QWxsID0gdGhpcy5pc1NlbGVjdEFsbCgpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVhY3QtYnMtY29udGFpbmVyXCIgcmVmPVwidGFibGVcIj5cclxuICAgICAgICAgICAgICAgIHt0b29sQmFyfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWFjdC1icy10YWJsZS1jb250YWluZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMuaGFuZGxlTW91c2VFbnRlci5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuaGFuZGxlTW91c2VMZWF2ZS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9XCJoZWFkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3RUeXBlPXt0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlU2VsZWN0Q29sdW1uPXt0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0TmFtZT17c29ydEluZm8gPyBzb3J0SW5mby5zb3J0RmllbGQgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRPcmRlcj17c29ydEluZm8gPyBzb3J0SW5mby5vcmRlciA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Tb3J0PXt0aGlzLmhhbmRsZVNvcnQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RBbGxSb3c9e3RoaXMuaGFuZGxlU2VsZWN0QWxsUm93LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcmVkPXt0aGlzLnByb3BzLmJvcmRlcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZWQ9e3RoaXMucHJvcHMuY29uZGVuc2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZpbHRlcmVkPXt0aGlzLmZpbHRlciA/IHRydWUgOiBmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVJRD17dGhpcy5wcm9wcy50YWJsZUlEfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdEFsbD17aXNTZWxlY3RBbGx9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXt0aGlzLnByb3BzLmhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0PXt0aGlzLnByb3BzLm1heEhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwiYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZGF0YX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJDbGFzc05hbWU9e3RoaXMucHJvcHMudHJDbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZWQ9e3RoaXMucHJvcHMuc3RyaXBlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyZWQ9e3RoaXMucHJvcHMuYm9yZGVyZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyPXt0aGlzLnByb3BzLmhvdmVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlGaWVsZD17dGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZWQ9e3RoaXMucHJvcHMuY29uZGVuc2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RSb3c9e3RoaXMucHJvcHMuc2VsZWN0Um93fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsRWRpdD17dGhpcy5wcm9wcy5jZWxsRWRpdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzPXt0aGlzLnN0YXRlLnNlbGVjdGVkUm93S2V5c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Sb3dDbGljaz17dGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJvd01vdXNlT3Zlcj17dGhpcy5oYW5kbGVSb3dNb3VzZU92ZXIuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Sb3dNb3VzZU91dD17dGhpcy5oYW5kbGVSb3dNb3VzZU91dC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdFJvdz17dGhpcy5oYW5kbGVTZWxlY3RSb3cuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9EYXRhVGV4dD17dGhpcy5wcm9wcy5vcHRpb25zLm5vRGF0YVRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAge3RhYmxlRmlsdGVyfVxyXG4gICAgICAgICAgICAgICAge3BhZ2luYXRpb259XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBpc1NlbGVjdEFsbCgpIHtcclxuICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdFJvd0tleXMgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO1xyXG4gICAgICAgIHZhciBhbGxSb3dLZXlzID0gdGhpcy5zdG9yZS5nZXRBbGxSb3drZXkoKTtcclxuICAgICAgICBpZiAoZGVmYXVsdFNlbGVjdFJvd0tleXMubGVuZ3RoICE9PSBhbGxSb3dLZXlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNlbGVjdFJvd0tleXMubGVuZ3RoID09PSAwID8gZmFsc2UgOiAnaW5kZXRlcm1pbmF0ZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuU2VsZWN0ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShbXSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogW11cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTb3J0KG9yZGVyLCBzb3J0RmllbGQpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uU29ydENoYW5nZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Tb3J0Q2hhbmdlKHNvcnRGaWVsZCwgb3JkZXIsIHRoaXMucHJvcHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuc3RvcmUuc29ydChvcmRlciwgc29ydEZpZWxkKS5nZXQoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUGFnaW5hdGlvbkRhdGEocGFnZSwgc2l6ZVBlclBhZ2UpIHtcclxuICAgICAgICBjb25zdCB7b25QYWdlQ2hhbmdlfSA9IHRoaXMucHJvcHMub3B0aW9ucztcclxuICAgICAgICBpZiAob25QYWdlQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIG9uUGFnZUNoYW5nZShwYWdlLCBzaXplUGVyUGFnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5zdG9yZS5wYWdlKHBhZ2UsIHNpemVQZXJQYWdlKS5nZXQoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBjdXJyUGFnZTogcGFnZSxcclxuICAgICAgICAgICAgc2l6ZVBlclBhZ2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVNb3VzZUxlYXZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUxlYXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vbk1vdXNlTGVhdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTW91c2VFbnRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm9uTW91c2VFbnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Nb3VzZUVudGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVJvd01vdXNlT3V0KHJvdykge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU91dCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU91dChyb3cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVSb3dNb3VzZU92ZXIocm93KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3Zlcikge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU92ZXIocm93KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUm93Q2xpY2socm93KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5vblJvd0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblJvd0NsaWNrKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlbGVjdEFsbFJvdyhlKSB7XHJcbiAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZDtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRSb3dLZXlzID0gW107XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0QWxsKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0QWxsKGlzU2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkID8gdGhpcy5zdG9yZS5nZXQoKSA6IFtdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJyB8fCByZXN1bHQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMgPSB0aGlzLnN0b3JlLmdldEFsbFJvd2tleSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KHNlbGVjdGVkUm93S2V5cyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBzZWxlY3RlZFJvd0tleXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNob3dPbmx5U2VsZWN0ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5pZ25vcmVOb25TZWxlY3RlZCgpO1xyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UoMSwgdGhpcy5zdGF0ZS5zaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgY3VyclBhZ2U6IDEsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VsZWN0Um93KHJvdywgaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIGxldCBjdXJyU2VsZWN0ZWQgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO1xyXG4gICAgICAgIGxldCByb3dLZXkgPSByb3dbdGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpXTtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cub25TZWxlY3QpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cub25TZWxlY3Qocm93LCBpc1NlbGVjdGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJyB8fCByZXN1bHQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlID09PSBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSkge1xyXG4gICAgICAgICAgICAgICAgY3VyclNlbGVjdGVkID0gaXNTZWxlY3RlZCA/IFtyb3dLZXldIDogW11cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclNlbGVjdGVkLnB1c2gocm93S2V5KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclNlbGVjdGVkID0gY3VyclNlbGVjdGVkLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dLZXkgIT09IGtleTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShjdXJyU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogY3VyclNlbGVjdGVkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFZGl0Q2VsbChuZXdWYWwsIHJvd0luZGV4LCBjb2xJbmRleCkge1xyXG4gICAgICAgIGxldCBmaWVsZE5hbWU7XHJcbiAgICAgICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaCh0aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY29sdW1uLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID09IGNvbEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPSBjb2x1bW4ucHJvcHMuZGF0YUZpZWxkO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnN0b3JlLmVkaXQobmV3VmFsLCByb3dJbmRleCwgZmllbGROYW1lKS5nZXQoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNlbGxFZGl0LmFmdGVyU2F2ZUNlbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jZWxsRWRpdC5hZnRlclNhdmVDZWxsKHRoaXMuc3RhdGUuZGF0YVtyb3dJbmRleF0sIGZpZWxkTmFtZSwgbmV3VmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQWRkUm93QmVnaW4oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcy5ib2R5KSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucmVmcy5ib2R5LmNhbmNlbEVkaXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQWRkUm93KG5ld09iaikge1xyXG4gICAgICAgIGxldCBtc2cgPSBudWxsLCByZXN1bHQ7XHJcbiAgICAgICAgbGV0IGJlZm9yZVByb21pc2UgPSB0aGlzLnByb3BzLm9wdGlvbnMuYmVmb3JlSW5zZXJ0Um93ID8gdGhpcy5wcm9wcy5vcHRpb25zLmJlZm9yZUluc2VydFJvdyhuZXdPYmopIDogbmV3T2JqXHJcblxyXG4gICAgICAgIC8vZXhlY3V0ZSBiZWZvcmUgYWRkIHJvd1xyXG5cclxuICAgICAgICBQcm9taXNlLnJlc29sdmUoYmVmb3JlUHJvbWlzZSkudGhlbigobXNnKT0+IHtcclxuICAgICAgICAgICAgbmV3T2JqID0gbXNnXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmFkZChuZXdPYmopO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy9pZiBwYWdpbmF0aW9uIGlzIGVuYWJsZWQgYW5kIGluc2VydCByb3cgYmUgdHJpZ2dlciwgY2hhbmdlIHRvIGxhc3QgcGFnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaXplUGVyUGFnZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJMYXN0UGFnZSA9IE1hdGguY2VpbCh0aGlzLnN0b3JlLmdldERhdGFOdW0oKSAvIHNpemVQZXJQYWdlKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZShjdXJyTGFzdFBhZ2UsIHNpemVQZXJQYWdlKS5nZXQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUGFnZTogY3Vyckxhc3RQYWdlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckluc2VydFJvdykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVySW5zZXJ0Um93KG5ld09iaik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSkudGhlbigoZSk9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2l6ZVBlclBhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2l6ZVBlclBhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VycmVudFBhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VyclBhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRHJvcFJvdyhyb3dLZXlzKSB7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBkcm9wUm93S2V5cyA9IHJvd0tleXMgPyByb3dLZXlzIDogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKTtcclxuICAgICAgICAvL2FkZCBjb25maXJtIGJlZm9yZSB0aGUgZGVsZXRlIGFjdGlvbiBpZiB0aGF0IG9wdGlvbiBpcyBzZXQuXHJcbiAgICAgICAgaWYgKGRyb3BSb3dLZXlzICYmIGRyb3BSb3dLZXlzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5oYW5kbGVDb25maXJtRGVsZXRlUm93KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuaGFuZGxlQ29uZmlybURlbGV0ZVJvdyhcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZGVsZXRlUm93KGRyb3BSb3dLZXlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB3YW50IGRlbGV0ZT8nKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVSb3coZHJvcFJvd0tleXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZVJvdyhkcm9wUm93S2V5cykge1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHRoaXMuc3RvcmUucmVtb3ZlKGRyb3BSb3dLZXlzKTsgIC8vcmVtb3ZlIHNlbGVjdGVkIFJvd1xyXG4gICAgICAgIHRoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoW10pOyAgLy9jbGVhciBzZWxlY3RlZCByb3cga2V5XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgeyBzaXplUGVyUGFnZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICAgICAgbGV0IHsgY3VyclBhZ2UgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgICAgIGxldCBjdXJyTGFzdFBhZ2UgPSBNYXRoLmNlaWwodGhpcy5zdG9yZS5nZXREYXRhTnVtKCkgLyBzaXplUGVyUGFnZSk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyUGFnZSA+IGN1cnJMYXN0UGFnZSlcclxuICAgICAgICAgICAgICAgIGN1cnJQYWdlID0gY3Vyckxhc3RQYWdlO1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UoY3VyclBhZ2UsIHNpemVQZXJQYWdlKS5nZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCksXHJcbiAgICAgICAgICAgICAgICBjdXJyUGFnZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLmdldCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdykge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJEZWxldGVSb3coZHJvcFJvd0tleXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRmlsdGVyRGF0YShmaWx0ZXJPYmopIHtcclxuICAgICAgICB0aGlzLnN0b3JlLmZpbHRlcihmaWx0ZXJPYmopO1xyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCB7IHNpemVQZXJQYWdlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN0b3JlLnBhZ2UoMSwgc2l6ZVBlclBhZ2UpLmdldCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJDb2x1bW5GaWx0ZXIpXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hZnRlckNvbHVtbkZpbHRlcihmaWx0ZXJPYmosXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgY3VyclBhZ2U6IDFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFeHBvcnRDU1YoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuc3RvcmUuZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpO1xyXG4gICAgICAgIHZhciBrZXlzID0gW107XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uLnByb3BzLmhpZGRlbiA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGtleXMucHVzaChjb2x1bW4ucHJvcHMuZGF0YUZpZWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGV4cG9ydENTVihyZXN1bHQsIGtleXMsIHRoaXMucHJvcHMuY3N2RmlsZU5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlYXJjaChzZWFyY2hUZXh0KSB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5zZWFyY2goc2VhcmNoVGV4dCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2l6ZVBlclBhZ2UgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3RvcmUucGFnZSgxLCBzaXplUGVyUGFnZSkuZ2V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zdG9yZS5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclNlYXJjaClcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyU2VhcmNoKHNlYXJjaFRleHQsIHRoaXMuc3RvcmUuZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvbigpKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBjdXJyUGFnZTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBhZ2luYXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICBsZXQgZGF0YVNpemU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhU2l6ZSA9IHRoaXMucHJvcHMuZmV0Y2hJbmZvLmRhdGFUb3RhbFNpemU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhU2l6ZSA9IHRoaXMuc3RvcmUuZ2V0RGF0YU51bSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYmxlLWZvb3Rlci1wYWdpbmF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFBhZ2luYXRpb25MaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cInBhZ2luYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyUGFnZT17IHRoaXMuc3RhdGUuY3VyclBhZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQYWdlPXt0aGlzLmhhbmRsZVBhZ2luYXRpb25EYXRhLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlPXsgdGhpcy5zdGF0ZS5zaXplUGVyUGFnZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVQZXJQYWdlTGlzdD17dGhpcy5wcm9wcy5vcHRpb25zLnNpemVQZXJQYWdlTGlzdCB8fCBDb25zdC5TSVpFX1BFUl9QQUdFX0xJU1R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25TaXplPXt0aGlzLnByb3BzLm9wdGlvbnMucGFnaW5hdGlvblNpemUgfHwgQ29uc3QuUEFHSU5BVElPTl9TSVpFfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGU9e3RoaXMuaXNSZW1vdGVEYXRhU291cmNlKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTaXplPXtkYXRhU2l6ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TaXplUGVyUGFnZUxpc3Q9e3RoaXMucHJvcHMub3B0aW9ucy5vblNpemVQZXJQYWdlTGlzdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlUGFnZT17dGhpcy5wcm9wcy5vcHRpb25zLnByZVBhZ2UgfHwgQ29uc3QuUFJFX1BBR0V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQYWdlPXt0aGlzLnByb3BzLm9wdGlvbnMubmV4dFBhZ2UgfHwgQ29uc3QuTkVYVF9QQUdFfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFBhZ2U9e3RoaXMucHJvcHMub3B0aW9ucy5maXJzdFBhZ2UgfHwgQ29uc3QuRklSU1RfUEFHRX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhZ2U9e3RoaXMucHJvcHMub3B0aW9ucy5sYXN0UGFnZSB8fCBDb25zdC5MQVNUX1BBR0V9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUb29sQmFyKCkge1xyXG4gICAgICAgIGxldCBlbmFibGVTaG93T25seVNlbGVjdGVkID0gdGhpcy5wcm9wcy5zZWxlY3RSb3cgJiYgdGhpcy5wcm9wcy5zZWxlY3RSb3cuc2hvd09ubHlTZWxlY3RlZDtcclxuICAgICAgICBpZiAoZW5hYmxlU2hvd09ubHlTZWxlY3RlZFxyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLmluc2VydFJvd1xyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLmRlbGV0ZVJvd1xyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLnNlYXJjaFxyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLmV4cG9ydENTVikge1xyXG4gICAgICAgICAgICBsZXQgY29sdW1ucztcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSB0aGlzLnByb3BzLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gY29sdW1uLnByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3BzLmNoaWxkcmVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogcHJvcHMuZGF0YUZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3doZW4geW91IHdhbnQgc2FtZSBhdXRvIGdlbmVyYXRlIHZhbHVlIGFuZCBub3QgYWxsb3cgZWRpdCwgZXhhbXBsZSBJRCBmaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvVmFsdWU6IHByb3BzLmF1dG9WYWx1ZSB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgY3JlYXRlIGVkaXRvciwgbm8gcGFyYW1zIGZvciBjb2x1bW4uZWRpdGFibGUoKSBpbmRpY2F0ZSB0aGF0IGVkaXRvciBmb3IgbmV3IHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogcHJvcHMuZWRpdGFibGUgJiYgKHR5cGVvZiBwcm9wcy5lZGl0YWJsZSA9PT0gXCJmdW5jdGlvblwiKSA/IHByb3BzLmVkaXRhYmxlKCkgOiBwcm9wcy5lZGl0YWJsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuSW5Qb3B1cDogcHJvcHMuaGlkZGVuSW5Qb3B1cCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBwcm9wcy5kYXRhRm9ybWF0ID8gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHMuZGF0YUZvcm1hdCh2YWx1ZSwgbnVsbCwgcHJvcHMuZm9ybWF0RXh0cmFEYXRhKS5yZXBsYWNlKC88Lio/Pi9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSBbe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuZGF0YUZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLmVkaXRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbkluUG9wdXA6IHRoaXMucHJvcHMuY2hpbGRyZW4ucHJvcHMuaGlkZGVuSW5Qb3B1cFxyXG4gICAgICAgICAgICAgICAgfV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbC1iYXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8VG9vbEJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclNlYXJjaD17dGhpcy5wcm9wcy5vcHRpb25zLmNsZWFyU2VhcmNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVJbnNlcnQ9e3RoaXMucHJvcHMuaW5zZXJ0Um93fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVEZWxldGU9e3RoaXMucHJvcHMuZGVsZXRlUm93fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVTZWFyY2g9e3RoaXMucHJvcHMuc2VhcmNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVFeHBvcnRDU1Y9e3RoaXMucHJvcHMuZXhwb3J0Q1NWfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVTaG93T25seVNlbGVjdGVkPXtlbmFibGVTaG93T25seVNlbGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hQbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5zZWFyY2hQbGFjZWhvbGRlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25BZGRSb3c9e3RoaXMuaGFuZGxlQWRkUm93LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQWRkUm93QmVnaW49e3RoaXMuaGFuZGxlQWRkUm93QmVnaW4uYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ecm9wUm93PXt0aGlzLmhhbmRsZURyb3BSb3cuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9e3RoaXMuaGFuZGxlU2VhcmNoLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXhwb3J0Q1NWPXt0aGlzLmhhbmRsZUV4cG9ydENTVi5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNob3dPbmx5U2VsZWN0ZWQ9e3RoaXMuaGFuZGxlU2hvd09ubHlTZWxlY3RlZC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUYWJsZUZpbHRlcihjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29sdW1uRmlsdGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8VGFibGVGaWx0ZXIgY29sdW1ucz17Y29sdW1uc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3RUeXBlPXt0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRmlsdGVyPXt0aGlzLmhhbmRsZUZpbHRlckRhdGEuYmluZCh0aGlzKX0vPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfc2Nyb2xsSGVhZGVyID0gKGUpID0+IHtcclxuICAgICAgICB0aGlzLnJlZnMuaGVhZGVyLnJlZnMuY29udGFpbmVyLnNjcm9sbExlZnQgPSBlLmN1cnJlbnRUYXJnZXQuc2Nyb2xsTGVmdDtcclxuICAgIH1cclxuXHJcbiAgICBfYWRqdXN0SGVhZGVyV2lkdGggPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIHRhYmxlSGVhZGVyRG9tID0gdGhpcy5yZWZzLmhlYWRlci5yZWZzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdO1xyXG4gICAgICAgIHZhciB0YWJsZUJvZHlEb20gPSB0aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdO1xyXG4gICAgICAgIGlmICh0YWJsZUhlYWRlckRvbS5vZmZzZXRXaWR0aCAhPT0gdGFibGVCb2R5RG9tLm9mZnNldFdpZHRoKSB7XHJcbiAgICAgICAgICAgIHRhYmxlSGVhZGVyRG9tLnN0eWxlLndpZHRoID0gdGFibGVCb2R5RG9tLm9mZnNldFdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoZWFkZXJQcm9wcyA9IHRoaXMucmVmcy5ib2R5LmdldEJvZHlIZWFkZXJEb21Qcm9wKCk7XHJcbiAgICAgICAgdGhpcy5yZWZzLmhlYWRlci5maXRIZWFkZXIoaGVhZGVyUHJvcHMsXHJcbiAgICAgICAgICAgIHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLnNjcm9sbEhlaWdodCA+IHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmNsaWVudEhlaWdodCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkJvb3RzdHJhcFRhYmxlLnByb3BUeXBlcyA9IHtcclxuICAgIGtleUZpZWxkOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgaGVpZ2h0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgbWF4SGVpZ2h0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgdGFibGVJRDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGRhdGE6IFJlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW1JlYWN0LlByb3BUeXBlcy5hcnJheSwgUmVhY3QuUHJvcFR5cGVzLm9iamVjdF0pLFxyXG4gICAgcmVtb3RlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCwgLy8gcmVtb3RlIGRhdGEsIGRlZmF1bHQgaXMgZmFsc2VcclxuICAgIHN0cmlwZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgYm9yZGVyZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgaG92ZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgY29uZGVuc2VkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIHBhZ2luYXRpb246IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgc2VhcmNoUGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBzZWxlY3RSb3c6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgbW9kZTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFtcclxuICAgICAgICAgICAgQ29uc3QuUk9XX1NFTEVDVF9OT05FLFxyXG4gICAgICAgICAgICBDb25zdC5ST1dfU0VMRUNUX1NJTkdMRSxcclxuICAgICAgICAgICAgQ29uc3QuUk9XX1NFTEVDVF9NVUxUSVxyXG4gICAgICAgIF0pLFxyXG4gICAgICAgIGJnQ29sb3I6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgc2VsZWN0ZWQ6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcclxuICAgICAgICBvblNlbGVjdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgb25TZWxlY3RBbGw6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIGNsaWNrVG9TZWxlY3Q6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIGhpZGVTZWxlY3RDb2x1bW46IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgc2hvd09ubHlTZWxlY3RlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2xcclxuICAgIH0pLFxyXG4gICAgY2VsbEVkaXQ6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgbW9kZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBibHVyVG9TYXZlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgICAgICBhZnRlclNhdmVDZWxsOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xyXG4gICAgfSksXHJcbiAgICBpbnNlcnRSb3c6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgZGVsZXRlUm93OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIHNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBjb2x1bW5GaWx0ZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgdHJDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5hbnksXHJcbiAgICBvcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgICAgIGJlZm9yZUluc2VydFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgY2xlYXJTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIHNvcnROYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIHNvcnRPcmRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBhZnRlclRhYmxlQ29tcGxldGU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIGFmdGVyRGVsZXRlUm93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBhZnRlckluc2VydFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgYWZ0ZXJTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIGFmdGVyQ29sdW1uRmlsdGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBvblJvd0NsaWNrOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBwYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIHNpemVQZXJQYWdlTGlzdDogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgICAgIHNpemVQZXJQYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIHBhZ2luYXRpb25TaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIG9uU29ydENoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgb25QYWdlQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBvblNpemVQZXJQYWdlTGlzdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgbm9EYXRhVGV4dDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBoYW5kbGVDb25maXJtRGVsZXRlUm93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgICAgICBwcmVQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIG5leHRQYWdlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGZpcnN0UGFnZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBsYXN0UGFnZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG4gICAgfSksXHJcbiAgICBmZXRjaEluZm86IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgZGF0YVRvdGFsU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICAgIH0pLFxyXG4gICAgZXhwb3J0Q1NWOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGNzdkZpbGVOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcblxyXG5Cb290c3RyYXBUYWJsZS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgbWF4SGVpZ2h0OiB1bmRlZmluZWQsXHJcbiAgICB0YWJsZUlEOiB1bmRlZmluZWQsXHJcbiAgICBzdHJpcGVkOiBmYWxzZSxcclxuICAgIGJvcmRlcmVkOiB0cnVlLFxyXG4gICAgaG92ZXI6IGZhbHNlLFxyXG4gICAgY29uZGVuc2VkOiBmYWxzZSxcclxuICAgIHBhZ2luYXRpb246IGZhbHNlLFxyXG4gICAgc2VhcmNoUGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcclxuICAgIHNlbGVjdFJvdzoge1xyXG4gICAgICAgIG1vZGU6IENvbnN0LlJPV19TRUxFQ1RfTk9ORSxcclxuICAgICAgICBiZ0NvbG9yOiBDb25zdC5ST1dfU0VMRUNUX0JHX0NPTE9SLFxyXG4gICAgICAgIHNlbGVjdGVkOiBbXSxcclxuICAgICAgICBvblNlbGVjdDogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uU2VsZWN0QWxsOiB1bmRlZmluZWQsXHJcbiAgICAgICAgY2xpY2tUb1NlbGVjdDogZmFsc2UsXHJcbiAgICAgICAgaGlkZVNlbGVjdENvbHVtbjogZmFsc2UsXHJcbiAgICAgICAgY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsOiBmYWxzZSxcclxuICAgICAgICBzaG93T25seVNlbGVjdGVkOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIGNlbGxFZGl0OiB7XHJcbiAgICAgICAgbW9kZTogQ29uc3QuQ0VMTF9FRElUX05PTkUsXHJcbiAgICAgICAgYmx1clRvU2F2ZTogZmFsc2UsXHJcbiAgICAgICAgYWZ0ZXJTYXZlQ2VsbDogdW5kZWZpbmVkXHJcbiAgICB9LFxyXG4gICAgaW5zZXJ0Um93OiBmYWxzZSxcclxuICAgIGRlbGV0ZVJvdzogZmFsc2UsXHJcbiAgICBzZWFyY2g6IGZhbHNlLFxyXG4gICAgbXVsdGlDb2x1bW5TZWFyY2g6IGZhbHNlLFxyXG4gICAgY29sdW1uRmlsdGVyOiBmYWxzZSxcclxuICAgIHRyQ2xhc3NOYW1lOiAnJyxcclxuICAgIG9wdGlvbnM6IHtcclxuICAgICAgICBjbGVhclNlYXJjaDogZmFsc2UsXHJcbiAgICAgICAgc29ydE5hbWU6IHVuZGVmaW5lZCxcclxuICAgICAgICBzb3J0T3JkZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICBhZnRlclRhYmxlQ29tcGxldGU6IHVuZGVmaW5lZCxcclxuICAgICAgICBhZnRlckRlbGV0ZVJvdzogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFmdGVySW5zZXJ0Um93OiB1bmRlZmluZWQsXHJcbiAgICAgICAgYWZ0ZXJTZWFyY2g6IHVuZGVmaW5lZCxcclxuICAgICAgICBhZnRlckNvbHVtbkZpbHRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIG9uUm93Q2xpY2s6IHVuZGVmaW5lZCxcclxuICAgICAgICBvbk1vdXNlTGVhdmU6IHVuZGVmaW5lZCxcclxuICAgICAgICBvbk1vdXNlRW50ZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICBvblJvd01vdXNlT3V0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgb25Sb3dNb3VzZU92ZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICBwYWdlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgc2l6ZVBlclBhZ2VMaXN0OiBDb25zdC5TSVpFX1BFUl9QQUdFX0xJU1QsXHJcbiAgICAgICAgc2l6ZVBlclBhZ2U6IHVuZGVmaW5lZCxcclxuICAgICAgICBwYWdpbmF0aW9uU2l6ZTogQ29uc3QuUEFHSU5BVElPTl9TSVpFLFxyXG4gICAgICAgIG9uU2l6ZVBlclBhZ2VMaXN0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgbm9EYXRhVGV4dDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGhhbmRsZUNvbmZpcm1EZWxldGVSb3c6IHVuZGVmaW5lZCxcclxuICAgICAgICBwcmVQYWdlOiBDb25zdC5QUkVfUEFHRSxcclxuICAgICAgICBuZXh0UGFnZTogQ29uc3QuTkVYVF9QQUdFLFxyXG4gICAgICAgIGZpcnN0UGFnZTogQ29uc3QuRklSU1RfUEFHRSxcclxuICAgICAgICBsYXN0UGFnZTogQ29uc3QuTEFTVF9QQUdFXHJcbiAgICB9LFxyXG4gICAgZmV0Y2hJbmZvOiB7XHJcbiAgICAgICAgZGF0YVRvdGFsU2l6ZTogMCxcclxuICAgIH0sXHJcbiAgICBleHBvcnRDU1Y6IGZhbHNlLFxyXG4gICAgY3N2RmlsZU5hbWU6IHVuZGVmaW5lZFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQm9vdHN0cmFwVGFibGU7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL0Jvb3RzdHJhcFRhYmxlLmpzXG4gKiovIiwiaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbHRlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgc3VwZXIoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVyID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRmlsdGVyKGRhdGFGaWVsZCwgdmFsdWUsIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBmaWx0ZXJUeXBlID0gdHlwZSB8fCBDb25zdC5GSUxURVJfVFlQRS5DVVNUT007XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgLy8gdmFsdWUgb2YgdGhlIGZpbHRlciBpcyBhbiBvYmplY3RcclxuICAgICAgICAgICAgbGV0IGhhc1ZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZVtwcm9wXSB8fCB2YWx1ZVtwcm9wXSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgb25lIG9mIHRoZSBvYmplY3QgcHJvcGVydGllcyBpcyB1bmRlZmluZWQgb3IgZW1wdHksIHdlIHJlbW92ZSB0aGUgZmlsdGVyXHJcbiAgICAgICAgICAgIChoYXNWYWx1ZSkgPyB0aGlzLmN1cnJlbnRGaWx0ZXJbZGF0YUZpZWxkXSA9IHt2YWx1ZTogdmFsdWUsIHR5cGU6IGZpbHRlclR5cGV9IDogZGVsZXRlIHRoaXMuY3VycmVudEZpbHRlcltkYXRhRmllbGRdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVyW2RhdGFGaWVsZF0gPSB7dmFsdWU6IHZhbHVlLnRyaW0oKSwgdHlwZTogZmlsdGVyVHlwZX07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW1pdCgnb25GaWx0ZXJDaGFuZ2UnLCB0aGlzLmN1cnJlbnRGaWx0ZXIpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL0ZpbHRlci5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5cclxuY2xhc3MgU2VsZWN0Um93SGVhZGVyQ29sdW1uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG5cclxuICByZW5kZXIoKXtcclxuICAgIHZhciB0aFN0eWxlID0ge1xyXG4gICAgICB3aWR0aDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCk/dGhpcy5wcm9wcy53aWR0aDozNVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4oXHJcbiAgICAgIDx0aCBzdHlsZT17dGhTdHlsZX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uXCI+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC90aD5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlbGVjdFJvd0hlYWRlckNvbHVtbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvU2VsZWN0Um93SGVhZGVyQ29sdW1uLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgVGFibGVSb3cgZnJvbSAnLi9UYWJsZVJvdyc7XHJcbmltcG9ydCBUYWJsZUNvbHVtbiBmcm9tICcuL1RhYmxlQ29sdW1uJztcclxuaW1wb3J0IFRhYmxlRWRpdENvbHVtbiBmcm9tICcuL1RhYmxlRWRpdENvbHVtbic7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbnZhciBpc0Z1bj1mdW5jdGlvbihvYmope1xyXG4gIHJldHVybiBvYmomJih0eXBlb2Ygb2JqPT09XCJmdW5jdGlvblwiKTtcclxuXHJcbn07XHJcbmNsYXNzIFRhYmxlQm9keSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGN1cnJFZGl0Q2VsbDogbnVsbFxyXG4gICAgfTtcclxuICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKXtcclxuICAgIHRoaXMuYWRqdXN0Qm9keSgpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlKCl7XHJcbiAgICB0aGlzLmFkanVzdEJvZHkoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIGNvbnRhaW5lckNsYXNzZXMgPSBjbGFzc1NldChcInRhYmxlLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICB2YXIgdGFibGVDbGFzc2VzID0gY2xhc3NTZXQoXCJ0YWJsZVwiLCB7XHJcbiAgICAgICd0YWJsZS1zdHJpcGVkJzogdGhpcy5wcm9wcy5zdHJpcGVkLFxyXG4gICAgICAndGFibGUtYm9yZGVyZWQnOiB0aGlzLnByb3BzLmJvcmRlcmVkLFxyXG4gICAgICAndGFibGUtaG92ZXInOiB0aGlzLnByb3BzLmhvdmVyLFxyXG4gICAgICAndGFibGUtY29uZGVuc2VkJzogdGhpcy5wcm9wcy5jb25kZW5zZWRcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBpc1NlbGVjdFJvd0RlZmluZWQgPSB0aGlzLl9pc1NlbGVjdFJvd0RlZmluZWQoKTtcclxuICAgIHZhciB0YWJsZUhlYWRlciA9IHRoaXMucmVuZGVyVGFibGVIZWFkZXIoaXNTZWxlY3RSb3dEZWZpbmVkKTtcclxuXHJcbiAgICB2YXIgdGFibGVSb3dzID0gdGhpcy5wcm9wcy5kYXRhLm1hcChmdW5jdGlvbihkYXRhLCByKXtcclxuICAgICAgdmFyIHRhYmxlQ29sdW1ucyA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24oY29sdW1uLCBpKXtcclxuICAgICAgICB2YXIgZmllbGRWYWx1ZSA9IGRhdGFbY29sdW1uLm5hbWVdO1xyXG4gICAgICAgIGlmKHRoaXMuZWRpdGluZyAmJlxyXG4gICAgICAgICAgY29sdW1uLm5hbWUgIT09IHRoaXMucHJvcHMua2V5RmllbGQgJiYgLy8gS2V5IGZpZWxkIGNhbid0IGJlIGVkaXRcclxuICAgICAgICAgIGNvbHVtbi5lZGl0YWJsZSAmJiAvLyBjb2x1bW4gaXMgZWRpdGFibGU/IGRlZmF1bHQgaXMgdHJ1ZSwgdXNlciBjYW4gc2V0IGl0IGZhbHNlXHJcbiAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbCAhPSBudWxsICYmXHJcbiAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbC5yaWQgPT0gciAmJlxyXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyRWRpdENlbGwuY2lkID09IGkpe1xyXG4gICAgICAgICAgICB2YXIgZm9ybWF0PWNvbHVtbi5mb3JtYXQ/ZnVuY3Rpb24odmFsdWUpe1xyXG4gICAgICAgICAgICAgIHJldHVybiBjb2x1bW4uZm9ybWF0KHZhbHVlLCBkYXRhLCBjb2x1bW4uZm9ybWF0RXh0cmFEYXRhKS5yZXBsYWNlKC88Lio/Pi9nLCcnKTtcclxuICAgICAgICAgICAgfTpmYWxzZTtcclxuXHJcbiAgICAgICAgICByZXR1cm4oXHJcbiAgICAgICAgICAgICAgPFRhYmxlRWRpdENvbHVtbiBjb21wbGV0ZUVkaXQ9e3RoaXMuaGFuZGxlQ29tcGxldGVFZGl0Q2VsbC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgYnkgYmx1ZXNwcmluZyBmb3IgY29sdW1uIGVkaXRvciBjdXN0b21pemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlPXtpc0Z1bihjb2x1bW4uZWRpdGFibGUpP2NvbHVtbi5lZGl0YWJsZShmaWVsZFZhbHVlLGRhdGEscixpKTpjb2x1bW4uZWRpdGFibGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ9e2NvbHVtbi5mb3JtYXQ/Zm9ybWF0OmZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmx1clRvU2F2ZT17dGhpcy5wcm9wcy5jZWxsRWRpdC5ibHVyVG9TYXZlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93SW5kZXg9e3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xJbmRleD17aX0+XHJcbiAgICAgICAgICAgICAgICB7ZmllbGRWYWx1ZX1cclxuICAgICAgICAgICAgICA8L1RhYmxlRWRpdENvbHVtbj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgIC8vYWRkIGJ5IGJsdWVzcHJpbmcgZm9yIGNsYXNzTmFtZSBjdXN0b21pemVcclxuICAgICAgICAgIHZhciB0ZENsYXNzTmFtZT1pc0Z1bihjb2x1bW4uY2xhc3NOYW1lKT9jb2x1bW4uY2xhc3NOYW1lKGZpZWxkVmFsdWUsZGF0YSxyLGkpOmNvbHVtbi5jbGFzc05hbWU7XHJcblxyXG4gICAgICAgICAgaWYodHlwZW9mIGNvbHVtbi5mb3JtYXQgIT09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBjb2x1bW4uZm9ybWF0KGZpZWxkVmFsdWUsIGRhdGEsIGNvbHVtbi5mb3JtYXRFeHRyYURhdGEpO1xyXG4gICAgICAgICAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGZvcm1hdHRlZFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gPGRpdiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogZm9ybWF0dGVkVmFsdWV9fT48L2Rpdj47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuKFxyXG4gICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBkYXRhQWxpZ249e2NvbHVtbi5hbGlnbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RkQ2xhc3NOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsRWRpdD17dGhpcy5wcm9wcy5jZWxsRWRpdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuPXtjb2x1bW4uaGlkZGVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXQ9e3RoaXMuaGFuZGxlRWRpdENlbGwuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9e2NvbHVtbi53aWR0aH0+XHJcbiAgICAgICAgICAgICAgICB7Zm9ybWF0dGVkVmFsdWV9XHJcbiAgICAgICAgICAgICAgPC9UYWJsZUNvbHVtbj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4oXHJcbiAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGRhdGFBbGlnbj17Y29sdW1uLmFsaWdufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGRDbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxFZGl0PXt0aGlzLnByb3BzLmNlbGxFZGl0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW49e2NvbHVtbi5oaWRkZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdD17dGhpcy5oYW5kbGVFZGl0Q2VsbC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17Y29sdW1uLndpZHRofT5cclxuICAgICAgICAgICAgICAgIHtmaWVsZFZhbHVlfVxyXG4gICAgICAgICAgICAgIDwvVGFibGVDb2x1bW4+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIHRoaXMpO1xyXG4gICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnByb3BzLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGRhdGFbdGhpcy5wcm9wcy5rZXlGaWVsZF0pICE9IC0xO1xyXG4gICAgICB2YXIgc2VsZWN0Um93Q29sdW1uID0gaXNTZWxlY3RSb3dEZWZpbmVkICYmICF0aGlzLnByb3BzLnNlbGVjdFJvdy5oaWRlU2VsZWN0Q29sdW1uP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNlbGVjdFJvd0NvbHVtbihzZWxlY3RlZCk6bnVsbDtcclxuICAgICAgLy9hZGQgYnkgYmx1ZXNwcmluZyBmb3IgY2xhc3NOYW1lIGN1c3RvbWl6ZVxyXG4gICAgICB2YXIgdHJDbGFzc05hbWU9aXNGdW4odGhpcy5wcm9wcy50ckNsYXNzTmFtZSk/dGhpcy5wcm9wcy50ckNsYXNzTmFtZShkYXRhLHIpOnRoaXMucHJvcHMudHJDbGFzc05hbWU7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFRhYmxlUm93IGlzU2VsZWN0ZWQ9e3NlbGVjdGVkfSBrZXk9e3J9IGNsYXNzTmFtZT17dHJDbGFzc05hbWV9XHJcbiAgICAgICAgICBzZWxlY3RSb3c9e2lzU2VsZWN0Um93RGVmaW5lZD90aGlzLnByb3BzLnNlbGVjdFJvdzp1bmRlZmluZWR9XHJcbiAgICAgICAgICBlbmFibGVDZWxsRWRpdD17dGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlICE9PSBDb25zdC5DRUxMX0VESVRfTk9ORX1cclxuICAgICAgICAgIG9uUm93Q2xpY2s9e3RoaXMuaGFuZGxlUm93Q2xpY2suYmluZCh0aGlzKX1cclxuICAgICAgICAgIG9uUm93TW91c2VPdmVyPXt0aGlzLmhhbmRsZVJvd01vdXNlT3Zlci5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgb25Sb3dNb3VzZU91dD17dGhpcy5oYW5kbGVSb3dNb3VzZU91dC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgb25TZWxlY3RSb3c9e3RoaXMuaGFuZGxlU2VsZWN0Um93LmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAge3NlbGVjdFJvd0NvbHVtbn1cclxuICAgICAgICAgIHt0YWJsZUNvbHVtbnN9XHJcbiAgICAgICAgPC9UYWJsZVJvdz5cclxuICAgICAgKVxyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgaWYodGFibGVSb3dzLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgIHRhYmxlUm93cy5wdXNoKFxyXG4gICAgICA8VGFibGVSb3cga2V5PVwiIyN0YWJsZS1lbXB0eSMjXCI+XHJcbiAgICAgICAgPHRkIGNvbFNwYW49e3RoaXMucHJvcHMuY29sdW1ucy5sZW5ndGgrKGlzU2VsZWN0Um93RGVmaW5lZD8xOjApfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWFjdC1icy10YWJsZS1uby1kYXRhXCI+XHJcbiAgICAgICAgICAgIHt0aGlzLnByb3BzLm5vRGF0YVRleHR8fENvbnN0Lk5PX0RBVEFfVEVYVH1cclxuICAgICAgICA8L3RkPlxyXG4gICAgICA8L1RhYmxlUm93Pik7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lZGl0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgdmFyIGhlaWdodCA9IHRoaXMuY2FsY3VsYXRlQ29udGFpbmVySGVpZ2h0KCkudG9TdHJpbmcoKTtcclxuXHJcbiAgICByZXR1cm4oXHJcbiAgICAgIDxkaXYgcmVmPVwiY29udGFpbmVyXCIgY2xhc3NOYW1lPXtjb250YWluZXJDbGFzc2VzfSBzdHlsZT17e2hlaWdodDogaGVpZ2h0fX0+XHJcbiAgICAgICAgPHRhYmxlIHJlZj1cImJvZHlcIiBjbGFzc05hbWU9e3RhYmxlQ2xhc3Nlc30+XHJcbiAgICAgICAgICB7dGFibGVIZWFkZXJ9XHJcbiAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgIHt0YWJsZVJvd3N9XHJcbiAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyVGFibGVIZWFkZXIoaXNTZWxlY3RSb3dEZWZpbmVkKXtcclxuICAgIHZhciBzZWxlY3RSb3dIZWFkZXIgPSBudWxsO1xyXG5cclxuICAgIGlmKGlzU2VsZWN0Um93RGVmaW5lZCl7XHJcbiAgICAgIGxldCBzdHlsZSA9IHtcclxuICAgICAgICB3aWR0aDozNSxcclxuICAgICAgICBtaW5XaWR0aDozNVxyXG4gICAgICB9XHJcbiAgICAgIHNlbGVjdFJvd0hlYWRlciA9IHRoaXMucHJvcHMuc2VsZWN0Um93LmhpZGVTZWxlY3RDb2x1bW4/bnVsbDooPHRoIHN0eWxlPXtzdHlsZX0ga2V5PXstMX0+PC90aD4pO1xyXG4gICAgfVxyXG4gICAgdmFyIHRoZWFkZXIgPSB0aGlzLnByb3BzLmNvbHVtbnMubWFwKGZ1bmN0aW9uKGNvbHVtbiwgaSl7XHJcbiAgICAgIGxldCB3aWR0aCA9IGNvbHVtbi53aWR0aCA9PSBudWxsP2NvbHVtbi53aWR0aDpwYXJzZUludChjb2x1bW4ud2lkdGgpO1xyXG4gICAgICBsZXQgc3R5bGU9e1xyXG4gICAgICAgIGRpc3BsYXk6IGNvbHVtbi5oaWRkZW4/XCJub25lXCI6bnVsbCxcclxuICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgbWF4V2lkdGg6IHdpZHRoXHJcbiAgICAgICAgLyoqIGFkZCBtaW4td2R0aCB0byBmaXggdXNlciBhc3NpZ24gY29sdW1uIHdpZHRoIG5vdCBlcSBvZmZzZXRXaWR0aCBpbiBsYXJnZSBjb2x1bW4gdGFibGUgKiovXHJcbiAgICAgIH07XHJcbiAgICAgIGxldCBzb3J0Q2FlcnQgPSBjb2x1bW4uc29ydD8oVXRpbC5yZW5kZXJSZWFjdFNvcnRDYXJldChDb25zdC5TT1JUX0RFU0MpKTpudWxsO1xyXG4gICAgICByZXR1cm4gKDx0aCBzdHlsZT17c3R5bGV9IGtleT17aX0gY2xhc3NOYW1lPXtjb2x1bW4uY2xhc3NOYW1lfT57Y29sdW1uLnRleHR9e3NvcnRDYWVydH08L3RoPik7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4oXHJcbiAgICAgIDx0aGVhZCByZWY9XCJoZWFkZXJcIj5cclxuICAgICAgICA8dHI+e3NlbGVjdFJvd0hlYWRlcn17dGhlYWRlcn08L3RyPlxyXG4gICAgICA8L3RoZWFkPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUm93TW91c2VPdXQocm93SW5kZXgpe1xyXG4gICAgY29uc3QgdGFyZ2V0Um93ID0gdGhpcy5wcm9wcy5kYXRhW3Jvd0luZGV4LTFdO1xyXG4gICAgdGhpcy5wcm9wcy5vblJvd01vdXNlT3V0KHRhcmdldFJvdyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSb3dNb3VzZU92ZXIocm93SW5kZXgpe1xyXG4gICAgY29uc3QgdGFyZ2V0Um93ID0gdGhpcy5wcm9wcy5kYXRhW3Jvd0luZGV4LTFdO1xyXG4gICAgdGhpcy5wcm9wcy5vblJvd01vdXNlT3Zlcih0YXJnZXRSb3cpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlUm93Q2xpY2socm93SW5kZXgpe1xyXG4gICAgdmFyIGtleSwgc2VsZWN0ZWRSb3c7XHJcbiAgICB0aGlzLnByb3BzLmRhdGEuZm9yRWFjaChmdW5jdGlvbihyb3csIGkpe1xyXG4gICAgICBpZihpID09IHJvd0luZGV4LTEpe1xyXG4gICAgICAgIGtleSA9IHJvd1t0aGlzLnByb3BzLmtleUZpZWxkXTtcclxuICAgICAgICBzZWxlY3RlZFJvdyA9IHJvdztcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcbiAgICB0aGlzLnByb3BzLm9uUm93Q2xpY2soc2VsZWN0ZWRSb3cpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VsZWN0Um93KHJvd0luZGV4LCBpc1NlbGVjdGVkKXtcclxuICAgIHZhciBrZXksIHNlbGVjdGVkUm93O1xyXG4gICAgdGhpcy5wcm9wcy5kYXRhLmZvckVhY2goZnVuY3Rpb24ocm93LCBpKXtcclxuICAgICAgaWYoaSA9PSByb3dJbmRleC0xKXtcclxuICAgICAgICBrZXkgPSByb3dbdGhpcy5wcm9wcy5rZXlGaWVsZF07XHJcbiAgICAgICAgc2VsZWN0ZWRSb3cgPSByb3c7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHRoaXMucHJvcHMub25TZWxlY3RSb3coc2VsZWN0ZWRSb3csIGlzU2VsZWN0ZWQpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VsZWN0Um93Q29sdW1DaGFuZ2UoZSl7XHJcbiAgICBpZighdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCB8fCAhdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsKXtcclxuICAgICAgdGhpcy5oYW5kbGVTZWxlY3RSb3coXHJcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yb3dJbmRleCwgZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlRWRpdENlbGwocm93SW5kZXgsIGNvbHVtbkluZGV4KXtcclxuICAgIHRoaXMuZWRpdGluZyA9IHRydWU7XHJcbiAgICBpZih0aGlzLl9pc1NlbGVjdFJvd0RlZmluZWQoKSl7XHJcbiAgICAgIGNvbHVtbkluZGV4LS07XHJcbiAgICAgIGlmKHRoaXMucHJvcHMuc2VsZWN0Um93LmhpZGVTZWxlY3RDb2x1bW4pXHJcbiAgICAgICAgY29sdW1uSW5kZXgrKztcclxuICAgIH1cclxuICAgIHJvd0luZGV4LS07XHJcbiAgICB2YXIgc3RhdGVPYmogPSB7XHJcbiAgICAgIGN1cnJFZGl0Q2VsbDoge1xyXG4gICAgICAgIHJpZDogcm93SW5kZXgsXHJcbiAgICAgICAgY2lkOiBjb2x1bW5JbmRleFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHRoaXMucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCl7XHJcbiAgICAgIHRoaXMuaGFuZGxlU2VsZWN0Um93KHJvd0luZGV4KzEsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZU9iaik7XHJcbiAgfVxyXG5cclxuICBjYW5jZWxFZGl0KCl7XHJcbiAgICB2YXIgY3VyckVkaXRDZWxsPXRoaXMuc3RhdGUuY3VyckVkaXRDZWxsO1xyXG4gICAgaWYoY3VyckVkaXRDZWxsKXtcclxuICAgICAgdGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsKG51bGwsY3VyckVkaXRDZWxsLnJpZCxjdXJyRWRpdENlbGwuY2lkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUNvbXBsZXRlRWRpdENlbGwobmV3VmFsLCByb3dJbmRleCwgY29sdW1uSW5kZXgpe1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VyckVkaXRDZWxsOiBudWxsfSk7XHJcbiAgICBpZihudWxsICE9IG5ld1ZhbClcclxuICAgICAgdGhpcy5wcm9wcy5jZWxsRWRpdC5fX29uQ29tcGxldGVFZGl0X18obmV3VmFsLCByb3dJbmRleCwgY29sdW1uSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyU2VsZWN0Um93Q29sdW1uKHNlbGVjdGVkKXtcclxuICAgIGlmKHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT0gQ29uc3QuUk9XX1NFTEVDVF9TSU5HTEUpIHtcclxuICAgICAgcmV0dXJuICg8VGFibGVDb2x1bW4+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJzZWxlY3Rpb25cIiBjaGVja2VkPXtzZWxlY3RlZH0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2VsZWN0Um93Q29sdW1DaGFuZ2UuYmluZCh0aGlzKX0vPjwvVGFibGVDb2x1bW4+KTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgcmV0dXJuICg8VGFibGVDb2x1bW4gPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtzZWxlY3RlZH0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2VsZWN0Um93Q29sdW1DaGFuZ2UuYmluZCh0aGlzKX0vPjwvVGFibGVDb2x1bW4+KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEJvZHlIZWFkZXJEb21Qcm9wKCl7XHJcbiAgICB2YXIgaGVhZGVycyA9IHRoaXMucmVmcy5oZWFkZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO1xyXG4gICAgdmFyIGhlYWRlckRvbVByb3BzID0gW107XHJcbiAgICBmb3IobGV0IGk9MDtpPGhlYWRlcnMubGVuZ3RoO2krKyl7XHJcbiAgICAgIGhlYWRlckRvbVByb3BzLnB1c2goe1xyXG4gICAgICAgIHdpZHRoOmhlYWRlcnNbaV0ub2Zmc2V0V2lkdGhcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaGVhZGVyRG9tUHJvcHM7XHJcbiAgfVxyXG5cclxuICBhZGp1c3RCb2R5KCkge1xyXG4gICAgdGhpcy5oYXJkRml4SGVhZGVyV2lkdGgoKTtcclxuICAgIGlmKHRoaXMucHJvcHMuY29uZGVuc2VkKSB7XHJcbiAgICAgIHRoaXMucmVmcy5ib2R5LnN0eWxlLm1hcmdpblRvcCA9IFwiLTM2cHhcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLnByb3BzLm1heEhlaWdodCAmJlxyXG4gICAgICBwYXJzZUludCh0aGlzLnByb3BzLm1heEhlaWdodCkgPCB0aGlzLnJlZnMuY29udGFpbmVyLm9mZnNldEhlaWdodCkge1xyXG4gICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICh0aGlzLnByb3BzLm1heEhlaWdodCAtIDQyKSArIFwicHhcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhcmRGaXhIZWFkZXJXaWR0aCgpe1xyXG4gICAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlZnMuaGVhZGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2RlcztcclxuICAgIGZvcihsZXQgaT0wO2k8aGVhZGVycy5sZW5ndGg7aSsrKXtcclxuICAgICAgaGVhZGVyc1tpXS5zdHlsZS53aWR0aCA9IGhlYWRlcnNbaV0ub2Zmc2V0V2lkdGggKyBcInB4XCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjYWxjdWxhdGVDb250YWluZXJIZWlnaHQoKXtcclxuICAgIGlmKHRoaXMucHJvcHMuaGVpZ2h0ID09IFwiMTAwJVwiKSByZXR1cm4gdGhpcy5wcm9wcy5oZWlnaHQ7XHJcbiAgICBlbHNle1xyXG4gICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5wcm9wcy5oZWlnaHQpIC0gNDI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaXNTZWxlY3RSb3dEZWZpbmVkKCl7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSA9PT0gQ29uc3QuUk9XX1NFTEVDVF9TSU5HTEUgfHxcclxuICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0Um93Lm1vZGUgPT09IENvbnN0LlJPV19TRUxFQ1RfTVVMVEk7XHJcbiAgfVxyXG59XHJcblRhYmxlQm9keS5wcm9wVHlwZXMgPSB7XHJcbiAgaGVpZ2h0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRhdGE6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcclxuICBjb2x1bW5zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXHJcbiAgc3RyaXBlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgYm9yZGVyZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGhvdmVyOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBjb25kZW5zZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGtleUZpZWxkOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIHNlbGVjdGVkUm93S2V5czogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gIG9uUm93Q2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG9uU2VsZWN0Um93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBub0RhdGFUZXh0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IFRhYmxlQm9keTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVGFibGVCb2R5LmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5cclxuY2xhc3MgVGFibGVDb2x1bW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgbGV0IHNob3VsZFVwZGF0ZWQgPSB0aGlzLnByb3BzLndpZHRoICE9PSBuZXh0UHJvcHMud2lkdGhcclxuICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5jbGFzc05hbWUgIT09IG5leHRQcm9wcy5jbGFzc05hbWVcclxuICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5oaWRkZW4gIT09IG5leHRQcm9wcy5oaWRkZW5cclxuICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5kYXRhQWxpZ24gIT09IG5leHRQcm9wcy5kYXRhQWxpZ25cclxuICAgICAgICAgICAgfHwgdHlwZW9mIGNoaWxkcmVuICE9PSB0eXBlb2YgbmV4dFByb3BzLmNoaWxkcmVuXHJcbiAgICAgICAgICAgIHx8ICgnJyArIHRoaXMucHJvcHMub25FZGl0KS50b1N0cmluZygpICE9PSAoJycgKyBuZXh0UHJvcHMub25FZGl0KS50b1N0cmluZygpXHJcblxyXG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ29iamVjdCcgJiYgY2hpbGRyZW4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLnByb3BzLnR5cGUgPT09ICdjaGVja2JveCcgfHwgY2hpbGRyZW4ucHJvcHMudHlwZSA9PT0gJ3JhZGlvJykge1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHNob3VsZFVwZGF0ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wcm9wcy50eXBlICE9PSBuZXh0UHJvcHMuY2hpbGRyZW4ucHJvcHMudHlwZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnByb3BzLmNoZWNrZWQgIT09IG5leHRQcm9wcy5jaGlsZHJlbi5wcm9wcy5jaGVja2VkO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaG91bGRVcGRhdGVkID0gc2hvdWxkVXBkYXRlZCB8fCBjaGlsZHJlbiAhPT0gbmV4dFByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISh0aGlzLnByb3BzLmNlbGxFZGl0ICYmIG5leHRQcm9wcy5jZWxsRWRpdCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVkXHJcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUgIT09IG5leHRQcm9wcy5jZWxsRWRpdC5tb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDZWxsRWRpdChlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSA9PSBDb25zdC5DRUxMX0VESVRfREJDTElDSykge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb3BzLm9uRWRpdChcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucm93SW5kZXgsXHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5jZWxsSW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnByb3BzLndpZHRoID09IG51bGwgP1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLndpZHRoIDogdGhpcy5wcm9wcy53aWR0aC5pbmRleE9mKCclJykgIT09IC0xID8gdGhpcy5wcm9wcy53aWR0aCA6IHBhcnNlSW50KHRoaXMucHJvcHMud2lkdGgpO1xyXG4gICAgICAgIHZhciB0ZFN0eWxlID0ge1xyXG4gICAgICAgICAgICB0ZXh0QWxpZ246IHRoaXMucHJvcHMuZGF0YUFsaWduLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmhpZGRlbiA/IFwibm9uZVwiIDogbnVsbCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICBtYXhXaWR0aDogd2lkdGhcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBjbGFzc25hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy53aWR0aCkge1xyXG4gICAgICAgICAgICBjbGFzc25hbWUgKz0gXCIgY29sLW1kLVwiICsgd2lkdGg7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIG9wdHMgPSB7fTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlID09IENvbnN0LkNFTExfRURJVF9DTElDSykge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5vbkNsaWNrID0gdGhpcy5oYW5kbGVDZWxsRWRpdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSA9PSBDb25zdC5DRUxMX0VESVRfREJDTElDSykge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5vbkRvdWJsZUNsaWNrID0gdGhpcy5oYW5kbGVDZWxsRWRpdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0ZCBzdHlsZT17dGRTdHlsZX0gY2xhc3NOYW1lPXtjbGFzc25hbWV9IHsuLi5vcHRzfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5UYWJsZUNvbHVtbi5wcm9wVHlwZXMgPSB7XHJcbiAgICBkYXRhQWxpZ246IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBoaWRkZW46IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcblxyXG5UYWJsZUNvbHVtbi5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBkYXRhQWxpZ246IFwibGVmdFwiLFxyXG4gICAgaGlkZGVuOiBmYWxzZSxcclxuICAgIGNsYXNzTmFtZTogXCJcIlxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFRhYmxlQ29sdW1uO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9UYWJsZUNvbHVtbi5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuL0NvbnN0JztcclxuaW1wb3J0IEVkaXRvciBmcm9tICcuL0VkaXRvcidcclxuaW1wb3J0IE5vdGlmaWVyIGZyb20gJy4vTm90aWZpY2F0aW9uLmpzJztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5cclxuY2xhc3MgVGFibGVFZGl0Q29sdW1uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnRpbWVvdXRlQ2xlYXI9MDtcclxuICAgICAgICB0aGlzLnN0YXRlPXtcclxuICAgICAgICAgICAgc2hha2VFZGl0b3I6ZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICBoYW5kbGVLZXlQcmVzcyhlKXtcclxuICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHsgLy9QcmVzc2VkIEVOVEVSXHJcbiAgICAgIGxldCB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC50eXBlID09ICdjaGVja2JveCc/XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q2hlY2tCb3hWYWx1ZShlKTplLmN1cnJlbnRUYXJnZXQudmFsdWU7XHJcblxyXG4gICAgICBpZighdGhpcy52YWxpZGF0b3IodmFsdWUpKXtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnByb3BzLmNvbXBsZXRlRWRpdChcclxuICAgICAgICB2YWx1ZSwgdGhpcy5wcm9wcy5yb3dJbmRleCwgdGhpcy5wcm9wcy5jb2xJbmRleCk7XHJcbiAgICB9ZWxzZSBpZihlLmtleUNvZGUgPT0gMjcpe1xyXG4gICAgICB0aGlzLnByb3BzLmNvbXBsZXRlRWRpdChcclxuICAgICAgICBudWxsLCB0aGlzLnByb3BzLnJvd0luZGV4LCB0aGlzLnByb3BzLmNvbEluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUJsdXIoZSl7XHJcbiAgICBpZih0aGlzLnByb3BzLmJsdXJUb1NhdmUpe1xyXG4gICAgICBsZXQgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudHlwZSA9PSAnY2hlY2tib3gnP1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldENoZWNrQm94VmFsdWUoZSk6ZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xyXG4gICAgICBpZighdGhpcy52YWxpZGF0b3IodmFsdWUpKXtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnByb3BzLmNvbXBsZXRlRWRpdChcclxuICAgICAgICAgIHZhbHVlLCB0aGlzLnByb3BzLnJvd0luZGV4LCB0aGlzLnByb3BzLmNvbEluZGV4KTtcclxuICAgIH1cclxuICB9XHJcbiAgdmFsaWRhdG9yKHZhbHVlKXtcclxuICAgICAgdmFyIHRzPXRoaXM7XHJcbiAgICAgIGlmKHRzLnByb3BzLmVkaXRhYmxlLnZhbGlkYXRvcil7XHJcbiAgICAgICAgICB2YXIgdmFsaWQ9dHMucHJvcHMuZWRpdGFibGUudmFsaWRhdG9yKHZhbHVlKTtcclxuICAgICAgICAgIGlmKHZhbGlkIT09dHJ1ZSl7XHJcbiAgICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJyx2YWxpZCxcIlByZXNzZWQgRVNDIGNhbiBjYW5jZWxcIik7XHJcbiAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdHMucmVmcy5pbnB1dFJlZjtcclxuICAgICAgICAgICAgICAvL2FuaW1hdGUgaW5wdXRcclxuICAgICAgICAgICAgICB0cy5jbGVhclRpbWVvdXQoKTtcclxuICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7c2hha2VFZGl0b3I6dHJ1ZX0pO1xyXG4gICAgICAgICAgICAgIHRzLnRpbWVvdXRlQ2xlYXI9c2V0VGltZW91dChmdW5jdGlvbigpe3RzLnNldFN0YXRlKHtzaGFrZUVkaXRvcjpmYWxzZX0pO30sMzAwKTtcclxuICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgfVxyXG4gIGNsZWFyVGltZW91dCgpe1xyXG4gICAgICBpZih0aGlzLnRpbWVvdXRlQ2xlYXIhPTApe1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dGVDbGVhcik7XHJcbiAgICAgICAgICB0aGlzLnRpbWVvdXRlQ2xlYXI9MDtcclxuICAgICAgfVxyXG4gIH1cclxuICBjb21wb25lbnREaWRNb3VudCgpe1xyXG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLnJlZnMuaW5wdXRSZWY7XHJcbiAgICAgIC8vIGlucHV0LnZhbHVlID0gdGhpcy5wcm9wcy5jaGlsZHJlbnx8Jyc7XHJcbiAgICAgIGlucHV0LmZvY3VzKCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgIHRoaXMuY2xlYXJUaW1lb3V0KCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKXtcclxuICAgIHZhciBlZGl0YWJsZT10aGlzLnByb3BzLmVkaXRhYmxlLFxyXG4gICAgICAgIGZvcm1hdD10aGlzLnByb3BzLmZvcm1hdCxcclxuICAgICAgICBhdHRyPXtcclxuICAgICAgICAgICAgcmVmOlwiaW5wdXRSZWZcIixcclxuICAgICAgICAgICAgb25LZXlEb3duOnRoaXMuaGFuZGxlS2V5UHJlc3MuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgb25CbHVyOnRoaXMuaGFuZGxlQmx1ci5iaW5kKHRoaXMpXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL3B1dCBwbGFjZWhvbGRlciBpZiBleGlzdFxyXG4gICAgICAgIGVkaXRhYmxlLnBsYWNlaG9sZGVyJiYoYXR0ci5wbGFjZWhvbGRlcj1lZGl0YWJsZS5wbGFjZWhvbGRlcik7XHJcblxyXG4gICAgdmFyIGVkaXRvckNsYXNzPWNsYXNzU2V0KHsnYW5pbWF0ZWQnOnRoaXMuc3RhdGUuc2hha2VFZGl0b3IsJ3NoYWtlJzp0aGlzLnN0YXRlLnNoYWtlRWRpdG9yfSk7XHJcbiAgICByZXR1cm4oXHJcbiAgICAgICAgPHRkIHJlZj1cInRkXCIgc3R5bGU9e3twb3NpdGlvbjoncmVsYXRpdmUnfX0+XHJcbiAgICAgICAgICAgIHtFZGl0b3IoZWRpdGFibGUsYXR0cixmb3JtYXQsZWRpdG9yQ2xhc3MsdGhpcy5wcm9wcy5jaGlsZHJlbnx8JycpfVxyXG4gICAgICAgICAgICA8Tm90aWZpZXIgcmVmPVwibm90aWZpZXJcIj48L05vdGlmaWVyPlxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBfZ2V0Q2hlY2tCb3hWYWx1ZShlKXtcclxuICAgIGxldCB2YWx1ZSA9ICcnO1xyXG4gICAgbGV0IHZhbHVlcyA9IGUuY3VycmVudFRhcmdldC52YWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZD92YWx1ZXNbMF06dmFsdWVzWzFdO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbn1cclxuVGFibGVFZGl0Q29sdW1uLnByb3BUeXBlcyA9IHtcclxuICBjb21wbGV0ZUVkaXQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIHJvd0luZGV4OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGNvbEluZGV4OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGJsdXJUb1NhdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sXHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGFibGVFZGl0Q29sdW1uO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9UYWJsZUVkaXRDb2x1bW4uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbmNsYXNzIFRhYmxlRmlsdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5maWx0ZXJPYmogPSB7fTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleVVwKGUpe1xyXG4gICAgaWYoZS5jdXJyZW50VGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIilcclxuICAgICAgZGVsZXRlIHRoaXMuZmlsdGVyT2JqW2UuY3VycmVudFRhcmdldC5uYW1lXTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5maWx0ZXJPYmpbZS5jdXJyZW50VGFyZ2V0Lm5hbWVdID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHRoaXMucHJvcHMub25GaWx0ZXIodGhpcy5maWx0ZXJPYmopO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCl7XHJcbiAgICB2YXIgdGFibGVDbGFzc2VzID0gY2xhc3NTZXQoXCJ0YWJsZVwiLCB7XHJcbiAgICAgICd0YWJsZS1zdHJpcGVkJzogdGhpcy5wcm9wcy5zdHJpcGVkLFxyXG4gICAgICAndGFibGUtY29uZGVuc2VkJzogdGhpcy5wcm9wcy5jb25kZW5zZWRcclxuICAgIH0pO1xyXG4gICAgdmFyIHNlbGVjdFJvd0hlYWRlciA9IG51bGw7XHJcblxyXG4gICAgaWYodGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IENvbnN0LlJPV19TRUxFQ1RfU0lOR0xFIHx8XHJcbiAgICAgICAgdGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IENvbnN0LlJPV19TRUxFQ1RfTVVMVEkpe1xyXG4gICAgICBsZXQgc3R5bGUgPSB7XHJcbiAgICAgICAgd2lkdGg6MzUsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAwXHJcbiAgICAgIH1cclxuICAgICAgc2VsZWN0Um93SGVhZGVyID0gKDx0aCBzdHlsZT17c3R5bGV9IGtleT17LTF9PkZpbHRlcjwvdGg+KTtcclxuICAgIH1cclxuICAgIHZhciBmaWx0ZXJGaWVsZCA9IHRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24oY29sdW1uKXtcclxuICAgICAgdmFyIHRoU3R5bGUgPSB7XHJcbiAgICAgICAgZGlzcGxheTogY29sdW1uLmhpZGRlbj9cIm5vbmVcIjpudWxsLFxyXG4gICAgICAgIHdpZHRoOiBjb2x1bW4ud2lkdGhcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuKFxyXG4gICAgICAgIDx0aCBrZXk9e2NvbHVtbi5uYW1lfSBzdHlsZT17dGhTdHlsZX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRoLWlubmVyIHRhYmxlLWhlYWRlci1jb2x1bW5cIj5cclxuICAgICAgICAgICAgPGlucHV0IHNpemU9XCIxMFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9e2NvbHVtbi5uYW1lfSBuYW1lPXtjb2x1bW4ubmFtZX0gb25LZXlVcD17dGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpfS8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L3RoPlxyXG4gICAgICApXHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHJldHVybihcclxuICAgICAgPHRhYmxlIGNsYXNzTmFtZT17dGFibGVDbGFzc2VzfSBzdHlsZT17e21hcmdpblRvcDo1fX0+XHJcbiAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgPHRyIHN0eWxlPXt7Ym9yZGVyQm90dG9tU3R5bGU6ICdoaWRkZW4nfX0+XHJcbiAgICAgICAgICAgIHtzZWxlY3RSb3dIZWFkZXJ9e2ZpbHRlckZpZWxkfVxyXG4gICAgICAgICAgPC90cj5cclxuICAgICAgICA8L3RoZWFkPlxyXG4gICAgICA8L3RhYmxlPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5UYWJsZUZpbHRlci5wcm9wVHlwZXMgPSB7XHJcbiAgY29sdW1uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gIHJvd1NlbGVjdFR5cGU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgb25GaWx0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IFRhYmxlRmlsdGVyO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9UYWJsZUZpbHRlci5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi9Db25zdCc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4vdXRpbCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IFNlbGVjdFJvd0hlYWRlckNvbHVtbiBmcm9tICcuL1NlbGVjdFJvd0hlYWRlckNvbHVtbic7XHJcblxyXG5jbGFzcyBDaGVja2JveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuICBjb21wb25lbnREaWRNb3VudCgpIHsgdGhpcy51cGRhdGUodGhpcy5wcm9wcy5jaGVja2VkKTsgfVxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMpIHsgdGhpcy51cGRhdGUocHJvcHMuY2hlY2tlZCk7IH1cclxuICB1cGRhdGUoY2hlY2tlZCkge1xyXG4gICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcykuaW5kZXRlcm1pbmF0ZSA9IGNoZWNrZWQgPT09ICdpbmRldGVybWluYXRlJztcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiA8aW5wdXQgY2xhc3NOYW1lPSdyZWFjdC1icy1zZWxlY3QtYWxsJyB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXt0aGlzLnByb3BzLmNoZWNrZWR9IG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfSAvPlxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgVGFibGVIZWFkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpe1xyXG4gICAgdmFyIGNvbnRhaW5lckNsYXNzZXMgPSBjbGFzc1NldChcInRhYmxlLWhlYWRlclwiKTtcclxuICAgIHZhciB0YWJsZUNsYXNzZXMgPSBjbGFzc1NldChcInRhYmxlXCIsIFwidGFibGUtaG92ZXJcIiwge1xyXG4gICAgICAgIFwidGFibGUtYm9yZGVyZWRcIjogdGhpcy5wcm9wcy5ib3JkZXJlZCxcclxuICAgICAgICBcInRhYmxlLWNvbmRlbnNlZFwiOiB0aGlzLnByb3BzLmNvbmRlbnNlZFxyXG4gICAgfSk7XHJcbiAgICB2YXIgc2VsZWN0Um93SGVhZGVyQ29sID0gdGhpcy5wcm9wcy5oaWRlU2VsZWN0Q29sdW1uP251bGw6dGhpcy5yZW5kZXJTZWxlY3RSb3dIZWFkZXIoKTtcclxuICAgIHRoaXMuX2F0dGFjaENsZWFyU29ydENhcmV0RnVuYygpO1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZS1oZWFkZXItd3JhcHBlclwiPlxyXG4gICAgICAgIDxkaXYgcmVmPVwiY29udGFpbmVyXCIgY2xhc3NOYW1lPXtjb250YWluZXJDbGFzc2VzfT5cclxuICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9e3RhYmxlQ2xhc3Nlc30gaWQ9e3RoaXMucHJvcHMudGFibGVJRH0+XHJcbiAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICA8dHIgcmVmPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICB7c2VsZWN0Um93SGVhZGVyQ29sfVxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyU2VsZWN0Um93SGVhZGVyKCl7XHJcbiAgICBpZih0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gQ29uc3QuUk9XX1NFTEVDVF9TSU5HTEUpIHtcclxuICAgICAgcmV0dXJuICg8U2VsZWN0Um93SGVhZGVyQ29sdW1uIHdpZHRoPXt0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRofT48L1NlbGVjdFJvd0hlYWRlckNvbHVtbj4pO1xyXG4gICAgfWVsc2UgaWYodGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IENvbnN0LlJPV19TRUxFQ1RfTVVMVEkpe1xyXG4gICAgICByZXR1cm4gKDxTZWxlY3RSb3dIZWFkZXJDb2x1bW4gd2lkdGg9e3RoaXMuc2VsZWN0Um93Q29sdW1uV2lkdGh9PlxyXG4gICAgICAgICAgPENoZWNrYm94IG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uU2VsZWN0QWxsUm93fSBjaGVja2VkPXt0aGlzLnByb3BzLmlzU2VsZWN0QWxsfS8+XHJcbiAgICAgICAgPC9TZWxlY3RSb3dIZWFkZXJDb2x1bW4+XHJcbiAgICAgICk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfYXR0YWNoQ2xlYXJTb3J0Q2FyZXRGdW5jKCl7XHJcbiAgICBpZihBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pKXtcclxuICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnByb3BzLmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbltpXS5wcm9wcy5kYXRhRmllbGQ7XHJcbiAgICAgICAgY29uc3Qgc29ydCA9IGZpZWxkID09PSB0aGlzLnByb3BzLnNvcnROYW1lID8gdGhpcy5wcm9wcy5zb3J0T3JkZXIgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbltpXSA9XHJcbiAgICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbltpXSxcclxuICAgICAgICAgICAgeyBrZXk6IGksIG9uU29ydDogdGhpcy5wcm9wcy5vblNvcnQsIHNvcnQgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5wcm9wcy5jaGlsZHJlbi5wcm9wcy5kYXRhRmllbGQ7XHJcbiAgICAgIGNvbnN0IHNvcnQgPSBmaWVsZCA9PT0gdGhpcy5wcm9wcy5zb3J0TmFtZSA/IHRoaXMucHJvcHMuc29ydE9yZGVyIDogdW5kZWZpbmVkO1xyXG4gICAgICB0aGlzLnByb3BzLmNoaWxkcmVuID1cclxuICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbiwge2tleTogMCwgb25Tb3J0OiB0aGlzLnByb3BzLm9uU29ydCwgc29ydH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZml0SGVhZGVyKGhlYWRlclByb3BzLCBpc1ZlcnRpY2FsU2Nyb2xsQmFyKXtcclxuICAgIGlmKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpe1xyXG4gICAgICBsZXQgc3RhcnRQb3NpdGlvbiA9ICh0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGUgPT0gQ29uc3QuUk9XX1NFTEVDVF9TSU5HTEUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yb3dTZWxlY3RUeXBlID09IENvbnN0LlJPV19TRUxFQ1RfTVVMVEkpICYmICF0aGlzLnByb3BzLmhpZGVTZWxlY3RDb2x1bW4gPyAxOjA7XHJcbiAgICAgIGlmKHN0YXJ0UG9zaXRpb24gPT0gMSlcclxuICAgICAgICB0aGlzLnNlbGVjdFJvd0NvbHVtbldpZHRoID0gaGVhZGVyUHJvcHNbMF0ud2lkdGg7XHJcbiAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5wcm9wcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXtcclxuICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuW2ldID1cclxuICAgICAgICAgIFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuW2ldLCB7d2lkdGg6IGhlYWRlclByb3BzW2krc3RhcnRQb3NpdGlvbl0ud2lkdGgrXCJweFwifSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4gPVxyXG4gICAgICAgIFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuLCB7d2lkdGg6IGhlYWRlclByb3BzWzBdLndpZHRoK1wicHhcIn0pO1xyXG4gICAgfVxyXG4gICAgaWYodGhpcy5wcm9wcy5jb25kZW5zZWQgJiYgIXRoaXMucHJvcHMuaXNGaWx0ZXJlZCkge1xyXG4gICAgICB0aGlzLnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMzZweFwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xyXG4gICAgaWYoaXNWZXJ0aWNhbFNjcm9sbEJhcilcclxuICAgICAgdGhpcy5yZWZzLmNvbnRhaW5lci5zdHlsZS5tYXJnaW5SaWdodCA9IFV0aWwuZ2V0U2Nyb2xsQmFyV2lkdGgoKSArIFwicHhcIjtcclxuICB9XHJcbn1cclxuVGFibGVIZWFkZXIucHJvcFR5cGVzID0ge1xyXG4gIHJvd1NlbGVjdFR5cGU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgb25Tb3J0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBvblNlbGVjdEFsbFJvdzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgc29ydE5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc29ydE9yZGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGhpZGVTZWxlY3RDb2x1bW46IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGJvcmRlcmVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBjb25kZW5zZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGlzRmlsdGVyZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIGlzU2VsZWN0QWxsOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoW3RydWUsICdpbmRldGVybWluYXRlJywgZmFsc2VdKVxyXG59O1xyXG5cclxuVGFibGVIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUhlYWRlcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVGFibGVIZWFkZXIuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuL0NvbnN0JztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi91dGlsJztcclxuaW1wb3J0IERhdGVGaWx0ZXIgZnJvbSAnLi9maWx0ZXJzL0RhdGUnO1xyXG5pbXBvcnQgVGV4dEZpbHRlciBmcm9tICcuL2ZpbHRlcnMvVGV4dCc7XHJcbmltcG9ydCBTZWxlY3RGaWx0ZXIgZnJvbSAnLi9maWx0ZXJzL1NlbGVjdCc7XHJcbmltcG9ydCBOdW1iZXJGaWx0ZXIgZnJvbSAnLi9maWx0ZXJzL051bWJlcic7XHJcblxyXG5jbGFzcyBUYWJsZUhlYWRlckNvbHVtbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIgPSB0aGlzLmhhbmRsZUZpbHRlci5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNvbHVtbkNsaWNrKGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvcnQpcmV0dXJuO1xyXG4gICAgICAgIGxldCBvcmRlciA9IHRoaXMucHJvcHMuc29ydCA9PSBDb25zdC5TT1JUX0RFU0MgPyBDb25zdC5TT1JUX0FTQyA6IENvbnN0LlNPUlRfREVTQztcclxuICAgICAgICB0aGlzLnByb3BzLm9uU29ydChvcmRlciwgdGhpcy5wcm9wcy5kYXRhRmllbGQpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUZpbHRlcih2YWx1ZSwgdHlwZSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVyLmVtaXR0ZXIuaGFuZGxlRmlsdGVyKHRoaXMucHJvcHMuZGF0YUZpZWxkLCB2YWx1ZSwgdHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RmlsdGVycygpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuZmlsdGVyLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5URVhUOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPFRleHRGaWx0ZXIgey4uLnRoaXMucHJvcHMuZmlsdGVyfSBjb2x1bW5OYW1lPXt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcj17dGhpcy5oYW5kbGVGaWx0ZXJ9Lz47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5TRUxFQ1Q6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8U2VsZWN0RmlsdGVyIHsuLi50aGlzLnByb3BzLmZpbHRlcn0gY29sdW1uTmFtZT17dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcj17dGhpcy5oYW5kbGVGaWx0ZXJ9Lz47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5OVU1CRVI6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8TnVtYmVyRmlsdGVyIHsuLi50aGlzLnByb3BzLmZpbHRlcn0gY29sdW1uTmFtZT17dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcj17dGhpcy5oYW5kbGVGaWx0ZXJ9Lz47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5EQVRFOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPERhdGVGaWx0ZXIgey4uLnRoaXMucHJvcHMuZmlsdGVyfSBjb2x1bW5OYW1lPXt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGFuZGxlcj17dGhpcy5oYW5kbGVGaWx0ZXJ9Lz47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBDb25zdC5GSUxURVJfVFlQRS5DVVNUT006XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLmZpbHRlci5nZXRFbGVtZW50KHRoaXMuaGFuZGxlRmlsdGVyLCB0aGlzLnByb3BzLmZpbHRlci5jdXN0b21GaWx0ZXJQYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnJlZnMuaW5uZXJEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1maWVsZFwiLCB0aGlzLnByb3BzLmRhdGFGaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMucHJvcHMud2lkdGggPT0gbnVsbCA/XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMud2lkdGggOiB0aGlzLnByb3BzLndpZHRoLmluZGV4T2YoJyUnKSAhPT0gLTEgPyB0aGlzLnByb3BzLndpZHRoIDogcGFyc2VJbnQodGhpcy5wcm9wcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHRoU3R5bGUgPSB7XHJcbiAgICAgICAgICAgIHRleHRBbGlnbjogdGhpcy5wcm9wcy5kYXRhQWxpZ24sXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaGlkZGVuID8gXCJub25lXCIgOiBudWxsLFxyXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgIG1heFdpZHRoOiB3aWR0aFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRDYXJldCA9ICghdGhpcy5wcm9wcy5kYXRhU29ydCkgPyBudWxsIDogKFxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvcmRlclwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRyb3Bkb3duXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjYXJldFwiIHN0eWxlPXt7bWFyZ2luOiAnMTBweCAwIDEwcHggNXB4JywgY29sb3I6ICcjY2NjJ319Pjwvc3Bhbj5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZHJvcHVwXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjYXJldFwiIHN0eWxlPXt7bWFyZ2luOiAnMTBweCAwJywgY29sb3I6ICcjY2NjJ319Pjwvc3Bhbj5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IHNvcnRDYXJldCA9IHRoaXMucHJvcHMuc29ydCA/IFV0aWwucmVuZGVyUmVhY3RTb3J0Q2FyZXQodGhpcy5wcm9wcy5zb3J0KSA6IGRlZmF1bHRDYXJldDtcclxuXHJcbiAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIFwiICsgKHRoaXMucHJvcHMuZGF0YVNvcnQgPyBcInNvcnQtY29sdW1uXCIgOiBcIlwiKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dGggcmVmPSdoZWFkZXItY29sJyBjbGFzc05hbWU9e2NsYXNzZXN9IHN0eWxlPXt0aFN0eWxlfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPVwiaW5uZXJEaXZcIiBjbGFzc05hbWU9XCJ0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uXCJcclxuICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDb2x1bW5DbGljay5iaW5kKHRoaXMpfT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn17c29ydENhcmV0fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5maWx0ZXIgPyB0aGlzLmdldEZpbHRlcnMoKSA6IG51bGx9XHJcbiAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG52YXIgZmlsdGVyVHlwZUFycmF5ID0gW107XHJcbmZvciAobGV0IGtleSBpbiBDb25zdC5GSUxURVJfVFlQRSkge1xyXG4gICAgZmlsdGVyVHlwZUFycmF5LnB1c2goQ29uc3QuRklMVEVSX1RZUEVba2V5XSk7XHJcbn1cclxuXHJcblRhYmxlSGVhZGVyQ29sdW1uLnByb3BUeXBlcyA9IHtcclxuICAgIGRhdGFGaWVsZDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGRhdGFBbGlnbjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGRhdGFTb3J0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIG9uU29ydDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBkYXRhRm9ybWF0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgIGlzS2V5OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGVkaXRhYmxlOiBSZWFjdC5Qcm9wVHlwZXMuYW55LFxyXG4gICAgaGlkZGVuOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIHdpZHRoOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgc29ydEZ1bmM6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgY29sdW1uQ2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuYW55LFxyXG4gICAgZmlsdGVyRm9ybWF0dGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIHNvcnQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBmb3JtYXRFeHRyYURhdGE6IFJlYWN0LlByb3BUeXBlcy5hbnksXHJcbiAgICBmaWx0ZXI6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgICAgdHlwZTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKGZpbHRlclR5cGVBcnJheSksXHJcbiAgICAgICAgZGVsYXk6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICAgICAgb3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbXHJcbiAgICAgICAgICAgIFJlYWN0LlByb3BUeXBlcy5vYmplY3QsIC8vIGZvciBTZWxlY3RGaWx0ZXJcclxuICAgICAgICAgICAgUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLm51bWJlcikgLy9mb3IgTnVtYmVyRmlsdGVyXHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgbnVtYmVyQ29tcGFyYXRvcnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxyXG4gICAgICAgIGVtaXR0ZXI6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgZ2V0RWxlbWVudDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICAgICAgY3VzdG9tRmlsdGVyUGFyYW1ldGVyczogUmVhY3QuUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfSlcclxufTtcclxuXHJcblRhYmxlSGVhZGVyQ29sdW1uLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGRhdGFBbGlnbjogXCJsZWZ0XCIsXHJcbiAgICBkYXRhU29ydDogZmFsc2UsXHJcbiAgICBkYXRhRm9ybWF0OiB1bmRlZmluZWQsXHJcbiAgICBpc0tleTogZmFsc2UsXHJcbiAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgIG9uU29ydDogdW5kZWZpbmVkLFxyXG4gICAgaGlkZGVuOiBmYWxzZSxcclxuICAgIGNsYXNzTmFtZTogXCJcIixcclxuICAgIHdpZHRoOiBudWxsLFxyXG4gICAgc29ydEZ1bmM6IHVuZGVmaW5lZCxcclxuICAgIGNvbHVtbkNsYXNzTmFtZTogJycsXHJcbiAgICBmaWx0ZXJGb3JtYXR0ZWQ6IGZhbHNlLFxyXG4gICAgc29ydDogdW5kZWZpbmVkLFxyXG4gICAgZm9ybWF0RXh0cmFEYXRhOiB1bmRlZmluZWQsXHJcbiAgICBmaWx0ZXI6IHVuZGVmaW5lZFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGFibGVIZWFkZXJDb2x1bW47XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1RhYmxlSGVhZGVyQ29sdW1uLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4vQ29uc3QnO1xyXG5cclxuY2xhc3MgVGFibGVSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLmNsaWNrTnVtID0gMDtcclxuICB9XHJcblxyXG4gIHJvd0NsaWNrKGUpe1xyXG4gICAgaWYoZS50YXJnZXQudGFnTmFtZSAhPT0gXCJJTlBVVFwiICYmXHJcbiAgICAgICAgZS50YXJnZXQudGFnTmFtZSAhPT0gXCJTRUxFQ1RcIiAmJlxyXG4gICAgICAgIGUudGFyZ2V0LnRhZ05hbWUgIT09IFwiVEVYVEFSRUFcIikge1xyXG4gICAgICBjb25zdCByb3dJbmRleCA9IGUuY3VycmVudFRhcmdldC5yb3dJbmRleDtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0Um93KSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0Um93KHJvd0luZGV4LCAhdGhpcy5wcm9wcy5pc1NlbGVjdGVkKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tOdW0rKztcclxuICAgICAgICAgICAgLyoqIGlmIGNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbCBpcyBlbmFibGVkLFxyXG4gICAgICAgICAgICAgKiAgdGhlcmUgc2hvdWxkIGJlIGEgZGVsYXkgdG8gcHJldmVudCBhIHNlbGVjdGlvbiBjaGFuZ2VkIHdoZW5cclxuICAgICAgICAgICAgICogIHVzZXIgZGJsaWNrIHRvIGVkaXQgY2VsbCBvbiBzYW1lIHJvdyBidXQgZGlmZmVyZW50IGNlbGxcclxuICAgICAgICAgICAgKiovXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMuY2xpY2tOdW0gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25TZWxlY3RSb3cocm93SW5kZXgsICF0aGlzLnByb3BzLmlzU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0aGlzLmNsaWNrTnVtID0gMDtcclxuICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5wcm9wcy5vblJvd0NsaWNrKSB0aGlzLnByb3BzLm9uUm93Q2xpY2socm93SW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcm93TW91c2VPdXQoZSkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub25Sb3dNb3VzZU91dCkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdXQoZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJvd01vdXNlT3ZlcihlKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vblJvd01vdXNlT3Zlcikge1xyXG4gICAgICB0aGlzLnByb3BzLm9uUm93TW91c2VPdmVyKGUuY3VycmVudFRhcmdldC5yb3dJbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKXtcclxuICAgIHRoaXMuY2xpY2tOdW0gPSAwO1xyXG4gICAgdmFyIHRyQ3NzPXtcclxuICAgICAgc3R5bGU6e1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5wcm9wcy5pc1NlbGVjdGVkP3RoaXMucHJvcHMuc2VsZWN0Um93LmJnQ29sb3I6bnVsbFxyXG4gICAgICB9LFxyXG4gICAgICBjbGFzc05hbWU6KHRoaXMucHJvcHMuaXNTZWxlY3RlZCAmJiB0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGFzc05hbWUgPyB0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGFzc05hbWUgOiAnJykgKyAodGhpcy5wcm9wcy5jbGFzc05hbWV8fCcnKVxyXG4gICAgfTtcclxuXHJcbiAgICBpZih0aGlzLnByb3BzLnNlbGVjdFJvdyAmJiAodGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCB8fFxyXG4gICAgICB0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpIHx8IHRoaXMucHJvcHMub25Sb3dDbGljayl7XHJcbiAgICAgIHJldHVybihcclxuICAgICAgICA8dHIgey4uLnRyQ3NzfVxyXG4gICAgICAgICAgICBvbk1vdXNlT3Zlcj17dGhpcy5yb3dNb3VzZU92ZXIuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgb25Nb3VzZU91dD17dGhpcy5yb3dNb3VzZU91dC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJvd0NsaWNrLmJpbmQodGhpcyl9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvdHI+XHJcbiAgICAgIClcclxuICAgIH1lbHNle1xyXG4gICAgICByZXR1cm4oXHJcbiAgICAgICAgPHRyIHsuLi50ckNzc30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC90cj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5UYWJsZVJvdy5wcm9wVHlwZXMgPSB7XHJcbiAgaXNTZWxlY3RlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgZW5hYmxlQ2VsbEVkaXQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gIG9uUm93Q2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIG9uU2VsZWN0Um93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBvblJvd01vdXNlT3V0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICBvblJvd01vdXNlT3ZlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuVGFibGVSb3cuZGVmYXVsdFByb3BzID0ge1xyXG4gIG9uUm93Q2xpY2s6IHVuZGVmaW5lZFxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFRhYmxlUm93O1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9UYWJsZVJvdy5qc1xuICoqLyIsImlmKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKXtcclxuICB2YXIgZmlsZXNhdmVyID0gcmVxdWlyZSgnLi9maWxlc2F2ZXInKTtcclxuICB2YXIgc2F2ZUFzID0gZmlsZXNhdmVyLnNhdmVBc1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b1N0cmluZyhkYXRhLCBrZXlzKSB7XHJcbiAgdmFyIGRhdGFTdHJpbmcgPSBcIlwiO1xyXG4gIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGRhdGFTdHJpbmc7XHJcblxyXG4gIGRhdGFTdHJpbmcgKz0ga2V5cy5qb2luKCcsJykgKyAnXFxuJ1xyXG5cclxuICBkYXRhLm1hcChmdW5jdGlvbihyb3cpIHtcclxuICAgIGtleXMubWFwKGZ1bmN0aW9uKGNvbCwgaSkge1xyXG4gICAgICBsZXQgY2VsbCA9IHR5cGVvZiByb3dbY29sXSAhPT0gJ3VuZGVmaW5lZCcgPyAoJ1wiJytyb3dbY29sXSsnXCInKSA6IFwiXCI7XHJcbiAgICAgIGRhdGFTdHJpbmcgKz0gY2VsbDtcclxuICAgICAgaWYgKGkrMSA8IGtleXMubGVuZ3RoKVxyXG4gICAgICAgIGRhdGFTdHJpbmcgKz0gJywnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGF0YVN0cmluZyArPSAnXFxuJztcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGRhdGFTdHJpbmc7XHJcbn07XHJcblxyXG52YXIgZXhwb3J0Q1NWID0gZnVuY3Rpb24oZGF0YSwga2V5cywgZmlsZW5hbWUpIHtcclxuICB2YXIgZGF0YVN0cmluZyA9IHRvU3RyaW5nKGRhdGEsIGtleXMpO1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgc2F2ZUFzKCBuZXcgQmxvYihbZGF0YVN0cmluZ10sIHt0eXBlOiBcInRleHQvcGxhaW47Y2hhcnNldD11dGYtOFwifSksIGZpbGVuYW1lIHx8ICdzcHJlYWRzaGVldC5jc3YnICk7XHJcbiAgfVxyXG5cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGV4cG9ydENTVjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY3N2X2V4cG9ydF91dGlsLmpzXG4gKiovIiwiLyogRmlsZVNhdmVyLmpzXHJcbiAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxyXG4gKiAxLjEuMjAxNTEwMDNcclxuICpcclxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxyXG4gKiBMaWNlbnNlOiBNSVRcclxuICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXHJcblxyXG4vKmdsb2JhbCBzZWxmICovXHJcbi8qanNsaW50IGJpdHdpc2U6IHRydWUsIGluZGVudDogNCwgbGF4YnJlYWs6IHRydWUsIGxheGNvbW1hOiB0cnVlLCBzbWFydHRhYnM6IHRydWUsIHBsdXNwbHVzOiB0cnVlICovXHJcblxyXG4vKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0ZpbGVTYXZlci5qcyAqL1xyXG5cclxudmFyIHNhdmVBcyA9IHNhdmVBcyB8fCAoZnVuY3Rpb24odmlldykge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdC8vIElFIDwxMCBpcyBleHBsaWNpdGx5IHVuc3VwcG9ydGVkXHJcblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0dmFyXHJcblx0XHQgIGRvYyA9IHZpZXcuZG9jdW1lbnRcclxuXHRcdCAgLy8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcclxuXHRcdCwgZ2V0X1VSTCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcclxuXHRcdH1cclxuXHRcdCwgc2F2ZV9saW5rID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXHJcblx0XHQsIGNhbl91c2Vfc2F2ZV9saW5rID0gXCJkb3dubG9hZFwiIGluIHNhdmVfbGlua1xyXG5cdFx0LCBjbGljayA9IGZ1bmN0aW9uKG5vZGUpIHtcclxuXHRcdFx0dmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtcclxuXHRcdFx0bm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuXHRcdH1cclxuXHRcdCwgaXNfc2FmYXJpID0gL1ZlcnNpb25cXC9bXFxkXFwuXSsuKlNhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxyXG5cdFx0LCB3ZWJraXRfcmVxX2ZzID0gdmlldy53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbVxyXG5cdFx0LCByZXFfZnMgPSB2aWV3LnJlcXVlc3RGaWxlU3lzdGVtIHx8IHdlYmtpdF9yZXFfZnMgfHwgdmlldy5tb3pSZXF1ZXN0RmlsZVN5c3RlbVxyXG5cdFx0LCB0aHJvd19vdXRzaWRlID0gZnVuY3Rpb24oZXgpIHtcclxuXHRcdFx0KHZpZXcuc2V0SW1tZWRpYXRlIHx8IHZpZXcuc2V0VGltZW91dCkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dGhyb3cgZXg7XHJcblx0XHRcdH0sIDApO1xyXG5cdFx0fVxyXG5cdFx0LCBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIlxyXG5cdFx0LCBmc19taW5fc2l6ZSA9IDBcclxuXHRcdC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc1Mjk3I2M3IGFuZFxyXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvRmlsZVNhdmVyLmpzL2NvbW1pdC80ODU5MzBhI2NvbW1pdGNvbW1lbnQtODc2ODA0N1xyXG5cdFx0Ly8gZm9yIHRoZSByZWFzb25pbmcgYmVoaW5kIHRoZSB0aW1lb3V0IGFuZCByZXZvY2F0aW9uIGZsb3dcclxuXHRcdCwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0ID0gNTAwIC8vIGluIG1zXHJcblx0XHQsIHJldm9rZSA9IGZ1bmN0aW9uKGZpbGUpIHtcclxuXHRcdFx0dmFyIHJldm9rZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHsgLy8gZmlsZSBpcyBhbiBvYmplY3QgVVJMXHJcblx0XHRcdFx0XHRnZXRfVVJMKCkucmV2b2tlT2JqZWN0VVJMKGZpbGUpO1xyXG5cdFx0XHRcdH0gZWxzZSB7IC8vIGZpbGUgaXMgYSBGaWxlXHJcblx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0aWYgKHZpZXcuY2hyb21lKSB7XHJcblx0XHRcdFx0cmV2b2tlcigpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0LCBkaXNwYXRjaCA9IGZ1bmN0aW9uKGZpbGVzYXZlciwgZXZlbnRfdHlwZXMsIGV2ZW50KSB7XHJcblx0XHRcdGV2ZW50X3R5cGVzID0gW10uY29uY2F0KGV2ZW50X3R5cGVzKTtcclxuXHRcdFx0dmFyIGkgPSBldmVudF90eXBlcy5sZW5ndGg7XHJcblx0XHRcdHdoaWxlIChpLS0pIHtcclxuXHRcdFx0XHR2YXIgbGlzdGVuZXIgPSBmaWxlc2F2ZXJbXCJvblwiICsgZXZlbnRfdHlwZXNbaV1dO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0bGlzdGVuZXIuY2FsbChmaWxlc2F2ZXIsIGV2ZW50IHx8IGZpbGVzYXZlcik7XHJcblx0XHRcdFx0XHR9IGNhdGNoIChleCkge1xyXG5cdFx0XHRcdFx0XHR0aHJvd19vdXRzaWRlKGV4KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdCwgYXV0b19ib20gPSBmdW5jdGlvbihibG9iKSB7XHJcblx0XHRcdC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXHJcblx0XHRcdGlmICgvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChibG9iLnR5cGUpKSB7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBCbG9iKFtcIlxcdWZlZmZcIiwgYmxvYl0sIHt0eXBlOiBibG9iLnR5cGV9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gYmxvYjtcclxuXHRcdH1cclxuXHRcdCwgRmlsZVNhdmVyID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcclxuXHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xyXG5cdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBGaXJzdCB0cnkgYS5kb3dubG9hZCwgdGhlbiB3ZWIgZmlsZXN5c3RlbSwgdGhlbiBvYmplY3QgVVJMc1xyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHQgIGZpbGVzYXZlciA9IHRoaXNcclxuXHRcdFx0XHQsIHR5cGUgPSBibG9iLnR5cGVcclxuXHRcdFx0XHQsIGJsb2JfY2hhbmdlZCA9IGZhbHNlXHJcblx0XHRcdFx0LCBvYmplY3RfdXJsXHJcblx0XHRcdFx0LCB0YXJnZXRfdmlld1xyXG5cdFx0XHRcdCwgZGlzcGF0Y2hfYWxsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSB3cml0ZWVuZFwiLnNwbGl0KFwiIFwiKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcclxuXHRcdFx0XHQsIGZzX2Vycm9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAodGFyZ2V0X3ZpZXcgJiYgaXNfc2FmYXJpICYmIHR5cGVvZiBGaWxlUmVhZGVyICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRcdFx0XHRcdC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgdXJsc1xyXG5cdFx0XHRcdFx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHRcdFx0XHRcdFx0cmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBiYXNlNjREYXRhID0gcmVhZGVyLnJlc3VsdDtcclxuXHRcdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gXCJkYXRhOmF0dGFjaG1lbnQvZmlsZVwiICsgYmFzZTY0RGF0YS5zbGljZShiYXNlNjREYXRhLnNlYXJjaCgvWyw7XS8pKTtcclxuXHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcclxuXHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gZG9uJ3QgY3JlYXRlIG1vcmUgb2JqZWN0IFVSTHMgdGhhbiBuZWVkZWRcclxuXHRcdFx0XHRcdGlmIChibG9iX2NoYW5nZWQgfHwgIW9iamVjdF91cmwpIHtcclxuXHRcdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAodGFyZ2V0X3ZpZXcpIHtcclxuXHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR2YXIgbmV3X3RhYiA9IHZpZXcub3BlbihvYmplY3RfdXJsLCBcIl9ibGFua1wiKTtcclxuXHRcdFx0XHRcdFx0aWYgKG5ld190YWIgPT0gdW5kZWZpbmVkICYmIGlzX3NhZmFyaSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vQXBwbGUgZG8gbm90IGFsbG93IHdpbmRvdy5vcGVuLCBzZWUgaHR0cDovL2JpdC5seS8xa1pmZlJJXHJcblx0XHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XHJcblx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCwgYWJvcnRhYmxlID0gZnVuY3Rpb24oZnVuYykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoZmlsZXNhdmVyLnJlYWR5U3RhdGUgIT09IGZpbGVzYXZlci5ET05FKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LCBjcmVhdGVfaWZfbm90X2ZvdW5kID0ge2NyZWF0ZTogdHJ1ZSwgZXhjbHVzaXZlOiBmYWxzZX1cclxuXHRcdFx0XHQsIHNsaWNlXHJcblx0XHRcdDtcclxuXHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcclxuXHRcdFx0aWYgKCFuYW1lKSB7XHJcblx0XHRcdFx0bmFtZSA9IFwiZG93bmxvYWRcIjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY2FuX3VzZV9zYXZlX2xpbmspIHtcclxuXHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcdFx0XHRzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XHJcblx0XHRcdFx0c2F2ZV9saW5rLmRvd25sb2FkID0gbmFtZTtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0Y2xpY2soc2F2ZV9saW5rKTtcclxuXHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xyXG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xyXG5cdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gT2JqZWN0IGFuZCB3ZWIgZmlsZXN5c3RlbSBVUkxzIGhhdmUgYSBwcm9ibGVtIHNhdmluZyBpbiBHb29nbGUgQ2hyb21lIHdoZW5cclxuXHRcdFx0Ly8gdmlld2VkIGluIGEgdGFiLCBzbyBJIGZvcmNlIHNhdmUgd2l0aCBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cclxuXHRcdFx0Ly8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTExNThcclxuXHRcdFx0Ly8gVXBkYXRlOiBHb29nbGUgZXJyYW50bHkgY2xvc2VkIDkxMTU4LCBJIHN1Ym1pdHRlZCBpdCBhZ2FpbjpcclxuXHRcdFx0Ly8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4OTY0MlxyXG5cdFx0XHRpZiAodmlldy5jaHJvbWUgJiYgdHlwZSAmJiB0eXBlICE9PSBmb3JjZV9zYXZlYWJsZV90eXBlKSB7XHJcblx0XHRcdFx0c2xpY2UgPSBibG9iLnNsaWNlIHx8IGJsb2Iud2Via2l0U2xpY2U7XHJcblx0XHRcdFx0YmxvYiA9IHNsaWNlLmNhbGwoYmxvYiwgMCwgYmxvYi5zaXplLCBmb3JjZV9zYXZlYWJsZV90eXBlKTtcclxuXHRcdFx0XHRibG9iX2NoYW5nZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIFNpbmNlIEkgY2FuJ3QgYmUgc3VyZSB0aGF0IHRoZSBndWVzc2VkIG1lZGlhIHR5cGUgd2lsbCB0cmlnZ2VyIGEgZG93bmxvYWRcclxuXHRcdFx0Ly8gaW4gV2ViS2l0LCBJIGFwcGVuZCAuZG93bmxvYWQgdG8gdGhlIGZpbGVuYW1lLlxyXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjU0NDBcclxuXHRcdFx0aWYgKHdlYmtpdF9yZXFfZnMgJiYgbmFtZSAhPT0gXCJkb3dubG9hZFwiKSB7XHJcblx0XHRcdFx0bmFtZSArPSBcIi5kb3dubG9hZFwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlIHx8IHdlYmtpdF9yZXFfZnMpIHtcclxuXHRcdFx0XHR0YXJnZXRfdmlldyA9IHZpZXc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFyZXFfZnMpIHtcclxuXHRcdFx0XHRmc19lcnJvcigpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRmc19taW5fc2l6ZSArPSBibG9iLnNpemU7XHJcblx0XHRcdHJlcV9mcyh2aWV3LlRFTVBPUkFSWSwgZnNfbWluX3NpemUsIGFib3J0YWJsZShmdW5jdGlvbihmcykge1xyXG5cdFx0XHRcdGZzLnJvb3QuZ2V0RGlyZWN0b3J5KFwic2F2ZWRcIiwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uKGRpcikge1xyXG5cdFx0XHRcdFx0dmFyIHNhdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZGlyLmdldEZpbGUobmFtZSwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZpbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRmaWxlLmNyZWF0ZVdyaXRlcihhYm9ydGFibGUoZnVuY3Rpb24od3JpdGVyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3cml0ZXIub253cml0ZWVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBmaWxlLnRvVVJMKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZWVuZFwiLCBldmVudCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldm9rZShmaWxlKTtcclxuXHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHR3cml0ZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3IgPSB3cml0ZXIuZXJyb3I7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChlcnJvci5jb2RlICE9PSBlcnJvci5BQk9SVF9FUlIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmc19lcnJvcigpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0XCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIGFib3J0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyW1wib25cIiArIGV2ZW50XSA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF07XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci53cml0ZShibG9iKTtcclxuXHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5hYm9ydCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXIuYWJvcnQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuXHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5XUklUSU5HO1xyXG5cdFx0XHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XHJcblx0XHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0ZGlyLmdldEZpbGUobmFtZSwge2NyZWF0ZTogZmFsc2V9LCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xyXG5cdFx0XHRcdFx0XHQvLyBkZWxldGUgZmlsZSBpZiBpdCBhbHJlYWR5IGV4aXN0c1xyXG5cdFx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRzYXZlKCk7XHJcblx0XHRcdFx0XHR9KSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGV4KSB7XHJcblx0XHRcdFx0XHRcdGlmIChleC5jb2RlID09PSBleC5OT1RfRk9VTkRfRVJSKSB7XHJcblx0XHRcdFx0XHRcdFx0c2F2ZSgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xyXG5cdFx0XHR9KSwgZnNfZXJyb3IpO1xyXG5cdFx0fVxyXG5cdFx0LCBGU19wcm90byA9IEZpbGVTYXZlci5wcm90b3R5cGVcclxuXHRcdCwgc2F2ZUFzID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pO1xyXG5cdFx0fVxyXG5cdDtcclxuXHQvLyBJRSAxMCsgKG5hdGl2ZSBzYXZlQXMpXHJcblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG5cdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XHJcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCBuYW1lIHx8IFwiZG93bmxvYWRcIik7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0RlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBmaWxlc2F2ZXIgPSB0aGlzO1xyXG5cdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuXHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJhYm9ydFwiKTtcclxuXHR9O1xyXG5cdEZTX3Byb3RvLnJlYWR5U3RhdGUgPSBGU19wcm90by5JTklUID0gMDtcclxuXHRGU19wcm90by5XUklUSU5HID0gMTtcclxuXHRGU19wcm90by5ET05FID0gMjtcclxuXHJcblx0RlNfcHJvdG8uZXJyb3IgPVxyXG5cdEZTX3Byb3RvLm9ud3JpdGVzdGFydCA9XHJcblx0RlNfcHJvdG8ub25wcm9ncmVzcyA9XHJcblx0RlNfcHJvdG8ub253cml0ZSA9XHJcblx0RlNfcHJvdG8ub25hYm9ydCA9XHJcblx0RlNfcHJvdG8ub25lcnJvciA9XHJcblx0RlNfcHJvdG8ub253cml0ZWVuZCA9XHJcblx0XHRudWxsO1xyXG5cclxuXHRyZXR1cm4gc2F2ZUFzO1xyXG59KFxyXG5cdCAgIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGZcclxuXHR8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1xyXG5cdHx8IHRoaXMuY29udGVudFxyXG4pKTtcclxuLy8gYHNlbGZgIGlzIHVuZGVmaW5lZCBpbiBGaXJlZm94IGZvciBBbmRyb2lkIGNvbnRlbnQgc2NyaXB0IGNvbnRleHRcclxuLy8gd2hpbGUgYHRoaXNgIGlzIG5zSUNvbnRlbnRGcmFtZU1lc3NhZ2VNYW5hZ2VyXHJcbi8vIHdpdGggYW4gYXR0cmlidXRlIGBjb250ZW50YCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB3aW5kb3dcclxuXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMuc2F2ZUFzID0gc2F2ZUFzO1xyXG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZSAhPT0gbnVsbCkgJiYgKGRlZmluZS5hbWQgIT0gbnVsbCkpIHtcclxuICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHNhdmVBcztcclxuICB9KTtcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9maWxlc2F2ZXIuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi4vQ29uc3QnO1xyXG5cclxuY2xhc3MgRGF0ZUZpbHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLmZpbHRlciA9IHRoaXMuZmlsdGVyLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGVmYXVsdERhdGUoKSB7XHJcbiAgICAgICAgbGV0IGRlZmF1bHREYXRlICA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aGUgYXBwcm9wcmlhdGUgZm9ybWF0IGZvciB0aGUgaW5wdXQgdHlwZT1kYXRlLCBpLmUuIFwiWVlZWS1NTS1ERFwiXHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG5ldyBEYXRlKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKTtcclxuICAgICAgICAgICAgZGVmYXVsdERhdGUgPSBgJHtkZWZhdWx0VmFsdWUuZ2V0RnVsbFllYXIoKX0tJHsoXCIwXCIgKyAoZGVmYXVsdFZhbHVlLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpfS0keyhcIjBcIiArIGRlZmF1bHRWYWx1ZS5nZXREYXRlKCkpLnNsaWNlKC0yKX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmYXVsdERhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsdGVyKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZVZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIGlmIChkYXRlVmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKG5ldyBEYXRlKGRhdGVWYWx1ZSksIENvbnN0LkZJTFRFUl9UWVBFLkRBVEUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihudWxsLCBDb25zdC5GSUxURVJfVFlQRS5EQVRFKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZVZhbHVlID0gdGhpcy5yZWZzLmlucHV0RGF0ZS5kZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgaWYgKGRhdGVWYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIobmV3IERhdGUoZGF0ZVZhbHVlKSwgQ29uc3QuRklMVEVSX1RZUEUuREFURSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8aW5wdXQgcmVmPVwiaW5wdXREYXRlXCJcclxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbHRlciBkYXRlLWZpbHRlciBmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuZmlsdGVyfVxyXG4gICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXt0aGlzLnNldERlZmF1bHREYXRlKCl9IC8+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufTtcclxuXHJcbkRhdGVGaWx0ZXIucHJvcFR5cGVzID0ge1xyXG4gICAgZmlsdGVySGFuZGxlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgIGRlZmF1bHRWYWx1ZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcclxuICAgIGNvbHVtbk5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERhdGVGaWx0ZXI7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZpbHRlcnMvRGF0ZS5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc1NldCBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4uL0NvbnN0JztcclxuXHJcbmNvbnN0IGxlZ2FsQ29tcGFyYXRvcnMgPSBbXCI9XCIsIFwiPlwiLCBcIj49XCIsIFwiPFwiLCBcIjw9XCIsIFwiIT1cIl07XHJcblxyXG5jbGFzcyBOdW1iZXJGaWx0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5udW1iZXJDb21wYXJhdG9ycyA9IHRoaXMucHJvcHMubnVtYmVyQ29tcGFyYXRvcnMgfHwgbGVnYWxDb21wYXJhdG9ycztcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6ICh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyID09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5vcHRpb25zICYmIHRoaXMucHJvcHMub3B0aW9ucy5pbmRleE9mKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlcikgPT0gLTEpKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZU51bWJlciA9IHRoaXMub25DaGFuZ2VOdW1iZXIuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0ID0gdGhpcy5vbkNoYW5nZU51bWJlclNldC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2VDb21wYXJhdG9yID0gdGhpcy5vbkNoYW5nZUNvbXBhcmF0b3IuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZU51bWJlcihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYucHJvcHMuZmlsdGVySGFuZGxlcih7bnVtYmVyOiBmaWx0ZXJWYWx1ZSwgY29tcGFyYXRvcjogc2VsZi5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWV9LFxyXG4gICAgICAgICAgICAgICAgQ29uc3QuRklMVEVSX1RZUEUuTlVNQkVSKTtcclxuICAgICAgICB9LCBzZWxmLnByb3BzLmRlbGF5KTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZU51bWJlclNldChldmVudCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzUGxhY2Vob2xkZXJTZWxlY3RlZDogKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gXCJcIil9KTtcclxuICAgICAgICBpZiAodGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoe251bWJlcjogZXZlbnQudGFyZ2V0LnZhbHVlLCBjb21wYXJhdG9yOiB0aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZX0sXHJcbiAgICAgICAgICAgIENvbnN0LkZJTFRFUl9UWVBFLk5VTUJFUik7XHJcbiAgICB9XHJcblxyXG4gICAgb25DaGFuZ2VDb21wYXJhdG9yKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoe251bWJlcjogdGhpcy5yZWZzLm51bWJlckZpbHRlci52YWx1ZSwgY29tcGFyYXRvcjogZXZlbnQudGFyZ2V0LnZhbHVlfSxcclxuICAgICAgICAgICAgQ29uc3QuRklMVEVSX1RZUEUuTlVNQkVSKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb21wYXJhdG9yT3B0aW9ucygpIHtcclxuICAgICAgICBsZXQgb3B0aW9uVGFncyA9IFtdO1xyXG4gICAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT1cIi0xXCI+PC9vcHRpb24+KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtYmVyQ29tcGFyYXRvcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKDxvcHRpb24ga2V5PXtpfSB2YWx1ZT17dGhpcy5udW1iZXJDb21wYXJhdG9yc1tpXX0+e3RoaXMubnVtYmVyQ29tcGFyYXRvcnNbaV19PC9vcHRpb24+KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBvcHRpb25UYWdzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE51bWJlck9wdGlvbnMoKSB7XHJcbiAgICAgICAgbGV0IG9wdGlvblRhZ3MgPSBbXTtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xyXG5cclxuICAgICAgICBvcHRpb25UYWdzLnB1c2goPG9wdGlvbiBrZXk9XCItMVwiIHZhbHVlPVwiXCI+e3RoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgYFNlbGVjdCAke3RoaXMucHJvcHMuY29sdW1uTmFtZX0uLi5gfTwvb3B0aW9uPik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT17aX0gdmFsdWU9e29wdGlvbnNbaV19PntvcHRpb25zW2ldfTwvb3B0aW9uPik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWZzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgJiYgdGhpcy5yZWZzLm51bWJlckZpbHRlci52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoe251bWJlcjogdGhpcy5yZWZzLm51bWJlckZpbHRlci52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IHRoaXMucmVmcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlfSxcclxuICAgICAgICAgICAgICAgIENvbnN0LkZJTFRFUl9UWVBFLk5VTUJFUik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgc2VsZWN0Q2xhc3MgPSBjbGFzc1NldChcInNlbGVjdC1maWx0ZXJcIiwgXCJudW1iZXItZmlsdGVyLWlucHV0XCIsIFwiZm9ybS1jb250cm9sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwicGxhY2Vob2xkZXItc2VsZWN0ZWRcIjogdGhpcy5zdGF0ZS5pc1BsYWNlaG9sZGVyU2VsZWN0ZWQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsdGVyIG51bWJlci1maWx0ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzZWxlY3QgcmVmPVwibnVtYmVyRmlsdGVyQ29tcGFyYXRvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm51bWJlci1maWx0ZXItY29tcGFyYXRvciBmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUNvbXBhcmF0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLmNvbXBhcmF0b3IgOiBcIlwifT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRDb21wYXJhdG9yT3B0aW9ucygpfVxyXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMub3B0aW9ucykgPyA8c2VsZWN0IHJlZj1cIm51bWJlckZpbHRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c2VsZWN0Q2xhc3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldE51bWJlck9wdGlvbnMoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PiA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHJlZj1cIm51bWJlckZpbHRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibnVtYmVyLWZpbHRlci1pbnB1dCBmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGBFbnRlciAke3RoaXMucHJvcHMuY29sdW1uTmFtZX0uLi5gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTnVtYmVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZS5udW1iZXIgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIn0gLz59XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5OdW1iZXJGaWx0ZXIucHJvcFR5cGVzID0ge1xyXG4gICAgZmlsdGVySGFuZGxlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgIG9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5udW1iZXIpLFxyXG4gICAgZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgICAgIG51bWJlcjogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICAgICAgICBjb21wYXJhdG9yOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YobGVnYWxDb21wYXJhdG9ycylcclxuICAgIH0pLFxyXG4gICAgZGVsYXk6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICBudW1iZXJDb21wYXJhdG9yczogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lKSB7XHJcbiAgICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzW3Byb3BOYW1lXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY29tcGFyYXRvcklzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZWdhbENvbXBhcmF0b3JzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnYWxDb21wYXJhdG9yc1tqXSA9PT0gcHJvcHNbcHJvcE5hbWVdW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGFyYXRvcklzVmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghY29tcGFyYXRvcklzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoYE51bWJlciBjb21wYXJhdG9yIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBvbmx5ICR7bGVnYWxDb21wYXJhdG9yc31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwbGFjZWhvbGRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGNvbHVtbk5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbk51bWJlckZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBkZWxheTogQ29uc3QuRklMVEVSX0RFTEFZXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOdW1iZXJGaWx0ZXI7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZpbHRlcnMvTnVtYmVyLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29uc3QgZnJvbSAnLi4vQ29uc3QnO1xyXG5cclxuY2xhc3MgU2VsZWN0RmlsdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdFx0dGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHtcclxuXHRcdFx0aXNQbGFjZWhvbGRlclNlbGVjdGVkOiAodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgPT0gdW5kZWZpbmVkIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdCF0aGlzLnByb3BzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUpKVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGZpbHRlcihldmVudCkge1xyXG5cdFx0dGhpcy5zZXRTdGF0ZSh7aXNQbGFjZWhvbGRlclNlbGVjdGVkOiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSBcIlwiKX0pO1xyXG5cdFx0dGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKGV2ZW50LnRhcmdldC52YWx1ZSwgQ29uc3QuRklMVEVSX1RZUEUuU0VMRUNUKTtcclxuXHR9XHJcblxyXG5cdGdldE9wdGlvbnMoKSB7XHJcblx0XHRsZXQgb3B0aW9uVGFncyA9IFtdO1xyXG5cdFx0Y29uc3Qgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucztcclxuXHRcdG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT1cIi0xXCIgdmFsdWU9XCJcIj57dGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCBgU2VsZWN0ICR7dGhpcy5wcm9wcy5jb2x1bW5OYW1lfS4uLmB9PC9vcHRpb24+KTtcclxuXHRcdE9iamVjdC5rZXlzKG9wdGlvbnMpLm1hcCgoa2V5KSA9PiB7XHJcblx0XHRcdG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT17a2V5fSB2YWx1ZT17a2V5fT57b3B0aW9uc1trZXldfTwvb3B0aW9uPik7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBvcHRpb25UYWdzO1xyXG5cdH1cclxuXHJcblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XHJcblx0XHRpZiAodGhpcy5yZWZzLnNlbGVjdElucHV0LnZhbHVlKSB7XHJcblx0XHRcdHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih0aGlzLnJlZnMuc2VsZWN0SW5wdXQudmFsdWUsIENvbnN0LkZJTFRFUl9UWVBFLlNFTEVDVCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHR2YXIgc2VsZWN0Q2xhc3MgPSBjbGFzc1NldChcImZpbHRlclwiLCBcInNlbGVjdC1maWx0ZXJcIiwgXCJmb3JtLWNvbnRyb2xcIixcclxuXHRcdFx0XHRcdFx0XHR7XCJwbGFjZWhvbGRlci1zZWxlY3RlZFwiOiB0aGlzLnN0YXRlLmlzUGxhY2Vob2xkZXJTZWxlY3RlZH0pO1xyXG5cclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxzZWxlY3QgcmVmPVwic2VsZWN0SW5wdXRcIlxyXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtzZWxlY3RDbGFzc31cclxuXHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLmZpbHRlcn1cclxuXHRcdFx0XHRcdGRlZmF1bHRWYWx1ZT17KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlICE9IHVuZGVmaW5lZCkgPyB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA6IFwiXCJ9PlxyXG5cdFx0XHRcdHt0aGlzLmdldE9wdGlvbnMoKX1cclxuXHRcdFx0PC9zZWxlY3Q+XHJcblx0XHQpO1xyXG5cdH1cclxufTtcclxuXHJcblNlbGVjdEZpbHRlci5wcm9wVHlwZXMgPSB7XHJcblx0ZmlsdGVySGFuZGxlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRvcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcblx0cGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcblx0Y29sdW1uTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0RmlsdGVyO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9maWx0ZXJzL1NlbGVjdC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuLi9Db25zdCc7XHJcblxyXG5jbGFzcyBUZXh0RmlsdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdFx0dGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xyXG5cdFx0dGhpcy50aW1lb3V0ID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdGZpbHRlcihldmVudCkge1xyXG5cdFx0aWYgKHRoaXMudGltZW91dCkge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cdFx0Y29uc3QgZmlsdGVyVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcblx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRzZWxmLnByb3BzLmZpbHRlckhhbmRsZXIoZmlsdGVyVmFsdWUsIENvbnN0LkZJTFRFUl9UWVBFLlRFWFQpO1xyXG5cdFx0fSwgc2VsZi5wcm9wcy5kZWxheSk7XHJcblx0fVxyXG5cclxuXHRjb21wb25lbnREaWRNb3VudCgpIHtcclxuXHRcdGlmICh0aGlzLnJlZnMuaW5wdXRUZXh0LmRlZmF1bHRWYWx1ZSkge1xyXG5cdFx0XHR0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIodGhpcy5yZWZzLmlucHV0VGV4dC5kZWZhdWx0VmFsdWUsIENvbnN0LkZJTFRFUl9UWVBFLlRFWFQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PGlucHV0IHJlZj1cImlucHV0VGV4dFwiXHJcblx0XHRcdFx0ICAgY2xhc3NOYW1lPVwiZmlsdGVyIHRleHQtZmlsdGVyIGZvcm0tY29udHJvbFwiXHJcblx0XHRcdFx0ICAgdHlwZT1cInRleHRcIlxyXG5cdFx0XHRcdCAgIG9uQ2hhbmdlPXt0aGlzLmZpbHRlcn1cclxuXHRcdFx0XHQgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCBgRW50ZXIgJHt0aGlzLnByb3BzLmNvbHVtbk5hbWV9Li4uYH1cclxuXHRcdFx0XHQgICBkZWZhdWx0VmFsdWU9eyh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkgPyB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA6IFwiXCJ9IC8+XHJcblx0XHQpO1xyXG5cdH1cclxufTtcclxuXHJcblRleHRGaWx0ZXIucHJvcFR5cGVzID0ge1xyXG5cdGZpbHRlckhhbmRsZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcblx0ZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG5cdGRlbGF5OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG5cdHBsYWNlaG9sZGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG5cdGNvbHVtbk5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcblRleHRGaWx0ZXIuZGVmYXVsdFByb3BzID0ge1xyXG5cdGRlbGF5OiBDb25zdC5GSUxURVJfREVMQVlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGV4dEZpbHRlcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmlsdGVycy9UZXh0LmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNsYXNzU2V0IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5cclxuY2xhc3MgUGFnZUJ1dHRvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHR9XHJcblxyXG4gIHBhZ2VCdG5DbGljayhlKXtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMucHJvcHMuY2hhbmdlUGFnZShlLmN1cnJlbnRUYXJnZXQudGV4dCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKXtcclxuICAgIHZhciBjbGFzc2VzID0gY2xhc3NTZXQoe1xyXG4gICAgICAgICdhY3RpdmUnOiB0aGlzLnByb3BzLmFjdGl2ZSxcclxuICAgICAgICAnZGlzYWJsZWQnOiB0aGlzLnByb3BzLmRpc2FibGUsXHJcbiAgICAgICAgJ2hpZGRlbic6IHRoaXMucHJvcHMuaGlkZGVuXHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGxpIGNsYXNzTmFtZT17Y2xhc3Nlc30+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXt0aGlzLnBhZ2VCdG5DbGljay5iaW5kKHRoaXMpfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2E+PC9saT5cclxuICAgIClcclxuICB9XHJcbn1cclxuUGFnZUJ1dHRvbi5wcm9wVHlwZXMgPSB7XHJcbiAgY2hhbmdlUGFnZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgYWN0aXZlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICBkaXNhYmxlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFnZUJ1dHRvbjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcGFnaW5hdGlvbi9QYWdlQnV0dG9uLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFBhZ2VCdXR0b24gZnJvbSAnLi9QYWdlQnV0dG9uLmpzJztcclxuaW1wb3J0IENvbnN0IGZyb20gJy4uL0NvbnN0JztcclxuXHJcbmNsYXNzIFBhZ2luYXRpb25MaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgY2hhbmdlUGFnZShwYWdlKSB7XHJcbiAgICBpZiAocGFnZSA9PSB0aGlzLnByb3BzLnByZVBhZ2UpIHtcclxuICAgICAgcGFnZSA9IHRoaXMucHJvcHMuY3VyclBhZ2UgLSAxIDwgMSA/IDEgOiB0aGlzLnByb3BzLmN1cnJQYWdlIC0gMTtcclxuICAgIH0gZWxzZSBpZiAocGFnZSA9PSB0aGlzLnByb3BzLm5leHRQYWdlKSB7XHJcbiAgICAgIHBhZ2UgPSB0aGlzLnByb3BzLmN1cnJQYWdlICsgMSA+IHRoaXMudG90YWxQYWdlcyA/IHRoaXMudG90YWxQYWdlcyA6IHRoaXMucHJvcHMuY3VyclBhZ2UgKyAxO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlID09IHRoaXMucHJvcHMubGFzdFBhZ2UpIHtcclxuICAgICAgcGFnZSA9IHRoaXMudG90YWxQYWdlcztcclxuICAgIH0gZWxzZSBpZiAocGFnZSA9PSB0aGlzLnByb3BzLmZpcnN0UGFnZSkge1xyXG4gICAgICBwYWdlID0gMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBhZ2UgPSBwYXJzZUludChwYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFnZSAhPSB0aGlzLnByb3BzLmN1cnJQYWdlKSB7XHJcbiAgICAgIHRoaXMucHJvcHMuY2hhbmdlUGFnZShwYWdlLCB0aGlzLnByb3BzLnNpemVQZXJQYWdlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoYW5nZVNpemVQZXJQYWdlKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjb25zdCBzZWxlY3RTaXplID0gcGFyc2VJbnQoZS5jdXJyZW50VGFyZ2V0LnRleHQpO1xyXG4gICAgbGV0IHsgY3VyclBhZ2UgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBpZiAoc2VsZWN0U2l6ZSAhPSB0aGlzLnByb3BzLnNpemVQZXJQYWdlKSB7XHJcbiAgICAgIHRoaXMudG90YWxQYWdlcyA9IE1hdGguY2VpbCh0aGlzLnByb3BzLmRhdGFTaXplIC8gc2VsZWN0U2l6ZSk7XHJcbiAgICAgIGlmIChjdXJyUGFnZSA+IHRoaXMudG90YWxQYWdlcylcclxuICAgICAgICBjdXJyUGFnZSA9IHRoaXMudG90YWxQYWdlcztcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuY2hhbmdlUGFnZShjdXJyUGFnZSwgc2VsZWN0U2l6ZSk7XHJcbiAgICAgIGlmKHRoaXMucHJvcHMub25TaXplUGVyUGFnZUxpc3Qpe1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TaXplUGVyUGFnZUxpc3Qoc2VsZWN0U2l6ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHRoaXMudG90YWxQYWdlcyA9IE1hdGguY2VpbCh0aGlzLnByb3BzLmRhdGFTaXplIC8gdGhpcy5wcm9wcy5zaXplUGVyUGFnZSk7XHJcbiAgICB2YXIgcGFnZUJ0bnMgPSB0aGlzLm1ha2VQYWdlKCk7XHJcbiAgICB2YXIgcGFnZUxpc3RTdHlsZSA9IHtcclxuICAgICAgZmxvYXQ6IFwicmlnaHRcIixcclxuICAgICAgbWFyZ2luVG9wOiBcIjBweFwiICAvL292ZXJyaWRlIHRoZSBtYXJnaW4tdG9wIGRlZmluZWQgaW4gLnBhZ2luYXRpb24gY2xhc3MgaW4gYm9vdHN0cmFwLlxyXG4gICAgfVxyXG5cclxuICAgIHZhciBzaXplUGVyUGFnZUxpc3QgPSB0aGlzLnByb3BzLnNpemVQZXJQYWdlTGlzdC5tYXAoKHNpemVQZXJQYWdlKSA9PiB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGxpIGtleT17c2l6ZVBlclBhZ2V9IHJvbGU9XCJwcmVzZW50YXRpb25cIj5cclxuICAgICAgICAgIDxhIHJvbGU9XCJtZW51aXRlbVwiIHRhYkluZGV4PVwiLTFcIiBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMuY2hhbmdlU2l6ZVBlclBhZ2UuYmluZCh0aGlzKX0+e3NpemVQZXJQYWdlfTwvYT5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIiBzdHlsZT17eyBtYXJnaW5Ub3A6IDE1IH19PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuc2l6ZVBlclBhZ2VMaXN0Lmxlbmd0aCA+IDFcclxuICAgICAgICAgID8gPGRpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcIiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJwYWdlRHJvcERvd25cIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5zaXplUGVyUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XCIgXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcmV0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIiBhcmlhLWxhYmVsbGVkYnk9XCJwYWdlRHJvcERvd25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHtzaXplUGVyUGFnZUxpc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInBhZ2luYXRpb25cIiBzdHlsZT17cGFnZUxpc3RTdHlsZX0+XHJcbiAgICAgICAgICAgICAgICAgICAge3BhZ2VCdG5zfVxyXG4gICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA6IDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XHJcbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInBhZ2luYXRpb25cIiBzdHlsZT17cGFnZUxpc3RTdHlsZX0+XHJcbiAgICAgICAgICAgICAgICB7cGFnZUJ0bnN9XHJcbiAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIG1ha2VQYWdlKCkge1xyXG4gICAgdmFyIHBhZ2VzID0gdGhpcy5nZXRQYWdlcygpO1xyXG4gICAgcmV0dXJuIHBhZ2VzLm1hcChmdW5jdGlvbiAocGFnZSkge1xyXG4gICAgICB2YXIgaXNBY3RpdmUgPSBwYWdlID09PSB0aGlzLnByb3BzLmN1cnJQYWdlO1xyXG4gICAgICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgdmFyIGhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICBpZih0aGlzLnByb3BzLmN1cnJQYWdlID09IDEgJiZcclxuICAgICAgICAocGFnZSA9PT0gdGhpcy5wcm9wcy5maXJzdFBhZ2UgfHwgcGFnZSA9PT0gdGhpcy5wcm9wcy5wcmVQYWdlKSl7XHJcbiAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKHRoaXMucHJvcHMuY3VyclBhZ2UgPT0gdGhpcy50b3RhbFBhZ2VzICYmXHJcbiAgICAgICAgKHBhZ2UgPT09IHRoaXMucHJvcHMubmV4dFBhZ2UgfHwgcGFnZSA9PT0gdGhpcy5wcm9wcy5sYXN0UGFnZSkpe1xyXG4gICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxQYWdlQnV0dG9uIGNoYW5nZVBhZ2U9e3RoaXMuY2hhbmdlUGFnZS5iaW5kKHRoaXMpfSBhY3RpdmU9e2lzQWN0aXZlfSBkaXNhYmxlPXtkaXNhYmxlZH0gaGlkZGVuPXtoaWRkZW59IGtleT17cGFnZX0+e3BhZ2V9PC9QYWdlQnV0dG9uPlxyXG4gICAgICApXHJcbiAgICB9LCB0aGlzKTtcclxuICB9XHJcblxyXG4gIGdldFBhZ2VzKCkge1xyXG4gICAgdmFyIHN0YXJ0UGFnZSA9IDEsIGVuZFBhZ2UgPSB0aGlzLnRvdGFsUGFnZXM7XHJcblxyXG4gICAgc3RhcnRQYWdlID0gTWF0aC5tYXgodGhpcy5wcm9wcy5jdXJyUGFnZSAtIE1hdGguZmxvb3IodGhpcy5wcm9wcy5wYWdpbmF0aW9uU2l6ZSAvIDIpLCAxKTtcclxuICAgIGVuZFBhZ2UgPSBzdGFydFBhZ2UgKyB0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplIC0gMTtcclxuXHJcbiAgICBpZiAoZW5kUGFnZSA+IHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICBlbmRQYWdlID0gdGhpcy50b3RhbFBhZ2VzO1xyXG4gICAgICBzdGFydFBhZ2UgPSBlbmRQYWdlIC0gdGhpcy5wcm9wcy5wYWdpbmF0aW9uU2l6ZSArIDE7XHJcbiAgICB9XHJcbiAgICB2YXIgcGFnZXM7XHJcbiAgICBpZihzdGFydFBhZ2UgIT0gMSAmJiB0aGlzLnRvdGFsUGFnZXMgPiB0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplKSB7XHJcbiAgICAgIHBhZ2VzID0gW3RoaXMucHJvcHMuZmlyc3RQYWdlLCB0aGlzLnByb3BzLnByZVBhZ2VdO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XHJcbiAgICAgIHBhZ2VzID0gW3RoaXMucHJvcHMucHJlUGFnZV07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcGFnZXMgPSBbXVxyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0UGFnZTsgaSA8PSBlbmRQYWdlOyBpKyspIHtcclxuICAgICAgaWYgKGkgPiAwKXBhZ2VzLnB1c2goaSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZW5kUGFnZSAhPSB0aGlzLnRvdGFsUGFnZXMpIHtcclxuICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLm5leHRQYWdlKTtcclxuICAgICAgcGFnZXMucHVzaCh0aGlzLnByb3BzLmxhc3RQYWdlKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy50b3RhbFBhZ2VzID4gMSl7XHJcbiAgICAgIHBhZ2VzLnB1c2godGhpcy5wcm9wcy5uZXh0UGFnZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFnZXM7XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50UGFnZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmN1cnJQYWdlO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2l6ZVBlclBhZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5zaXplUGVyUGFnZTtcclxuICB9XHJcbn1cclxuUGFnaW5hdGlvbkxpc3QucHJvcFR5cGVzID0ge1xyXG4gIGN1cnJQYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIHNpemVQZXJQYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGRhdGFTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGNoYW5nZVBhZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIHNpemVQZXJQYWdlTGlzdDogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxyXG4gIHBhZ2luYXRpb25TaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIHJlbW90ZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgb25TaXplUGVyUGFnZUxpc3Q6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gIHByZVBhZ2U6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcblBhZ2luYXRpb25MaXN0LmRlZmF1bHRQcm9wcyA9IHtcclxuICBzaXplUGVyUGFnZTogQ29uc3QuU0laRV9QRVJfUEFHRVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFnaW5hdGlvbkxpc3Q7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3BhZ2luYXRpb24vUGFnaW5hdGlvbkxpc3QuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgY2xhc3NTZXQgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCBDb25zdCBmcm9tICcuLi9Db25zdCc7XHJcbmltcG9ydCBFZGl0b3IgZnJvbSAnLi4vRWRpdG9yJztcclxuaW1wb3J0IE5vdGlmaWVyIGZyb20gJy4uL05vdGlmaWNhdGlvbi5qcyc7XHJcbmltcG9ydCBTd2l0Y2ggZnJvbSAncmMtc3dpdGNoJztcclxuXHJcbmNsYXNzIFRvb2xCYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMudGltZW91dGVDbGVhciA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNJbnNlcnRSb3dUcmlnZ2VyOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWxpZGF0ZVN0YXRlOiBudWxsLFxyXG4gICAgICAgICAgICBzaGFrZUVkaXRvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNob3dTZWxlY3RlZDogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJUaW1lb3V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXRlQ2xlYXIpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dGVDbGVhcik7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dGVDbGVhciA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrQW5kUGFyc2VGb3JtKCkge1xyXG4gICAgICAgIHZhciB0cyA9IHRoaXMsIG5ld09iaiA9IHt9LCBpc1ZhbGlkID0gdHJ1ZSwgdGVtcFZhbHVlLCB0ZW1wTXNnLCB2YWxpZGF0ZVN0YXRlID0ge307XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uLmF1dG9WYWx1ZSkgey8vd2hlbiB5b3Ugd2FudCBzYW1lIGF1dG8gZ2VuZXJhdGUgdmFsdWUgYW5kIG5vdCBhbGxvdyBlZGl0LCBleGFtcGxlIElEIGZpZWxkXHJcbiAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSB0eXBlb2YgY29sdW1uLmF1dG9WYWx1ZSA9PSAnZnVuY3Rpb24nID8gY29sdW1uLmF1dG9WYWx1ZSgpIDogKCdhdXRvdmFsdWUtJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBkb20gPSB0aGlzLnJlZnNbY29sdW1uLmZpZWxkICsgaV07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mICBkb20gIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IGRvbS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSB0cnVlXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5lZGl0YWJsZSAmJiBjb2x1bW4uZWRpdGFibGUudHlwZSA9PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlcyA9IGRvbS52YWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IGRvbS5jaGVja2VkID8gdmFsdWVzWzBdIDogdmFsdWVzWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uZWRpdGFibGUgJiYgY29sdW1uLmVkaXRhYmxlLnZhbGlkYXRvcikgey8vcHJvY2VzcyB2YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBNc2cgPSBjb2x1bW4uZWRpdGFibGUudmFsaWRhdG9yKHRlbXBWYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVtcE1zZyAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdGVbY29sdW1uLmZpZWxkXSA9IHRlbXBNc2c7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXdPYmpbY29sdW1uLmZpZWxkXSA9IHRlbXBWYWx1ZTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld09iajtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cy5jbGVhclRpbWVvdXQoKTtcclxuICAgICAgICAgICAgLy9zaG93IGVycm9yIGluIGZvcm0gYW5kIHNoYWtlIGl0XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3ZhbGlkYXRlU3RhdGU6IHZhbGlkYXRlU3RhdGUsIHNoYWtlRWRpdG9yOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIC8vbm90aWZpZXIgZXJyb3JcclxuICAgICAgICAgICAgdHMucmVmcy5ub3RpZmllci5ub3RpY2UoJ2Vycm9yJywgXCJGb3JtIHZhbGlkYXRlIGVycm9ycywgcGxlYXNlIGNoZWNraW5nIVwiLCBcIlByZXNzZWQgRVNDIGNhbiBjYW5jZWxcIik7XHJcbiAgICAgICAgICAgIC8vY2xlYXIgYW5pbWF0ZSBjbGFzc1xyXG4gICAgICAgICAgICB0cy50aW1lb3V0ZUNsZWFyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7c2hha2VFZGl0b3I6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTYXZlQnRuQ2xpY2soZSkge1xyXG4gICAgICAgIHZhciBuZXdPYmogPSB0aGlzLmNoZWNrQW5kUGFyc2VGb3JtKCk7XHJcbiAgICAgICAgaWYgKCFuZXdPYmopIHsvL3ZhbGlkYXRlIGVycm9yc1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtc2cgPSB0aGlzLnByb3BzLm9uQWRkUm93KG5ld09iaik7XHJcbiAgICAgICAgaWYgKG1zZykge1xyXG4gICAgICAgICAgICB2YXIgdHMgPSB0aGlzO1xyXG4gICAgICAgICAgICB0cy5yZWZzLm5vdGlmaWVyLm5vdGljZSgnZXJyb3InLCBtc2csIFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKTtcclxuICAgICAgICAgICAgdHMuY2xlYXJUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgIC8vc2hha2UgZm9ybSBhbmQgaGFjayBwcmV2ZW50IG1vZGFsIGhpZGVcclxuICAgICAgICAgICAgdHMuc2V0U3RhdGUoe3NoYWtlRWRpdG9yOiB0cnVlLCB2YWxpZGF0ZVN0YXRlOiBcInRoaXMgaXMgaGFjayBmb3IgcHJldmVudCBib290c3RyYXAgbW9kYWwgaGlkZVwifSk7XHJcbiAgICAgICAgICAgIC8vY2xlYXIgYW5pbWF0ZSBjbGFzc1xyXG4gICAgICAgICAgICB0cy50aW1lb3V0ZUNsZWFyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0cy5zZXRTdGF0ZSh7c2hha2VFZGl0b3I6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9yZXNldCBzdGF0ZSBhbmQgaGlkZSBtb2RhbCBoaWRlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIHNoYWtlRWRpdG9yOiBmYWxzZVxyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLlwiICsgXCJtb2RhbFwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9yZXNldCBmb3JtXHJcbiAgICAgICAgICAgIHRoaXMucmVmcy5mb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNob3dPbmx5VG9nZ2xlID0gZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHNob3dTZWxlY3RlZDogIXRoaXMuc3RhdGUuc2hvd1NlbGVjdGVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNob3dPbmx5U2VsZWN0ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEcm9wUm93QnRuQ2xpY2soZSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25Ecm9wUm93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2xvc2VCdG4oZSkge1xyXG4gICAgICAgIHRoaXMucmVmcy53YXJuaW5nLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVLZXlVcChlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaChlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUV4cG9ydENTVigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uRXhwb3J0Q1NWKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2xlYXJCdG5DbGljayA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnJlZnMuc2VhY2hJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TZWFyY2goJycpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgbW9kYWxDbGFzc05hbWUgPSBcImJzLXRhYmxlLW1vZGFsLXNtXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICB2YXIgaW5zZXJ0QnRuID0gdGhpcy5wcm9wcy5lbmFibGVJbnNlcnQgP1xyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQWRkUm93QmVnaW59IGNsYXNzTmFtZT1cImJ0biBidG4taW5mbyByZWFjdC1icy10YWJsZS1hZGQtYnRuXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9eycuJyttb2RhbENsYXNzTmFtZX0+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLXBsdXNcIj48L2k+IE5ldzwvYnV0dG9uPiA6IG51bGw7XHJcblxyXG4gICAgICAgIHZhciBkZWxldGVCdG4gPSB0aGlzLnByb3BzLmVuYWJsZURlbGV0ZSA/XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4td2FybmluZyByZWFjdC1icy10YWJsZS1kZWwtYnRuXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBsYWNlbWVudD1cInJpZ2h0XCIgdGl0bGU9XCJEcm9wIHNlbGVjdGVkIHJvd1wiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVEcm9wUm93QnRuQ2xpY2suYmluZCh0aGlzKX0+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoXCI+PC9pPiBEZWxldGVcclxuICAgICAgICAgICAgPC9idXR0b24+IDogbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIHNlYXJjaFRleHRJbnB1dCA9IHRoaXMucmVuZGVyU2VhcmNoUGFuZWwoKTtcclxuXHJcbiAgICAgICAgdmFyIHNob3dTZWxlY3RlZE9ubHlCdG4gPSB0aGlzLnByb3BzLmVuYWJsZVNob3dPbmx5U2VsZWN0ZWQgP1xyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVNob3dPbmx5VG9nZ2xlLmJpbmQodGhpcyl9IGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJidXR0b25cIiBhcmlhLXByZXNzZWQ9XCJmYWxzZVwiPlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnN0YXRlLnNob3dTZWxlY3RlZCA/IENvbnN0LlNIT1dfQUxMIDogQ29uc3QuU0hPV19PTkxZX1NFTEVDVCB9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPiA6IG51bGw7XHJcblxyXG4gICAgICAgIHZhciBtb2RhbCA9IHRoaXMucHJvcHMuZW5hYmxlSW5zZXJ0ID8gdGhpcy5yZW5kZXJJbnNlcnRSb3dNb2RhbChtb2RhbENsYXNzTmFtZSkgOiBudWxsO1xyXG4gICAgICAgIHZhciB3YXJuaW5nU3R5bGUgPSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiLFxyXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IDBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZXhwb3J0Q1NWID0gdGhpcy5wcm9wcy5lbmFibGVFeHBvcnRDU1YgP1xyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3NcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUV4cG9ydENTVi5iaW5kKHRoaXMpfT5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tZXhwb3J0XCI+PC9pPiBFeHBvcnQgdG8gQ1NWPC9idXR0b24+IDogbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNvbC1sZy04XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLXNtXCIgcm9sZT1cImdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtleHBvcnRDU1Z9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtpbnNlcnRCdG59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkZWxldGVCdG59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93U2VsZWN0ZWRPbmx5QnRufVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNiBjb2wtbWQtNiBjb2wtbGctNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hUZXh0SW5wdXR9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxOb3RpZmllciByZWY9XCJub3RpZmllclwiPjwvTm90aWZpZXI+XHJcbiAgICAgICAgICAgICAgICB7bW9kYWx9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJTZWFyY2hQYW5lbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5lbmFibGVTZWFyY2gpIHtcclxuICAgICAgICAgICAgbGV0IGNsYXNzTmFtZXMgPSAnZm9ybS1ncm91cCBmb3JtLWdyb3VwLXNtJztcclxuICAgICAgICAgICAgbGV0IGNsZWFyQnRuID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2xlYXJTZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyQnRuID0gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWJ0blwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5oYW5kbGVDbGVhckJ0bkNsaWNrIH0+Q2xlYXJcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lcyA9ICdmb3JtLWdyb3VwIGZvcm0tZ3JvdXAtc20gaW5wdXQtZ3JvdXAgaW5wdXQtZ3JvdXAtc20nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXN9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCByZWY9J3NlYWNoSW5wdXQnIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHR5cGU9J3RleHQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnNlYXJjaFBsYWNlaG9sZGVyP3RoaXMucHJvcHMuc2VhcmNoUGxhY2Vob2xkZXI6J1NlYXJjaCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5VXA9e3RoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKX0vPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgY2xlYXJCdG4gfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckluc2VydFJvd01vZGFsKG1vZGFsQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdmFyIHZhbGlkYXRlU3RhdGUgPSB0aGlzLnN0YXRlLnZhbGlkYXRlU3RhdGUgfHwge307XHJcbiAgICAgICAgdmFyIGlucHV0RmllbGQgPSB0aGlzLnByb3BzLmNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcclxuICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gY29sdW1uLmVkaXRhYmxlLFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gY29sdW1uLmZvcm1hdCxcclxuICAgICAgICAgICAgICAgIGF0dHIgPSB7cmVmOiBjb2x1bW4uZmllbGQgKyBpLCBwbGFjZWhvbGRlcjogZWRpdGFibGUucGxhY2Vob2xkZXIgPyBlZGl0YWJsZS5wbGFjZWhvbGRlciA6IGNvbHVtbi5uYW1lfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4uYXV0b1ZhbHVlKSB7Ly93aGVuIHlvdSB3YW50IHNhbWUgYXV0byBnZW5lcmF0ZSB2YWx1ZSBhbmQgbm90IGFsbG93IGVkaXQsIGV4YW1wbGUgSUQgZmllbGRcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBlcnJvciA9IHZhbGlkYXRlU3RhdGVbY29sdW1uLmZpZWxkXSA/IChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgYmctZGFuZ2VyXCI+e3ZhbGlkYXRlU3RhdGVbY29sdW1uLmZpZWxkXX08L3NwYW4+KSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICAvLyBsZXQgZWRpdG9yID0gRWRpdG9yKGVkaXRhYmxlLGF0dHIsZm9ybWF0KTtcclxuICAgICAgICAgICAgLy8gaWYoZWRpdG9yLnByb3BzLnR5cGUgJiYgZWRpdG9yLnByb3BzLnR5cGUgPT0gJ2NoZWNrYm94Jyl7XHJcbiAgICAgICAgICAgIGxldCBzdHlsZSA9IHtkaXNwbGF5OiBjb2x1bW4uaGlkZGVuSW5Qb3B1cCA/ICdub25lJyA6ICdibG9jayd9XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIiBrZXk9e2NvbHVtbi5maWVsZH0gc3R5bGU9e3N0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+e2NvbHVtbi5uYW1lfTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAge0VkaXRvcihlZGl0YWJsZSwgYXR0ciwgZm9ybWF0LCAnJyl9XHJcbiAgICAgICAgICAgICAgICAgICAge2Vycm9yfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIG1vZGFsQ2xhc3MgPSBjbGFzc1NldChcIm1vZGFsXCIsIFwiZmFkZVwiLCBtb2RhbENsYXNzTmFtZSwge1xyXG4gICAgICAgICAgICAnaW4nOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yIHx8IHRoaXMuc3RhdGUudmFsaWRhdGVTdGF0ZS8vaGFjayBwcmV2ZW50IGJvb3RzdHJhcCBtb2RhbCBoaWRlIGJ5IHJlUmVuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGRpYWxvZ0NsYXNzID0gY2xhc3NTZXQoXCJtb2RhbC1kaWFsb2dcIiwgXCJtb2RhbC1zbVwiLCB7XHJcbiAgICAgICAgICAgIFwiYW5pbWF0ZWRcIjogdGhpcy5zdGF0ZS5zaGFrZUVkaXRvcixcclxuICAgICAgICAgICAgXCJzaGFrZVwiOiB0aGlzLnN0YXRlLnNoYWtlRWRpdG9yXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiByZWY9XCJtb2RhbFwiIGNsYXNzTmFtZT17bW9kYWxDbGFzc30gdGFiSW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtkaWFsb2dDbGFzc30+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+TmV3IFJlY29yZDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIHJlZj1cImZvcm1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5wdXRGaWVsZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNsb3NlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWluZm9cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVNhdmVCdG5DbGljay5iaW5kKHRoaXMpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblRvb2xCYXIucHJvcFR5cGVzID0ge1xyXG4gICAgb25BZGRSb3c6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgb25Ecm9wUm93OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuICAgIG9uU2hvd09ubHlTZWxlY3RlZDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBlbmFibGVJbnNlcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgZW5hYmxlRGVsZXRlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGVuYWJsZVNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBlbmFibGVTaG93T25seVNlbGVjdGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcclxuICAgIGNvbHVtbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcclxuICAgIHNlYXJjaFBsYWNlaG9sZGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgY2xlYXJTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5ib29sXHJcbn07XHJcblxyXG5Ub29sQmFyLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGVuYWJsZUluc2VydDogZmFsc2UsXHJcbiAgICBlbmFibGVEZWxldGU6IGZhbHNlLFxyXG4gICAgZW5hYmxlU2VhcmNoOiBmYWxzZSxcclxuICAgIGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQ6IGZhbHNlLFxyXG4gICAgY2xlYXJTZWFyY2g6IGZhbHNlXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgVG9vbEJhcjtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdG9vbGJhci9Ub29sQmFyLmpzXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5yYy1zd2l0Y2h7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOjQ0cHg7aGVpZ2h0OjIycHg7bGluZS1oZWlnaHQ6MjBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ym9yZGVyLXJhZGl1czoyMHB4IDIwcHg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JhY2tncm91bmQtY29sb3I6I2NjYztjdXJzb3I6cG9pbnRlcjt0cmFuc2l0aW9uOmFsbCAuM3MgY3ViaWMtYmV6aWVyKC4zNSwwLC4yNSwxKX0ucmMtc3dpdGNoLWlubmVye2NvbG9yOiNmZmY7Zm9udC1zaXplOjEycHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoyNHB4fS5yYy1zd2l0Y2g6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MThweDtoZWlnaHQ6MThweDtsZWZ0OjJweDt0b3A6MXB4O2JvcmRlci1yYWRpdXM6NTAlIDUwJTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Y29udGVudDpcXFwiIFxcXCI7Y3Vyc29yOnBvaW50ZXI7Ym94LXNoYWRvdzowIDJweCA1cHggcmdiYSgwLDAsMCwuMjYpOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2l0aW9uOmxlZnQgLjNzIGN1YmljLWJlemllciguMzUsMCwuMjUsMSk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMzUsMCwuMjUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM1LDAsLjI1LDEpOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4zczthbmltYXRpb24tZHVyYXRpb246LjNzOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cmNTd2l0Y2hPZmY7YW5pbWF0aW9uLW5hbWU6cmNTd2l0Y2hPZmZ9LnJjLXN3aXRjaDpob3ZlcjphZnRlcnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cmNTd2l0Y2hPbjthbmltYXRpb24tbmFtZTpyY1N3aXRjaE9ufS5yYy1zd2l0Y2gtY2hlY2tlZHtib3JkZXI6MXB4IHNvbGlkICM4N2QwNjg7YmFja2dyb3VuZC1jb2xvcjojODdkMDY4fS5yYy1zd2l0Y2gtY2hlY2tlZCAucmMtc3dpdGNoLWlubmVye2xlZnQ6NnB4fS5yYy1zd2l0Y2gtY2hlY2tlZDphZnRlcntsZWZ0OjIycHh9LnJjLXN3aXRjaC1kaXNhYmxlZHtjdXJzb3I6bm8tZHJvcDtiYWNrZ3JvdW5kOiNjY2M7Ym9yZGVyLWNvbG9yOiNjY2N9LnJjLXN3aXRjaC1kaXNhYmxlZDphZnRlcntiYWNrZ3JvdW5kOiM5ZTllOWU7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpub25lO2FuaW1hdGlvbi1uYW1lOm5vbmU7Y3Vyc29yOm5vLWRyb3B9LnJjLXN3aXRjaC1kaXNhYmxlZDpob3ZlcjphZnRlcnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpub25lO2FuaW1hdGlvbi1uYW1lOm5vbmV9LnJjLXN3aXRjaC1sYWJlbHtkaXNwbGF5OmlubGluZS1ibG9jaztsaW5lLWhlaWdodDoyMHB4O2ZvbnQtc2l6ZToxNHB4O3BhZGRpbmctbGVmdDoxMHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aGl0ZS1zcGFjZTpub3JtYWw7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0OnRleHQ7LW1vei11c2VyLXNlbGVjdDp0ZXh0Oy1tcy11c2VyLXNlbGVjdDp0ZXh0O3VzZXItc2VsZWN0OnRleHR9QC13ZWJraXQta2V5ZnJhbWVzIHJjU3dpdGNoT257MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjI1KTt0cmFuc2Zvcm06c2NhbGUoMS4yNSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2Zvcm06c2NhbGUoMS4xKX19QGtleWZyYW1lcyByY1N3aXRjaE9uezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yNSk7dHJhbnNmb3JtOnNjYWxlKDEuMjUpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSl9fUAtd2Via2l0LWtleWZyYW1lcyByY1N3aXRjaE9mZnswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyByY1N3aXRjaE9mZnswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcmMtc3dpdGNoL2Fzc2V0cy9pbmRleC5jc3NcbiAqKiBtb2R1bGUgaWQgPSAzNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFN3aXRjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTd2l0Y2gnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBwcmVmaXhDbHM6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGlzYWJsZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGNoZWNrZWRDaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICB1bkNoZWNrZWRDaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeENsczogJ3JjLXN3aXRjaCcsXG4gICAgICBzdHlsZToge30sXG4gICAgICBjaGVja2VkQ2hpbGRyZW46IG51bGwsXG4gICAgICB1bkNoZWNrZWRDaGlsZHJlbjogbnVsbCxcbiAgICAgIGNsYXNzTmFtZTogJycsXG4gICAgICBkZWZhdWx0Q2hlY2tlZDogZmFsc2UsXG4gICAgICBvbkNoYW5nZTogbm9vcFxuICAgIH07XG4gIH0sXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcbiAgICBpZiAoJ2NoZWNrZWQnIGluIHByb3BzKSB7XG4gICAgICBjaGVja2VkID0gISFwcm9wcy5jaGVja2VkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja2VkID0gISFwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgnY2hlY2tlZCcgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2hlY2tlZDogISFuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICB2YXIgY2hlY2tlZCA9ICF0aGlzLnN0YXRlLmNoZWNrZWQ7XG4gICAgaWYgKCEoJ2NoZWNrZWQnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2hlY2tlZDogY2hlY2tlZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoY2hlY2tlZCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lO1xuICAgIHZhciBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuICAgIHZhciBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZDtcbiAgICB2YXIgc3R5bGUgPSBfcHJvcHMuc3R5bGU7XG4gICAgdmFyIGNoZWNrZWRDaGlsZHJlbiA9IF9wcm9wcy5jaGVja2VkQ2hpbGRyZW47XG4gICAgdmFyIHVuQ2hlY2tlZENoaWxkcmVuID0gX3Byb3BzLnVuQ2hlY2tlZENoaWxkcmVuO1xuXG4gICAgdmFyIGNoZWNrZWQgPSB0aGlzLnN0YXRlLmNoZWNrZWQ7XG4gICAgdmFyIHN3aXRjaENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgY2xhc3NOYW1lLCAhIWNsYXNzTmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfY2xhc3NOYW1lcykpO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3NwYW4nLFxuICAgICAgeyBjbGFzc05hbWU6IHN3aXRjaENsYXNzTmFtZSxcbiAgICAgICAgb25DbGljazogZGlzYWJsZWQgPyBub29wIDogdGhpcy50b2dnbGUsXG4gICAgICAgIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lcicgfSxcbiAgICAgICAgY2hlY2tlZCA/IGNoZWNrZWRDaGlsZHJlbiA6IHVuQ2hlY2tlZENoaWxkcmVuXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3dpdGNoO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXN3aXRjaC9saWIvU3dpdGNoLmpzXG4gKiogbW9kdWxlIGlkID0gMzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfU2VsZWN0ID0gcmVxdWlyZSgnLi9TZWxlY3QnKTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxudmFyIF91dGlsc1N0cmlwRGlhY3JpdGljcyA9IHJlcXVpcmUoJy4vdXRpbHMvc3RyaXBEaWFjcml0aWNzJyk7XG5cbnZhciBfdXRpbHNTdHJpcERpYWNyaXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHNTdHJpcERpYWNyaXRpY3MpO1xuXG52YXIgcmVxdWVzdElkID0gMDtcblxuZnVuY3Rpb24gaW5pdENhY2hlKGNhY2hlKSB7XG5cdGlmIChjYWNoZSAmJiB0eXBlb2YgY2FjaGUgIT09ICdvYmplY3QnKSB7XG5cdFx0Y2FjaGUgPSB7fTtcblx0fVxuXHRyZXR1cm4gY2FjaGUgPyBjYWNoZSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNhY2hlKGNhY2hlLCBpbnB1dCwgZGF0YSkge1xuXHRpZiAoIWNhY2hlKSByZXR1cm47XG5cdGNhY2hlW2lucHV0XSA9IGRhdGE7XG59XG5cbmZ1bmN0aW9uIGdldEZyb21DYWNoZShjYWNoZSwgaW5wdXQpIHtcblx0aWYgKCFjYWNoZSkgcmV0dXJuO1xuXHRmb3IgKHZhciBpID0gaW5wdXQubGVuZ3RoOyBpID49IDA7IC0taSkge1xuXHRcdHZhciBjYWNoZUtleSA9IGlucHV0LnNsaWNlKDAsIGkpO1xuXHRcdGlmIChjYWNoZVtjYWNoZUtleV0gJiYgKGlucHV0ID09PSBjYWNoZUtleSB8fCBjYWNoZVtjYWNoZUtleV0uY29tcGxldGUpKSB7XG5cdFx0XHRyZXR1cm4gY2FjaGVbY2FjaGVLZXldO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiB0aGVuUHJvbWlzZShwcm9taXNlLCBjYWxsYmFjaykge1xuXHRpZiAoIXByb21pc2UgfHwgdHlwZW9mIHByb21pc2UudGhlbiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuO1xuXHRyZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0Y2FsbGJhY2sobnVsbCwgZGF0YSk7XG5cdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRjYWxsYmFjayhlcnIpO1xuXHR9KTtcbn1cblxudmFyIHN0cmluZ09yTm9kZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlXSk7XG5cbnZhciBBc3luYyA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVDbGFzcyh7XG5cdGRpc3BsYXlOYW1lOiAnQXN5bmMnLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdGNhY2hlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmFueSwgLy8gb2JqZWN0IHRvIHVzZSB0byBjYWNoZSByZXN1bHRzLCBjYW4gYmUgbnVsbCB0byBkaXNhYmxlIGNhY2hlXG5cdFx0aWdub3JlQWNjZW50czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB3aGV0aGVyIHRvIHN0cmlwIGRpYWNyaXRpY3Mgd2hlbiBmaWx0ZXJpbmcgKHNoYXJlZCB3aXRoIFNlbGVjdClcblx0XHRpZ25vcmVDYXNlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHdoZXRoZXIgdG8gcGVyZm9ybSBjYXNlLWluc2Vuc2l0aXZlIGZpbHRlcmluZyAoc2hhcmVkIHdpdGggU2VsZWN0KVxuXHRcdGlzTG9hZGluZzogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyBvdmVycmlkZXMgdGhlIGlzTG9hZGluZyBzdGF0ZSB3aGVuIHNldCB0byB0cnVlXG5cdFx0bG9hZE9wdGlvbnM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLCAvLyBmdW5jdGlvbiB0byBjYWxsIHRvIGxvYWQgb3B0aW9ucyBhc3luY2hyb25vdXNseVxuXHRcdGxvYWRpbmdQbGFjZWhvbGRlcjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHJlcGxhY2VzIHRoZSBwbGFjZWhvbGRlciB3aGlsZSBvcHRpb25zIGFyZSBsb2FkaW5nXG5cdFx0bWluaW11bUlucHV0OiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm51bWJlciwgLy8gdGhlIG1pbmltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgdGhhdCB0cmlnZ2VyIGxvYWRPcHRpb25zXG5cdFx0bm9SZXN1bHRzVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIHBsYWNlaG9sZGVyIGRpc3BsYXllZCB3aGVuIHRoZXJlIGFyZSBubyBtYXRjaGluZyBzZWFyY2ggcmVzdWx0cyAoc2hhcmVkIHdpdGggU2VsZWN0KVxuXHRcdHBsYWNlaG9sZGVyOiBzdHJpbmdPck5vZGUsIC8vIGZpZWxkIHBsYWNlaG9sZGVyLCBkaXNwbGF5ZWQgd2hlbiB0aGVyZSdzIG5vIHZhbHVlIChzaGFyZWQgd2l0aCBTZWxlY3QpXG5cdFx0c2VhcmNoUHJvbXB0VGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGxhYmVsIHRvIHByb21wdCBmb3Igc2VhcmNoIGlucHV0XG5cdFx0c2VhcmNoaW5nVGV4dDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcgfSxcblx0Ly8gbWVzc2FnZSB0byBkaXNwbGF5IHdoaWxlIG9wdGlvbnMgYXJlIGxvYWRpbmdcblx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNhY2hlOiB0cnVlLFxuXHRcdFx0aWdub3JlQWNjZW50czogdHJ1ZSxcblx0XHRcdGlnbm9yZUNhc2U6IHRydWUsXG5cdFx0XHRsb2FkaW5nUGxhY2Vob2xkZXI6ICdMb2FkaW5nLi4uJyxcblx0XHRcdG1pbmltdW1JbnB1dDogMCxcblx0XHRcdHNlYXJjaGluZ1RleHQ6ICdTZWFyY2hpbmcuLi4nLFxuXHRcdFx0c2VhcmNoUHJvbXB0VGV4dDogJ1R5cGUgdG8gc2VhcmNoJ1xuXHRcdH07XG5cdH0sXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjYWNoZTogaW5pdENhY2hlKHRoaXMucHJvcHMuY2FjaGUpLFxuXHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdG9wdGlvbnM6IFtdXG5cdFx0fTtcblx0fSxcblx0Y29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdFx0dGhpcy5fbGFzdElucHV0ID0gJyc7XG5cdH0sXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHR0aGlzLmxvYWRPcHRpb25zKCcnKTtcblx0fSxcblx0Y29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0XHRpZiAobmV4dFByb3BzLmNhY2hlICE9PSB0aGlzLnByb3BzLmNhY2hlKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0Y2FjaGU6IGluaXRDYWNoZShuZXh0UHJvcHMuY2FjaGUpXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cdGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0XHR0aGlzLnJlZnMuc2VsZWN0LmZvY3VzKCk7XG5cdH0sXG5cdHJlc2V0U3RhdGU6IGZ1bmN0aW9uIHJlc2V0U3RhdGUoKSB7XG5cdFx0dGhpcy5fY3VycmVudFJlcXVlc3RJZCA9IC0xO1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aXNMb2FkaW5nOiBmYWxzZSxcblx0XHRcdG9wdGlvbnM6IFtdXG5cdFx0fSk7XG5cdH0sXG5cdGdldFJlc3BvbnNlSGFuZGxlcjogZnVuY3Rpb24gZ2V0UmVzcG9uc2VIYW5kbGVyKGlucHV0KSB7XG5cdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdHZhciBfcmVxdWVzdElkID0gdGhpcy5fY3VycmVudFJlcXVlc3RJZCA9IHJlcXVlc3RJZCsrO1xuXHRcdHJldHVybiBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG5cdFx0XHRpZiAoZXJyKSB0aHJvdyBlcnI7XG5cdFx0XHRpZiAoIV90aGlzLmlzTW91bnRlZCgpKSByZXR1cm47XG5cdFx0XHR1cGRhdGVDYWNoZShfdGhpcy5zdGF0ZS5jYWNoZSwgaW5wdXQsIGRhdGEpO1xuXHRcdFx0aWYgKF9yZXF1ZXN0SWQgIT09IF90aGlzLl9jdXJyZW50UmVxdWVzdElkKSByZXR1cm47XG5cdFx0XHRfdGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGlzTG9hZGluZzogZmFsc2UsXG5cdFx0XHRcdG9wdGlvbnM6IGRhdGEgJiYgZGF0YS5vcHRpb25zIHx8IFtdXG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9LFxuXHRsb2FkT3B0aW9uczogZnVuY3Rpb24gbG9hZE9wdGlvbnMoaW5wdXQpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5pZ25vcmVBY2NlbnRzKSBpbnB1dCA9ICgwLCBfdXRpbHNTdHJpcERpYWNyaXRpY3MyWydkZWZhdWx0J10pKGlucHV0KTtcblx0XHRpZiAodGhpcy5wcm9wcy5pZ25vcmVDYXNlKSBpbnB1dCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cdFx0dGhpcy5fbGFzdElucHV0ID0gaW5wdXQ7XG5cdFx0aWYgKGlucHV0Lmxlbmd0aCA8IHRoaXMucHJvcHMubWluaW11bUlucHV0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZXNldFN0YXRlKCk7XG5cdFx0fVxuXHRcdHZhciBjYWNoZVJlc3VsdCA9IGdldEZyb21DYWNoZSh0aGlzLnN0YXRlLmNhY2hlLCBpbnB1dCk7XG5cdFx0aWYgKGNhY2hlUmVzdWx0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdG9wdGlvbnM6IGNhY2hlUmVzdWx0Lm9wdGlvbnNcblx0XHRcdH0pO1xuXHRcdH1cblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGlzTG9hZGluZzogdHJ1ZVxuXHRcdH0pO1xuXHRcdHZhciByZXNwb25zZUhhbmRsZXIgPSB0aGlzLmdldFJlc3BvbnNlSGFuZGxlcihpbnB1dCk7XG5cdFx0cmV0dXJuIHRoZW5Qcm9taXNlKHRoaXMucHJvcHMubG9hZE9wdGlvbnMoaW5wdXQsIHJlc3BvbnNlSGFuZGxlciksIHJlc3BvbnNlSGFuZGxlcik7XG5cdH0sXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdHZhciBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0O1xuXHRcdHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHRcdHZhciBpc0xvYWRpbmcgPSBfc3RhdGUuaXNMb2FkaW5nO1xuXHRcdHZhciBvcHRpb25zID0gX3N0YXRlLm9wdGlvbnM7XG5cblx0XHRpZiAodGhpcy5wcm9wcy5pc0xvYWRpbmcpIGlzTG9hZGluZyA9IHRydWU7XG5cdFx0dmFyIHBsYWNlaG9sZGVyID0gaXNMb2FkaW5nID8gdGhpcy5wcm9wcy5sb2FkaW5nUGxhY2Vob2xkZXIgOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyO1xuXHRcdGlmICghb3B0aW9ucy5sZW5ndGgpIHtcblx0XHRcdGlmICh0aGlzLl9sYXN0SW5wdXQubGVuZ3RoIDwgdGhpcy5wcm9wcy5taW5pbXVtSW5wdXQpIG5vUmVzdWx0c1RleHQgPSB0aGlzLnByb3BzLnNlYXJjaFByb21wdFRleHQ7XG5cdFx0XHRpZiAoaXNMb2FkaW5nKSBub1Jlc3VsdHNUZXh0ID0gdGhpcy5wcm9wcy5zZWFyY2hpbmdUZXh0O1xuXHRcdH1cblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdDJbJ2RlZmF1bHQnXSwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHtcblx0XHRcdHJlZjogJ3NlbGVjdCcsXG5cdFx0XHRpc0xvYWRpbmc6IGlzTG9hZGluZyxcblx0XHRcdG5vUmVzdWx0c1RleHQ6IG5vUmVzdWx0c1RleHQsXG5cdFx0XHRvbklucHV0Q2hhbmdlOiB0aGlzLmxvYWRPcHRpb25zLFxuXHRcdFx0b3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlclxuXHRcdH0pKTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXN5bmM7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3Qtc2VsZWN0L2xpYi9Bc3luYy5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIE9wdGlvbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVDbGFzcyh7XG5cdGRpc3BsYXlOYW1lOiAnT3B0aW9uJyxcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRjaGlsZHJlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlLFxuXHRcdGNsYXNzTmFtZTogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSAoYmFzZWQgb24gbW91c2UgcG9zaXRpb24pXG5cdFx0aXNEaXNhYmxlZDogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ib29sLCAvLyB0aGUgb3B0aW9uIGlzIGRpc2FibGVkXG5cdFx0aXNGb2N1c2VkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIHRoZSBvcHRpb24gaXMgZm9jdXNlZFxuXHRcdGlzU2VsZWN0ZWQ6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuYm9vbCwgLy8gdGhlIG9wdGlvbiBpcyBzZWxlY3RlZFxuXHRcdG9uRm9jdXM6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSBtb3VzZUVudGVyIG9uIG9wdGlvbiBlbGVtZW50XG5cdFx0b25TZWxlY3Q6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSBjbGljayBvbiBvcHRpb24gZWxlbWVudFxuXHRcdG9uVW5mb2N1czogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIG1vdXNlTGVhdmUgb24gb3B0aW9uIGVsZW1lbnRcblx0XHRvcHRpb246IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQgfSxcblx0Ly8gb2JqZWN0IHRoYXQgaXMgYmFzZSBmb3IgdGhhdCBvcHRpb25cblx0YmxvY2tFdmVudDogZnVuY3Rpb24gYmxvY2tFdmVudChldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0aWYgKGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSAnQScgfHwgISgnaHJlZicgaW4gZXZlbnQudGFyZ2V0KSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhcmdldCkge1xuXHRcdFx0d2luZG93Lm9wZW4oZXZlbnQudGFyZ2V0LmhyZWYsIGV2ZW50LnRhcmdldC50YXJnZXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGV2ZW50LnRhcmdldC5ocmVmO1xuXHRcdH1cblx0fSxcblxuXHRoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0dGhpcy5wcm9wcy5vblNlbGVjdCh0aGlzLnByb3BzLm9wdGlvbiwgZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoZXZlbnQpIHtcblx0XHR0aGlzLm9uRm9jdXMoZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG5cdFx0dGhpcy5vbkZvY3VzKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaEVuZDogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZXZlbnQpIHtcblx0XHQvLyBDaGVjayBpZiB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkLCBJbiB0aGlzIGNhc2Vcblx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdGlmICh0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cblx0XHR0aGlzLmhhbmRsZU1vdXNlRG93bihldmVudCk7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZFxuXHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXHR9LFxuXG5cdGhhbmRsZVRvdWNoU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHRoYXQgdGhlIHZpZXcgaXMgbm90IGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cdH0sXG5cblx0b25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuXHRcdGlmICghdGhpcy5wcm9wcy5pc0ZvY3VzZWQpIHtcblx0XHRcdHRoaXMucHJvcHMub25Gb2N1cyh0aGlzLnByb3BzLm9wdGlvbiwgZXZlbnQpO1xuXHRcdH1cblx0fSxcblx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0dmFyIG9wdGlvbiA9IHRoaXMucHJvcHMub3B0aW9uO1xuXG5cdFx0dmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkodGhpcy5wcm9wcy5jbGFzc05hbWUsIG9wdGlvbi5jbGFzc05hbWUpO1xuXG5cdFx0cmV0dXJuIG9wdGlvbi5kaXNhYmxlZCA/IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7IGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHRcdFx0XHRvbk1vdXNlRG93bjogdGhpcy5ibG9ja0V2ZW50LFxuXHRcdFx0XHRvbkNsaWNrOiB0aGlzLmJsb2NrRXZlbnQgfSxcblx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHQpIDogX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdHN0eWxlOiBvcHRpb24uc3R5bGUsXG5cdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bixcblx0XHRcdFx0b25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIsXG5cdFx0XHRcdG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdXNlTW92ZSxcblx0XHRcdFx0b25Ub3VjaFN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG5cdFx0XHRcdG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcblx0XHRcdFx0b25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZCxcblx0XHRcdFx0dGl0bGU6IG9wdGlvbi50aXRsZSB9LFxuXHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9wdGlvbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC1zZWxlY3QvbGliL09wdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIFZhbHVlID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUNsYXNzKHtcblxuXHRkaXNwbGF5TmFtZTogJ1ZhbHVlJyxcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRjaGlsZHJlbjogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5ub2RlLFxuXHRcdGRpc2FibGVkOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLmJvb2wsIC8vIGRpc2FibGVkIHByb3AgcGFzc2VkIHRvIFJlYWN0U2VsZWN0XG5cdFx0b25DbGljazogX3JlYWN0MlsnZGVmYXVsdCddLlByb3BUeXBlcy5mdW5jLCAvLyBtZXRob2QgdG8gaGFuZGxlIGNsaWNrIG9uIHZhbHVlIGxhYmVsXG5cdFx0b25SZW1vdmU6IF9yZWFjdDJbJ2RlZmF1bHQnXS5Qcm9wVHlwZXMuZnVuYywgLy8gbWV0aG9kIHRvIGhhbmRsZSByZW1vdmFsIG9mIHRoZSB2YWx1ZVxuXHRcdHZhbHVlOiBfcmVhY3QyWydkZWZhdWx0J10uUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkIH0sXG5cblx0Ly8gdGhlIG9wdGlvbiBvYmplY3QgZm9yIHRoaXMgdmFsdWVcblx0aGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcblx0XHRpZiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICh0aGlzLnByb3BzLm9uQ2xpY2spIHtcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0dGhpcy5wcm9wcy5vbkNsaWNrKHRoaXMucHJvcHMudmFsdWUsIGV2ZW50KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKHRoaXMucHJvcHMudmFsdWUuaHJlZikge1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiBvblJlbW92ZShldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0dGhpcy5wcm9wcy5vblJlbW92ZSh0aGlzLnByb3BzLnZhbHVlKTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaEVuZFJlbW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmRSZW1vdmUoZXZlbnQpIHtcblx0XHQvLyBDaGVjayBpZiB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkLCBJbiB0aGlzIGNhc2Vcblx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGZpcmUgdGhlIGNsaWNrIGV2ZW50IChiZWNhdXNlIHRoZSB1c2VyIG9ubHkgd2FudHMgdG8gc2Nyb2xsKVxuXHRcdGlmICh0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cblx0XHQvLyBGaXJlIHRoZSBtb3VzZSBldmVudHNcblx0XHR0aGlzLm9uUmVtb3ZlKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaE1vdmU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShldmVudCkge1xuXHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBiZWluZyBkcmFnZ2VkXG5cdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cdH0sXG5cblx0aGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuXHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBub3QgYmVpbmcgZHJhZ2dlZFxuXHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblx0fSxcblxuXHRyZW5kZXJSZW1vdmVJY29uOiBmdW5jdGlvbiByZW5kZXJSZW1vdmVJY29uKCkge1xuXHRcdGlmICh0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLm9uUmVtb3ZlKSByZXR1cm47XG5cdFx0cmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3NwYW4nLFxuXHRcdFx0eyBjbGFzc05hbWU6ICdTZWxlY3QtdmFsdWUtaWNvbicsXG5cdFx0XHRcdG9uTW91c2VEb3duOiB0aGlzLm9uUmVtb3ZlLFxuXHRcdFx0XHRvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kUmVtb3ZlLFxuXHRcdFx0XHRvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcblx0XHRcdFx0b25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlIH0sXG5cdFx0XHQnw5cnXG5cdFx0KTtcblx0fSxcblxuXHRyZW5kZXJMYWJlbDogZnVuY3Rpb24gcmVuZGVyTGFiZWwoKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9ICdTZWxlY3QtdmFsdWUtbGFiZWwnO1xuXHRcdHJldHVybiB0aGlzLnByb3BzLm9uQ2xpY2sgfHwgdGhpcy5wcm9wcy52YWx1ZS5ocmVmID8gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnYScsXG5cdFx0XHR7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBocmVmOiB0aGlzLnByb3BzLnZhbHVlLmhyZWYsIHRhcmdldDogdGhpcy5wcm9wcy52YWx1ZS50YXJnZXQsIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93biwgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVNb3VzZURvd24gfSxcblx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHQpIDogX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnc3BhbicsXG5cdFx0XHR7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG5cdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRyZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKCdTZWxlY3QtdmFsdWUnLCB0aGlzLnByb3BzLnZhbHVlLmNsYXNzTmFtZSksXG5cdFx0XHRcdHN0eWxlOiB0aGlzLnByb3BzLnZhbHVlLnN0eWxlLFxuXHRcdFx0XHR0aXRsZTogdGhpcy5wcm9wcy52YWx1ZS50aXRsZVxuXHRcdFx0fSxcblx0XHRcdHRoaXMucmVuZGVyUmVtb3ZlSWNvbigpLFxuXHRcdFx0dGhpcy5yZW5kZXJMYWJlbCgpXG5cdFx0KTtcblx0fVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBWYWx1ZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC1zZWxlY3QvbGliL1ZhbHVlLmpzXG4gKiogbW9kdWxlIGlkID0gNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIHNpemVyU3R5bGUgPSB7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB2aXNpYmlsaXR5OiAnaGlkZGVuJywgaGVpZ2h0OiAwLCB3aWR0aDogMCwgb3ZlcmZsb3c6ICdzY3JvbGwnLCB3aGl0ZVNwYWNlOiAnbm93cmFwJyB9O1xuXG52YXIgbmV4dEZyYW1lID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyAoZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdFx0d2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG5cdH07XG59KSgpLmJpbmQod2luZG93KSA6IHVuZGVmaW5lZDsgLy8gSWYgd2luZG93IGlzIHVuZGVmaW5lZCwgdGhlbiB3ZSBjYW4ndCBkZWZpbmUgYSBuZXh0RnJhbWUgZnVuY3Rpb25cblxudmFyIEF1dG9zaXplSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdGRpc3BsYXlOYW1lOiAnQXV0b3NpemVJbnB1dCcsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0dmFsdWU6IFJlYWN0LlByb3BUeXBlcy5hbnksIC8vIGZpZWxkIHZhbHVlXG5cdFx0ZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuYW55LCAvLyBkZWZhdWx0IGZpZWxkIHZhbHVlXG5cdFx0b25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLCAvLyBvbkNoYW5nZSBoYW5kbGVyOiBmdW5jdGlvbihuZXdWYWx1ZSkge31cblx0XHRzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgLy8gY3NzIHN0eWxlcyBmb3IgdGhlIG91dGVyIGVsZW1lbnRcblx0XHRjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsIC8vIGNsYXNzTmFtZSBmb3IgdGhlIG91dGVyIGVsZW1lbnRcblx0XHRtaW5XaWR0aDogUmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbLy8gbWluaW11bSB3aWR0aCBmb3IgaW5wdXQgZWxlbWVudFxuXHRcdFJlYWN0LlByb3BUeXBlcy5udW1iZXIsIFJlYWN0LlByb3BUeXBlcy5zdHJpbmddKSxcblx0XHRpbnB1dFN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCAvLyBjc3Mgc3R5bGVzIGZvciB0aGUgaW5wdXQgZWxlbWVudFxuXHRcdGlucHV0Q2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nIC8vIGNsYXNzTmFtZSBmb3IgdGhlIGlucHV0IGVsZW1lbnRcblx0fSxcblx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG1pbldpZHRoOiAxXG5cdFx0fTtcblx0fSxcblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlucHV0V2lkdGg6IHRoaXMucHJvcHMubWluV2lkdGhcblx0XHR9O1xuXHR9LFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0dGhpcy5jb3B5SW5wdXRTdHlsZXMoKTtcblx0XHR0aGlzLnVwZGF0ZUlucHV0V2lkdGgoKTtcblx0fSxcblx0Y29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdFx0dGhpcy5xdWV1ZVVwZGF0ZUlucHV0V2lkdGgoKTtcblx0fSxcblx0Y29weUlucHV0U3R5bGVzOiBmdW5jdGlvbiBjb3B5SW5wdXRTdHlsZXMoKSB7XG5cdFx0aWYgKCF0aGlzLmlzTW91bnRlZCgpIHx8ICF3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXIgaW5wdXRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMucmVmcy5pbnB1dCk7XG5cdFx0dmFyIHdpZHRoTm9kZSA9IHRoaXMucmVmcy5zaXplcjtcblx0XHR3aWR0aE5vZGUuc3R5bGUuZm9udFNpemUgPSBpbnB1dFN0eWxlLmZvbnRTaXplO1xuXHRcdHdpZHRoTm9kZS5zdHlsZS5mb250RmFtaWx5ID0gaW5wdXRTdHlsZS5mb250RmFtaWx5O1xuXHRcdHdpZHRoTm9kZS5zdHlsZS5mb250V2VpZ2h0ID0gaW5wdXRTdHlsZS5mb250V2VpZ2h0O1xuXHRcdHdpZHRoTm9kZS5zdHlsZS5mb250U3R5bGUgPSBpbnB1dFN0eWxlLmZvbnRTdHlsZTtcblx0XHR3aWR0aE5vZGUuc3R5bGUubGV0dGVyU3BhY2luZyA9IGlucHV0U3R5bGUubGV0dGVyU3BhY2luZztcblx0XHRpZiAodGhpcy5wcm9wcy5wbGFjZWhvbGRlcikge1xuXHRcdFx0dmFyIHBsYWNlaG9sZGVyTm9kZSA9IHRoaXMucmVmcy5wbGFjZWhvbGRlclNpemVyO1xuXHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRTaXplID0gaW5wdXRTdHlsZS5mb250U2l6ZTtcblx0XHRcdHBsYWNlaG9sZGVyTm9kZS5zdHlsZS5mb250RmFtaWx5ID0gaW5wdXRTdHlsZS5mb250RmFtaWx5O1xuXHRcdFx0cGxhY2Vob2xkZXJOb2RlLnN0eWxlLmZvbnRXZWlnaHQgPSBpbnB1dFN0eWxlLmZvbnRXZWlnaHQ7XG5cdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUuZm9udFN0eWxlID0gaW5wdXRTdHlsZS5mb250U3R5bGU7XG5cdFx0XHRwbGFjZWhvbGRlck5vZGUuc3R5bGUubGV0dGVyU3BhY2luZyA9IGlucHV0U3R5bGUubGV0dGVyU3BhY2luZztcblx0XHR9XG5cdH0sXG5cdHF1ZXVlVXBkYXRlSW5wdXRXaWR0aDogZnVuY3Rpb24gcXVldWVVcGRhdGVJbnB1dFdpZHRoKCkge1xuXHRcdG5leHRGcmFtZSh0aGlzLnVwZGF0ZUlucHV0V2lkdGgpO1xuXHR9LFxuXHR1cGRhdGVJbnB1dFdpZHRoOiBmdW5jdGlvbiB1cGRhdGVJbnB1dFdpZHRoKCkge1xuXHRcdGlmICghdGhpcy5pc01vdW50ZWQoKSB8fCB0eXBlb2YgdGhpcy5yZWZzLnNpemVyLnNjcm9sbFdpZHRoID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXIgbmV3SW5wdXRXaWR0aCA9IHVuZGVmaW5lZDtcblx0XHRpZiAodGhpcy5wcm9wcy5wbGFjZWhvbGRlcikge1xuXHRcdFx0bmV3SW5wdXRXaWR0aCA9IE1hdGgubWF4KHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCwgdGhpcy5yZWZzLnBsYWNlaG9sZGVyU2l6ZXIuc2Nyb2xsV2lkdGgpICsgMjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3SW5wdXRXaWR0aCA9IHRoaXMucmVmcy5zaXplci5zY3JvbGxXaWR0aCArIDI7XG5cdFx0fVxuXHRcdGlmIChuZXdJbnB1dFdpZHRoIDwgdGhpcy5wcm9wcy5taW5XaWR0aCkge1xuXHRcdFx0bmV3SW5wdXRXaWR0aCA9IHRoaXMucHJvcHMubWluV2lkdGg7XG5cdFx0fVxuXHRcdGlmIChuZXdJbnB1dFdpZHRoICE9PSB0aGlzLnN0YXRlLmlucHV0V2lkdGgpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpbnB1dFdpZHRoOiBuZXdJbnB1dFdpZHRoXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cdGdldElucHV0OiBmdW5jdGlvbiBnZXRJbnB1dCgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZWZzLmlucHV0O1xuXHR9LFxuXHRmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG5cdFx0dGhpcy5yZWZzLmlucHV0LmZvY3VzKCk7XG5cdH0sXG5cdGJsdXI6IGZ1bmN0aW9uIGJsdXIoKSB7XG5cdFx0dGhpcy5yZWZzLmlucHV0LmJsdXIoKTtcblx0fSxcblx0c2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoKSB7XG5cdFx0dGhpcy5yZWZzLmlucHV0LnNlbGVjdCgpO1xuXHR9LFxuXHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHR2YXIgZXNjYXBlZFZhbHVlID0gKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIHx8IHRoaXMucHJvcHMudmFsdWUgfHwgJycpLnJlcGxhY2UoL1xcJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC8gL2csICcmbmJzcDsnKS5yZXBsYWNlKC9cXDwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXD4vZywgJyZndDsnKTtcblx0XHR2YXIgd3JhcHBlclN0eWxlID0gdGhpcy5wcm9wcy5zdHlsZSB8fCB7fTtcblx0XHRpZiAoIXdyYXBwZXJTdHlsZS5kaXNwbGF5KSB3cmFwcGVyU3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuXHRcdHZhciBpbnB1dFN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuaW5wdXRTdHlsZSk7XG5cdFx0aW5wdXRTdHlsZS53aWR0aCA9IHRoaXMuc3RhdGUuaW5wdXRXaWR0aDtcblx0XHRpbnB1dFN0eWxlLmJveFNpemluZyA9ICdjb250ZW50LWJveCc7XG5cdFx0dmFyIHBsYWNlaG9sZGVyID0gdGhpcy5wcm9wcy5wbGFjZWhvbGRlciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdHsgcmVmOiAncGxhY2Vob2xkZXJTaXplcicsIHN0eWxlOiBzaXplclN0eWxlIH0sXG5cdFx0XHR0aGlzLnByb3BzLnBsYWNlaG9sZGVyXG5cdFx0KSA6IG51bGw7XG5cdFx0cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSwgc3R5bGU6IHdyYXBwZXJTdHlsZSB9LFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyByZWY6ICdpbnB1dCcsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5pbnB1dENsYXNzTmFtZSwgc3R5bGU6IGlucHV0U3R5bGUgfSkpLFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyByZWY6ICdzaXplcicsIHN0eWxlOiBzaXplclN0eWxlLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGVzY2FwZWRWYWx1ZSB9IH0pLFxuXHRcdFx0cGxhY2Vob2xkZXJcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBdXRvc2l6ZUlucHV0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXNlbGVjdC9+L3JlYWN0LWlucHV0LWF1dG9zaXplL2xpYi9BdXRvc2l6ZUlucHV0LmpzXG4gKiogbW9kdWxlIGlkID0gNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdEFkZG9uc1VwZGF0ZSA9IHJlcXVpcmUoXCJyZWFjdC1hZGRvbnMtdXBkYXRlXCIpO1xuXG52YXIgX3JlYWN0QWRkb25zVXBkYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0QWRkb25zVXBkYXRlKTtcblxudmFyIF9Ub2FzdE1lc3NhZ2UgPSByZXF1aXJlKFwiLi9Ub2FzdE1lc3NhZ2VcIik7XG5cbnZhciBfVG9hc3RNZXNzYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvYXN0TWVzc2FnZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRvYXN0Q29udGFpbmVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRvYXN0Q29udGFpbmVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUb2FzdENvbnRhaW5lcigpIHtcbiAgICB2YXIgX09iamVjdCRnZXRQcm90b3R5cGVPO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb2FzdENvbnRhaW5lcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfT2JqZWN0JGdldFByb3RvdHlwZU8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG9hc3RDb250YWluZXIpKS5jYWxsLmFwcGx5KF9PYmplY3QkZ2V0UHJvdG90eXBlTywgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgdG9hc3RzOiBbXSxcbiAgICAgIHRvYXN0SWQ6IDAsXG4gICAgICBwcmV2aW91c01lc3NhZ2U6IG51bGxcbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUb2FzdENvbnRhaW5lciwgW3tcbiAgICBrZXk6IFwiZXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgdGhpcy5fbm90aWZ5KHRoaXMucHJvcHMudG9hc3RUeXBlLmVycm9yLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5mb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbmZvKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcbiAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5pbmZvLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3VjY2Vzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWNjZXNzKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcbiAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5zdWNjZXNzLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwid2FybmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcbiAgICAgIHRoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS53YXJuaW5nLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgT2JqZWN0LmtleXModGhpcy5yZWZzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX3RoaXMyLnJlZnNba2V5XS5oaWRlVG9hc3QoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9ub3RpZnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX25vdGlmeSh0eXBlLCBtZXNzYWdlLCB0aXRsZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zT3ZlcnJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMucHJldmVudER1cGxpY2F0ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucHJldmlvdXNNZXNzYWdlID09PSBtZXNzYWdlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gdGhpcy5zdGF0ZS50b2FzdElkKys7XG4gICAgICB2YXIgdG9hc3RJZCA9IGtleTtcbiAgICAgIHZhciBuZXdUb2FzdCA9ICgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKG9wdGlvbnNPdmVycmlkZSwge1xuICAgICAgICAkbWVyZ2U6IHtcbiAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgIHRvYXN0SWQ6IHRvYXN0SWQsXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcmVmOiBcInRvYXN0c19fXCIgKyBrZXksXG4gICAgICAgICAgaGFuZGxlT25DbGljazogZnVuY3Rpb24gaGFuZGxlT25DbGljayhlKSB7XG4gICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9uc092ZXJyaWRlLmhhbmRsZU9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgb3B0aW9uc092ZXJyaWRlLmhhbmRsZU9uQ2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2hhbmRsZV90b2FzdF9vbl9jbGljayhlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhhbmRsZVJlbW92ZTogdGhpcy5faGFuZGxlX3RvYXN0X3JlbW92ZS5iaW5kKHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIHRvYXN0T3BlcmF0aW9uID0gX2RlZmluZVByb3BlcnR5KHt9LCBcIlwiICsgKHRoaXMucHJvcHMubmV3ZXN0T25Ub3AgPyBcIiR1bnNoaWZ0XCIgOiBcIiRwdXNoXCIpLCBbbmV3VG9hc3RdKTtcblxuICAgICAgdmFyIG5leHRTdGF0ZSA9ICgwLCBfcmVhY3RBZGRvbnNVcGRhdGUyLmRlZmF1bHQpKHRoaXMuc3RhdGUsIHtcbiAgICAgICAgdG9hc3RzOiB0b2FzdE9wZXJhdGlvbixcbiAgICAgICAgcHJldmlvdXNNZXNzYWdlOiB7ICRzZXQ6IG1lc3NhZ2UgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9oYW5kbGVfdG9hc3Rfb25fY2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZV90b2FzdF9vbl9jbGljayhldmVudCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKGV2ZW50KTtcbiAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZV90b2FzdF9yZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZV90b2FzdF9yZW1vdmUodG9hc3RJZCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBvcGVyYXRpb25OYW1lID0gXCJcIiArICh0aGlzLnByb3BzLm5ld2VzdE9uVG9wID8gXCJyZWR1Y2VSaWdodFwiIDogXCJyZWR1Y2VcIik7XG4gICAgICB0aGlzLnN0YXRlLnRvYXN0c1tvcGVyYXRpb25OYW1lXShmdW5jdGlvbiAoZm91bmQsIHRvYXN0LCBpbmRleCkge1xuICAgICAgICBpZiAoZm91bmQgfHwgdG9hc3QudG9hc3RJZCAhPT0gdG9hc3RJZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpczQuc2V0U3RhdGUoKDAsIF9yZWFjdEFkZG9uc1VwZGF0ZTIuZGVmYXVsdCkoX3RoaXM0LnN0YXRlLCB7XG4gICAgICAgICAgdG9hc3RzOiB7ICRzcGxpY2U6IFtbaW5kZXgsIDFdXSB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiLCByb2xlOiBcImFsZXJ0XCIgfSksXG4gICAgICAgIHRoaXMuc3RhdGUudG9hc3RzLm1hcChmdW5jdGlvbiAodG9hc3QpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM1LnByb3BzLnRvYXN0TWVzc2FnZUZhY3RvcnkodG9hc3QpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVG9hc3RDb250YWluZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5Ub2FzdENvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG4gIHRvYXN0VHlwZTogX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgZXJyb3I6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGluZm86IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHN1Y2Nlc3M6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHdhcm5pbmc6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG4gIH0pLmlzUmVxdWlyZWQsXG4gIGlkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICB0b2FzdE1lc3NhZ2VGYWN0b3J5OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgcHJldmVudER1cGxpY2F0ZXM6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBuZXdlc3RPblRvcDogX3JlYWN0LlByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG9uQ2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuVG9hc3RDb250YWluZXIuZGVmYXVsdFByb3BzID0ge1xuICB0b2FzdFR5cGU6IHtcbiAgICBlcnJvcjogXCJlcnJvclwiLFxuICAgIGluZm86IFwiaW5mb1wiLFxuICAgIHN1Y2Nlc3M6IFwic3VjY2Vzc1wiLFxuICAgIHdhcm5pbmc6IFwid2FybmluZ1wiXG4gIH0sXG4gIGlkOiBcInRvYXN0LWNvbnRhaW5lclwiLFxuICB0b2FzdE1lc3NhZ2VGYWN0b3J5OiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRmFjdG9yeShfVG9hc3RNZXNzYWdlMi5kZWZhdWx0KSxcbiAgcHJldmVudER1cGxpY2F0ZXM6IGZhbHNlLFxuICBuZXdlc3RPblRvcDogdHJ1ZSxcbiAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHt9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gVG9hc3RDb250YWluZXI7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdENvbnRhaW5lci5qc1xuICoqIG1vZHVsZSBpZCA9IDQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9SZWFjdFRyYW5zaXRpb25FdmVudHMgPSByZXF1aXJlKFwicmVhY3QvbGliL1JlYWN0VHJhbnNpdGlvbkV2ZW50c1wiKTtcblxudmFyIF9SZWFjdFRyYW5zaXRpb25FdmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVhY3RUcmFuc2l0aW9uRXZlbnRzKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX2VsZW1lbnRDbGFzcyA9IHJlcXVpcmUoXCJlbGVtZW50LWNsYXNzXCIpO1xuXG52YXIgX2VsZW1lbnRDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbGVtZW50Q2xhc3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVElDSyA9IDE3O1xudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zaXRpb246IG51bGwsIC8vIHNvbWUgZXhhbXBsZXMgZGVmaW5lZCBpbiBpbmRleC5zY3NzIChzY2FsZSwgZmFkZUluT3V0LCByb3RhdGUpXG4gICAgICBzaG93QW5pbWF0aW9uOiBcImFuaW1hdGVkIGJvdW5jZUluXCIsIC8vIG9yIG90aGVyIGFuaW1hdGlvbnMgZnJvbSBhbmltYXRlLmNzc1xuICAgICAgaGlkZUFuaW1hdGlvbjogXCJhbmltYXRlZCBib3VuY2VPdXRcIixcbiAgICAgIHRpbWVPdXQ6IDUwMDAsXG4gICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDBcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlID0gW107XG4gICAgdGhpcy5pc0hpZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5faXNfbW91bnRlZCA9IHRydWU7XG4gICAgdGhpcy5fc2hvdygpO1xuICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgdmFyIG9uSGlkZUNvbXBsZXRlID0gZnVuY3Rpb24gb25IaWRlQ29tcGxldGUoKSB7XG4gICAgICBpZiAoX3RoaXMuaXNIaWRpbmcpIHtcbiAgICAgICAgX3RoaXMuX3NldF9pc19oaWRpbmcoZmFsc2UpO1xuICAgICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgb25IaWRlQ29tcGxldGUpO1xuICAgICAgICBfdGhpcy5faGFuZGxlX3JlbW92ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIG9uSGlkZUNvbXBsZXRlKTtcblxuICAgIGlmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwKSB7XG4gICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy50aW1lT3V0KSk7XG4gICAgfVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5faXNfbW91bnRlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsSWQpO1xuICAgIH1cbiAgfSxcbiAgX3NldF90cmFuc2l0aW9uOiBmdW5jdGlvbiBfc2V0X3RyYW5zaXRpb24oaGlkZSkge1xuICAgIHZhciBhbmltYXRpb25UeXBlID0gaGlkZSA/IFwibGVhdmVcIiA6IFwiZW50ZXJcIjtcbiAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy50cmFuc2l0aW9uICsgXCItXCIgKyBhbmltYXRpb25UeXBlO1xuICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBjbGFzc05hbWUgKyBcIi1hY3RpdmVcIjtcblxuICAgIHZhciBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGVuZExpc3RlbmVyKGUpIHtcbiAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBub2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsYXNzTGlzdCA9ICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKTtcbiAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgIGNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcbiAgICB9O1xuXG4gICAgX1JlYWN0VHJhbnNpdGlvbkV2ZW50czIuZGVmYXVsdC5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcblxuICAgICgwLCBfZWxlbWVudENsYXNzMi5kZWZhdWx0KShub2RlKS5hZGQoY2xhc3NOYW1lKTtcblxuICAgIC8vIE5lZWQgdG8gZG8gdGhpcyB0byBhY3R1YWxseSB0cmlnZ2VyIGEgdHJhbnNpdGlvbi5cbiAgICB0aGlzLl9xdWV1ZV9jbGFzcyhhY3RpdmVDbGFzc05hbWUpO1xuICB9LFxuICBfY2xlYXJfdHJhbnNpdGlvbjogZnVuY3Rpb24gX2NsZWFyX3RyYW5zaXRpb24oaGlkZSkge1xuICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIHZhciBhbmltYXRpb25UeXBlID0gaGlkZSA/IFwibGVhdmVcIiA6IFwiZW50ZXJcIjtcbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy50cmFuc2l0aW9uICsgXCItXCIgKyBhbmltYXRpb25UeXBlO1xuICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBjbGFzc05hbWUgKyBcIi1hY3RpdmVcIjtcblxuICAgIHZhciBjbGFzc0xpc3QgPSAoMCwgX2VsZW1lbnRDbGFzczIuZGVmYXVsdCkobm9kZSk7XG4gICAgY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgIGNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3NOYW1lKTtcbiAgfSxcbiAgX3NldF9hbmltYXRpb246IGZ1bmN0aW9uIF9zZXRfYW5pbWF0aW9uKGhpZGUpIHtcbiAgICB2YXIgbm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IHRoaXMuX2dldF9hbmltYXRpb25fY2xhc3NlcyhoaWRlKTtcbiAgICB2YXIgZW5kTGlzdGVuZXIgPSBmdW5jdGlvbiBlbmRMaXN0ZW5lcihlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLnJlbW92ZShhbmltKTtcbiAgICAgIH0pO1xuXG4gICAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuICAgIH07XG5cbiAgICBfUmVhY3RUcmFuc2l0aW9uRXZlbnRzMi5kZWZhdWx0LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXG4gICAgYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLmFkZChhbmltKTtcbiAgICB9KTtcbiAgfSxcbiAgX2dldF9hbmltYXRpb25fY2xhc3NlczogZnVuY3Rpb24gX2dldF9hbmltYXRpb25fY2xhc3NlcyhoaWRlKSB7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSBoaWRlID8gdGhpcy5wcm9wcy5oaWRlQW5pbWF0aW9uIDogdGhpcy5wcm9wcy5zaG93QW5pbWF0aW9uO1xuICAgIGlmIChcIltvYmplY3QgQXJyYXldXCIgPT09IHRvU3RyaW5nLmNhbGwoYW5pbWF0aW9ucykpIHtcbiAgICAgIHJldHVybiBhbmltYXRpb25zO1xuICAgIH0gZWxzZSBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFuaW1hdGlvbnMpIHtcbiAgICAgIHJldHVybiBhbmltYXRpb25zLnNwbGl0KFwiIFwiKTtcbiAgICB9XG4gIH0sXG4gIF9jbGVhcl9hbmltYXRpb246IGZ1bmN0aW9uIF9jbGVhcl9hbmltYXRpb24oaGlkZSkge1xuICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5fZ2V0X2FuaW1hdGlvbl9jbGFzc2VzKGhpZGUpO1xuICAgIGFuaW1hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLnJlbW92ZShhbmltYXRpb24pO1xuICAgIH0pO1xuICB9LFxuICBfcXVldWVfY2xhc3M6IGZ1bmN0aW9uIF9xdWV1ZV9jbGFzcyhjbGFzc05hbWUpIHtcbiAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlLnB1c2goY2xhc3NOYW1lKTtcblxuICAgIGlmICghdGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUsIFRJQ0spO1xuICAgIH1cbiAgfSxcbiAgX2ZsdXNoX2NsYXNzX25hbWVfcXVldWU6IGZ1bmN0aW9uIF9mbHVzaF9jbGFzc19uYW1lX3F1ZXVlKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuX2lzX21vdW50ZWQpIHtcbiAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKF90aGlzMik7XG4gICAgICAgIF90aGlzMi5jbGFzc05hbWVRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF9lbGVtZW50Q2xhc3MyLmRlZmF1bHQpKG5vZGUpLmFkZChjbGFzc05hbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pKCk7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NOYW1lUXVldWUubGVuZ3RoID0gMDtcbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICB9LFxuICBfc2hvdzogZnVuY3Rpb24gX3Nob3coKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy5fc2V0X3RyYW5zaXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2hvd0FuaW1hdGlvbikge1xuICAgICAgdGhpcy5fc2V0X2FuaW1hdGlvbigpO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlTW91c2VFbnRlcjogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbElkKTtcbiAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQobnVsbCk7XG4gICAgaWYgKHRoaXMuaXNIaWRpbmcpIHtcbiAgICAgIHRoaXMuX3NldF9pc19oaWRpbmcoZmFsc2UpO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5oaWRlQW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyX2FuaW1hdGlvbih0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyX3RyYW5zaXRpb24odHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBoYW5kbGVNb3VzZUxlYXZlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUxlYXZlKCkge1xuICAgIGlmICghdGhpcy5pc0hpZGluZyAmJiAodGhpcy5wcm9wcy50aW1lT3V0ID4gMCB8fCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCA+IDApKSB7XG4gICAgICB0aGlzLl9zZXRfaW50ZXJ2YWxfaWQoc2V0VGltZW91dCh0aGlzLmhpZGVUb2FzdCwgdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQpKTtcbiAgICB9XG4gIH0sXG4gIGhpZGVUb2FzdDogZnVuY3Rpb24gaGlkZVRvYXN0KG92ZXJyaWRlKSB7XG4gICAgaWYgKHRoaXMuaXNIaWRpbmcgfHwgdGhpcy5pbnRlcnZhbElkID09PSBudWxsICYmICFvdmVycmlkZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NldF9pc19oaWRpbmcodHJ1ZSk7XG4gICAgaWYgKHRoaXMucHJvcHMudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy5fc2V0X3RyYW5zaXRpb24odHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhpZGVBbmltYXRpb24pIHtcbiAgICAgIHRoaXMuX3NldF9hbmltYXRpb24odHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZV9yZW1vdmUoKTtcbiAgICB9XG4gIH0sXG4gIF9zZXRfaW50ZXJ2YWxfaWQ6IGZ1bmN0aW9uIF9zZXRfaW50ZXJ2YWxfaWQoaW50ZXJ2YWxJZCkge1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IGludGVydmFsSWQ7XG4gIH0sXG4gIF9zZXRfaXNfaGlkaW5nOiBmdW5jdGlvbiBfc2V0X2lzX2hpZGluZyhpc0hpZGluZykge1xuICAgIHRoaXMuaXNIaWRpbmcgPSBpc0hpZGluZztcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC10b2FzdHIvbGliL1RvYXN0TWVzc2FnZS9hbmltYXRpb25NaXhpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjYWxsX3Nob3dfbWV0aG9kKCRub2RlLCBwcm9wcykge1xuICAkbm9kZVtwcm9wcy5zaG93TWV0aG9kXSh7XG4gICAgZHVyYXRpb246IHByb3BzLnNob3dEdXJhdGlvbixcbiAgICBlYXNpbmc6IHByb3BzLnNob3dFYXNpbmdcbiAgfSk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiIH0sXG4gICAgICAvLyBlZmZlY3RpdmUgJC5oaWRlKClcbiAgICAgIHNob3dNZXRob2Q6IFwiZmFkZUluXCIsIC8vIHNsaWRlRG93biwgYW5kIHNob3cgYXJlIGJ1aWx0IGludG8galF1ZXJ5XG4gICAgICBzaG93RHVyYXRpb246IDMwMCxcbiAgICAgIHNob3dFYXNpbmc6IFwic3dpbmdcIiwgLy8gYW5kIGxpbmVhciBhcmUgYnVpbHQgaW50byBqUXVlcnlcbiAgICAgIGhpZGVNZXRob2Q6IFwiZmFkZU91dFwiLFxuICAgICAgaGlkZUR1cmF0aW9uOiAxMDAwLFxuICAgICAgaGlkZUVhc2luZzogXCJzd2luZ1wiLFxuICAgICAgLy9cbiAgICAgIHRpbWVPdXQ6IDUwMDAsXG4gICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDBcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW50ZXJ2YWxJZDogbnVsbCxcbiAgICAgIGlzSGlkaW5nOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjYWxsX3Nob3dfbWV0aG9kKHRoaXMuX2dldF8kX25vZGUoKSwgdGhpcy5wcm9wcyk7XG4gICAgaWYgKHRoaXMucHJvcHMudGltZU91dCA+IDApIHtcbiAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLnRpbWVPdXQpKTtcbiAgICB9XG4gIH0sXG4gIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RhdGUuaW50ZXJ2YWxJZCk7XG4gICAgdGhpcy5fc2V0X2ludGVydmFsX2lkKG51bGwpO1xuICAgIHRoaXMuX3NldF9pc19oaWRpbmcoZmFsc2UpO1xuXG4gICAgY2FsbF9zaG93X21ldGhvZCh0aGlzLl9nZXRfJF9ub2RlKCkuc3RvcCh0cnVlLCB0cnVlKSwgdGhpcy5wcm9wcyk7XG4gIH0sXG4gIGhhbmRsZU1vdXNlTGVhdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzSGlkaW5nICYmICh0aGlzLnByb3BzLnRpbWVPdXQgPiAwIHx8IHRoaXMucHJvcHMuZXh0ZW5kZWRUaW1lT3V0ID4gMCkpIHtcbiAgICAgIHRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LCB0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dCkpO1xuICAgIH1cbiAgfSxcbiAgaGlkZVRvYXN0OiBmdW5jdGlvbiBoaWRlVG9hc3Qob3ZlcnJpZGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0hpZGluZyB8fCB0aGlzLnN0YXRlLmludGVydmFsSWQgPT09IG51bGwgJiYgIW92ZXJyaWRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0hpZGluZzogdHJ1ZSB9KTtcblxuICAgIHRoaXMuX2dldF8kX25vZGUoKVt0aGlzLnByb3BzLmhpZGVNZXRob2RdKHtcbiAgICAgIGR1cmF0aW9uOiB0aGlzLnByb3BzLmhpZGVEdXJhdGlvbixcbiAgICAgIGVhc2luZzogdGhpcy5wcm9wcy5oaWRlRWFzaW5nLFxuICAgICAgY29tcGxldGU6IHRoaXMuX2hhbmRsZV9yZW1vdmVcbiAgICB9KTtcbiAgfSxcbiAgX2dldF8kX25vZGU6IGZ1bmN0aW9uIF9nZXRfJF9ub2RlKCkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG4gICAgcmV0dXJuIGpRdWVyeShfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcykpO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5kZWYgKi9cbiAgfSxcbiAgX3NldF9pbnRlcnZhbF9pZDogZnVuY3Rpb24gX3NldF9pbnRlcnZhbF9pZChpbnRlcnZhbElkKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbnRlcnZhbElkOiBpbnRlcnZhbElkXG4gICAgfSk7XG4gIH0sXG4gIF9zZXRfaXNfaGlkaW5nOiBmdW5jdGlvbiBfc2V0X2lzX2hpZGluZyhpc0hpZGluZykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNIaWRpbmc6IGlzSGlkaW5nXG4gICAgfSk7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QtdG9hc3RyL2xpYi9Ub2FzdE1lc3NhZ2UvalF1ZXJ5TWl4aW4uanNcbiAqKiBtb2R1bGUgaWQgPSA0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlRvYXN0TWVzc2FnZSA9IGV4cG9ydHMuVG9hc3RDb250YWluZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfVG9hc3RDb250YWluZXIgPSByZXF1aXJlKFwiLi9Ub2FzdENvbnRhaW5lclwiKTtcblxudmFyIF9Ub2FzdENvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2FzdENvbnRhaW5lcik7XG5cbnZhciBfVG9hc3RNZXNzYWdlID0gcmVxdWlyZShcIi4vVG9hc3RNZXNzYWdlXCIpO1xuXG52YXIgX1RvYXN0TWVzc2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2FzdE1lc3NhZ2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLlRvYXN0Q29udGFpbmVyID0gX1RvYXN0Q29udGFpbmVyMi5kZWZhdWx0O1xuZXhwb3J0cy5Ub2FzdE1lc3NhZ2UgPSBfVG9hc3RNZXNzYWdlMi5kZWZhdWx0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0LXRvYXN0ci9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRzKSB7XG4gIHJldHVybiBuZXcgRWxlbWVudENsYXNzKG9wdHMpXG59XG5cbmZ1bmN0aW9uIGluZGV4T2YoYXJyLCBwcm9wKSB7XG4gIGlmIChhcnIuaW5kZXhPZikgcmV0dXJuIGFyci5pbmRleE9mKHByb3ApXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgaWYgKGFycltpXSA9PT0gcHJvcCkgcmV0dXJuIGlcbiAgcmV0dXJuIC0xXG59XG5cbmZ1bmN0aW9uIEVsZW1lbnRDbGFzcyhvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBFbGVtZW50Q2xhc3MpKSByZXR1cm4gbmV3IEVsZW1lbnRDbGFzcyhvcHRzKVxuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKCFvcHRzKSBvcHRzID0ge31cblxuICAvLyBzaW1pbGFyIGRvaW5nIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgYnV0IHdvcmtzIGluIElFOFxuICBpZiAob3B0cy5ub2RlVHlwZSkgb3B0cyA9IHtlbDogb3B0c31cblxuICB0aGlzLm9wdHMgPSBvcHRzXG4gIHRoaXMuZWwgPSBvcHRzLmVsIHx8IGRvY3VtZW50LmJvZHlcbiAgaWYgKHR5cGVvZiB0aGlzLmVsICE9PSAnb2JqZWN0JykgdGhpcy5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5lbClcbn1cblxuRWxlbWVudENsYXNzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgdmFyIGVsID0gdGhpcy5lbFxuICBpZiAoIWVsKSByZXR1cm5cbiAgaWYgKGVsLmNsYXNzTmFtZSA9PT0gXCJcIikgcmV0dXJuIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZVxuICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpXG4gIGlmIChpbmRleE9mKGNsYXNzZXMsIGNsYXNzTmFtZSkgPiAtMSkgcmV0dXJuIGNsYXNzZXNcbiAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSlcbiAgZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJylcbiAgcmV0dXJuIGNsYXNzZXNcbn1cblxuRWxlbWVudENsYXNzLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgdmFyIGVsID0gdGhpcy5lbFxuICBpZiAoIWVsKSByZXR1cm5cbiAgaWYgKGVsLmNsYXNzTmFtZSA9PT0gXCJcIikgcmV0dXJuXG4gIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylcbiAgdmFyIGlkeCA9IGluZGV4T2YoY2xhc3NlcywgY2xhc3NOYW1lKVxuICBpZiAoaWR4ID4gLTEpIGNsYXNzZXMuc3BsaWNlKGlkeCwgMSlcbiAgZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJylcbiAgcmV0dXJuIGNsYXNzZXNcbn1cblxuRWxlbWVudENsYXNzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgdmFyIGVsID0gdGhpcy5lbFxuICBpZiAoIWVsKSByZXR1cm5cbiAgdmFyIGNsYXNzZXMgPSBlbC5jbGFzc05hbWUuc3BsaXQoJyAnKVxuICByZXR1cm4gaW5kZXhPZihjbGFzc2VzLCBjbGFzc05hbWUpID4gLTFcbn1cblxuRWxlbWVudENsYXNzLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgdmFyIGVsID0gdGhpcy5lbFxuICBpZiAoIWVsKSByZXR1cm5cbiAgaWYgKHRoaXMuaGFzKGNsYXNzTmFtZSkpIHRoaXMucmVtb3ZlKGNsYXNzTmFtZSlcbiAgZWxzZSB0aGlzLmFkZChjbGFzc05hbWUpXG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC10b2FzdHIvfi9lbGVtZW50LWNsYXNzL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBPYmplY3QuYXNzaWduXG4gKi9cblxuLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW9iamVjdC5hc3NpZ25cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2VzKSB7XG4gIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gdGFyZ2V0IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgZm9yICh2YXIgbmV4dEluZGV4ID0gMTsgbmV4dEluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgbmV4dEluZGV4KyspIHtcbiAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tuZXh0SW5kZXhdO1xuICAgIGlmIChuZXh0U291cmNlID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBmcm9tID0gT2JqZWN0KG5leHRTb3VyY2UpO1xuXG4gICAgLy8gV2UgZG9uJ3QgY3VycmVudGx5IHN1cHBvcnQgYWNjZXNzb3JzIG5vciBwcm94aWVzLiBUaGVyZWZvcmUgdGhpc1xuICAgIC8vIGNvcHkgY2Fubm90IHRocm93LiBJZiB3ZSBldmVyIHN1cHBvcnRlZCB0aGlzIHRoZW4gd2UgbXVzdCBoYW5kbGVcbiAgICAvLyBleGNlcHRpb25zIGFuZCBzaWRlLWVmZmVjdHMuIFdlIGRvbid0IHN1cHBvcnQgc3ltYm9scyBzbyB0aGV5IHdvbid0XG4gICAgLy8gYmUgdHJhbnNmZXJyZWQuXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuICAgICAgICB0b1trZXldID0gZnJvbVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QvbGliL09iamVjdC5hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VHJhbnNpdGlvbkV2ZW50c1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxuLyoqXG4gKiBFVkVOVF9OQU1FX01BUCBpcyB1c2VkIHRvIGRldGVybWluZSB3aGljaCBldmVudCBmaXJlZCB3aGVuIGFcbiAqIHRyYW5zaXRpb24vYW5pbWF0aW9uIGVuZHMsIGJhc2VkIG9uIHRoZSBzdHlsZSBwcm9wZXJ0eSB1c2VkIHRvXG4gKiBkZWZpbmUgdGhhdCBldmVudC5cbiAqL1xudmFyIEVWRU5UX05BTUVfTUFQID0ge1xuICB0cmFuc2l0aW9uZW5kOiB7XG4gICAgJ3RyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAnbW96VHJhbnNpdGlvbkVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAnbXNUcmFuc2l0aW9uJzogJ01TVHJhbnNpdGlvbkVuZCdcbiAgfSxcblxuICBhbmltYXRpb25lbmQ6IHtcbiAgICAnYW5pbWF0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ1dlYmtpdEFuaW1hdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pBbmltYXRpb24nOiAnbW96QW5pbWF0aW9uRW5kJyxcbiAgICAnT0FuaW1hdGlvbic6ICdvQW5pbWF0aW9uRW5kJyxcbiAgICAnbXNBbmltYXRpb24nOiAnTVNBbmltYXRpb25FbmQnXG4gIH1cbn07XG5cbnZhciBlbmRFdmVudHMgPSBbXTtcblxuZnVuY3Rpb24gZGV0ZWN0RXZlbnRzKCkge1xuICB2YXIgdGVzdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciBzdHlsZSA9IHRlc3RFbC5zdHlsZTtcblxuICAvLyBPbiBzb21lIHBsYXRmb3JtcywgaW4gcGFydGljdWxhciBzb21lIHJlbGVhc2VzIG9mIEFuZHJvaWQgNC54LFxuICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcbiAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG4gIC8vIHRvIGNoZWNrIGlmIHRoZSB1bi1wcmVmaXhlZCBldmVudHMgYXJlIHVzZWFibGUsIGFuZCBpZiBub3QgcmVtb3ZlIHRoZW1cbiAgLy8gZnJvbSB0aGUgbWFwXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSBFVkVOVF9OQU1FX01BUC5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICB9XG5cbiAgaWYgKCEoJ1RyYW5zaXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSBFVkVOVF9OQU1FX01BUC50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb247XG4gIH1cblxuICBmb3IgKHZhciBiYXNlRXZlbnROYW1lIGluIEVWRU5UX05BTUVfTUFQKSB7XG4gICAgdmFyIGJhc2VFdmVudHMgPSBFVkVOVF9OQU1FX01BUFtiYXNlRXZlbnROYW1lXTtcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gYmFzZUV2ZW50cykge1xuICAgICAgaWYgKHN0eWxlTmFtZSBpbiBzdHlsZSkge1xuICAgICAgICBlbmRFdmVudHMucHVzaChiYXNlRXZlbnRzW3N0eWxlTmFtZV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBkZXRlY3RFdmVudHMoKTtcbn1cblxuLy8gV2UgdXNlIHRoZSByYXcge2FkZHxyZW1vdmV9RXZlbnRMaXN0ZW5lcigpIGNhbGwgYmVjYXVzZSBFdmVudExpc3RlbmVyXG4vLyBkb2VzIG5vdCBrbm93IGhvdyB0byByZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFuZCB3ZSByZWFsbHkgc2hvdWxkXG4vLyBjbGVhbiB1cC4gQWxzbywgdGhlc2UgZXZlbnRzIGFyZSBub3QgdHJpZ2dlcmVkIGluIG9sZGVyIGJyb3dzZXJzXG4vLyBzbyB3ZSBzaG91bGQgYmUgQS1PSyBoZXJlLlxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lcikge1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBldmVudExpc3RlbmVyKSB7XG4gIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbn1cblxudmFyIFJlYWN0VHJhbnNpdGlvbkV2ZW50cyA9IHtcbiAgYWRkRW5kRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKG5vZGUsIGV2ZW50TGlzdGVuZXIpIHtcbiAgICBpZiAoZW5kRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gSWYgQ1NTIHRyYW5zaXRpb25zIGFyZSBub3Qgc3VwcG9ydGVkLCB0cmlnZ2VyIGFuIFwiZW5kIGFuaW1hdGlvblwiXG4gICAgICAvLyBldmVudCBpbW1lZGlhdGVseS5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGV2ZW50TGlzdGVuZXIsIDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZW5kRXZlbnQpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuICAgIH0pO1xuICB9LFxuXG4gIHJlbW92ZUVuZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChub2RlLCBldmVudExpc3RlbmVyKSB7XG4gICAgaWYgKGVuZEV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZW5kRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGVuZEV2ZW50KSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGVuZEV2ZW50LCBldmVudExpc3RlbmVyKTtcbiAgICB9KTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFRyYW5zaXRpb25FdmVudHM7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVhY3QvbGliL1JlYWN0VHJhbnNpdGlvbkV2ZW50cy5qc1xuICoqIG1vZHVsZSBpZCA9IDQ4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgdXBkYXRlXG4gKi9cblxuLyogZ2xvYmFsIGhhc093blByb3BlcnR5OnRydWUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9PYmplY3QuYXNzaWduJyk7XG52YXIga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIGhhc093blByb3BlcnR5ID0gKHt9KS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gc2hhbGxvd0NvcHkoeCkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHJldHVybiB4LmNvbmNhdCgpO1xuICB9IGVsc2UgaWYgKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGFzc2lnbihuZXcgeC5jb25zdHJ1Y3RvcigpLCB4KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geDtcbiAgfVxufVxuXG52YXIgQ09NTUFORF9QVVNIID0ga2V5T2YoeyAkcHVzaDogbnVsbCB9KTtcbnZhciBDT01NQU5EX1VOU0hJRlQgPSBrZXlPZih7ICR1bnNoaWZ0OiBudWxsIH0pO1xudmFyIENPTU1BTkRfU1BMSUNFID0ga2V5T2YoeyAkc3BsaWNlOiBudWxsIH0pO1xudmFyIENPTU1BTkRfU0VUID0ga2V5T2YoeyAkc2V0OiBudWxsIH0pO1xudmFyIENPTU1BTkRfTUVSR0UgPSBrZXlPZih7ICRtZXJnZTogbnVsbCB9KTtcbnZhciBDT01NQU5EX0FQUExZID0ga2V5T2YoeyAkYXBwbHk6IG51bGwgfSk7XG5cbnZhciBBTExfQ09NTUFORFNfTElTVCA9IFtDT01NQU5EX1BVU0gsIENPTU1BTkRfVU5TSElGVCwgQ09NTUFORF9TUExJQ0UsIENPTU1BTkRfU0VULCBDT01NQU5EX01FUkdFLCBDT01NQU5EX0FQUExZXTtcblxudmFyIEFMTF9DT01NQU5EU19TRVQgPSB7fTtcblxuQUxMX0NPTU1BTkRTX0xJU1QuZm9yRWFjaChmdW5jdGlvbiAoY29tbWFuZCkge1xuICBBTExfQ09NTUFORFNfU0VUW2NvbW1hbmRdID0gdHJ1ZTtcbn0pO1xuXG5mdW5jdGlvbiBpbnZhcmlhbnRBcnJheUNhc2UodmFsdWUsIHNwZWMsIGNvbW1hbmQpIHtcbiAgIUFycmF5LmlzQXJyYXkodmFsdWUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiBleHBlY3RlZCB0YXJnZXQgb2YgJXMgdG8gYmUgYW4gYXJyYXk7IGdvdCAlcy4nLCBjb21tYW5kLCB2YWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICB2YXIgc3BlY1ZhbHVlID0gc3BlY1tjb21tYW5kXTtcbiAgIUFycmF5LmlzQXJyYXkoc3BlY1ZhbHVlKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhbiBhcnJheTsgZ290ICVzLiAnICsgJ0RpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXIgaW4gYW4gYXJyYXk/JywgY29tbWFuZCwgc3BlY1ZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSh2YWx1ZSwgc3BlYykge1xuICAhKHR5cGVvZiBzcGVjID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IFlvdSBwcm92aWRlZCBhIGtleSBwYXRoIHRvIHVwZGF0ZSgpIHRoYXQgZGlkIG5vdCBjb250YWluIG9uZSAnICsgJ29mICVzLiBEaWQgeW91IGZvcmdldCB0byBpbmNsdWRlIHslczogLi4ufT8nLCBBTExfQ09NTUFORFNfTElTVC5qb2luKCcsICcpLCBDT01NQU5EX1NFVCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfU0VUKSkge1xuICAgICEoT2JqZWN0LmtleXMoc3BlYykubGVuZ3RoID09PSAxKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgaGF2ZSBtb3JlIHRoYW4gb25lIGtleSBpbiBhbiBvYmplY3Qgd2l0aCAlcycsIENPTU1BTkRfU0VUKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gc3BlY1tDT01NQU5EX1NFVF07XG4gIH1cblxuICB2YXIgbmV4dFZhbHVlID0gc2hhbGxvd0NvcHkodmFsdWUpO1xuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfTUVSR0UpKSB7XG4gICAgdmFyIG1lcmdlT2JqID0gc3BlY1tDT01NQU5EX01FUkdFXTtcbiAgICAhKG1lcmdlT2JqICYmIHR5cGVvZiBtZXJnZU9iaiA9PT0gJ29iamVjdCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZSgpOiAlcyBleHBlY3RzIGEgc3BlYyBvZiB0eXBlIFxcJ29iamVjdFxcJzsgZ290ICVzJywgQ09NTUFORF9NRVJHRSwgbWVyZ2VPYmopIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAhKG5leHRWYWx1ZSAmJiB0eXBlb2YgbmV4dFZhbHVlID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6ICVzIGV4cGVjdHMgYSB0YXJnZXQgb2YgdHlwZSBcXCdvYmplY3RcXCc7IGdvdCAlcycsIENPTU1BTkRfTUVSR0UsIG5leHRWYWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIGFzc2lnbihuZXh0VmFsdWUsIHNwZWNbQ09NTUFORF9NRVJHRV0pO1xuICB9XG5cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9QVVNIKSkge1xuICAgIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgQ09NTUFORF9QVVNIKTtcbiAgICBzcGVjW0NPTU1BTkRfUFVTSF0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgbmV4dFZhbHVlLnB1c2goaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1VOU0hJRlQpKSB7XG4gICAgaW52YXJpYW50QXJyYXlDYXNlKHZhbHVlLCBzcGVjLCBDT01NQU5EX1VOU0hJRlQpO1xuICAgIHNwZWNbQ09NTUFORF9VTlNISUZUXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBuZXh0VmFsdWUudW5zaGlmdChpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfU1BMSUNFKSkge1xuICAgICFBcnJheS5pc0FycmF5KHZhbHVlKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCAlcyB0YXJnZXQgdG8gYmUgYW4gYXJyYXk7IGdvdCAlcycsIENPTU1BTkRfU1BMSUNFLCB2YWx1ZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICFBcnJheS5pc0FycmF5KHNwZWNbQ09NTUFORF9TUExJQ0VdKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhbiBhcnJheSBvZiBhcnJheXM7IGdvdCAlcy4gJyArICdEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVycyBpbiBhbiBhcnJheT8nLCBDT01NQU5EX1NQTElDRSwgc3BlY1tDT01NQU5EX1NQTElDRV0pIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICBzcGVjW0NPTU1BTkRfU1BMSUNFXS5mb3JFYWNoKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAhQXJyYXkuaXNBcnJheShhcmdzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhbiBhcnJheSBvZiBhcnJheXM7IGdvdCAlcy4gJyArICdEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVycyBpbiBhbiBhcnJheT8nLCBDT01NQU5EX1NQTElDRSwgc3BlY1tDT01NQU5EX1NQTElDRV0pIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgIG5leHRWYWx1ZS5zcGxpY2UuYXBwbHkobmV4dFZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfQVBQTFkpKSB7XG4gICAgISh0eXBlb2Ygc3BlY1tDT01NQU5EX0FQUExZXSA9PT0gJ2Z1bmN0aW9uJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYSBmdW5jdGlvbjsgZ290ICVzLicsIENPTU1BTkRfQVBQTFksIHNwZWNbQ09NTUFORF9BUFBMWV0pIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICBuZXh0VmFsdWUgPSBzcGVjW0NPTU1BTkRfQVBQTFldKG5leHRWYWx1ZSk7XG4gIH1cblxuICBmb3IgKHZhciBrIGluIHNwZWMpIHtcbiAgICBpZiAoIShBTExfQ09NTUFORFNfU0VULmhhc093blByb3BlcnR5KGspICYmIEFMTF9DT01NQU5EU19TRVRba10pKSB7XG4gICAgICBuZXh0VmFsdWVba10gPSB1cGRhdGUodmFsdWVba10sIHNwZWNba10pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXh0VmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXBkYXRlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0L2xpYi91cGRhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSA0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEV4ZWN1dGlvbkVudmlyb25tZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLyoqXG4gKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG4gKiBXb3JrZXIuIEhlbHBzIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBhbmQgYWxsb3dzIGNvZGUgdG8gcmVhc29uIGFib3V0XG4gKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSBpbiBhIFdvcmtlciwgZXZlbiBpZiB0aGV5IG5ldmVyIGluY2x1ZGUgdGhlIG1haW5cbiAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cbiAqL1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG4gIGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG4gIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG4gIGNhblVzZUV2ZW50TGlzdGVuZXJzOiBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblxuICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0L34vZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanNcbiAqKiBtb2R1bGUgaWQgPSA1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGludmFyaWFudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0L34vZmJqcy9saWIvaW52YXJpYW50LmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBrZXlPZlxuICovXG5cbi8qKlxuICogQWxsb3dzIGV4dHJhY3Rpb24gb2YgYSBtaW5pZmllZCBrZXkuIExldCdzIHRoZSBidWlsZCBzeXN0ZW0gbWluaWZ5IGtleXNcbiAqIHdpdGhvdXQgbG9zaW5nIHRoZSBhYmlsaXR5IHRvIGR5bmFtaWNhbGx5IHVzZSBrZXkgc3RyaW5ncyBhcyB2YWx1ZXNcbiAqIHRoZW1zZWx2ZXMuIFBhc3MgaW4gYW4gb2JqZWN0IHdpdGggYSBzaW5nbGUga2V5L3ZhbCBwYWlyIGFuZCBpdCB3aWxsIHJldHVyblxuICogeW91IHRoZSBzdHJpbmcga2V5IG9mIHRoYXQgc2luZ2xlIHJlY29yZC4gU3VwcG9zZSB5b3Ugd2FudCB0byBncmFiIHRoZVxuICogdmFsdWUgZm9yIGEga2V5ICdjbGFzc05hbWUnIGluc2lkZSBvZiBhbiBvYmplY3QuIEtleS92YWwgbWluaWZpY2F0aW9uIG1heVxuICogaGF2ZSBhbGlhc2VkIHRoYXQga2V5IHRvIGJlICd4YTEyJy4ga2V5T2Yoe2NsYXNzTmFtZTogbnVsbH0pIHdpbGwgcmV0dXJuXG4gKiAneGExMicgaW4gdGhhdCBjYXNlLiBSZXNvbHZlIGtleXMgeW91IHdhbnQgdG8gdXNlIG9uY2UgYXQgc3RhcnR1cCB0aW1lLCB0aGVuXG4gKiByZXVzZSB0aG9zZSByZXNvbHV0aW9ucy5cbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrZXlPZiA9IGZ1bmN0aW9uIChvbmVLZXlPYmopIHtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gb25lS2V5T2JqKSB7XG4gICAgaWYgKCFvbmVLZXlPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU9mO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlYWN0L34vZmJqcy9saWIva2V5T2YuanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRpZihzb3VyY2VNYXApIHtcclxuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHJcblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblxyXG5cdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cclxuXHRpZihvbGRTcmMpXHJcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc3dpdGNoL2Fzc2V0cy9pbmRleC5jc3NcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9idWlsZGluL2FtZC1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvYnVpbGRpbi9hbWQtb3B0aW9ucy5qc1xuICoqIG1vZHVsZSBpZCA9IDU2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9